var tabviz=(function(be){"use strict";var Np=Object.defineProperty;var of=be=>{throw TypeError(be)};var Hp=(be,Oe,en)=>Oe in be?Np(be,Oe,{enumerable:!0,configurable:!0,writable:!0,value:en}):be[Oe]=en;var Ar=(be,Oe,en)=>Hp(be,typeof Oe!="symbol"?Oe+"":Oe,en),As=(be,Oe,en)=>Oe.has(be)||of("Cannot "+en);var V=(be,Oe,en)=>(As(be,Oe,"read from private field"),en?en.call(be):Oe.get(be)),le=(be,Oe,en)=>Oe.has(be)?of("Cannot add the same private member more than once"):Oe instanceof WeakSet?Oe.add(be):Oe.set(be,en),Vt=(be,Oe,en,Ha)=>(As(be,Oe,"write to private field"),Ha?Ha.call(be,en):Oe.set(be,en),en),Ze=(be,Oe,en)=>(As(be,Oe,"access private method"),en);var $c,Zc,Qo,ti,To,No,Pi,ei,ni,cn,Ws,Gi,Rs,af,sf,nr,rr,Ns,Cr,Ho,Tr,or,In,Nr,Or,no,Ao,ro,Wo,jr,wa,on,Ap,Wp,Is,Ta,Na,zs,gr,Hr,On,Ro,Di,Bi,ba,Kc;const gn=Symbol(),D=Symbol("filename"),lf="http://www.w3.org/1999/xhtml",Fs=(Zc=($c=globalThis.process)==null?void 0:$c.env)==null?void 0:Zc.NODE_ENV,ct=Fs&&!Fs.toLowerCase().startsWith("prod");var gi=Array.isArray,cf=Array.prototype.indexOf,Vi=Array.from,oo=Object.defineProperty,Fo=Object.getOwnPropertyDescriptor,Ls=Object.getOwnPropertyDescriptors,Ps=Object.prototype,ff=Array.prototype,Oi=Object.getPrototypeOf,Ds=Object.isExtensible;const Bs=()=>{};function uf(t){for(var e=0;e<t.length;e++)t[e]()}function Gs(){var t,e,r=new Promise((o,i)=>{t=o,e=i});return{promise:r,resolve:t,reject:e}}function Aa(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const r=[];for(const o of t)if(r.push(o),r.length===e)break;return r}const ln=2,Wa=4,Ra=8,df=1<<24,Wr=16,Rr=32,Ur=64,ji=128,ar=512,vn=1024,En=2048,mr=4096,Ln=8192,Xr=16384,Ia=32768,io=65536,qi=1<<17,Vs=1<<18,ao=1<<19,hf=1<<20,Ir=1<<25,Yr=32768,za=1<<21,Ui=1<<22,$r=1<<23,_r=Symbol("$state"),gf=Symbol(""),Os=Symbol("proxy path"),Lo=new class extends Error{constructor(){super(...arguments);Ar(this,"name","StaleReactionError");Ar(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}},vf=1,pf=11;function js(){if(ct){const t=new Error("invalid_snippet_arguments\nA snippet function was passed invalid arguments. Snippets should only be instantiated via `{@render ...}`\nhttps://svelte.dev/e/invalid_snippet_arguments");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/invalid_snippet_arguments")}function mf(){if(ct){const t=new Error("snippet_without_render_tag\nAttempted to render a snippet without a `{@render}` block. This would cause the snippet code to be stringified instead of its content being rendered to the DOM. To fix this, change `{snippet}` to `{@render snippet()}`.\nhttps://svelte.dev/e/snippet_without_render_tag");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/snippet_without_render_tag")}function _f(){if(ct){const t=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/async_derived_orphan")}function yf(t,e){if(ct){const r=new Error(`component_api_changed
Calling \`${t}\` on a component instance (of ${e}) is no longer valid in Svelte 5
https://svelte.dev/e/component_api_changed`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/component_api_changed")}function xf(t,e){if(ct){const r=new Error(`component_api_invalid_new
Attempted to instantiate ${t} with \`new ${e}\`, which is no longer valid in Svelte 5. If this component is not under your control, set the \`compatibility.componentApi\` compiler option to \`4\` to keep it working.
https://svelte.dev/e/component_api_invalid_new`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/component_api_invalid_new")}function wf(){if(ct){const t=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/derived_references_self")}function bf(t,e,r){if(ct){const o=new Error(`each_key_duplicate
${r?`Keyed each block has duplicate key \`${r}\` at indexes ${t} and ${e}`:`Keyed each block has duplicate key at indexes ${t} and ${e}`}
https://svelte.dev/e/each_key_duplicate`);throw o.name="Svelte error",o}else throw new Error("https://svelte.dev/e/each_key_duplicate")}function Mf(t){if(ct){const e=new Error(`effect_in_teardown
\`${t}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function Sf(){if(ct){const t=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ef(t){if(ct){const e=new Error(`effect_orphan
\`${t}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_orphan")}function kf(){if(ct){const t=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Cf(){if(ct){const t=new Error("invalid_snippet\nCould not `{@render}` snippet due to the expression being `null` or `undefined`. Consider using optional chaining `{@render snippet?.()}`\nhttps://svelte.dev/e/invalid_snippet");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/invalid_snippet")}function Tf(t){if(ct){const e=new Error(`rune_outside_svelte
The \`${t}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function Nf(){if(ct){const t=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Hf(){if(ct){const t=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Af(){if(ct){const t=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Wf(){if(ct){const t=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}var so="font-weight: bold",lo="font-weight: normal";function Rf(t){ct?console.warn(`%c[svelte] console_log_state
%cYour \`console.${t}\` contained \`$state\` proxies. Consider using \`$inspect(...)\` or \`$state.snapshot(...)\` instead
https://svelte.dev/e/console_log_state`,so,lo):console.warn("https://svelte.dev/e/console_log_state")}function If(t,e){ct?console.warn(`%c[svelte] event_handler_invalid
%c${t} should be a function. Did you mean to ${e}?
https://svelte.dev/e/event_handler_invalid`,so,lo):console.warn("https://svelte.dev/e/event_handler_invalid")}function zf(){ct?console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,so,lo):console.warn("https://svelte.dev/e/lifecycle_double_unmount")}function Ff(){ct?console.warn("%c[svelte] select_multiple_invalid_value\n%cThe `value` property of a `<select multiple>` element should be an array, but it received a non-array value. The selection will be kept as is.\nhttps://svelte.dev/e/select_multiple_invalid_value",so,lo):console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function vi(t){ct?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${t}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,so,lo):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}function Lf(){ct?console.warn(`%c[svelte] state_proxy_unmount
%cTried to unmount a state proxy, rather than a component
https://svelte.dev/e/state_proxy_unmount`,so,lo):console.warn("https://svelte.dev/e/state_proxy_unmount")}function Pf(){ct?console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",so,lo):console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Lp(t){}function qs(t){return t===this.v}function Us(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Xs(t){return!Us(t,this.v)}let Df=!1;var Bf="font-weight: bold",Gf="font-weight: normal";function Ys(t){ct?console.warn(`%c[svelte] state_snapshot_uncloneable
%c${t?`The following properties cannot be cloned with \`$state.snapshot\` — the return value contains the originals:

${t}`:"Value cannot be cloned with `$state.snapshot` — the original value was returned"}
https://svelte.dev/e/state_snapshot_uncloneable`,Bf,Gf):console.warn("https://svelte.dev/e/state_snapshot_uncloneable")}const Vf=[];function Of(t,e=!1,r=!1){if(ct&&!e){const o=[],i=pi(t,new Map,"",o,null,r);if(o.length===1&&o[0]==="")Ys();else if(o.length>0){const a=o.length>10?o.slice(0,7):o.slice(0,10),l=o.length-a.length;let c=a.map(f=>`- <value>${f}`).join(`
`);l>0&&(c+=`
- ...and ${l} more`),Ys(c)}return i}return pi(t,new Map,"",Vf,null,r)}function pi(t,e,r,o,i=null,a=!1){if(typeof t=="object"&&t!==null){var l=e.get(t);if(l!==void 0)return l;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(gi(t)){var c=Array(t.length);e.set(t,c),i!==null&&e.set(i,c);for(var f=0;f<t.length;f+=1){var s=t[f];f in t&&(c[f]=pi(s,e,ct?`${r}[${f}]`:r,o,null,a))}return c}if(Oi(t)===Ps){c={},e.set(t,c),i!==null&&e.set(i,c);for(var h in t)c[h]=pi(t[h],e,ct?`${r}.${h}`:r,o,null,a);return c}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function"&&!a)return pi(t.toJSON(),e,ct?`${r}.toJSON()`:r,o,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return ct&&o.push(r),t}}function p(t,e){return t.label=e,$s(t.v,e),t}function $s(t,e){var r;return(r=t==null?void 0:t[Os])==null||r.call(t,e),t}function jf(t){const e=new Error,r=qf();return r.length===0?null:(r.unshift(`
`),oo(e,"stack",{value:r.join(`
`)}),oo(e,"name",{value:t}),e)}function qf(){const t=Error.stackTraceLimit;Error.stackTraceLimit=1/0;const e=new Error().stack;if(Error.stackTraceLimit=t,!e)return[];const r=e.split(`
`),o=[];for(let i=0;i<r.length;i++){const a=r[i],l=a.replaceAll("\\","/");if(a.trim()!=="Error"){if(a.includes("validate_each_keys"))return[];l.includes("svelte/src/internal")||l.includes("node_modules/.vite")||o.push(a)}}return o}let Qe=null;function Po(t){Qe=t}let zr=null;function Xi(t){zr=t}function z(t,e,r,o,i,a){const l=zr;zr={type:e,file:r[D],line:o,column:i,parent:l,...a};try{return t()}finally{zr=l}}let Do=null;function Yi(t){Do=t}function Me(t,e=!1,r){Qe={p:Qe,i:!1,c:null,e:null,s:t,x:null,l:null},ct&&(Qe.function=r,Do=r)}function Se(t){var e=Qe,r=e.e;if(r!==null){e.e=null;for(var o of r)ul(o)}return t!==void 0&&(e.x=t),e.i=!0,Qe=e.p,ct&&(Do=(Qe==null?void 0:Qe.function)??null),t??{}}function Zs(){return!0}let co=[];function Ks(){var t=co;co=[],uf(t)}function Bo(t){if(co.length===0&&!mi){var e=co;queueMicrotask(()=>{e===co&&Ks()})}co.push(t)}function Uf(){for(;co.length>0;)Ks()}const Fa=new WeakMap;function Js(t){var e=me;if(e===null)return Qt.f|=$r,t;if(ct&&t instanceof Error&&!Fa.has(t)&&Fa.set(t,Xf(t,e)),(e.f&Ia)===0){if((e.f&ji)===0)throw ct&&!e.parent&&t instanceof Error&&Qs(t),t;e.b.error(t)}else Go(t,e)}function Go(t,e){for(;e!==null;){if((e.f&ji)!==0)try{e.b.error(t);return}catch(r){t=r}e=e.parent}throw ct&&t instanceof Error&&Qs(t),t}function Xf(t,e){var l,c,f;const r=Fo(t,"message");if(!(r&&!r.configurable)){for(var o=Oa?"  ":"	",i=`
${o}in ${((l=e.fn)==null?void 0:l.name)||"<unknown>"}`,a=e.ctx;a!==null;)i+=`
${o}in ${(c=a.function)==null?void 0:c[D].split("/").pop()}`,a=a.p;return{message:t.message+`
${i}
`,stack:(f=t.stack)==null?void 0:f.split(`
`).filter(s=>!s.includes("svelte/src/internal")).join(`
`)}}}function Qs(t){const e=Fa.get(t);e&&(oo(t,"message",{value:e.message}),oo(t,"stack",{value:e.stack}))}const $i=new Set;let ce=null,Ke=null,qn=[],Zi=null,La=!1,mi=!1;const xa=class xa{constructor(){le(this,cn);Ar(this,"committed",!1);Ar(this,"current",new Map);Ar(this,"previous",new Map);le(this,Qo,new Set);le(this,ti,new Set);le(this,To,0);le(this,No,0);le(this,Pi,null);le(this,ei,new Set);le(this,ni,new Set);Ar(this,"skipped_effects",new Set);Ar(this,"is_fork",!1)}is_deferred(){return this.is_fork||V(this,No)>0}process(e){var o;qn=[],this.apply();var r={parent:null,effect:null,effects:[],render_effects:[]};for(const i of e)Ze(this,cn,Ws).call(this,i,r);this.is_fork||Ze(this,cn,af).call(this),this.is_deferred()?(Ze(this,cn,Gi).call(this,r.effects),Ze(this,cn,Gi).call(this,r.render_effects)):(ce=null,el(r.render_effects),el(r.effects),(o=V(this,Pi))==null||o.resolve()),Ke=null}capture(e,r){this.previous.has(e)||this.previous.set(e,r),(e.f&$r)===0&&(this.current.set(e,e.v),Ke==null||Ke.set(e,e.v))}activate(){ce=this,this.apply()}deactivate(){ce===this&&(ce=null,Ke=null)}flush(){if(this.activate(),qn.length>0){if(tl(),ce!==null&&ce!==this)return}else V(this,To)===0&&this.process([]);this.deactivate()}discard(){for(const e of V(this,ti))e(this);V(this,ti).clear()}increment(e){Vt(this,To,V(this,To)+1),e&&Vt(this,No,V(this,No)+1)}decrement(e){Vt(this,To,V(this,To)-1),e&&Vt(this,No,V(this,No)-1),this.revive()}revive(){for(const e of V(this,ei))V(this,ni).delete(e),pn(e,En),fo(e);for(const e of V(this,ni))pn(e,mr),fo(e);this.flush()}oncommit(e){V(this,Qo).add(e)}ondiscard(e){V(this,ti).add(e)}settled(){return(V(this,Pi)??Vt(this,Pi,Gs())).promise}static ensure(){if(ce===null){const e=ce=new xa;$i.add(ce),mi||xa.enqueue(()=>{ce===e&&e.flush()})}return ce}static enqueue(e){Bo(e)}apply(){}};Qo=new WeakMap,ti=new WeakMap,To=new WeakMap,No=new WeakMap,Pi=new WeakMap,ei=new WeakMap,ni=new WeakMap,cn=new WeakSet,Ws=function(e,r){var h;e.f^=vn;for(var o=e.first;o!==null;){var i=o.f,a=(i&(Rr|Ur))!==0,l=a&&(i&vn)!==0,c=l||(i&Ln)!==0||this.skipped_effects.has(o);if((o.f&ji)!==0&&((h=o.b)!=null&&h.is_pending())&&(r={parent:r,effect:o,effects:[],render_effects:[]}),!c&&o.fn!==null){a?o.f^=vn:(i&Wa)!==0?r.effects.push(o):bi(o)&&((o.f&Wr)!==0&&V(this,ei).add(o),Mi(o));var f=o.first;if(f!==null){o=f;continue}}var s=o.parent;for(o=o.next;o===null&&s!==null;)s===r.effect&&(Ze(this,cn,Gi).call(this,r.effects),Ze(this,cn,Gi).call(this,r.render_effects),r=r.parent),o=s.next,s=s.parent}},Gi=function(e){for(const r of e)(r.f&En)!==0?V(this,ei).add(r):(r.f&mr)!==0&&V(this,ni).add(r),Ze(this,cn,Rs).call(this,r.deps),pn(r,vn)},Rs=function(e){if(e!==null)for(const r of e)(r.f&ln)===0||(r.f&Yr)===0||(r.f^=Yr,Ze(this,cn,Rs).call(this,r.deps))},af=function(){if(V(this,No)===0){for(const e of V(this,Qo))e();V(this,Qo).clear()}V(this,To)===0&&Ze(this,cn,sf).call(this)},sf=function(){var a;if($i.size>1){this.previous.clear();var e=Ke,r=!0,o={parent:null,effect:null,effects:[],render_effects:[]};for(const l of $i){if(l===this){r=!1;continue}const c=[];for(const[s,h]of this.current){if(l.current.has(s))if(r&&h!==l.current.get(s))l.current.set(s,h);else continue;c.push(s)}if(c.length===0)continue;const f=[...l.current.keys()].filter(s=>!this.current.has(s));if(f.length>0){var i=qn;qn=[];const s=new Set,h=new Map;for(const d of c)nl(d,f,s,h);if(qn.length>0){ce=l,l.apply();for(const d of qn)Ze(a=l,cn,Ws).call(a,d,o);l.deactivate()}qn=i}}ce=null,Ke=e}this.committed=!0,$i.delete(this)};let yr=xa;function Yf(t){var e=mi;mi=!0;try{for(var r;;){if(Uf(),qn.length===0&&(ce==null||ce.flush(),qn.length===0))return Zi=null,r;tl()}}finally{mi=e}}function tl(){var t=vo;La=!0;var e=ct?new Set:null;try{var r=0;for(ea(!0);qn.length>0;){var o=yr.ensure();if(r++>1e3){if(ct){var i=new Map;for(const l of o.current.keys())for(const[c,f]of l.updated??[]){var a=i.get(c);a||(a={error:f.error,count:0},i.set(c,a)),a.count+=f.count}for(const l of i.values())l.error&&console.error(l.error)}$f()}if(o.process(qn),Zr.clear(),ct)for(const l of o.current.keys())e.add(l)}}finally{if(La=!1,ea(t),Zi=null,ct)for(const l of e)l.updated=null}}function $f(){try{kf()}catch(t){ct&&oo(t,"stack",{value:""}),Go(t,Zi)}}let sr=null;function el(t){var e=t.length;if(e!==0){for(var r=0;r<e;){var o=t[r++];if((o.f&(Xr|Ln))===0&&bi(o)&&(sr=new Set,Mi(o),o.deps===null&&o.first===null&&o.nodes===null&&(o.teardown===null&&o.ac===null?vl(o):o.fn=null),(sr==null?void 0:sr.size)>0)){Zr.clear();for(const i of sr){if((i.f&(Xr|Ln))!==0)continue;const a=[i];let l=i.parent;for(;l!==null;)sr.has(l)&&(sr.delete(l),a.push(l)),l=l.parent;for(let c=a.length-1;c>=0;c--){const f=a[c];(f.f&(Xr|Ln))===0&&Mi(f)}}sr.clear()}}sr=null}}function nl(t,e,r,o){if(!r.has(t)&&(r.add(t),t.reactions!==null))for(const i of t.reactions){const a=i.f;(a&ln)!==0?nl(i,e,r,o):(a&(Ui|Wr))!==0&&(a&En)===0&&rl(i,e,o)&&(pn(i,En),fo(i))}}function rl(t,e,r){const o=r.get(t);if(o!==void 0)return o;if(t.deps!==null)for(const i of t.deps){if(e.includes(i))return!0;if((i.f&ln)!==0&&rl(i,e,r))return r.set(i,!0),!0}return r.set(t,!1),!1}function fo(t){for(var e=Zi=t;e.parent!==null;){e=e.parent;var r=e.f;if(La&&e===me&&(r&Wr)!==0&&(r&Vs)===0)return;if((r&(Ur|Rr))!==0){if((r&vn)===0)return;e.f^=vn}}qn.push(e)}function Zf(t){let e=0,r=uo(0),o;return ct&&p(r,"createSubscriber version"),()=>{xi()&&(n(r),Qi(()=>(e===0&&(o=ra(()=>t(()=>_i(r)))),e+=1,()=>{Bo(()=>{e-=1,e===0&&(o==null||o(),o=void 0,_i(r))})})))}}var Kf=io|ao|ji;function Jf(t,e,r){new Qf(t,e,r)}class Qf{constructor(e,r,o){le(this,on);Ar(this,"parent");le(this,nr,!1);le(this,rr);le(this,Ns,null);le(this,Cr);le(this,Ho);le(this,Tr);le(this,or,null);le(this,In,null);le(this,Nr,null);le(this,Or,null);le(this,no,null);le(this,Ao,0);le(this,ro,0);le(this,Wo,!1);le(this,jr,null);le(this,wa,Zf(()=>(Vt(this,jr,uo(V(this,Ao))),ct&&p(V(this,jr),"$effect.pending()"),()=>{Vt(this,jr,null)})));Vt(this,rr,e),Vt(this,Cr,r),Vt(this,Ho,o),this.parent=me.b,Vt(this,nr,!!V(this,Cr).pending),Vt(this,Tr,ta(()=>{me.b=this;{var i=Ze(this,on,Is).call(this);try{Vt(this,or,Un(()=>o(i)))}catch(a){this.error(a)}V(this,ro)>0?Ze(this,on,Na).call(this):Vt(this,nr,!1)}return()=>{var a;(a=V(this,no))==null||a.remove()}},Kf))}is_pending(){return V(this,nr)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!V(this,Cr).pending}update_pending_count(e){Ze(this,on,zs).call(this,e),Vt(this,Ao,V(this,Ao)+e),V(this,jr)&&Oo(V(this,jr),V(this,Ao))}get_effect_pending(){return V(this,wa).call(this),n(V(this,jr))}error(e){var r=V(this,Cr).onerror;let o=V(this,Cr).failed;if(V(this,Wo)||!r&&!o)throw e;V(this,or)&&(xn(V(this,or)),Vt(this,or,null)),V(this,In)&&(xn(V(this,In)),Vt(this,In,null)),V(this,Nr)&&(xn(V(this,Nr)),Vt(this,Nr,null));var i=!1,a=!1;const l=()=>{if(i){Pf();return}i=!0,a&&Wf(),yr.ensure(),Vt(this,Ao,0),V(this,Nr)!==null&&go(V(this,Nr),()=>{Vt(this,Nr,null)}),Vt(this,nr,this.has_pending_snippet()),Vt(this,or,Ze(this,on,Ta).call(this,()=>(Vt(this,Wo,!1),Un(()=>V(this,Ho).call(this,V(this,rr)))))),V(this,ro)>0?Ze(this,on,Na).call(this):Vt(this,nr,!1)};var c=Qt;try{kn(null),a=!0,r==null||r(e,l),a=!1}catch(f){Go(f,V(this,Tr)&&V(this,Tr).parent)}finally{kn(c)}o&&Bo(()=>{Vt(this,Nr,Ze(this,on,Ta).call(this,()=>{yr.ensure(),Vt(this,Wo,!0);try{return Un(()=>{o(V(this,rr),()=>e,()=>l)})}catch(f){return Go(f,V(this,Tr).parent),null}finally{Vt(this,Wo,!1)}}))})}}nr=new WeakMap,rr=new WeakMap,Ns=new WeakMap,Cr=new WeakMap,Ho=new WeakMap,Tr=new WeakMap,or=new WeakMap,In=new WeakMap,Nr=new WeakMap,Or=new WeakMap,no=new WeakMap,Ao=new WeakMap,ro=new WeakMap,Wo=new WeakMap,jr=new WeakMap,wa=new WeakMap,on=new WeakSet,Ap=function(){try{Vt(this,or,Un(()=>V(this,Ho).call(this,V(this,rr))))}catch(e){this.error(e)}Vt(this,nr,!1)},Wp=function(){const e=V(this,Cr).pending;e&&(Vt(this,In,Un(()=>e(V(this,rr)))),yr.enqueue(()=>{var r=Ze(this,on,Is).call(this);Vt(this,or,Ze(this,on,Ta).call(this,()=>(yr.ensure(),Un(()=>V(this,Ho).call(this,r))))),V(this,ro)>0?Ze(this,on,Na).call(this):(go(V(this,In),()=>{Vt(this,In,null)}),Vt(this,nr,!1))}))},Is=function(){var e=V(this,rr);return V(this,nr)&&(Vt(this,no,Kr()),V(this,rr).before(V(this,no)),e=V(this,no)),e},Ta=function(e){var r=me,o=Qt,i=Qe;lr(V(this,Tr)),kn(V(this,Tr)),Po(V(this,Tr).ctx);try{return e()}catch(a){return Js(a),null}finally{lr(r),kn(o),Po(i)}},Na=function(){const e=V(this,Cr).pending;V(this,or)!==null&&(Vt(this,Or,document.createDocumentFragment()),V(this,Or).append(V(this,no)),_l(V(this,or),V(this,Or))),V(this,In)===null&&Vt(this,In,Un(()=>e(V(this,rr))))},zs=function(e){var r;if(!this.has_pending_snippet()){this.parent&&Ze(r=this.parent,on,zs).call(r,e);return}Vt(this,ro,V(this,ro)+e),V(this,ro)===0&&(Vt(this,nr,!1),V(this,In)&&go(V(this,In),()=>{Vt(this,In,null)}),V(this,Or)&&(V(this,rr).before(V(this,Or)),Vt(this,Or,null)))};function tu(t,e,r,o){const i=Pa;if(r.length===0&&t.length===0){o(e.map(i));return}var a=ce,l=me,c=eu();function f(){Promise.all(r.map(s=>ou(s))).then(s=>{c();try{o([...e.map(i),...s])}catch(h){(l.f&Xr)===0&&Go(h,l)}a==null||a.deactivate(),Ki()}).catch(s=>{Go(s,l)})}t.length>0?Promise.all(t).then(()=>{c();try{return f()}finally{a==null||a.deactivate(),Ki()}}):f()}function eu(){var t=me,e=Qt,r=Qe,o=ce;if(ct)var i=zr;return function(l=!0){lr(t),kn(e),Po(r),l&&(o==null||o.activate()),ct&&Xi(i)}}async function nu(t){var e=await t;return()=>e}function Ki(){lr(null),kn(null),Po(null),ct&&Xi(null)}const ru=new Set;function Pa(t){var e=ln|En,r=Qt!==null&&(Qt.f&ln)!==0?Qt:null;return me!==null&&(me.f|=ao),{ctx:Qe,deps:null,effects:null,equals:qs,f:e,fn:t,reactions:null,rv:0,v:gn,wv:0,parent:r??me,ac:null}}function ou(t,e){let r=me;r===null&&_f();var o=r.b,i=void 0,a=uo(gn),l=!Qt,c=new Map;return xu(()=>{var u;var f=Gs();i=f.promise;try{Promise.resolve(t()).then(f.resolve,f.reject).then(()=>{s===ce&&s.committed&&s.deactivate(),Ki()})}catch(g){f.reject(g),Ki()}var s=ce;if(l){var h=!o.is_pending();o.update_pending_count(1),s.increment(h),(u=c.get(s))==null||u.reject(Lo),c.delete(s),c.set(s,f)}const d=(g,v=void 0)=>{if(s.activate(),v)v!==Lo&&(a.f|=$r,Oo(a,v));else{(a.f&$r)!==0&&(a.f^=$r),Oo(a,g);for(const[_,y]of c){if(c.delete(_),_===s)break;y.reject(Lo)}}l&&(o.update_pending_count(-1),s.decrement(h))};f.promise.then(d,g=>d(null,g||"unknown"))}),qa(()=>{for(const f of c.values())f.reject(Lo)}),ct&&(a.f|=Ui),new Promise(f=>{function s(h){function d(){h===i?f(a):s(i)}h.then(d,d)}s(i)})}function m(t){const e=Pa(t);return xl(e),e}function iu(t){const e=Pa(t);return e.equals=Xs,e}function Da(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)xn(e[r])}}let Ba=[];function au(t){for(var e=t.parent;e!==null;){if((e.f&ln)===0)return(e.f&Xr)===0?e:null;e=e.parent}return null}function Ga(t){var e,r=me;if(lr(au(t)),ct){let o=Vo;il(new Set);try{Ba.includes(t)&&wf(),Ba.push(t),t.f&=~Yr,Da(t),e=Xa(t)}finally{lr(r),il(o),Ba.pop()}}else try{t.f&=~Yr,Da(t),e=Xa(t)}finally{lr(r)}return e}function ol(t){var e=Ga(t);if(t.equals(e)||(ce!=null&&ce.is_fork||(t.v=e),t.wv=Ml()),!qo)if(Ke!==null)(xi()||ce!=null&&ce.is_fork)&&Ke.set(t,e);else{var r=(t.f&ar)===0?mr:vn;pn(t,r)}}let Vo=new Set;const Zr=new Map;function il(t){Vo=t}let Va=!1;function su(){Va=!0}function uo(t,e){var r={f:0,v:t,reactions:null,equals:qs,rv:0,wv:0};return r}function Tt(t,e){const r=uo(t);return xl(r),r}function lu(t,e=!1,r=!0){const o=uo(t);return e||(o.equals=Xs),o}function it(t,e,r=!1){Qt!==null&&(!br||(Qt.f&qi)!==0)&&Zs()&&(Qt.f&(ln|Wr|Ui|qi))!==0&&!(wn!=null&&wn.includes(t))&&Af();let o=r?xr(e):e;return ct&&$s(o,t.label),Oo(t,o)}function Oo(t,e){var i;if(!t.equals(e)){var r=t.v;qo?Zr.set(t,e):Zr.set(t,r),t.v=e;var o=yr.ensure();if(o.capture(t,r),ct){if(me!==null){t.updated??(t.updated=new Map);const a=(((i=t.updated.get(""))==null?void 0:i.count)??0)+1;if(t.updated.set("",{error:null,count:a}),a>5){const l=jf("updated at");if(l!==null){let c=t.updated.get(l.stack);c||(c={error:l,count:0},t.updated.set(l.stack,c)),c.count++}}}me!==null&&(t.set_during_effect=!0)}(t.f&ln)!==0&&((t.f&En)!==0&&Ga(t),pn(t,(t.f&ar)!==0?vn:mr)),t.wv=Ml(),sl(t,En),me!==null&&(me.f&vn)!==0&&(me.f&(Rr|Ur))===0&&(Xn===null?Mu([t]):Xn.push(t)),!o.is_fork&&Vo.size>0&&!Va&&al()}return e}function al(){Va=!1;var t=vo;ea(!0);const e=Array.from(Vo);try{for(const r of e)(r.f&vn)!==0&&pn(r,mr),bi(r)&&Mi(r)}finally{ea(t)}Vo.clear()}function _i(t){it(t,t.v+1)}function sl(t,e){var r=t.reactions;if(r!==null)for(var o=r.length,i=0;i<o;i++){var a=r[i],l=a.f;if(ct&&(l&qi)!==0){Vo.add(a);continue}var c=(l&En)===0;if(c&&pn(a,e),(l&ln)!==0){var f=a;Ke==null||Ke.delete(f),(l&Yr)===0&&(l&ar&&(a.f|=Yr),sl(f,mr))}else c&&((l&Wr)!==0&&sr!==null&&sr.add(a),fo(a))}}const cu=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function xr(t){if(typeof t!="object"||t===null||_r in t)return t;const e=Oi(t);if(e!==Ps&&e!==ff)return t;var r=new Map,o=gi(t),i=Tt(0),a=po,l=h=>{if(po===a)return h();var d=Qt,u=po;kn(null),bl(a);var g=h();return kn(d),bl(u),g};o&&(r.set("length",Tt(t.length)),ct&&(t=du(t)));var c="";let f=!1;function s(h){if(!f){f=!0,c=h,p(i,`${c} version`);for(const[d,u]of r)p(u,ho(c,d));f=!1}}return new Proxy(t,{defineProperty(h,d,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Nf();var g=r.get(d);return g===void 0?g=l(()=>{var v=Tt(u.value);return r.set(d,v),ct&&typeof d=="string"&&p(v,ho(c,d)),v}):it(g,u.value,!0),!0},deleteProperty(h,d){var u=r.get(d);if(u===void 0){if(d in h){const g=l(()=>Tt(gn));r.set(d,g),_i(i),ct&&p(g,ho(c,d))}}else it(u,gn),_i(i);return!0},get(h,d,u){var y;if(d===_r)return t;if(ct&&d===Os)return s;var g=r.get(d),v=d in h;if(g===void 0&&(!v||(y=Fo(h,d))!=null&&y.writable)&&(g=l(()=>{var x=xr(v?h[d]:gn),k=Tt(x);return ct&&p(k,ho(c,d)),k}),r.set(d,g)),g!==void 0){var _=n(g);return _===gn?void 0:_}return Reflect.get(h,d,u)},getOwnPropertyDescriptor(h,d){var u=Reflect.getOwnPropertyDescriptor(h,d);if(u&&"value"in u){var g=r.get(d);g&&(u.value=n(g))}else if(u===void 0){var v=r.get(d),_=v==null?void 0:v.v;if(v!==void 0&&_!==gn)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return u},has(h,d){var _;if(d===_r)return!0;var u=r.get(d),g=u!==void 0&&u.v!==gn||Reflect.has(h,d);if(u!==void 0||me!==null&&(!g||(_=Fo(h,d))!=null&&_.writable)){u===void 0&&(u=l(()=>{var y=g?xr(h[d]):gn,x=Tt(y);return ct&&p(x,ho(c,d)),x}),r.set(d,u));var v=n(u);if(v===gn)return!1}return g},set(h,d,u,g){var C;var v=r.get(d),_=d in h;if(o&&d==="length")for(var y=u;y<v.v;y+=1){var x=r.get(y+"");x!==void 0?it(x,gn):y in h&&(x=l(()=>Tt(gn)),r.set(y+"",x),ct&&p(x,ho(c,y)))}if(v===void 0)(!_||(C=Fo(h,d))!=null&&C.writable)&&(v=l(()=>Tt(void 0)),ct&&p(v,ho(c,d)),it(v,xr(u)),r.set(d,v));else{_=v.v!==gn;var k=l(()=>xr(u));it(v,k)}var A=Reflect.getOwnPropertyDescriptor(h,d);if(A!=null&&A.set&&A.set.call(g,u),!_){if(o&&typeof d=="string"){var W=r.get("length"),M=Number(d);Number.isInteger(M)&&M>=W.v&&it(W,M+1)}_i(i)}return!0},ownKeys(h){n(i);var d=Reflect.ownKeys(h).filter(v=>{var _=r.get(v);return _===void 0||_.v!==gn});for(var[u,g]of r)g.v!==gn&&!(u in h)&&d.push(u);return d},setPrototypeOf(){Hf()}})}function ho(t,e){return typeof e=="symbol"?`${t}[Symbol(${e.description??""})]`:cu.test(e)?`${t}.${e}`:/^\d+$/.test(e)?`${t}[${e}]`:`${t}['${e}']`}function Fr(t){try{if(t!==null&&typeof t=="object"&&_r in t)return t[_r]}catch{}return t}function fu(t,e){return Object.is(Fr(t),Fr(e))}const uu=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function du(t){return new Proxy(t,{get(e,r,o){var i=Reflect.get(e,r,o);return uu.has(r)?function(...a){su();var l=i.apply(this,a);return al(),l}:i}})}function hu(){const t=Array.prototype,e=Array.__svelte_cleanup;e&&e();const{indexOf:r,lastIndexOf:o,includes:i}=t;t.indexOf=function(a,l){const c=r.call(this,a,l);if(c===-1){for(let f=l??0;f<this.length;f+=1)if(Fr(this[f])===a){vi("array.indexOf(...)");break}}return c},t.lastIndexOf=function(a,l){const c=o.call(this,a,l??this.length-1);if(c===-1){for(let f=0;f<=(l??this.length-1);f+=1)if(Fr(this[f])===a){vi("array.lastIndexOf(...)");break}}return c},t.includes=function(a,l){const c=i.call(this,a,l);if(!c){for(let f=0;f<this.length;f+=1)if(Fr(this[f])===a){vi("array.includes(...)");break}}return c},Array.__svelte_cleanup=()=>{t.indexOf=r,t.lastIndexOf=o,t.includes=i}}function b(t,e,r=!0){try{t===e!=(Fr(t)===Fr(e))&&vi(r?"===":"!==")}catch{}return t===e===r}function de(t,e,r=!0){return t==e!=(Fr(t)==Fr(e))&&vi(r?"==":"!="),t==e===r}var jo,Oa,ll,cl;function gu(){if(jo===void 0){jo=window,Oa=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;ll=Fo(e,"firstChild").get,cl=Fo(e,"nextSibling").get,Ds(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Ds(r)&&(r.__t=void 0),ct&&(t.__svelte_meta=null,hu())}}function Kr(t=""){return document.createTextNode(t)}function Lr(t){return ll.call(t)}function yi(t){return cl.call(t)}function tt(t,e){return Lr(t)}function pt(t,e=!1){{var r=Lr(t);return r instanceof Comment&&r.data===""?yi(r):r}}function ot(t,e=1,r=!1){let o=t;for(;e--;)o=yi(o);return o}function vu(t){t.textContent=""}function fl(){return!1}function ja(t){var e=Qt,r=me;kn(null),lr(null);try{return t()}finally{kn(e),lr(r)}}function pu(t){me===null&&(Qt===null&&Ef(t),Sf()),qo&&Mf(t)}function mu(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function wr(t,e,r){var o=me;if(ct)for(;o!==null&&(o.f&qi)!==0;)o=o.parent;o!==null&&(o.f&Ln)!==0&&(t|=Ln);var i={ctx:Qe,deps:null,nodes:null,f:t|En|ar,first:null,fn:e,last:null,next:null,parent:o,b:o&&o.b,prev:null,teardown:null,wv:0,ac:null};if(ct&&(i.component_function=Do),r)try{Mi(i),i.f|=Ia}catch(c){throw xn(i),c}else e!==null&&fo(i);var a=i;if(r&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&ao)===0&&(a=a.first,(t&Wr)!==0&&(t&io)!==0&&a!==null&&(a.f|=io)),a!==null&&(a.parent=o,o!==null&&mu(a,o),Qt!==null&&(Qt.f&ln)!==0&&(t&Ur)===0)){var l=Qt;(l.effects??(l.effects=[])).push(a)}return i}function xi(){return Qt!==null&&!br}function qa(t){const e=wr(Ra,null,!1);return pn(e,vn),e.teardown=t,e}function Ji(t){pu("$effect"),ct&&oo(t,"name",{value:"$effect"});var e=me.f,r=!Qt&&(e&Rr)!==0&&(e&Ia)===0;if(r){var o=Qe;(o.e??(o.e=[])).push(t)}else return ul(t)}function ul(t){return wr(Wa|hf,t,!1)}function _u(t){yr.ensure();const e=wr(Ur|ao,t,!0);return()=>{xn(e)}}function yu(t){yr.ensure();const e=wr(Ur|ao,t,!0);return(r={})=>new Promise(o=>{r.outro?go(e,()=>{xn(e),o(void 0)}):(xn(e),o(void 0))})}function dl(t){return wr(Wa,t,!1)}function xu(t){return wr(Ui|ao,t,!0)}function Qi(t,e=0){return wr(Ra|e,t,!0)}function et(t,e=[],r=[],o=[]){tu(o,e,r,i=>{wr(Ra,()=>t(...i.map(n)),!0)})}function ta(t,e=0){var r=wr(Wr|e,t,!0);return ct&&(r.dev_stack=zr),r}function Un(t){return wr(Rr|ao,t,!0)}function hl(t){var e=t.teardown;if(e!==null){const r=qo,o=Qt;yl(!0),kn(null);try{e.call(null)}finally{yl(r),kn(o)}}}function gl(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){const i=r.ac;i!==null&&ja(()=>{i.abort(Lo)});var o=r.next;(r.f&Ur)!==0?r.parent=null:xn(r,e),r=o}}function wu(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&Rr)===0&&xn(e),e=r}}function xn(t,e=!0){var r=!1;(e||(t.f&Vs)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(bu(t.nodes.start,t.nodes.end),r=!0),gl(t,e&&!r),na(t,0),pn(t,Xr);var o=t.nodes&&t.nodes.t;if(o!==null)for(const a of o)a.stop();hl(t);var i=t.parent;i!==null&&i.first!==null&&vl(t),ct&&(t.component_function=null),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function bu(t,e){for(;t!==null;){var r=t===e?null:yi(t);t.remove(),t=r}}function vl(t){var e=t.parent,r=t.prev,o=t.next;r!==null&&(r.next=o),o!==null&&(o.prev=r),e!==null&&(e.first===t&&(e.first=o),e.last===t&&(e.last=r))}function go(t,e,r=!0){var o=[];pl(t,o,!0);var i=()=>{r&&xn(t),e&&e()},a=o.length;if(a>0){var l=()=>--a||i();for(var c of o)c.out(l)}else i()}function pl(t,e,r){if((t.f&Ln)===0){t.f^=Ln;var o=t.nodes&&t.nodes.t;if(o!==null)for(const c of o)(c.is_global||r)&&e.push(c);for(var i=t.first;i!==null;){var a=i.next,l=(i.f&io)!==0||(i.f&Rr)!==0&&(t.f&Wr)!==0;pl(i,e,l?r:!1),i=a}}}function Ua(t){ml(t,!0)}function ml(t,e){if((t.f&Ln)!==0){t.f^=Ln,(t.f&vn)===0&&(pn(t,En),fo(t));for(var r=t.first;r!==null;){var o=r.next,i=(r.f&io)!==0||(r.f&Rr)!==0;ml(r,i?e:!1),r=o}var a=t.nodes&&t.nodes.t;if(a!==null)for(const l of a)(l.is_global||e)&&l.in()}}function _l(t,e){if(t.nodes)for(var r=t.nodes.start,o=t.nodes.end;r!==null;){var i=r===o?null:yi(r);e.append(r),r=i}}let vo=!1;function ea(t){vo=t}let qo=!1;function yl(t){qo=t}let Qt=null,br=!1;function kn(t){Qt=t}let me=null;function lr(t){me=t}let wn=null;function xl(t){Qt!==null&&(wn===null?wn=[t]:wn.push(t))}let bn=null,Pn=0,Xn=null;function Mu(t){Xn=t}let wl=1,wi=0,po=wi;function bl(t){po=t}function Ml(){return++wl}function bi(t){var e=t.f;if((e&En)!==0)return!0;if(e&ln&&(t.f&=~Yr),(e&mr)!==0){var r=t.deps;if(r!==null)for(var o=r.length,i=0;i<o;i++){var a=r[i];if(bi(a)&&ol(a),a.wv>t.wv)return!0}(e&ar)!==0&&Ke===null&&pn(t,vn)}return!1}function Sl(t,e,r=!0){var o=t.reactions;if(o!==null&&!(wn!=null&&wn.includes(t)))for(var i=0;i<o.length;i++){var a=o[i];(a.f&ln)!==0?Sl(a,e,!1):e===a&&(r?pn(a,En):(a.f&vn)!==0&&pn(a,mr),fo(a))}}function Xa(t){var v;var e=bn,r=Pn,o=Xn,i=Qt,a=wn,l=Qe,c=br,f=po,s=t.f;bn=null,Pn=0,Xn=null,Qt=(s&(Rr|Ur))===0?t:null,wn=null,Po(t.ctx),br=!1,po=++wi,t.ac!==null&&(ja(()=>{t.ac.abort(Lo)}),t.ac=null);try{t.f|=za;var h=t.fn,d=h(),u=t.deps;if(bn!==null){var g;if(na(t,Pn),u!==null&&Pn>0)for(u.length=Pn+bn.length,g=0;g<bn.length;g++)u[Pn+g]=bn[g];else t.deps=u=bn;if(xi()&&(t.f&ar)!==0)for(g=Pn;g<u.length;g++)((v=u[g]).reactions??(v.reactions=[])).push(t)}else u!==null&&Pn<u.length&&(na(t,Pn),u.length=Pn);if(Zs()&&Xn!==null&&!br&&u!==null&&(t.f&(ln|mr|En))===0)for(g=0;g<Xn.length;g++)Sl(Xn[g],t);return i!==null&&i!==t&&(wi++,Xn!==null&&(o===null?o=Xn:o.push(...Xn))),(t.f&$r)!==0&&(t.f^=$r),d}catch(_){return Js(_)}finally{t.f^=za,bn=e,Pn=r,Xn=o,Qt=i,wn=a,Po(l),br=c,po=f}}function Su(t,e){let r=e.reactions;if(r!==null){var o=cf.call(r,t);if(o!==-1){var i=r.length-1;i===0?r=e.reactions=null:(r[o]=r[i],r.pop())}}r===null&&(e.f&ln)!==0&&(bn===null||!bn.includes(e))&&(pn(e,mr),(e.f&ar)!==0&&(e.f^=ar,e.f&=~Yr),Da(e),na(e,0))}function na(t,e){var r=t.deps;if(r!==null)for(var o=e;o<r.length;o++)Su(t,r[o])}function Mi(t){var e=t.f;if((e&Xr)===0){pn(t,vn);var r=me,o=vo;if(me=t,vo=!0,ct){var i=Do;Yi(t.component_function);var a=zr;Xi(t.dev_stack??zr)}try{(e&(Wr|df))!==0?wu(t):gl(t),hl(t);var l=Xa(t);t.teardown=typeof l=="function"?l:null,t.wv=wl;var c;ct&&Df&&(t.f&En)!==0&&t.deps}finally{vo=o,me=r,ct&&(Yi(i),Xi(a))}}}async function Eu(){await Promise.resolve(),Yf()}function n(t){var e=t.f,r=(e&ln)!==0;if(Qt!==null&&!br){var o=me!==null&&(me.f&Xr)!==0;if(!o&&!(wn!=null&&wn.includes(t))){var i=Qt.deps;if((Qt.f&za)!==0)t.rv<wi&&(t.rv=wi,bn===null&&i!==null&&i[Pn]===t?Pn++:bn===null?bn=[t]:bn.includes(t)||bn.push(t));else{(Qt.deps??(Qt.deps=[])).push(t);var a=t.reactions;a===null?t.reactions=[Qt]:a.includes(Qt)||a.push(Qt)}}}if(ct&&ru.delete(t),qo){if(Zr.has(t))return Zr.get(t);if(r){var l=t,c=l.v;return((l.f&vn)===0&&l.reactions!==null||kl(l))&&(c=Ga(l)),Zr.set(l,c),c}}else r&&(!(Ke!=null&&Ke.has(t))||ce!=null&&ce.is_fork&&!xi())&&(l=t,bi(l)&&ol(l),vo&&xi()&&(l.f&ar)===0&&El(l));if(Ke!=null&&Ke.has(t))return Ke.get(t);if((t.f&$r)!==0)throw t.v;return t.v}function El(t){if(t.deps!==null){t.f^=ar;for(const e of t.deps)(e.reactions??(e.reactions=[])).push(t),(e.f&ln)!==0&&(e.f&ar)===0&&El(e)}}function kl(t){if(t.v===gn)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Zr.has(e)||(e.f&ln)!==0&&kl(e))return!0;return!1}function ra(t){var e=br;try{return br=!0,t()}finally{br=e}}const ku=-7169;function pn(t,e){t.f=t.f&ku|e}function Cu(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(_r in t)Ya(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&_r in r&&Ya(r)}}}function Ya(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let o in t)try{Ya(t[o],e)}catch{}const r=Oi(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const o=Ls(r);for(let i in o){const a=o[i].get;if(a)try{a.call(t)}catch{}}}}}const Cl=new Set,$a=new Set;function Tu(t,e,r,o={}){function i(a){if(o.capture||Si.call(e,a),!a.cancelBubble)return ja(()=>r==null?void 0:r.call(this,a))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Bo(()=>{e.addEventListener(t,i,o)}):e.addEventListener(t,i,o),i}function Dn(t,e,r,o,i){var a={capture:o,passive:i},l=Tu(t,e,r,a);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&qa(()=>{e.removeEventListener(t,l,a)})}function mo(t){for(var e=0;e<t.length;e++)Cl.add(t[e]);for(var r of $a)r(t)}let Tl=null;function Si(t){var y;var e=this,r=e.ownerDocument,o=t.type,i=((y=t.composedPath)==null?void 0:y.call(t))||[],a=i[0]||t.target;Tl=t;var l=0,c=Tl===t&&t.__root;if(c){var f=i.indexOf(c);if(f!==-1&&(e===document||e===window)){t.__root=e;return}var s=i.indexOf(e);if(s===-1)return;f<=s&&(l=f)}if(a=i[l]||t.target,a!==e){oo(t,"currentTarget",{configurable:!0,get(){return a||r}});var h=Qt,d=me;kn(null),lr(null);try{for(var u,g=[];a!==null;){var v=a.assignedSlot||a.parentNode||a.host||null;try{var _=a["__"+o];_!=null&&(!a.disabled||t.target===a)&&_.call(a,t)}catch(x){u?g.push(x):u=x}if(t.cancelBubble||v===e||v===null)break;a=v}if(u){for(let x of g)queueMicrotask(()=>{throw x});throw u}}finally{t.__root=e,delete t.currentTarget,kn(h),lr(d)}}}function cr(t,e,r,o,i,a=!1,l=!1){var s,h;let c,f;try{c=t()}catch(d){f=d}if(typeof c!="function"&&(a||c!=null||f)){const d=o==null?void 0:o[D],u=i?` at ${d}:${i[0]}:${i[1]}`:` in ${d}`,g=((s=r[0])==null?void 0:s.eventPhase)<Event.BUBBLING_PHASE?"capture":"",_=`\`${((h=r[0])==null?void 0:h.type)+g}\` handler${u}`;if(If(_,l?"remove the trailing `()`":"add a leading `() =>`"),f)throw f}c==null||c.apply(e,r)}function Nl(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Ei(t,e){var r=me;r.nodes===null&&(r.nodes={start:t,end:e,a:null,t:null})}function _t(t,e){var r=(e&1)!==0,o=(e&2)!==0,i,a=!t.startsWith("<!>");return()=>{i===void 0&&(i=Nl(a?t:"<!>"+t),r||(i=Lr(i)));var l=o||Oa?document.importNode(i,!0):i.cloneNode(!0);if(r){var c=Lr(l),f=l.lastChild;Ei(c,f)}else Ei(l,l);return l}}function Nu(t,e,r="svg"){var o=!t.startsWith("<!>"),i=(e&1)!==0,a=`<${r}>${o?t:"<!>"+t}</${r}>`,l;return()=>{if(!l){var c=Nl(a),f=Lr(c);if(i)for(l=document.createDocumentFragment();Lr(f);)l.appendChild(Lr(f));else l=Lr(f)}var s=l.cloneNode(!0);if(i){var h=Lr(s),d=s.lastChild;Ei(h,d)}else Ei(s,s);return s}}function Rt(t,e){return Nu(t,e,"svg")}function Et(){var t=document.createDocumentFragment(),e=document.createComment(""),r=Kr();return t.append(e,r),Ei(e,r),t}function F(t,e){t!==null&&t.before(e)}const Hu=["touchstart","touchmove"];function Au(t){return Hu.includes(t)}function Yt(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function Wu(t,e){return Ru(t,e)}const Uo=new Map;function Ru(t,{target:e,anchor:r,props:o={},events:i,context:a,intro:l=!0}){gu();var c=new Set,f=d=>{for(var u=0;u<d.length;u++){var g=d[u];if(!c.has(g)){c.add(g);var v=Au(g);e.addEventListener(g,Si,{passive:v});var _=Uo.get(g);_===void 0?(document.addEventListener(g,Si,{passive:v}),Uo.set(g,1)):Uo.set(g,_+1)}}};f(Vi(Cl)),$a.add(f);var s=void 0,h=yu(()=>{var d=r??e.appendChild(Kr());return Jf(d,{pending:()=>{}},u=>{if(a){Me({});var g=Qe;g.c=a}i&&(o.$$events=i),s=t(u,o)||{},a&&Se()}),()=>{var v;for(var u of c){e.removeEventListener(u,Si);var g=Uo.get(u);--g===0?(document.removeEventListener(u,Si),Uo.delete(u)):Uo.set(u,g)}$a.delete(f),d!==r&&((v=d.parentNode)==null||v.removeChild(d))}});return Za.set(s,h),s}let Za=new WeakMap;function Iu(t,e){const r=Za.get(t);return r?(Za.delete(t),r(e)):(ct&&(_r in t?Lf():zf()),Promise.resolve())}function zu(t){return t.toString=()=>(mf(),""),t}class Hl{constructor(e,r=!0){Ar(this,"anchor");le(this,gr,new Map);le(this,Hr,new Map);le(this,On,new Map);le(this,Ro,new Set);le(this,Di,!0);le(this,Bi,()=>{var e=ce;if(V(this,gr).has(e)){var r=V(this,gr).get(e),o=V(this,Hr).get(r);if(o)Ua(o),V(this,Ro).delete(r);else{var i=V(this,On).get(r);i&&(V(this,Hr).set(r,i.effect),V(this,On).delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),o=i.effect)}for(const[a,l]of V(this,gr)){if(V(this,gr).delete(a),a===e)break;const c=V(this,On).get(l);c&&(xn(c.effect),V(this,On).delete(l))}for(const[a,l]of V(this,Hr)){if(a===r||V(this,Ro).has(a))continue;const c=()=>{if(Array.from(V(this,gr).values()).includes(a)){var s=document.createDocumentFragment();_l(l,s),s.append(Kr()),V(this,On).set(a,{effect:l,fragment:s})}else xn(l);V(this,Ro).delete(a),V(this,Hr).delete(a)};V(this,Di)||!o?(V(this,Ro).add(a),go(l,c,!1)):c()}}});le(this,ba,e=>{V(this,gr).delete(e);const r=Array.from(V(this,gr).values());for(const[o,i]of V(this,On))r.includes(o)||(xn(i.effect),V(this,On).delete(o))});this.anchor=e,Vt(this,Di,r)}ensure(e,r){var o=ce,i=fl();if(r&&!V(this,Hr).has(e)&&!V(this,On).has(e))if(i){var a=document.createDocumentFragment(),l=Kr();a.append(l),V(this,On).set(e,{effect:Un(()=>r(l)),fragment:a})}else V(this,Hr).set(e,Un(()=>r(this.anchor)));if(V(this,gr).set(o,e),i){for(const[c,f]of V(this,Hr))c===e?o.skipped_effects.delete(f):o.skipped_effects.add(f);for(const[c,f]of V(this,On))c===e?o.skipped_effects.delete(f.effect):o.skipped_effects.add(f.effect);o.oncommit(V(this,Bi)),o.ondiscard(V(this,ba))}else V(this,Bi).call(this)}}gr=new WeakMap,Hr=new WeakMap,On=new WeakMap,Ro=new WeakMap,Di=new WeakMap,Bi=new WeakMap,ba=new WeakMap;function Fu(t,e,...r){var o=new Hl(t);ta(()=>{const i=e()??null;ct&&i==null&&Cf(),o.ensure(i,i&&(a=>i(a,...r)))},io)}function Lu(t,e){const r=(o,...i)=>{var a=Do;Yi(t);try{return e(o,...i)}finally{Yi(a)}};return zu(r),r}if(ct){let t=function(e){if(!(e in globalThis)){let r;Object.defineProperty(globalThis,e,{configurable:!0,get:()=>{if(r!==void 0)return r;Tf(e)},set:o=>{r=o}})}};t("$state"),t("$effect"),t("$derived"),t("$inspect"),t("$props"),t("$bindable")}function j(t,e,r){return(...o)=>{const i=t(...o);var a=i.nodeType===pf?i.firstChild:i;return Al(a,e,r),i}}function Pu(t,e,r){t.__svelte_meta={parent:zr,loc:{file:e,line:r[0],column:r[1]}},r[2]&&Al(t.firstChild,e,r[2])}function Al(t,e,r){for(var o=0;t&&o<r.length;)t.nodeType===vf&&Pu(t,e,r[o++]),t=t.nextSibling}function Ce(t){t&&xf(t[D]??"a component",t.name)}function Te(){const t=Qe==null?void 0:Qe.function;function e(r){yf(r,t[D])}return{$destroy:()=>e("$destroy()"),$on:()=>e("$on(...)"),$set:()=>e("$set(...)")}}function Du(t,...e){(typeof t!="object"||!(t instanceof Node))&&js();for(let r of e)typeof r!="function"&&js()}function X(t,e,r=!1){var o=new Hl(t),i=r?io:0;function a(l,c){o.ensure(l,c)}ta(()=>{var l=!1;e((c,f=!0)=>{l=!0,a(f,c)}),l||a(!1,null)},i)}function Mr(t,e){return e}function Bu(t,e,r){for(var o=[],i=e.length,a,l=e.length,c=0;c<i;c++){let d=e[c];go(d,()=>{if(a){if(a.pending.delete(d),a.done.add(d),a.pending.size===0){var u=t.outrogroups;Ka(Vi(a.done)),u.delete(a),u.size===0&&(t.outrogroups=null)}}else l-=1},!1)}if(l===0){var f=o.length===0&&r!==null;if(f){var s=r,h=s.parentNode;vu(h),h.append(s),t.items.clear()}Ka(e,!f)}else a={pending:new Set(e),done:new Set},(t.outrogroups??(t.outrogroups=new Set)).add(a)}function Ka(t,e=!0){for(var r=0;r<t.length;r++)xn(t[r],e)}var Wl;function Ne(t,e,r,o,i,a=null){var l=t,c=new Map,f=(e&4)!==0;if(f){var s=t;l=s.appendChild(Kr())}var h=null,d=iu(()=>{var x=r();return gi(x)?x:x==null?[]:Vi(x)}),u,g=!0;function v(){y.fallback=h,Gu(y,u,l,e,o),h!==null&&(u.length===0?(h.f&Ir)===0?Ua(h):(h.f^=Ir,ki(h,null,l)):go(h,()=>{h=null}))}var _=ta(()=>{u=n(d);for(var x=u.length,k=new Set,A=ce,W=fl(),M=0;M<x;M+=1){var C=u[M],w=o(C,M),S=g?null:c.get(w);S?(S.v&&Oo(S.v,C),S.i&&Oo(S.i,M),W&&A.skipped_effects.delete(S.e)):(S=Vu(c,g?l:Wl??(Wl=Kr()),C,w,M,i,e,r),g||(S.e.f|=Ir),c.set(w,S)),k.add(w)}if(x===0&&a&&!h&&(g?h=Un(()=>a(l)):(h=Un(()=>a(Wl??(Wl=Kr()))),h.f|=Ir)),!g)if(W){for(const[L,T]of c)k.has(L)||A.skipped_effects.add(T.e);A.oncommit(v),A.ondiscard(()=>{})}else v();n(d)}),y={effect:_,items:c,outrogroups:null,fallback:h};g=!1}function Gu(t,e,r,o,i){var T,R,H,G,P,J,K,U,O;var a=(o&8)!==0,l=e.length,c=t.items,f=t.effect.first,s,h=null,d,u=[],g=[],v,_,y,x;if(a)for(x=0;x<l;x+=1)v=e[x],_=i(v,x),y=c.get(_).e,(y.f&Ir)===0&&((R=(T=y.nodes)==null?void 0:T.a)==null||R.measure(),(d??(d=new Set)).add(y));for(x=0;x<l;x+=1){if(v=e[x],_=i(v,x),y=c.get(_).e,t.outrogroups!==null)for(const $ of t.outrogroups)$.pending.delete(y),$.done.delete(y);if((y.f&Ir)!==0)if(y.f^=Ir,y===f)ki(y,null,r);else{var k=h?h.next:f;y===t.effect.last&&(t.effect.last=y.prev),y.prev&&(y.prev.next=y.next),y.next&&(y.next.prev=y.prev),Jr(t,h,y),Jr(t,y,k),ki(y,k,r),h=y,u=[],g=[],f=h.next;continue}if((y.f&Ln)!==0&&(Ua(y),a&&((G=(H=y.nodes)==null?void 0:H.a)==null||G.unfix(),(d??(d=new Set)).delete(y))),y!==f){if(s!==void 0&&s.has(y)){if(u.length<g.length){var A=g[0],W;h=A.prev;var M=u[0],C=u[u.length-1];for(W=0;W<u.length;W+=1)ki(u[W],A,r);for(W=0;W<g.length;W+=1)s.delete(g[W]);Jr(t,M.prev,C.next),Jr(t,h,M),Jr(t,C,A),f=A,h=C,x-=1,u=[],g=[]}else s.delete(y),ki(y,f,r),Jr(t,y.prev,y.next),Jr(t,y,h===null?t.effect.first:h.next),Jr(t,h,y),h=y;continue}for(u=[],g=[];f!==null&&f!==y;)(s??(s=new Set)).add(f),g.push(f),f=f.next;if(f===null)continue}(y.f&Ir)===0&&u.push(y),h=y,f=y.next}if(t.outrogroups!==null){for(const $ of t.outrogroups)$.pending.size===0&&(Ka(Vi($.done)),(P=t.outrogroups)==null||P.delete($));t.outrogroups.size===0&&(t.outrogroups=null)}if(f!==null||s!==void 0){var w=[];if(s!==void 0)for(y of s)(y.f&Ln)===0&&w.push(y);for(;f!==null;)(f.f&Ln)===0&&f!==t.fallback&&w.push(f),f=f.next;var S=w.length;if(S>0){var L=(o&4)!==0&&l===0?r:null;if(a){for(x=0;x<S;x+=1)(K=(J=w[x].nodes)==null?void 0:J.a)==null||K.measure();for(x=0;x<S;x+=1)(O=(U=w[x].nodes)==null?void 0:U.a)==null||O.fix()}Bu(t,w,L)}}a&&Bo(()=>{var $,ut;if(d!==void 0)for(y of d)(ut=($=y.nodes)==null?void 0:$.a)==null||ut.apply()})}function Vu(t,e,r,o,i,a,l,c){var f=(l&1)!==0?(l&16)===0?lu(r,!1,!1):uo(r):null,s=(l&2)!==0?uo(i):null;return ct&&f&&(f.trace=()=>{c()[(s==null?void 0:s.v)??i]}),{v:f,i:s,e:Un(()=>(a(e,f??r,s??i,c),()=>{t.delete(o)}))}}function ki(t,e,r){if(t.nodes)for(var o=t.nodes.start,i=t.nodes.end,a=e&&(e.f&Ir)===0?e.nodes.start:r;o!==null;){var l=yi(o);if(a.before(o),o===i)return;o=l}}function Jr(t,e,r){e===null?t.effect.first=r:e.next=r,r===null?t.effect.last=e:r.prev=e}function oa(t,e,r){dl(()=>{var o=ra(()=>e(t,r==null?void 0:r())||{});if(r&&(o!=null&&o.update)){var i=!1,a={};Qi(()=>{var l=r();Cu(l),i&&Us(a,l)&&(a=l,o.update(l))}),i=!0}if(o!=null&&o.destroy)return()=>o.destroy()})}const Rl=[...` 	
\r\f \v\uFEFF`];function Ou(t,e,r){var o=t==null?"":""+t;if(e&&(o=o?o+" "+e:e),r){for(var i in r)if(r[i])o=o?o+" "+i:i;else if(o.length)for(var a=i.length,l=0;(l=o.indexOf(i,l))>=0;){var c=l+a;(l===0||Rl.includes(o[l-1]))&&(c===o.length||Rl.includes(o[c]))?o=(l===0?"":o.substring(0,l))+o.substring(c+1):l=c}}return o===""?null:o}function Il(t,e=!1){var r=e?" !important;":";",o="";for(var i in t){var a=t[i];a!=null&&a!==""&&(o+=" "+i+": "+a+r)}return o}function Ja(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function ju(t,e){if(e){var r="",o,i;if(Array.isArray(e)?(o=e[0],i=e[1]):o=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var a=!1,l=0,c=!1,f=[];o&&f.push(...Object.keys(o).map(Ja)),i&&f.push(...Object.keys(i).map(Ja));var s=0,h=-1;const _=t.length;for(var d=0;d<_;d++){var u=t[d];if(c?u==="/"&&t[d-1]==="*"&&(c=!1):a?a===u&&(a=!1):u==="/"&&t[d+1]==="*"?c=!0:u==='"'||u==="'"?a=u:u==="("?l++:u===")"&&l--,!c&&a===!1&&l===0){if(u===":"&&h===-1)h=d;else if(u===";"||d===_-1){if(h!==-1){var g=Ja(t.substring(s,h).trim());if(!f.includes(g)){u!==";"&&d++;var v=t.substring(s,d).trim();r+=" "+v+";"}}s=d+1,h=-1}}}}return o&&(r+=Il(o)),i&&(r+=Il(i,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function Cn(t,e,r,o,i,a){var l=t.__className;if(l!==r||l===void 0){var c=Ou(r,o,a);c==null?t.removeAttribute("class"):t.className=c,t.__className=r}else if(a&&i!==a)for(var f in a){var s=!!a[f];(i==null||s!==!!i[f])&&t.classList.toggle(f,s)}return a}function Qa(t,e={},r,o){for(var i in r){var a=r[i];e[i]!==a&&(r[i]==null?t.style.removeProperty(i):t.style.setProperty(i,a,o))}}function He(t,e,r,o){var i=t.__style;if(i!==e){var a=ju(e,o);a==null?t.removeAttribute("style"):t.style.cssText=a,t.__style=e}else o&&(Array.isArray(o)?(Qa(t,r==null?void 0:r[0],o[0]),Qa(t,r==null?void 0:r[1],o[1],"important")):Qa(t,r,o));return o}function ts(t,e,r=!1){if(t.multiple){if(e==null)return;if(!gi(e))return Ff();for(var o of t.options)o.selected=e.includes(Fl(o));return}for(o of t.options){var i=Fl(o);if(fu(i,e)){o.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function zl(t){var e=new MutationObserver(()=>{ts(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),qa(()=>{e.disconnect()})}function Fl(t){return"__value"in t?t.__value:t.value}const qu=Symbol("is custom element"),Uu=Symbol("is html");function Xu(t,e){var r=es(t);r.value===(r.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function Yu(t,e){var r=es(t);r.checked!==(r.checked=e??void 0)&&(t.checked=e)}function N(t,e,r,o){var i=es(t);i[e]!==(i[e]=r)&&(e==="loading"&&(t[gf]=r),r==null?t.removeAttribute(e):typeof r!="string"&&$u(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function es(t){return t.__attributes??(t.__attributes={[qu]:t.nodeName.includes("-"),[Uu]:t.namespaceURI===lf})}var Ll=new Map;function $u(t){var e=t.getAttribute("is")||t.nodeName,r=Ll.get(e);if(r)return r;Ll.set(e,r=[]);for(var o,i=t,a=Element.prototype;a!==i;){o=Ls(i);for(var l in o)o[l].set&&r.push(l);i=Oi(i)}return r}function Pl(t,e){return t===e||(t==null?void 0:t[_r])===e}function _o(t={},e,r,o){return dl(()=>{var i,a;return Qi(()=>{i=a,a=[],ra(()=>{t!==r(...a)&&(e(t,...a),i&&Pl(r(...i),t)&&e(null,...i))})}),()=>{Bo(()=>{a&&Pl(r(...a),t)&&e(null,...a)})}}),t}function Bn(t,e,r,o){var i=o,a=!0,l=()=>(a&&(a=!1,i=o),i),c;c=t[e],c===void 0&&o!==void 0&&(c=l());var f;return f=()=>{var s=t[e];return s===void 0?l():(a=!0,s)},f}function mn(t,e){Qi(()=>{const r=new Map,o=t(),i=gi(o)?o:o==null?[]:Array.from(o),a=i.length;for(let l=0;l<a;l++){const c=e(i[l],l);if(r.has(c)){const f=String(r.get(c)),s=String(l);let h=String(c);h.startsWith("[object ")&&(h=null),bf(f,s,h)}r.set(c,l)}})}function Dl(t,...e){return ra(()=>{try{let r=!1;const o=[];for(const i of e)i&&typeof i=="object"&&_r in i?(o.push(Of(i,!0)),r=!0):o.push(i);r&&(Rf(t),console.log("%c[snapshot]","color: grey",...o))}catch{}}),e}const Zu="5";typeof window<"u"&&((Kc=window.__svelte??(window.__svelte={})).v??(Kc.v=new Set)).add(Zu);function Bl(t){var o,i;const e=((o=t==null?void 0:t.shapes)==null?void 0:o.lineWidth)??1.5,r=((i=t==null?void 0:t.colors)==null?void 0:i.intervalLine)??"#475569";return{width:Math.max(4,Math.round(e*3)),height:Math.max(6,Math.round(e*4)),color:r,opacity:1}}function ia(t,e,r,o){const{width:i,height:a}=o,l=a/2;return t==="left"?`M ${e} ${r} L ${e+i} ${r-l} L ${e+i} ${r+l} Z`:`M ${e} ${r} L ${e-i} ${r-l} L ${e-i} ${r+l} Z`}const Gl=[1,5,2,2.5,4,3],Sr=[.001,.002,.005,.01,.02,.05,.1,.15,.2,.25,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.75,2,2.5,3,4,5,6,7,8,10,12,15,20,25,30,40,50,75,100,150,200,300,500,750,1e3];function aa(t,e){return e?Ku(t):Ju(t)}function Ku(t){if(t[0]<=0||t[1]<=0)return[.1,10];if(t[0]>=t[1])return t;let e=Sr[0];for(const o of Sr)if(o<=t[0])e=o;else break;t[0]<Sr[0]&&(e=Math.pow(10,Math.floor(Math.log10(t[0]))));let r=Sr[Sr.length-1];for(let o=Sr.length-1;o>=0&&Sr[o]>=t[1];o--)r=Sr[o];return t[1]>Sr[Sr.length-1]&&(r=Math.pow(10,Math.ceil(Math.log10(t[1])))),[e,r]}function Ju(t){const e=t[1]-t[0];if(e===0)return t;if(e<0)return[t[1],t[0]];const r=Math.pow(10,Math.floor(Math.log10(e)));let o=r,i=1/0;for(const c of Gl)for(const f of[.1,1,10]){const s=c*r*f;if(s<=0)continue;const h=Math.floor(t[0]/s)*s,g=(Math.ceil(t[1]/s)*s-h)/e-1;g>=0&&g<i&&(i=g,o=s)}const a=Math.floor(t[0]/o)*o,l=Math.ceil(t[1]/o)*o;return[Math.round(a*1e10)/1e10,Math.round(l*1e10)/1e10]}function Yn(t,e,r,o,i=!1){if(t&&r in t){const a=t[r];if(typeof a=="number"&&Number.isFinite(a)&&(!i||a>0))return a}return r===o&&e!=null&&Number.isFinite(e)&&(!i||e>0)?e:null}const Tn=12;function Vl(t){const{rows:e,config:r,scale:o,nullValue:i,forestWidth:a,pointSize:l,effects:c=[],pointCol:f,lowerCol:s,upperCol:h}=t,d=Qu(e,r,o,i,c,f,s,h),u=td(d,r,o,a,l),g=Ol(d,r,o,i);return{axisLimits:d,plotRegion:u,ticks:g}}function Qu(t,e,r,o,i=[],a,l,c){const f=e.rangeMin!=null,s=e.rangeMax!=null;if(f&&s)return[e.rangeMin,e.rangeMax];const h=[],d=r==="log",u=a||"point";for(const $ of t){const ut=Yn($.metadata,void 0,u,"point",d);ut!=null&&h.push(ut);for(const rt of i){const ft=Yn($.metadata,void 0,rt.pointCol,"point",d);ft!=null&&h.push(ft)}}if(h.length===0)return r==="log"?[.1,10]:[-1,1];let g=Math.min(...h),v=Math.max(...h);(e.includeNull??!0)&&(g=Math.min(g,o),v=Math.max(v,o));const y=g,x=v;let k;if(d){const $=Math.max(g,.001),ut=Math.max(v,.001);k=Math.log(ut)-Math.log($)}else k=v-g;if(k===0||!Number.isFinite(k)){const $=h[0];if(d)return aa([$/2,$*2],!0);{const ut=Math.max(1,Math.abs($)*.1);return aa([$-ut,$+ut],!1)}}const[A,W]=aa([g,v],d),M=e.ciClipFactor??2;let C=A,w=W;const S=[],L=[],T=l||"lower",R=c||"upper";for(const $ of t){const ut=Yn($.metadata,void 0,T,"lower",d);ut!=null&&S.push(ut);const rt=Yn($.metadata,void 0,R,"upper",d);rt!=null&&L.push(rt);for(const ft of i){const st=Yn($.metadata,void 0,ft.lowerCol,"lower",d);st!=null&&S.push(st);const yt=Yn($.metadata,void 0,ft.upperCol,"upper",d);yt!=null&&L.push(yt)}}let H,G;if(d)H=C/M,G=w*M;else{const $=w-C;H=C-$*M,G=w+$*M}let P=!1,J=!1;for(const $ of S)$>=H?C=Math.min(C,$):P=!0;for(const $ of L)$<=G?w=Math.max(w,$):J=!0;if(P&&(C=Math.min(C,H)),J&&(w=Math.max(w,G)),e.symmetric===!0&&!f&&!s)if(r==="log"){const $=Math.log(o),ut=Math.max(Math.abs(Math.log(Math.max(y,.001))-$),Math.abs(Math.log(x)-$));C=Math.exp($-ut),w=Math.exp($+ut)}else{const $=Math.max(Math.abs(y-o),Math.abs(x-o));C=o-$,w=o+$}let U=f?e.rangeMin:C,O=s?e.rangeMax:w;return aa([U,O],r==="log")}function td(t,e,r,o,i){if(!(e.markerMargin??!0)||o<=0)return t;const l=o-2*Tn;if(l<=0)return t;if(r==="log"){const s=Math.log(Math.max(t[0],.001)),h=Math.log(Math.max(t[1],.001)),d=h-s,u=i/2*(d/l),g=Math.min(u,.5);return[Math.exp(s-g),Math.exp(h+g)]}const c=t[1]-t[0],f=i/2*(c/l);return[t[0]-f,t[1]+f]}function Ol(t,e,r,o){const[i,a]=t,l=o>=i&&o<=a,c=(e.nullTick??!0)&&l;if(e.tickValues&&e.tickValues.length>0){let h=e.tickValues.filter(d=>d>=i&&d<=a);return c&&!h.includes(o)&&(h=[...h,o].sort((d,u)=>d-u)),h}const f=e.tickCount??5;let s=r==="log"?nd(t,f):ed(t,f);return c&&!s.includes(o)&&(s=[...s,o].sort((h,d)=>h-d)),s}function ed(t,e){const[r,o]=t,i=o-r;if(i===0)return[r];const a=i/Math.max(e-1,1),l=Math.pow(10,Math.floor(Math.log10(a)));let c=l,f=1/0;for(const d of Gl){const u=d*l,g=Math.floor(i/u)+1,v=Math.abs(g-e);v<f&&(f=v,c=u);const _=d*l/10;if(_>0){const y=Math.floor(i/_)+1,x=Math.abs(y-e);x<f&&(f=x,c=_)}}const s=Math.ceil(r/c)*c,h=[];for(let d=s;d<=o+c*.001;d+=c){const u=Math.round(d*1e10)/1e10;u>=r&&u<=o&&h.push(u)}return h.length<2&&(h.includes(r)||h.unshift(r),h.includes(o)||h.push(o)),h}function nd(t,e){const[r,o]=t,a=[.01,.02,.05,.1,.15,.2,.25,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.75,2,2.5,3,4,5,6,7,8,10,12,15,20,25,30,40,50,75,100,150,200,500,1e3].filter(f=>f>=r&&f<=o);if(a.length<=e)return a;const l=[1,.1,10,100,.5,2,5,.2,.25,1.5,3,4,20,50],c=[];for(const f of l)a.includes(f)&&c.length<e&&c.push(f);if(c.length<e){const f=a.filter(h=>!c.includes(h)),s=Math.max(1,Math.floor(f.length/(e-c.length)));for(let h=0;h<f.length&&c.length<e;h+=s)c.push(f[h])}return c.sort((f,s)=>f-s)}const rd=.05,od=.12,id=.16,ad=.22,$n={RENDERING_BUFFER:4,DEFAULT_AXIS_GAP:12},Er={FONT_SCALE:.8,PADDING:4,GAP:6},Zn={DEFAULT_COLUMN_WIDTH:100,AXIS_HEIGHT:32,AXIS_LABEL_HEIGHT:32,BOTTOM_MARGIN:16,MIN_FOREST_WIDTH:200,DEFAULT_WIDTH:800,COLUMN_GAP:16},Kn={TITLE_HEIGHT:28,SUBTITLE_HEIGHT:20,CAPTION_HEIGHT:16,FOOTNOTE_HEIGHT:14,DEFAULT_FONT_SIZE:14,REM_BASE:16,TEXT_BASELINE_ADJUSTMENT:1/3},Ae={INDENT_PER_LEVEL:12,TEXT_PADDING:10,DEFAULT_TICK_COUNT:5},jl={GROUP_HEADER_HEIGHT_MULTIPLIER:1.3,OVERALL_ROW_HEIGHT_MULTIPLIER:1.5},Jn={MIN:60,MAX:600,LABEL_MAX:400,VISUAL_MIN:{sparkline:92,bar:100,stars:84,range:84,badge:74,forest:200,viz_bar:150,viz_boxplot:150,viz_violin:150}},Qr={CHEVRON_WIDTH:12,GAP:6,SAFETY_MARGIN:8},ql={SPACING:6},ns={EDGE_THRESHOLD:35,MIN_TICK_SPACING:50},Ci={success:"#16a34a",warning:"#d97706",error:"#dc2626",info:"#2563eb"};function Ul(t,e){return e<=1?0:-((e-1)*ql.SPACING)/2+t*ql.SPACING}Be[D]="src/components/forest/RowInterval.svelte";var sd=j(Rt('<polygon stroke-width="1" class="point-estimate svelte-1wct561"></polygon>'),Be[D],[[251,10]]),ld=j(Rt("<path></path>"),Be[D],[[276,12]]),cd=j(Rt("<line></line>"),Be[D],[[282,12]]),fd=j(Rt("<path></path>"),Be[D],[[293,12]]),ud=j(Rt("<line></line>"),Be[D],[[299,12]]),dd=j(Rt('<circle class="point-estimate svelte-1wct561"></circle>'),Be[D],[[314,12]]),hd=j(Rt('<polygon class="point-estimate svelte-1wct561"></polygon>'),Be[D],[[329,12]]),gd=j(Rt('<polygon class="point-estimate svelte-1wct561"></polygon>'),Be[D],[[341,12]]),vd=j(Rt('<rect class="point-estimate svelte-1wct561"></rect>'),Be[D],[[349,12]]),pd=j(Rt("<line></line><!><!><!>",1),Be[D],[[266,10]]),md=j(Rt('<g class="interval-row svelte-1wct561" role="button" tabindex="0"></g>'),Be[D],[[218,2]]);function Be(t,e){Ce(new.target),Me(e,!0,Be);let r=Bn(e,"weightCol",3,null),o=Bn(e,"isLog",3,!1),i=Bn(e,"forestColumnOptions",3,null);const a=p(m(()=>Bl(e.theme)),"arrowConfig"),l=p(m(()=>{if(!i())return[];const w=b(i().scale,"log")||o();if(i().point&&i().lower&&i().upper){const S=e.row.metadata[i().point],L=e.row.metadata[i().lower],T=e.row.metadata[i().upper],R=!w||de(S,null,!1)&&S>0?S:null,H=!w||de(L,null,!1)&&L>0?L:null,G=!w||de(T,null,!1)&&T>0?T:null;return[{id:"inline",pointCol:i().point,lowerCol:i().lower,upperCol:i().upper,label:null,color:null,shape:null,opacity:null,point:R,lower:H,upper:G}]}return i().effects&&i().effects.length>0?i().effects.map(S=>({...S,point:Yn(e.row.metadata,null,S.pointCol,"point",w),lower:Yn(e.row.metadata,null,S.lowerCol,"lower",w),upper:Yn(e.row.metadata,null,S.upperCol,"upper",w)})):[]}),"effectsToRender"),c=p(m(()=>n(l).some(w=>de(w.point,null,!1)&&!Number.isNaN(w.point)&&de(w.lower,null,!1)&&!Number.isNaN(w.lower)&&de(w.upper,null,!1)&&!Number.isNaN(w.upper))),"hasAnyValidValues"),f=p(m(()=>{var w;return b((w=e.row.style)==null?void 0:w.type,"summary")}),"isSummaryRow");function s(w){return e.clipBounds?w<e.clipBounds[0]:e.xScale(w)<0}function h(w){return e.clipBounds?w>e.clipBounds[1]:e.xScale(w)>e.layout.forestWidth}function d(w){if(!e.clipBounds)return Math.max(0,Math.min(e.layout.forestWidth,e.xScale(w)));const S=Math.max(e.clipBounds[0],Math.min(e.clipBounds[1],w));return e.xScale(S)}const u=p(m(()=>e.clipBounds?e.xScale(e.clipBounds[0]):Tn),"leftArrowX"),g=p(m(()=>e.clipBounds?e.xScale(e.clipBounds[1]):e.layout.forestWidth-Tn),"rightArrowX"),v=p(m(()=>{var w;return((w=e.theme)==null?void 0:w.shapes.summaryHeight)??10}),"diamondHeight"),_=p(m(()=>n(v)/2),"halfDiamondHeight"),y=p(m(()=>{var w;return((w=e.theme)==null?void 0:w.shapes.pointSize)??6}),"basePointSize");function x(w){var L;if(w&&de((L=e.row.markerStyle)==null?void 0:L.size,null,!1))return n(y)*e.row.markerStyle.size;const S=r()?e.row.metadata[r()]:void 0;if(S){const T=.5+Math.sqrt(S/100)*1.5;return Math.min(Math.max(n(y)*T,3),n(y)*2.5)}return n(y)}function k(w,S){var U,O,$,ut;const L=b(S,0),T=e.row.markerStyle,R=(U=e.theme)==null?void 0:U.shapes.effectColors,H=(O=e.theme)==null?void 0:O.shapes.markerShapes,G=["square","circle","diamond","triangle"];let P;L&&(T!=null&&T.color)?P=T.color:w.color?P=w.color:R&&R.length>0?P=R[S%R.length]:P=(($=e.theme)==null?void 0:$.colors.interval)??((ut=e.theme)==null?void 0:ut.colors.primary)??"#2563eb";let J;L&&(T!=null&&T.shape)?J=T.shape:w.shape?J=w.shape:H&&H.length>0?J=H[S%H.length]:J=G[S%G.length];let K;return L&&de(T==null?void 0:T.opacity,null,!1)?K=T.opacity:de(w.opacity,null,!1)?K=w.opacity:K=1,{color:P,shape:J,opacity:K}}var A={...Te()},W=Et(),M=pt(W);{var C=w=>{var S=md();S.__click=function(...L){cr(()=>e.onRowClick,this,L,Be,[222,13])},S.__keydown=L=>{var T;return b(L.key,"Enter")&&((T=e.onRowClick)==null?void 0:T.call(e))},z(()=>Ne(S,21,()=>n(l),Mr,(L,T,R)=>{const H=p(m(()=>de(n(T).point,null,!1)&&!Number.isNaN(n(T).point)&&de(n(T).lower,null,!1)&&!Number.isNaN(n(T).lower)&&de(n(T).upper,null,!1)&&!Number.isNaN(n(T).upper)),"hasValidEffect");n(H);var G=Et(),P=pt(G);{var J=K=>{const U=p(m(()=>e.yPosition+Ul(R,n(l).length)),"effectY");n(U);const O=p(m(()=>e.xScale(n(T).lower)),"x1");n(O);const $=p(m(()=>e.xScale(n(T).upper)),"x2");n($);const ut=p(m(()=>e.xScale(n(T).point)),"cx");n(ut);const rt=p(m(()=>k(n(T),R)),"style");n(rt);const ft=p(m(()=>x(b(R,0))),"pointSize");n(ft);const st=p(m(()=>{var zt;return((zt=e.theme)==null?void 0:zt.colors.intervalLine)??"#475569"}),"lineColor");n(st);var yt=Et(),ne=pt(yt);{var re=zt=>{const We=p(m(()=>[`${n(O)},${n(U)}`,`${n(ut)},${n(U)-n(_)}`,`${n($)},${n(U)}`,`${n(ut)},${n(U)+n(_)}`].join(" ")),"summaryDiamondPoints");n(We);var Dt=sd();et(()=>{var Gt;N(Dt,"points",n(We)),N(Dt,"fill",n(rt).color),N(Dt,"fill-opacity",n(rt).opacity),N(Dt,"stroke",((Gt=e.theme)==null?void 0:Gt.colors.summaryBorder)??"#1d4ed8")}),F(zt,Dt)},wt=zt=>{const We=p(m(()=>s(n(T).lower)),"clippedL");n(We);const Dt=p(m(()=>h(n(T).upper)),"clippedR");n(Dt);const Gt=p(m(()=>d(n(T).lower)),"clampedX1");n(Gt);const Ge=p(m(()=>d(n(T).upper)),"clampedX2");n(Ge);const vt=p(m(()=>n(a).height/2),"whiskerHalfHeight");n(vt);const lt=p(m(()=>d(n(T).point)),"clampedCx");n(lt);var Zt=pd(),qe=pt(Zt),je=ot(qe);{var zn=Ot=>{var Bt=ld();et(Fe=>{N(Bt,"d",Fe),N(Bt,"fill",n(a).color),N(Bt,"fill-opacity",n(a).opacity)},[()=>ia("left",n(u),n(U),n(a))]),F(Ot,Bt)},te=Ot=>{var Bt=cd();et(()=>{var Fe;N(Bt,"x1",n(Gt)),N(Bt,"x2",n(Gt)),N(Bt,"y1",n(U)-n(vt)),N(Bt,"y2",n(U)+n(vt)),N(Bt,"stroke",n(st)),N(Bt,"stroke-width",((Fe=e.theme)==null?void 0:Fe.shapes.lineWidth)??1.5)}),F(Ot,Bt)};z(()=>X(je,Ot=>{n(We)?Ot(zn):Ot(te,!1)}),"if",Be,275,10)}var we=ot(je);{var Ue=Ot=>{var Bt=fd();et(Fe=>{N(Bt,"d",Fe),N(Bt,"fill",n(a).color),N(Bt,"fill-opacity",n(a).opacity)},[()=>ia("right",n(g),n(U),n(a))]),F(Ot,Bt)},Ve=Ot=>{var Bt=ud();et(()=>{var Fe;N(Bt,"x1",n(Ge)),N(Bt,"x2",n(Ge)),N(Bt,"y1",n(U)-n(vt)),N(Bt,"y2",n(U)+n(vt)),N(Bt,"stroke",n(st)),N(Bt,"stroke-width",((Fe=e.theme)==null?void 0:Fe.shapes.lineWidth)??1.5)}),F(Ot,Bt)};z(()=>X(we,Ot=>{n(Dt)?Ot(Ue):Ot(Ve,!1)}),"if",Be,292,10)}var Xe=ot(we);{var Mn=Ot=>{var Bt=dd();et(()=>{N(Bt,"cx",n(lt)),N(Bt,"cy",n(U)),N(Bt,"r",n(ft)),N(Bt,"fill",n(rt).color),N(Bt,"fill-opacity",n(rt).opacity)}),F(Ot,Bt)},an=Ot=>{var Bt=Et(),Fe=pt(Bt);{var ir=_n=>{const Je=p(m(()=>[`${n(lt)},${n(U)-n(ft)}`,`${n(lt)+n(ft)},${n(U)}`,`${n(lt)},${n(U)+n(ft)}`,`${n(lt)-n(ft)},${n(U)}`].join(" ")),"diamondPts");n(Je);var Sn=hd();et(()=>{N(Sn,"points",n(Je)),N(Sn,"fill",n(rt).color),N(Sn,"fill-opacity",n(rt).opacity)}),F(_n,Sn)},vr=_n=>{var Je=Et(),Sn=pt(Je);{var qr=Ye=>{const fn=p(m(()=>[`${n(lt)},${n(U)-n(ft)}`,`${n(lt)+n(ft)},${n(U)+n(ft)}`,`${n(lt)-n(ft)},${n(U)+n(ft)}`].join(" ")),"trianglePts");n(fn);var Fn=gd();et(()=>{N(Fn,"points",n(fn)),N(Fn,"fill",n(rt).color),N(Fn,"fill-opacity",n(rt).opacity)}),F(Ye,Fn)},yn=Ye=>{var fn=vd();et(()=>{N(fn,"x",n(lt)-n(ft)),N(fn,"y",n(U)-n(ft)),N(fn,"width",n(ft)*2),N(fn,"height",n(ft)*2),N(fn,"fill",n(rt).color),N(fn,"fill-opacity",n(rt).opacity)}),F(Ye,fn)};z(()=>X(Sn,Ye=>{b(n(rt).shape,"triangle")?Ye(qr):Ye(yn,!1)},!0),"if",Be,335,10)}F(_n,Je)};z(()=>X(Fe,_n=>{b(n(rt).shape,"diamond")?_n(ir):_n(vr,!1)},!0),"if",Be,322,10)}F(Ot,Bt)};z(()=>X(Xe,Ot=>{b(n(rt).shape,"circle")?Ot(Mn):Ot(an,!1)}),"if",Be,313,10)}et(()=>{var Ot;N(qe,"x1",n(Gt)),N(qe,"x2",n(Ge)),N(qe,"y1",n(U)),N(qe,"y2",n(U)),N(qe,"stroke",n(st)),N(qe,"stroke-width",((Ot=e.theme)==null?void 0:Ot.shapes.lineWidth)??1.5)}),F(zt,Zt)};z(()=>X(ne,zt=>{n(f)?zt(re):zt(wt,!1)}),"if",Be,240,8)}F(K,yt)};z(()=>X(P,K=>{n(H)&&K(J)}),"if",Be,231,6)}F(L,G)}),"each",Be,227,4),Dn("mouseenter",S,L=>{var T;return(T=e.onRowHover)==null?void 0:T.call(e,!0,L)}),Dn("mouseleave",S,L=>{var T;return(T=e.onRowHover)==null?void 0:T.call(e,!1,L)}),F(w,S)};z(()=>X(M,w=>{n(c)&&w(C)}),"if",Be,217,0)}return F(t,W),Se(A)}mo(["click","keydown"]),Nn[D]="src/components/forest/EffectAxis.svelte";function _d(t){return Math.abs(t)<.01?"0":Math.abs(t)>=100?t.toFixed(0):Math.abs(t)>=10?t.toFixed(1):t.toFixed(2)}var yd=j(Rt('<line stroke="var(--wf-border, #e2e8f0)" stroke-width="1" opacity="0.5"></line>'),Nn[D],[[171,6]]),xd=j(Rt('<g><line stroke="var(--wf-border, #e2e8f0)" stroke-width="1"></line><text fill="var(--wf-secondary, #64748b)" font-size="var(--wf-font-size-sm, 0.75rem)" class="svelte-hf6bj6"> </text></g>'),Nn[D],[[187,4,[[188,6],[194,6]]]]),wd=j(Rt('<text text-anchor="middle" fill="var(--wf-secondary, #64748b)" font-size="var(--wf-font-size-sm, 0.75rem)" font-weight="500" class="svelte-hf6bj6"> </text>'),Nn[D],[[208,4]]),bd=j(Rt('<g class="effect-axis svelte-hf6bj6"><line stroke="var(--wf-border, #e2e8f0)" stroke-width="1"></line><!><!><!></g>'),Nn[D],[[157,0,[[159,2]]]]);function Nn(t,e){Ce(new.target),Me(e,!0,Nn);let r=Bn(e,"position",3,"bottom"),o=Bn(e,"plotHeight",3,0);const i=p(m(()=>{var w;return(w=e.theme)==null?void 0:w.axis}),"axisConfig"),a=p(m(()=>{var w;return e.gridlines??((w=n(i))==null?void 0:w.gridlines)??!1}),"showGridlines"),l=p(m(()=>{var w;return((w=n(i))==null?void 0:w.gridlineStyle)??"dotted"}),"gridlineStyle"),c=35,f=p(m(()=>{var w;return((w=n(i))==null?void 0:w.nullTick)??!0}),"shouldIncludeNullTick"),s=p(m(()=>{var ne,re;const[w,S]=e.xScale.domain(),L=e.layout.nullValue,T=L>=w&&L<=S;if((ne=n(i))!=null&&ne.tickValues&&n(i).tickValues.length>0){let wt=n(i).tickValues.filter(zt=>zt>=w&&zt<=S);return n(f)&&T&&!wt.includes(L)&&(wt=[...wt,L].sort((zt,We)=>zt-We)),wt}const R=50,H=Math.max(2,Math.floor(e.layout.forestWidth/R)),P=((re=n(i))==null?void 0:re.tickCount)??null??Math.min(7,H),J=e.baseTicks&&e.baseTicks.length>0?e.baseTicks.filter(wt=>wt>=w&&wt<=S):e.xScale.ticks(P);if(b(J.length,0))return n(f)&&T?[L]:[];const K=e.xScale(L),U=J.filter(wt=>wt<L).reverse(),O=J.filter(wt=>wt>L),$=J.some(wt=>b(wt,L)),ut=[];let rt=K;for(const wt of U){const zt=e.xScale(wt);rt-zt>=R&&(ut.unshift(wt),rt=zt)}const ft=[];let st=K;for(const wt of O){const zt=e.xScale(wt);zt-st>=R&&(ft.push(wt),st=zt)}const yt=[...ut];if(($||n(f)&&T)&&yt.push(L),yt.push(...ft),yt.length<2){const wt=new Set(yt);wt.has(w)||yt.unshift(w),yt.length<2&&!wt.has(S)&&yt.push(S)}return yt}),"ticks"),h=p(m(()=>b(r(),"bottom")?0:e.layout.headerHeight-8),"axisY"),d=p(m(()=>b(r(),"bottom")),"isBottom"),u=p(m(()=>b(n(l),"dashed")?"4,4":b(n(l),"dotted")?"2,2":"none"),"gridlineDashArray");function g(w){return w<c?"start":w>e.layout.forestWidth-c?"end":"middle"}function v(w){return w<c?2:w>e.layout.forestWidth-c?-2:0}var _={...Te()},y=bd(),x=tt(y),k=ot(x);{var A=w=>{var S=Et(),L=pt(S);mn(()=>n(s),T=>T),z(()=>Ne(L,16,()=>n(s),T=>T,(T,R)=>{var H=yd();et((G,P)=>{N(H,"x1",G),N(H,"x2",P),N(H,"y1",(n(d),n(h))),N(H,"y2",n(d)?-o():o()),N(H,"stroke-dasharray",n(u))},[()=>e.xScale(R),()=>e.xScale(R)]),F(T,H)}),"each",Nn,170,4),F(w,S)};z(()=>X(k,w=>{n(a)&&o()>0&&w(A)}),"if",Nn,169,2)}var W=ot(k);mn(()=>n(s),w=>w),z(()=>Ne(W,16,()=>n(s),w=>w,(w,S)=>{const L=p(m(()=>e.xScale(S)),"tickX");n(L);var T=xd(),R=tt(T),H=ot(R),G=tt(H,!0);et((P,J,K)=>{N(T,"transform",`translate(${n(L)??""}, 0)`),N(R,"y1",n(d)?n(h):n(h)-4),N(R,"y2",n(d)?n(h)+4:n(h)),N(H,"x",P),N(H,"y",n(d)?n(h)+16:n(h)-8),N(H,"text-anchor",J),Yt(G,K)},[()=>v(n(L)),()=>g(n(L)),()=>_d(S)]),F(w,T)}),"each",Nn,185,2);var M=ot(W);{var C=w=>{var S=wd(),L=tt(S);et(()=>{N(S,"x",e.layout.forestWidth/2),N(S,"y",n(d)?n(h)+28:n(h)-24),Yt(L,e.axisLabel)}),F(w,S)};z(()=>X(M,w=>{e.axisLabel&&w(C)}),"if",Nn,207,2)}return et((w,S)=>{N(x,"x1",w),N(x,"x2",S),N(x,"y1",n(h)),N(x,"y2",n(h))},[()=>e.xScale.range()[0],()=>e.xScale.range()[1]]),F(t,y),Se(_)}to[D]="src/components/forest/SummaryDiamond.svelte";var Md=j(Rt('<path fill="var(--wf-summary-fill, #2563eb)"></path>'),to[D],[[58,4]]),Sd=j(Rt('<path fill="var(--wf-summary-fill, #2563eb)"></path>'),to[D],[[66,4]]),Ed=j(Rt('<g class="summary-diamond svelte-1g0hzau"><polygon fill="var(--wf-summary-fill, #2563eb)" stroke="var(--wf-summary-border, #1d4ed8)" stroke-width="1" class="svelte-1g0hzau"></polygon><!><!></g>'),to[D],[[47,0,[[49,2]]]]);function to(t,e){Ce(new.target),Me(e,!0,to);const r=p(m(()=>{var v;return((v=e.theme)==null?void 0:v.shapes.summaryHeight)??10}),"diamondHeight"),o=p(m(()=>n(r)/2),"halfHeight"),i=p(m(()=>{const v=e.xScale(e.lower),_=e.xScale(e.point),y=e.xScale(e.upper),x=0,k=e.layout.forestWidth,A=Math.max(x,v),W=Math.min(k,y);return[[A,e.yPosition].join(","),[_,e.yPosition-n(o)].join(","),[W,e.yPosition].join(","),[_,e.yPosition+n(o)].join(",")].join(" ")}),"points"),a=p(m(()=>e.xScale(e.lower)<0),"clippedLeft"),l=p(m(()=>e.xScale(e.upper)>e.layout.forestWidth),"clippedRight");var c={...Te()},f=Ed(),s=tt(f),h=ot(s);{var d=v=>{var _=Md();et(()=>N(_,"d",`M 4 ${e.yPosition??""} L 10 ${e.yPosition-4} L 10 ${e.yPosition+4} Z`)),F(v,_)};z(()=>X(h,v=>{n(a)&&v(d)}),"if",to,57,2)}var u=ot(h);{var g=v=>{var _=Sd();et(()=>N(_,"d",`M ${e.layout.forestWidth-4} ${e.yPosition??""} L ${e.layout.forestWidth-10} ${e.yPosition-4} L ${e.layout.forestWidth-10} ${e.yPosition+4} Z`)),F(v,_)};z(()=>X(u,v=>{n(l)&&v(g)}),"if",to,65,2)}return et(()=>N(s,"points",n(i))),F(t,f),Se(c)}Qn[D]="src/components/forest/PlotHeader.svelte";var kd=j(_t('<h2 class="plot-title svelte-xpghc"> </h2>'),Qn[D],[[17,8]]),Cd=j(_t('<p class="plot-subtitle svelte-xpghc"> </p>'),Qn[D],[[20,8]]),Td=j(_t('<div class="controls-area svelte-xpghc"><!></div>'),Qn[D],[[24,6]]),Nd=j(_t('<div class="header-area svelte-xpghc"><div class="title-area svelte-xpghc"><!> <!></div> <!></div>'),Qn[D],[[14,2,[[15,4]]]]);function Qn(t,e){Ce(new.target),Me(e,!0,Qn);var r={...Te()},o=Et(),i=pt(o);{var a=l=>{var c=Nd(),f=tt(c),s=tt(f);{var h=_=>{var y=kd(),x=tt(y);et(()=>Yt(x,e.title)),F(_,y)};z(()=>X(s,_=>{e.title&&_(h)}),"if",Qn,16,6)}var d=ot(s,2);{var u=_=>{var y=Cd(),x=tt(y);et(()=>Yt(x,e.subtitle)),F(_,y)};z(()=>X(d,_=>{e.subtitle&&_(u)}),"if",Qn,19,6)}var g=ot(f,2);{var v=_=>{var y=Td(),x=tt(y);z(()=>Fu(x,()=>e.controls),"render",Qn,25,8),F(_,y)};z(()=>X(g,_=>{e.controls&&_(v)}),"if",Qn,23,4)}F(l,c)};z(()=>X(i,l=>{(e.title||e.subtitle)&&l(a)}),"if",Qn,13,0)}return F(t,o),Se(r)}Pr[D]="src/components/forest/PlotFooter.svelte";var Hd=j(_t('<p class="plot-caption svelte-7xjsde"> </p>'),Pr[D],[[13,6]]),Ad=j(_t('<p class="plot-footnote svelte-7xjsde"> </p>'),Pr[D],[[16,6]]),Wd=j(_t('<div class="plot-footer svelte-7xjsde"><!> <!></div>'),Pr[D],[[11,2]]);function Pr(t,e){Ce(new.target),Me(e,!0,Pr);var r={...Te()},o=Et(),i=pt(o);{var a=l=>{var c=Wd(),f=tt(c);{var s=u=>{var g=Hd(),v=tt(g);et(()=>Yt(v,e.caption)),F(u,g)};z(()=>X(f,u=>{e.caption&&u(s)}),"if",Pr,12,4)}var h=ot(f,2);{var d=u=>{var g=Ad(),v=tt(g);et(()=>Yt(v,e.footnote)),F(u,g)};z(()=>X(h,u=>{e.footnote&&u(d)}),"if",Pr,15,4)}F(l,c)};z(()=>X(i,l=>{(e.caption||e.footnote)&&l(a)}),"if",Pr,10,0)}return F(t,o),Se(r)}Xo[D]="src/components/forest/GroupHeader.svelte";var Rd=j(_t('<span class="group-count svelte-16smacw"> </span>'),Xo[D],[[64,4]]),Id=j(_t('<div><span><svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path d="M2 4L6 8L10 4" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg></span> <span class="group-label svelte-16smacw"> </span> <!></div>'),Xo[D],[[49,0,[[57,2,[[58,4,[[59,6]]]]],[62,2]]]]);function Xo(t,e){Ce(new.target),Me(e,!0,Xo);let r=Bn(e,"level",3,1);function o(_,y){const x=y==null?void 0:y.groupHeaders;return x?b(_,1)?{fontSize:x.level1FontSize,fontWeight:x.level1FontWeight,italic:x.level1Italic,borderBottom:x.level1BorderBottom}:b(_,2)?{fontSize:x.level2FontSize,fontWeight:x.level2FontWeight,italic:x.level2Italic,borderBottom:x.level2BorderBottom}:{fontSize:x.level3FontSize,fontWeight:x.level3FontWeight,italic:x.level3Italic,borderBottom:x.level3BorderBottom}:{fontSize:void 0,fontWeight:void 0,italic:!1,borderBottom:!1}}const i=p(m(()=>o(r(),e.theme)),"levelStyles");var a={...Te()},l=Id();let c,f;var s=tt(l);let h;var d=ot(s,2),u=tt(d),g=ot(d,2);{var v=_=>{var y=Rd(),x=tt(y);et(()=>Yt(x,`(${e.rowCount??""})`)),F(_,y)};z(()=>X(g,_=>{b(e.rowCount,void 0,!1)&&_(v)}),"if",Xo,63,2)}return et(()=>{c=Cn(l,1,"group-header svelte-16smacw",null,c,{"has-border":n(i).borderBottom,italic:n(i).italic}),N(l,"aria-expanded",!e.group.collapsed),f=He(l,"",f,{"font-size":n(i).fontSize,"font-weight":n(i).fontWeight}),h=Cn(s,1,"group-chevron svelte-16smacw",null,h,{collapsed:e.group.collapsed}),Yt(u,e.group.label)}),F(t,l),Se(a)}yo[D]="src/components/ui/Tooltip.svelte";var zd=j(_t('<div class="tooltip-row svelte-c43bsi"><span class="tooltip-label svelte-c43bsi"> </span> <span class="tooltip-value svelte-c43bsi"> </span></div>'),yo[D],[[77,8,[[78,10],[79,10]]]]),Fd=j(_t('<div class="tabviz-tooltip svelte-c43bsi"><div class="tooltip-header svelte-c43bsi"> </div> <div class="tooltip-body svelte-c43bsi"><div class="tooltip-row tooltip-estimate svelte-c43bsi"><span class="tooltip-label svelte-c43bsi">Estimate</span> <span class="tooltip-value svelte-c43bsi"> </span></div> <!></div></div>'),yo[D],[[67,2,[[68,4],[69,4,[[70,6,[[71,8],[72,8]]]]]]]]);function yo(t,e){Ce(new.target),Me(e,!0,yo);let r=Bn(e,"fields",3,null),o=p(Tt(void 0),"tooltipEl");function i(u){return b(u,null)||b(u,void 0)?"—":b(typeof u,"number")?Number.isInteger(u)?u.toString():u.toFixed(3):String(u)}const a=p(m(()=>!e.row||!r()||b(r().length,0)?[]:Object.entries(e.row.metadata).filter(([g])=>r().includes(g))),"displayFields"),l=p(m(()=>{if(!e.position)return"";const u=220,g=100,v=10;let _=e.position.x+v,y=e.position.y-v;const x=b(typeof window,"undefined",!1)?window.innerWidth:1e3;return b(typeof window,"undefined",!1)&&window.innerHeight,_+u>x-v&&(_=e.position.x-u-v),y-g<v?(y=e.position.y+v,`left: ${_}px; top: ${y}px; transform: none;`):`left: ${_}px; top: ${y}px;`}),"positionStyle"),c=p(m(()=>e.row&&e.position&&r()&&r().length>0),"shouldShow");var f={...Te()},s=Et(),h=pt(s);{var d=u=>{var g=Fd(),v=tt(g),_=tt(v),y=ot(v,2),x=tt(y),k=ot(tt(x),2),A=tt(k),W=ot(x,2);mn(()=>n(a),([M,C])=>M),z(()=>Ne(W,17,()=>n(a),([M,C])=>M,(M,C)=>{var w=m(()=>Aa(n(C),2));let S=()=>n(w)[0];S();let L=()=>n(w)[1];L();var T=zd(),R=tt(T),H=tt(R,!0);var G=ot(R,2),P=tt(G,!0);et(J=>{Yt(H,S()),Yt(P,J)},[()=>i(L())]),F(M,T)}),"each",yo,76,6),_o(g,M=>it(o,M),()=>n(o)),et((M,C,w)=>{He(g,n(l)),Yt(_,e.row.label),Yt(A,`${M??""} (${C??""}, ${w??""})`)},[()=>i(e.row.point),()=>i(e.row.lower),()=>i(e.row.upper)]),F(u,g)};z(()=>X(h,u=>{n(c)&&u(d)}),"if",yo,66,0)}return F(t,s),Se(f)}xo[D]="src/components/table/CellBar.svelte";var Ld=j(_t('<span class="bar-label svelte-1l4k3z2"> </span>'),xo[D],[[39,6]]),Pd=j(_t('<div class="cell-bar svelte-1l4k3z2"><div class="bar-track svelte-1l4k3z2"><div class="bar-fill svelte-1l4k3z2"></div></div> <!></div>'),xo[D],[[30,2,[[31,4,[[32,6]]]]]]);function xo(t,e){Ce(new.target),Me(e,!0,xo);let r=Bn(e,"maxValue",3,100);const o=p(m(()=>{var u;return((u=e.options)==null?void 0:u.maxValue)??r()}),"effectiveMax"),i=p(m(()=>{var u;return((u=e.options)==null?void 0:u.showLabel)??!0}),"showLabel"),a=p(m(()=>{var u;return((u=e.options)==null?void 0:u.color)??"var(--wf-primary, #2563eb)"}),"barColor"),l=p(m(()=>()=>b(e.value,void 0)||b(e.value,null)||n(o)<=0?0:Math.min(100,Math.max(0,e.value/n(o)*100))),"percentage"),c=p(m(()=>()=>b(e.value,void 0)||b(e.value,null)?"":e.value>=100?e.value.toFixed(0):e.value>=10?e.value.toFixed(1):e.value.toFixed(2)),"formattedValue");var f={...Te()},s=Et(),h=pt(s);{var d=u=>{var g=Pd(),v=tt(g),_=tt(v);let y;var x=ot(v,2);{var k=A=>{var W=Ld(),M=tt(W);et(C=>Yt(M,C),[()=>n(c)()]),F(A,W)};z(()=>X(x,A=>{n(i)&&A(k)}),"if",xo,38,4)}et(A=>y=He(_,"",y,A),[()=>({width:`${n(l)()??""}%`,"background-color":n(a)})]),F(u,g)};z(()=>X(h,u=>{b(e.value,void 0,!1)&&b(e.value,null,!1)&&u(d)}),"if",xo,29,0)}return F(t,s),Se(f)}Yo[D]="src/components/table/CellPvalue.svelte";var Dd=j(_t('<span class="pvalue-stars svelte-1hymfkc"> </span>'),Yo[D],[[99,4]]),Bd=j(_t('<span><span class="pvalue-number svelte-1hymfkc"> </span> <!></span>'),Yo[D],[[86,0,[[97,2]]]]);function Yo(t,e){Ce(new.target),Me(e,!0,Yo);const r=p(m(()=>{var H;return((H=e.cellStyle)==null?void 0:H.bold)??!1}),"isBold"),o=p(m(()=>{var H;return((H=e.cellStyle)==null?void 0:H.italic)??!1}),"isItalic"),i=p(m(()=>{var H;return((H=e.cellStyle)==null?void 0:H.color)??null}),"textColor"),a=p(m(()=>{var H;return((H=e.cellStyle)==null?void 0:H.bg)??null}),"bgColor"),l=p(m(()=>{var H;return((H=e.cellStyle)==null?void 0:H.emphasis)??!1}),"isEmphasis"),c=p(m(()=>{var H;return((H=e.cellStyle)==null?void 0:H.muted)??!1}),"isMuted"),f=p(m(()=>{var H;return((H=e.cellStyle)==null?void 0:H.accent)??!1}),"isAccent"),s={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻","+":"⁺"};function h(H){return H.split("").map(G=>s[G]??G).join("")}const d=p(m(()=>{var H;return((H=e.options)==null?void 0:H.stars)??!1}),"showStars"),u=p(m(()=>{var H;return((H=e.options)==null?void 0:H.thresholds)??[.05,.01,.001]}),"thresholds"),g=p(m(()=>{var H;return((H=e.options)==null?void 0:H.format)??"auto"}),"format"),v=p(m(()=>{var H;return((H=e.options)==null?void 0:H.digits)??2}),"digits"),_=p(m(()=>{var H;return((H=e.options)==null?void 0:H.expThreshold)??.001}),"expThreshold"),y=p(m(()=>{var H;return((H=e.options)==null?void 0:H.abbrevThreshold)??null}),"abbrevThreshold"),x=p(m(()=>{if(!n(d)||b(e.value,void 0)||b(e.value,null))return"";const[H,G,P]=n(u);return e.value<P?"***":e.value<G?"**":e.value<H?"*":""}),"stars"),k=p(m(()=>{if(b(e.value,void 0)||b(e.value,null))return"";if(b(n(y),null,!1)&&e.value<n(y))return`<${n(y)}`;if(b(n(g),"scientific")||b(n(g),"auto")&&e.value<n(_)){const H=Math.floor(Math.log10(e.value));return`${(e.value/Math.pow(10,H)).toPrecision(n(v))}×10${h(H.toString())}`}return e.value>=.1?e.value.toFixed(n(v)):e.value>=.01?e.value.toFixed(n(v)+1):e.value.toFixed(n(v)+2)}),"formattedValue"),A=p(m(()=>n(x).length>0),"isSignificant");var W={...Te()},M=Bd();let C,w;var S=tt(M),L=tt(S),T=ot(S,2);{var R=H=>{var G=Dd(),P=tt(G);et(()=>Yt(P,n(x))),F(H,G)};z(()=>X(T,H=>{n(x)&&H(R)}),"if",Yo,98,2)}return et(()=>{C=Cn(M,1,"cell-pvalue svelte-1hymfkc",null,C,{significant:n(A),"cell-bold":n(r),"cell-italic":n(o),"cell-emphasis":n(l),"cell-muted":n(c),"cell-accent":n(f)}),w=He(M,"",w,{color:n(i),"background-color":n(a)}),Yt(L,n(k))}),F(t,M),Se(W)}function sa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gd(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Xl(t){let e,r,o;t.length!==2?(e=sa,r=(c,f)=>sa(t(c),f),o=(c,f)=>t(c)-f):(e=t===sa||t===Gd?t:Vd,r=t,o=t);function i(c,f,s=0,h=c.length){if(s<h){if(e(f,f)!==0)return h;do{const d=s+h>>>1;r(c[d],f)<0?s=d+1:h=d}while(s<h)}return s}function a(c,f,s=0,h=c.length){if(s<h){if(e(f,f)!==0)return h;do{const d=s+h>>>1;r(c[d],f)<=0?s=d+1:h=d}while(s<h)}return s}function l(c,f,s=0,h=c.length){const d=i(c,f,s,h-1);return d>s&&o(c[d-1],f)>-o(c[d],f)?d-1:d}return{left:i,center:l,right:a}}function Vd(){return 0}function Od(t){return t===null?NaN:+t}const jd=Xl(sa).right;Xl(Od).center;const qd=Math.sqrt(50),Ud=Math.sqrt(10),Xd=Math.sqrt(2);function la(t,e,r){const o=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(o)),a=o/Math.pow(10,i),l=a>=qd?10:a>=Ud?5:a>=Xd?2:1;let c,f,s;return i<0?(s=Math.pow(10,-i)/l,c=Math.round(t*s),f=Math.round(e*s),c/s<t&&++c,f/s>e&&--f,s=-s):(s=Math.pow(10,i)*l,c=Math.round(t/s),f=Math.round(e/s),c*s<t&&++c,f*s>e&&--f),f<c&&.5<=r&&r<2?la(t,e,r*2):[c,f,s]}function rs(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const o=e<t,[i,a,l]=o?la(e,t,r):la(t,e,r);if(!(a>=i))return[];const c=a-i+1,f=new Array(c);if(o)if(l<0)for(let s=0;s<c;++s)f[s]=(a-s)/-l;else for(let s=0;s<c;++s)f[s]=(a-s)*l;else if(l<0)for(let s=0;s<c;++s)f[s]=(i+s)/-l;else for(let s=0;s<c;++s)f[s]=(i+s)*l;return f}function os(t,e,r){return e=+e,t=+t,r=+r,la(t,e,r)[2]}function Yd(t,e,r){e=+e,t=+t,r=+r;const o=e<t,i=o?os(e,t,r):os(t,e,r);return(o?-1:1)*(i<0?1/-i:i)}function Yl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function is(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function $l(t,e){var r=Object.create(t.prototype);for(var o in e)r[o]=e[o];return r}function Ti(){}var Ni=.7,ca=1/Ni,$o="\\s*([+-]?\\d+)\\s*",Hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",kr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$d=/^#([0-9a-f]{3,8})$/,Zd=new RegExp(`^rgb\\(${$o},${$o},${$o}\\)$`),Kd=new RegExp(`^rgb\\(${kr},${kr},${kr}\\)$`),Jd=new RegExp(`^rgba\\(${$o},${$o},${$o},${Hi}\\)$`),Qd=new RegExp(`^rgba\\(${kr},${kr},${kr},${Hi}\\)$`),th=new RegExp(`^hsl\\(${Hi},${kr},${kr}\\)$`),eh=new RegExp(`^hsla\\(${Hi},${kr},${kr},${Hi}\\)$`),Zl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};is(Ti,Ai,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Kl,formatHex:Kl,formatHex8:nh,formatHsl:rh,formatRgb:Jl,toString:Jl});function Kl(){return this.rgb().formatHex()}function nh(){return this.rgb().formatHex8()}function rh(){return rc(this).formatHsl()}function Jl(){return this.rgb().formatRgb()}function Ai(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=$d.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Ql(e):r===3?new Hn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?fa(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?fa(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Zd.exec(t))?new Hn(e[1],e[2],e[3],1):(e=Kd.exec(t))?new Hn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Jd.exec(t))?fa(e[1],e[2],e[3],e[4]):(e=Qd.exec(t))?fa(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=th.exec(t))?nc(e[1],e[2]/100,e[3]/100,1):(e=eh.exec(t))?nc(e[1],e[2]/100,e[3]/100,e[4]):Zl.hasOwnProperty(t)?Ql(Zl[t]):t==="transparent"?new Hn(NaN,NaN,NaN,0):null}function Ql(t){return new Hn(t>>16&255,t>>8&255,t&255,1)}function fa(t,e,r,o){return o<=0&&(t=e=r=NaN),new Hn(t,e,r,o)}function oh(t){return t instanceof Ti||(t=Ai(t)),t?(t=t.rgb(),new Hn(t.r,t.g,t.b,t.opacity)):new Hn}function as(t,e,r,o){return arguments.length===1?oh(t):new Hn(t,e,r,o??1)}function Hn(t,e,r,o){this.r=+t,this.g=+e,this.b=+r,this.opacity=+o}is(Hn,as,$l(Ti,{brighter(t){return t=t==null?ca:Math.pow(ca,t),new Hn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ni:Math.pow(Ni,t),new Hn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Hn(wo(this.r),wo(this.g),wo(this.b),ua(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tc,formatHex:tc,formatHex8:ih,formatRgb:ec,toString:ec}));function tc(){return`#${bo(this.r)}${bo(this.g)}${bo(this.b)}`}function ih(){return`#${bo(this.r)}${bo(this.g)}${bo(this.b)}${bo((isNaN(this.opacity)?1:this.opacity)*255)}`}function ec(){const t=ua(this.opacity);return`${t===1?"rgb(":"rgba("}${wo(this.r)}, ${wo(this.g)}, ${wo(this.b)}${t===1?")":`, ${t})`}`}function ua(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function wo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function bo(t){return t=wo(t),(t<16?"0":"")+t.toString(16)}function nc(t,e,r,o){return o<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new fr(t,e,r,o)}function rc(t){if(t instanceof fr)return new fr(t.h,t.s,t.l,t.opacity);if(t instanceof Ti||(t=Ai(t)),!t)return new fr;if(t instanceof fr)return t;t=t.rgb();var e=t.r/255,r=t.g/255,o=t.b/255,i=Math.min(e,r,o),a=Math.max(e,r,o),l=NaN,c=a-i,f=(a+i)/2;return c?(e===a?l=(r-o)/c+(r<o)*6:r===a?l=(o-e)/c+2:l=(e-r)/c+4,c/=f<.5?a+i:2-a-i,l*=60):c=f>0&&f<1?0:l,new fr(l,c,f,t.opacity)}function ah(t,e,r,o){return arguments.length===1?rc(t):new fr(t,e,r,o??1)}function fr(t,e,r,o){this.h=+t,this.s=+e,this.l=+r,this.opacity=+o}is(fr,ah,$l(Ti,{brighter(t){return t=t==null?ca:Math.pow(ca,t),new fr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ni:Math.pow(Ni,t),new fr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,o=r+(r<.5?r:1-r)*e,i=2*r-o;return new Hn(ss(t>=240?t-240:t+120,i,o),ss(t,i,o),ss(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new fr(oc(this.h),da(this.s),da(this.l),ua(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ua(this.opacity);return`${t===1?"hsl(":"hsla("}${oc(this.h)}, ${da(this.s)*100}%, ${da(this.l)*100}%${t===1?")":`, ${t})`}`}}));function oc(t){return t=(t||0)%360,t<0?t+360:t}function da(t){return Math.max(0,Math.min(1,t||0))}function ss(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const ls=t=>()=>t;function sh(t,e){return function(r){return t+r*e}}function lh(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(o){return Math.pow(t+o*e,r)}}function ch(t){return(t=+t)==1?ic:function(e,r){return r-e?lh(e,r,t):ls(isNaN(e)?r:e)}}function ic(t,e){var r=e-t;return r?sh(t,r):ls(isNaN(t)?e:t)}const ac=(function t(e){var r=ch(e);function o(i,a){var l=r((i=as(i)).r,(a=as(a)).r),c=r(i.g,a.g),f=r(i.b,a.b),s=ic(i.opacity,a.opacity);return function(h){return i.r=l(h),i.g=c(h),i.b=f(h),i.opacity=s(h),i+""}}return o.gamma=t,o})(1);function fh(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(a){for(i=0;i<r;++i)o[i]=t[i]*(1-a)+e[i]*a;return o}}function uh(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function dh(t,e){var r=e?e.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r),l;for(l=0;l<o;++l)i[l]=us(t[l],e[l]);for(;l<r;++l)a[l]=e[l];return function(c){for(l=0;l<o;++l)a[l]=i[l](c);return a}}function hh(t,e){var r=new Date;return t=+t,e=+e,function(o){return r.setTime(t*(1-o)+e*o),r}}function ha(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function gh(t,e){var r={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=us(t[i],e[i]):o[i]=e[i];return function(a){for(i in r)o[i]=r[i](a);return o}}var cs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fs=new RegExp(cs.source,"g");function vh(t){return function(){return t}}function ph(t){return function(e){return t(e)+""}}function mh(t,e){var r=cs.lastIndex=fs.lastIndex=0,o,i,a,l=-1,c=[],f=[];for(t=t+"",e=e+"";(o=cs.exec(t))&&(i=fs.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),c[l]?c[l]+=a:c[++l]=a),(o=o[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,f.push({i:l,x:ha(o,i)})),r=fs.lastIndex;return r<e.length&&(a=e.slice(r),c[l]?c[l]+=a:c[++l]=a),c.length<2?f[0]?ph(f[0].x):vh(e):(e=f.length,function(s){for(var h=0,d;h<e;++h)c[(d=f[h]).i]=d.x(s);return c.join("")})}function us(t,e){var r=typeof e,o;return e==null||r==="boolean"?ls(e):(r==="number"?ha:r==="string"?(o=Ai(e))?(e=o,ac):mh:e instanceof Ai?ac:e instanceof Date?hh:uh(e)?fh:Array.isArray(e)?dh:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?gh:ha)(t,e)}function _h(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function yh(t){return function(){return t}}function xh(t){return+t}var sc=[0,1];function Zo(t){return t}function ds(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:yh(isNaN(e)?NaN:.5)}function wh(t,e){var r;return t>e&&(r=t,t=e,e=r),function(o){return Math.max(t,Math.min(e,o))}}function bh(t,e,r){var o=t[0],i=t[1],a=e[0],l=e[1];return i<o?(o=ds(i,o),a=r(l,a)):(o=ds(o,i),a=r(a,l)),function(c){return a(o(c))}}function Mh(t,e,r){var o=Math.min(t.length,e.length)-1,i=new Array(o),a=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)i[l]=ds(t[l],t[l+1]),a[l]=r(e[l],e[l+1]);return function(c){var f=jd(t,c,1,o)-1;return a[f](i[f](c))}}function lc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function cc(){var t=sc,e=sc,r=us,o,i,a,l=Zo,c,f,s;function h(){var u=Math.min(t.length,e.length);return l!==Zo&&(l=wh(t[0],t[u-1])),c=u>2?Mh:bh,f=s=null,d}function d(u){return u==null||isNaN(u=+u)?a:(f||(f=c(t.map(o),e,r)))(o(l(u)))}return d.invert=function(u){return l(i((s||(s=c(e,t.map(o),ha)))(u)))},d.domain=function(u){return arguments.length?(t=Array.from(u,xh),h()):t.slice()},d.range=function(u){return arguments.length?(e=Array.from(u),h()):e.slice()},d.rangeRound=function(u){return e=Array.from(u),r=_h,h()},d.clamp=function(u){return arguments.length?(l=u?!0:Zo,h()):l!==Zo},d.interpolate=function(u){return arguments.length?(r=u,h()):r},d.unknown=function(u){return arguments.length?(a=u,d):a},function(u,g){return o=u,i=g,h()}}function Sh(){return cc()(Zo,Zo)}function Eh(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ga(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,o=t.slice(0,r);return[o.length>1?o[0]+o.slice(2):o,+t.slice(r+1)]}function Ko(t){return t=ga(Math.abs(t)),t?t[1]:NaN}function kh(t,e){return function(r,o){for(var i=r.length,a=[],l=0,c=t[0],f=0;i>0&&c>0&&(f+c+1>o&&(c=Math.max(1,o-f)),a.push(r.substring(i-=c,i+c)),!((f+=c+1)>o));)c=t[l=(l+1)%t.length];return a.reverse().join(e)}}function Ch(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Th=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wi(t){if(!(e=Th.exec(t)))throw new Error("invalid format: "+t);var e;return new hs({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Wi.prototype=hs.prototype;function hs(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}hs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nh(t){t:for(var e=t.length,r=1,o=-1,i;r<e;++r)switch(t[r]){case".":o=i=r;break;case"0":o===0&&(o=r),i=r;break;default:if(!+t[r])break t;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var fc;function Hh(t,e){var r=ga(t,e);if(!r)return t+"";var o=r[0],i=r[1],a=i-(fc=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=o.length;return a===l?o:a>l?o+new Array(a-l+1).join("0"):a>0?o.slice(0,a)+"."+o.slice(a):"0."+new Array(1-a).join("0")+ga(t,Math.max(0,e+a-1))[0]}function uc(t,e){var r=ga(t,e);if(!r)return t+"";var o=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const dc={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Eh,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>uc(t*100,e),r:uc,s:Hh,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function hc(t){return t}var gc=Array.prototype.map,vc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ah(t){var e=t.grouping===void 0||t.thousands===void 0?hc:kh(gc.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?hc:Ch(gc.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function s(d){d=Wi(d);var u=d.fill,g=d.align,v=d.sign,_=d.symbol,y=d.zero,x=d.width,k=d.comma,A=d.precision,W=d.trim,M=d.type;M==="n"?(k=!0,M="g"):dc[M]||(A===void 0&&(A=12),W=!0,M="g"),(y||u==="0"&&g==="=")&&(y=!0,u="0",g="=");var C=_==="$"?r:_==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",w=_==="$"?o:/[%p]/.test(M)?l:"",S=dc[M],L=/[defgprs%]/.test(M);A=A===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function T(R){var H=C,G=w,P,J,K;if(M==="c")G=S(R)+G,R="";else{R=+R;var U=R<0||1/R<0;if(R=isNaN(R)?f:S(Math.abs(R),A),W&&(R=Nh(R)),U&&+R==0&&v!=="+"&&(U=!1),H=(U?v==="("?v:c:v==="-"||v==="("?"":v)+H,G=(M==="s"?vc[8+fc/3]:"")+G+(U&&v==="("?")":""),L){for(P=-1,J=R.length;++P<J;)if(K=R.charCodeAt(P),48>K||K>57){G=(K===46?i+R.slice(P+1):R.slice(P))+G,R=R.slice(0,P);break}}}k&&!y&&(R=e(R,1/0));var O=H.length+R.length+G.length,$=O<x?new Array(x-O+1).join(u):"";switch(k&&y&&(R=e($+R,$.length?x-G.length:1/0),$=""),g){case"<":R=H+R+G+$;break;case"=":R=H+$+R+G;break;case"^":R=$.slice(0,O=$.length>>1)+H+R+G+$.slice(O);break;default:R=$+H+R+G;break}return a(R)}return T.toString=function(){return d+""},T}function h(d,u){var g=s((d=Wi(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(Ko(u)/3)))*3,_=Math.pow(10,-v),y=vc[8+v/3];return function(x){return g(_*x)+y}}return{format:s,formatPrefix:h}}var va,gs,pc;Wh({thousands:",",grouping:[3],currency:["$",""]});function Wh(t){return va=Ah(t),gs=va.format,pc=va.formatPrefix,va}function Rh(t){return Math.max(0,-Ko(Math.abs(t)))}function Ih(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ko(e)/3)))*3-Ko(Math.abs(t)))}function zh(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ko(e)-Ko(t))+1}function Fh(t,e,r,o){var i=Yd(t,e,r),a;switch(o=Wi(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(a=Ih(i,l))&&(o.precision=a),pc(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(a=zh(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=a-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(a=Rh(i))&&(o.precision=a-(o.type==="%")*2);break}}return gs(o)}function Lh(t){var e=t.domain;return t.ticks=function(r){var o=e();return rs(o[0],o[o.length-1],r??10)},t.tickFormat=function(r,o){var i=e();return Fh(i[0],i[i.length-1],r??10,o)},t.nice=function(r){r==null&&(r=10);var o=e(),i=0,a=o.length-1,l=o[i],c=o[a],f,s,h=10;for(c<l&&(s=l,l=c,c=s,s=i,i=a,a=s);h-- >0;){if(s=os(l,c,r),s===f)return o[i]=l,o[a]=c,e(o);if(s>0)l=Math.floor(l/s)*s,c=Math.ceil(c/s)*s;else if(s<0)l=Math.ceil(l*s)/s,c=Math.floor(c*s)/s;else break;f=s}return t},t}function tr(){var t=Sh();return t.copy=function(){return lc(t,tr())},Yl.apply(t,arguments),Lh(t)}function Ph(t,e){t=t.slice();var r=0,o=t.length-1,i=t[r],a=t[o],l;return a<i&&(l=r,r=o,o=l,l=i,i=a,a=l),t[r]=e.floor(i),t[o]=e.ceil(a),t}function mc(t){return Math.log(t)}function _c(t){return Math.exp(t)}function Dh(t){return-Math.log(-t)}function Bh(t){return-Math.exp(-t)}function Gh(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Vh(t){return t===10?Gh:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Oh(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function yc(t){return(e,r)=>-t(-e,r)}function jh(t){const e=t(mc,_c),r=e.domain;let o=10,i,a;function l(){return i=Oh(o),a=Vh(o),r()[0]<0?(i=yc(i),a=yc(a),t(Dh,Bh)):t(mc,_c),e}return e.base=function(c){return arguments.length?(o=+c,l()):o},e.domain=function(c){return arguments.length?(r(c),l()):r()},e.ticks=c=>{const f=r();let s=f[0],h=f[f.length-1];const d=h<s;d&&([s,h]=[h,s]);let u=i(s),g=i(h),v,_;const y=c==null?10:+c;let x=[];if(!(o%1)&&g-u<y){if(u=Math.floor(u),g=Math.ceil(g),s>0){for(;u<=g;++u)for(v=1;v<o;++v)if(_=u<0?v/a(-u):v*a(u),!(_<s)){if(_>h)break;x.push(_)}}else for(;u<=g;++u)for(v=o-1;v>=1;--v)if(_=u>0?v/a(-u):v*a(u),!(_<s)){if(_>h)break;x.push(_)}x.length*2<y&&(x=rs(s,h,y))}else x=rs(u,g,Math.min(g-u,y)).map(a);return d?x.reverse():x},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=o===10?"s":","),typeof f!="function"&&(!(o%1)&&(f=Wi(f)).precision==null&&(f.trim=!0),f=gs(f)),c===1/0)return f;const s=Math.max(1,o*c/e.ticks().length);return h=>{let d=h/a(Math.round(i(h)));return d*o<o-.5&&(d*=o),d<=s?f(h):""}},e.nice=()=>r(Ph(r(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function Dr(){const t=jh(cc()).domain([1,10]);return t.copy=()=>lc(t,Dr()).base(t.base()),Yl.apply(t,arguments),t}function nn(t){return function(){return t}}const xc=1e-12,vs=Math.PI,ps=2*vs,Mo=1e-6,qh=ps-Mo;function wc(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Uh(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return wc;const r=10**e;return function(o){this._+=o[0];for(let i=1,a=o.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+o[i]}}class Xh{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?wc:Uh(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,o,i){this._append`Q${+e},${+r},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,r,o,i,a,l){this._append`C${+e},${+r},${+o},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,r,o,i,a){if(e=+e,r=+r,o=+o,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,c=this._y1,f=o-e,s=i-r,h=l-e,d=c-r,u=h*h+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(u>Mo)if(!(Math.abs(d*f-s*h)>Mo)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let g=o-l,v=i-c,_=f*f+s*s,y=g*g+v*v,x=Math.sqrt(_),k=Math.sqrt(u),A=a*Math.tan((vs-Math.acos((_+u-y)/(2*x*k)))/2),W=A/k,M=A/x;Math.abs(W-1)>Mo&&this._append`L${e+W*h},${r+W*d}`,this._append`A${a},${a},0,0,${+(d*g>h*v)},${this._x1=e+M*f},${this._y1=r+M*s}`}}arc(e,r,o,i,a,l){if(e=+e,r=+r,o=+o,l=!!l,o<0)throw new Error(`negative radius: ${o}`);let c=o*Math.cos(i),f=o*Math.sin(i),s=e+c,h=r+f,d=1^l,u=l?i-a:a-i;this._x1===null?this._append`M${s},${h}`:(Math.abs(this._x1-s)>Mo||Math.abs(this._y1-h)>Mo)&&this._append`L${s},${h}`,o&&(u<0&&(u=u%ps+ps),u>qh?this._append`A${o},${o},0,1,${d},${e-c},${r-f}A${o},${o},0,1,${d},${this._x1=s},${this._y1=h}`:u>Mo&&this._append`A${o},${o},0,${+(u>=vs)},${d},${this._x1=e+o*Math.cos(a)},${this._y1=r+o*Math.sin(a)}`)}rect(e,r,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function bc(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const o=Math.floor(r);if(!(o>=0))throw new RangeError(`invalid digits: ${r}`);e=o}return t},()=>new Xh(e)}function Mc(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Sc(t){this._context=t}Sc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ec(t){return new Sc(t)}function kc(t){return t[0]}function Cc(t){return t[1]}function Tc(t,e){var r=nn(!0),o=null,i=Ec,a=null,l=bc(c);t=typeof t=="function"?t:t===void 0?kc:nn(t),e=typeof e=="function"?e:e===void 0?Cc:nn(e);function c(f){var s,h=(f=Mc(f)).length,d,u=!1,g;for(o==null&&(a=i(g=l())),s=0;s<=h;++s)!(s<h&&r(d=f[s],s,f))===u&&((u=!u)?a.lineStart():a.lineEnd()),u&&a.point(+t(d,s,f),+e(d,s,f));if(g)return a=null,g+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:nn(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:nn(+f),c):e},c.defined=function(f){return arguments.length?(r=typeof f=="function"?f:nn(!!f),c):r},c.curve=function(f){return arguments.length?(i=f,o!=null&&(a=i(o)),c):i},c.context=function(f){return arguments.length?(f==null?o=a=null:a=i(o=f),c):o},c}function Yh(t,e,r){var o=null,i=nn(!0),a=null,l=Ec,c=null,f=bc(s);t=typeof t=="function"?t:t===void 0?kc:nn(+t),e=typeof e=="function"?e:nn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Cc:nn(+r);function s(d){var u,g,v,_=(d=Mc(d)).length,y,x=!1,k,A=new Array(_),W=new Array(_);for(a==null&&(c=l(k=f())),u=0;u<=_;++u){if(!(u<_&&i(y=d[u],u,d))===x)if(x=!x)g=u,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),v=u-1;v>=g;--v)c.point(A[v],W[v]);c.lineEnd(),c.areaEnd()}x&&(A[u]=+t(y,u,d),W[u]=+e(y,u,d),c.point(o?+o(y,u,d):A[u],r?+r(y,u,d):W[u]))}if(k)return c=null,k+""||null}function h(){return Tc().defined(i).curve(l).context(a)}return s.x=function(d){return arguments.length?(t=typeof d=="function"?d:nn(+d),o=null,s):t},s.x0=function(d){return arguments.length?(t=typeof d=="function"?d:nn(+d),s):t},s.x1=function(d){return arguments.length?(o=d==null?null:typeof d=="function"?d:nn(+d),s):o},s.y=function(d){return arguments.length?(e=typeof d=="function"?d:nn(+d),r=null,s):e},s.y0=function(d){return arguments.length?(e=typeof d=="function"?d:nn(+d),s):e},s.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:nn(+d),s):r},s.lineX0=s.lineY0=function(){return h().x(t).y(e)},s.lineY1=function(){return h().x(t).y(r)},s.lineX1=function(){return h().x(o).y(e)},s.defined=function(d){return arguments.length?(i=typeof d=="function"?d:nn(!!d),s):i},s.curve=function(d){return arguments.length?(l=d,a!=null&&(c=l(a)),s):l},s.context=function(d){return arguments.length?(d==null?a=c=null:c=l(a=d),s):a},s}function Nc(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function ms(t,e){this._context=t,this._k=(1-e)/6}ms.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Nc(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Nc(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},(function t(e){function r(o){return new ms(o,e)}return r.tension=function(o){return t(+o)},r})(0);function $h(t,e,r){var o=t._x1,i=t._y1,a=t._x2,l=t._y2;if(t._l01_a>xc){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,f=3*t._l01_a*(t._l01_a+t._l12_a);o=(o*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/f,i=(i*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/f}if(t._l23_a>xc){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*s+t._x1*t._l23_2a-e*t._l12_2a)/h,l=(l*s+t._y1*t._l23_2a-r*t._l12_2a)/h}t._context.bezierCurveTo(o,i,a,l,t._x2,t._y2)}function Hc(t,e){this._context=t,this._alpha=e}Hc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,o=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+o*o,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:$h(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Ac=(function t(e){function r(o){return e?new Hc(o,e):new ms(o,0)}return r.alpha=function(o){return t(+o)},r})(.5);An[D]="src/components/table/CellSparkline.svelte";var Zh=j(Rt('<rect opacity="0.8"></rect>'),An[D],[[72,8]]),Kh=j(Rt('<path opacity="0.3"></path><path fill="none" stroke-width="1.5"></path>',1),An[D],[[82,6],[83,6]]),Jh=j(Rt('<circle r="2"></circle>'),An[D],[[89,8]]),Qh=j(Rt('<path fill="none" stroke-width="1.5"></path><!>',1),An[D],[[85,6]]),tg=j(Rt('<text text-anchor="middle" dominant-baseline="middle" fill="var(--wf-muted, #94a3b8)" font-size="8">--</text>'),An[D],[[93,4]]),eg=j(Rt('<svg class="cell-sparkline svelte-hfafss"><!></svg>'),An[D],[[68,0]]);function An(t,e){Ce(new.target),Me(e,!0,An);const r=p(m(()=>{var y;return((y=e.options)==null?void 0:y.type)??"line"}),"chartType"),o=p(m(()=>{var y;return((y=e.options)==null?void 0:y.height)??20}),"chartHeight"),i=p(m(()=>{var y;return((y=e.options)==null?void 0:y.color)??"var(--wf-primary, #2563eb)"}),"chartColor"),a=60,l=p(m(()=>!e.data||!Array.isArray(e.data)||b(e.data.length,0)?[]:Array.isArray(e.data[0])?e.data[0]:e.data),"normalizedData"),c=p(m(()=>{if(b(n(l).length,0))return[];const y=Math.min(...n(l)),x=Math.max(...n(l)),k=(x-y)*.1||1,A=tr().domain([0,n(l).length-1]).range([2,a-2]),W=tr().domain([y-k,x+k]).range([n(o)-2,2]);return n(l).map((M,C)=>[A(C),W(M)])}),"points"),f=p(m(()=>b(n(c).length,0)?"":Tc().x(x=>x[0]).y(x=>x[1]).curve(Ac.alpha(.5))(n(c))??""),"linePath"),s=p(m(()=>b(n(c).length,0)?"":Yh().x(x=>x[0]).y0(n(o)-2).y1(x=>x[1]).curve(Ac.alpha(.5))(n(c))??""),"areaPath"),h=p(m(()=>n(c).length>0?(a-8)/n(c).length-1:0),"barWidth");var d={...Te()},u=eg();N(u,"width",a);var g=tt(u);{var v=y=>{var x=Et(),k=pt(x);{var A=M=>{var C=Et(),w=pt(C);z(()=>Ne(w,17,()=>n(c),Mr,(S,L)=>{var T=m(()=>Aa(n(L),2));let R=()=>n(T)[0];R();let H=()=>n(T)[1];H();var G=Zh();et(()=>{N(G,"x",R()-n(h)/2),N(G,"y",H()),N(G,"width",n(h)),N(G,"height",n(o)-2-H()),N(G,"fill",n(i))}),F(S,G)}),"each",An,71,6),F(M,C)},W=M=>{var C=Et(),w=pt(C);{var S=T=>{var R=Kh(),H=pt(R),G=ot(H);et(()=>{N(H,"d",n(s)),N(H,"fill",n(i)),N(G,"d",n(f)),N(G,"stroke",n(i))}),F(T,R)},L=T=>{var R=Qh(),H=pt(R),G=ot(H);{var P=J=>{const K=p(m(()=>n(c)[n(c).length-1]),"lastPoint");n(K);var U=Jh();et(()=>{N(U,"cx",n(K)[0]),N(U,"cy",n(K)[1]),N(U,"fill",n(i))}),F(J,U)};z(()=>X(G,J=>{n(c).length>0&&J(P)}),"if",An,87,6)}et(()=>{N(H,"d",n(f)),N(H,"stroke",n(i))}),F(T,R)};z(()=>X(w,T=>{b(n(r),"area")?T(S):T(L,!1)},!0),"if",An,81,4)}F(M,C)};z(()=>X(k,M=>{b(n(r),"bar")?M(A):M(W,!1)}),"if",An,70,4)}F(y,x)},_=y=>{var x=tg();N(x,"x",a/2),et(()=>N(x,"y",n(o)/2)),F(y,x)};z(()=>X(g,y=>{n(c).length>0?y(v):y(_,!1)}),"if",An,69,2)}return et(()=>{N(u,"height",n(o)),N(u,"viewBox",`0 0 60 ${n(o)??""}`)}),F(t,u),Se(d)}ur[D]="src/components/table/CellContent.svelte";var ng=j(_t('<span class="cell-icon svelte-mxyczy"> </span>'),ur[D],[[34,15]]),rg=j(_t('<span class="cell-badge svelte-mxyczy"> </span>'),ur[D],[[36,16]]),og=j(_t('<span><!> <span class="cell-value"> </span> <!></span>'),ur[D],[[23,0,[[35,2]]]]);function ur(t,e){Ce(new.target),Me(e,!0,ur);const r=p(m(()=>{var M;return!!((M=e.cellStyle)!=null&&M.badge)}),"hasBadge"),o=p(m(()=>{var M;return!!((M=e.cellStyle)!=null&&M.icon)}),"hasIcon"),i=p(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.bold)??!1}),"isBold"),a=p(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.italic)??!1}),"isItalic"),l=p(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.color)??null}),"textColor"),c=p(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.bg)??null}),"bgColor"),f=p(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.emphasis)??!1}),"isEmphasis"),s=p(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.muted)??!1}),"isMuted"),h=p(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.accent)??!1}),"isAccent");var d={...Te()},u=og();let g,v;var _=tt(u);{var y=M=>{var C=ng(),w=tt(C);et(()=>{var S;return Yt(w,(S=e.cellStyle)==null?void 0:S.icon)}),F(M,C)};z(()=>X(_,M=>{n(o)&&M(y)}),"if",ur,34,2)}var x=ot(_,2),k=tt(x),A=ot(x,2);{var W=M=>{var C=rg(),w=tt(C);et(()=>{var S;return Yt(w,(S=e.cellStyle)==null?void 0:S.badge)}),F(M,C)};z(()=>X(A,M=>{n(r)&&M(W)}),"if",ur,36,2)}return et(M=>{g=Cn(u,1,"cell-content svelte-mxyczy",null,g,{"cell-bold":n(i),"cell-italic":n(a),"cell-emphasis":n(f),"cell-muted":n(s),"cell-accent":n(h)}),N(u,"title",M),v=He(u,"",v,{color:n(l),"background-color":n(c)}),Yt(k,e.value??"")},[()=>String(e.value??"")]),F(t,u),Se(d)}Ri[D]="src/components/table/CellIcon.svelte";var ig=j(_t("<span> </span>"),Ri[D],[[32,2]]);function Ri(t,e){Ce(new.target),Me(e,!0,Ri);const r=p(m(()=>{var d;return((d=e.options)==null?void 0:d.mapping)??{}}),"mapping"),o=p(m(()=>{var d;return((d=e.options)==null?void 0:d.size)??"base"}),"size"),i=p(m(()=>{var d;return(d=e.options)==null?void 0:d.color}),"color"),a=p(m(()=>{if(b(e.value,void 0)||b(e.value,null))return"";const d=String(e.value);return n(r)&&d in n(r)?n(r)[d]:d}),"displayValue"),l=p(m(()=>b(n(o),"sm")?"icon-sm":b(n(o),"lg")?"icon-lg":"icon-base"),"sizeClass");var c={...Te()},f=Et(),s=pt(f);{var h=d=>{var u=ig();let g;var v=tt(u);et(_=>{Cn(u,1,`cell-icon ${n(l)??""}`,"svelte-weao3c"),N(u,"title",_),g=He(u,"",g,{color:n(i)}),Yt(v,n(a))},[()=>String(e.value??"")]),F(d,u)};z(()=>X(s,d=>{n(a)&&d(h)}),"if",Ri,31,0)}return F(t,f),Se(c)}Ii[D]="src/components/table/CellBadge.svelte";var ag=j(_t("<span> </span>"),Ii[D],[[56,2]]);function Ii(t,e){Ce(new.target),Me(e,!0,Ii);const r=p(m(()=>{var u;return((u=e.options)==null?void 0:u.variants)??{}}),"variants"),o=p(m(()=>{var u;return((u=e.options)==null?void 0:u.colors)??{}}),"colors"),i=p(m(()=>{var u;return((u=e.options)==null?void 0:u.size)??"base"}),"size"),a=p(m(()=>b(e.value,void 0)||b(e.value,null)?"":String(e.value)),"displayValue"),l=p(m(()=>{const u=String(e.value??"");if(n(o)&&u in n(o))return n(o)[u];if(n(r)&&u in n(r))switch(n(r)[u]){case"success":return"var(--wf-badge-success, #16a34a)";case"warning":return"var(--wf-badge-warning, #f59e0b)";case"error":return"var(--wf-badge-error, #dc2626)";case"info":return"var(--wf-badge-info, #2563eb)";case"muted":return"var(--wf-badge-muted, var(--wf-muted, #64748b))";default:return"var(--wf-primary, #2563eb)"}return"var(--wf-primary, #2563eb)"}),"badgeColor"),c=p(m(()=>b(n(i),"sm")?"badge-sm":"badge-base"),"sizeClass");var f={...Te()},s=Et(),h=pt(s);{var d=u=>{var g=ag();let v;var _=tt(g);et(()=>{Cn(g,1,`cell-badge ${n(c)??""}`,"svelte-16nh7k4"),v=He(g,"",v,{"background-color":`color-mix(in srgb, ${n(l)??""} 15%, var(--wf-bg, #fff))`,color:n(l)}),Yt(_,n(a))}),F(u,g)};z(()=>X(h,u=>{n(a)&&u(d)}),"if",Ii,55,0)}return F(t,s),Se(f)}So[D]="src/components/table/CellStars.svelte";var sg=j(_t("<span> </span>"),So[D],[[44,6]]),lg=j(_t('<span class="cell-stars svelte-8zr88i"></span>'),So[D],[[42,2]]);function So(t,e){Ce(new.target),Me(e,!0,So);const r=p(m(()=>{var v;return((v=e.options)==null?void 0:v.maxStars)??5}),"maxStars"),o=p(m(()=>{var v;return((v=e.options)==null?void 0:v.color)??"#f59e0b"}),"filledColor"),i=p(m(()=>{var v;return((v=e.options)==null?void 0:v.emptyColor)??"#d1d5db"}),"emptyColor"),a=p(m(()=>{var v;return((v=e.options)==null?void 0:v.halfStars)??!1}),"halfStars"),l="★",c="☆",f="⯪",s=p(m(()=>{if(b(e.value,void 0)||b(e.value,null))return"";const v=Math.max(0,Math.min(n(r),e.value)),_=[];for(let y=1;y<=n(r);y++)y<=v?_.push({char:l,filled:"full"}):n(a)&&y-.5<=v?_.push({char:f,filled:"half"}):_.push({char:c,filled:"empty"});return _}),"starDisplay");var h={...Te()},d=Et(),u=pt(d);{var g=v=>{var _=lg();z(()=>Ne(_,21,()=>n(s),Mr,(y,x)=>{var k=sg();let A,W;var M=tt(k,!0);et(()=>{A=Cn(k,1,"star svelte-8zr88i",null,A,{filled:b(n(x).filled,"full"),half:b(n(x).filled,"half")}),W=He(k,"",W,{color:b(n(x).filled,"empty")?n(i):n(o)}),Yt(M,n(x).char)}),F(y,k)}),"each",So,43,4),et(()=>N(_,"title",`${e.value??""} / ${n(r)??""}`)),F(v,_)};z(()=>X(u,v=>{b(e.value,void 0,!1)&&b(e.value,null,!1)&&v(g)}),"if",So,41,0)}return F(t,d),Se(h)}Eo[D]="src/components/table/CellImg.svelte";var cg=j(_t('<img alt="" loading="lazy"/>'),Eo[D],[[28,2]]),fg=j(_t('<span class="cell-img-fallback svelte-1rifgp8" title="Image not available"> </span>'),Eo[D],[[38,2]]);function Eo(t,e){Ce(new.target),Me(e,!0,Eo);const r=p(m(()=>{var v;return(v=e.options)==null?void 0:v.height}),"imgHeight"),o=p(m(()=>{var v;return(v=e.options)==null?void 0:v.maxWidth}),"maxWidth"),i=p(m(()=>{var v;return((v=e.options)==null?void 0:v.fallback)??"📷"}),"fallback"),a=p(m(()=>{var v;return((v=e.options)==null?void 0:v.shape)??"square"}),"shape");let l=p(Tt(!1),"hasError");const c=p(m(()=>b(n(a),"circle")?"shape-circle":b(n(a),"rounded")?"shape-rounded":""),"shapeClass");function f(){it(l,!0)}var s={...Te()},h=Et(),d=pt(h);{var u=v=>{var _=cg();let y;et(()=>{Cn(_,1,`cell-img ${n(c)??""}`,"svelte-1rifgp8"),N(_,"src",e.value),y=He(_,"",y,{height:n(r)?`${n(r)}px`:"calc(var(--wf-row-height, 28px) - 4px)","max-width":n(o)?`${n(o)}px`:"100%"})}),Dn("error",_,f),F(v,_)},g=v=>{var _=Et(),y=pt(_);{var x=k=>{var A=fg(),W=tt(A);et(()=>Yt(W,n(i))),F(k,A)};z(()=>X(y,k=>{n(i)&&k(x)},!0),"if",Eo,37,0)}F(v,_)};z(()=>X(d,v=>{e.value&&!n(l)?v(u):v(g,!1)}),"if",Eo,27,0)}return F(t,h),Se(s)}Br[D]="src/components/table/CellReference.svelte";var ug=j(_t('<span class="reference-icon svelte-186gxpi">↗</span>'),Br[D],[[44,8]]),dg=j(_t('<a class="cell-reference svelte-186gxpi" target="_blank" rel="noopener noreferrer"><span class="reference-text svelte-186gxpi"> </span> <!></a>'),Br[D],[[35,4,[[42,6]]]]),hg=j(_t('<span class="cell-reference svelte-186gxpi"> </span>'),Br[D],[[48,4]]);function Br(t,e){Ce(new.target),Me(e,!0,Br);const r=p(m(()=>{var g;return((g=e.options)==null?void 0:g.maxChars)??30}),"maxChars"),o=p(m(()=>{var g;return((g=e.options)==null?void 0:g.showIcon)??!0}),"showIcon"),i=p(m(()=>{var g;return(g=e.options)==null?void 0:g.hrefField}),"hrefField"),a=p(m(()=>{if(!n(i))return null;const g=e.metadata[n(i)];return b(typeof g,"string")?g:null}),"href"),l=p(m(()=>{if(b(e.value,void 0)||b(e.value,null))return"";const g=String(e.value);return g.length<=n(r)?g:g.substring(0,n(r))+"..."}),"displayValue"),c=p(m(()=>e.value?String(e.value):""),"fullValue"),f=p(m(()=>n(c).length>n(r)),"isTruncated");var s={...Te()},h=Et(),d=pt(h);{var u=g=>{var v=Et(),_=pt(v);{var y=k=>{var A=dg(),W=tt(A),M=tt(W),C=ot(W,2);{var w=S=>{var L=ug();F(S,L)};z(()=>X(C,S=>{n(o)&&S(w)}),"if",Br,43,6)}et(()=>{N(A,"href",n(a)),N(A,"title",n(f)?n(c):void 0),Yt(M,n(l))}),F(k,A)},x=k=>{var A=hg(),W=tt(A);et(()=>{N(A,"title",n(f)?n(c):void 0),Yt(W,n(l))}),F(k,A)};z(()=>X(_,k=>{n(a)?k(y):k(x,!1)}),"if",Br,34,2)}F(g,v)};z(()=>X(d,g=>{e.value&&g(u)}),"if",Br,33,0)}return F(t,h),Se(s)}zi[D]="src/components/table/CellRange.svelte";var gg=j(_t('<span class="cell-range svelte-jzelx2"> </span>'),zi[D],[[51,2]]);function zi(t,e){Ce(new.target),Me(e,!0,zi);const r=p(m(()=>{var _;return((_=e.options)==null?void 0:_.separator)??" – "}),"separator"),o=p(m(()=>{var _;return(_=e.options)==null?void 0:_.decimals}),"decimals"),i=p(m(()=>{var _;return((_=e.options)==null?void 0:_.minField)??""}),"minField"),a=p(m(()=>{var _;return((_=e.options)==null?void 0:_.maxField)??""}),"maxField"),l=p(m(()=>{if(!n(i))return null;const _=e.metadata[n(i)];return b(typeof _,"number")?_:null}),"minValue"),c=p(m(()=>{if(!n(a))return null;const _=e.metadata[n(a)];return b(typeof _,"number")?_:null}),"maxValue");function f(_){return b(_,null)?"":b(n(o),null)||b(n(o),void 0)?Number.isInteger(_)?String(_):_.toFixed(1):_.toFixed(n(o))}const s=p(m(()=>b(n(l),null)&&b(n(c),null)?"":b(n(l),null)?f(n(c)):b(n(c),null)?f(n(l)):`${f(n(l))}${n(r)}${f(n(c))}`),"displayValue"),h=p(m(()=>b(n(l),null,!1)||b(n(c),null,!1)),"hasRange");var d={...Te()},u=Et(),g=pt(u);{var v=_=>{var y=gg(),x=tt(y);et((k,A)=>{N(y,"title",`${k??""} to ${A??""}`),Yt(x,n(s))},[()=>f(n(l)),()=>f(n(c))]),F(_,y)};z(()=>X(g,_=>{n(h)&&_(v)}),"if",zi,50,0)}return F(t,u),Se(d)}const vg=["default","minimal","dark","jama","lancet","modern","presentation","cochrane","nature"],Nt={name:"default",colors:{background:"#ffffff",foreground:"#333333",primary:"#0891b2",secondary:"#64748b",accent:"#8b5cf6",muted:"#94a3b8",border:"#e2e8f0",rowBg:"#ffffff",altBg:"#f8fafc",interval:"#0891b2",intervalPositive:"#0891b2",intervalNegative:"#dc2626",intervalNeutral:"#64748b",intervalLine:"#475569",summaryFill:"#0891b2",summaryBorder:"#0e7490"},typography:{fontFamily:"system-ui, -apple-system, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5,headerFontScale:1.05},spacing:{rowHeight:28,headerHeight:36,sectionGap:16,padding:12,containerPadding:0,cellPaddingX:10,cellPaddingY:4,axisGap:12,groupPadding:8},shapes:{pointSize:6,summaryHeight:10,lineWidth:1.5,borderRadius:2},axis:{rangeMin:null,rangeMax:null,tickCount:null,tickValues:null,gridlines:!1,gridlineStyle:"dotted",ciClipFactor:2,includeNull:!0,symmetric:null,nullTick:!0,markerMargin:!0},layout:{plotPosition:"right",tableWidth:"auto",plotWidth:"auto",rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:8,banding:!0},groupHeaders:{level1FontSize:"1rem",level1FontWeight:700,level1Italic:!1,level1Background:null,level1BorderBottom:!1,level2FontSize:"0.9375rem",level2FontWeight:500,level2Italic:!0,level2Background:null,level2BorderBottom:!1,level3FontSize:"0.875rem",level3FontWeight:400,level3Italic:!1,level3Background:null,level3BorderBottom:!1,indentPerLevel:16}},pg={...Nt,name:"minimal",colors:{...Nt.colors,background:"#ffffff",foreground:"#000000",primary:"#000000",secondary:"#333333",accent:"#000000",muted:"#666666",border:"#000000",rowBg:"#ffffff",altBg:"#fafafa",interval:"#000000",intervalPositive:"#000000",intervalNegative:"#000000",intervalNeutral:"#666666",intervalLine:"#000000",summaryFill:"#000000",summaryBorder:"#000000"},typography:{...Nt.typography,fontFamily:"Georgia, 'Times New Roman', serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.4},spacing:{...Nt.spacing,rowHeight:24,headerHeight:30,sectionGap:12,padding:10},shapes:{...Nt.shapes,pointSize:5,summaryHeight:8,lineWidth:1,borderRadius:0},layout:{...Nt.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:0}},mg={...Nt,name:"dark",colors:{...Nt.colors,background:"#1e1e2e",foreground:"#cdd6f4",primary:"#89b4fa",secondary:"#a6adc8",accent:"#f5c2e7",muted:"#6c7086",border:"#313244",rowBg:"#1e1e2e",altBg:"#232334",interval:"#89b4fa",intervalPositive:"#a6e3a1",intervalNegative:"#f38ba8",intervalNeutral:"#6c7086",intervalLine:"#9399b2",summaryFill:"#89b4fa",summaryBorder:"#74c7ec"},typography:{...Nt.typography,fontFamily:"system-ui, -apple-system, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5},spacing:{...Nt.spacing,rowHeight:30,headerHeight:38,sectionGap:18,padding:14},shapes:{...Nt.shapes,pointSize:6,summaryHeight:10,lineWidth:1.5,borderRadius:4},layout:{...Nt.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:8}},_g={...Nt,name:"jama",colors:{...Nt.colors,background:"#ffffff",foreground:"#000000",primary:"#000000",secondary:"#333333",accent:"#000000",muted:"#555555",border:"#000000",rowBg:"#ffffff",altBg:"#f9fafb",interval:"#000000",intervalPositive:"#000000",intervalNegative:"#000000",intervalNeutral:"#555555",intervalLine:"#000000",summaryFill:"#000000",summaryBorder:"#000000"},typography:{...Nt.typography,fontFamily:"Arial, Helvetica, sans-serif",fontSizeSm:"8pt",fontSizeBase:"9pt",fontSizeLg:"10pt",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.2},spacing:{...Nt.spacing,rowHeight:18,headerHeight:24,sectionGap:8,padding:6,cellPaddingX:8,cellPaddingY:2},shapes:{...Nt.shapes,pointSize:4,summaryHeight:7,lineWidth:1.25,borderRadius:0},layout:{...Nt.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:0}},yg={...Nt,name:"lancet",colors:{...Nt.colors,background:"#fdfcfb",foreground:"#1e3a5f",primary:"#00407a",secondary:"#3d5a80",accent:"#b8860b",muted:"#6b7c93",border:"#d4dce6",rowBg:"#fdfcfb",altBg:"#f8f7f6",interval:"#00407a",intervalPositive:"#00407a",intervalNegative:"#9d2933",intervalNeutral:"#3d5a80",intervalLine:"#1e3a5f",summaryFill:"#00407a",summaryBorder:"#002d54"},typography:{...Nt.typography,fontFamily:"Georgia, 'Times New Roman', serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.5},spacing:{...Nt.spacing,rowHeight:26,headerHeight:34,sectionGap:16,padding:12,cellPaddingX:12,cellPaddingY:5},shapes:{...Nt.shapes,pointSize:5,summaryHeight:9,lineWidth:1.25,borderRadius:0},layout:{...Nt.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:0}},xg={...Nt,name:"modern",colors:{...Nt.colors,background:"#fafafa",foreground:"#18181b",primary:"#3b82f6",secondary:"#52525b",accent:"#8b5cf6",muted:"#a1a1aa",border:"#d4d4d8",rowBg:"#fafafa",altBg:"#f4f4f5",interval:"#3b82f6",intervalPositive:"#22c55e",intervalNegative:"#ef4444",intervalNeutral:"#71717a",intervalLine:"#27272a",summaryFill:"#3b82f6",summaryBorder:"#2563eb"},typography:{...Nt.typography,fontFamily:"Inter, system-ui, -apple-system, sans-serif",fontSizeSm:"0.8125rem",fontSizeBase:"0.9375rem",fontSizeLg:"1.0625rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5},spacing:{...Nt.spacing,rowHeight:36,headerHeight:44,sectionGap:24,padding:16,cellPaddingX:12,cellPaddingY:6},shapes:{...Nt.shapes,pointSize:8,summaryHeight:12,lineWidth:1.75,borderRadius:8},layout:{...Nt.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:12}},wg={...Nt,name:"presentation",colors:{...Nt.colors,background:"#ffffff",foreground:"#0f172a",primary:"#0369a1",secondary:"#334155",accent:"#ea580c",muted:"#64748b",border:"#94a3b8",rowBg:"#ffffff",altBg:"#f8fafc",interval:"#0369a1",intervalPositive:"#047857",intervalNegative:"#be123c",intervalNeutral:"#334155",intervalLine:"#0f172a",summaryFill:"#0369a1",summaryBorder:"#0c4a6e"},typography:{...Nt.typography,fontFamily:"'Source Sans Pro', 'Segoe UI', Roboto, sans-serif",fontSizeSm:"1rem",fontSizeBase:"1.125rem",fontSizeLg:"1.25rem",fontWeightNormal:400,fontWeightMedium:600,fontWeightBold:700,lineHeight:1.4},spacing:{...Nt.spacing,rowHeight:44,headerHeight:52,sectionGap:28,padding:20,cellPaddingX:14,cellPaddingY:6},shapes:{...Nt.shapes,pointSize:12,summaryHeight:16,lineWidth:2.5,borderRadius:4},layout:{...Nt.layout,rowBorder:!0,containerBorder:!1,containerBorderRadius:6}},bg={...Nt,name:"cochrane",colors:{...Nt.colors,background:"#ffffff",foreground:"#2c2c2c",primary:"#0099cc",secondary:"#555555",accent:"#006699",muted:"#888888",border:"#b3b3b3",rowBg:"#ffffff",altBg:"#f5f5f5",interval:"#0099cc",intervalPositive:"#0099cc",intervalNegative:"#cc3333",intervalNeutral:"#555555",intervalLine:"#2c2c2c",summaryFill:"#0099cc",summaryBorder:"#006699"},typography:{...Nt.typography,fontFamily:"Arial, Helvetica, sans-serif",fontSizeSm:"0.6875rem",fontSizeBase:"0.75rem",fontSizeLg:"0.8125rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.25},spacing:{...Nt.spacing,rowHeight:20,headerHeight:26,sectionGap:8,padding:6,cellPaddingX:6,cellPaddingY:2},shapes:{...Nt.shapes,pointSize:4,summaryHeight:7,lineWidth:1,borderRadius:0},layout:{...Nt.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:0}},Mg={...Nt,name:"nature",colors:{...Nt.colors,background:"#ffffff",foreground:"#1a1a1a",primary:"#1976d2",secondary:"#424242",accent:"#c62828",muted:"#616161",border:"#bdbdbd",rowBg:"#ffffff",altBg:"#fafafa",interval:"#1976d2",intervalPositive:"#1976d2",intervalNegative:"#c62828",intervalNeutral:"#616161",intervalLine:"#1a1a1a",summaryFill:"#1976d2",summaryBorder:"#0d47a1"},typography:{...Nt.typography,fontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.8125rem",fontSizeLg:"0.9375rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.35},spacing:{...Nt.spacing,rowHeight:24,headerHeight:32,sectionGap:12,padding:10,cellPaddingX:10,cellPaddingY:4},shapes:{...Nt.shapes,pointSize:5,summaryHeight:8,lineWidth:1.25,borderRadius:1},layout:{...Nt.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:2},axis:{...Nt.axis,gridlines:!1,nullTick:!0}},Sg={default:Nt,minimal:pg,dark:mg,jama:_g,lancet:yg,modern:xg,presentation:wg,cochrane:bg,nature:Mg},Wc={default:"Default",minimal:"Minimal",dark:"Dark",jama:"JAMA",lancet:"Lancet",modern:"Modern",presentation:"Presentation",cochrane:"Cochrane",nature:"Nature"};function Eg(t,e,r={}){const{gap:o=4,viewportPadding:i=8,preferredPosition:a="below",align:l="end"}=r,c=window.innerHeight,f=window.innerWidth,s=c-t.bottom-o-i,h=t.top-o-i;let d,u;a==="below"?s>=e.height?d="below":h>=e.height?d="above":(d=s>=h?"below":"above",u=Math.max(d==="below"?s:h,100)):h>=e.height?d="above":s>=e.height?d="below":(d=h>=s?"above":"below",u=Math.max(d==="above"?h:s,100));const g={};return d==="below"?g.top=t.bottom+o:g.bottom=c-t.top+o,l==="end"?t.right-e.width<i?g.left=Math.max(t.left,i):g.right=f-t.right:t.left+e.width>f-i?g.right=Math.max(f-t.right,i):g.left=t.left,u&&(g.maxHeight=u),g}function Gr(t,e){function r(){if(!e.triggerEl)return;const i=e.triggerEl.getBoundingClientRect(),a=t.getBoundingClientRect(),l=Eg(i,{width:a.width,height:a.height},{gap:e.gap??4,align:e.align??"end"});t.style.position="fixed",t.style.top="",t.style.bottom="",t.style.left="",t.style.right="",l.top!==void 0&&(t.style.top=`${l.top}px`),l.bottom!==void 0&&(t.style.bottom=`${l.bottom}px`),l.left!==void 0&&(t.style.left=`${l.left}px`),l.right!==void 0&&(t.style.right=`${l.right}px`),l.maxHeight?(t.style.maxHeight=`${l.maxHeight}px`,t.style.overflowY="auto"):(t.style.maxHeight="",t.style.overflowY="")}function o(i){e=i,requestAnimationFrame(r)}return o(e),{update:o,destroy(){}}}dr[D]="src/components/ui/ThemeSwitcher.svelte";var kg=j(Rt('<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-35mgh1"><polyline points="20 6 9 17 4 12"></polyline></svg>'),dr[D],[[93,12,[[94,14]]]]),Cg=j(_t('<span class="spacer svelte-35mgh1"></span>'),dr[D],[[97,12]]),Tg=j(_t("<button><!> <span> </span></button>"),dr[D],[[87,8,[[99,10]]]]),Ng=j(_t('<div class="theme-dropdown svelte-35mgh1"></div>'),dr[D],[[85,4]]),Hg=j(_t('<div class="theme-switcher-wrapper svelte-35mgh1"><button class="theme-btn svelte-35mgh1" aria-label="Switch theme"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path></svg></button> <!></div>'),dr[D],[[70,0,[[71,2,[[78,4,[[79,6],[80,6]]]]]]]]);function dr(t,e){Ce(new.target),Me(e,!0,dr);let r=p(Tt(!1),"dropdownOpen"),o=p(Tt(null),"triggerEl");const i=p(m(()=>{var v,_;return((_=(v=e.store.spec)==null?void 0:v.theme)==null?void 0:_.name)??"default"}),"currentTheme"),a=p(m(()=>b(e.availableThemes,void 0)||b(e.availableThemes,null)?vg.map(v=>[v,Wc[v]]):Object.entries(e.availableThemes).map(([v,_])=>{const y=_.name?Wc[_.name]??_.name:v;return[v,y]})),"themeEntries");function l(){it(r,!1)}function c(v){if(e.onThemeChange)e.onThemeChange(v);else if(e.availableThemes&&v in e.availableThemes){const _=e.availableThemes[v];e.store.spec&&e.store.setSpec({...e.store.spec,theme:_})}else e.store.setTheme(v);l()}function f(v){v.target.closest(".theme-switcher-wrapper")||l()}var s={...Te()},h=Hg();Dn("click",jo,f);var d=tt(h);d.__click=()=>it(r,!n(r)),_o(d,v=>it(o,v),()=>n(o));var u=ot(d,2);{var g=v=>{var _=Ng();z(()=>Ne(_,21,()=>n(a),Mr,(y,x)=>{var k=m(()=>Aa(n(x),2));let A=()=>n(k)[0];A();let W=()=>n(k)[1];W();var M=Tg();let C;M.__click=()=>c(A());var w=tt(M);{var S=H=>{var G=kg();F(H,G)},L=H=>{var G=Cg();F(H,G)};z(()=>X(w,H=>{b(n(i),A())?H(S):H(L,!1)}),"if",dr,92,10)}var T=ot(w,2),R=tt(T,!0);et(()=>{C=Cn(M,1,"dropdown-item svelte-35mgh1",null,C,{active:b(n(i),A())}),Yt(R,W())}),F(y,M)}),"each",dr,86,6),oa(_,(y,x)=>Gr==null?void 0:Gr(y,x),()=>({triggerEl:n(o)})),F(v,_)};z(()=>X(u,v=>{n(r)&&v(g)}),"if",dr,84,2)}return et(()=>N(d,"aria-expanded",n(r))),F(t,h),Se(s)}mo(["click"]),ko[D]="src/components/ui/ViewToggle.svelte";var Ag=j(Rt('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="10" y2="6"></line><line x1="3" y1="12" x2="10" y2="12"></line><line x1="3" y1="18" x2="10" y2="18"></line><line x1="14" y1="12" x2="21" y2="12"></line><circle cx="17" cy="12" r="2" fill="currentColor"></circle></svg>'),ko[D],[[21,4,[[23,6],[24,6],[25,6],[27,6],[28,6]]]]),Wg=j(Rt('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>'),ko[D],[[32,4,[[33,6],[34,6],[35,6]]]]),Rg=j(_t('<button class="view-toggle-btn svelte-1u54q0q"><!></button>'),ko[D],[[13,0]]);function ko(t,e){Ce(new.target),Me(e,!0,ko);const r=p(m(()=>{var f,s;return((s=(f=e.store.spec)==null?void 0:f.data)==null?void 0:s.includeForest)??!0}),"includeForest");var o={...Te()},i=Rg();i.__click=()=>e.store.toggleForestView();var a=tt(i);{var l=f=>{var s=Ag();F(f,s)},c=f=>{var s=Wg();F(f,s)};z(()=>X(a,f=>{n(r)?f(l):f(c,!1)}),"if",ko,19,2)}return et(()=>{N(i,"aria-label",n(r)?"Show table only":"Show forest plot"),N(i,"title",n(r)?"Show table only":"Show forest plot")}),F(t,i),Se(o)}mo(["click"]);function pa(t,e){const r=t.split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,e),r.join(".")}function _s(t){const e=Math.abs(t),r=t<0?"-":"";if(e>=1e12)throw new Error(`Cannot abbreviate value >= 1 trillion: ${t}`);if(e>=1e9){const o=e/1e9;return r+ys(o)+"B"}if(e>=1e6){const o=e/1e6;return r+ys(o)+"M"}if(e>=1e3){const o=e/1e3;return r+ys(o)+"K"}return r+Math.round(e).toString()}function ys(t){const e=Math.round(t*10)/10;return e===Math.floor(e)?e.toFixed(0):e.toFixed(1)}const Ig={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻","+":"⁺"};function zg(t){return t.split("").map(e=>Ig[e]??e).join("")}function Jo(t,e){var c,f,s,h,d;if(t==null||Number.isNaN(t))return(e==null?void 0:e.naText)??"";if(e!=null&&e.percent){const{decimals:u,digits:g,multiply:v=!0,symbol:_=!0}=e.percent,y=v?t*100:t,x=g!=null?y.toPrecision(g):y.toFixed(u??1);return _?`${x}%`:x}if(((c=e==null?void 0:e.numeric)==null?void 0:c.abbreviate)&&Math.abs(t)>=1e3)return _s(t);const o=(f=e==null?void 0:e.numeric)==null?void 0:f.digits;if(o!=null){const u=t.toPrecision(o),g=(s=e==null?void 0:e.numeric)==null?void 0:s.thousandsSep;return g&&typeof g=="string"?pa(u,g):u}const i=(h=e==null?void 0:e.numeric)==null?void 0:h.decimals,a=(d=e==null?void 0:e.numeric)==null?void 0:d.thousandsSep;let l;return i!==void 0?l=t.toFixed(i):Number.isInteger(t)||Math.abs(t-Math.round(t))<1e-4?l=Math.round(t).toString():l=t.toFixed(2),a&&typeof a=="string"&&(l=pa(l,a)),l}function xs(t,e){const{eventsField:r,nField:o,separator:i="/",showPct:a=!1,thousandsSep:l,abbreviate:c}=e.events,f=t.metadata[r],s=t.metadata[o];if(f==null||s===void 0||s===null)return e.naText??"";const h=Number(f),d=Number(s);let u,g;c&&(h>=1e3||d>=1e3)?(u=h>=1e3?_s(h):String(h),g=d>=1e3?_s(d):String(d)):(u=String(h),g=String(d),l&&typeof l=="string"&&(u=pa(u,l),g=pa(g,l)));let v=`${u}${i}${g}`;if(a&&d>0){const _=(h/d*100).toFixed(1);v+=` (${_}%)`}return v}function ws(t,e,r,o){var c,f,s;if(t==null||Number.isNaN(t))return"";const i=((c=o==null?void 0:o.interval)==null?void 0:c.decimals)??2,a=((f=o==null?void 0:o.interval)==null?void 0:f.sep)??" ",l=(s=o==null?void 0:o.interval)==null?void 0:s.impreciseThreshold;return e==null||r===void 0||r===null||Number.isNaN(e)||Number.isNaN(r)?t.toFixed(i):l!=null&&e>0&&r/e>l?"—":`${t.toFixed(i)}${a}(${e.toFixed(i)}, ${r.toFixed(i)})`}function Rc(t,e){if(t==null||Number.isNaN(t))return(e==null?void 0:e.naText)??"";const r=e==null?void 0:e.pvalue,o=(r==null?void 0:r.digits)??2,i=(r==null?void 0:r.expThreshold)??.001,a=(r==null?void 0:r.abbrevThreshold)??null,l=(r==null?void 0:r.format)??"auto",c=(r==null?void 0:r.stars)??!1,f=(r==null?void 0:r.thresholds)??[.05,.01,.001];let s="";if(c&&(t<f[2]?s="***":t<f[1]?s="**":t<f[0]&&(s="*")),a!==null&&t<a)return`<${a}${s}`;if(l==="scientific"||l==="auto"&&t<i){const d=Math.floor(Math.log10(t));return`${(t/Math.pow(10,d)).toPrecision(o)}×10${zg(d.toString())}${s}`}let h;return t>=.1?h=t.toFixed(o):t>=.01?h=t.toFixed(o+1):h=t.toFixed(o+2),`${h}${s}`}function Ic(t,e){var a,l,c,f;const{type:r,field:o,options:i}=e;switch(r){case"interval":{const s=(a=i==null?void 0:i.interval)!=null&&a.point?t.metadata[i.interval.point]:t.point,h=(l=i==null?void 0:i.interval)!=null&&l.lower?t.metadata[i.interval.lower]:t.lower,d=(c=i==null?void 0:i.interval)!=null&&c.upper?t.metadata[i.interval.upper]:t.upper;return ws(s,h,d,i)}case"custom":return i!=null&&i.events?xs(t,i):String(t.metadata[o]??"");case"pvalue":return Rc(t.metadata[o],i);case"numeric":return Jo(t.metadata[o],i);case"percent":return Jo(t.metadata[o],i);case"sparkline":case"icon":case"stars":case"img":case"range":return"";case"badge":{const s=t.metadata[o];return s==null?"":`  ${String(s)}  `}case"bar":{if(((f=i==null?void 0:i.bar)==null?void 0:f.showLabel)===!1)return"";const s=t.metadata[o];return s==null?"":s>=100?s.toFixed(0):s>=10?s.toFixed(1):s.toFixed(2)}case"text":default:return String(t.metadata[o]??"")}}function Gn(t,e){const r="⁰¹²³⁴⁵⁶⁷⁸⁹⁺⁻";let o=0;for(const i of t)r.includes(i)?o+=e*.3:"il1.,;:|!()[]{}' ".includes(i)?o+=e*.35:"×−".includes(i)?o+=e*.5:"mwMW@%".includes(i)?o+=e*.85:i>="0"&&i<="9"?o+=e*.6:o+=e*.55;return o}function zc(t){if(!t||t.length===0)return{min:NaN,q1:NaN,median:NaN,q3:NaN,max:NaN};const e=t.filter(i=>i!=null&&!Number.isNaN(i)).sort((i,a)=>i-a);if(e.length===0)return{min:NaN,q1:NaN,median:NaN,q3:NaN,max:NaN};const r=e.length,o=i=>{if(r===1)return e[0];const a=(r-1)*i,l=Math.floor(a),c=Math.ceil(a);return l===c?e[l]:e[l]+(a-l)*(e[c]-e[l])};return{min:e[0],q1:o(.25),median:o(.5),q3:o(.75),max:e[r-1]}}function Fg(t,e,r){if(!t||t.length===0||Number.isNaN(e)||Number.isNaN(r))return[];const o=r-e,i=e-1.5*o,a=r+1.5*o;return t.filter(l=>l!=null&&!Number.isNaN(l)&&(l<i||l>a))}function ma(t){const e=zc(t),r=Fg(t,e.q1,e.q3);return{...e,outliers:r}}function Lg(t){if(!t||t.length<2)return 1;const e=t.filter(g=>g!=null&&!Number.isNaN(g)).sort((g,v)=>g-v);if(e.length<2)return 1;const r=e.length,o=e.reduce((g,v)=>g+v,0)/r,i=e.reduce((g,v)=>g+(v-o)**2,0)/(r-1),a=Math.sqrt(i),l=Math.floor((r-1)*.25),c=Math.floor((r-1)*.75),f=e[l],h=e[c]-f,u=.9*Math.min(a,h/1.34)*Math.pow(r,-.2);return Math.max(u,.001)}function Pg(t){return Math.exp(-.5*t*t)/Math.sqrt(2*Math.PI)}function Fc(t,e,r=128){if(!t||t.length===0)return{x:[],y:[]};const o=t.filter(g=>g!=null&&!Number.isNaN(g));if(o.length===0)return{x:[],y:[]};const i=e??Lg(o),a=Math.min(...o),l=Math.max(...o),c=3*i,f=a-c,h=(l+c-f)/(r-1),d=[],u=[];for(let g=0;g<r;g++){const v=f+g*h;d.push(v);let _=0;for(const y of o)_+=Pg((v-y)/i);_/=o.length*i,u.push(_)}return{x:d,y:u}}function Lc(t,e){if(t.y.length===0)return t;const r=Math.max(...t.y);if(r===0)return t;const o=t.y.map(i=>i/r*e);return{x:t.x,y:o}}function Dg(t,e){var s,h;const r=new Map,o=Vn(t.theme.typography.fontSizeBase),i=t.theme.typography.headerFontScale??1.05,a=o*i,l=t.data.rows,c=(t.theme.spacing.cellPaddingX??10)*2,f=(t.theme.spacing.groupPadding??8)*2;for(const d of e){if(d.width!=="auto"&&d.width!==null&&d.width!==void 0)continue;let u=0;d.header&&(u=Math.max(u,Gn(d.header,a)));for(const _ of l){if(((s=_.style)==null?void 0:s.type)==="header"||((h=_.style)==null?void 0:h.type)==="spacer")continue;const y=Ic(_,d);y&&(u=Math.max(u,Gn(y,o)))}const g=Jn.VISUAL_MIN[d.type]??Jn.MIN,v=Math.ceil(u+c+$n.RENDERING_BUFFER);r.set(d.id,Math.min(Jn.MAX,Math.max(g,v)))}return Bg(t.columns,r,a,f,$n.RENDERING_BUFFER),r}function Bg(t,e,r,o,i){function a(f){return f.isGroup?f.columns.flatMap(a):[f]}function l(f){const s=e.get(f.id);return s!==void 0?s:typeof f.width=="number"?f.width:Jn.MIN}function c(f){if(f.isGroup){for(const s of f.columns)c(s);if(f.header){const s=Gn(f.header,r)+o+i,h=a(f),d=h.reduce((u,g)=>u+l(g),0);if(s>d&&h.length>0){const u=Math.ceil((s-d)/h.length);for(const g of h)e.set(g.id,l(g)+u)}}}}for(const f of t)c(f)}function Pc(t,e,r){let o=r.filter(a=>a.groupId===t).length;const i=e.filter(a=>a.parentId===t);for(const a of i)o+=Pc(a.id,e,r);return o}function Dc(t){var f,s;const e=Vn(t.theme.typography.fontSizeBase),r=(t.theme.spacing.cellPaddingX??10)*2;let o=0;const i=new Map,a=Array.isArray(t.data.groups)?t.data.groups:[];for(const h of a)i.set(h.id,h.depth);const l=h=>h?(i.get(h)??0)+1:0;t.data.labelHeader&&(o=Math.max(o,Gn(t.data.labelHeader,e)));for(const h of t.data.rows)if(h.label){const d=l(h.groupId),u=((f=h.style)==null?void 0:f.indent)??0,v=(d+u)*Ae.INDENT_PER_LEVEL;let _=Gn(h.label,e)+v;if((s=h.style)!=null&&s.badge){const y=String(h.style.badge),x=e*Er.FONT_SCALE,A=Gn(y,x)+Er.PADDING*2;_+=Er.GAP+A}o=Math.max(o,_)}for(const h of a)if(h.label){const d=h.depth*Ae.INDENT_PER_LEVEL,u=Gn(h.label,e),v=`(${Pc(h.id,a,t.data.rows)})`,_=e*.75,y=Gn(v,_),x=d+Qr.CHEVRON_WIDTH+Qr.GAP+u+Qr.GAP+y+Qr.SAFETY_MARGIN;o=Math.max(o,x)}const c=Math.ceil(o+r+$n.RENDERING_BUFFER);return Math.min(Jn.LABEL_MAX,Math.max(Jn.MIN,c))}function bs(t,e){const r=e.get(t.id);return r!==void 0?r:typeof t.width=="number"?t.width:Zn.DEFAULT_COLUMN_WIDTH}function Gg(t,e,r=0){var ne,re,wt,zt,We;const o=t.theme,i=o.spacing.rowHeight,a=o.spacing.padding,l=Array.isArray(t.columns)?t.columns:[],c=Gc(l,"left"),f=Gc(l,"right"),h=ks(c)||ks(f)?o.spacing.headerHeight*jl.GROUP_HEADER_HEIGHT_MULTIPLIER:o.spacing.headerHeight,d=!!((ne=t.labels)!=null&&ne.title),u=!!((re=t.labels)!=null&&re.subtitle),g=!!((wt=t.labels)!=null&&wt.caption),v=!!((zt=t.labels)!=null&&zt.footnote),_=d?Kn.TITLE_HEIGHT:0,y=u?Kn.SUBTITLE_HEIGHT:0,x=_+y+(d||u?a:0),k=g?Kn.CAPTION_HEIGHT:0,A=v?Kn.FOOTNOTE_HEIGHT:0,W=k+A+(g||v?a:0),M=Bc(t),C=!!t.data.overall;let w=0;for(const Dt of M){const Gt=Dt.type==="data"&&((We=Dt.row.style)==null?void 0:We.type)==="spacer";w+=Gt?i/2:i}C&&(w+=i*jl.OVERALL_ROW_HEIGHT_MULTIPLIER);const S=Es(l,"left"),L=Es(l,"right"),T=Ss(l).filter(Dt=>Dt.position===void 0),R=[...S,...L,...T];let H,G;if(e.columnWidths){H=new Map;for(const[Dt,Gt]of Object.entries(e.columnWidths))Dt!=="__label__"&&H.set(Dt,Gt);G=e.columnWidths.__label__??Dc(t)}else H=Dg(t,R),G=Dc(t);const P=G+S.reduce((Dt,Gt)=>Dt+bs(Gt,H),0),J=L.reduce((Dt,Gt)=>Dt+bs(Gt,H),0),K=T.filter(Dt=>Dt.type!=="forest").reduce((Dt,Gt)=>Dt+bs(Gt,H),0),U=e.width??Zn.DEFAULT_WIDTH,$=R.some(Dt=>Dt.type==="forest")||t.data.includeForest,ut=P+J+K;let rt;if(!$)rt=0;else if(typeof e.forestWidth=="number")rt=e.forestWidth;else if(typeof t.layout.plotWidth=="number")rt=t.layout.plotWidth;else{const Dt=U-ut-Zn.COLUMN_GAP*2-a*2;rt=Math.max(Dt,Zn.MIN_FOREST_WIDTH)}const ft=a*2+ut+rt+Zn.COLUMN_GAP*2,st=Math.max(e.width??U,ft),yt=x+a+h+w+Zn.AXIS_HEIGHT+Zn.AXIS_LABEL_HEIGHT+W+Zn.BOTTOM_MARGIN;return{totalWidth:st,totalHeight:e.height??yt,tableWidth:P+J,forestWidth:rt,headerHeight:h,rowHeight:i,plotHeight:w,axisHeight:Zn.AXIS_HEIGHT,nullValue:r,summaryYPosition:w-i,showOverallSummary:C,headerTextHeight:x,footerTextHeight:W,titleY:a+Kn.TITLE_HEIGHT-8,subtitleY:a+_+Kn.SUBTITLE_HEIGHT-4,mainY:x+a,footerY:x+a+h+w+Zn.AXIS_HEIGHT+Zn.AXIS_LABEL_HEIGHT+a,autoWidths:H,labelWidth:G}}function Bc(t){var d;const e=t.data.rows,r=Array.isArray(t.data.groups)?t.data.groups:[];if(r.length===0)return e.map(u=>({type:"data",row:u,depth:0}));const o=new Map;for(const u of r)o.set(u.id,u);const i=new Map;for(const u of e){const g=u.groupId??null;i.has(g)||i.set(g,[]),i.get(g).push(u)}const a=new Set;for(const u of i.keys()){if(!u)continue;let g=u;for(;g;)a.add(g),g=(d=o.get(g))==null?void 0:d.parentId}function l(u){return r.filter(g=>(g.parentId??null)===u&&a.has(g.id))}function c(u){if(!u)return 0;const g=o.get(u);return g?g.depth+1:0}function f(u){var v;let g=((v=i.get(u))==null?void 0:v.length)??0;for(const _ of l(u))g+=f(_.id);return g}const s=[];function h(u){if(u){const v=o.get(u);if(!v)return;const _=f(u);s.push({type:"group_header",groupId:v.id,label:v.label,depth:v.depth,rowCount:_})}for(const v of l(u))h(v.id);const g=i.get(u)??[];for(const v of g)s.push({type:"data",row:v,depth:c(v.groupId)})}return h(null),s}function Ms(t){const e=[];for(const r of t)r.isGroup?e.push(...Ms(r.columns)):e.push(r);return e}function Ss(t){const e=[];for(const r of t)r.isGroup?e.push(...Ms(r.columns)):e.push(r);return e}function Es(t,e){if(e===void 0)return Ss(t);const r=[];for(const o of t)o.position===e&&(o.isGroup?r.push(...Ms(o.columns)):r.push(o));return r}function Gc(t,e){return t.filter(r=>r.position===e)}function ks(t){return t.some(e=>e.isGroup)}function Vn(t){return t.endsWith("rem")?parseFloat(t)*Kn.REM_BASE:t.endsWith("px")?parseFloat(t):Kn.DEFAULT_FONT_SIZE}function _a(t,e,r){return r==="right"?{textX:t+e-Ae.TEXT_PADDING,anchor:"end"}:r==="center"?{textX:t+e/2,anchor:"middle"}:{textX:t+Ae.TEXT_PADDING,anchor:"start"}}function rn(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function Vc(t,e,r,o=0){const i=e-o*2;if(Gn(t,r)<=i)return t;const l="…",c=r*.55;let f=0,s=t.length;for(;f<s;){const h=Math.ceil((f+s)/2),d=t.slice(0,h);Gn(d,r)+c<=i?f=h:s=h-1}return f===0?l:t.slice(0,f)+l}function Vg(t){return Math.abs(t)<.01?"0":Math.abs(t)>=100?t.toFixed(0):Math.abs(t)>=10?t.toFixed(1):t.toFixed(2)}function Fi(t,e){const[r,o]=t,[i,a]=e,l=(a-i)/(o-r),c=f=>i+(f-r)*l;return c.domain=()=>t,c.range=()=>e,c.ticks=f=>{const s=(o-r)/(f-1),h=[];for(let d=0;d<f;d++)h.push(r+s*d);return h},c}function Li(t,e){const[r,o]=t.map(h=>Math.max(h,.001)),[i,a]=e,l=Math.log10(r),c=Math.log10(o),f=(a-i)/(c-l),s=h=>{const d=Math.log10(Math.max(h,.001));return i+(d-l)*f};return s.domain=()=>[r,o],s.range=()=>e,s.ticks=h=>{const d=[],u=Math.floor(Math.log10(r)),g=Math.ceil(Math.log10(o));for(let v=u;v<=g;v++){const _=Math.pow(10,v);for(const y of[1,2,5]){const x=_*y;x>=r&&x<=o&&d.push(x)}}return d.length>0?d:[r,o]},s}function Og(t,e,r,o){const i=r.scale==="log",a=Tn,l=Math.max(e-Tn,a+50);if(o!=null&&o.xDomain){const d=o.xDomain,u=o.clipBounds??d,g=Ol(u,t.theme.axis,r.scale,r.nullValue);return i?{scale:Li([Math.max(d[0],.01),Math.max(d[1],.02)],[a,l]),clipBounds:u,ticks:g}:{scale:Fi(d,[a,l]),clipBounds:u,ticks:g}}const c=Vl({rows:t.data.rows,config:t.theme.axis,scale:r.scale,nullValue:r.nullValue,forestWidth:e,pointSize:t.theme.shapes.pointSize,effects:r.effects,pointCol:r.pointCol,lowerCol:r.lowerCol,upperCol:r.upperCol}),{plotRegion:f,axisLimits:s,ticks:h}=c;return i?{scale:Li([Math.max(f[0],.01),Math.max(f[1],.02)],[a,l]),clipBounds:s,ticks:h}:{scale:Fi(f,[a,l]),clipBounds:s,ticks:h}}function jg(t,e,r){var a,l;const o=[],i=r.spacing.padding;if((a=t.labels)!=null&&a.title){const c=Vn(r.typography.fontSizeLg);o.push(`<text x="${i}" y="${e.titleY}"
      font-family="${r.typography.fontFamily}"
      font-size="${c}px"
      font-weight="${r.typography.fontWeightBold}"
      fill="${r.colors.foreground}">${rn(t.labels.title)}</text>`)}if((l=t.labels)!=null&&l.subtitle){const c=Vn(r.typography.fontSizeBase);o.push(`<text x="${i}" y="${e.subtitleY}"
      font-family="${r.typography.fontFamily}"
      font-size="${c}px"
      fill="${r.colors.secondary}">${rn(t.labels.subtitle)}</text>`)}return o.join(`
`)}function qg(t,e,r){var l,c;const o=[],i=r.spacing.padding;let a=e.footerY;if((l=t.labels)!=null&&l.caption){const f=Vn(r.typography.fontSizeSm);o.push(`<text x="${i}" y="${a}"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      fill="${r.colors.secondary}">${rn(t.labels.caption)}</text>`),a+=Kn.CAPTION_HEIGHT}if((c=t.labels)!=null&&c.footnote){const f=Vn(r.typography.fontSizeSm);o.push(`<text x="${i}" y="${a}"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      font-style="italic"
      fill="${r.colors.muted}">${rn(t.labels.footnote)}</text>`)}return o.join(`
`)}function Ug(t,e,r,o,i,a,l){const c=[],f=e+1,s=l.groupHeaders;let h,d,u,g,v;if(f===1?(h=Vn((s==null?void 0:s.level1FontSize)??l.typography.fontSizeBase),d=(s==null?void 0:s.level1FontWeight)??l.typography.fontWeightBold,u=(s==null?void 0:s.level1Italic)??!1,g=(s==null?void 0:s.level1Background)??null,v=(s==null?void 0:s.level1BorderBottom)??!1):f===2?(h=Vn((s==null?void 0:s.level2FontSize)??l.typography.fontSizeBase),d=(s==null?void 0:s.level2FontWeight)??l.typography.fontWeightMedium,u=(s==null?void 0:s.level2Italic)??!0,g=(s==null?void 0:s.level2Background)??null,v=(s==null?void 0:s.level2BorderBottom)??!1):(h=Vn((s==null?void 0:s.level3FontSize)??l.typography.fontSizeBase),d=(s==null?void 0:s.level3FontWeight)??l.typography.fontWeightNormal,u=(s==null?void 0:s.level3Italic)??!1,g=(s==null?void 0:s.level3Background)??null,v=(s==null?void 0:s.level3BorderBottom)??!1),!g){const k=l.colors.primary,A=f===1?.15:f===2?.1:.06,W=k.replace("#",""),M=parseInt(W.substring(0,2),16),C=parseInt(W.substring(2,4),16),w=parseInt(W.substring(4,6),16);g=`rgba(${M}, ${C}, ${w}, ${A})`}const _=o+i/2+h*Kn.TEXT_BASELINE_ADJUSTMENT,y=e*((s==null?void 0:s.indentPerLevel)??Ae.INDENT_PER_LEVEL);c.push(`<rect x="${r}" y="${o}"
    width="${a}" height="${i}"
    fill="${g}"/>`),v&&c.push(`<line x1="${r}" x2="${r+a}" y1="${o+i}" y2="${o+i}"
      stroke="${l.colors.border}" stroke-width="1" opacity="0.5"/>`);const x=u?' font-style="italic"':"";return c.push(`<text x="${r+Ae.TEXT_PADDING+y}" y="${_}"
    font-family="${l.typography.fontFamily}"
    font-size="${h}px"
    font-weight="${d}"${x}
    fill="${l.colors.foreground}">${rn(t)}</text>`),c.join(`
`)}function Xg(t,e){const r=new Map;for(const o of e)if(o.type==="bar"){let i=0;for(const a of t){const l=a.metadata[o.field];typeof l=="number"&&l>i&&(i=l)}r.set(o.field,i>0?i:1)}return r}function Yg(t,e){var o,i,a,l,c,f,s,h,d,u,g,v,_,y,x,k,A,W,M;if(e.type==="interval"){const C=(i=(o=e.options)==null?void 0:o.interval)!=null&&i.point?t.metadata[e.options.interval.point]:t.point,w=(l=(a=e.options)==null?void 0:a.interval)!=null&&l.lower?t.metadata[e.options.interval.lower]:t.lower,S=(f=(c=e.options)==null?void 0:c.interval)!=null&&f.upper?t.metadata[e.options.interval.upper]:t.upper;return ws(C,w,S,e.options)}if(e.type==="numeric"){const C=t.metadata[e.field];return typeof C=="number"?Jo(C,e.options):((s=e.options)==null?void 0:s.naText)??""}if(e.type==="custom"&&((h=e.options)!=null&&h.events))return xs(t,e.options);if(e.type==="pvalue"){const C=t.metadata[e.field];return typeof C!="number"?((d=e.options)==null?void 0:d.naText)??"":Rc(C,e.options)}if(e.type==="icon"){const C=t.metadata[e.field];if(C==null)return"";const w=String(C),S=(g=(u=e.options)==null?void 0:u.icon)==null?void 0:g.mapping;return S&&w in S?S[w]:w}if(e.type==="badge"){const C=t.metadata[e.field];return C!=null?String(C):""}if(e.type==="stars"){const C=t.metadata[e.field];if(typeof C!="number")return"";const w=((_=(v=e.options)==null?void 0:v.stars)==null?void 0:_.maxStars)??5,S=Math.max(0,Math.min(w,C)),L=Math.floor(S),T=w-L;return"★".repeat(L)+"☆".repeat(T)}if(e.type==="img")return((x=(y=e.options)==null?void 0:y.img)==null?void 0:x.fallback)??"[IMG]";if(e.type==="reference"){const C=t.metadata[e.field];if(C==null)return"";const w=String(C),S=((A=(k=e.options)==null?void 0:k.reference)==null?void 0:A.maxChars)??30;return w.length<=S?w:w.substring(0,S)+"..."}if(e.type==="range"){const C=(W=e.options)==null?void 0:W.range;if(!C)return"";const w=t.metadata[C.minField],S=t.metadata[C.maxField],L=C.separator??" – ",T=C.decimals,R=H=>typeof H!="number"?"":T==null?Number.isInteger(H)?String(H):H.toFixed(1):H.toFixed(T);return w===null&&S===null?"":w===null?R(S):S===null?R(w):`${R(w)}${L}${R(S)}`}const r=t.metadata[e.field];return r!=null?String(r):((M=e.options)==null?void 0:M.naText)??""}function $g(t,e,r,o,i){const a=t.filter(h=>Number.isFinite(h));if(a.length===0)return"";if(a.length===1){const h=e+o/2,d=r+i/2;return`M${h.toFixed(1)},${d.toFixed(1)}`}const l=Math.min(...a),f=Math.max(...a)-l||1;return`M${a.map((h,d)=>{const u=e+d/(a.length-1)*o,g=r+i-(h-l)/f*i;return`${u.toFixed(1)},${g.toFixed(1)}`}).join("L")}`}function Zg(t,e,r,o,i,a=[],l,c=0,f=1/0,s,h=!1){var w;let d;if(a.length===0){const S=!h||t.point!=null&&t.point>0?t.point:null,L=!h||t.lower!=null&&t.lower>0?t.lower:null,T=!h||t.upper!=null&&t.upper>0?t.upper:null;d=[{point:S,lower:L,upper:T,color:null,shape:null,opacity:null}]}else d=a.map(S=>({point:Yn(t.metadata,t.point,S.pointCol,"point",h),lower:Yn(t.metadata,t.lower,S.lowerCol,"lower",h),upper:Yn(t.metadata,t.upper,S.upperCol,"upper",h),color:S.color??null,shape:S.shape??null,opacity:S.opacity??null}));const u=d.filter(S=>S.point!=null&&!Number.isNaN(S.point)&&S.lower!=null&&!Number.isNaN(S.lower)&&S.upper!=null&&!Number.isNaN(S.upper));if(u.length===0)return"";const g=o.shapes.pointSize,v=o.shapes.lineWidth,_=o.colors.intervalLine,y=((w=t.style)==null?void 0:w.type)==="summary",k=o.shapes.summaryHeight/2;function A(S){var T;if(S&&((T=t.markerStyle)==null?void 0:T.size)!=null)return g*t.markerStyle.size;const L=l?t.metadata[l]:void 0;if(L){const R=.5+Math.sqrt(L/100)*1.5;return Math.min(Math.max(g*R,3),g*2.5)}return g}function W(S,L){const T=L===0,R=t.markerStyle,H=o.shapes.effectColors,G=o.shapes.markerShapes,P=["square","circle","diamond","triangle"];let J;T&&(R!=null&&R.color)?J=R.color:S.color?J=S.color:H&&H.length>0?J=H[L%H.length]:J=o.colors.interval??o.colors.primary??"#2563eb";let K;T&&(R!=null&&R.shape)?K=R.shape:S.shape?K=S.shape:G&&G.length>0?K=G[L%G.length]:K=P[L%P.length];let U;return T&&(R==null?void 0:R.opacity)!=null?U=R.opacity:S.opacity!=null?U=S.opacity:U=1,{color:J,shape:K,opacity:U}}function M(S,L,T,R){const{color:H,shape:G,opacity:P}=R,J=P<1?` fill-opacity="${P}"`:"";switch(G){case"circle":return`<circle cx="${S}" cy="${L}" r="${T}" fill="${H}"${J}/>`;case"diamond":return`<polygon points="${[`${S},${L-T}`,`${S+T},${L}`,`${S},${L+T}`,`${S-T},${L}`].join(" ")}" fill="${H}"${J}/>`;case"triangle":return`<polygon points="${[`${S},${L-T}`,`${S+T},${L+T}`,`${S-T},${L+T}`].join(" ")}" fill="${H}"${J}/>`;default:return`<rect x="${S-T}" y="${L-T}" width="${T*2}" height="${T*2}" fill="${H}"${J}/>`}}const C=[];return u.forEach((S,L)=>{const T=e+Ul(L,u.length),R=r(S.lower),H=r(S.upper),G=r(S.point),P=W(S,L),J=A(L===0),K=_;if(y){const U=P.opacity<1?` fill-opacity="${P.opacity}"`:"",O=[`${R},${T}`,`${G},${T-k}`,`${H},${T}`,`${G},${T+k}`].join(" ");C.push(`
        <g class="interval effect-${L} summary">
          <polygon points="${O}"
            fill="${P.color}"${U} stroke="${o.colors.summaryBorder}" stroke-width="1"/>
        </g>`)}else{const U=c+Tn,O=c+f-Tn,$=s?S.lower<s[0]:R<U,ut=s?S.upper>s[1]:H>O;let rt,ft;if(s){const Dt=Math.max(s[0],Math.min(s[1],S.lower)),Gt=Math.max(s[0],Math.min(s[1],S.upper));rt=r(Dt),ft=r(Gt)}else rt=Math.max(U,Math.min(O,R)),ft=Math.max(U,Math.min(O,H));const st=Bl(o),yt=st.height/2,ne=s?r(s[0]):U,re=s?r(s[1]):O;let wt="";$?wt=`<path d="${ia("left",ne,T,st)}" fill="${st.color}"/>`:wt=`<line x1="${rt}" x2="${rt}" y1="${T-yt}" y2="${T+yt}" stroke="${K}" stroke-width="${v}"/>`;let zt="";ut?zt=`<path d="${ia("right",re,T,st)}" fill="${st.color}"/>`:zt=`<line x1="${ft}" x2="${ft}" y1="${T-yt}" y2="${T+yt}" stroke="${K}" stroke-width="${v}"/>`;const We=s?r(Math.max(s[0],Math.min(s[1],S.point))):Math.max(U,Math.min(O,G));C.push(`
        <g class="interval effect-${L}">
          <line x1="${rt}" x2="${ft}" y1="${T}" y2="${T}"
            stroke="${K}" stroke-width="${v}"/>
          ${wt}
          ${zt}
          ${M(We,T,J,P)}
        </g>`)}}),C.join("")}function Kg(t,e,r,o,i,a,l,c){const s=c.shapes.summaryHeight/2,[h,d]=i.domain().map(M=>i(M)),u=Math.min(h,d),g=Math.max(h,d),v=i(e),_=i(t),y=i(r),x=a+Math.max(u,Math.min(g,v)),k=a+Math.max(u,Math.min(g,_)),A=a+Math.max(u,Math.min(g,y));return`<polygon points="${[`${x},${o}`,`${k},${o-s}`,`${A},${o}`,`${k},${o+s}`].join(" ")}"
    fill="${c.colors.summaryFill}"
    stroke="${c.colors.summaryBorder}"
    stroke-width="1"/>`}function Jg(t,e,r,o,i,a,l,c){const f=[],s=a.effects,h=s.length;if(!s.some(x=>{const k=t.metadata[x.value];return k!=null&&!Number.isNaN(k)}))return"";const u=r*.7,g=h>1?2:0,v=(u-g*(h-1))/h,_=Math.max(4,v),y=c.shapes.effectColors??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"];return s.forEach((x,k)=>{const A=t.metadata[x.value];if(A==null||Number.isNaN(A))return;const W=e-u/2+k*(_+g),M=o+l(Math.min(0,A)),C=Math.abs(l(A)-l(0)),w=x.color??y[k%y.length],S=x.opacity??.85;f.push(`<rect
      x="${M}" y="${W}"
      width="${Math.max(1,C)}" height="${_}"
      fill="${w}" fill-opacity="${S}" rx="2"
      class="viz-bar-segment"/>`)}),f.join(`
`)}function Qg(t,e,r,o,i,a,l,c){const f=[],s=a.effects,h=s.length,d=s.map(k=>{if(k.data){const A=t.metadata[k.data];return!A||!Array.isArray(A)||A.length===0?null:ma(A)}if(k.min&&k.q1&&k.median&&k.q3&&k.max){const A=t.metadata[k.min],W=t.metadata[k.q1],M=t.metadata[k.median],C=t.metadata[k.q3],w=t.metadata[k.max];if([A,W,M,C,w].some(L=>L==null||Number.isNaN(L)))return null;let S=[];if(k.outliers){const L=t.metadata[k.outliers];L&&Array.isArray(L)&&(S=L)}return{min:A,q1:W,median:M,q3:C,max:w,outliers:S}}return null});if(!d.some(k=>k!==null))return"";const g=r*.7,v=h>1?2:0,_=Math.max(8,(g-(h-1)*v)/h),y=c.shapes.effectColors??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"],x=c.colors.foreground??"#1a1a1a";return s.forEach((k,A)=>{const W=d[A];if(!W)return;const M=e-g/2+A*(_+v),C=M+_/2,w=k.color??y[A%y.length],S=k.fillOpacity??.7;f.push(`<line
      x1="${o+l(W.min)}" x2="${o+l(W.q1)}"
      y1="${C}" y2="${C}"
      stroke="${x}" stroke-width="1"/>`),f.push(`<line
      x1="${o+l(W.min)}" x2="${o+l(W.min)}"
      y1="${C-_/4}" y2="${C+_/4}"
      stroke="${x}" stroke-width="1"/>`),f.push(`<line
      x1="${o+l(W.q3)}" x2="${o+l(W.max)}"
      y1="${C}" y2="${C}"
      stroke="${x}" stroke-width="1"/>`),f.push(`<line
      x1="${o+l(W.max)}" x2="${o+l(W.max)}"
      y1="${C-_/4}" y2="${C+_/4}"
      stroke="${x}" stroke-width="1"/>`);const L=Math.max(2,l(W.q3)-l(W.q1));if(f.push(`<rect
      x="${o+l(W.q1)}" y="${M}"
      width="${L}" height="${_}"
      fill="${w}" fill-opacity="${S}"
      stroke="${x}" stroke-width="1"/>`),f.push(`<line
      x1="${o+l(W.median)}" x2="${o+l(W.median)}"
      y1="${M}" y2="${M+_}"
      stroke="${x}" stroke-width="2"/>`),a.showOutliers!==!1&&W.outliers.length>0)for(const T of W.outliers)f.push(`<circle
          cx="${o+l(T)}" cy="${C}"
          r="2.5"
          fill="none" stroke="${w}" stroke-width="1.5"/>`)}),f.join(`
`)}function tv(t,e,r,o,i,a,l,c){const f=[],s=a.effects,h=s.length,d=s.map(W=>{const M=t.metadata[W.data];return!M||!Array.isArray(M)||M.length<2?null:Fc(M,a.bandwidth)}),u=s.map(W=>{const M=t.metadata[W.data];if(!M||!Array.isArray(M)||M.length<2)return null;const C=M.filter(L=>L!=null&&!Number.isNaN(L)).sort((L,T)=>L-T);if(C.length===0)return null;const w=C.length,S=L=>{if(w===1)return C[0];const T=(w-1)*L,R=Math.floor(T),H=Math.ceil(T);return R===H?C[R]:C[R]+(T-R)*(C[H]-C[R])};return{q1:S(.25),median:S(.5),q3:S(.75)}});if(!d.some(W=>W!==null))return"";const v=r*.8,_=h>1?2:0,y=Math.max(10,(v-(h-1)*_)/h),x=y/2,k=c.shapes.effectColors??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"],A=c.colors.foreground??"#1a1a1a";return s.forEach((W,M)=>{const C=d[M],w=u[M];if(!C||C.x.length<2)return;const S=e-v/2+y/2+M*(y+_),L=W.color??k[M%k.length],T=W.fillOpacity??.5,R=Lc(C,x),H=[];for(let G=0;G<R.x.length;G++){const P=o+l(R.x[G]),J=S-R.y[G];H.push(G===0?`M ${P} ${J}`:`L ${P} ${J}`)}for(let G=R.x.length-1;G>=0;G--){const P=o+l(R.x[G]),J=S+R.y[G];H.push(`L ${P} ${J}`)}if(H.push("Z"),f.push(`<path
      d="${H.join(" ")}"
      fill="${L}" fill-opacity="${T}"
      stroke="${A}" stroke-width="0.5"/>`),a.showMedian!==!1&&w){const G=o+l(w.median);f.push(`<line
        x1="${G}" x2="${G}"
        y1="${S-x*.6}" y2="${S+x*.6}"
        stroke="${A}" stroke-width="2"/>`)}if(a.showQuartiles&&w){const G=o+l(w.q1),P=o+l(w.q3);f.push(`<line
        x1="${G}" x2="${G}"
        y1="${S-x*.4}" y2="${S+x*.4}"
        stroke="${A}" stroke-width="1" stroke-dasharray="2,2"/>`),f.push(`<line
        x1="${P}" x2="${P}"
        y1="${S-x*.4}" y2="${S+x*.4}"
        stroke="${A}" stroke-width="1" stroke-dasharray="2,2"/>`)}}),f.join(`
`)}function ev(t,e,r){var c,f;const o=e.scale==="log",i=Tn;let a=(c=e.axisRange)==null?void 0:c[0],l=(f=e.axisRange)==null?void 0:f[1];if(a==null||l==null){const s=[];for(const h of t)for(const d of e.effects){const u=h.metadata[d.value];u!=null&&!Number.isNaN(u)&&s.push(u)}s.length>0?(a=a??Math.min(0,...s),l=l??Math.max(...s)*1.1):(a=a??0,l=l??100)}return o?Li([Math.max(.01,a),l],[i,r-i]):Fi([a,l],[i,r-i])}function nv(t,e,r){var c,f;const o=e.scale==="log",i=Tn;let a=(c=e.axisRange)==null?void 0:c[0],l=(f=e.axisRange)==null?void 0:f[1];if(a==null||l==null){const s=[];for(const h of t)for(const d of e.effects)if(d.data){const u=h.metadata[d.data];if(u&&Array.isArray(u)){const g=ma(u);s.push(g.min,g.max),e.showOutliers!==!1&&s.push(...g.outliers)}}else if(d.min&&d.max){const u=h.metadata[d.min],g=h.metadata[d.max];u!=null&&!Number.isNaN(u)&&s.push(u),g!=null&&!Number.isNaN(g)&&s.push(g)}if(s.length>0){const h=Math.min(...s),d=Math.max(...s),u=d-h;a=a??h-u*.05,l=l??d+u*.05}else a=a??0,l=l??100}return o?Li([Math.max(.01,a),l],[i,r-i]):Fi([a,l],[i,r-i])}function rv(t,e,r){var c,f;const o=e.scale==="log",i=Tn;let a=(c=e.axisRange)==null?void 0:c[0],l=(f=e.axisRange)==null?void 0:f[1];if(a==null||l==null){const s=[];for(const h of t)for(const d of e.effects){const u=h.metadata[d.data];u&&Array.isArray(u)&&s.push(...u.filter(g=>g!=null&&!Number.isNaN(g)))}if(s.length>0){a=a??Math.min(...s),l=l??Math.max(...s);const h=(l??0)-(a??0);a=(a??0)-h*.1,l=(l??0)+h*.1}else a=a??0,l=l??100}return o?Li([Math.max(.01,a),l],[i,r-i]):Fi([a,l],[i,r-i])}function Cs(t,e,r,o,i,a,l){const c=[],f=Vn(r.typography.fontSizeSm),s=ns.EDGE_THRESHOLD,h=y=>y<s?"start":y>a-s?"end":"middle",d=y=>y<s?2:y>a-s?-2:0;c.push(`<line x1="${i}" x2="${i+a}"
    y1="0" y2="0" stroke="${r.colors.border}" stroke-width="1"/>`);const u=t.domain(),g=5,v=[],_=u[1]-u[0];for(let y=0;y<=g;y++)v.push(u[0]+_*y/g);for(const y of v){const x=t(y),k=i+x,A=h(x),W=d(x),M=Jo(y);c.push(`<line x1="${k}" x2="${k}" y1="0" y2="4" stroke="${r.colors.border}" stroke-width="1"/>`),c.push(`<text x="${k+W}" y="14"
      text-anchor="${A}"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      fill="${r.colors.foreground}">${M}</text>`)}return o&&c.push(`<text x="${i+a/2}" y="28"
      text-anchor="middle"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      fill="${r.colors.foreground}">${rn(o)}</text>`),c.join(`
`)}function ov(t,e,r,o,i,a,l=1,c){const f=[],s=typeof r.axis.tickCount=="number"?r.axis.tickCount:Ae.DEFAULT_TICK_COUNT,h=sv(t,s,r,l,a,c),d=Vn(r.typography.fontSizeSm),u=ns.EDGE_THRESHOLD,g=_=>_<u?"start":_>a-u?"end":"middle",v=_=>_<u?2:_>a-u?-2:0;f.push(`<line x1="${i}" x2="${i+a}"
    y1="0" y2="0" stroke="${r.colors.border}" stroke-width="1"/>`);for(const _ of h){const y=t(_),x=i+y,k=g(y),A=v(y);f.push(`<line x1="${x}" x2="${x}" y1="0" y2="4"
      stroke="${r.colors.border}" stroke-width="1"/>`),f.push(`<text x="${x+A}" y="16" text-anchor="${k}"
      font-family="${r.typography.fontFamily}"
      font-size="${d}px"
      fill="${r.colors.secondary}">${Vg(_)}</text>`)}return o&&f.push(`<text x="${i+a/2}" y="28"
      text-anchor="middle"
      font-family="${r.typography.fontFamily}"
      font-size="${d}px"
      font-weight="500"
      fill="${r.colors.secondary}">${rn(o)}</text>`),`<g transform="translate(0, ${e.mainY+e.headerHeight+e.plotHeight})">${f.join(`
`)}</g>`}function iv(t,e,r,o,i,a,l,c,f,s){const h=[],d=Vn(a.typography.fontSizeBase),u=a.typography.headerFontScale??1.05,g=d*u,v=a.typography.fontWeightMedium,_=a.typography.fontWeightBold,y=ks(t),x=(k,A)=>k+A/2+g*Kn.TEXT_BASELINE_ADJUSTMENT;if(y){const k=i/2,A=i/2;let W=r;h.push(`<text x="${W+Ae.TEXT_PADDING}" y="${x(o,i)}"
      font-family="${a.typography.fontFamily}"
      font-size="${g}px"
      font-weight="${v}"
      fill="${a.colors.foreground}">${rn(l)}</text>`),W+=c;const M=[];for(const C of t)if(C.isGroup){const w=C.columns.reduce((L,T)=>T.isGroup?L+T.columns.reduce((R,H)=>R+s(H),0):L+s(T),0),S=W+w/2;h.push(`<text x="${S}" y="${x(o,k)}"
          font-family="${a.typography.fontFamily}"
          font-size="${g}px"
          font-weight="${_}"
          text-anchor="middle"
          fill="${a.colors.foreground}">${rn(C.header)}</text>`),M.push({x1:W,x2:W+w}),W+=w}else{const w=s(C),S=C.headerAlign??C.align,{textX:L,anchor:T}=_a(W,w,S),R=Vc(C.header,w,g,Ae.TEXT_PADDING);h.push(`<text x="${L}" y="${x(o,i)}"
          font-family="${a.typography.fontFamily}"
          font-size="${g}px"
          font-weight="${v}"
          text-anchor="${T}"
          fill="${a.colors.foreground}">${rn(R)}</text>`),W+=w}for(const C of M)h.push(`<line x1="${C.x1}" x2="${C.x2}"
        y1="${o+k}" y2="${o+k}"
        stroke="${a.colors.border}" stroke-width="1" opacity="0.5"/>`);W=r+c;for(const C of t)if(C.isGroup){for(const w of C.columns)if(!w.isGroup){const S=s(w),L=w.headerAlign??w.align,{textX:T,anchor:R}=_a(W,S,L);h.push(`<text x="${T}" y="${x(o+k,A)}"
              font-family="${a.typography.fontFamily}"
              font-size="${g}px"
              font-weight="${v}"
              text-anchor="${R}"
              fill="${a.colors.foreground}">${rn(w.header)}</text>`),W+=S}}else W+=s(C)}else{let k=r;h.push(`<text x="${k+Ae.TEXT_PADDING}" y="${x(o,i)}"
      font-family="${a.typography.fontFamily}"
      font-size="${g}px"
      font-weight="${v}"
      fill="${a.colors.foreground}">${rn(l)}</text>`),k+=c;for(const A of e){const W=s(A),M=A.headerAlign??A.align,{textX:C,anchor:w}=_a(k,W,M),S=Vc(A.header,W,g,Ae.TEXT_PADDING);h.push(`<text x="${C}" y="${x(o,i)}"
        font-family="${a.typography.fontFamily}"
        font-size="${g}px"
        font-weight="${v}"
        text-anchor="${w}"
        fill="${a.colors.foreground}">${rn(S)}</text>`),k+=W}}return h.join(`
`)}function av(t,e,r,o,i,a,l,c,f,s,h,d){var A,W,M,C,w,S,L,T,R,H,G,P,J,K,U,O,$,ut,rt,ft,st,yt,ne,re,wt,zt,We,Dt,Gt;const u=[],g=Vn(a.typography.fontSizeBase),v=o+i/2+g*Kn.TEXT_BASELINE_ADJUSTMENT,_=c*Ae.INDENT_PER_LEVEL+(((A=t.style)==null?void 0:A.indent)??0)*Ae.INDENT_PER_LEVEL,y=(W=t.style)!=null&&W.bold||(M=t.style)!=null&&M.emphasis?a.typography.fontWeightBold:a.typography.fontWeightNormal,x=(C=t.style)!=null&&C.italic?"italic":"normal";let k=a.colors.foreground;if((w=t.style)!=null&&w.color?k=t.style.color:(S=t.style)!=null&&S.muted?k=a.colors.muted:(L=t.style)!=null&&L.accent&&(k=a.colors.accent),u.push(`<text x="${r+Ae.TEXT_PADDING+_}" y="${v}"
    font-family="${a.typography.fontFamily}"
    font-size="${g}px"
    font-weight="${y}"
    font-style="${x}"
    fill="${k}">${rn(t.label)}</text>`),(T=t.style)!=null&&T.badge){const Ge=String(t.style.badge),vt=g*Er.FONT_SCALE,lt=vt+Er.PADDING*2,Zt=Gn(t.label,g),qe=r+Ae.TEXT_PADDING+_+Zt+Er.GAP,zn=Gn(Ge,vt)+Er.PADDING*2,te=o+(i-lt)/2;u.push(`<rect x="${qe}" y="${te}" width="${zn}" height="${lt}"
      rx="3" fill="${a.colors.primary}" opacity="0.15"/>`),u.push(`<text x="${qe+zn/2}" y="${te+lt/2+vt*.35}"
      text-anchor="middle"
      font-family="${a.typography.fontFamily}"
      font-size="${vt}px"
      font-weight="500"
      fill="${a.colors.primary}">${rn(Ge)}</text>`)}for(let Ge=0;Ge<e.length;Ge++){const vt=e[Ge],lt=d[Ge],Zt=h(vt);if(vt.type==="forest"||vt.type==="viz_bar"||vt.type==="viz_boxplot"||vt.type==="viz_violin")continue;const qe=Yg(t,vt),{textX:je,anchor:zn}=_a(lt,Zt,vt.align);if(vt.type==="bar"&&typeof t.metadata[vt.field]=="number"){const te=t.metadata[vt.field],we=f.get(vt.field),Ue=((H=(R=vt.options)==null?void 0:R.bar)==null?void 0:H.maxValue)??we??100,Ve=((P=(G=vt.options)==null?void 0:G.bar)==null?void 0:P.color)??a.colors.primary,Xe=a.shapes.pointSize*2,an=Zt-Ae.TEXT_PADDING*2-50,Ot=Math.min(te/Ue*an,an);u.push(`<rect x="${lt+Ae.TEXT_PADDING}" y="${o+i/2-Xe/2}"
        width="${Math.max(0,Ot)}" height="${Xe}"
        fill="${Ve}" opacity="0.7" rx="2"/>`),u.push(`<text x="${lt+Zt-Ae.TEXT_PADDING}" y="${v}"
        font-family="${a.typography.fontFamily}"
        font-size="${g}px"
        text-anchor="end"
        fill="${a.colors.foreground}">${Jo(te)}</text>`)}else if(vt.type==="sparkline"&&Array.isArray(t.metadata[vt.field])){let te=t.metadata[vt.field];Array.isArray(te[0])&&(te=te[0]);const we=((K=(J=vt.options)==null?void 0:J.sparkline)==null?void 0:K.height)??16,Ue=((O=(U=vt.options)==null?void 0:U.sparkline)==null?void 0:O.color)??a.colors.primary,Ve=Ae.TEXT_PADDING*2,Xe=$g(te,lt+Ae.TEXT_PADDING,o+i/2-we/2,Zt-Ve,we);u.push(`<path d="${Xe}" fill="none" stroke="${Ue}" stroke-width="1.5"/>`)}else if(vt.type==="badge"){const te=t.metadata[vt.field];if(te!=null){const we=String(te),Ue=g*.85,Ve=Ue+8,Xe=(ut=($=vt.options)==null?void 0:$.badge)==null?void 0:ut.variants,Mn=(ft=(rt=vt.options)==null?void 0:rt.badge)==null?void 0:ft.colors;let an=a.colors.primary,Ot=a.colors.primary;if(Mn&&we in Mn)an=Mn[we],Ot=Mn[we];else if(Xe&&we in Xe){const _n=Xe[we];an={default:a.colors.primary,...Ci,muted:a.colors.muted}[_n]??a.colors.primary,Ot=an}const Fe=Gn(we,Ue)+12,ir=vt.align==="right"?lt+Zt-Ae.TEXT_PADDING-Fe:vt.align==="center"?lt+(Zt-Fe)/2:lt+Ae.TEXT_PADDING,vr=o+(i-Ve)/2;u.push(`<rect x="${ir}" y="${vr}" width="${Fe}" height="${Ve}"
          rx="${Ve/2}" fill="${an}" opacity="0.15"/>`),u.push(`<text x="${ir+Fe/2}" y="${vr+Ve/2+Ue*.35}"
          text-anchor="middle"
          font-family="${a.typography.fontFamily}"
          font-size="${Ue}px"
          font-weight="500"
          fill="${Ot}">${rn(we)}</text>`)}}else if(vt.type==="stars"){const te=t.metadata[vt.field];if(typeof te=="number"){const we=((yt=(st=vt.options)==null?void 0:st.stars)==null?void 0:yt.maxStars)??5,Ue=((re=(ne=vt.options)==null?void 0:ne.stars)==null?void 0:re.color)??"#f59e0b",Ve=((zt=(wt=vt.options)==null?void 0:wt.stars)==null?void 0:zt.emptyColor)??"#d1d5db",Xe=Math.max(0,Math.min(we,te)),Mn=Math.floor(Xe),an=((Dt=(We=vt.options)==null?void 0:We.stars)==null?void 0:Dt.halfStars)&&Xe-Mn>=.5,Ot=12,Bt=2,Fe=we*Ot+(we-1)*Bt;let ir=vt.align==="right"?lt+Zt-Ae.TEXT_PADDING-Fe:vt.align==="center"?lt+(Zt-Fe)/2:lt+Ae.TEXT_PADDING;const vr=o+(i-Ot)/2,_n=(Je,Sn,qr)=>{const yn=qr/2,Ye=yn*.4;let fn="";for(let Fn=0;Fn<5;Fn++){const ri=(Fn*72-90)*Math.PI/180,E=(Fn*72+36-90)*Math.PI/180,I=Je+yn*Math.cos(ri),q=Sn+yn*Math.sin(ri),Z=Je+Ye*Math.cos(E),xt=Sn+Ye*Math.sin(E);fn+=(Fn===0?`M${I},${q}`:`L${I},${q}`)+`L${Z},${xt}`}return fn+"Z"};for(let Je=0;Je<we;Je++){const Sn=ir+Ot/2,qr=vr+Ot/2,Ye=Je<Mn||Je===Mn&&an?Ue:Ve;u.push(`<path d="${_n(Sn,qr,Ot)}" fill="${Ye}"/>`),ir+=Ot+Bt}}}else{const te=(Gt=t.cellStyles)==null?void 0:Gt[vt.field];let we=a.typography.fontWeightNormal,Ue="normal",Ve=a.colors.foreground;te&&((te.bold||te.emphasis)&&(we=a.typography.fontWeightBold),te.italic&&(Ue="italic"),te.color?Ve=te.color:te.muted?Ve=a.colors.muted:te.accent&&(Ve=a.colors.accent)),u.push(`<text x="${je}" y="${v}"
        font-family="${a.typography.fontFamily}"
        font-size="${g}px"
        font-weight="${we}"
        font-style="${Ue}"
        text-anchor="${zn}"
        fill="${Ve}">${rn(qe)}</text>`)}}return u.join(`
`)}function sv(t,e,r,o,i,a){if(Array.isArray(r.axis.tickValues)&&r.axis.tickValues.length>0){const[w,S]=t.domain();let L=r.axis.tickValues.filter(H=>H>=w&&H<=S);const T=r.axis.nullTick!==!1,R=o>=w&&o<=S;return T&&R&&!L.includes(o)&&(L=[...L,o].sort((H,G)=>H-G)),L}const[l,c]=t.domain(),f=r.axis.nullTick!==!1,s=o>=l&&o<=c,h=ns.MIN_TICK_SPACING,d=Math.max(2,Math.floor(i/h)),u=Math.min(e,Math.min(7,d)),g=a&&a.length>0?a.filter(w=>w>=l&&w<=c):t.ticks(u);if(g.length===0)return f&&s?[o]:[];const v=t(o),_=g.filter(w=>w<o).reverse(),y=g.filter(w=>w>o),x=g.some(w=>w===o),k=[];let A=v;for(const w of _){const S=t(w);A-S>=h&&(k.unshift(w),A=S)}const W=[];let M=v;for(const w of y){const S=t(w);S-M>=h&&(W.push(w),M=S)}const C=[...k];if((x||f&&s)&&C.push(o),C.push(...W),C.length<2){const w=new Set(C);w.has(l)||C.unshift(l),C.length<2&&!w.has(c)&&C.push(c)}return C}function Ts(t,e,r,o,i,a,l=1,c=.6){let s=`<line x1="${t}" x2="${t}" y1="${e}" y2="${r}"
    stroke="${i}" stroke-width="${l}" stroke-opacity="${c}" stroke-dasharray="${o==="dashed"?"6,4":o==="dotted"?"2,2":"none"}"/>`;return a&&(s+=`<text x="${t}" y="${e-4}" text-anchor="middle"
      font-size="10px" fill="${i}">${rn(a)}</text>`),s}class Co extends Error{constructor(e){super(`SVG Generator: ${e}`),this.name="SVGGeneratorError"}}function lv(t){if(!t||typeof t!="object")throw new Co("Invalid spec: expected an object");const e=t;if(!e.data||typeof e.data!="object")throw new Co("Invalid spec: missing or invalid 'data' property");const r=e.data;if(!Array.isArray(r.rows))throw new Co("Invalid spec: 'data.rows' must be an array");if(!e.theme||typeof e.theme!="object")throw new Co("Invalid spec: missing or invalid 'theme' property");const o=e.theme;if(!o.colors||typeof o.colors!="object")throw new Co("Invalid spec: missing or invalid 'theme.colors'");if(!o.typography||typeof o.typography!="object")throw new Co("Invalid spec: missing or invalid 'theme.typography'");if(!o.spacing||typeof o.spacing!="object")throw new Co("Invalid spec: missing or invalid 'theme.spacing'")}function cv(t){var a;const r=Es(t.columns,void 0).find(l=>l.type==="forest");if(!r||!((a=r.options)!=null&&a.forest))return{scale:"linear",nullValue:0,effects:[],axisLabel:"Effect",pointCol:null,lowerCol:null,upperCol:null};const o=r.options.forest,i=o.scale??"linear";return{scale:i,nullValue:o.nullValue??(i==="log"?1:0),effects:o.effects??[],axisLabel:o.axisLabel??"Effect",pointCol:o.point??null,lowerCol:o.lower??null,upperCol:o.upper??null}}function Oc(t,e={}){var L,T,R,H,G;lv(t);const r=t.theme,o=r.spacing.padding,i=Array.isArray(t.columns)?t.columns:[],a=Ss(i),l=[];for(let P=0;P<a.length;P++)a[P].type==="forest"&&l.push(P);l.length>0;const c=[];for(let P=0;P<a.length;P++){const J=a[P];(J.type==="viz_bar"||J.type==="viz_boxplot"||J.type==="viz_violin")&&c.push({index:P,type:J.type,column:J})}const f=cv(t),s=Gg(t,e,f.nullValue),h=s.autoWidths,d=P=>{var K,U,O,$,ut,rt,ft,st;if(P.type==="forest")return typeof P.width=="number"?P.width:((U=(K=P.options)==null?void 0:K.forest)==null?void 0:U.width)??s.forestWidth;if(P.type==="viz_bar")return typeof P.width=="number"?P.width:(($=(O=P.options)==null?void 0:O.vizBar)==null?void 0:$.width)??s.forestWidth;if(P.type==="viz_boxplot")return typeof P.width=="number"?P.width:((rt=(ut=P.options)==null?void 0:ut.vizBoxplot)==null?void 0:rt.width)??s.forestWidth;if(P.type==="viz_violin")return typeof P.width=="number"?P.width:((st=(ft=P.options)==null?void 0:ft.vizViolin)==null?void 0:st.width)??s.forestWidth;const J=h.get(P.id);return J!==void 0?J:typeof P.width=="number"?P.width:Zn.DEFAULT_COLUMN_WIDTH},u=[];let g=o+s.labelWidth;for(const P of a)u.push(g),g+=d(P);const v=[];v.push(`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg"
  width="${s.totalWidth}" height="${s.totalHeight}"
  viewBox="0 0 ${s.totalWidth} ${s.totalHeight}">`);const _=e.backgroundColor??r.colors.background;v.push(`<rect width="100%" height="100%" fill="${_}"/>`),v.push(jg(t,s,r)),v.push(`<line x1="${o}" x2="${s.totalWidth-o}"
    y1="${s.mainY}" y2="${s.mainY}"
    stroke="${r.colors.border}" stroke-width="2"/>`);const y=s.mainY;v.push(iv(i,a,o,y,s.headerHeight,r,t.data.labelHeader??"Study",s.labelWidth,h,d)),v.push(`<line x1="${o}" x2="${s.totalWidth-o}"
    y1="${y+s.headerHeight}" y2="${y+s.headerHeight}"
    stroke="${r.colors.border}" stroke-width="2"/>`);const x=Bc(t),k=[],A=[];let W=0;for(const P of x){const K=P.type==="data"&&((L=P.row.style)==null?void 0:L.type)==="spacer"?s.rowHeight/2:s.rowHeight;k.push(W),A.push(K),W+=K}const M=s.mainY+s.headerHeight;r.layout.banding&&x.forEach((P,J)=>{var K,U;if(P.type==="data"){const O=P.row,$=((K=O.style)==null?void 0:K.type)==="spacer",ut=(U=O.style)==null?void 0:U.bg;if(!$&&!ut){const rt=M+k[J],ft=A[J],yt=J%2===1?r.colors.altBg:r.colors.rowBg;yt!==r.colors.background&&v.push(`<rect x="${o}" y="${rt}"
              width="${s.totalWidth-o*2}" height="${ft}"
              fill="${yt}"/>`)}}});for(const P of l){const J=a[P],K=u[P],U=d(J),O=(T=J.options)==null?void 0:T.forest,$=(O==null?void 0:O.scale)??"linear",ut=(O==null?void 0:O.nullValue)??($==="log"?1:0),rt=(O==null?void 0:O.axisLabel)??"Effect",ft=$==="log";let st=(O==null?void 0:O.effects)??[];const yt=(O==null?void 0:O.point)??null,ne=(O==null?void 0:O.lower)??null,re=(O==null?void 0:O.upper)??null;st.length===0&&(yt||ne||re)&&(st=[{pointCol:yt,lowerCol:ne,upperCol:re}]);const wt={scale:$,nullValue:ut,effects:st,pointCol:(O==null?void 0:O.point)??null,lowerCol:(O==null?void 0:O.lower)??null,upperCol:(O==null?void 0:O.upper)??null},{scale:zt,clipBounds:We,ticks:Dt}=Og(t,U,wt,e),Gt=K+zt(ut);v.push(Ts(Gt,M,M+s.plotHeight,"dashed",r.colors.muted));const Ge=(O==null?void 0:O.annotations)??[];for(const lt of Ge)if(lt.type==="reference_line"){const Zt=K+zt(lt.x);v.push(Ts(Zt,M,M+s.plotHeight,lt.style,lt.color??r.colors.accent,lt.label,lt.width??1,lt.opacity??.6))}const vt=Array.isArray(t.annotations)?t.annotations:[];for(const lt of vt)if(lt.type==="reference_line"){const Zt=K+zt(lt.x);v.push(Ts(Zt,M,M+s.plotHeight,lt.style,lt.color??r.colors.accent,lt.label,lt.width??1,lt.opacity??.6))}if(x.forEach((lt,Zt)=>{if(lt.type==="data"){const qe=M+k[Zt]+A[Zt]/2;v.push(Zg(lt.row,qe,je=>K+zt(je),r,ut,st,t.data.weightCol,K,U,We,ft))}}),t.data.overall&&s.showOverallSummary&&typeof t.data.overall.point=="number"&&!Number.isNaN(t.data.overall.point)&&typeof t.data.overall.lower=="number"&&!Number.isNaN(t.data.overall.lower)&&typeof t.data.overall.upper=="number"&&!Number.isNaN(t.data.overall.upper)){const lt=M+s.summaryYPosition;v.push(Kg(t.data.overall.point,t.data.overall.lower,t.data.overall.upper,lt,zt,K,U,r))}v.push(ov(zt,s,r,rt,K,U,ut,Dt))}const C=t.data.rows;for(const P of c){const J=P.column,K=u[P.index],U=d(J);if(P.type==="viz_bar"){const O=(R=J.options)==null?void 0:R.vizBar;if(!O)continue;const $=ev(C,O,U);x.forEach((ut,rt)=>{if(ut.type==="data"){const ft=M+k[rt]+A[rt]/2,st=A[rt];v.push(Jg(ut.row,ft,st,K,U,O,$,r))}}),O.showAxis!==!1&&(v.push(`<g transform="translate(0, ${M+s.plotHeight})">`),v.push(Cs($,s,r,O.axisLabel,K,U,O.nullValue)),v.push("</g>"))}else if(P.type==="viz_boxplot"){const O=(H=J.options)==null?void 0:H.vizBoxplot;if(!O)continue;const $=nv(C,O,U);x.forEach((ut,rt)=>{if(ut.type==="data"){const ft=M+k[rt]+A[rt]/2,st=A[rt];v.push(Qg(ut.row,ft,st,K,U,O,$,r))}}),O.showAxis!==!1&&(v.push(`<g transform="translate(0, ${M+s.plotHeight})">`),v.push(Cs($,s,r,O.axisLabel,K,U,O.nullValue)),v.push("</g>"))}else if(P.type==="viz_violin"){const O=(G=J.options)==null?void 0:G.vizViolin;if(!O)continue;const $=rv(C,O,U);x.forEach((ut,rt)=>{if(ut.type==="data"){const ft=M+k[rt]+A[rt]/2,st=A[rt];v.push(tv(ut.row,ft,st,K,U,O,$,r))}}),O.showAxis!==!1&&(v.push(`<g transform="translate(0, ${M+s.plotHeight})">`),v.push(Cs($,s,r,O.axisLabel,K,U,O.nullValue)),v.push("</g>"))}}const w=s.mainY+s.headerHeight,S=Xg(C,a);return x.forEach((P,J)=>{var O,$;const K=w+k[J],U=A[J];if(P.type==="group_header")v.push(Ug(P.label,P.depth,o,K,U,s.totalWidth-o*2,r));else{const ut=P.row,rt=P.depth;v.push(av(ut,a,o,K,U,r,s.labelWidth,rt,S,h,d,u))}if(P.type==="data"){const ut=P.row,rt=((O=ut.style)==null?void 0:O.type)==="summary",ft=(($=ut.style)==null?void 0:$.type)==="spacer";rt&&v.push(`<line x1="${o}" x2="${s.totalWidth-o}"
          y1="${K}" y2="${K}"
          stroke="${r.colors.border}" stroke-width="2"/>`),ft||v.push(`<line x1="${o}" x2="${s.totalWidth-o}"
          y1="${K+U}" y2="${K+U}"
          stroke="${r.colors.border}" stroke-width="1"/>`)}else v.push(`<line x1="${o}" x2="${s.totalWidth-o}"
        y1="${K+U}" y2="${K+U}"
        stroke="${r.colors.border}" stroke-width="1"/>`)}),v.push(qg(t,s,r)),v.push("</svg>"),v.join(`
`)}async function fv(t,e=2){return new Promise((r,o)=>{const i=new Image,a=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),l=URL.createObjectURL(a);i.onload=()=>{const c=document.createElement("canvas"),f=c.getContext("2d");if(!f){URL.revokeObjectURL(l),o(new Error("Failed to get canvas context"));return}c.width=i.width*e,c.height=i.height*e,f.scale(e,e),f.drawImage(i,0,0),c.toBlob(s=>{URL.revokeObjectURL(l),s?r(s):o(new Error("Failed to create PNG blob"))},"image/png",1)},i.onerror=()=>{URL.revokeObjectURL(l),o(new Error("Failed to load SVG image"))},i.src=l})}function uv(t,e){return Oc(t,e)}async function dv(t,e,r=2){const o=Oc(t,e);return fv(o,r)}function jc(t,e){const r=URL.createObjectURL(t),o=document.createElement("a");o.href=r,o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)}function qc(t){return`forest_plot_${new Date().toISOString().slice(0,19).replace(/[:-]/g,"")}.${t}`}Vr[D]="src/components/ui/DownloadButton.svelte";var hv=j(Rt('<svg width="16" height="16" viewBox="0 0 24 24" class="spin svelte-15gslqv"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="31.4" stroke-dashoffset="10"></circle></svg>'),Vr[D],[[76,6,[[77,8]]]]),gv=j(Rt('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>'),Vr[D],[[80,6,[[81,8],[82,8],[83,8]]]]),vv=j(_t('<div class="download-dropdown svelte-15gslqv"><button class="dropdown-item svelte-15gslqv"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-15gslqv"><rect x="3" y="3" width="18" height="18" rx="2"></rect><text x="12" y="15" text-anchor="middle" font-size="8" fill="currentColor" stroke="none">SVG</text></svg> <span>Download SVG</span></button> <button class="dropdown-item svelte-15gslqv"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-15gslqv"><rect x="3" y="3" width="18" height="18" rx="2"></rect><circle cx="8.5" cy="8.5" r="1.5" fill="currentColor"></circle><path d="M21 15l-5-5L5 21"></path></svg> <span>Download PNG</span></button></div>'),Vr[D],[[89,4,[[90,6,[[91,8,[[92,10],[93,10]]],[95,8]]],[97,6,[[98,8,[[99,10],[100,10],[101,10]]],[103,8]]]]]]),pv=j(_t('<div class="download-button-wrapper svelte-15gslqv"><button class="download-btn svelte-15gslqv" aria-label="Download plot"><!></button> <!></div>'),Vr[D],[[66,0,[[67,2]]]]);function Vr(t,e){Ce(new.target),Me(e,!0,Vr);let r=p(Tt(!1),"dropdownOpen"),o=p(Tt(!1),"isExporting"),i=p(Tt(null),"triggerEl");function a(){it(r,!1)}async function l(){if(e.store.spec)try{it(o,!0);const x=e.store.getExportDimensions(),k=uv(e.store.spec,x),A=new Blob([k],{type:"image/svg+xml;charset=utf-8"});jc(A,qc("svg"))}catch(x){console.error(...Dl("error","Failed to export SVG:",x))}finally{it(o,!1),a()}}async function c(){if(e.store.spec)try{it(o,!0);const x=e.store.getExportDimensions(),k=(await nu(dv(e.store.spec,x,2)))();jc(k,qc("png"))}catch(x){console.error(...Dl("error","Failed to export PNG:",x))}finally{it(o,!1),a()}}function f(x){x.target.closest(".download-button-wrapper")||a()}var s={...Te()},h=pv();Dn("click",jo,f);var d=tt(h);d.__click=()=>it(r,!n(r));var u=tt(d);{var g=x=>{var k=hv();F(x,k)},v=x=>{var k=gv();F(x,k)};z(()=>X(u,x=>{n(o)?x(g):x(v,!1)}),"if",Vr,75,4)}_o(d,x=>it(i,x),()=>n(i));var _=ot(d,2);{var y=x=>{var k=vv(),A=tt(k);A.__click=l;var W=ot(A,2);W.__click=c,oa(k,(M,C)=>Gr==null?void 0:Gr(M,C),()=>({triggerEl:n(i)})),et(()=>{A.disabled=n(o),W.disabled=n(o)}),F(x,k)};z(()=>X(_,x=>{n(r)&&x(y)}),"if",Vr,88,2)}return et(()=>{N(d,"aria-expanded",n(r)),d.disabled=n(o)}),F(t,h),Se(s)}mo(["click"]),ya[D]="src/components/ui/ResetButton.svelte";var mv=j(_t('<button class="reset-btn svelte-uej7wa" title="Reset view" aria-label="Reset view to default settings"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button>'),ya[D],[[15,0,[[21,2,[[22,4],[23,4]]]]]]);function ya(t,e){Ce(new.target),Me(e,!0,ya);function r(){e.store.resetState()}var o={...Te()},i=mv();return i.__click=r,F(t,i),Se(o)}mo(["click"]),Wn[D]="src/components/ui/ZoomControls.svelte";var _v=j(_t('<div class="clamped-note svelte-19w48ay"> </div>'),Wn[D],[[140,8]]),yv=j(_t('<button class="action-btn svelte-19w48ay" title="Reset to 100% (Cmd 0)"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-19w48ay"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg> Reset to 100%</button>'),Wn[D],[[147,8,[[152,10,[[153,12],[154,12]]]]]]),xv=j(_t("<option> </option>"),Wn[D],[[198,14]]),wv=j(_t("<option> </option>"),Wn[D],[[212,14]]),bv=j(_t('<div class="zoom-dropdown svelte-19w48ay"><div class="zoom-row svelte-19w48ay"><button class="zoom-btn svelte-19w48ay" title="Zoom out (Cmd -)" aria-label="Zoom out"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="5" y1="12" x2="19" y2="12"></line></svg></button> <input type="range" class="zoom-slider svelte-19w48ay" min="50" max="200" step="5" title="Zoom level" aria-label="Zoom level"/> <button class="zoom-btn svelte-19w48ay" title="Zoom in (Cmd +)" aria-label="Zoom in"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg></button> <span class="zoom-value svelte-19w48ay"> </span></div> <!> <!> <div class="divider svelte-19w48ay"></div> <button class="action-btn svelte-19w48ay" title="Fit to container width (Cmd 1)"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-19w48ay"><path d="M21 12H3M21 12l-4-4m4 4l-4 4M3 12l4-4m-4 4l4 4"></path></svg> Fit to width</button> <label class="checkbox-row svelte-19w48ay"><input type="checkbox" class="svelte-19w48ay"/> <span>Auto-fit</span> <span class="checkbox-hint svelte-19w48ay">Shrink if too large</span></label> <div class="divider svelte-19w48ay"></div> <div class="section-label svelte-19w48ay">Max Size</div> <div class="select-row svelte-19w48ay"><label class="svelte-19w48ay"><span class="select-label svelte-19w48ay">Width</span> <select class="svelte-19w48ay"></select></label></div> <div class="select-row svelte-19w48ay"><label class="svelte-19w48ay"><span class="select-label svelte-19w48ay">Height</span> <select class="svelte-19w48ay"></select></label></div></div>'),Wn[D],[[97,4,[[99,6,[[100,8,[[106,10,[[107,12]]]]],[111,8],[123,8,[[129,10,[[130,12],[131,12]]]]],[135,8]]],[160,6],[163,6,[[168,8,[[169,10]]]]],[175,6,[[176,8],[181,8],[182,8]]],[185,6],[188,6],[190,6,[[191,8,[[192,10],[193,10]]]]],[204,6,[[205,8,[[206,10],[207,10]]]]]]]]),Mv=j(_t('<div class="zoom-controls-wrapper svelte-19w48ay"><button class="zoom-trigger-btn svelte-19w48ay" aria-label="Zoom and display options"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path><path d="M11 8v6"></path><path d="M8 11h6"></path></svg> <span class="zoom-text svelte-19w48ay"> </span></button> <!></div>'),Wn[D],[[76,0,[[78,2,[[87,4,[[88,6],[89,6],[90,6],[91,6]]],[93,4]]]]]]);function Wn(t,e){Ce(new.target),Me(e,!0,Wn);let r=p(Tt(!1),"dropdownOpen"),o=p(Tt(null),"triggerEl");const i=p(m(()=>e.store.zoom),"zoom"),a=p(m(()=>e.store.autoFit),"autoFit"),l=p(m(()=>e.store.actualScale),"actualScale"),c=p(m(()=>e.store.isClamped),"isClamped"),f=p(m(()=>e.store.maxWidth),"maxWidth"),s=p(m(()=>e.store.maxHeight),"maxHeight"),h=p(m(()=>Math.round(n(l)*100)),"displayPercent"),d=p(m(()=>Math.round(n(i)*100)),"zoomPercent"),u=[{value:null,label:"None"},{value:600,label:"600px"},{value:800,label:"800px"},{value:1e3,label:"1000px"},{value:1200,label:"1200px"}],g=[{value:null,label:"None"},{value:400,label:"400px"},{value:600,label:"600px"},{value:800,label:"800px"}];function v(){it(r,!1)}function _(T){const R=T.target;e.store.setZoom(parseFloat(R.value)/100)}function y(T){const R=T.target,H=b(R.value,"null")?null:parseInt(R.value);e.store.setMaxWidth(H)}function x(T){const R=T.target,H=b(R.value,"null")?null:parseInt(R.value);e.store.setMaxHeight(H)}function k(T){T.target.closest(".zoom-controls-wrapper")||v()}var A={...Te()},W=Mv();Dn("click",jo,k);var M=tt(W);M.__click=()=>it(r,!n(r));var C=ot(tt(M),2),w=tt(C);_o(M,T=>it(o,T),()=>n(o));var S=ot(M,2);{var L=T=>{var R=bv(),H=tt(R),G=tt(H);G.__click=()=>e.store.zoomOut();var P=ot(G,2);P.__change=_;var J=ot(P,2);J.__click=()=>e.store.zoomIn();var K=ot(J,2),U=tt(K),O=ot(H,2);{var $=vt=>{var lt=_v(),Zt=tt(lt);et(()=>Yt(Zt,`Showing ${n(h)??""}% (auto-fit)`)),F(vt,lt)};z(()=>X(O,vt=>{n(c)&&vt($)}),"if",Wn,139,6)}var ut=ot(O,2);{var rt=vt=>{var lt=yv();lt.__click=()=>e.store.resetZoom(),F(vt,lt)};z(()=>X(ut,vt=>{b(n(i),1,!1)&&vt(rt)}),"if",Wn,146,6)}var ft=ot(ut,4);ft.__click=()=>e.store.fitToWidth();var st=ot(ft,2),yt=tt(st);yt.__change=vt=>e.store.setAutoFit(vt.target.checked);var ne=ot(st,6),re=tt(ne),wt=ot(tt(re),2);wt.__change=y,z(()=>Ne(wt,21,()=>u,Mr,(vt,lt)=>{var Zt=xv(),qe=tt(Zt,!0);var je={};et(()=>{Yt(qe,n(lt).label),je!==(je=b(n(lt).value,null)?"null":n(lt).value)&&(Zt.value=(Zt.__value=b(n(lt).value,null)?"null":n(lt).value)??"")}),F(vt,Zt)}),"each",Wn,197,12);var zt;zl(wt);var We=ot(ne,2),Dt=tt(We),Gt=ot(tt(Dt),2);Gt.__change=x,z(()=>Ne(Gt,21,()=>g,Mr,(vt,lt)=>{var Zt=wv(),qe=tt(Zt,!0);var je={};et(()=>{Yt(qe,n(lt).label),je!==(je=b(n(lt).value,null)?"null":n(lt).value)&&(Zt.value=(Zt.__value=b(n(lt).value,null)?"null":n(lt).value)??"")}),F(vt,Zt)}),"each",Wn,211,12);var Ge;zl(Gt),oa(R,(vt,lt)=>Gr==null?void 0:Gr(vt,lt),()=>({triggerEl:n(o)})),et(()=>{Xu(P,n(d)),Yt(U,`${n(d)??""}%`),Yu(yt,n(a)),zt!==(zt=b(n(f),null)?"null":n(f))&&(wt.value=(wt.__value=b(n(f),null)?"null":n(f))??"",ts(wt,b(n(f),null)?"null":n(f))),Ge!==(Ge=b(n(s),null)?"null":n(s))&&(Gt.value=(Gt.__value=b(n(s),null)?"null":n(s))??"",ts(Gt,b(n(s),null)?"null":n(s)))}),F(T,R)};z(()=>X(S,T=>{n(r)&&T(L)}),"if",Wn,96,2)}return et(()=>{N(M,"aria-expanded",n(r)),N(M,"title",`Zoom: ${n(h)??""}%`),Yt(w,`${n(h)??""}%`)}),F(t,W),Se(A)}mo(["click","change"]),Rn[D]="src/components/ui/ControlToolbar.svelte";var Sv=j(_t('<div class="control-toolbar svelte-rjvd17"><!> <!> <!> <!> <!></div>'),Rn[D],[[37,0]]);function Rn(t,e){Ce(new.target),Me(e,!0,Rn);let r=Bn(e,"enableExport",3,!0),o=Bn(e,"enableThemes",3,void 0),i=Bn(e,"enableViewToggle",3,!0),a=Bn(e,"enableZoomControls",3,!0),l=Bn(e,"enableReset",3,!0);const c=p(m(()=>a()&&e.store.showZoomControls),"showZoomControls"),f=p(m(()=>b(o(),null,!1)),"showThemeSwitcher");var s={...Te()},h=Sv(),d=tt(h);{var u=M=>{z(()=>Wn(M,{get store(){return e.store}}),"component",Rn,39,4,{componentTag:"ZoomControls"})};z(()=>X(d,M=>{n(c)&&M(u)}),"if",Rn,38,2)}var g=ot(d,2);{var v=M=>{z(()=>dr(M,{get store(){return e.store},get availableThemes(){return o()},get onThemeChange(){return e.onThemeChange}}),"component",Rn,42,4,{componentTag:"ThemeSwitcher"})};z(()=>X(g,M=>{n(f)&&M(v)}),"if",Rn,41,2)}var _=ot(g,2);{var y=M=>{z(()=>ko(M,{get store(){return e.store}}),"component",Rn,45,4,{componentTag:"ViewToggle"})};z(()=>X(_,M=>{i()&&M(y)}),"if",Rn,44,2)}var x=ot(_,2);{var k=M=>{z(()=>ya(M,{get store(){return e.store}}),"component",Rn,48,4,{componentTag:"ResetButton"})};z(()=>X(x,M=>{l()&&M(k)}),"if",Rn,47,2)}var A=ot(x,2);{var W=M=>{z(()=>Vr(M,{get store(){return e.store}}),"component",Rn,51,4,{componentTag:"DownloadButton"})};z(()=>X(A,M=>{r()&&M(W)}),"if",Rn,50,2)}return F(t,h),Se(s)}eo[D]="src/components/viz/VizBar.svelte";var Ev=j(Rt('<rect rx="2" class="bar-segment svelte-1pgs700"></rect>'),eo[D],[[107,8]]),kv=j(Rt('<g class="viz-bar-row svelte-1pgs700"></g>'),eo[D],[[96,2]]);function eo(t,e){Ce(new.target),Me(e,!0,eo);const r=p(m(()=>{var y,x,k,A;if(e.sharedScale)return e.sharedScale;const u=b(e.options.scale,"log"),g=((x=(y=e.theme)==null?void 0:y.spacing)==null?void 0:x.padding)??12;let v=((k=e.options.axisRange)==null?void 0:k[0])??0,_=((A=e.options.axisRange)==null?void 0:A[1])??100;if(!e.options.axisRange){const W=[];for(const M of e.options.effects){const C=e.row.metadata[M.value];de(C,null,!1)&&!Number.isNaN(C)&&W.push(C)}W.length>0&&(v=Math.min(0,...W),_=Math.max(...W)*1.1)}return u?Dr().domain([Math.max(.01,v),_]).range([g,e.width-g]):tr().domain([v,_]).range([g,e.width-g])}),"xScale"),o=p(m(()=>{const u=e.options.effects.length,g=e.rowHeight*.7,v=u>1?2:0,_=(g-v*(u-1))/u;return{barHeight:Math.max(4,_),barGap:v,totalHeight:g}}),"barConfig"),i=p(m(()=>{var u,g;return((g=(u=e.theme)==null?void 0:u.shapes)==null?void 0:g.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function a(u,g){return u.color??n(i)[g%n(i).length]}function l(u){return u.opacity??.85}const c=p(m(()=>e.options.effects.some(u=>{const g=e.row.metadata[u.value];return de(g,null,!1)&&!Number.isNaN(g)})),"hasValidData");var f={...Te()},s=Et(),h=pt(s);{var d=u=>{var g=kv();z(()=>Ne(g,21,()=>e.options.effects,Mr,(v,_,y)=>{const x=p(m(()=>e.row.metadata[n(_).value]),"value");n(x);var k=Et(),A=pt(k);{var W=M=>{const C=p(m(()=>e.yPosition-n(o).totalHeight/2+y*(n(o).barHeight+n(o).barGap)),"barY");n(C);const w=p(m(()=>n(r)(Math.min(0,n(x)))),"barX");n(w);const S=p(m(()=>Math.abs(n(r)(n(x))-n(r)(0))),"barWidth");n(S);const L=p(m(()=>a(n(_),y)),"color");n(L);const T=p(m(()=>l(n(_))),"opacity");n(T);var R=Ev();et(H=>{N(R,"x",n(w)),N(R,"y",n(C)),N(R,"width",H),N(R,"height",n(o).barHeight),N(R,"fill",n(L)),N(R,"fill-opacity",n(T))},[()=>Math.max(1,n(S))]),F(M,R)};z(()=>X(A,M=>{de(n(x),null,!1)&&!Number.isNaN(n(x))&&M(W)}),"if",eo,100,6)}F(v,k)}),"each",eo,98,4),F(u,g)};z(()=>X(h,u=>{n(c)&&u(d)}),"if",eo,95,0)}return F(t,s),Se(f)}hr[D]="src/components/viz/VizBoxplot.svelte";var Cv=j(Rt('<circle r="2.5" fill="none" stroke-width="1.5" class="outlier svelte-5apth9"></circle>'),hr[D],[[210,12]]),Tv=j(Rt('<line stroke-width="1"></line><line stroke-width="1"></line><line stroke-width="1"></line><line stroke-width="1"></line><rect stroke-width="1" class="box-rect svelte-5apth9"></rect><line stroke-width="2"></line><!>',1),hr[D],[[147,10],[156,10],[166,10],[175,10],[185,8],[198,8]]),Nv=j(Rt('<g class="viz-boxplot-row svelte-5apth9"></g>'),hr[D],[[135,2]]);function hr(t,e){Ce(new.target),Me(e,!0,hr);const r=p(m(()=>e.options.effects.map(g=>{if(g.data){const v=e.row.metadata[g.data];return!v||!Array.isArray(v)||b(v.length,0)?null:ma(v)}if(g.min&&g.q1&&g.median&&g.q3&&g.max){const v=e.row.metadata[g.min],_=e.row.metadata[g.q1],y=e.row.metadata[g.median],x=e.row.metadata[g.q3],k=e.row.metadata[g.max];if([v,_,y,x,k].some(W=>de(W,null)||Number.isNaN(W)))return null;let A=[];if(g.outliers){const W=e.row.metadata[g.outliers];W&&Array.isArray(W)&&(A=W)}return{min:v,q1:_,median:y,q3:x,max:k,outliers:A}}return null})),"effectStats"),o=p(m(()=>n(r).some(g=>b(g,null,!1))),"hasValidData"),i=p(m(()=>{var x,k,A,W;if(e.sharedScale)return e.sharedScale;const g=b(e.options.scale,"log"),v=((k=(x=e.theme)==null?void 0:x.spacing)==null?void 0:k.padding)??12;let _=(A=e.options.axisRange)==null?void 0:A[0],y=(W=e.options.axisRange)==null?void 0:W[1];if(de(_,null)||de(y,null)){const M=[];for(const C of n(r))C&&(M.push(C.min,C.max),b(e.options.showOutliers,!1,!1)&&M.push(...C.outliers));if(M.length>0){const C=Math.min(...M),w=Math.max(...M),S=w-C;_=_??C-S*.05,y=y??w+S*.05}else _=_??0,y=y??100}return g?Dr().domain([Math.max(.01,_),y]).range([v,e.width-v]):tr().domain([_,y]).range([v,e.width-v])}),"xScale"),a=p(m(()=>{const g=e.options.effects.length,v=e.rowHeight*.7,_=(v-(g-1)*2)/g;return{boxHeight:Math.max(8,_),boxGap:g>1?2:0,totalHeight:v}}),"boxConfig"),l=p(m(()=>{var g,v;return((v=(g=e.theme)==null?void 0:g.shapes)==null?void 0:v.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function c(g,v){return g.color??n(l)[v%n(l).length]}function f(g){return g.fillOpacity??.7}var s={...Te()},h=Et(),d=pt(h);{var u=g=>{var v=Nv();z(()=>Ne(v,21,()=>e.options.effects,Mr,(_,y,x)=>{const k=p(m(()=>n(r)[x]),"stats");n(k);var A=Et(),W=pt(A);{var M=C=>{const w=p(m(()=>e.yPosition-n(a).totalHeight/2+x*(n(a).boxHeight+n(a).boxGap)),"boxY");n(w);const S=p(m(()=>n(w)+n(a).boxHeight/2),"boxCenterY");n(S);const L=p(m(()=>c(n(y),x)),"color");n(L);const T=p(m(()=>f(n(y))),"opacity");n(T);const R=p(m(()=>{var rt;return((rt=e.theme)==null?void 0:rt.colors.foreground)??"#1a1a1a"}),"lineColor");n(R);var H=Tv(),G=pt(H),P=ot(G),J=ot(P),K=ot(J),U=ot(K),O=ot(U),$=ot(O);{var ut=rt=>{var ft=Et(),st=pt(ft);z(()=>Ne(st,17,()=>n(k).outliers,Mr,(yt,ne)=>{var re=Cv();et(wt=>{N(re,"cx",wt),N(re,"cy",n(S)),N(re,"stroke",n(L))},[()=>n(i)(n(ne))]),F(yt,re)}),"each",hr,209,10),F(rt,ft)};z(()=>X($,rt=>{b(e.options.showOutliers,!1,!1)&&n(k).outliers.length>0&&rt(ut)}),"if",hr,208,8)}et((rt,ft,st,yt,ne,re,wt,zt,We,Dt,Gt,Ge)=>{N(G,"x1",rt),N(G,"x2",ft),N(G,"y1",n(S)),N(G,"y2",n(S)),N(G,"stroke",n(R)),N(P,"x1",st),N(P,"x2",yt),N(P,"y1",n(S)-n(a).boxHeight/4),N(P,"y2",n(S)+n(a).boxHeight/4),N(P,"stroke",n(R)),N(J,"x1",ne),N(J,"x2",re),N(J,"y1",n(S)),N(J,"y2",n(S)),N(J,"stroke",n(R)),N(K,"x1",wt),N(K,"x2",zt),N(K,"y1",n(S)-n(a).boxHeight/4),N(K,"y2",n(S)+n(a).boxHeight/4),N(K,"stroke",n(R)),N(U,"x",We),N(U,"y",n(w)),N(U,"width",Dt),N(U,"height",n(a).boxHeight),N(U,"fill",n(L)),N(U,"fill-opacity",n(T)),N(U,"stroke",n(R)),N(O,"x1",Gt),N(O,"x2",Ge),N(O,"y1",n(w)),N(O,"y2",n(w)+n(a).boxHeight),N(O,"stroke",n(R))},[()=>n(i)(n(k).min),()=>n(i)(n(k).q1),()=>n(i)(n(k).min),()=>n(i)(n(k).min),()=>n(i)(n(k).q3),()=>n(i)(n(k).max),()=>n(i)(n(k).max),()=>n(i)(n(k).max),()=>n(i)(n(k).q1),()=>Math.max(2,n(i)(n(k).q3)-n(i)(n(k).q1)),()=>n(i)(n(k).median),()=>n(i)(n(k).median)]),F(C,H)};z(()=>X(W,C=>{n(k)&&C(M)}),"if",hr,138,6)}F(_,A)}),"each",hr,136,4),F(g,v)};z(()=>X(d,g=>{n(o)&&g(u)}),"if",hr,134,0)}return F(t,h),Se(s)}er[D]="src/components/viz/VizViolin.svelte";var Hv=j(Rt('<line stroke-width="2"></line>'),er[D],[[165,10]]),Av=j(Rt('<line stroke-width="1" stroke-dasharray="2,2"></line><line stroke-width="1" stroke-dasharray="2,2"></line>',1),er[D],[[179,10],[188,10]]),Wv=j(Rt('<path stroke-width="0.5" class="violin-path svelte-1ywbnva"></path><!><!>',1),er[D],[[153,8]]),Rv=j(Rt('<g class="viz-violin-row svelte-1ywbnva"></g>'),er[D],[[140,2]]);function er(t,e){Ce(new.target),Me(e,!0,er);const r=p(m(()=>e.options.effects.map(_=>{const y=e.row.metadata[_.data];return!y||!Array.isArray(y)||y.length<2?null:Fc(y,e.options.bandwidth)})),"effectKDEs"),o=p(m(()=>e.options.effects.map(_=>{const y=e.row.metadata[_.data];return!y||!Array.isArray(y)||y.length<2?null:zc(y)})),"effectQuartiles"),i=p(m(()=>n(r).some(_=>b(_,null,!1))),"hasValidData"),a=p(m(()=>{var A,W,M,C;if(e.sharedScale)return e.sharedScale;const _=b(e.options.scale,"log"),y=((W=(A=e.theme)==null?void 0:A.spacing)==null?void 0:W.padding)??12;let x=(M=e.options.axisRange)==null?void 0:M[0],k=(C=e.options.axisRange)==null?void 0:C[1];if(de(x,null)||de(k,null)){const w=[];for(const S of n(r))S&&S.x.length>0&&w.push(...S.x);w.length>0?(x=x??Math.min(...w),k=k??Math.max(...w)):(x=x??0,k=k??100)}return _?Dr().domain([Math.max(.01,x),k]).range([y,e.width-y]):tr().domain([x,k]).range([y,e.width-y])}),"xScale"),l=p(m(()=>{const _=e.options.effects.length,y=e.rowHeight*.8,x=(y-(_-1)*2)/_;return{maxWidth:x/2,violinHeight:Math.max(10,x),gap:_>1?2:0,totalHeight:y}}),"violinConfig"),c=p(m(()=>{var _,y;return((y=(_=e.theme)==null?void 0:_.shapes)==null?void 0:y.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function f(_,y){return _.color??n(c)[y%n(c).length]}function s(_){return _.fillOpacity??.5}function h(_,y,x){if(_.x.length<2)return"";const k=Lc(_,x),A=[];for(let W=0;W<k.x.length;W++){const M=n(a)(k.x[W]),C=y-k.y[W];A.push(b(W,0)?`M ${M} ${C}`:`L ${M} ${C}`)}for(let W=k.x.length-1;W>=0;W--){const M=n(a)(k.x[W]),C=y+k.y[W];A.push(`L ${M} ${C}`)}return A.push("Z"),A.join(" ")}var d={...Te()},u=Et(),g=pt(u);{var v=_=>{var y=Rv();z(()=>Ne(y,21,()=>e.options.effects,Mr,(x,k,A)=>{const W=p(m(()=>n(r)[A]),"kde");n(W);const M=p(m(()=>n(o)[A]),"quartiles");n(M);var C=Et(),w=pt(C);{var S=L=>{const T=p(m(()=>e.yPosition-n(l).totalHeight/2+n(l).violinHeight/2+A*(n(l).violinHeight+n(l).gap)),"violinCenterY");n(T);const R=p(m(()=>f(n(k),A)),"color");n(R);const H=p(m(()=>s(n(k))),"opacity");n(H);const G=p(m(()=>h(n(W),n(T),n(l).maxWidth)),"path");n(G);const P=p(m(()=>{var rt;return((rt=e.theme)==null?void 0:rt.colors.foreground)??"#1a1a1a"}),"lineColor");n(P);var J=Wv(),K=pt(J),U=ot(K);{var O=rt=>{const ft=p(m(()=>n(a)(n(M).median)),"medianX");n(ft);var st=Hv();et(()=>{N(st,"x1",n(ft)),N(st,"x2",n(ft)),N(st,"y1",n(T)-n(l).maxWidth*.6),N(st,"y2",n(T)+n(l).maxWidth*.6),N(st,"stroke",n(P))}),F(rt,st)};z(()=>X(U,rt=>{b(e.options.showMedian,!1,!1)&&n(M)&&rt(O)}),"if",er,163,8)}var $=ot(U);{var ut=rt=>{const ft=p(m(()=>n(a)(n(M).q1)),"q1X");n(ft);const st=p(m(()=>n(a)(n(M).q3)),"q3X");n(st);var yt=Av(),ne=pt(yt),re=ot(ne);et(()=>{N(ne,"x1",n(ft)),N(ne,"x2",n(ft)),N(ne,"y1",n(T)-n(l).maxWidth*.4),N(ne,"y2",n(T)+n(l).maxWidth*.4),N(ne,"stroke",n(P)),N(re,"x1",n(st)),N(re,"x2",n(st)),N(re,"y1",n(T)-n(l).maxWidth*.4),N(re,"y2",n(T)+n(l).maxWidth*.4),N(re,"stroke",n(P))}),F(rt,yt)};z(()=>X($,rt=>{e.options.showQuartiles&&n(M)&&rt(ut)}),"if",er,176,8)}et(()=>{N(K,"d",n(G)),N(K,"fill",n(R)),N(K,"fill-opacity",n(H)),N(K,"stroke",n(P))}),F(L,J)};z(()=>X(w,L=>{n(W)&&n(W).x.length>=2&&L(S)}),"if",er,144,6)}F(x,C)}),"each",er,141,4),F(_,y)};z(()=>X(g,_=>{n(i)&&_(v)}),"if",er,139,0)}return F(t,u),Se(d)}B[D]="src/lib/ForestPlot.svelte";function Iv(t,e){var o,i;if((i=(o=e.options)==null?void 0:o.bar)!=null&&i.maxValue)return e.options.bar.maxValue;let r=0;for(const a of t){const l=a.metadata[e.field];b(typeof l,"number")&&l>r&&(r=l)}return r||100}function zv(t,e,r){const o=[],i=b(t==null?void 0:t.type,"header")||b(t==null?void 0:t.type,"summary")||b(t==null?void 0:t.type,"spacer");return b(t==null?void 0:t.type,"header")&&o.push("row-header"),b(t==null?void 0:t.type,"summary")&&o.push("row-summary"),t!=null&&t.bold&&o.push("row-bold"),t!=null&&t.italic&&o.push("row-italic"),t!=null&&t.emphasis&&o.push("row-emphasis"),t!=null&&t.muted&&o.push("row-muted"),t!=null&&t.accent&&o.push("row-accent"),!i&&r&&b(e,void 0,!1)&&b(e%2,1)&&o.push("row-odd"),o.join(" ")}function Fv(t,e){const r=[];return t!=null&&t.color&&r.push(`color: ${t.color}`),t!=null&&t.bg&&r.push(`background-color: ${t.bg}`),t!=null&&t.indent&&r.push(`--row-indent: ${t.indent}`),!(t!=null&&t.indent)&&e&&e>0&&r.push(`--row-indent: ${e}`),r.join("; ")}function Lv(t,e){var r;if((r=t.cellStyles)!=null&&r[e.field])return t.cellStyles[e.field];if(e.styleMapping){const o={},i=t.metadata;if(e.styleMapping.bold&&i[e.styleMapping.bold]&&(o.bold=!!i[e.styleMapping.bold]),e.styleMapping.italic&&i[e.styleMapping.italic]&&(o.italic=!!i[e.styleMapping.italic]),e.styleMapping.color&&i[e.styleMapping.color]&&(o.color=String(i[e.styleMapping.color])),e.styleMapping.bg&&i[e.styleMapping.bg]&&(o.bg=String(i[e.styleMapping.bg])),e.styleMapping.badge&&i[e.styleMapping.badge]&&(o.badge=String(i[e.styleMapping.badge])),e.styleMapping.icon&&i[e.styleMapping.icon]&&(o.icon=String(i[e.styleMapping.icon])),Object.keys(o).length>0)return o}}var Pv=j(_t('<div class="resize-handle svelte-14l8yxx"></div>'),B[D],[[941,12]]),Dv=j(_t('<div class="grid-cell header-cell column-group-header svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span></div>'),B[D],[[952,12,[[957,14]]]]),Bv=j(_t('<span class="header-text svelte-14l8yxx"> </span>'),B[D],[[978,16]]),Gv=j(_t('<div class="resize-handle svelte-14l8yxx"></div>'),B[D],[[982,16]]),Vv=j(_t('<div class="grid-cell header-cell plot-header svelte-14l8yxx"><!> <!></div>'),B[D],[[971,12]]),Ov=j(_t('<div class="resize-handle svelte-14l8yxx"></div>'),B[D],[[1e3,16]]),jv=j(_t('<div class="grid-cell header-cell svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span> <!></div>'),B[D],[[991,12,[[997,14]]]]),qv=j(_t('<span class="row-icon svelte-14l8yxx"> </span>'),B[D],[[1047,35]]),Uv=j(_t('<span class="row-badge svelte-14l8yxx"> </span>'),B[D],[[1049,36]]),Xv=j(_t("<!> <!>",1),B[D],[]),Yv=j(_t("<div></div>"),B[D],[[1057,14]]),$v=j(_t("<div><!></div>"),B[D],[[1072,14]]),Zv=j(_t("<div><!></div> <!>",1),B[D],[[1022,10]]),Kv=j(_t('<div class="grid-cell axis-cell svelte-14l8yxx"></div>'),B[D],[[1100,14]]),Jv=j(_t('<div class="grid-cell axis-spacer svelte-14l8yxx"></div>'),B[D],[[1102,14]]),Qv=j(_t('<!> <div class="grid-cell axis-spacer svelte-14l8yxx"></div>',1),B[D],[[1106,10]]),tp=j(Rt('<text text-anchor="middle" font-size="var(--wf-font-size-sm)" font-weight="500" class="svelte-14l8yxx"> </text>'),B[D],[[1157,18]]),ep=j(Rt('<line class="svelte-14l8yxx"></line><!>',1),B[D],[[1145,16]]),np=j(Rt('<g class="svelte-14l8yxx"><!></g>'),B[D],[[1218,14]]),rp=j(Rt('<svg class="plot-overlay svelte-14l8yxx"><line stroke="var(--wf-muted)" stroke-width="1" stroke-dasharray="4,4" class="svelte-14l8yxx"></line><!><!><!><!></svg>'),B[D],[[1120,10,[[1129,12]]]]),op=j(Rt('<g class="svelte-14l8yxx"><!></g>'),B[D],[[1261,16]]),ip=j(Rt('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),B[D],[[1234,12]]),ap=j(Rt('<g class="svelte-14l8yxx"><!></g>'),B[D],[[1314,16]]),sp=j(Rt('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),B[D],[[1287,12]]),lp=j(Rt('<g class="svelte-14l8yxx"><!></g>'),B[D],[[1367,16]]),cp=j(Rt('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),B[D],[[1340,12]]),fp=j(_t('<!> <div class="tabviz-scalable svelte-14l8yxx"><!>  <div><div class="grid-cell header-cell label-header svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span> <!></div> <!> <!> <!> <!> <!> <!> <!></div> <!></div> <!>',1),B[D],[[855,4,[[930,6,[[933,8,[[938,10]]]]]]]]),up=j(_t('<div class="tabviz-empty svelte-14l8yxx">No data</div>'),B[D],[[1392,4]]),dp=j(_t("<div><!></div>"),B[D],[[840,0]]);function B(t,e){Ce(new.target),Me(e,!0,B);const r=p(m(()=>e.store.spec),"spec"),o=p(m(()=>e.store.visibleRows),"visibleRows"),i=p(m(()=>e.store.displayRows),"displayRows"),a=p(m(()=>e.store.layout),"layout"),l=p(m(()=>e.store.xScale),"xScale"),c=p(m(()=>e.store.axisComputation),"axisComputation"),f=p(m(()=>n(c).axisLimits),"clipBounds"),s=p(m(()=>{var E;return(E=n(r))==null?void 0:E.theme}),"theme"),h=p(m(()=>{var E,I;return((I=(E=n(s))==null?void 0:E.layout)==null?void 0:I.banding)??!1}),"bandingEnabled"),d=p(m(()=>e.store.allColumns),"allColumns"),u=p(m(()=>e.store.allColumnDefs),"allColumnDefs"),g=p(m(()=>e.store.forestColumns),"forestColumns");p(m(()=>n(g).length>0),"hasForestColumns");const v=p(m(()=>e.store.vizColumns),"vizColumns"),_=p(m(()=>n(v).length>0),"hasVizColumns"),y=p(m(()=>{var E;return((E=n(r))==null?void 0:E.data.labelHeader)||"Study"}),"labelHeader"),x=p(m(()=>{var E,I,q,Z;return!!((I=(E=n(r))==null?void 0:E.labels)!=null&&I.title)||!!((Z=(q=n(r))==null?void 0:q.labels)!=null&&Z.subtitle)}),"hasPlotHeader");p(m(()=>n(u).some(E=>E.isGroup)),"hasColumnGroups");const k=p(m(()=>e.store.tooltipRow),"tooltipRow"),A=p(m(()=>e.store.tooltipPosition),"tooltipPosition"),W=p(m(()=>e.store.selectedRowIds),"selectedRowIds"),M=p(m(()=>e.store.hoveredRowId),"hoveredRowId"),C=p(m(()=>e.store.zoom),"zoom"),w=p(m(()=>e.store.autoFit),"autoFit"),S=p(m(()=>e.store.actualScale),"actualScale"),L=p(m(()=>e.store.maxWidth),"maxWidth"),T=p(m(()=>e.store.maxHeight),"maxHeight");p(m(()=>e.store.showZoomControls),"showZoomControls");const R=p(m(()=>({...e.store.columnWidths})),"columnWidthsSnapshot");let H=p(Tt(void 0),"containerRef"),G=p(Tt(void 0),"scalableRef"),P=p(Tt(0),"containerContentWidth"),J=p(Tt(0),"scalableNaturalWidth"),K=p(Tt(0),"scalableNaturalHeight");p(m(()=>e.store.naturalContentWidth),"naturalContentWidth");const U=p(m(()=>n(J)*n(S)),"scaledWidth"),O=p(m(()=>n(K)*n(S)),"scaledHeight"),$=p(m(()=>{if(!n(w)||n(P)<=0||n(U)<=0)return 0;const E=(n(P)-n(U))/2;return Math.max(0,E)}),"centeringMargin");Ji(()=>{if(!n(H)||!n(G))return;n(H).id&&e.store.setContainerElementId(n(H).id);const E=new ResizeObserver(I=>{for(const q of I)b(q.target,n(H))?(it(P,q.contentRect.width,!0),e.store.setContainerDimensions(q.contentRect.width,q.contentRect.height)):b(q.target,n(G))&&(it(J,q.contentRect.width,!0),it(K,q.contentRect.height,!0),e.store.setScalableNaturalDimensions(q.contentRect.width,q.contentRect.height))});return E.observe(n(H)),E.observe(n(G)),()=>{E.disconnect()}});const ut=p(m(()=>{var E,I;return b((I=(E=n(r))==null?void 0:E.interaction)==null?void 0:I.enableExport,!1,!1)}),"enableExport"),rt=p(m(()=>{var E,I;return(I=(E=n(r))==null?void 0:E.interaction)==null?void 0:I.enableThemes}),"enableThemes");function ft(E){var I;if(!(!E.metaKey&&!E.ctrlKey)&&!b((I=E.target)==null?void 0:I.tagName,"INPUT"))switch(E.key){case"=":case"+":E.preventDefault(),e.store.zoomIn();break;case"-":E.preventDefault(),e.store.zoomOut();break;case"0":E.preventDefault(),e.store.resetZoom();break;case"1":E.preventDefault(),e.store.fitToWidth();break}}const st=p(m(()=>{var Z;const E=[],I=[];let q=0;for(const xt of n(i)){const kt=b(xt.type,"data")&&b((Z=xt.row.style)==null?void 0:Z.type,"spacer")?n(a).rowHeight/2:n(a).rowHeight;E.push(q),I.push(kt),q+=kt}return{positions:E,heights:I,totalHeight:q}}),"rowLayout"),yt=p(m(()=>n(st).totalHeight),"rowsAreaHeight");function ne(E){const I=E.filter(kt=>b(kt.type,"reference_line")&&kt.label).map(kt=>({id:kt.id,x:n(l)(kt.x),label:kt.label})).sort((kt,jt)=>kt.x-jt.x),q={},Z=120,xt=-18;for(let kt=0;kt<I.length;kt++){const jt=I[kt];if(q[jt.id]=0,kt>0){const bt=I[kt-1];jt.x-bt.x<Z&&(q[jt.id]=b(q[bt.id],0)?xt:0)}}return q}function re(E){return n(W).has(E)}function wt(E,I){return b(E.type,"group_header")?`group_${E.group.id}`:E.row.id}function zt(E){return E.isGroup?E.columns.reduce((I,q)=>I+zt(q),0):1}function We(E){let I=0;for(const q of E)if(q.isGroup){const Z=1+We(q.columns);I=Math.max(I,Z)}return I}function Dt(E,I){var oe,Kt;const q=I==null?void 0:I.groupHeaders,Z=((oe=I==null?void 0:I.colors)==null?void 0:oe.primary)??"#0891b2",xt=((Kt=I==null?void 0:I.colors)==null?void 0:Kt.background)??"#ffffff";if(b(E,1)&&(q!=null&&q.level1Background))return q.level1Background;if(b(E,2)&&(q!=null&&q.level2Background))return q.level2Background;if(E>=3&&(q!=null&&q.level3Background))return q.level3Background;const jt=[.15,.1,.06][Math.min(E-1,2)],bt=ae=>{const Ct=ae.replace("#","");return{r:parseInt(Ct.substring(0,2),16),g:parseInt(Ct.substring(2,4),16),b:parseInt(Ct.substring(4,6),16)}},St=bt(Z),Lt=bt(xt),Ft=(ae,Ct)=>Math.round(ae*jt+Ct*(1-jt)),Le=Ft(St.r,Lt.r),Pt=Ft(St.g,Lt.g),_e=Ft(St.b,Lt.b);return`rgb(${Le}, ${Pt}, ${_e})`}const Gt=p(m(()=>Math.max(1,1+We(n(u)))),"headerDepth"),Ge=p(m(()=>{const E=[];let I=2;function q(Z,xt){const kt=zt(Z),jt=I;if(Z.isGroup){E.push({col:Z,gridColumnStart:jt,colspan:kt,rowStart:xt+1,rowSpan:1,isGroupHeader:!0,isForest:!1});for(const bt of Z.columns)q(bt,xt+1)}else{const bt=!Z.isGroup&&lt.includes(Z.type);E.push({col:Z,gridColumnStart:jt,colspan:1,rowStart:xt+1,rowSpan:n(Gt)-xt,isGroupHeader:!1,isForest:bt}),I++}}for(const Z of n(u))q(Z,0);return E}),"headerCells");function vt(E){const I=n(R)[E.id];return b(typeof I,"number")?`${I}px`:b(typeof E.width,"number")?`${E.width}px`:"max-content"}const lt=["forest","viz_bar","viz_boxplot","viz_violin"],Zt=p(m(()=>{var q,Z,xt,kt,jt,bt,St,Lt;const E=[],I=n(R).__label__;E.push(I?`${I}px`:"max-content");for(const Ft of n(d))if(lt.includes(Ft.type)){const Le=n(R)[Ft.id];let Pt;b(typeof Le,"number")?Pt=Le:b(typeof Ft.width,"number")?Pt=Ft.width:b(Ft.type,"forest")?Pt=((Z=(q=Ft.options)==null?void 0:q.forest)==null?void 0:Z.width)??n(a).forestWidth:b(Ft.type,"viz_bar")?Pt=((kt=(xt=Ft.options)==null?void 0:xt.vizBar)==null?void 0:kt.width)??n(a).forestWidth:b(Ft.type,"viz_boxplot")?Pt=((bt=(jt=Ft.options)==null?void 0:jt.vizBoxplot)==null?void 0:bt.width)??n(a).forestWidth:b(Ft.type,"viz_violin")?Pt=((Lt=(St=Ft.options)==null?void 0:St.vizViolin)==null?void 0:Lt.width)??n(a).forestWidth:Pt=n(a).forestWidth,E.push(`${Pt}px`)}else E.push(vt(Ft));return E.join(" ")}),"gridTemplateColumns");p(m(()=>1+n(d).length),"totalColumns");const qe=p(m(()=>{const E=[];for(let I=0;I<n(d).length;I++)lt.includes(n(d)[I].type)&&E.push({gridCol:2+I,column:n(d)[I]});return E}),"vizColumnGridIndices");n(qe);let je=p(Tt(xr(new Map)),"forestColumnRefs"),zn=p(Tt(xr(new Map)),"forestColumnPositions"),te=p(Tt(void 0),"labelHeaderRef"),we=p(Tt(0),"measuredHeaderHeight");Ji(()=>{n(R),n(a).forestWidth,n(Gt),Eu().then(()=>{const E=new Map;for(const[I,q]of n(je))q&&E.set(I,q.offsetLeft);it(zn,E,!0),n(te)&&it(we,n(te).offsetHeight,!0)})});function Ue(E,I){return n(je).set(I,E),it(je,new Map(n(je)),!0),{destroy(){n(je).delete(I),it(je,new Map(n(je)),!0)}}}const Ve=p(m(()=>n(we)>0?n(we):n(a).headerHeight),"actualHeaderHeight"),Xe=p(m(()=>{var q,Z,xt,kt,jt,bt,St,Lt,Ft;const E=new Map,I=Tn;for(const Le of n(v)){const Pt=Le.column,_e=I;if(b(Pt.type,"viz_bar")){const oe=(q=Pt.options)==null?void 0:q.vizBar;if(!oe)continue;const Kt=n(R)[Pt.id],ae=b(typeof Kt,"number")?Kt:b(typeof Pt.width,"number")?Pt.width:oe.width??n(a).forestWidth;let Ct=(Z=oe.axisRange)==null?void 0:Z[0],ht=(xt=oe.axisRange)==null?void 0:xt[1];if(de(Ct,null)||de(ht,null)){const he=[];for(const Pe of n(i))if(b(Pe.type,"data"))for(const De of oe.effects){const fe=Pe.row.metadata[De.value];de(fe,null,!1)&&!Number.isNaN(fe)&&he.push(fe)}he.length>0?(Ct=Ct??Math.min(0,...he),ht=ht??Math.max(...he)*1.1):(Ct=Ct??0,ht=ht??100)}const Jt=b(oe.scale,"log")?Dr().domain([Math.max(.01,Ct),ht]).range([_e,ae-_e]):tr().domain([Ct,ht]).range([_e,ae-_e]);E.set(Pt.id,Jt)}else if(b(Pt.type,"viz_boxplot")){const oe=(kt=Pt.options)==null?void 0:kt.vizBoxplot;if(!oe)continue;const Kt=n(R)[Pt.id],ae=b(typeof Kt,"number")?Kt:b(typeof Pt.width,"number")?Pt.width:oe.width??n(a).forestWidth;let Ct=(jt=oe.axisRange)==null?void 0:jt[0],ht=(bt=oe.axisRange)==null?void 0:bt[1];if(de(Ct,null)||de(ht,null)){const he=[];for(const Pe of n(i))if(b(Pe.type,"data")){for(const De of oe.effects)if(De.data){const fe=Pe.row.metadata[De.data];if(fe&&Array.isArray(fe)){const qt=ma(fe);he.push(qt.min,qt.max),b(oe.showOutliers,!1,!1)&&he.push(...qt.outliers)}}else if(De.min&&De.max){const fe=Pe.row.metadata[De.min],qt=Pe.row.metadata[De.max];de(fe,null,!1)&&!Number.isNaN(fe)&&he.push(fe),de(qt,null,!1)&&!Number.isNaN(qt)&&he.push(qt)}}if(he.length>0){const Pe=Math.min(...he),De=Math.max(...he),fe=De-Pe;Ct=Ct??Pe-fe*.05,ht=ht??De+fe*.05}else Ct=Ct??0,ht=ht??100}const Jt=b(oe.scale,"log")?Dr().domain([Math.max(.01,Ct),ht]).range([_e,ae-_e]):tr().domain([Ct,ht]).range([_e,ae-_e]);E.set(Pt.id,Jt)}else if(b(Pt.type,"viz_violin")){const oe=(St=Pt.options)==null?void 0:St.vizViolin;if(!oe)continue;const Kt=n(R)[Pt.id],ae=b(typeof Kt,"number")?Kt:b(typeof Pt.width,"number")?Pt.width:oe.width??n(a).forestWidth;let Ct=(Lt=oe.axisRange)==null?void 0:Lt[0],ht=(Ft=oe.axisRange)==null?void 0:Ft[1];if(de(Ct,null)||de(ht,null)){const he=[];for(const Pe of n(i))if(b(Pe.type,"data"))for(const De of oe.effects){const fe=Pe.row.metadata[De.data];fe&&Array.isArray(fe)&&he.push(...fe.filter(qt=>de(qt,null,!1)&&!Number.isNaN(qt)))}if(he.length>0){Ct=Ct??Math.min(...he),ht=ht??Math.max(...he);const Pe=ht-Ct;Ct=Ct-Pe*.1,ht=ht+Pe*.1}else Ct=Ct??0,ht=ht??100}const Jt=b(oe.scale,"log")?Dr().domain([Math.max(.01,Ct),ht]).range([_e,ae-_e]):tr().domain([Ct,ht]).range([_e,ae-_e]);E.set(Pt.id,Jt)}}return E}),"vizColumnScales"),Mn=p(m(()=>{var q;const E=new Map,I=Tn;for(const Z of n(g)){const xt=Z.column,kt=(q=xt.options)==null?void 0:q.forest,jt=n(R)[xt.id],bt=b(typeof jt,"number")?jt:b(typeof xt.width,"number")?xt.width:(kt==null?void 0:kt.width)??n(a).forestWidth,St=b(kt==null?void 0:kt.scale,"log"),Lt=n(c).axisLimits,Ft=I,Le=Math.max(bt-I,Ft+50);if(St){const Pt=[Math.max(Lt[0],.01),Math.max(Lt[1],.02)];E.set(xt.id,Dr().domain(Pt).range([Ft,Le]))}else E.set(xt.id,tr().domain(Lt).range([Ft,Le]))}return E}),"forestColumnScales");p(Tt(!1),"resizingPlot");let an=p(Tt(null),"resizingColumn"),Ot=0,Bt=0;function Fe(E,I,q){var Z;(Z=n(r))!=null&&Z.interaction.enableResize&&(E.preventDefault(),E.stopPropagation(),it(an,I,!0),Ot=E.clientX,Bt=q,document.addEventListener("pointermove",ir),document.addEventListener("pointerup",vr))}function ir(E){if(!n(an))return;const I=E.clientX-Ot,q=Math.max(40,Bt+I);e.store.setColumnWidth(n(an),q)}function vr(){it(an,null),document.removeEventListener("pointermove",ir),document.removeEventListener("pointerup",vr)}function _n(E,I){e.store.setHovered(E),e.store.setTooltip(E,{x:I.clientX,y:I.clientY})}function Je(){e.store.setHovered(null),e.store.setTooltip(null,null)}const Sn=p(m(()=>n(s)?`
      --wf-max-width: ${n(L)?`${n(L)}px`:"none"};
      --wf-max-height: ${n(T)?`${n(T)}px`:"none"};
      --wf-bg: ${n(s).colors.background};
      --wf-fg: ${n(s).colors.foreground};
      --wf-primary: ${n(s).colors.primary};
      --wf-secondary: ${n(s).colors.secondary};
      --wf-muted: ${n(s).colors.muted};
      --wf-border: ${n(s).colors.border};
      --wf-row-bg: ${n(s).colors.rowBg};
      --wf-alt-bg: ${n(s).colors.altBg};
      --wf-interval-line: ${n(s).colors.intervalLine};
      --wf-interval-positive: ${n(s).colors.intervalPositive};
      --wf-interval-negative: ${n(s).colors.intervalNegative};
      --wf-summary-fill: ${n(s).colors.summaryFill};
      --wf-summary-border: ${n(s).colors.summaryBorder};
      --wf-accent: ${n(s).colors.accent};
      --wf-badge-success: ${Ci.success};
      --wf-badge-warning: ${Ci.warning};
      --wf-badge-error: ${Ci.error};
      --wf-badge-info: ${Ci.info};
      --wf-badge-muted: ${n(s).colors.muted};
      --wf-font-family: ${n(s).typography.fontFamily};
      --wf-font-size-sm: ${n(s).typography.fontSizeSm};
      --wf-font-size-base: ${n(s).typography.fontSizeBase};
      --wf-font-size-lg: ${n(s).typography.fontSizeLg};
      --wf-font-weight-normal: ${n(s).typography.fontWeightNormal};
      --wf-font-weight-medium: ${n(s).typography.fontWeightMedium};
      --wf-font-weight-bold: ${n(s).typography.fontWeightBold};
      --wf-line-height: ${n(s).typography.lineHeight};
      --wf-header-font-scale: ${n(s).typography.headerFontScale??1.05};
      --wf-row-height: ${n(s).spacing.rowHeight}px;
      --wf-header-height: ${n(s).spacing.headerHeight}px;
      --wf-header-row-height: ${n(s).spacing.headerHeight/n(Gt)}px;
      --wf-header-depth: ${n(Gt)};
      --wf-padding: ${n(s).spacing.padding}px;
      --wf-container-padding: ${n(s).spacing.containerPadding}px;
      --wf-cell-padding-x: ${n(s).spacing.cellPaddingX}px;
      --wf-cell-padding-y: ${n(s).spacing.cellPaddingY}px;
      --wf-axis-gap: ${n(s).spacing.axisGap??$n.DEFAULT_AXIS_GAP}px;
      --wf-axis-height: ${n(a).axisHeight}px;
      --wf-group-padding: ${n(s).spacing.groupPadding??8}px;
      --wf-column-gap: ${n(s).spacing.columnGap??8}px;
      --wf-plot-width: ${n(a).forestWidth}px;
      --wf-point-size: ${n(s).shapes.pointSize}px;
      --wf-line-width: ${n(s).shapes.lineWidth}px;
      --wf-border-radius: ${n(s).shapes.borderRadius}px;
      --wf-container-border: ${n(s).layout.containerBorder?"1px solid var(--wf-border)":"none"};
      --wf-container-border-radius: ${n(s).layout.containerBorderRadius}px;
      --wf-group-header-opacity: ${rd};
      --wf-row-hover-opacity: ${od};
      --wf-row-selected-opacity: ${id};
      --wf-row-selected-hover-opacity: ${ad};
      --wf-actual-scale: ${n(S)};
      --wf-zoom: ${n(C)};
    `.trim():""),"cssVars");var qr={...Te()},yn=dp();Dn("keydown",jo,ft);let Ye;var fn=tt(yn);{var Fn=E=>{var I=fp(),q=pt(I);z(()=>Rn(q,{get store(){return e.store},get enableExport(){return n(ut)},get enableThemes(){return n(rt)},get onThemeChange(){return e.onThemeChange}}),"component",B,852,4,{componentTag:"ControlToolbar"});var Z=ot(q,2);let xt;{const fe=Lu(B,function(dt,Q=Bs,Y=Bs){Du(...arguments);const Ht=p(m(()=>Lv(Q(),Y())),"cellStyle");n(Ht);var at=Et(),Re=pt(at);{var se=ge=>{{let Ie=m(()=>Iv(n(o),Y())),ye=m(()=>{var mt;return(mt=Y().options)==null?void 0:mt.bar});z(()=>xo(ge,{get value(){return Q().metadata[Y().field]},get maxValue(){return n(Ie)},get options(){return n(ye)}}),"component",B,865,10,{componentTag:"CellBar"})}},ee=ge=>{var Ie=Et(),ye=pt(Ie);{var mt=It=>{{let ie=m(()=>{var Ee;return(Ee=Y().options)==null?void 0:Ee.pvalue});z(()=>Yo(It,{get value(){return Q().metadata[Y().field]},get options(){return n(ie)},get cellStyle(){return n(Ht)}}),"component",B,871,10,{componentTag:"CellPvalue"})}},Mt=It=>{var ie=Et(),Ee=pt(ie);{var dn=At=>{{let ue=m(()=>{var gt;return(gt=Y().options)==null?void 0:gt.sparkline});z(()=>An(At,{get data(){return Q().metadata[Y().field]},get options(){return n(ue)}}),"component",B,877,10,{componentTag:"CellSparkline"})}},Ut=At=>{var ue=Et(),gt=pt(ue);{var nt=$t=>{{let xe=m(()=>{var ke;return(ke=Y().options)==null?void 0:ke.icon});z(()=>Ri($t,{get value(){return Q().metadata[Y().field]},get options(){return n(xe)}}),"component",B,882,10,{componentTag:"CellIcon"})}},Wt=$t=>{var xe=Et(),ke=pt(xe);{var ve=$e=>{{let hn=m(()=>{var sn;return(sn=Y().options)==null?void 0:sn.badge});z(()=>Ii($e,{get value(){return Q().metadata[Y().field]},get options(){return n(hn)}}),"component",B,887,10,{componentTag:"CellBadge"})}},Xt=$e=>{var hn=Et(),sn=pt(hn);{var tn=ze=>{{let oi=m(()=>{var ii;return(ii=Y().options)==null?void 0:ii.stars});z(()=>So(ze,{get value(){return Q().metadata[Y().field]},get options(){return n(oi)}}),"component",B,892,10,{componentTag:"CellStars"})}},pe=ze=>{var oi=Et(),ii=pt(oi);{var Io=jn=>{{let si=m(()=>{var li;return(li=Y().options)==null?void 0:li.img});z(()=>Eo(jn,{get value(){return Q().metadata[Y().field]},get options(){return n(si)}}),"component",B,897,10,{componentTag:"CellImg"})}},ai=jn=>{var si=Et(),li=pt(si);{var mp=ci=>{{let Ma=m(()=>{var Sa;return(Sa=Y().options)==null?void 0:Sa.reference});z(()=>Br(ci,{get value(){return Q().metadata[Y().field]},get metadata(){return Q().metadata},get options(){return n(Ma)}}),"component",B,902,10,{componentTag:"CellReference"})}},_p=ci=>{var Ma=Et(),Sa=pt(Ma);{var yp=fi=>{{let Ea=m(()=>{var ka;return(ka=Y().options)==null?void 0:ka.range});z(()=>zi(fi,{get value(){return Q().metadata[Y().field]},get metadata(){return Q().metadata},get options(){return n(Ea)}}),"component",B,908,10,{componentTag:"CellRange"})}},xp=fi=>{var Ea=Et(),ka=pt(Ea);{var wp=ui=>{{let Ca=m(()=>Jo(Q().metadata[Y().field],Y().options));z(()=>ur(ui,{get value(){return n(Ca)},get cellStyle(){return n(Ht)}}),"component",B,914,10,{componentTag:"CellContent"})}},bp=ui=>{var Ca=Et(),Mp=pt(Ca);{var Sp=di=>{{let zo=m(()=>xs(Q(),Y().options));z(()=>ur(di,{get value(){return n(zo)},get cellStyle(){return n(Ht)}}),"component",B,916,10,{componentTag:"CellContent"})}},Ep=di=>{var zo=Et(),kp=pt(zo);{var Cp=hi=>{{let Hs=m(()=>{var Jc,Qc,tf,ef,nf,rf;return ws((Qc=(Jc=Y().options)==null?void 0:Jc.interval)!=null&&Qc.point?Q().metadata[Y().options.interval.point]:void 0,(ef=(tf=Y().options)==null?void 0:tf.interval)!=null&&ef.lower?Q().metadata[Y().options.interval.lower]:void 0,(rf=(nf=Y().options)==null?void 0:nf.interval)!=null&&rf.upper?Q().metadata[Y().options.interval.upper]:void 0,Y().options)});z(()=>ur(hi,{get value(){return n(Hs)},get cellStyle(){return n(Ht)}}),"component",B,918,10,{componentTag:"CellContent"})}},Tp=hi=>{{let Hs=m(()=>Q().metadata[Y().field]??"");z(()=>ur(hi,{get value(){return n(Hs)},get cellStyle(){return n(Ht)}}),"component",B,925,10,{componentTag:"CellContent"})}};z(()=>X(kp,hi=>{b(Y().type,"interval")?hi(Cp):hi(Tp,!1)},!0),"if",B,917,8)}F(di,zo)};z(()=>X(Mp,di=>{var zo;b(Y().type,"custom")&&((zo=Y().options)!=null&&zo.events)?di(Sp):di(Ep,!1)},!0),"if",B,915,8)}F(ui,Ca)};z(()=>X(ka,ui=>{b(Y().type,"numeric")?ui(wp):ui(bp,!1)},!0),"if",B,913,8)}F(fi,Ea)};z(()=>X(Sa,fi=>{b(Y().type,"range")?fi(yp):fi(xp,!1)},!0),"if",B,907,8)}F(ci,Ma)};z(()=>X(li,ci=>{b(Y().type,"reference")?ci(mp):ci(_p,!1)},!0),"if",B,901,8)}F(jn,si)};z(()=>X(ii,jn=>{b(Y().type,"img")?jn(Io):jn(ai,!1)},!0),"if",B,896,8)}F(ze,oi)};z(()=>X(sn,ze=>{b(Y().type,"stars")?ze(tn):ze(pe,!1)},!0),"if",B,891,8)}F($e,hn)};z(()=>X(ke,$e=>{b(Y().type,"badge")?$e(ve):$e(Xt,!1)},!0),"if",B,886,8)}F($t,xe)};z(()=>X(gt,$t=>{b(Y().type,"icon")?$t(nt):$t(Wt,!1)},!0),"if",B,881,8)}F(At,ue)};z(()=>X(Ee,At=>{b(Y().type,"sparkline")?At(dn):At(Ut,!1)},!0),"if",B,876,8)}F(It,ie)};z(()=>X(ye,It=>{b(Y().type,"pvalue")?It(mt):It(Mt,!1)},!0),"if",B,870,8)}F(ge,Ie)};z(()=>X(Re,ge=>{b(Y().type,"bar")?ge(se):ge(ee,!1)}),"if",B,864,8)}F(dt,at)});var kt=tt(Z);{var jt=dt=>{{let Q=m(()=>{var Ht;return(Ht=n(r).labels)==null?void 0:Ht.title}),Y=m(()=>{var Ht;return(Ht=n(r).labels)==null?void 0:Ht.subtitle});z(()=>Qn(dt,{get title(){return n(Q)},get subtitle(){return n(Y)}}),"component",B,858,8,{componentTag:"PlotHeader"})}};z(()=>X(kt,dt=>{n(x)&&dt(jt)}),"if",B,857,6)}var bt=ot(kt,2);let qt,un;var St=tt(bt);let pr;var Lt=tt(St),Ft=tt(Lt),Le=ot(Lt,2);{var Pt=dt=>{var Q=Pv();Q.__pointerdown=Y=>Fe(Y,"__label__",n(R).__label__??150),F(dt,Q)};z(()=>X(Le,dt=>{var Q;(Q=n(r))!=null&&Q.interaction.enableResize&&dt(Pt)}),"if",B,939,10)}_o(St,dt=>it(te,dt),()=>n(te));var _e=ot(St,2);mn(()=>n(Ge),dt=>dt.col.id),z(()=>Ne(_e,17,()=>n(Ge),dt=>dt.col.id,(dt,Q)=>{var Y=Et(),Ht=pt(Y);{var at=se=>{var ee=Dv();let ge;var Ie=tt(ee),ye=tt(Ie,!0);et(()=>{ge=He(ee,"",ge,{"grid-column":`${n(Q).gridColumnStart??""} / span ${n(Q).colspan??""}`,"grid-row":`${n(Q).rowStart??""} / span ${n(Q).rowSpan??""}`}),Yt(ye,n(Q).col.header)}),F(se,ee)},Re=se=>{var ee=Et(),ge=pt(ee);{var Ie=mt=>{const Mt=p(m(()=>n(Q).col),"column");n(Mt);const It=p(m(()=>{var gt,nt,Wt,$t,xe,ke,ve,Xt;return b(n(Mt).type,"forest")?((nt=(gt=n(Mt).options)==null?void 0:gt.forest)==null?void 0:nt.width)??n(a).forestWidth:b(n(Mt).type,"viz_bar")?(($t=(Wt=n(Mt).options)==null?void 0:Wt.vizBar)==null?void 0:$t.width)??n(a).forestWidth:b(n(Mt).type,"viz_boxplot")?((ke=(xe=n(Mt).options)==null?void 0:xe.vizBoxplot)==null?void 0:ke.width)??n(a).forestWidth:b(n(Mt).type,"viz_violin")?((Xt=(ve=n(Mt).options)==null?void 0:ve.vizViolin)==null?void 0:Xt.width)??n(a).forestWidth:n(a).forestWidth}),"vizDefaultWidth");n(It);var ie=Vv();let Ee;var dn=tt(ie);{var Ut=gt=>{var nt=Bv(),Wt=tt(nt,!0);et(()=>Yt(Wt,n(Mt).header)),F(gt,nt)};z(()=>X(dn,gt=>{n(Mt).header&&gt(Ut)}),"if",B,977,14)}var At=ot(dn,2);{var ue=gt=>{var nt=Gv();nt.__pointerdown=Wt=>Fe(Wt,n(Mt).id,n(R)[n(Mt).id]??n(It)),F(gt,nt)};z(()=>X(At,gt=>{var nt;(nt=n(r))!=null&&nt.interaction.enableResize&&gt(ue)}),"if",B,980,14)}oa(ie,(gt,nt)=>Ue==null?void 0:Ue(gt,nt),()=>n(Mt).id),et(()=>Ee=He(ie,"",Ee,{"grid-column":n(Q).gridColumnStart,"grid-row":`${n(Q).rowStart??""} / span ${n(Q).rowSpan??""}`})),F(mt,ie)},ye=mt=>{const Mt=p(m(()=>n(Q).col),"column");n(Mt);var It=jv();let ie;var Ee=tt(It),dn=tt(Ee,!0);var Ut=ot(Ee,2);{var At=ue=>{var gt=Ov();gt.__pointerdown=nt=>Fe(nt,n(Mt).id,n(R)[n(Mt).id]??(b(typeof n(Mt).width,"number")?n(Mt).width:80)),F(ue,gt)};z(()=>X(Ut,ue=>{var gt;(gt=n(r))!=null&&gt.interaction.enableResize&&ue(At)}),"if",B,998,14)}et(()=>{ie=He(It,"",ie,{"grid-column":n(Q).gridColumnStart,"grid-row":`${n(Q).rowStart??""} / span ${n(Q).rowSpan??""}`,"text-align":n(Mt).headerAlign??n(Mt).align}),Yt(dn,n(Mt).header)}),F(mt,It)};z(()=>X(ge,mt=>{n(Q).isForest?mt(Ie):mt(ye,!1)},!0),"if",B,959,10)}F(se,ee)};z(()=>X(Ht,se=>{n(Q).isGroupHeader?se(at):se(Re,!1)}),"if",B,950,10)}F(dt,Y)}),"each",B,949,8);var oe=ot(_e,2);mn(()=>n(i),(dt,Q)=>wt(dt)),z(()=>Ne(oe,19,()=>n(i),(dt,Q)=>wt(dt,Q),(dt,Q,Y)=>{const Ht=p(m(()=>b(n(Q).type,"group_header")),"isGroupHeader");n(Ht);const at=p(m(()=>n(Ht)?null:n(Q).row),"row");n(at);const Re=p(m(()=>n(Q).depth),"rowDepth");n(Re);const se=p(m(()=>n(at)?re(n(at).id):!1),"selected");n(se);const ee=p(m(()=>n(at)?zv(n(at).style,n(Y),n(h)):""),"rowClasses");n(ee);const ge=p(m(()=>n(at)?Fv(n(at).style,n(Re)):""),"rowStyles");n(ge);const Ie=p(m(()=>{var gt,nt;return b((nt=(gt=n(at))==null?void 0:gt.style)==null?void 0:nt.type,"spacer")}),"isSpacerRow");n(Ie);const ye=p(m(()=>n(Gt)+1+n(Y)),"gridRow");n(ye);const mt=p(m(()=>n(Ht)?Dt(n(Re)+1,n(s)):void 0),"groupBg");n(mt);var Mt=Zv(),It=pt(Mt);let ie,Ee;It.__click=function(...gt){cr(()=>n(Ht)?()=>e.store.toggleGroup(n(Q).group.id):n(at)?()=>e.store.selectRow(n(at).id):void 0,this,gt,B,[1034,21])},It.__keydown=function(...gt){cr(()=>n(Ht)?nt=>(b(nt.key,"Enter")||b(nt.key," "))&&e.store.toggleGroup(n(Q).group.id):void 0,this,gt,B,[1035,23])};var dn=tt(It);{var Ut=gt=>{{let nt=m(()=>n(Q).depth+1);z(()=>Xo(gt,{get group(){return n(Q).group},get rowCount(){return n(Q).rowCount},get level(){return n(nt)},get theme(){return n(s)}}),"component",B,1040,14,{componentTag:"GroupHeader"})}},At=gt=>{var nt=Et(),Wt=pt(nt);{var $t=xe=>{var ke=Xv(),ve=pt(ke);{var Xt=tn=>{var pe=qv(),ze=tt(pe,!0);et(()=>Yt(ze,n(at).style.icon)),F(tn,pe)};z(()=>X(ve,tn=>{var pe;(pe=n(at).style)!=null&&pe.icon&&tn(Xt)}),"if",B,1047,14)}var $e=ot(ve),hn=ot($e);{var sn=tn=>{var pe=Uv(),ze=tt(pe,!0);et(()=>Yt(ze,n(at).style.badge)),F(tn,pe)};z(()=>X(hn,tn=>{var pe;(pe=n(at).style)!=null&&pe.badge&&tn(sn)}),"if",B,1049,14)}et(()=>Yt($e,` ${n(at).label??""} `)),F(xe,ke)};z(()=>X(Wt,xe=>{n(at)&&xe($t)},!0),"if",B,1046,12)}F(gt,nt)};z(()=>X(dn,gt=>{n(Ht)?gt(Ut):gt(At,!1)}),"if",B,1039,12)}var ue=ot(It,2);mn(()=>n(d),gt=>gt.id),z(()=>Ne(ue,17,()=>n(d),gt=>gt.id,(gt,nt)=>{var Wt=Et(),$t=pt(Wt);{var xe=ve=>{var Xt=Yv();let $e,hn;Xt.__click=function(...sn){cr(()=>n(at)?()=>e.store.selectRow(n(at).id):void 0,this,sn,B,[1068,25])},et(()=>{$e=Cn(Xt,1,`grid-cell data-cell plot-cell ${n(ee)??""}`,"svelte-14l8yxx",$e,{"group-row":n(Ht),selected:n(se),hovered:n(at)&&b(n(M),n(at).id),"spacer-row":n(Ie)}),hn=He(Xt,n(ge)||void 0,hn,{"grid-row":n(ye),"background-color":n(mt)})}),Dn("mouseenter",Xt,function(...sn){cr(()=>n(at)?tn=>_n(n(at).id,tn):void 0,this,sn,B,[1066,30])}),Dn("mouseleave",Xt,function(...sn){cr(()=>n(at)?()=>Je():void 0,this,sn,B,[1067,30])}),F(ve,Xt)},ke=ve=>{var Xt=$v();let $e,hn;Xt.__click=function(...pe){cr(()=>n(at)?()=>e.store.selectRow(n(at).id):void 0,this,pe,B,[1085,25])};var sn=tt(Xt);{var tn=pe=>{z(()=>fe(pe,()=>n(at),()=>n(nt)),"render",B,1088,18)};z(()=>X(sn,pe=>{n(at)&&pe(tn)}),"if",B,1087,16)}et(()=>{$e=Cn(Xt,1,`grid-cell data-cell ${n(ee)??""}`,"svelte-14l8yxx",$e,{"group-row":n(Ht),selected:n(se),hovered:n(at)&&b(n(M),n(at).id),"spacer-row":n(Ie),"wrap-enabled":n(nt).wrap}),hn=He(Xt,n(ge)||void 0,hn,{"grid-row":n(ye),"background-color":n(mt),"text-align":n(nt).align})}),Dn("mouseenter",Xt,function(...pe){cr(()=>n(at)?ze=>_n(n(at).id,ze):void 0,this,pe,B,[1083,30])}),Dn("mouseleave",Xt,function(...pe){cr(()=>n(at)?()=>Je():void 0,this,pe,B,[1084,30])}),F(ve,Xt)};z(()=>X($t,ve=>{lt.includes(n(nt).type)?ve(xe):ve(ke,!1)}),"if",B,1055,12)}F(gt,Wt)}),"each",B,1054,10),et(()=>{var gt,nt,Wt,$t;ie=Cn(It,1,`grid-cell data-cell label-cell ${n(ee)??""}`,"svelte-14l8yxx",ie,{"group-row":n(Ht),selected:n(se),hovered:n(at)&&b(n(M),n(at).id),"spacer-row":n(Ie)}),Ee=He(It,n(ge)||void 0,Ee,{"grid-row":n(ye),"background-color":n(mt),"padding-left":n(Ht)?`${n(Re)*12}px`:((nt=(gt=n(at))==null?void 0:gt.style)==null?void 0:nt.indent)??n(Re)?`${((($t=(Wt=n(at))==null?void 0:Wt.style)==null?void 0:$t.indent)??n(Re))*12}px`:void 0}),N(It,"role",n(Ht)?"button":void 0),N(It,"tabindex",n(Ht)?0:void 0)}),Dn("mouseenter",It,function(...gt){cr(()=>n(at)?nt=>_n(n(at).id,nt):void 0,this,gt,B,[1036,26])}),Dn("mouseleave",It,function(...gt){cr(()=>n(at)?()=>Je():void 0,this,gt,B,[1037,26])}),F(dt,Mt)}),"each",B,1010,8);var Kt=ot(oe,2);{var ae=dt=>{const Q=p(m(()=>n(Gt)+1+n(i).length),"axisRowNum");n(Q);var Y=Qv(),Ht=pt(Y);mn(()=>n(d),se=>se.id),z(()=>Ne(Ht,19,()=>n(d),se=>se.id,(se,ee,ge)=>{var Ie=Et(),ye=pt(Ie);{var mt=It=>{var ie=Kv();let Ee;et(()=>Ee=He(ie,"",Ee,{"grid-column":2+n(ge),"grid-row":n(Q)})),F(It,ie)},Mt=It=>{var ie=Jv();let Ee;et(()=>Ee=He(ie,"",Ee,{"grid-column":2+n(ge),"grid-row":n(Q)})),F(It,ie)};z(()=>X(ye,It=>{lt.includes(n(ee).type)?It(mt):It(Mt,!1)}),"if",B,1099,12)}F(se,Ie)}),"each",B,1098,10);var at=ot(Ht,2);let Re;et(()=>Re=He(at,"",Re,{"grid-column":"1","grid-row":n(Q)})),F(dt,Y)};z(()=>X(Kt,dt=>{n(_)&&dt(ae)}),"if",B,1096,8)}var Ct=ot(Kt,2);mn(()=>n(g),dt=>dt.column.id),z(()=>Ne(Ct,17,()=>n(g),dt=>dt.column.id,(dt,Q)=>{const Y=p(m(()=>{var nt;return(nt=n(Q).column.options)==null?void 0:nt.forest}),"forestOpts");n(Y);const Ht=p(m(()=>n(R)[n(Q).column.id]),"dynamicForestWidth");n(Ht);const at=p(m(()=>{var nt;return b(typeof n(Ht),"number")?n(Ht):b(typeof n(Q).column.width,"number")?n(Q).column.width:((nt=n(Y))==null?void 0:nt.width)??n(a).forestWidth}),"forestWidth");n(at);const Re=p(m(()=>n(zn).get(n(Q).column.id)??0),"forestLeft");n(Re);const se=p(m(()=>{var nt;return((nt=n(s))==null?void 0:nt.spacing.axisGap)??$n.DEFAULT_AXIS_GAP}),"axisGap");n(se);const ee=p(m(()=>{var nt;return((nt=n(Y))==null?void 0:nt.nullValue)??n(a).nullValue}),"nullValue");n(ee);const ge=p(m(()=>{var nt;return((nt=n(Y))==null?void 0:nt.axisLabel)??"Effect"}),"axisLabel");n(ge);const Ie=p(m(()=>{var nt;return b((nt=n(Y))==null?void 0:nt.scale,"log")}),"isLog");n(Ie);const ye=p(m(()=>n(Mn).get(n(Q).column.id)??n(l)),"colScale");n(ye);var mt=rp();let Mt;var It=tt(mt);N(It,"y1",0);var ie=ot(It);{var Ee=nt=>{const Wt=p(m(()=>{var ve;return[...n(r).annotations??[],...((ve=n(Y))==null?void 0:ve.annotations)??[]]}),"allAnnotations");n(Wt);const $t=p(m(()=>ne(n(Wt))),"annotationLabelOffsets");n($t);var xe=Et(),ke=pt(xe);mn(()=>n(Wt),ve=>ve.id),z(()=>Ne(ke,17,()=>n(Wt),ve=>ve.id,(ve,Xt)=>{var $e=Et(),hn=pt($e);{var sn=tn=>{var pe=ep(),ze=pt(pe);N(ze,"y1",0);var oi=ot(ze);{var ii=Io=>{const ai=p(m(()=>n($t)[n(Xt).id]??0),"yOffset");n(ai);var jn=tp(),si=tt(jn,!0);et(li=>{N(jn,"x",li),N(jn,"y",-4+n(ai)),N(jn,"fill",n(Xt).color??"var(--wf-secondary)"),Yt(si,n(Xt).label)},[()=>n(ye)(n(Xt).x)]),F(Io,jn)};z(()=>X(oi,Io=>{n(Xt).label&&Io(ii)}),"if",B,1155,16)}et((Io,ai)=>{N(ze,"x1",Io),N(ze,"x2",ai),N(ze,"y2",n(yt)),N(ze,"stroke",n(Xt).color??"var(--wf-accent)"),N(ze,"stroke-width",n(Xt).width??1.5),N(ze,"stroke-opacity",n(Xt).opacity??.6),N(ze,"stroke-dasharray",b(n(Xt).style,"dashed")?"6,4":b(n(Xt).style,"dotted")?"2,2":"none")},[()=>n(ye)(n(Xt).x),()=>n(ye)(n(Xt).x)]),F(tn,pe)};z(()=>X(hn,tn=>{b(n(Xt).type,"reference_line")&&tn(sn)}),"if",B,1144,14)}F(ve,$e)}),"each",B,1143,14),F(nt,xe)};z(()=>X(ie,nt=>{nt(Ee)}),"if",B,1140,12)}var dn=ot(ie);mn(()=>n(i),(nt,Wt)=>wt(nt,Wt)),z(()=>Ne(dn,19,()=>n(i),(nt,Wt)=>wt(nt,Wt),(nt,Wt,$t)=>{var xe=Et(),ke=pt(xe);{var ve=Xt=>{const $e=p(m(()=>n(st).positions[n($t)]??n($t)*n(a).rowHeight),"rowY");n($e);const hn=p(m(()=>n(st).heights[n($t)]??n(a).rowHeight),"rowH");n(hn);{let sn=m(()=>n($e)+n(hn)/2),tn=m(()=>({...n(a),forestWidth:n(at)}));z(()=>Be(Xt,{get row(){return n(Wt).row},get yPosition(){return n(sn)},get xScale(){return n(ye)},get layout(){return n(tn)},get theme(){return n(s)},get clipBounds(){return n(f)},get isLog(){return n(Ie)},get weightCol(){return n(r).data.weightCol},get forestColumnOptions(){return n(Y)},onRowClick:()=>e.store.selectRow(n(Wt).row.id),onRowHover:(pe,ze)=>{e.store.setHovered(pe?n(Wt).row.id:null),pe&&ze?e.store.setTooltip(n(Wt).row.id,{x:ze.clientX,y:ze.clientY}):e.store.setTooltip(null,null)}}),"component",B,1177,16,{componentTag:"RowInterval"})}};z(()=>X(ke,Xt=>{b(n(Wt).type,"data")&&Xt(ve)}),"if",B,1174,14)}F(nt,xe)}),"each",B,1173,12);var Ut=ot(dn);{var At=nt=>{{let Wt=m(()=>n(yt)+n(a).rowHeight/2),$t=m(()=>({...n(a),forestWidth:n(at)}));z(()=>to(nt,{get point(){return n(r).data.overall.point},get lower(){return n(r).data.overall.lower},get upper(){return n(r).data.overall.upper},get yPosition(){return n(Wt)},get xScale(){return n(ye)},get layout(){return n($t)},get theme(){return n(s)}}),"component",B,1205,14,{componentTag:"SummaryDiamond"})}};z(()=>X(Ut,nt=>{n(r).data.overall&&n(a).showOverallSummary&&b(typeof n(r).data.overall.point,"number")&&!Number.isNaN(n(r).data.overall.point)&&b(typeof n(r).data.overall.lower,"number")&&!Number.isNaN(n(r).data.overall.lower)&&b(typeof n(r).data.overall.upper,"number")&&!Number.isNaN(n(r).data.overall.upper)&&nt(At)}),"if",B,1201,12)}var ue=ot(Ut);{var gt=nt=>{var Wt=np(),$t=tt(Wt);{let xe=m(()=>({...n(a),forestWidth:n(at)}));z(()=>Nn($t,{get xScale(){return n(ye)},get layout(){return n(xe)},get theme(){return n(s)},get axisLabel(){return n(ge)},position:"bottom",get plotHeight(){return n(a).plotHeight},get baseTicks(){return n(c).ticks}}),"component",B,1219,16,{componentTag:"EffectAxis"})}et(()=>N(Wt,"transform",`translate(0, ${n(yt)+n(se)})`)),F(nt,Wt)};z(()=>X(ue,nt=>{var Wt;b((Wt=n(Y))==null?void 0:Wt.showAxis,!1,!1)&&nt(gt)}),"if",B,1217,12)}et((nt,Wt)=>{N(mt,"width",n(at)),N(mt,"height",n(yt)+n(a).axisHeight),N(mt,"viewBox",`0 0 ${n(at)??""} ${n(yt)+n(a).axisHeight}`),Mt=He(mt,"",Mt,{top:`${n(Ve)??""}px`,left:`${n(Re)??""}px`}),N(It,"x1",nt),N(It,"x2",Wt),N(It,"y2",n(yt))},[()=>n(ye)(n(ee)),()=>n(ye)(n(ee))]),F(dt,mt)}),"each",B,1110,8);var ht=ot(Ct,2);mn(()=>n(v).filter(dt=>b(dt.column.type,"viz_bar")),dt=>dt.column.id),z(()=>Ne(ht,17,()=>n(v).filter(dt=>b(dt.column.type,"viz_bar")),dt=>dt.column.id,(dt,Q)=>{const Y=p(m(()=>{var mt;return(mt=n(Q).column.options)==null?void 0:mt.vizBar}),"vizOpts");n(Y);const Ht=p(m(()=>n(R)[n(Q).column.id]),"dynamicVizWidth");n(Ht);const at=p(m(()=>{var mt;return b(typeof n(Ht),"number")?n(Ht):n(Q).column.width??((mt=n(Y))==null?void 0:mt.width)??n(a).forestWidth}),"vizWidth");n(at);const Re=p(m(()=>n(zn).get(n(Q).column.id)??0),"vizLeft");n(Re);const se=p(m(()=>{var mt;return((mt=n(s))==null?void 0:mt.spacing.axisGap)??$n.DEFAULT_AXIS_GAP}),"axisGap");n(se);const ee=p(m(()=>n(Xe).get(n(Q).column.id)),"sharedScale");n(ee);var ge=Et(),Ie=pt(ge);{var ye=mt=>{var Mt=ip();let It;var ie=tt(Mt);mn(()=>n(i),(Ut,At)=>wt(Ut,At)),z(()=>Ne(ie,19,()=>n(i),(Ut,At)=>wt(Ut,At),(Ut,At,ue)=>{var gt=Et(),nt=pt(gt);{var Wt=$t=>{const xe=p(m(()=>n(st).positions[n(ue)]??n(ue)*n(a).rowHeight),"rowY");n(xe);const ke=p(m(()=>n(st).heights[n(ue)]??n(a).rowHeight),"rowH");n(ke);{let ve=m(()=>n(xe)+n(ke)/2);z(()=>eo($t,{get row(){return n(At).row},get yPosition(){return n(ve)},get rowHeight(){return n(ke)},get width(){return n(at)},get options(){return n(Y)},get theme(){return n(s)},get sharedScale(){return n(ee)}}),"component",B,1247,18,{componentTag:"VizBar"})}};z(()=>X(nt,$t=>{b(n(At).type,"data")&&$t(Wt)}),"if",B,1244,16)}F(Ut,gt)}),"each",B,1243,14);var Ee=ot(ie);{var dn=Ut=>{var At=op(),ue=tt(At);{let gt=m(()=>({...n(a),forestWidth:n(at),nullValue:0})),nt=m(()=>n(Y).axisLabel??"Value");z(()=>Nn(ue,{get xScale(){return n(ee)},get layout(){return n(gt)},get theme(){return n(s)},get axisLabel(){return n(nt)},position:"bottom",get plotHeight(){return n(yt)},get baseTicks(){return n(Y).axisTicks},get gridlines(){return n(Y).axisGridlines}}),"component",B,1262,18,{componentTag:"EffectAxis"})}et(()=>N(At,"transform",`translate(0, ${n(yt)+n(se)})`)),F(Ut,At)};z(()=>X(Ee,Ut=>{b(n(Y).showAxis,!1,!1)&&n(ee)&&Ut(dn)}),"if",B,1260,14)}et(()=>{N(Mt,"width",n(at)),N(Mt,"height",n(yt)+n(a).axisHeight),N(Mt,"viewBox",`0 0 ${n(at)??""} ${n(yt)+n(a).axisHeight}`),It=He(Mt,"",It,{top:`${n(Ve)??""}px`,left:`${n(Re)??""}px`})}),F(mt,Mt)};z(()=>X(Ie,mt=>{n(Y)&&mt(ye)}),"if",B,1233,10)}F(dt,ge)}),"each",B,1226,8);var Jt=ot(ht,2);mn(()=>n(v).filter(dt=>b(dt.column.type,"viz_boxplot")),dt=>dt.column.id),z(()=>Ne(Jt,17,()=>n(v).filter(dt=>b(dt.column.type,"viz_boxplot")),dt=>dt.column.id,(dt,Q)=>{const Y=p(m(()=>{var mt;return(mt=n(Q).column.options)==null?void 0:mt.vizBoxplot}),"vizOpts");n(Y);const Ht=p(m(()=>n(R)[n(Q).column.id]),"dynamicVizWidth");n(Ht);const at=p(m(()=>{var mt;return b(typeof n(Ht),"number")?n(Ht):n(Q).column.width??((mt=n(Y))==null?void 0:mt.width)??n(a).forestWidth}),"vizWidth");n(at);const Re=p(m(()=>n(zn).get(n(Q).column.id)??0),"vizLeft");n(Re);const se=p(m(()=>{var mt;return((mt=n(s))==null?void 0:mt.spacing.axisGap)??$n.DEFAULT_AXIS_GAP}),"axisGap");n(se);const ee=p(m(()=>n(Xe).get(n(Q).column.id)),"sharedScale");n(ee);var ge=Et(),Ie=pt(ge);{var ye=mt=>{var Mt=sp();let It;var ie=tt(Mt);mn(()=>n(i),(Ut,At)=>wt(Ut,At)),z(()=>Ne(ie,19,()=>n(i),(Ut,At)=>wt(Ut,At),(Ut,At,ue)=>{var gt=Et(),nt=pt(gt);{var Wt=$t=>{const xe=p(m(()=>n(st).positions[n(ue)]??n(ue)*n(a).rowHeight),"rowY");n(xe);const ke=p(m(()=>n(st).heights[n(ue)]??n(a).rowHeight),"rowH");n(ke);{let ve=m(()=>n(xe)+n(ke)/2);z(()=>hr($t,{get row(){return n(At).row},get yPosition(){return n(ve)},get rowHeight(){return n(ke)},get width(){return n(at)},get options(){return n(Y)},get theme(){return n(s)},get sharedScale(){return n(ee)}}),"component",B,1300,18,{componentTag:"VizBoxplot"})}};z(()=>X(nt,$t=>{b(n(At).type,"data")&&$t(Wt)}),"if",B,1297,16)}F(Ut,gt)}),"each",B,1296,14);var Ee=ot(ie);{var dn=Ut=>{var At=ap(),ue=tt(At);{let gt=m(()=>({...n(a),forestWidth:n(at),nullValue:0})),nt=m(()=>n(Y).axisLabel??"Value");z(()=>Nn(ue,{get xScale(){return n(ee)},get layout(){return n(gt)},get theme(){return n(s)},get axisLabel(){return n(nt)},position:"bottom",get plotHeight(){return n(yt)},get baseTicks(){return n(Y).axisTicks},get gridlines(){return n(Y).axisGridlines}}),"component",B,1315,18,{componentTag:"EffectAxis"})}et(()=>N(At,"transform",`translate(0, ${n(yt)+n(se)})`)),F(Ut,At)};z(()=>X(Ee,Ut=>{b(n(Y).showAxis,!1,!1)&&n(ee)&&Ut(dn)}),"if",B,1313,14)}et(()=>{N(Mt,"width",n(at)),N(Mt,"height",n(yt)+n(a).axisHeight),N(Mt,"viewBox",`0 0 ${n(at)??""} ${n(yt)+n(a).axisHeight}`),It=He(Mt,"",It,{top:`${n(Ve)??""}px`,left:`${n(Re)??""}px`})}),F(mt,Mt)};z(()=>X(Ie,mt=>{n(Y)&&mt(ye)}),"if",B,1286,10)}F(dt,ge)}),"each",B,1279,8);var he=ot(Jt,2);mn(()=>n(v).filter(dt=>b(dt.column.type,"viz_violin")),dt=>dt.column.id),z(()=>Ne(he,17,()=>n(v).filter(dt=>b(dt.column.type,"viz_violin")),dt=>dt.column.id,(dt,Q)=>{const Y=p(m(()=>{var mt;return(mt=n(Q).column.options)==null?void 0:mt.vizViolin}),"vizOpts");n(Y);const Ht=p(m(()=>n(R)[n(Q).column.id]),"dynamicVizWidth");n(Ht);const at=p(m(()=>{var mt;return b(typeof n(Ht),"number")?n(Ht):n(Q).column.width??((mt=n(Y))==null?void 0:mt.width)??n(a).forestWidth}),"vizWidth");n(at);const Re=p(m(()=>n(zn).get(n(Q).column.id)??0),"vizLeft");n(Re);const se=p(m(()=>{var mt;return((mt=n(s))==null?void 0:mt.spacing.axisGap)??$n.DEFAULT_AXIS_GAP}),"axisGap");n(se);const ee=p(m(()=>n(Xe).get(n(Q).column.id)),"sharedScale");n(ee);var ge=Et(),Ie=pt(ge);{var ye=mt=>{var Mt=cp();let It;var ie=tt(Mt);mn(()=>n(i),(Ut,At)=>wt(Ut,At)),z(()=>Ne(ie,19,()=>n(i),(Ut,At)=>wt(Ut,At),(Ut,At,ue)=>{var gt=Et(),nt=pt(gt);{var Wt=$t=>{const xe=p(m(()=>n(st).positions[n(ue)]??n(ue)*n(a).rowHeight),"rowY");n(xe);const ke=p(m(()=>n(st).heights[n(ue)]??n(a).rowHeight),"rowH");n(ke);{let ve=m(()=>n(xe)+n(ke)/2);z(()=>er($t,{get row(){return n(At).row},get yPosition(){return n(ve)},get rowHeight(){return n(ke)},get width(){return n(at)},get options(){return n(Y)},get theme(){return n(s)},get sharedScale(){return n(ee)}}),"component",B,1353,18,{componentTag:"VizViolin"})}};z(()=>X(nt,$t=>{b(n(At).type,"data")&&$t(Wt)}),"if",B,1350,16)}F(Ut,gt)}),"each",B,1349,14);var Ee=ot(ie);{var dn=Ut=>{var At=lp(),ue=tt(At);{let gt=m(()=>({...n(a),forestWidth:n(at),nullValue:0})),nt=m(()=>n(Y).axisLabel??"Value");z(()=>Nn(ue,{get xScale(){return n(ee)},get layout(){return n(gt)},get theme(){return n(s)},get axisLabel(){return n(nt)},position:"bottom",get plotHeight(){return n(yt)},get baseTicks(){return n(Y).axisTicks},get gridlines(){return n(Y).axisGridlines}}),"component",B,1368,18,{componentTag:"EffectAxis"})}et(()=>N(At,"transform",`translate(0, ${n(yt)+n(se)})`)),F(Ut,At)};z(()=>X(Ee,Ut=>{b(n(Y).showAxis,!1,!1)&&n(ee)&&Ut(dn)}),"if",B,1366,14)}et(()=>{N(Mt,"width",n(at)),N(Mt,"height",n(yt)+n(a).axisHeight),N(Mt,"viewBox",`0 0 ${n(at)??""} ${n(yt)+n(a).axisHeight}`),It=He(Mt,"",It,{top:`${n(Ve)??""}px`,left:`${n(Re)??""}px`})}),F(mt,Mt)};z(()=>X(Ie,mt=>{n(Y)&&mt(ye)}),"if",B,1339,10)}F(dt,ge)}),"each",B,1332,8);var Pe=ot(bt,2);{let dt=m(()=>{var Y;return(Y=n(r).labels)==null?void 0:Y.caption}),Q=m(()=>{var Y;return(Y=n(r).labels)==null?void 0:Y.footnote});z(()=>Pr(Pe,{get caption(){return n(dt)},get footnote(){return n(Q)}}),"component",B,1386,6,{componentTag:"PlotFooter"})}_o(Z,dt=>it(G,dt),()=>n(G)),et(()=>{qt=Cn(bt,1,"tabviz-main svelte-14l8yxx",null,qt,{"has-header":n(x)}),un=He(bt,"",un,{"grid-template-columns":n(Zt)}),pr=He(St,"",pr,{"grid-row":`1 / span ${n(Gt)??""}`}),Yt(Ft,n(y))})}var De=ot(Z,2);{let fe=m(()=>{var qt,un;return(un=(qt=n(r))==null?void 0:qt.interaction)==null?void 0:un.tooltipFields});z(()=>yo(De,{get row(){return n(k)},get position(){return n(A)},get fields(){return n(fe)},get theme(){return n(s)}}),"component",B,1390,4,{componentTag:"Tooltip"})}et(()=>xt=He(Z,"",xt,{"margin-left":`${n($)??""}px`})),F(E,I)},ri=E=>{var I=up();F(E,I)};z(()=>X(fn,E=>{n(r)?E(Fn):E(ri,!1)}),"if",B,850,2)}return _o(yn,E=>it(H,E),()=>n(H)),et(E=>{Ye=Cn(yn,1,"tabviz-container svelte-14l8yxx",null,Ye,{"auto-fit":n(w),"has-max-width":b(n(L),null,!1),"has-max-height":b(n(T),null,!1),zoomed:b(n(C),1,!1)}),N(yn,"data-zoom",`${E??""}%`),He(yn,`${n(Sn)??""}; ${n(w)&&n(O)>0?`height: ${n(O)}px`:""}`)},[()=>Math.round(n(S)*100)]),F(t,yn),Se(qr)}mo(["pointerdown","click","keydown"]);function Uc(){let t=p(Tt(null),"spec"),e=p(Tt(800),"initialWidth"),r=p(Tt(400),"initialHeight"),o=p(Tt(xr(new Set)),"selectedRowIds"),i=p(Tt(xr(new Set)),"collapsedGroups"),a=p(Tt(null),"sortConfig"),l=p(Tt(null),"filterConfig"),c=p(Tt(null),"hoveredRowId"),f=p(Tt(null),"tooltipRowId"),s=p(Tt(null),"tooltipPosition"),h=p(Tt(xr({})),"columnWidths"),d=p(Tt(null),"plotWidthOverride"),u=p(Tt(1),"zoom"),g=p(Tt(!0),"autoFit"),v=p(Tt(null),"maxWidth"),_=p(Tt(null),"maxHeight"),y=p(Tt(!0),"showZoomControls"),x=p(Tt(0),"containerWidth"),k=p(Tt(0),"containerHeight"),A=p(Tt(0),"scalableNaturalWidth"),W=p(Tt(0),"scalableNaturalHeight"),M=p(Tt(null),"containerElementId");const C=p(m(()=>n(x)>0?n(x):n(e)),"effectiveWidth"),w=p(m(()=>n(k)>0?n(k):n(r)),"effectiveHeight"),S=p(m(()=>{if(!n(t))return[];let E=[...n(t).data.rows];return n(l)&&(E=hp(E,n(l))),n(a)&&(E=gp(E,n(a))),E}),"visibleRows"),L=p(m(()=>{var Le,Pt;if(!n(t))return{axisLimits:[0,1],plotRegion:[0,1],ticks:[0,.5,1]};const E=(Le=n(P)[0])==null?void 0:Le.column,q=n(P).length>0?n(d)??Math.max(n(C)*.25,200):0,Z=(Pt=E==null?void 0:E.options)==null?void 0:Pt.forest,xt=(Z==null?void 0:Z.scale)??"linear",kt=(Z==null?void 0:Z.nullValue)??(b(xt,"log")?1:0),jt=(Z==null?void 0:Z.effects)??[],bt=(Z==null?void 0:Z.point)??null,St=(Z==null?void 0:Z.lower)??null,Lt=(Z==null?void 0:Z.upper)??null,Ft={...n(t).theme.axis};return Z!=null&&Z.axisRange&&Array.isArray(Z.axisRange)&&b(Z.axisRange.length,2)&&(Ft.rangeMin=Z.axisRange[0],Ft.rangeMax=Z.axisRange[1]),Z!=null&&Z.axisTicks&&Array.isArray(Z.axisTicks)&&(Ft.tickValues=Z.axisTicks),Vl({rows:n(t).data.rows,config:Ft,scale:xt,nullValue:kt,forestWidth:q,pointSize:n(t).theme.shapes.pointSize,effects:jt,pointCol:bt,lowerCol:St,upperCol:Lt})}),"axisComputation"),T=p(m(()=>{var St,Lt;if(!n(t))return tr().domain([0,1]).range([0,100]);const E=(St=n(P)[0])==null?void 0:St.column,I=(Lt=E==null?void 0:E.options)==null?void 0:Lt.forest,q=b((I==null?void 0:I.scale)??"linear","log"),{plotRegion:Z}=n(L),kt=n(P).length>0?n(d)??Math.max(n(C)*.25,200):0,jt=Tn,bt=Math.max(kt-Tn,jt+50);if(q){const Ft=[Math.max(Z[0],.01),Math.max(Z[1],.02)];return Dr().domain(Ft).range([jt,bt])}return tr().domain(Z).range([jt,bt])}),"xScale");function R(E){const I=[];for(const q of E)q.isGroup?I.push(...R(q.columns)):I.push(q);return I}const H=p(m(()=>n(t)?R(n(t).columns):[]),"allColumns"),G=p(m(()=>n(t)?n(t).columns:[]),"allColumnDefs"),P=p(m(()=>{if(!n(t))return[];const E=[],I=n(H);for(let q=0;q<I.length;q++)b(I[q].type,"forest")&&E.push({index:q,column:I[q]});return E}),"forestColumns"),J=p(m(()=>n(P).length>0),"hasExplicitForestColumns"),K=p(m(()=>{if(!n(t))return[];const E=[],I=n(H),q=["forest","viz_bar","viz_boxplot","viz_violin"];for(let Z=0;Z<I.length;Z++)q.includes(I[Z].type)&&E.push({index:Z,column:I[Z]});return E}),"vizColumns"),U=p(m(()=>n(K).length>0),"hasVizColumns"),O=p(m(()=>{const E=new Map;if(!n(t))return E;for(const I of n(t).data.groups)E.set(I.id,I);return E}),"groupMap"),$=p(m(()=>{const E=new Map;if(!n(t))return E;for(const I of n(t).data.groups)E.set(I.id,I.depth);return E}),"groupDepthMap");function ut(E){return E?(n($).get(E)??0)+1:0}function rt(E){if(!E)return!1;let I=E;for(;I;){const q=n(O).get(I);if(!q)break;if(q.parentId&&n(i).has(q.parentId))return!0;I=q.parentId}return!1}const ft=p(m(()=>{var jt;if(!n(t))return[];const E=[],I=new Map;for(const bt of n(S)){const St=bt.groupId??null;I.has(St)||I.set(St,[]),I.get(St).push(bt)}const q=new Set;for(const bt of I.keys()){if(!bt)continue;let St=bt;for(;St;)q.add(St),St=(jt=n(O).get(St))==null?void 0:jt.parentId}function Z(bt){return n(t).data.groups.filter(St=>b(St.parentId??null,bt)&&q.has(St.id))}function xt(bt){var Lt;let St=((Lt=I.get(bt))==null?void 0:Lt.length)??0;for(const Ft of Z(bt))St+=xt(Ft.id);return St}function kt(bt){if(bt){const Lt=n(O).get(bt);if(!Lt||rt(bt))return;const Ft=n(i).has(Lt.id),Le=xt(bt);if(E.push({type:"group_header",group:{...Lt,collapsed:Ft},rowCount:Le,depth:Lt.depth}),Ft)return}for(const Lt of Z(bt))kt(Lt.id);const St=I.get(bt)??[];for(const Lt of St)E.push({type:"data",row:Lt,depth:ut(Lt.groupId)})}return kt(null),E}),"displayRows"),st=p(m(()=>{var ae,Ct,ht;if(!n(t))return{totalWidth:n(C),totalHeight:n(w),tableWidth:300,forestWidth:400,headerHeight:36,rowHeight:28,plotHeight:300,axisHeight:32,nullValue:0,summaryYPosition:0,showOverallSummary:!1,rowPositions:[],rowHeights:[]};const E=n(t).theme.spacing.rowHeight,I=n(t).theme.spacing.headerHeight,Z=32+(n(t).theme.spacing.axisGap??$n.DEFAULT_AXIS_GAP),kt=n(P).length>0?n(d)??Math.max(n(C)*.25,200):0,jt=n(C)-kt,bt=!!n(t).data.overall,St=[];for(const Jt of n(ft))b(Jt.type,"data")&&b((ae=Jt.row.style)==null?void 0:ae.type,"spacer")?St.push(E/2):St.push(E);const Lt=[];let Ft=0;for(const Jt of St)Lt.push(Ft),Ft+=Jt;const Le=Ft+(bt?E*1.5:0),Pt=(Ct=n(P)[0])==null?void 0:Ct.column,_e=(ht=Pt==null?void 0:Pt.options)==null?void 0:ht.forest,oe=(_e==null?void 0:_e.scale)??"linear",Kt=(_e==null?void 0:_e.nullValue)??(b(oe,"log")?1:0);return{totalWidth:n(C),totalHeight:Math.max(n(w),Le+I+Z+n(t).theme.spacing.padding*2),tableWidth:jt,forestWidth:kt,headerHeight:I,rowHeight:E,plotHeight:Le,axisHeight:Z,nullValue:Kt,summaryYPosition:Le-E,showOverallSummary:bt,rowPositions:Lt,rowHeights:St}}),"layout"),yt=p(m(()=>{if(!n(t))return 800;const E=100,I=150,q=250;let Z=0;for(const bt of n(H)){if(b(bt.type,"forest"))continue;const St=n(h)[bt.id]??(b(typeof bt.width,"number")?bt.width:null)??E;Z+=St}Z+=I;const kt=n(P).length>0?n(d)??q:0,jt=n(t).theme.spacing.padding*2;return Z+kt+jt}),"naturalContentWidth"),ne=p(m(()=>{if(n(x)<=0||n(A)<=0)return 1;const E=n(A)*n(u);return E>n(x)?n(x)/E:1}),"fitScale"),re=p(m(()=>n(g)?Math.max(.5,n(u)*n(ne)):Math.max(.5,Math.min(2,n(u)))),"actualScale"),wt=p(m(()=>n(g)&&n(ne)<1),"isClamped");function zt(E){it(t,{...E},!0),it(i,new Set(E.data.groups.filter(I=>I.collapsed).map(I=>I.id)),!0),We()}function We(){if(!n(t)||b(typeof document,"undefined"))return;const E=n(t).theme.typography.fontFamily;let I=n(t).theme.typography.fontSizeBase;if(b(typeof I,"string")&&(I.endsWith("rem")||I.endsWith("em"))){const q=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;I=`${parseFloat(I)*q}px`}Dt(I,E),document.fonts&&document.fonts.ready&&document.fonts.ready.then(()=>{Dt(I,E,!0)})}function Dt(E,I,q=!1){var ae,Ct;if(!n(t))return;const xt=document.createElement("canvas").getContext("2d");if(!xt)return;const kt=n(t).theme.typography.headerFontScale??1.05;let jt=E;if(b(typeof E,"string")){const ht=E.match(/^([\d.]+)(px|rem|em)$/);ht&&(jt=`${parseFloat(ht[1])*kt}${ht[2]}`)}const St=`${n(t).theme.typography.fontWeightBold??600} ${jt} ${I}`,Lt=`${E} ${I}`,Ft=(n(t).theme.spacing.cellPaddingX??10)*2,Le=(n(t).theme.spacing.groupPadding??8)*2;function Pt(ht){return ht.isGroup?ht.columns.flatMap(Pt):[ht]}function _e(ht){return b(n(h)[ht.id],void 0,!1)?n(h)[ht.id]:b(typeof ht.width,"number")?ht.width:Jn.MIN}function oe(ht){var De,fe;if(b(typeof ht.width,"number")||de(ht.width,null,!1)&&b(ht.width,"auto",!1))return;let Jt=0;ht.header&&(xt.font=St,Jt=Math.max(Jt,xt.measureText(ht.header).width)),xt.font=Lt;for(const qt of n(t).data.rows){if(b((De=qt.style)==null?void 0:De.type,"header")||b((fe=qt.style)==null?void 0:fe.type,"spacer"))continue;const un=Ic(qt,ht);un&&(Jt=Math.max(Jt,xt.measureText(un).width))}const he=Jn.VISUAL_MIN[ht.type]??Jn.MIN,Pe=Math.min(Jn.MAX,Math.max(he,Math.ceil(Jt+Ft+$n.RENDERING_BUFFER)));n(h)[ht.id]=Pe}function Kt(ht){if(ht.isGroup){for(const Jt of ht.columns)Kt(Jt);if(ht.header){xt.font=St;const Jt=xt.measureText(ht.header).width+Le+$n.RENDERING_BUFFER,he=Pt(ht),Pe=he.reduce((De,fe)=>De+_e(fe),0);if(Jt>Pe&&he.length>0){const De=Math.ceil((Jt-Pe)/he.length);for(const fe of he)n(h)[fe.id]=_e(fe)+De}}return}oe(ht)}for(const ht of n(t).columns)Kt(ht);if(n(t).data.labelCol){let ht=function(qt){let un=0;for(const pr of n(t).data.rows)b(pr.groupId,qt)&&un++;for(const pr of n(t).data.groups)b(pr.parentId,qt)&&(un+=ht(pr.id));return un},Jt=0;const he=new Map;for(const qt of n(t).data.groups)he.set(qt.id,qt.depth);const Pe=qt=>qt?(he.get(qt)??0)+1:0;n(t).data.labelHeader&&(xt.font=St,Jt=Math.max(Jt,xt.measureText(n(t).data.labelHeader).width)),xt.font=Lt;const De=parseFloat(E);for(const qt of n(t).data.rows)if(qt.label){const un=Pe(qt.groupId),pr=((ae=qt.style)==null?void 0:ae.indent)??0,Q=(un+pr)*Ae.INDENT_PER_LEVEL;let Y=xt.measureText(qt.label).width+Q;if((Ct=qt.style)!=null&&Ct.badge){const Ht=String(qt.style.badge),at=De*Er.FONT_SCALE;xt.font=`${at}px ${I}`;const se=xt.measureText(Ht).width+Er.PADDING*2;Y+=Er.GAP+se,xt.font=Lt}Jt=Math.max(Jt,Y)}xt.font=St;for(const qt of n(t).data.groups)if(qt.label){const un=qt.depth*Ae.INDENT_PER_LEVEL,pr=xt.measureText(qt.label).width,Q=`(${ht(qt.id)})`,Y=De*.75;xt.font=`${Y}px ${I}`;const Ht=xt.measureText(Q).width;xt.font=St;const at=un+Qr.CHEVRON_WIDTH+Qr.GAP+pr+Qr.GAP+Ht+Qr.SAFETY_MARGIN;Jt=Math.max(Jt,at)}const fe=Math.min(Jn.LABEL_MAX,Math.max(Jn.MIN,Math.ceil(Jt+Ft+$n.RENDERING_BUFFER)));n(h).__label__=fe}}function Gt(E,I){it(e,E,!0),it(r,I,!0)}function Ge(E){const I=new Set(n(o));I.has(E)?I.delete(E):I.add(E),it(o,I,!0)}function vt(E,I){const q=new Set(n(i));I??!q.has(E)?q.add(E):q.delete(E),it(i,q,!0)}function lt(E,I){it(a,b(I,"none")?null:{column:E,direction:I},!0)}function Zt(E){it(l,E,!0)}function qe(E){it(c,E,!0)}function je(E,I){it(f,E,!0),it(s,I,!0)}function zn(E,I){n(h)[E]=Math.max(40,I)}function te(E){return n(h)[E]}function we(E){it(d,b(E,null)?null:Math.max(100,E),!0)}function Ue(){return n(d)}function Ve(E){const I=Sg[E];!n(t)||!I||it(t,{...n(t),theme:I},!0)}function Xe(E){it(u,Math.max(.5,Math.min(2,E)),!0),Ye()}function Mn(){it(u,1),Ye()}function an(){Xe(n(u)*1.1)}function Ot(){Xe(n(u)/1.1)}function Bt(E){it(g,E,!0),Ye()}function Fe(){!n(x)||!n(A)||(it(u,Math.min(2,Math.max(.5,n(x)/n(A))),!0),Ye())}function ir(E){it(v,E,!0),Ye()}function vr(E){it(_,E,!0),Ye()}function _n(E){it(y,E,!0)}function Je(E,I){it(x,E,!0),it(k,I,!0)}function Sn(E,I){it(A,E,!0),it(W,I,!0)}function qr(E){it(M,E,!0),E&&fn()}function yn(){return n(M)?`tabviz_zoom_${n(M)}`:null}function Ye(){const E=yn();if(E)try{const I={zoom:n(u),autoFit:n(g),maxWidth:n(v),maxHeight:n(_),version:2};localStorage.setItem(E,JSON.stringify(I))}catch{}}function fn(){const E=yn();if(E)try{const I=localStorage.getItem(E);if(I){const q=JSON.parse(I);b(q.version,2)&&(it(u,q.zoom??1,!0),it(g,q.autoFit??!0,!0),it(v,q.maxWidth??null,!0),it(_,q.maxHeight??null,!0))}}catch{}}function Fn(){it(o,new Set,!0),it(i,new Set,!0),it(a,null),it(l,null),it(h,{},!0),it(d,null),it(u,1),it(g,!0),it(v,null),it(_,null),it(c,null),it(f,null),it(s,null)}const ri=p(m(()=>!n(f)||!n(t)?null:n(t).data.rows.find(E=>b(E.id,n(f)))??null),"tooltipRow");return{get spec(){return n(t)},get width(){return n(C)},get height(){return n(w)},get visibleRows(){return n(S)},get xScale(){return n(T)},get axisComputation(){return n(L)},get layout(){return n(st)},get selectedRowIds(){return n(o)},get collapsedGroups(){return n(i)},get hoveredRowId(){return n(c)},get allColumns(){return n(H)},get allColumnDefs(){return n(G)},get forestColumns(){return n(P)},get hasExplicitForestColumns(){return n(J)},get vizColumns(){return n(K)},get hasVizColumns(){return n(U)},get displayRows(){return n(ft)},get tooltipRow(){return n(ri)},get tooltipPosition(){return n(s)},get columnWidths(){return n(h)},get zoom(){return n(u)},get autoFit(){return n(g)},get actualScale(){return n(re)},get isClamped(){return n(wt)},get maxWidth(){return n(v)},get maxHeight(){return n(_)},get showZoomControls(){return n(y)},get naturalContentWidth(){return n(yt)},getRowDepth:ut,getColumnWidth:te,getPlotWidth:Ue,getExportDimensions(){var Le,Pt,_e,oe;const E=n(T).domain(),I=[],q={},Z={},xt=n(h).__label__??150;Z.__label__=xt;let kt=xt;for(const Kt of n(H)){I.push(Kt.id),q[Kt.id]=kt;let ae;b(Kt.type,"forest")?ae=n(h)[Kt.id]??(b(typeof Kt.width,"number")?Kt.width:null)??((Pt=(Le=Kt.options)==null?void 0:Le.forest)==null?void 0:Pt.width)??n(st).forestWidth:ae=n(h)[Kt.id]??(b(typeof Kt.width,"number")?Kt.width:100),Z[Kt.id]=ae,kt+=ae}const jt=[];for(const Kt of n(P)){const ae=Kt.column,Ct=(_e=ae.options)==null?void 0:_e.forest,ht=Z[ae.id]??n(st).forestWidth,Jt=(Ct==null?void 0:Ct.scale)??"linear",he=(Ct==null?void 0:Ct.nullValue)??(b(Jt,"log")?1:0);jt.push({columnId:ae.id,xPosition:q[ae.id],width:ht,xDomain:E,clipBounds:n(L).axisLimits,ticks:n(L).ticks,scale:Jt,nullValue:he,axisLabel:(Ct==null?void 0:Ct.axisLabel)??"Effect"})}const bt=[],St=[];let Lt=0;for(const Kt of n(ft)){const ae=b(Kt.type,"data")&&b((oe=Kt.row.style)==null?void 0:oe.type,"spacer")?n(st).rowHeight/2:n(st).rowHeight;St.push(Lt),bt.push(ae),Lt+=ae}const Ft=n(G).some(Kt=>Kt.isGroup)?2:1;return{columnOrder:I,columnWidths:Z,columnPositions:q,forestColumns:jt,rowHeights:bt,rowPositions:St,totalRowsHeight:Lt,headerHeight:n(st).headerHeight,headerDepth:Ft,width:n(yt)*n(u),height:(n(W)||400)*n(u),naturalWidth:kt,naturalHeight:Lt+n(st).headerHeight+n(st).axisHeight,forestWidth:n(st).forestWidth*n(u),xDomain:E,clipBounds:n(L).axisLimits,scale:n(u)}},setSpec:zt,setDimensions:Gt,selectRow:Ge,toggleGroup:vt,sortBy:lt,setFilter:Zt,setHovered:qe,setTooltip:je,setColumnWidth:zn,setPlotWidth:we,setTheme:Ve,setZoom:Xe,resetZoom:Mn,zoomIn:an,zoomOut:Ot,setAutoFit:Bt,fitToWidth:Fe,setMaxWidth:ir,setMaxHeight:vr,setShowZoomControls:_n,setContainerDimensions:Je,setScalableNaturalDimensions:Sn,setContainerElementId:qr,resetState:Fn}}function hp(t,e){return t.filter(r=>{const o=r.metadata[e.field]??r[e.field];switch(e.operator){case"eq":return b(o,e.value);case"neq":return b(o,e.value,!1);case"gt":return b(typeof o,"number")&&o>e.value;case"lt":return b(typeof o,"number")&&o<e.value;case"contains":return b(typeof o,"string")&&o.toLowerCase().includes(e.value.toLowerCase());default:return!0}})}function gp(t,e){const r=[...t],{column:o,direction:i}=e;return r.sort((a,l)=>{const c=a.metadata[o]??a[o],f=l.metadata[o]??l[o];let s=0;return b(typeof c,"number")&&b(typeof f,"number")?s=c-f:b(typeof c,"string")&&b(typeof f,"string")&&(s=c.localeCompare(f)),b(i,"desc")?-s:s}),r}const Xc=new Map,Yc={updateData:(t,e)=>{e.spec&&t.setSpec(e.spec)},toggleGroup:(t,e)=>{t.toggleGroup(e.groupId,e.collapsed)},applyFilter:(t,e)=>{t.setFilter(e.filter)},clearFilter:t=>{t.setFilter(null)},sortBy:(t,e)=>{t.sortBy(e.column,e.direction)}},vp={name:"tabviz",type:"output",factory:(t,e,r)=>{let o=null;const i=Uc();return t.id&&Xc.set(t.id,i),{renderValue:a=>{i.setSpec(a),i.setDimensions(e,r),b(typeof a.zoom,"number")&&i.setZoom(a.zoom),b(typeof a.autoFit,"boolean")&&i.setAutoFit(a.autoFit),b(a.maxWidth,void 0,!1)&&i.setMaxWidth(a.maxWidth),b(a.maxHeight,void 0,!1)&&i.setMaxHeight(a.maxHeight),b(typeof a.showZoomControls,"boolean")&&i.setShowZoomControls(a.showZoomControls),t.style.height="auto",o&&Iu(o),o=Wu(B,{target:t,props:{store:i}}),window.Shiny&&t.id&&pp(t.id,i)},resize:(a,l)=>{i.setDimensions(a,l)}}}};function pp(t,e){_u(()=>{Ji(()=>{var o;const r=e.selectedRowIds;(o=window.Shiny)==null||o.setInputValue(`${t}_selected`,Array.from(r),{priority:"event"})}),Ji(()=>{var o;const r=e.hoveredRowId;(o=window.Shiny)==null||o.setInputValue(`${t}_hover`,r,{priority:"event"})})})}return b(typeof window,"undefined",!1)&&window.HTMLWidgets&&window.HTMLWidgets.widget(vp),b(typeof window,"undefined",!1)&&window.Shiny&&window.Shiny.addCustomMessageHandler("tabviz-proxy",t=>{const e=Xc.get(t.id);e&&t.method in Yc&&Yc[t.method](e,t.args)}),be.ForestPlot=B,be.createForestStore=Uc,Object.defineProperty(be,Symbol.toStringTag,{value:"Module"}),be})({});
