var tabviz=(function(Ae){"use strict";var Xv=Object.defineProperty;var pf=Ae=>{throw TypeError(Ae)};var Uv=(Ae,Ye,cn)=>Ye in Ae?Xv(Ae,Ye,{enumerable:!0,configurable:!0,writable:!0,value:cn}):Ae[Ye]=cn;var Wr=(Ae,Ye,cn)=>Uv(Ae,typeof Ye!="symbol"?Ye+"":Ye,cn),Bs=(Ae,Ye,cn)=>Ye.has(Ae)||pf("Cannot "+cn);var O=(Ae,Ye,cn)=>(Bs(Ae,Ye,"read from private field"),cn?cn.call(Ae):Ye.get(Ae)),ue=(Ae,Ye,cn)=>Ye.has(Ae)?pf("Cannot add the same private member more than once"):Ye instanceof WeakSet?Ye.add(Ae):Ye.set(Ae,cn),qt=(Ae,Ye,cn,Da)=>(Bs(Ae,Ye,"write to private field"),Da?Da.call(Ae,cn):Ye.set(Ae,cn),cn),rn=(Ae,Ye,cn)=>(Bs(Ae,Ye,"access private method"),cn);var af,sf,ei,ni,No,Ho,Gi,ri,oi,pn,Gs,$i,Vs,vf,mf,tr,er,Fs,Tr,Ao,Nr,nr,Pn,Hr,jr,no,Wo,ro,Ro,qr,Ca,dn,Yv,Zv,Os,Pa,La,$s,hr,Ar,Vn,Io,Vi,Oi,ka,lf;const xn=Symbol(),D=Symbol("filename"),yf="http://www.w3.org/1999/xhtml",js=(sf=(af=globalThis.process)==null?void 0:af.env)==null?void 0:sf.NODE_ENV,dt=js&&!js.toLowerCase().startsWith("prod");var mi=Array.isArray,xf=Array.prototype.indexOf,ji=Array.from,oo=Object.defineProperty,Po=Object.getOwnPropertyDescriptor,qs=Object.getOwnPropertyDescriptors,Xs=Object.prototype,_f=Array.prototype,qi=Object.getPrototypeOf,Us=Object.isExtensible;const Ys=()=>{};function wf(t){for(var e=0;e<t.length;e++)t[e]()}function Zs(){var t,e,r=new Promise((o,a)=>{t=o,e=a});return{promise:r,resolve:t,reject:e}}function Ba(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const r=[];for(const o of t)if(r.push(o),r.length===e)break;return r}const gn=2,Ga=4,Va=8,bf=1<<24,Rr=16,Ir=32,Xr=64,Xi=128,or=512,_n=1024,Tn=2048,vr=4096,Ln=8192,Ur=16384,Oa=32768,io=65536,Ui=1<<17,Ks=1<<18,ao=1<<19,Mf=1<<20,zr=1<<25,Yr=32768,$a=1<<21,Yi=1<<22,Zr=1<<23,mr=Symbol("$state"),Sf=Symbol(""),Qs=Symbol("proxy path"),Lo=new class extends Error{constructor(){super(...arguments);Wr(this,"name","StaleReactionError");Wr(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}},Ef=1,Cf=11;function Js(){if(dt){const t=new Error("invalid_snippet_arguments\nA snippet function was passed invalid arguments. Snippets should only be instantiated via `{@render ...}`\nhttps://svelte.dev/e/invalid_snippet_arguments");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/invalid_snippet_arguments")}function kf(){if(dt){const t=new Error("snippet_without_render_tag\nAttempted to render a snippet without a `{@render}` block. This would cause the snippet code to be stringified instead of its content being rendered to the DOM. To fix this, change `{snippet}` to `{@render snippet()}`.\nhttps://svelte.dev/e/snippet_without_render_tag");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/snippet_without_render_tag")}function Tf(){if(dt){const t=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/async_derived_orphan")}function Nf(t,e){if(dt){const r=new Error(`component_api_changed
Calling \`${t}\` on a component instance (of ${e}) is no longer valid in Svelte 5
https://svelte.dev/e/component_api_changed`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/component_api_changed")}function Hf(t,e){if(dt){const r=new Error(`component_api_invalid_new
Attempted to instantiate ${t} with \`new ${e}\`, which is no longer valid in Svelte 5. If this component is not under your control, set the \`compatibility.componentApi\` compiler option to \`4\` to keep it working.
https://svelte.dev/e/component_api_invalid_new`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/component_api_invalid_new")}function Af(){if(dt){const t=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/derived_references_self")}function Wf(t,e,r){if(dt){const o=new Error(`each_key_duplicate
${r?`Keyed each block has duplicate key \`${r}\` at indexes ${t} and ${e}`:`Keyed each block has duplicate key at indexes ${t} and ${e}`}
https://svelte.dev/e/each_key_duplicate`);throw o.name="Svelte error",o}else throw new Error("https://svelte.dev/e/each_key_duplicate")}function Rf(t){if(dt){const e=new Error(`effect_in_teardown
\`${t}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function If(){if(dt){const t=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function zf(t){if(dt){const e=new Error(`effect_orphan
\`${t}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_orphan")}function Ff(){if(dt){const t=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Pf(){if(dt){const t=new Error("invalid_snippet\nCould not `{@render}` snippet due to the expression being `null` or `undefined`. Consider using optional chaining `{@render snippet?.()}`\nhttps://svelte.dev/e/invalid_snippet");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/invalid_snippet")}function Lf(t){if(dt){const e=new Error(`rune_outside_svelte
The \`${t}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function Df(){if(dt){const t=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Bf(){if(dt){const t=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Gf(){if(dt){const t=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Vf(){if(dt){const t=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}var so="font-weight: bold",lo="font-weight: normal";function Of(t){dt?console.warn(`%c[svelte] console_log_state
%cYour \`console.${t}\` contained \`$state\` proxies. Consider using \`$inspect(...)\` or \`$state.snapshot(...)\` instead
https://svelte.dev/e/console_log_state`,so,lo):console.warn("https://svelte.dev/e/console_log_state")}function $f(t,e){dt?console.warn(`%c[svelte] event_handler_invalid
%c${t} should be a function. Did you mean to ${e}?
https://svelte.dev/e/event_handler_invalid`,so,lo):console.warn("https://svelte.dev/e/event_handler_invalid")}function jf(){dt?console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,so,lo):console.warn("https://svelte.dev/e/lifecycle_double_unmount")}function qf(){dt?console.warn("%c[svelte] select_multiple_invalid_value\n%cThe `value` property of a `<select multiple>` element should be an array, but it received a non-array value. The selection will be kept as is.\nhttps://svelte.dev/e/select_multiple_invalid_value",so,lo):console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function yi(t){dt?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${t}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,so,lo):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}function Xf(){dt?console.warn(`%c[svelte] state_proxy_unmount
%cTried to unmount a state proxy, rather than a component
https://svelte.dev/e/state_proxy_unmount`,so,lo):console.warn("https://svelte.dev/e/state_proxy_unmount")}function Uf(){dt?console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",so,lo):console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function e0(t){}function tl(t){return t===this.v}function el(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function nl(t){return!el(t,this.v)}let Yf=!1;var Zf="font-weight: bold",Kf="font-weight: normal";function rl(t){dt?console.warn(`%c[svelte] state_snapshot_uncloneable
%c${t?`The following properties cannot be cloned with \`$state.snapshot\` — the return value contains the originals:

${t}`:"Value cannot be cloned with `$state.snapshot` — the original value was returned"}
https://svelte.dev/e/state_snapshot_uncloneable`,Zf,Kf):console.warn("https://svelte.dev/e/state_snapshot_uncloneable")}const Qf=[];function Jf(t,e=!1,r=!1){if(dt&&!e){const o=[],a=xi(t,new Map,"",o,null,r);if(o.length===1&&o[0]==="")rl();else if(o.length>0){const i=o.length>10?o.slice(0,7):o.slice(0,10),s=o.length-i.length;let c=i.map(f=>`- <value>${f}`).join(`
`);s>0&&(c+=`
- ...and ${s} more`),rl(c)}return a}return xi(t,new Map,"",Qf,null,r)}function xi(t,e,r,o,a=null,i=!1){if(typeof t=="object"&&t!==null){var s=e.get(t);if(s!==void 0)return s;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(mi(t)){var c=Array(t.length);e.set(t,c),a!==null&&e.set(a,c);for(var f=0;f<t.length;f+=1){var l=t[f];f in t&&(c[f]=xi(l,e,dt?`${r}[${f}]`:r,o,null,i))}return c}if(qi(t)===Xs){c={},e.set(t,c),a!==null&&e.set(a,c);for(var d in t)c[d]=xi(t[d],e,dt?`${r}.${d}`:r,o,null,i);return c}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function"&&!i)return xi(t.toJSON(),e,dt?`${r}.toJSON()`:r,o,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return dt&&o.push(r),t}}function v(t,e){return t.label=e,ol(t.v,e),t}function ol(t,e){var r;return(r=t==null?void 0:t[Qs])==null||r.call(t,e),t}function tu(t){const e=new Error,r=eu();return r.length===0?null:(r.unshift(`
`),oo(e,"stack",{value:r.join(`
`)}),oo(e,"name",{value:t}),e)}function eu(){const t=Error.stackTraceLimit;Error.stackTraceLimit=1/0;const e=new Error().stack;if(Error.stackTraceLimit=t,!e)return[];const r=e.split(`
`),o=[];for(let a=0;a<r.length;a++){const i=r[a],s=i.replaceAll("\\","/");if(i.trim()!=="Error"){if(i.includes("validate_each_keys"))return[];s.includes("svelte/src/internal")||s.includes("node_modules/.vite")||o.push(i)}}return o}let an=null;function Do(t){an=t}let Fr=null;function Zi(t){Fr=t}function z(t,e,r,o,a,i){const s=Fr;Fr={type:e,file:r[D],line:o,column:a,parent:s,...i};try{return t()}finally{Fr=s}}let Bo=null;function Ki(t){Bo=t}function we(t,e=!1,r){an={p:an,i:!1,c:null,e:null,s:t,x:null,l:null},dt&&(an.function=r,Bo=r)}function be(t){var e=an,r=e.e;if(r!==null){e.e=null;for(var o of r)_l(o)}return t!==void 0&&(e.x=t),e.i=!0,an=e.p,dt&&(Bo=(an==null?void 0:an.function)??null),t??{}}function il(){return!0}let co=[];function al(){var t=co;co=[],wf(t)}function Go(t){if(co.length===0&&!_i){var e=co;queueMicrotask(()=>{e===co&&al()})}co.push(t)}function nu(){for(;co.length>0;)al()}const ja=new WeakMap;function sl(t){var e=Me;if(e===null)return oe.f|=Zr,t;if(dt&&t instanceof Error&&!ja.has(t)&&ja.set(t,ru(t,e)),(e.f&Oa)===0){if((e.f&Xi)===0)throw dt&&!e.parent&&t instanceof Error&&ll(t),t;e.b.error(t)}else Vo(t,e)}function Vo(t,e){for(;e!==null;){if((e.f&Xi)!==0)try{e.b.error(t);return}catch(r){t=r}e=e.parent}throw dt&&t instanceof Error&&ll(t),t}function ru(t,e){var s,c,f;const r=Po(t,"message");if(!(r&&!r.configurable)){for(var o=Qa?"  ":"	",a=`
${o}in ${((s=e.fn)==null?void 0:s.name)||"<unknown>"}`,i=e.ctx;i!==null;)a+=`
${o}in ${(c=i.function)==null?void 0:c[D].split("/").pop()}`,i=i.p;return{message:t.message+`
${a}
`,stack:(f=t.stack)==null?void 0:f.split(`
`).filter(l=>!l.includes("svelte/src/internal")).join(`
`)}}}function ll(t){const e=ja.get(t);e&&(oo(t,"message",{value:e.message}),oo(t,"stack",{value:e.stack}))}const Qi=new Set;let de=null,on=null,jn=[],Ji=null,qa=!1,_i=!1;const Ea=class Ea{constructor(){ue(this,pn);Wr(this,"committed",!1);Wr(this,"current",new Map);Wr(this,"previous",new Map);ue(this,ei,new Set);ue(this,ni,new Set);ue(this,No,0);ue(this,Ho,0);ue(this,Gi,null);ue(this,ri,new Set);ue(this,oi,new Set);Wr(this,"skipped_effects",new Set);Wr(this,"is_fork",!1)}is_deferred(){return this.is_fork||O(this,Ho)>0}process(e){var o;jn=[],this.apply();var r={parent:null,effect:null,effects:[],render_effects:[]};for(const a of e)rn(this,pn,Gs).call(this,a,r);this.is_fork||rn(this,pn,vf).call(this),this.is_deferred()?(rn(this,pn,$i).call(this,r.effects),rn(this,pn,$i).call(this,r.render_effects)):(de=null,fl(r.render_effects),fl(r.effects),(o=O(this,Gi))==null||o.resolve()),on=null}capture(e,r){this.previous.has(e)||this.previous.set(e,r),(e.f&Zr)===0&&(this.current.set(e,e.v),on==null||on.set(e,e.v))}activate(){de=this,this.apply()}deactivate(){de===this&&(de=null,on=null)}flush(){if(this.activate(),jn.length>0){if(cl(),de!==null&&de!==this)return}else O(this,No)===0&&this.process([]);this.deactivate()}discard(){for(const e of O(this,ni))e(this);O(this,ni).clear()}increment(e){qt(this,No,O(this,No)+1),e&&qt(this,Ho,O(this,Ho)+1)}decrement(e){qt(this,No,O(this,No)-1),e&&qt(this,Ho,O(this,Ho)-1),this.revive()}revive(){for(const e of O(this,ri))O(this,oi).delete(e),wn(e,Tn),fo(e);for(const e of O(this,oi))wn(e,vr),fo(e);this.flush()}oncommit(e){O(this,ei).add(e)}ondiscard(e){O(this,ni).add(e)}settled(){return(O(this,Gi)??qt(this,Gi,Zs())).promise}static ensure(){if(de===null){const e=de=new Ea;Qi.add(de),_i||Ea.enqueue(()=>{de===e&&e.flush()})}return de}static enqueue(e){Go(e)}apply(){}};ei=new WeakMap,ni=new WeakMap,No=new WeakMap,Ho=new WeakMap,Gi=new WeakMap,ri=new WeakMap,oi=new WeakMap,pn=new WeakSet,Gs=function(e,r){var d;e.f^=_n;for(var o=e.first;o!==null;){var a=o.f,i=(a&(Ir|Xr))!==0,s=i&&(a&_n)!==0,c=s||(a&Ln)!==0||this.skipped_effects.has(o);if((o.f&Xi)!==0&&((d=o.b)!=null&&d.is_pending())&&(r={parent:r,effect:o,effects:[],render_effects:[]}),!c&&o.fn!==null){i?o.f^=_n:(a&Ga)!==0?r.effects.push(o):Ei(o)&&((o.f&Rr)!==0&&O(this,ri).add(o),Ci(o));var f=o.first;if(f!==null){o=f;continue}}var l=o.parent;for(o=o.next;o===null&&l!==null;)l===r.effect&&(rn(this,pn,$i).call(this,r.effects),rn(this,pn,$i).call(this,r.render_effects),r=r.parent),o=l.next,l=l.parent}},$i=function(e){for(const r of e)(r.f&Tn)!==0?O(this,ri).add(r):(r.f&vr)!==0&&O(this,oi).add(r),rn(this,pn,Vs).call(this,r.deps),wn(r,_n)},Vs=function(e){if(e!==null)for(const r of e)(r.f&gn)===0||(r.f&Yr)===0||(r.f^=Yr,rn(this,pn,Vs).call(this,r.deps))},vf=function(){if(O(this,Ho)===0){for(const e of O(this,ei))e();O(this,ei).clear()}O(this,No)===0&&rn(this,pn,mf).call(this)},mf=function(){var i;if(Qi.size>1){this.previous.clear();var e=on,r=!0,o={parent:null,effect:null,effects:[],render_effects:[]};for(const s of Qi){if(s===this){r=!1;continue}const c=[];for(const[l,d]of this.current){if(s.current.has(l))if(r&&d!==s.current.get(l))s.current.set(l,d);else continue;c.push(l)}if(c.length===0)continue;const f=[...s.current.keys()].filter(l=>!this.current.has(l));if(f.length>0){var a=jn;jn=[];const l=new Set,d=new Map;for(const u of c)ul(u,f,l,d);if(jn.length>0){de=s,s.apply();for(const u of jn)rn(i=s,pn,Gs).call(i,u,o);s.deactivate()}jn=a}}de=null,on=e}this.committed=!0,Qi.delete(this)};let yr=Ea;function ou(t){var e=_i;_i=!0;try{for(var r;;){if(nu(),jn.length===0&&(de==null||de.flush(),jn.length===0))return Ji=null,r;cl()}}finally{_i=e}}function cl(){var t=po;qa=!0;var e=dt?new Set:null;try{var r=0;for(oa(!0);jn.length>0;){var o=yr.ensure();if(r++>1e3){if(dt){var a=new Map;for(const s of o.current.keys())for(const[c,f]of s.updated??[]){var i=a.get(c);i||(i={error:f.error,count:0},a.set(c,i)),i.count+=f.count}for(const s of a.values())s.error&&console.error(s.error)}iu()}if(o.process(jn),Kr.clear(),dt)for(const s of o.current.keys())e.add(s)}}finally{if(qa=!1,oa(t),Ji=null,dt)for(const s of e)s.updated=null}}function iu(){try{Ff()}catch(t){dt&&oo(t,"stack",{value:""}),Vo(t,Ji)}}let ir=null;function fl(t){var e=t.length;if(e!==0){for(var r=0;r<e;){var o=t[r++];if((o.f&(Ur|Ln))===0&&Ei(o)&&(ir=new Set,Ci(o),o.deps===null&&o.first===null&&o.nodes===null&&(o.teardown===null&&o.ac===null?Sl(o):o.fn=null),(ir==null?void 0:ir.size)>0)){Kr.clear();for(const a of ir){if((a.f&(Ur|Ln))!==0)continue;const i=[a];let s=a.parent;for(;s!==null;)ir.has(s)&&(ir.delete(s),i.push(s)),s=s.parent;for(let c=i.length-1;c>=0;c--){const f=i[c];(f.f&(Ur|Ln))===0&&Ci(f)}}ir.clear()}}ir=null}}function ul(t,e,r,o){if(!r.has(t)&&(r.add(t),t.reactions!==null))for(const a of t.reactions){const i=a.f;(i&gn)!==0?ul(a,e,r,o):(i&(Yi|Rr))!==0&&(i&Tn)===0&&dl(a,e,o)&&(wn(a,Tn),fo(a))}}function dl(t,e,r){const o=r.get(t);if(o!==void 0)return o;if(t.deps!==null)for(const a of t.deps){if(e.includes(a))return!0;if((a.f&gn)!==0&&dl(a,e,r))return r.set(a,!0),!0}return r.set(t,!1),!1}function fo(t){for(var e=Ji=t;e.parent!==null;){e=e.parent;var r=e.f;if(qa&&e===Me&&(r&Rr)!==0&&(r&Ks)===0)return;if((r&(Xr|Ir))!==0){if((r&_n)===0)return;e.f^=_n}}jn.push(e)}function au(t){let e=0,r=uo(0),o;return dt&&v(r,"createSubscriber version"),()=>{Mi()&&(n(r),na(()=>(e===0&&(o=aa(()=>t(()=>wi(r)))),e+=1,()=>{Go(()=>{e-=1,e===0&&(o==null||o(),o=void 0,wi(r))})})))}}var su=io|ao|Xi;function lu(t,e,r){new cu(t,e,r)}class cu{constructor(e,r,o){ue(this,dn);Wr(this,"parent");ue(this,tr,!1);ue(this,er);ue(this,Fs,null);ue(this,Tr);ue(this,Ao);ue(this,Nr);ue(this,nr,null);ue(this,Pn,null);ue(this,Hr,null);ue(this,jr,null);ue(this,no,null);ue(this,Wo,0);ue(this,ro,0);ue(this,Ro,!1);ue(this,qr,null);ue(this,Ca,au(()=>(qt(this,qr,uo(O(this,Wo))),dt&&v(O(this,qr),"$effect.pending()"),()=>{qt(this,qr,null)})));qt(this,er,e),qt(this,Tr,r),qt(this,Ao,o),this.parent=Me.b,qt(this,tr,!!O(this,Tr).pending),qt(this,Nr,ra(()=>{Me.b=this;{var a=rn(this,dn,Os).call(this);try{qt(this,nr,qn(()=>o(a)))}catch(i){this.error(i)}O(this,ro)>0?rn(this,dn,La).call(this):qt(this,tr,!1)}return()=>{var i;(i=O(this,no))==null||i.remove()}},su))}is_pending(){return O(this,tr)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!O(this,Tr).pending}update_pending_count(e){rn(this,dn,$s).call(this,e),qt(this,Wo,O(this,Wo)+e),O(this,qr)&&$o(O(this,qr),O(this,Wo))}get_effect_pending(){return O(this,Ca).call(this),n(O(this,qr))}error(e){var r=O(this,Tr).onerror;let o=O(this,Tr).failed;if(O(this,Ro)||!r&&!o)throw e;O(this,nr)&&(Sn(O(this,nr)),qt(this,nr,null)),O(this,Pn)&&(Sn(O(this,Pn)),qt(this,Pn,null)),O(this,Hr)&&(Sn(O(this,Hr)),qt(this,Hr,null));var a=!1,i=!1;const s=()=>{if(a){Uf();return}a=!0,i&&Vf(),yr.ensure(),qt(this,Wo,0),O(this,Hr)!==null&&go(O(this,Hr),()=>{qt(this,Hr,null)}),qt(this,tr,this.has_pending_snippet()),qt(this,nr,rn(this,dn,Pa).call(this,()=>(qt(this,Ro,!1),qn(()=>O(this,Ao).call(this,O(this,er)))))),O(this,ro)>0?rn(this,dn,La).call(this):qt(this,tr,!1)};var c=oe;try{Nn(null),i=!0,r==null||r(e,s),i=!1}catch(f){Vo(f,O(this,Nr)&&O(this,Nr).parent)}finally{Nn(c)}o&&Go(()=>{qt(this,Hr,rn(this,dn,Pa).call(this,()=>{yr.ensure(),qt(this,Ro,!0);try{return qn(()=>{o(O(this,er),()=>e,()=>s)})}catch(f){return Vo(f,O(this,Nr).parent),null}finally{qt(this,Ro,!1)}}))})}}tr=new WeakMap,er=new WeakMap,Fs=new WeakMap,Tr=new WeakMap,Ao=new WeakMap,Nr=new WeakMap,nr=new WeakMap,Pn=new WeakMap,Hr=new WeakMap,jr=new WeakMap,no=new WeakMap,Wo=new WeakMap,ro=new WeakMap,Ro=new WeakMap,qr=new WeakMap,Ca=new WeakMap,dn=new WeakSet,Yv=function(){try{qt(this,nr,qn(()=>O(this,Ao).call(this,O(this,er))))}catch(e){this.error(e)}qt(this,tr,!1)},Zv=function(){const e=O(this,Tr).pending;e&&(qt(this,Pn,qn(()=>e(O(this,er)))),yr.enqueue(()=>{var r=rn(this,dn,Os).call(this);qt(this,nr,rn(this,dn,Pa).call(this,()=>(yr.ensure(),qn(()=>O(this,Ao).call(this,r))))),O(this,ro)>0?rn(this,dn,La).call(this):(go(O(this,Pn),()=>{qt(this,Pn,null)}),qt(this,tr,!1))}))},Os=function(){var e=O(this,er);return O(this,tr)&&(qt(this,no,Lr()),O(this,er).before(O(this,no)),e=O(this,no)),e},Pa=function(e){var r=Me,o=oe,a=an;ar(O(this,Nr)),Nn(O(this,Nr)),Do(O(this,Nr).ctx);try{return e()}catch(i){return sl(i),null}finally{ar(r),Nn(o),Do(a)}},La=function(){const e=O(this,Tr).pending;O(this,nr)!==null&&(qt(this,jr,document.createDocumentFragment()),O(this,jr).append(O(this,no)),kl(O(this,nr),O(this,jr))),O(this,Pn)===null&&qt(this,Pn,qn(()=>e(O(this,er))))},$s=function(e){var r;if(!this.has_pending_snippet()){this.parent&&rn(r=this.parent,dn,$s).call(r,e);return}qt(this,ro,O(this,ro)+e),O(this,ro)===0&&(qt(this,tr,!1),O(this,Pn)&&go(O(this,Pn),()=>{qt(this,Pn,null)}),O(this,jr)&&(O(this,er).before(O(this,jr)),qt(this,jr,null)))};function fu(t,e,r,o){const a=Xa;if(r.length===0&&t.length===0){o(e.map(a));return}var i=de,s=Me,c=uu();function f(){Promise.all(r.map(l=>gu(l))).then(l=>{c();try{o([...e.map(a),...l])}catch(d){(s.f&Ur)===0&&Vo(d,s)}i==null||i.deactivate(),ta()}).catch(l=>{Vo(l,s)})}t.length>0?Promise.all(t).then(()=>{c();try{return f()}finally{i==null||i.deactivate(),ta()}}):f()}function uu(){var t=Me,e=oe,r=an,o=de;if(dt)var a=Fr;return function(s=!0){ar(t),Nn(e),Do(r),s&&(o==null||o.activate()),dt&&Zi(a)}}async function du(t){var e=await t;return()=>e}function ta(){ar(null),Nn(null),Do(null),dt&&Zi(null)}const hu=new Set;function Xa(t){var e=gn|Tn,r=oe!==null&&(oe.f&gn)!==0?oe:null;return Me!==null&&(Me.f|=ao),{ctx:an,deps:null,effects:null,equals:tl,f:e,fn:t,reactions:null,rv:0,v:xn,wv:0,parent:r??Me,ac:null}}function gu(t,e){let r=Me;r===null&&Tf();var o=r.b,a=void 0,i=uo(xn),s=!oe,c=new Map;return Hu(()=>{var h;var f=Zs();a=f.promise;try{Promise.resolve(t()).then(f.resolve,f.reject).then(()=>{l===de&&l.committed&&l.deactivate(),ta()})}catch(g){f.reject(g),ta()}var l=de;if(s){var d=!o.is_pending();o.update_pending_count(1),l.increment(d),(h=c.get(l))==null||h.reject(Lo),c.delete(l),c.set(l,f)}const u=(g,p=void 0)=>{if(l.activate(),p)p!==Lo&&(i.f|=Zr,$o(i,p));else{(i.f&Zr)!==0&&(i.f^=Zr),$o(i,g);for(const[x,_]of c){if(c.delete(x),x===l)break;_.reject(Lo)}}s&&(o.update_pending_count(-1),l.decrement(d))};f.promise.then(u,g=>u(null,g||"unknown"))}),ts(()=>{for(const f of c.values())f.reject(Lo)}),dt&&(i.f|=Yi),new Promise(f=>{function l(d){function u(){d===a?f(i):l(a)}d.then(u,u)}l(a)})}function m(t){const e=Xa(t);return Nl(e),e}function pu(t){const e=Xa(t);return e.equals=nl,e}function Ua(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)Sn(e[r])}}let Ya=[];function vu(t){for(var e=t.parent;e!==null;){if((e.f&gn)===0)return(e.f&Ur)===0?e:null;e=e.parent}return null}function Za(t){var e,r=Me;if(ar(vu(t)),dt){let o=Oo;gl(new Set);try{Ya.includes(t)&&Af(),Ya.push(t),t.f&=~Yr,Ua(t),e=ns(t)}finally{ar(r),gl(o),Ya.pop()}}else try{t.f&=~Yr,Ua(t),e=ns(t)}finally{ar(r)}return e}function hl(t){var e=Za(t);if(t.equals(e)||(de!=null&&de.is_fork||(t.v=e),t.wv=Wl()),!qo)if(on!==null)(Mi()||de!=null&&de.is_fork)&&on.set(t,e);else{var r=(t.f&or)===0?vr:_n;wn(t,r)}}let Oo=new Set;const Kr=new Map;function gl(t){Oo=t}let Ka=!1;function mu(){Ka=!0}function uo(t,e){var r={f:0,v:t,reactions:null,equals:tl,rv:0,wv:0};return r}function Wt(t,e){const r=uo(t);return Nl(r),r}function yu(t,e=!1,r=!0){const o=uo(t);return e||(o.equals=nl),o}function at(t,e,r=!1){oe!==null&&(!wr||(oe.f&Ui)!==0)&&il()&&(oe.f&(gn|Rr|Yi|Ui))!==0&&!(En!=null&&En.includes(t))&&Gf();let o=r?xr(e):e;return dt&&ol(o,t.label),$o(t,o)}function $o(t,e){var a;if(!t.equals(e)){var r=t.v;qo?Kr.set(t,e):Kr.set(t,r),t.v=e;var o=yr.ensure();if(o.capture(t,r),dt){if(Me!==null){t.updated??(t.updated=new Map);const i=(((a=t.updated.get(""))==null?void 0:a.count)??0)+1;if(t.updated.set("",{error:null,count:i}),i>5){const s=tu("updated at");if(s!==null){let c=t.updated.get(s.stack);c||(c={error:s,count:0},t.updated.set(s.stack,c)),c.count++}}}Me!==null&&(t.set_during_effect=!0)}(t.f&gn)!==0&&((t.f&Tn)!==0&&Za(t),wn(t,(t.f&or)!==0?_n:vr)),t.wv=Wl(),vl(t,Tn),Me!==null&&(Me.f&_n)!==0&&(Me.f&(Ir|Xr))===0&&(Xn===null?Ru([t]):Xn.push(t)),!o.is_fork&&Oo.size>0&&!Ka&&pl()}return e}function pl(){Ka=!1;var t=po;oa(!0);const e=Array.from(Oo);try{for(const r of e)(r.f&_n)!==0&&wn(r,vr),Ei(r)&&Ci(r)}finally{oa(t)}Oo.clear()}function wi(t){at(t,t.v+1)}function vl(t,e){var r=t.reactions;if(r!==null)for(var o=r.length,a=0;a<o;a++){var i=r[a],s=i.f;if(dt&&(s&Ui)!==0){Oo.add(i);continue}var c=(s&Tn)===0;if(c&&wn(i,e),(s&gn)!==0){var f=i;on==null||on.delete(f),(s&Yr)===0&&(s&or&&(i.f|=Yr),vl(f,vr))}else c&&((s&Rr)!==0&&ir!==null&&ir.add(i),fo(i))}}const xu=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function xr(t){if(typeof t!="object"||t===null||mr in t)return t;const e=qi(t);if(e!==Xs&&e!==_f)return t;var r=new Map,o=mi(t),a=Wt(0),i=vo,s=d=>{if(vo===i)return d();var u=oe,h=vo;Nn(null),Al(i);var g=d();return Nn(u),Al(h),g};o&&(r.set("length",Wt(t.length)),dt&&(t=bu(t)));var c="";let f=!1;function l(d){if(!f){f=!0,c=d,v(a,`${c} version`);for(const[u,h]of r)v(h,ho(c,u));f=!1}}return new Proxy(t,{defineProperty(d,u,h){(!("value"in h)||h.configurable===!1||h.enumerable===!1||h.writable===!1)&&Df();var g=r.get(u);return g===void 0?g=s(()=>{var p=Wt(h.value);return r.set(u,p),dt&&typeof u=="string"&&v(p,ho(c,u)),p}):at(g,h.value,!0),!0},deleteProperty(d,u){var h=r.get(u);if(h===void 0){if(u in d){const g=s(()=>Wt(xn));r.set(u,g),wi(a),dt&&v(g,ho(c,u))}}else at(h,xn),wi(a);return!0},get(d,u,h){var _;if(u===mr)return t;if(dt&&u===Qs)return l;var g=r.get(u),p=u in d;if(g===void 0&&(!p||(_=Po(d,u))!=null&&_.writable)&&(g=s(()=>{var y=xr(p?d[u]:xn),S=Wt(y);return dt&&v(S,ho(c,u)),S}),r.set(u,g)),g!==void 0){var x=n(g);return x===xn?void 0:x}return Reflect.get(d,u,h)},getOwnPropertyDescriptor(d,u){var h=Reflect.getOwnPropertyDescriptor(d,u);if(h&&"value"in h){var g=r.get(u);g&&(h.value=n(g))}else if(h===void 0){var p=r.get(u),x=p==null?void 0:p.v;if(p!==void 0&&x!==xn)return{enumerable:!0,configurable:!0,value:x,writable:!0}}return h},has(d,u){var x;if(u===mr)return!0;var h=r.get(u),g=h!==void 0&&h.v!==xn||Reflect.has(d,u);if(h!==void 0||Me!==null&&(!g||(x=Po(d,u))!=null&&x.writable)){h===void 0&&(h=s(()=>{var _=g?xr(d[u]):xn,y=Wt(_);return dt&&v(y,ho(c,u)),y}),r.set(u,h));var p=n(h);if(p===xn)return!1}return g},set(d,u,h,g){var k;var p=r.get(u),x=u in d;if(o&&u==="length")for(var _=h;_<p.v;_+=1){var y=r.get(_+"");y!==void 0?at(y,xn):_ in d&&(y=s(()=>Wt(xn)),r.set(_+"",y),dt&&v(y,ho(c,_)))}if(p===void 0)(!x||(k=Po(d,u))!=null&&k.writable)&&(p=s(()=>Wt(void 0)),dt&&v(p,ho(c,u)),at(p,xr(h)),r.set(u,p));else{x=p.v!==xn;var S=s(()=>xr(h));at(p,S)}var T=Reflect.getOwnPropertyDescriptor(d,u);if(T!=null&&T.set&&T.set.call(g,h),!x){if(o&&typeof u=="string"){var N=r.get("length"),b=Number(u);Number.isInteger(b)&&b>=N.v&&at(N,b+1)}wi(a)}return!0},ownKeys(d){n(a);var u=Reflect.ownKeys(d).filter(p=>{var x=r.get(p);return x===void 0||x.v!==xn});for(var[h,g]of r)g.v!==xn&&!(h in d)&&u.push(h);return u},setPrototypeOf(){Bf()}})}function ho(t,e){return typeof e=="symbol"?`${t}[Symbol(${e.description??""})]`:xu.test(e)?`${t}.${e}`:/^\d+$/.test(e)?`${t}[${e}]`:`${t}['${e}']`}function Pr(t){try{if(t!==null&&typeof t=="object"&&mr in t)return t[mr]}catch{}return t}function _u(t,e){return Object.is(Pr(t),Pr(e))}const wu=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function bu(t){return new Proxy(t,{get(e,r,o){var a=Reflect.get(e,r,o);return wu.has(r)?function(...i){mu();var s=a.apply(this,i);return pl(),s}:a}})}function Mu(){const t=Array.prototype,e=Array.__svelte_cleanup;e&&e();const{indexOf:r,lastIndexOf:o,includes:a}=t;t.indexOf=function(i,s){const c=r.call(this,i,s);if(c===-1){for(let f=s??0;f<this.length;f+=1)if(Pr(this[f])===i){yi("array.indexOf(...)");break}}return c},t.lastIndexOf=function(i,s){const c=o.call(this,i,s??this.length-1);if(c===-1){for(let f=0;f<=(s??this.length-1);f+=1)if(Pr(this[f])===i){yi("array.lastIndexOf(...)");break}}return c},t.includes=function(i,s){const c=a.call(this,i,s);if(!c){for(let f=0;f<this.length;f+=1)if(Pr(this[f])===i){yi("array.includes(...)");break}}return c},Array.__svelte_cleanup=()=>{t.indexOf=r,t.lastIndexOf=o,t.includes=a}}function w(t,e,r=!0){try{t===e!=(Pr(t)===Pr(e))&&yi(r?"===":"!==")}catch{}return t===e===r}function ce(t,e,r=!0){return t==e!=(Pr(t)==Pr(e))&&yi(r?"==":"!="),t==e===r}var jo,Qa,ml,yl;function Su(){if(jo===void 0){jo=window,Qa=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;ml=Po(e,"firstChild").get,yl=Po(e,"nextSibling").get,Us(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Us(r)&&(r.__t=void 0),dt&&(t.__svelte_meta=null,Mu())}}function Lr(t=""){return document.createTextNode(t)}function Dr(t){return ml.call(t)}function bi(t){return yl.call(t)}function tt(t,e){return Dr(t)}function vt(t,e=!1){{var r=Dr(t);return r instanceof Comment&&r.data===""?bi(r):r}}function it(t,e=1,r=!1){let o=t;for(;e--;)o=bi(o);return o}function Eu(t){t.textContent=""}function xl(){return!1}function Ja(t){var e=oe,r=Me;Nn(null),ar(null);try{return t()}finally{Nn(e),ar(r)}}function Cu(t){Me===null&&(oe===null&&zf(t),If()),qo&&Rf(t)}function ku(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function _r(t,e,r){var o=Me;if(dt)for(;o!==null&&(o.f&Ui)!==0;)o=o.parent;o!==null&&(o.f&Ln)!==0&&(t|=Ln);var a={ctx:an,deps:null,nodes:null,f:t|Tn|or,first:null,fn:e,last:null,next:null,parent:o,b:o&&o.b,prev:null,teardown:null,wv:0,ac:null};if(dt&&(a.component_function=Bo),r)try{Ci(a),a.f|=Oa}catch(c){throw Sn(a),c}else e!==null&&fo(a);var i=a;if(r&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&ao)===0&&(i=i.first,(t&Rr)!==0&&(t&io)!==0&&i!==null&&(i.f|=io)),i!==null&&(i.parent=o,o!==null&&ku(i,o),oe!==null&&(oe.f&gn)!==0&&(t&Xr)===0)){var s=oe;(s.effects??(s.effects=[])).push(i)}return a}function Mi(){return oe!==null&&!wr}function ts(t){const e=_r(Va,null,!1);return wn(e,_n),e.teardown=t,e}function ea(t){Cu("$effect"),dt&&oo(t,"name",{value:"$effect"});var e=Me.f,r=!oe&&(e&Ir)!==0&&(e&Oa)===0;if(r){var o=an;(o.e??(o.e=[])).push(t)}else return _l(t)}function _l(t){return _r(Ga|Mf,t,!1)}function Tu(t){yr.ensure();const e=_r(Xr|ao,t,!0);return()=>{Sn(e)}}function Nu(t){yr.ensure();const e=_r(Xr|ao,t,!0);return(r={})=>new Promise(o=>{r.outro?go(e,()=>{Sn(e),o(void 0)}):(Sn(e),o(void 0))})}function wl(t){return _r(Ga,t,!1)}function Hu(t){return _r(Yi|ao,t,!0)}function na(t,e=0){return _r(Va|e,t,!0)}function J(t,e=[],r=[],o=[]){fu(o,e,r,a=>{_r(Va,()=>t(...a.map(n)),!0)})}function ra(t,e=0){var r=_r(Rr|e,t,!0);return dt&&(r.dev_stack=Fr),r}function qn(t){return _r(Ir|ao,t,!0)}function bl(t){var e=t.teardown;if(e!==null){const r=qo,o=oe;Tl(!0),Nn(null);try{e.call(null)}finally{Tl(r),Nn(o)}}}function Ml(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){const a=r.ac;a!==null&&Ja(()=>{a.abort(Lo)});var o=r.next;(r.f&Xr)!==0?r.parent=null:Sn(r,e),r=o}}function Au(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&Ir)===0&&Sn(e),e=r}}function Sn(t,e=!0){var r=!1;(e||(t.f&Ks)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(Wu(t.nodes.start,t.nodes.end),r=!0),Ml(t,e&&!r),ia(t,0),wn(t,Ur);var o=t.nodes&&t.nodes.t;if(o!==null)for(const i of o)i.stop();bl(t);var a=t.parent;a!==null&&a.first!==null&&Sl(t),dt&&(t.component_function=null),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function Wu(t,e){for(;t!==null;){var r=t===e?null:bi(t);t.remove(),t=r}}function Sl(t){var e=t.parent,r=t.prev,o=t.next;r!==null&&(r.next=o),o!==null&&(o.prev=r),e!==null&&(e.first===t&&(e.first=o),e.last===t&&(e.last=r))}function go(t,e,r=!0){var o=[];El(t,o,!0);var a=()=>{r&&Sn(t),e&&e()},i=o.length;if(i>0){var s=()=>--i||a();for(var c of o)c.out(s)}else a()}function El(t,e,r){if((t.f&Ln)===0){t.f^=Ln;var o=t.nodes&&t.nodes.t;if(o!==null)for(const c of o)(c.is_global||r)&&e.push(c);for(var a=t.first;a!==null;){var i=a.next,s=(a.f&io)!==0||(a.f&Ir)!==0&&(t.f&Rr)!==0;El(a,e,s?r:!1),a=i}}}function es(t){Cl(t,!0)}function Cl(t,e){if((t.f&Ln)!==0){t.f^=Ln,(t.f&_n)===0&&(wn(t,Tn),fo(t));for(var r=t.first;r!==null;){var o=r.next,a=(r.f&io)!==0||(r.f&Ir)!==0;Cl(r,a?e:!1),r=o}var i=t.nodes&&t.nodes.t;if(i!==null)for(const s of i)(s.is_global||e)&&s.in()}}function kl(t,e){if(t.nodes)for(var r=t.nodes.start,o=t.nodes.end;r!==null;){var a=r===o?null:bi(r);e.append(r),r=a}}let po=!1;function oa(t){po=t}let qo=!1;function Tl(t){qo=t}let oe=null,wr=!1;function Nn(t){oe=t}let Me=null;function ar(t){Me=t}let En=null;function Nl(t){oe!==null&&(En===null?En=[t]:En.push(t))}let Cn=null,Dn=0,Xn=null;function Ru(t){Xn=t}let Hl=1,Si=0,vo=Si;function Al(t){vo=t}function Wl(){return++Hl}function Ei(t){var e=t.f;if((e&Tn)!==0)return!0;if(e&gn&&(t.f&=~Yr),(e&vr)!==0){var r=t.deps;if(r!==null)for(var o=r.length,a=0;a<o;a++){var i=r[a];if(Ei(i)&&hl(i),i.wv>t.wv)return!0}(e&or)!==0&&on===null&&wn(t,_n)}return!1}function Rl(t,e,r=!0){var o=t.reactions;if(o!==null&&!(En!=null&&En.includes(t)))for(var a=0;a<o.length;a++){var i=o[a];(i.f&gn)!==0?Rl(i,e,!1):e===i&&(r?wn(i,Tn):(i.f&_n)!==0&&wn(i,vr),fo(i))}}function ns(t){var p;var e=Cn,r=Dn,o=Xn,a=oe,i=En,s=an,c=wr,f=vo,l=t.f;Cn=null,Dn=0,Xn=null,oe=(l&(Ir|Xr))===0?t:null,En=null,Do(t.ctx),wr=!1,vo=++Si,t.ac!==null&&(Ja(()=>{t.ac.abort(Lo)}),t.ac=null);try{t.f|=$a;var d=t.fn,u=d(),h=t.deps;if(Cn!==null){var g;if(ia(t,Dn),h!==null&&Dn>0)for(h.length=Dn+Cn.length,g=0;g<Cn.length;g++)h[Dn+g]=Cn[g];else t.deps=h=Cn;if(Mi()&&(t.f&or)!==0)for(g=Dn;g<h.length;g++)((p=h[g]).reactions??(p.reactions=[])).push(t)}else h!==null&&Dn<h.length&&(ia(t,Dn),h.length=Dn);if(il()&&Xn!==null&&!wr&&h!==null&&(t.f&(gn|vr|Tn))===0)for(g=0;g<Xn.length;g++)Rl(Xn[g],t);return a!==null&&a!==t&&(Si++,Xn!==null&&(o===null?o=Xn:o.push(...Xn))),(t.f&Zr)!==0&&(t.f^=Zr),u}catch(x){return sl(x)}finally{t.f^=$a,Cn=e,Dn=r,Xn=o,oe=a,En=i,Do(s),wr=c,vo=f}}function Iu(t,e){let r=e.reactions;if(r!==null){var o=xf.call(r,t);if(o!==-1){var a=r.length-1;a===0?r=e.reactions=null:(r[o]=r[a],r.pop())}}r===null&&(e.f&gn)!==0&&(Cn===null||!Cn.includes(e))&&(wn(e,vr),(e.f&or)!==0&&(e.f^=or,e.f&=~Yr),Ua(e),ia(e,0))}function ia(t,e){var r=t.deps;if(r!==null)for(var o=e;o<r.length;o++)Iu(t,r[o])}function Ci(t){var e=t.f;if((e&Ur)===0){wn(t,_n);var r=Me,o=po;if(Me=t,po=!0,dt){var a=Bo;Ki(t.component_function);var i=Fr;Zi(t.dev_stack??Fr)}try{(e&(Rr|bf))!==0?Au(t):Ml(t),bl(t);var s=ns(t);t.teardown=typeof s=="function"?s:null,t.wv=Hl;var c;dt&&Yf&&(t.f&Tn)!==0&&t.deps}finally{po=o,Me=r,dt&&(Ki(a),Zi(i))}}}async function zu(){await Promise.resolve(),ou()}function n(t){var e=t.f,r=(e&gn)!==0;if(oe!==null&&!wr){var o=Me!==null&&(Me.f&Ur)!==0;if(!o&&!(En!=null&&En.includes(t))){var a=oe.deps;if((oe.f&$a)!==0)t.rv<Si&&(t.rv=Si,Cn===null&&a!==null&&a[Dn]===t?Dn++:Cn===null?Cn=[t]:Cn.includes(t)||Cn.push(t));else{(oe.deps??(oe.deps=[])).push(t);var i=t.reactions;i===null?t.reactions=[oe]:i.includes(oe)||i.push(oe)}}}if(dt&&hu.delete(t),qo){if(Kr.has(t))return Kr.get(t);if(r){var s=t,c=s.v;return((s.f&_n)===0&&s.reactions!==null||zl(s))&&(c=Za(s)),Kr.set(s,c),c}}else r&&(!(on!=null&&on.has(t))||de!=null&&de.is_fork&&!Mi())&&(s=t,Ei(s)&&hl(s),po&&Mi()&&(s.f&or)===0&&Il(s));if(on!=null&&on.has(t))return on.get(t);if((t.f&Zr)!==0)throw t.v;return t.v}function Il(t){if(t.deps!==null){t.f^=or;for(const e of t.deps)(e.reactions??(e.reactions=[])).push(t),(e.f&gn)!==0&&(e.f&or)===0&&Il(e)}}function zl(t){if(t.v===xn)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Kr.has(e)||(e.f&gn)!==0&&zl(e))return!0;return!1}function aa(t){var e=wr;try{return wr=!0,t()}finally{wr=e}}const Fu=-7169;function wn(t,e){t.f=t.f&Fu|e}function Pu(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(mr in t)rs(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&mr in r&&rs(r)}}}function rs(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let o in t)try{rs(t[o],e)}catch{}const r=qi(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const o=qs(r);for(let a in o){const i=o[a].get;if(i)try{i.call(t)}catch{}}}}}const Fl=new Set,os=new Set;function Lu(t,e,r,o={}){function a(i){if(o.capture||ki.call(e,i),!i.cancelBubble)return Ja(()=>r==null?void 0:r.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Go(()=>{e.addEventListener(t,a,o)}):e.addEventListener(t,a,o),a}function Bn(t,e,r,o,a){var i={capture:o,passive:a},s=Lu(t,e,r,i);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&ts(()=>{e.removeEventListener(t,s,i)})}function mo(t){for(var e=0;e<t.length;e++)Fl.add(t[e]);for(var r of os)r(t)}let Pl=null;function ki(t){var _;var e=this,r=e.ownerDocument,o=t.type,a=((_=t.composedPath)==null?void 0:_.call(t))||[],i=a[0]||t.target;Pl=t;var s=0,c=Pl===t&&t.__root;if(c){var f=a.indexOf(c);if(f!==-1&&(e===document||e===window)){t.__root=e;return}var l=a.indexOf(e);if(l===-1)return;f<=l&&(s=f)}if(i=a[s]||t.target,i!==e){oo(t,"currentTarget",{configurable:!0,get(){return i||r}});var d=oe,u=Me;Nn(null),ar(null);try{for(var h,g=[];i!==null;){var p=i.assignedSlot||i.parentNode||i.host||null;try{var x=i["__"+o];x!=null&&(!i.disabled||t.target===i)&&x.call(i,t)}catch(y){h?g.push(y):h=y}if(t.cancelBubble||p===e||p===null)break;i=p}if(h){for(let y of g)queueMicrotask(()=>{throw y});throw h}}finally{t.__root=e,delete t.currentTarget,Nn(d),ar(u)}}}function sr(t,e,r,o,a,i=!1,s=!1){var l,d;let c,f;try{c=t()}catch(u){f=u}if(typeof c!="function"&&(i||c!=null||f)){const u=o==null?void 0:o[D],h=a?` at ${u}:${a[0]}:${a[1]}`:` in ${u}`,g=((l=r[0])==null?void 0:l.eventPhase)<Event.BUBBLING_PHASE?"capture":"",x=`\`${((d=r[0])==null?void 0:d.type)+g}\` handler${h}`;if($f(x,s?"remove the trailing `()`":"add a leading `() =>`"),f)throw f}c==null||c.apply(e,r)}function Ll(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Xo(t,e){var r=Me;r.nodes===null&&(r.nodes={start:t,end:e,a:null,t:null})}function yt(t,e){var r=(e&1)!==0,o=(e&2)!==0,a,i=!t.startsWith("<!>");return()=>{a===void 0&&(a=Ll(i?t:"<!>"+t),r||(a=Dr(a)));var s=o||Qa?document.importNode(a,!0):a.cloneNode(!0);if(r){var c=Dr(s),f=s.lastChild;Xo(c,f)}else Xo(s,s);return s}}function Du(t,e,r="svg"){var o=!t.startsWith("<!>"),a=(e&1)!==0,i=`<${r}>${o?t:"<!>"+t}</${r}>`,s;return()=>{if(!s){var c=Ll(i),f=Dr(c);if(a)for(s=document.createDocumentFragment();Dr(f);)s.appendChild(Dr(f));else s=Dr(f)}var l=s.cloneNode(!0);if(a){var d=Dr(l),u=l.lastChild;Xo(d,u)}else Xo(l,l);return l}}function Pt(t,e){return Du(t,e,"svg")}function Bu(t=""){{var e=Lr(t+"");return Xo(e,e),e}}function St(){var t=document.createDocumentFragment(),e=document.createComment(""),r=Lr();return t.append(e,r),Xo(e,r),t}function F(t,e){t!==null&&t.before(e)}const Gu=["touchstart","touchmove"];function Vu(t){return Gu.includes(t)}function Xt(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function Ou(t,e){return $u(t,e)}const Uo=new Map;function $u(t,{target:e,anchor:r,props:o={},events:a,context:i,intro:s=!0}){Su();var c=new Set,f=u=>{for(var h=0;h<u.length;h++){var g=u[h];if(!c.has(g)){c.add(g);var p=Vu(g);e.addEventListener(g,ki,{passive:p});var x=Uo.get(g);x===void 0?(document.addEventListener(g,ki,{passive:p}),Uo.set(g,1)):Uo.set(g,x+1)}}};f(ji(Fl)),os.add(f);var l=void 0,d=Nu(()=>{var u=r??e.appendChild(Lr());return lu(u,{pending:()=>{}},h=>{if(i){we({});var g=an;g.c=i}a&&(o.$$events=a),l=t(h,o)||{},i&&be()}),()=>{var p;for(var h of c){e.removeEventListener(h,ki);var g=Uo.get(h);--g===0?(document.removeEventListener(h,ki),Uo.delete(h)):Uo.set(h,g)}os.delete(f),u!==r&&((p=u.parentNode)==null||p.removeChild(u))}});return is.set(l,d),l}let is=new WeakMap;function ju(t,e){const r=is.get(t);return r?(is.delete(t),r(e)):(dt&&(mr in t?Xf():jf()),Promise.resolve())}function qu(t){return t.toString=()=>(kf(),""),t}class Dl{constructor(e,r=!0){Wr(this,"anchor");ue(this,hr,new Map);ue(this,Ar,new Map);ue(this,Vn,new Map);ue(this,Io,new Set);ue(this,Vi,!0);ue(this,Oi,()=>{var e=de;if(O(this,hr).has(e)){var r=O(this,hr).get(e),o=O(this,Ar).get(r);if(o)es(o),O(this,Io).delete(r);else{var a=O(this,Vn).get(r);a&&(O(this,Ar).set(r,a.effect),O(this,Vn).delete(r),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),o=a.effect)}for(const[i,s]of O(this,hr)){if(O(this,hr).delete(i),i===e)break;const c=O(this,Vn).get(s);c&&(Sn(c.effect),O(this,Vn).delete(s))}for(const[i,s]of O(this,Ar)){if(i===r||O(this,Io).has(i))continue;const c=()=>{if(Array.from(O(this,hr).values()).includes(i)){var l=document.createDocumentFragment();kl(s,l),l.append(Lr()),O(this,Vn).set(i,{effect:s,fragment:l})}else Sn(s);O(this,Io).delete(i),O(this,Ar).delete(i)};O(this,Vi)||!o?(O(this,Io).add(i),go(s,c,!1)):c()}}});ue(this,ka,e=>{O(this,hr).delete(e);const r=Array.from(O(this,hr).values());for(const[o,a]of O(this,Vn))r.includes(o)||(Sn(a.effect),O(this,Vn).delete(o))});this.anchor=e,qt(this,Vi,r)}ensure(e,r){var o=de,a=xl();if(r&&!O(this,Ar).has(e)&&!O(this,Vn).has(e))if(a){var i=document.createDocumentFragment(),s=Lr();i.append(s),O(this,Vn).set(e,{effect:qn(()=>r(s)),fragment:i})}else O(this,Ar).set(e,qn(()=>r(this.anchor)));if(O(this,hr).set(o,e),a){for(const[c,f]of O(this,Ar))c===e?o.skipped_effects.delete(f):o.skipped_effects.add(f);for(const[c,f]of O(this,Vn))c===e?o.skipped_effects.delete(f.effect):o.skipped_effects.add(f.effect);o.oncommit(O(this,Oi)),o.ondiscard(O(this,ka))}else O(this,Oi).call(this)}}hr=new WeakMap,Ar=new WeakMap,Vn=new WeakMap,Io=new WeakMap,Vi=new WeakMap,Oi=new WeakMap,ka=new WeakMap;function Xu(t,e,...r){var o=new Dl(t);ra(()=>{const a=e()??null;dt&&a==null&&Pf(),o.ensure(a,a&&(i=>a(i,...r)))},io)}function Uu(t,e){const r=(o,...a)=>{var i=Bo;Ki(t);try{return e(o,...a)}finally{Ki(i)}};return qu(r),r}if(dt){let t=function(e){if(!(e in globalThis)){let r;Object.defineProperty(globalThis,e,{configurable:!0,get:()=>{if(r!==void 0)return r;Lf(e)},set:o=>{r=o}})}};t("$state"),t("$effect"),t("$derived"),t("$inspect"),t("$props"),t("$bindable")}function $(t,e,r){return(...o)=>{const a=t(...o);var i=a.nodeType===Cf?a.firstChild:a;return Bl(i,e,r),a}}function Yu(t,e,r){t.__svelte_meta={parent:Fr,loc:{file:e,line:r[0],column:r[1]}},r[2]&&Bl(t.firstChild,e,r[2])}function Bl(t,e,r){for(var o=0;t&&o<r.length;)t.nodeType===Ef&&Yu(t,e,r[o++]),t=t.nextSibling}function Te(t){t&&Hf(t[D]??"a component",t.name)}function Ne(){const t=an==null?void 0:an.function;function e(r){Nf(r,t[D])}return{$destroy:()=>e("$destroy()"),$on:()=>e("$on(...)"),$set:()=>e("$set(...)")}}function Zu(t,...e){(typeof t!="object"||!(t instanceof Node))&&Js();for(let r of e)typeof r!="function"&&Js()}function X(t,e,r=!1){var o=new Dl(t),a=r?io:0;function i(s,c){o.ensure(s,c)}ra(()=>{var s=!1;e((c,f=!0)=>{s=!0,i(f,c)}),s||i(!1,null)},a)}function br(t,e){return e}function Ku(t,e,r){for(var o=[],a=e.length,i,s=e.length,c=0;c<a;c++){let u=e[c];go(u,()=>{if(i){if(i.pending.delete(u),i.done.add(u),i.pending.size===0){var h=t.outrogroups;as(ji(i.done)),h.delete(i),h.size===0&&(t.outrogroups=null)}}else s-=1},!1)}if(s===0){var f=o.length===0&&r!==null;if(f){var l=r,d=l.parentNode;Eu(d),d.append(l),t.items.clear()}as(e,!f)}else i={pending:new Set(e),done:new Set},(t.outrogroups??(t.outrogroups=new Set)).add(i)}function as(t,e=!0){for(var r=0;r<t.length;r++)Sn(t[r],e)}var Gl;function Be(t,e,r,o,a,i=null){var s=t,c=new Map,f=(e&4)!==0;if(f){var l=t;s=l.appendChild(Lr())}var d=null,u=pu(()=>{var y=r();return mi(y)?y:y==null?[]:ji(y)}),h,g=!0;function p(){_.fallback=d,Qu(_,h,s,e,o),d!==null&&(h.length===0?(d.f&zr)===0?es(d):(d.f^=zr,Ti(d,null,s)):go(d,()=>{d=null}))}var x=ra(()=>{h=n(u);for(var y=h.length,S=new Set,T=de,N=xl(),b=0;b<y;b+=1){var k=h[b],M=o(k,b),E=g?null:c.get(M);E?(E.v&&$o(E.v,k),E.i&&$o(E.i,b),N&&T.skipped_effects.delete(E.e)):(E=Ju(c,g?s:Gl??(Gl=Lr()),k,M,b,a,e,r),g||(E.e.f|=zr),c.set(M,E)),S.add(M)}if(y===0&&i&&!d&&(g?d=qn(()=>i(s)):(d=qn(()=>i(Gl??(Gl=Lr()))),d.f|=zr)),!g)if(N){for(const[P,H]of c)S.has(P)||T.skipped_effects.add(H.e);T.oncommit(p),T.ondiscard(()=>{})}else p();n(u)}),_={effect:x,items:c,outrogroups:null,fallback:d};g=!1}function Qu(t,e,r,o,a){var H,R,W,G,L,Q,K,U,V;var i=(o&8)!==0,s=e.length,c=t.items,f=t.effect.first,l,d=null,u,h=[],g=[],p,x,_,y;if(i)for(y=0;y<s;y+=1)p=e[y],x=a(p,y),_=c.get(x).e,(_.f&zr)===0&&((R=(H=_.nodes)==null?void 0:H.a)==null||R.measure(),(u??(u=new Set)).add(_));for(y=0;y<s;y+=1){if(p=e[y],x=a(p,y),_=c.get(x).e,t.outrogroups!==null)for(const Z of t.outrogroups)Z.pending.delete(_),Z.done.delete(_);if((_.f&zr)!==0)if(_.f^=zr,_===f)Ti(_,null,r);else{var S=d?d.next:f;_===t.effect.last&&(t.effect.last=_.prev),_.prev&&(_.prev.next=_.next),_.next&&(_.next.prev=_.prev),Qr(t,d,_),Qr(t,_,S),Ti(_,S,r),d=_,h=[],g=[],f=d.next;continue}if((_.f&Ln)!==0&&(es(_),i&&((G=(W=_.nodes)==null?void 0:W.a)==null||G.unfix(),(u??(u=new Set)).delete(_))),_!==f){if(l!==void 0&&l.has(_)){if(h.length<g.length){var T=g[0],N;d=T.prev;var b=h[0],k=h[h.length-1];for(N=0;N<h.length;N+=1)Ti(h[N],T,r);for(N=0;N<g.length;N+=1)l.delete(g[N]);Qr(t,b.prev,k.next),Qr(t,d,b),Qr(t,k,T),f=T,d=k,y-=1,h=[],g=[]}else l.delete(_),Ti(_,f,r),Qr(t,_.prev,_.next),Qr(t,_,d===null?t.effect.first:d.next),Qr(t,d,_),d=_;continue}for(h=[],g=[];f!==null&&f!==_;)(l??(l=new Set)).add(f),g.push(f),f=f.next;if(f===null)continue}(_.f&zr)===0&&h.push(_),d=_,f=_.next}if(t.outrogroups!==null){for(const Z of t.outrogroups)Z.pending.size===0&&(as(ji(Z.done)),(L=t.outrogroups)==null||L.delete(Z));t.outrogroups.size===0&&(t.outrogroups=null)}if(f!==null||l!==void 0){var M=[];if(l!==void 0)for(_ of l)(_.f&Ln)===0&&M.push(_);for(;f!==null;)(f.f&Ln)===0&&f!==t.fallback&&M.push(f),f=f.next;var E=M.length;if(E>0){var P=(o&4)!==0&&s===0?r:null;if(i){for(y=0;y<E;y+=1)(K=(Q=M[y].nodes)==null?void 0:Q.a)==null||K.measure();for(y=0;y<E;y+=1)(V=(U=M[y].nodes)==null?void 0:U.a)==null||V.fix()}Ku(t,M,P)}}i&&Go(()=>{var Z,ht;if(u!==void 0)for(_ of u)(ht=(Z=_.nodes)==null?void 0:Z.a)==null||ht.apply()})}function Ju(t,e,r,o,a,i,s,c){var f=(s&1)!==0?(s&16)===0?yu(r,!1,!1):uo(r):null,l=(s&2)!==0?uo(a):null;return dt&&f&&(f.trace=()=>{c()[(l==null?void 0:l.v)??a]}),{v:f,i:l,e:qn(()=>(i(e,f??r,l??a,c),()=>{t.delete(o)}))}}function Ti(t,e,r){if(t.nodes)for(var o=t.nodes.start,a=t.nodes.end,i=e&&(e.f&zr)===0?e.nodes.start:r;o!==null;){var s=bi(o);if(i.before(o),o===a)return;o=s}}function Qr(t,e,r){e===null?t.effect.first=r:e.next=r,r===null?t.effect.last=e:r.prev=e}function sa(t,e,r){wl(()=>{var o=aa(()=>e(t,r==null?void 0:r())||{});if(r&&(o!=null&&o.update)){var a=!1,i={};na(()=>{var s=r();Pu(s),a&&el(i,s)&&(i=s,o.update(s))}),a=!0}if(o!=null&&o.destroy)return()=>o.destroy()})}const Vl=[...` 	
\r\f \v\uFEFF`];function td(t,e,r){var o=t==null?"":""+t;if(e&&(o=o?o+" "+e:e),r){for(var a in r)if(r[a])o=o?o+" "+a:a;else if(o.length)for(var i=a.length,s=0;(s=o.indexOf(a,s))>=0;){var c=s+i;(s===0||Vl.includes(o[s-1]))&&(c===o.length||Vl.includes(o[c]))?o=(s===0?"":o.substring(0,s))+o.substring(c+1):s=c}}return o===""?null:o}function Ol(t,e=!1){var r=e?" !important;":";",o="";for(var a in t){var i=t[a];i!=null&&i!==""&&(o+=" "+a+": "+i+r)}return o}function ss(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function ed(t,e){if(e){var r="",o,a;if(Array.isArray(e)?(o=e[0],a=e[1]):o=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,s=0,c=!1,f=[];o&&f.push(...Object.keys(o).map(ss)),a&&f.push(...Object.keys(a).map(ss));var l=0,d=-1;const x=t.length;for(var u=0;u<x;u++){var h=t[u];if(c?h==="/"&&t[u-1]==="*"&&(c=!1):i?i===h&&(i=!1):h==="/"&&t[u+1]==="*"?c=!0:h==='"'||h==="'"?i=h:h==="("?s++:h===")"&&s--,!c&&i===!1&&s===0){if(h===":"&&d===-1)d=u;else if(h===";"||u===x-1){if(d!==-1){var g=ss(t.substring(l,d).trim());if(!f.includes(g)){h!==";"&&u++;var p=t.substring(l,u).trim();r+=" "+p+";"}}l=u+1,d=-1}}}}return o&&(r+=Ol(o)),a&&(r+=Ol(a,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function Hn(t,e,r,o,a,i){var s=t.__className;if(s!==r||s===void 0){var c=td(r,o,i);c==null?t.removeAttribute("class"):t.className=c,t.__className=r}else if(i&&a!==i)for(var f in i){var l=!!i[f];(a==null||l!==!!a[f])&&t.classList.toggle(f,l)}return i}function ls(t,e={},r,o){for(var a in r){var i=r[a];e[a]!==i&&(r[a]==null?t.style.removeProperty(a):t.style.setProperty(a,i,o))}}function We(t,e,r,o){var a=t.__style;if(a!==e){var i=ed(e,o);i==null?t.removeAttribute("style"):t.style.cssText=i,t.__style=e}else o&&(Array.isArray(o)?(ls(t,r==null?void 0:r[0],o[0]),ls(t,r==null?void 0:r[1],o[1],"important")):ls(t,r,o));return o}function cs(t,e,r=!1){if(t.multiple){if(e==null)return;if(!mi(e))return qf();for(var o of t.options)o.selected=e.includes(jl(o));return}for(o of t.options){var a=jl(o);if(_u(a,e)){o.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function $l(t){var e=new MutationObserver(()=>{cs(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ts(()=>{e.disconnect()})}function jl(t){return"__value"in t?t.__value:t.value}const nd=Symbol("is custom element"),rd=Symbol("is html");function od(t,e){var r=fs(t);r.value===(r.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function id(t,e){var r=fs(t);r.checked!==(r.checked=e??void 0)&&(t.checked=e)}function A(t,e,r,o){var a=fs(t);a[e]!==(a[e]=r)&&(e==="loading"&&(t[Sf]=r),r==null?t.removeAttribute(e):typeof r!="string"&&ad(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function fs(t){return t.__attributes??(t.__attributes={[nd]:t.nodeName.includes("-"),[rd]:t.namespaceURI===yf})}var ql=new Map;function ad(t){var e=t.getAttribute("is")||t.nodeName,r=ql.get(e);if(r)return r;ql.set(e,r=[]);for(var o,a=t,i=Element.prototype;i!==a;){o=qs(a);for(var s in o)o[s].set&&r.push(s);a=qi(a)}return r}function Xl(t,e){return t===e||(t==null?void 0:t[mr])===e}function yo(t={},e,r,o){return wl(()=>{var a,i;return na(()=>{a=i,i=[],aa(()=>{t!==r(...i)&&(e(t,...i),a&&Xl(r(...a),t)&&e(null,...a))})}),()=>{Go(()=>{i&&Xl(r(...i),t)&&e(null,...i)})}}),t}function Gn(t,e,r,o){var a=o,i=!0,s=()=>(i&&(i=!1,a=o),a),c;c=t[e],c===void 0&&o!==void 0&&(c=s());var f;return f=()=>{var l=t[e];return l===void 0?s():(i=!0,l)},f}function bn(t,e){na(()=>{const r=new Map,o=t(),a=mi(o)?o:o==null?[]:Array.from(o),i=a.length;for(let s=0;s<i;s++){const c=e(a[s],s);if(r.has(c)){const f=String(r.get(c)),l=String(s);let d=String(c);d.startsWith("[object ")&&(d=null),Wf(f,l,d)}r.set(c,s)}})}function Ul(t,...e){return aa(()=>{try{let r=!1;const o=[];for(const a of e)a&&typeof a=="object"&&mr in a?(o.push(Jf(a,!0)),r=!0):o.push(a);r&&(Of(t),console.log("%c[snapshot]","color: grey",...o))}catch{}}),e}const sd="5";typeof window<"u"&&((lf=window.__svelte??(window.__svelte={})).v??(lf.v=new Set)).add(sd);function Yl(t){var o,a;const e=((o=t==null?void 0:t.shapes)==null?void 0:o.lineWidth)??1.5,r=((a=t==null?void 0:t.colors)==null?void 0:a.intervalLine)??"#475569";return{width:Math.max(4,Math.round(e*3)),height:Math.max(6,Math.round(e*4)),color:r,opacity:1}}function la(t,e,r,o){const{width:a,height:i}=o,s=i/2;return t==="left"?`M ${e} ${r} L ${e+a} ${r-s} L ${e+a} ${r+s} Z`:`M ${e} ${r} L ${e-a} ${r-s} L ${e-a} ${r+s} Z`}const Zl=[1,5,2,2.5,4,3],Mr=[.001,.002,.005,.01,.02,.05,.1,.15,.2,.25,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.75,2,2.5,3,4,5,6,7,8,10,12,15,20,25,30,40,50,75,100,150,200,300,500,750,1e3];function ca(t,e){return e?ld(t):cd(t)}function ld(t){if(t[0]<=0||t[1]<=0)return[.1,10];if(t[0]>=t[1])return t;let e=Mr[0];for(const o of Mr)if(o<=t[0])e=o;else break;t[0]<Mr[0]&&(e=Math.pow(10,Math.floor(Math.log10(t[0]))));let r=Mr[Mr.length-1];for(let o=Mr.length-1;o>=0&&Mr[o]>=t[1];o--)r=Mr[o];return t[1]>Mr[Mr.length-1]&&(r=Math.pow(10,Math.ceil(Math.log10(t[1])))),[e,r]}function cd(t){const e=t[1]-t[0];if(e===0)return t;if(e<0)return[t[1],t[0]];const r=Math.pow(10,Math.floor(Math.log10(e)));let o=r,a=1/0;for(const c of Zl)for(const f of[.1,1,10]){const l=c*r*f;if(l<=0)continue;const d=Math.floor(t[0]/l)*l,g=(Math.ceil(t[1]/l)*l-d)/e-1;g>=0&&g<a&&(a=g,o=l)}const i=Math.floor(t[0]/o)*o,s=Math.ceil(t[1]/o)*o;return[Math.round(i*1e10)/1e10,Math.round(s*1e10)/1e10]}function Un(t,e,r,o,a=!1){if(t&&r in t){const i=t[r];if(typeof i=="number"&&Number.isFinite(i)&&(!a||i>0))return i}return r===o&&e!=null&&Number.isFinite(e)&&(!a||e>0)?e:null}const An=12;function Kl(t){const{rows:e,config:r,scale:o,nullValue:a,forestWidth:i,pointSize:s,effects:c=[],pointCol:f,lowerCol:l,upperCol:d}=t,u=fd(e,r,o,a,c,f,l,d),h=ud(u,r,o,i,s),g=Ql(u,r,o,a);return{axisLimits:u,plotRegion:h,ticks:g}}function fd(t,e,r,o,a=[],i,s,c){const f=e.rangeMin!=null,l=e.rangeMax!=null;if(f&&l)return[e.rangeMin,e.rangeMax];const d=[],u=r==="log",h=i||"point";for(const Z of t){const ht=Un(Z.metadata,void 0,h,"point",u);ht!=null&&d.push(ht);for(const rt of a){const st=Un(Z.metadata,void 0,rt.pointCol,"point",u);st!=null&&d.push(st)}}if(d.length===0)return r==="log"?[.1,10]:[-1,1];let g=Math.min(...d),p=Math.max(...d);(e.includeNull??!0)&&(g=Math.min(g,o),p=Math.max(p,o));const _=g,y=p;let S;if(u){const Z=Math.max(g,.001),ht=Math.max(p,.001);S=Math.log(ht)-Math.log(Z)}else S=p-g;if(S===0||!Number.isFinite(S)){const Z=d[0];if(u)return ca([Z/2,Z*2],!0);{const ht=Math.max(1,Math.abs(Z)*.1);return ca([Z-ht,Z+ht],!1)}}const[T,N]=ca([g,p],u),b=e.ciClipFactor??2;let k=T,M=N;const E=[],P=[],H=s||"lower",R=c||"upper";for(const Z of t){const ht=Un(Z.metadata,void 0,H,"lower",u);ht!=null&&E.push(ht);const rt=Un(Z.metadata,void 0,R,"upper",u);rt!=null&&P.push(rt);for(const st of a){const ot=Un(Z.metadata,void 0,st.lowerCol,"lower",u);ot!=null&&E.push(ot);const pt=Un(Z.metadata,void 0,st.upperCol,"upper",u);pt!=null&&P.push(pt)}}let W,G;if(u)W=k/b,G=M*b;else{const Z=M-k;W=k-Z*b,G=M+Z*b}let L=!1,Q=!1;for(const Z of E)Z>=W?k=Math.min(k,Z):L=!0;for(const Z of P)Z<=G?M=Math.max(M,Z):Q=!0;if(L&&(k=Math.min(k,W)),Q&&(M=Math.max(M,G)),e.symmetric===!0&&!f&&!l)if(r==="log"){const Z=Math.log(o),ht=Math.max(Math.abs(Math.log(Math.max(_,.001))-Z),Math.abs(Math.log(y)-Z));k=Math.exp(Z-ht),M=Math.exp(Z+ht)}else{const Z=Math.max(Math.abs(_-o),Math.abs(y-o));k=o-Z,M=o+Z}let U=f?e.rangeMin:k,V=l?e.rangeMax:M;return ca([U,V],r==="log")}function ud(t,e,r,o,a){if(!(e.markerMargin??!0)||o<=0)return t;const s=o-2*An;if(s<=0)return t;if(r==="log"){const l=Math.log(Math.max(t[0],.001)),d=Math.log(Math.max(t[1],.001)),u=d-l,h=a/2*(u/s),g=Math.min(h,.5);return[Math.exp(l-g),Math.exp(d+g)]}const c=t[1]-t[0],f=a/2*(c/s);return[t[0]-f,t[1]+f]}function Ql(t,e,r,o){const[a,i]=t,s=o>=a&&o<=i,c=(e.nullTick??!0)&&s;if(e.tickValues&&e.tickValues.length>0){let d=e.tickValues.filter(u=>u>=a&&u<=i);return c&&!d.includes(o)&&(d=[...d,o].sort((u,h)=>u-h)),d}const f=e.tickCount??5;let l=r==="log"?hd(t,f):dd(t,f);return c&&!l.includes(o)&&(l=[...l,o].sort((d,u)=>d-u)),l}function dd(t,e){const[r,o]=t,a=o-r;if(a===0)return[r];const i=a/Math.max(e-1,1),s=Math.pow(10,Math.floor(Math.log10(i)));let c=s,f=1/0;for(const u of Zl){const h=u*s,g=Math.floor(a/h)+1,p=Math.abs(g-e);p<f&&(f=p,c=h);const x=u*s/10;if(x>0){const _=Math.floor(a/x)+1,y=Math.abs(_-e);y<f&&(f=y,c=x)}}const l=Math.ceil(r/c)*c,d=[];for(let u=l;u<=o+c*.001;u+=c){const h=Math.round(u*1e10)/1e10;h>=r&&h<=o&&d.push(h)}return d.length<2&&(d.includes(r)||d.unshift(r),d.includes(o)||d.push(o)),d}function hd(t,e){const[r,o]=t,i=[.01,.02,.05,.1,.15,.2,.25,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.75,2,2.5,3,4,5,6,7,8,10,12,15,20,25,30,40,50,75,100,150,200,500,1e3].filter(f=>f>=r&&f<=o);if(i.length<=e)return i;const s=[1,.1,10,100,.5,2,5,.2,.25,1.5,3,4,20,50],c=[];for(const f of s)i.includes(f)&&c.length<e&&c.push(f);if(c.length<e){const f=i.filter(d=>!c.includes(d)),l=Math.max(1,Math.floor(f.length/(e-c.length)));for(let d=0;d<f.length&&c.length<e;d+=l)c.push(f[d])}return c.sort((f,l)=>f-l)}const gd=.05,pd=.12,vd=.16,md=.22,Yn={RENDERING_BUFFER:4,DEFAULT_AXIS_GAP:12},Sr={FONT_SCALE:.8,PADDING:4,GAP:6},Er={DEFAULT_COLUMN_WIDTH:100,AXIS_HEIGHT:32,AXIS_LABEL_HEIGHT:32,BOTTOM_MARGIN:16,MIN_FOREST_WIDTH:200,DEFAULT_WIDTH:800},Cr={TITLE_HEIGHT:28,SUBTITLE_HEIGHT:20,CAPTION_HEIGHT:16,FOOTNOTE_HEIGHT:14,DEFAULT_FONT_SIZE:14,REM_BASE:16,PT_TO_PX:96/72},Se={INDENT_PER_LEVEL:12,TEXT_PADDING:10,DEFAULT_TICK_COUNT:5},yd={OVERALL_ROW_HEIGHT_MULTIPLIER:1.5},Zn={MIN:60,MAX:600,LABEL_MAX:400,VISUAL_MIN:{sparkline:92,bar:100,stars:84,range:84,badge:74,forest:200,viz_bar:150,viz_boxplot:150,viz_violin:150}},Jr={CHEVRON_WIDTH:12,GAP:6,SAFETY_MARGIN:8},Jl={SPACING:6},us={EDGE_THRESHOLD:35,MIN_TICK_SPACING:50},Ni={success:"#16a34a",warning:"#d97706",error:"#dc2626",info:"#2563eb"};function tc(t,e){return e<=1?0:-((e-1)*Jl.SPACING)/2+t*Jl.SPACING}Ue[D]="src/components/forest/RowInterval.svelte";var xd=$(Pt('<polygon stroke-width="1" class="point-estimate svelte-1wct561"></polygon>'),Ue[D],[[251,10]]),_d=$(Pt("<path></path>"),Ue[D],[[276,12]]),wd=$(Pt("<line></line>"),Ue[D],[[282,12]]),bd=$(Pt("<path></path>"),Ue[D],[[293,12]]),Md=$(Pt("<line></line>"),Ue[D],[[299,12]]),Sd=$(Pt('<circle class="point-estimate svelte-1wct561"></circle>'),Ue[D],[[314,12]]),Ed=$(Pt('<polygon class="point-estimate svelte-1wct561"></polygon>'),Ue[D],[[329,12]]),Cd=$(Pt('<polygon class="point-estimate svelte-1wct561"></polygon>'),Ue[D],[[341,12]]),kd=$(Pt('<rect class="point-estimate svelte-1wct561"></rect>'),Ue[D],[[349,12]]),Td=$(Pt("<line></line><!><!><!>",1),Ue[D],[[266,10]]),Nd=$(Pt('<g class="interval-row svelte-1wct561" role="button" tabindex="0"></g>'),Ue[D],[[218,2]]);function Ue(t,e){Te(new.target),we(e,!0,Ue);let r=Gn(e,"weightCol",3,null),o=Gn(e,"isLog",3,!1),a=Gn(e,"forestColumnOptions",3,null);const i=v(m(()=>Yl(e.theme)),"arrowConfig"),s=v(m(()=>{if(!a())return[];const M=w(a().scale,"log")||o();if(a().point&&a().lower&&a().upper){const E=e.row.metadata[a().point],P=e.row.metadata[a().lower],H=e.row.metadata[a().upper],R=!M||ce(E,null,!1)&&E>0?E:null,W=!M||ce(P,null,!1)&&P>0?P:null,G=!M||ce(H,null,!1)&&H>0?H:null;return[{id:"inline",pointCol:a().point,lowerCol:a().lower,upperCol:a().upper,label:null,color:null,shape:null,opacity:null,point:R,lower:W,upper:G}]}return a().effects&&a().effects.length>0?a().effects.map(E=>({...E,point:Un(e.row.metadata,null,E.pointCol,"point",M),lower:Un(e.row.metadata,null,E.lowerCol,"lower",M),upper:Un(e.row.metadata,null,E.upperCol,"upper",M)})):[]}),"effectsToRender"),c=v(m(()=>n(s).some(M=>ce(M.point,null,!1)&&!Number.isNaN(M.point)&&ce(M.lower,null,!1)&&!Number.isNaN(M.lower)&&ce(M.upper,null,!1)&&!Number.isNaN(M.upper))),"hasAnyValidValues"),f=v(m(()=>{var M;return w((M=e.row.style)==null?void 0:M.type,"summary")}),"isSummaryRow");function l(M){return e.clipBounds?M<e.clipBounds[0]:e.xScale(M)<0}function d(M){return e.clipBounds?M>e.clipBounds[1]:e.xScale(M)>e.layout.forestWidth}function u(M){if(!e.clipBounds)return Math.max(0,Math.min(e.layout.forestWidth,e.xScale(M)));const E=Math.max(e.clipBounds[0],Math.min(e.clipBounds[1],M));return e.xScale(E)}const h=v(m(()=>e.clipBounds?e.xScale(e.clipBounds[0]):An),"leftArrowX"),g=v(m(()=>e.clipBounds?e.xScale(e.clipBounds[1]):e.layout.forestWidth-An),"rightArrowX"),p=v(m(()=>{var M;return((M=e.theme)==null?void 0:M.shapes.summaryHeight)??10}),"diamondHeight"),x=v(m(()=>n(p)/2),"halfDiamondHeight"),_=v(m(()=>{var M;return((M=e.theme)==null?void 0:M.shapes.pointSize)??6}),"basePointSize");function y(M){var P;if(M&&ce((P=e.row.markerStyle)==null?void 0:P.size,null,!1))return n(_)*e.row.markerStyle.size;const E=r()?e.row.metadata[r()]:void 0;if(E){const H=.5+Math.sqrt(E/100)*1.5;return Math.min(Math.max(n(_)*H,3),n(_)*2.5)}return n(_)}function S(M,E){var U,V,Z,ht;const P=w(E,0),H=e.row.markerStyle,R=(U=e.theme)==null?void 0:U.shapes.effectColors,W=(V=e.theme)==null?void 0:V.shapes.markerShapes,G=["square","circle","diamond","triangle"];let L;P&&(H!=null&&H.color)?L=H.color:M.color?L=M.color:R&&R.length>0?L=R[E%R.length]:L=((Z=e.theme)==null?void 0:Z.colors.interval)??((ht=e.theme)==null?void 0:ht.colors.primary)??"#2563eb";let Q;P&&(H!=null&&H.shape)?Q=H.shape:M.shape?Q=M.shape:W&&W.length>0?Q=W[E%W.length]:Q=G[E%G.length];let K;return P&&ce(H==null?void 0:H.opacity,null,!1)?K=H.opacity:ce(M.opacity,null,!1)?K=M.opacity:K=1,{color:L,shape:Q,opacity:K}}var T={...Ne()},N=St(),b=vt(N);{var k=M=>{var E=Nd();E.__click=function(...P){sr(()=>e.onRowClick,this,P,Ue,[222,13])},E.__keydown=P=>{var H;return w(P.key,"Enter")&&((H=e.onRowClick)==null?void 0:H.call(e))},z(()=>Be(E,21,()=>n(s),br,(P,H,R)=>{const W=v(m(()=>ce(n(H).point,null,!1)&&!Number.isNaN(n(H).point)&&ce(n(H).lower,null,!1)&&!Number.isNaN(n(H).lower)&&ce(n(H).upper,null,!1)&&!Number.isNaN(n(H).upper)),"hasValidEffect");n(W);var G=St(),L=vt(G);{var Q=K=>{const U=v(m(()=>e.yPosition+tc(R,n(s).length)),"effectY");n(U);const V=v(m(()=>e.xScale(n(H).lower)),"x1");n(V);const Z=v(m(()=>e.xScale(n(H).upper)),"x2");n(Z);const ht=v(m(()=>e.xScale(n(H).point)),"cx");n(ht);const rt=v(m(()=>S(n(H),R)),"style");n(rt);const st=v(m(()=>y(w(R,0))),"pointSize");n(st);const ot=v(m(()=>{var Bt;return((Bt=e.theme)==null?void 0:Bt.colors.intervalLine)??"#475569"}),"lineColor");n(ot);var pt=St(),te=vt(pt);{var ie=Bt=>{const Fe=v(m(()=>[`${n(V)},${n(U)}`,`${n(ht)},${n(U)-n(x)}`,`${n(Z)},${n(U)}`,`${n(ht)},${n(U)+n(x)}`].join(" ")),"summaryDiamondPoints");n(Fe);var me=xd();J(()=>{var ne;A(me,"points",n(Fe)),A(me,"fill",n(rt).color),A(me,"fill-opacity",n(rt).opacity),A(me,"stroke",((ne=e.theme)==null?void 0:ne.colors.summaryBorder)??"#1d4ed8")}),F(Bt,me)},xt=Bt=>{const Fe=v(m(()=>l(n(H).lower)),"clippedL");n(Fe);const me=v(m(()=>d(n(H).upper)),"clippedR");n(me);const ne=v(m(()=>u(n(H).lower)),"clampedX1");n(ne);const tn=v(m(()=>u(n(H).upper)),"clampedX2");n(tn);const Ot=v(m(()=>n(i).height/2),"whiskerHalfHeight");n(Ot);const zt=v(m(()=>u(n(H).point)),"clampedCx");n(zt);var fe=Td(),_t=vt(fe),Ut=it(_t);{var $t=Tt=>{var Mt=_d();J(re=>{A(Mt,"d",re),A(Mt,"fill",n(i).color),A(Mt,"fill-opacity",n(i).opacity)},[()=>la("left",n(h),n(U),n(i))]),F(Tt,Mt)},Ze=Tt=>{var Mt=wd();J(()=>{var re;A(Mt,"x1",n(ne)),A(Mt,"x2",n(ne)),A(Mt,"y1",n(U)-n(Ot)),A(Mt,"y2",n(U)+n(Ot)),A(Mt,"stroke",n(ot)),A(Mt,"stroke-width",((re=e.theme)==null?void 0:re.shapes.lineWidth)??1.5)}),F(Tt,Mt)};z(()=>X(Ut,Tt=>{n(Fe)?Tt($t):Tt(Ze,!1)}),"if",Ue,275,10)}var gr=it(Ut);{var rr=Tt=>{var Mt=bd();J(re=>{A(Mt,"d",re),A(Mt,"fill",n(i).color),A(Mt,"fill-opacity",n(i).opacity)},[()=>la("right",n(g),n(U),n(i))]),F(Tt,Mt)},Et=Tt=>{var Mt=Md();J(()=>{var re;A(Mt,"x1",n(tn)),A(Mt,"x2",n(tn)),A(Mt,"y1",n(U)-n(Ot)),A(Mt,"y2",n(U)+n(Ot)),A(Mt,"stroke",n(ot)),A(Mt,"stroke-width",((re=e.theme)==null?void 0:re.shapes.lineWidth)??1.5)}),F(Tt,Mt)};z(()=>X(gr,Tt=>{n(me)?Tt(rr):Tt(Et,!1)}),"if",Ue,292,10)}var ut=it(gr);{var Oe=Tt=>{var Mt=Sd();J(()=>{A(Mt,"cx",n(zt)),A(Mt,"cy",n(U)),A(Mt,"r",n(st)),A(Mt,"fill",n(rt).color),A(Mt,"fill-opacity",n(rt).opacity)}),F(Tt,Mt)},Pe=Tt=>{var Mt=St(),re=vt(Mt);{var $e=Re=>{const Ke=v(m(()=>[`${n(zt)},${n(U)-n(st)}`,`${n(zt)+n(st)},${n(U)}`,`${n(zt)},${n(U)+n(st)}`,`${n(zt)-n(st)},${n(U)}`].join(" ")),"diamondPts");n(Ke);var sn=Ed();J(()=>{A(sn,"points",n(Ke)),A(sn,"fill",n(rt).color),A(sn,"fill-opacity",n(rt).opacity)}),F(Re,sn)},Qe=Re=>{var Ke=St(),sn=vt(Ke);{var On=je=>{const en=v(m(()=>[`${n(zt)},${n(U)-n(st)}`,`${n(zt)+n(st)},${n(U)+n(st)}`,`${n(zt)-n(st)},${n(U)+n(st)}`].join(" ")),"trianglePts");n(en);var Mn=Cd();J(()=>{A(Mn,"points",n(en)),A(Mn,"fill",n(rt).color),A(Mn,"fill-opacity",n(rt).opacity)}),F(je,Mn)},Le=je=>{var en=kd();J(()=>{A(en,"x",n(zt)-n(st)),A(en,"y",n(U)-n(st)),A(en,"width",n(st)*2),A(en,"height",n(st)*2),A(en,"fill",n(rt).color),A(en,"fill-opacity",n(rt).opacity)}),F(je,en)};z(()=>X(sn,je=>{w(n(rt).shape,"triangle")?je(On):je(Le,!1)},!0),"if",Ue,335,10)}F(Re,Ke)};z(()=>X(re,Re=>{w(n(rt).shape,"diamond")?Re($e):Re(Qe,!1)},!0),"if",Ue,322,10)}F(Tt,Mt)};z(()=>X(ut,Tt=>{w(n(rt).shape,"circle")?Tt(Oe):Tt(Pe,!1)}),"if",Ue,313,10)}J(()=>{var Tt;A(_t,"x1",n(ne)),A(_t,"x2",n(tn)),A(_t,"y1",n(U)),A(_t,"y2",n(U)),A(_t,"stroke",n(ot)),A(_t,"stroke-width",((Tt=e.theme)==null?void 0:Tt.shapes.lineWidth)??1.5)}),F(Bt,fe)};z(()=>X(te,Bt=>{n(f)?Bt(ie):Bt(xt,!1)}),"if",Ue,240,8)}F(K,pt)};z(()=>X(L,K=>{n(W)&&K(Q)}),"if",Ue,231,6)}F(P,G)}),"each",Ue,227,4),Bn("mouseenter",E,P=>{var H;return(H=e.onRowHover)==null?void 0:H.call(e,!0,P)}),Bn("mouseleave",E,P=>{var H;return(H=e.onRowHover)==null?void 0:H.call(e,!1,P)}),F(M,E)};z(()=>X(b,M=>{n(c)&&M(k)}),"if",Ue,217,0)}return F(t,N),be(T)}mo(["click","keydown"]),Wn[D]="src/components/forest/EffectAxis.svelte";function Hd(t){return Math.abs(t)<.01?"0":Math.abs(t)>=100?t.toFixed(0):Math.abs(t)>=10?t.toFixed(1):t.toFixed(2)}var Ad=$(Pt('<line stroke="var(--wf-border, #e2e8f0)" stroke-width="1" opacity="0.5"></line>'),Wn[D],[[171,6]]),Wd=$(Pt('<g><line stroke="var(--wf-border, #e2e8f0)" stroke-width="1"></line><text fill="var(--wf-secondary, #64748b)" font-size="var(--wf-font-size-sm, 0.75rem)" class="svelte-hf6bj6"> </text></g>'),Wn[D],[[187,4,[[188,6],[194,6]]]]),Rd=$(Pt('<text text-anchor="middle" fill="var(--wf-secondary, #64748b)" font-size="var(--wf-font-size-sm, 0.75rem)" font-weight="500" class="svelte-hf6bj6"> </text>'),Wn[D],[[208,4]]),Id=$(Pt('<g class="effect-axis svelte-hf6bj6"><line stroke="var(--wf-border, #e2e8f0)" stroke-width="1"></line><!><!><!></g>'),Wn[D],[[157,0,[[159,2]]]]);function Wn(t,e){Te(new.target),we(e,!0,Wn);let r=Gn(e,"position",3,"bottom"),o=Gn(e,"plotHeight",3,0);const a=v(m(()=>{var M;return(M=e.theme)==null?void 0:M.axis}),"axisConfig"),i=v(m(()=>{var M;return e.gridlines??((M=n(a))==null?void 0:M.gridlines)??!1}),"showGridlines"),s=v(m(()=>{var M;return((M=n(a))==null?void 0:M.gridlineStyle)??"dotted"}),"gridlineStyle"),c=35,f=v(m(()=>{var M;return((M=n(a))==null?void 0:M.nullTick)??!0}),"shouldIncludeNullTick"),l=v(m(()=>{var te,ie;const[M,E]=e.xScale.domain(),P=e.layout.nullValue,H=P>=M&&P<=E;if((te=n(a))!=null&&te.tickValues&&n(a).tickValues.length>0){let xt=n(a).tickValues.filter(Bt=>Bt>=M&&Bt<=E);return n(f)&&H&&!xt.includes(P)&&(xt=[...xt,P].sort((Bt,Fe)=>Bt-Fe)),xt}const R=50,W=Math.max(2,Math.floor(e.layout.forestWidth/R)),L=((ie=n(a))==null?void 0:ie.tickCount)??null??Math.min(7,W),Q=e.baseTicks&&e.baseTicks.length>0?e.baseTicks.filter(xt=>xt>=M&&xt<=E):e.xScale.ticks(L);if(w(Q.length,0))return n(f)&&H?[P]:[];const K=e.xScale(P),U=Q.filter(xt=>xt<P).reverse(),V=Q.filter(xt=>xt>P),Z=Q.some(xt=>w(xt,P)),ht=[];let rt=K;for(const xt of U){const Bt=e.xScale(xt);rt-Bt>=R&&(ht.unshift(xt),rt=Bt)}const st=[];let ot=K;for(const xt of V){const Bt=e.xScale(xt);Bt-ot>=R&&(st.push(xt),ot=Bt)}const pt=[...ht];if((Z||n(f)&&H)&&pt.push(P),pt.push(...st),pt.length<2){const xt=new Set(pt);xt.has(M)||pt.unshift(M),pt.length<2&&!xt.has(E)&&pt.push(E)}return pt}),"ticks"),d=v(m(()=>w(r(),"bottom")?0:e.layout.headerHeight-8),"axisY"),u=v(m(()=>w(r(),"bottom")),"isBottom"),h=v(m(()=>w(n(s),"dashed")?"4,4":w(n(s),"dotted")?"2,2":"none"),"gridlineDashArray");function g(M){return M<c?"start":M>e.layout.forestWidth-c?"end":"middle"}function p(M){return M<c?2:M>e.layout.forestWidth-c?-2:0}var x={...Ne()},_=Id(),y=tt(_),S=it(y);{var T=M=>{var E=St(),P=vt(E);bn(()=>n(l),H=>H),z(()=>Be(P,16,()=>n(l),H=>H,(H,R)=>{var W=Ad();J((G,L)=>{A(W,"x1",G),A(W,"x2",L),A(W,"y1",(n(u),n(d))),A(W,"y2",n(u)?-o():o()),A(W,"stroke-dasharray",n(h))},[()=>e.xScale(R),()=>e.xScale(R)]),F(H,W)}),"each",Wn,170,4),F(M,E)};z(()=>X(S,M=>{n(i)&&o()>0&&M(T)}),"if",Wn,169,2)}var N=it(S);bn(()=>n(l),M=>M),z(()=>Be(N,16,()=>n(l),M=>M,(M,E)=>{const P=v(m(()=>e.xScale(E)),"tickX");n(P);var H=Wd(),R=tt(H),W=it(R),G=tt(W,!0);J((L,Q,K)=>{A(H,"transform",`translate(${n(P)??""}, 0)`),A(R,"y1",n(u)?n(d):n(d)-4),A(R,"y2",n(u)?n(d)+4:n(d)),A(W,"x",L),A(W,"y",n(u)?n(d)+16:n(d)-8),A(W,"text-anchor",Q),Xt(G,K)},[()=>p(n(P)),()=>g(n(P)),()=>Hd(E)]),F(M,H)}),"each",Wn,185,2);var b=it(N);{var k=M=>{var E=Rd(),P=tt(E);J(()=>{A(E,"x",e.layout.forestWidth/2),A(E,"y",n(u)?n(d)+28:n(d)-24),Xt(P,e.axisLabel)}),F(M,E)};z(()=>X(b,M=>{e.axisLabel&&M(k)}),"if",Wn,207,2)}return J((M,E)=>{A(y,"x1",M),A(y,"x2",E),A(y,"y1",n(d)),A(y,"y2",n(d))},[()=>e.xScale.range()[0],()=>e.xScale.range()[1]]),F(t,_),be(x)}to[D]="src/components/forest/SummaryDiamond.svelte";var zd=$(Pt('<path fill="var(--wf-summary-fill, #2563eb)"></path>'),to[D],[[58,4]]),Fd=$(Pt('<path fill="var(--wf-summary-fill, #2563eb)"></path>'),to[D],[[66,4]]),Pd=$(Pt('<g class="summary-diamond svelte-1g0hzau"><polygon fill="var(--wf-summary-fill, #2563eb)" stroke="var(--wf-summary-border, #1d4ed8)" stroke-width="1" class="svelte-1g0hzau"></polygon><!><!></g>'),to[D],[[47,0,[[49,2]]]]);function to(t,e){Te(new.target),we(e,!0,to);const r=v(m(()=>{var p;return((p=e.theme)==null?void 0:p.shapes.summaryHeight)??10}),"diamondHeight"),o=v(m(()=>n(r)/2),"halfHeight"),a=v(m(()=>{const p=e.xScale(e.lower),x=e.xScale(e.point),_=e.xScale(e.upper),y=0,S=e.layout.forestWidth,T=Math.max(y,p),N=Math.min(S,_);return[[T,e.yPosition].join(","),[x,e.yPosition-n(o)].join(","),[N,e.yPosition].join(","),[x,e.yPosition+n(o)].join(",")].join(" ")}),"points"),i=v(m(()=>e.xScale(e.lower)<0),"clippedLeft"),s=v(m(()=>e.xScale(e.upper)>e.layout.forestWidth),"clippedRight");var c={...Ne()},f=Pd(),l=tt(f),d=it(l);{var u=p=>{var x=zd();J(()=>A(x,"d",`M 4 ${e.yPosition??""} L 10 ${e.yPosition-4} L 10 ${e.yPosition+4} Z`)),F(p,x)};z(()=>X(d,p=>{n(i)&&p(u)}),"if",to,57,2)}var h=it(d);{var g=p=>{var x=Fd();J(()=>A(x,"d",`M ${e.layout.forestWidth-4} ${e.yPosition??""} L ${e.layout.forestWidth-10} ${e.yPosition-4} L ${e.layout.forestWidth-10} ${e.yPosition+4} Z`)),F(p,x)};z(()=>X(h,p=>{n(s)&&p(g)}),"if",to,65,2)}return J(()=>A(l,"points",n(a))),F(t,f),be(c)}Kn[D]="src/components/forest/PlotHeader.svelte";var Ld=$(yt('<h2 class="plot-title svelte-xpghc"> </h2>'),Kn[D],[[17,8]]),Dd=$(yt('<p class="plot-subtitle svelte-xpghc"> </p>'),Kn[D],[[20,8]]),Bd=$(yt('<div class="controls-area svelte-xpghc"><!></div>'),Kn[D],[[24,6]]),Gd=$(yt('<div><div class="title-area svelte-xpghc"><!> <!></div> <!></div>'),Kn[D],[[14,2,[[15,4]]]]);function Kn(t,e){Te(new.target),we(e,!0,Kn);var r={...Ne()},o=St(),a=vt(o);{var i=s=>{var c=Gd();let f;var l=tt(c),d=tt(l);{var u=_=>{var y=Ld(),S=tt(y);J(()=>Xt(S,e.title)),F(_,y)};z(()=>X(d,_=>{e.title&&_(u)}),"if",Kn,16,6)}var h=it(d,2);{var g=_=>{var y=Dd(),S=tt(y);J(()=>Xt(S,e.subtitle)),F(_,y)};z(()=>X(h,_=>{e.subtitle&&_(g)}),"if",Kn,19,6)}var p=it(l,2);{var x=_=>{var y=Bd(),S=tt(y);z(()=>Xu(S,()=>e.controls),"render",Kn,25,8),F(_,y)};z(()=>X(p,_=>{e.controls&&_(x)}),"if",Kn,23,4)}J(()=>f=Hn(c,1,"header-area svelte-xpghc",null,f,{"has-both":e.title&&e.subtitle})),F(s,c)};z(()=>X(a,s=>{(e.title||e.subtitle)&&s(i)}),"if",Kn,13,0)}return F(t,o),be(r)}Br[D]="src/components/forest/PlotFooter.svelte";var Vd=$(yt('<p class="plot-caption svelte-7xjsde"> </p>'),Br[D],[[13,6]]),Od=$(yt('<p class="plot-footnote svelte-7xjsde"> </p>'),Br[D],[[16,6]]),$d=$(yt('<div class="plot-footer svelte-7xjsde"><!> <!></div>'),Br[D],[[11,2]]);function Br(t,e){Te(new.target),we(e,!0,Br);var r={...Ne()},o=St(),a=vt(o);{var i=s=>{var c=$d(),f=tt(c);{var l=h=>{var g=Vd(),p=tt(g);J(()=>Xt(p,e.caption)),F(h,g)};z(()=>X(f,h=>{e.caption&&h(l)}),"if",Br,12,4)}var d=it(f,2);{var u=h=>{var g=Od(),p=tt(g);J(()=>Xt(p,e.footnote)),F(h,g)};z(()=>X(d,h=>{e.footnote&&h(u)}),"if",Br,15,4)}F(s,c)};z(()=>X(a,s=>{(e.caption||e.footnote)&&s(i)}),"if",Br,10,0)}return F(t,o),be(r)}Yo[D]="src/components/forest/GroupHeader.svelte";var jd=$(yt('<span class="group-count svelte-16smacw"> </span>'),Yo[D],[[64,4]]),qd=$(yt('<div><span><svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path d="M2 4L6 8L10 4" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg></span> <span class="group-label svelte-16smacw"> </span> <!></div>'),Yo[D],[[49,0,[[57,2,[[58,4,[[59,6]]]]],[62,2]]]]);function Yo(t,e){Te(new.target),we(e,!0,Yo);let r=Gn(e,"level",3,1);function o(x,_){const y=_==null?void 0:_.groupHeaders;return y?w(x,1)?{fontSize:y.level1FontSize,fontWeight:y.level1FontWeight,italic:y.level1Italic,borderBottom:y.level1BorderBottom}:w(x,2)?{fontSize:y.level2FontSize,fontWeight:y.level2FontWeight,italic:y.level2Italic,borderBottom:y.level2BorderBottom}:{fontSize:y.level3FontSize,fontWeight:y.level3FontWeight,italic:y.level3Italic,borderBottom:y.level3BorderBottom}:{fontSize:void 0,fontWeight:void 0,italic:!1,borderBottom:!1}}const a=v(m(()=>o(r(),e.theme)),"levelStyles");var i={...Ne()},s=qd();let c,f;var l=tt(s);let d;var u=it(l,2),h=tt(u),g=it(u,2);{var p=x=>{var _=jd(),y=tt(_);J(()=>Xt(y,`(${e.rowCount??""})`)),F(x,_)};z(()=>X(g,x=>{w(e.rowCount,void 0,!1)&&x(p)}),"if",Yo,63,2)}return J(()=>{c=Hn(s,1,"group-header svelte-16smacw",null,c,{"has-border":n(a).borderBottom,italic:n(a).italic}),A(s,"aria-expanded",!e.group.collapsed),f=We(s,"",f,{"font-size":n(a).fontSize,"font-weight":n(a).fontWeight}),d=Hn(l,1,"group-chevron svelte-16smacw",null,d,{collapsed:e.group.collapsed}),Xt(h,e.group.label)}),F(t,s),be(i)}xo[D]="src/components/ui/Tooltip.svelte";var Xd=$(yt('<div class="tooltip-row svelte-c43bsi"><span class="tooltip-label svelte-c43bsi"> </span> <span class="tooltip-value svelte-c43bsi"> </span></div>'),xo[D],[[77,8,[[78,10],[79,10]]]]),Ud=$(yt('<div class="tabviz-tooltip svelte-c43bsi"><div class="tooltip-header svelte-c43bsi"> </div> <div class="tooltip-body svelte-c43bsi"><div class="tooltip-row tooltip-estimate svelte-c43bsi"><span class="tooltip-label svelte-c43bsi">Estimate</span> <span class="tooltip-value svelte-c43bsi"> </span></div> <!></div></div>'),xo[D],[[67,2,[[68,4],[69,4,[[70,6,[[71,8],[72,8]]]]]]]]);function xo(t,e){Te(new.target),we(e,!0,xo);let r=Gn(e,"fields",3,null),o=v(Wt(void 0),"tooltipEl");function a(h){return w(h,null)||w(h,void 0)?"—":w(typeof h,"number")?Number.isInteger(h)?h.toString():h.toFixed(3):String(h)}const i=v(m(()=>!e.row||!r()||w(r().length,0)?[]:Object.entries(e.row.metadata).filter(([g])=>r().includes(g))),"displayFields"),s=v(m(()=>{if(!e.position)return"";const h=220,g=100,p=10;let x=e.position.x+p,_=e.position.y-p;const y=w(typeof window,"undefined",!1)?window.innerWidth:1e3;return w(typeof window,"undefined",!1)&&window.innerHeight,x+h>y-p&&(x=e.position.x-h-p),_-g<p?(_=e.position.y+p,`left: ${x}px; top: ${_}px; transform: none;`):`left: ${x}px; top: ${_}px;`}),"positionStyle"),c=v(m(()=>e.row&&e.position&&r()&&r().length>0),"shouldShow");var f={...Ne()},l=St(),d=vt(l);{var u=h=>{var g=Ud(),p=tt(g),x=tt(p),_=it(p,2),y=tt(_),S=it(tt(y),2),T=tt(S),N=it(y,2);bn(()=>n(i),([b,k])=>b),z(()=>Be(N,17,()=>n(i),([b,k])=>b,(b,k)=>{var M=m(()=>Ba(n(k),2));let E=()=>n(M)[0];E();let P=()=>n(M)[1];P();var H=Xd(),R=tt(H),W=tt(R,!0);var G=it(R,2),L=tt(G,!0);J(Q=>{Xt(W,E()),Xt(L,Q)},[()=>a(P())]),F(b,H)}),"each",xo,76,6),yo(g,b=>at(o,b),()=>n(o)),J((b,k,M)=>{We(g,n(s)),Xt(x,e.row.label),Xt(T,`${b??""} (${k??""}, ${M??""})`)},[()=>a(e.row.point),()=>a(e.row.lower),()=>a(e.row.upper)]),F(h,g)};z(()=>X(d,h=>{n(c)&&h(u)}),"if",xo,66,0)}return F(t,l),be(f)}_o[D]="src/components/table/CellBar.svelte";var Yd=$(yt('<span class="bar-label svelte-1l4k3z2"> </span>'),_o[D],[[39,6]]),Zd=$(yt('<div class="cell-bar svelte-1l4k3z2"><div class="bar-track svelte-1l4k3z2"><div class="bar-fill svelte-1l4k3z2"></div></div> <!></div>'),_o[D],[[30,2,[[31,4,[[32,6]]]]]]);function _o(t,e){Te(new.target),we(e,!0,_o);let r=Gn(e,"maxValue",3,100);const o=v(m(()=>{var h;return((h=e.options)==null?void 0:h.maxValue)??r()}),"effectiveMax"),a=v(m(()=>{var h;return((h=e.options)==null?void 0:h.showLabel)??!0}),"showLabel"),i=v(m(()=>{var h;return((h=e.options)==null?void 0:h.color)??"var(--wf-primary, #2563eb)"}),"barColor"),s=v(m(()=>()=>w(e.value,void 0)||w(e.value,null)||n(o)<=0?0:Math.min(100,Math.max(0,e.value/n(o)*100))),"percentage"),c=v(m(()=>()=>w(e.value,void 0)||w(e.value,null)?"":e.value>=100?e.value.toFixed(0):e.value>=10?e.value.toFixed(1):e.value.toFixed(2)),"formattedValue");var f={...Ne()},l=St(),d=vt(l);{var u=h=>{var g=Zd(),p=tt(g),x=tt(p);let _;var y=it(p,2);{var S=T=>{var N=Yd(),b=tt(N);J(k=>Xt(b,k),[()=>n(c)()]),F(T,N)};z(()=>X(y,T=>{n(a)&&T(S)}),"if",_o,38,4)}J(T=>_=We(x,"",_,T),[()=>({width:`${n(s)()??""}%`,"background-color":n(i)})]),F(h,g)};z(()=>X(d,h=>{w(e.value,void 0,!1)&&w(e.value,null,!1)&&h(u)}),"if",_o,29,0)}return F(t,l),be(f)}Zo[D]="src/components/table/CellPvalue.svelte";var Kd=$(yt('<span class="pvalue-stars svelte-1hymfkc"> </span>'),Zo[D],[[99,4]]),Qd=$(yt('<span><span class="pvalue-number svelte-1hymfkc"> </span> <!></span>'),Zo[D],[[86,0,[[97,2]]]]);function Zo(t,e){Te(new.target),we(e,!0,Zo);const r=v(m(()=>{var W;return((W=e.cellStyle)==null?void 0:W.bold)??!1}),"isBold"),o=v(m(()=>{var W;return((W=e.cellStyle)==null?void 0:W.italic)??!1}),"isItalic"),a=v(m(()=>{var W;return((W=e.cellStyle)==null?void 0:W.color)??null}),"textColor"),i=v(m(()=>{var W;return((W=e.cellStyle)==null?void 0:W.bg)??null}),"bgColor"),s=v(m(()=>{var W;return((W=e.cellStyle)==null?void 0:W.emphasis)??!1}),"isEmphasis"),c=v(m(()=>{var W;return((W=e.cellStyle)==null?void 0:W.muted)??!1}),"isMuted"),f=v(m(()=>{var W;return((W=e.cellStyle)==null?void 0:W.accent)??!1}),"isAccent"),l={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻","+":"⁺"};function d(W){return W.split("").map(G=>l[G]??G).join("")}const u=v(m(()=>{var W;return((W=e.options)==null?void 0:W.stars)??!1}),"showStars"),h=v(m(()=>{var W;return((W=e.options)==null?void 0:W.thresholds)??[.05,.01,.001]}),"thresholds"),g=v(m(()=>{var W;return((W=e.options)==null?void 0:W.format)??"auto"}),"format"),p=v(m(()=>{var W;return((W=e.options)==null?void 0:W.digits)??2}),"digits"),x=v(m(()=>{var W;return((W=e.options)==null?void 0:W.expThreshold)??.001}),"expThreshold"),_=v(m(()=>{var W;return((W=e.options)==null?void 0:W.abbrevThreshold)??null}),"abbrevThreshold"),y=v(m(()=>{if(!n(u)||w(e.value,void 0)||w(e.value,null))return"";const[W,G,L]=n(h);return e.value<L?"***":e.value<G?"**":e.value<W?"*":""}),"stars"),S=v(m(()=>{if(w(e.value,void 0)||w(e.value,null))return"";if(w(n(_),null,!1)&&e.value<n(_))return`<${n(_)}`;if(w(n(g),"scientific")||w(n(g),"auto")&&e.value<n(x)){const W=Math.floor(Math.log10(e.value));return`${(e.value/Math.pow(10,W)).toPrecision(n(p))}×10${d(W.toString())}`}return e.value>=.1?e.value.toFixed(n(p)):e.value>=.01?e.value.toFixed(n(p)+1):e.value.toFixed(n(p)+2)}),"formattedValue"),T=v(m(()=>n(y).length>0),"isSignificant");var N={...Ne()},b=Qd();let k,M;var E=tt(b),P=tt(E),H=it(E,2);{var R=W=>{var G=Kd(),L=tt(G);J(()=>Xt(L,n(y))),F(W,G)};z(()=>X(H,W=>{n(y)&&W(R)}),"if",Zo,98,2)}return J(()=>{k=Hn(b,1,"cell-pvalue svelte-1hymfkc",null,k,{significant:n(T),"cell-bold":n(r),"cell-italic":n(o),"cell-emphasis":n(s),"cell-muted":n(c),"cell-accent":n(f)}),M=We(b,"",M,{color:n(a),"background-color":n(i)}),Xt(P,n(S))}),F(t,b),be(N)}function fa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jd(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ec(t){let e,r,o;t.length!==2?(e=fa,r=(c,f)=>fa(t(c),f),o=(c,f)=>t(c)-f):(e=t===fa||t===Jd?t:th,r=t,o=t);function a(c,f,l=0,d=c.length){if(l<d){if(e(f,f)!==0)return d;do{const u=l+d>>>1;r(c[u],f)<0?l=u+1:d=u}while(l<d)}return l}function i(c,f,l=0,d=c.length){if(l<d){if(e(f,f)!==0)return d;do{const u=l+d>>>1;r(c[u],f)<=0?l=u+1:d=u}while(l<d)}return l}function s(c,f,l=0,d=c.length){const u=a(c,f,l,d-1);return u>l&&o(c[u-1],f)>-o(c[u],f)?u-1:u}return{left:a,center:s,right:i}}function th(){return 0}function eh(t){return t===null?NaN:+t}const nh=ec(fa).right;ec(eh).center;const rh=Math.sqrt(50),oh=Math.sqrt(10),ih=Math.sqrt(2);function ua(t,e,r){const o=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(o)),i=o/Math.pow(10,a),s=i>=rh?10:i>=oh?5:i>=ih?2:1;let c,f,l;return a<0?(l=Math.pow(10,-a)/s,c=Math.round(t*l),f=Math.round(e*l),c/l<t&&++c,f/l>e&&--f,l=-l):(l=Math.pow(10,a)*s,c=Math.round(t/l),f=Math.round(e/l),c*l<t&&++c,f*l>e&&--f),f<c&&.5<=r&&r<2?ua(t,e,r*2):[c,f,l]}function ds(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const o=e<t,[a,i,s]=o?ua(e,t,r):ua(t,e,r);if(!(i>=a))return[];const c=i-a+1,f=new Array(c);if(o)if(s<0)for(let l=0;l<c;++l)f[l]=(i-l)/-s;else for(let l=0;l<c;++l)f[l]=(i-l)*s;else if(s<0)for(let l=0;l<c;++l)f[l]=(a+l)/-s;else for(let l=0;l<c;++l)f[l]=(a+l)*s;return f}function hs(t,e,r){return e=+e,t=+t,r=+r,ua(t,e,r)[2]}function ah(t,e,r){e=+e,t=+t,r=+r;const o=e<t,a=o?hs(e,t,r):hs(t,e,r);return(o?-1:1)*(a<0?1/-a:a)}function nc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function gs(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function rc(t,e){var r=Object.create(t.prototype);for(var o in e)r[o]=e[o];return r}function Hi(){}var Ai=.7,da=1/Ai,Ko="\\s*([+-]?\\d+)\\s*",Wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",kr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sh=/^#([0-9a-f]{3,8})$/,lh=new RegExp(`^rgb\\(${Ko},${Ko},${Ko}\\)$`),ch=new RegExp(`^rgb\\(${kr},${kr},${kr}\\)$`),fh=new RegExp(`^rgba\\(${Ko},${Ko},${Ko},${Wi}\\)$`),uh=new RegExp(`^rgba\\(${kr},${kr},${kr},${Wi}\\)$`),dh=new RegExp(`^hsl\\(${Wi},${kr},${kr}\\)$`),hh=new RegExp(`^hsla\\(${Wi},${kr},${kr},${Wi}\\)$`),oc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gs(Hi,Ri,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ic,formatHex:ic,formatHex8:gh,formatHsl:ph,formatRgb:ac,toString:ac});function ic(){return this.rgb().formatHex()}function gh(){return this.rgb().formatHex8()}function ph(){return uc(this).formatHsl()}function ac(){return this.rgb().formatRgb()}function Ri(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=sh.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?sc(e):r===3?new Rn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?ha(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?ha(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=lh.exec(t))?new Rn(e[1],e[2],e[3],1):(e=ch.exec(t))?new Rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=fh.exec(t))?ha(e[1],e[2],e[3],e[4]):(e=uh.exec(t))?ha(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dh.exec(t))?fc(e[1],e[2]/100,e[3]/100,1):(e=hh.exec(t))?fc(e[1],e[2]/100,e[3]/100,e[4]):oc.hasOwnProperty(t)?sc(oc[t]):t==="transparent"?new Rn(NaN,NaN,NaN,0):null}function sc(t){return new Rn(t>>16&255,t>>8&255,t&255,1)}function ha(t,e,r,o){return o<=0&&(t=e=r=NaN),new Rn(t,e,r,o)}function vh(t){return t instanceof Hi||(t=Ri(t)),t?(t=t.rgb(),new Rn(t.r,t.g,t.b,t.opacity)):new Rn}function ps(t,e,r,o){return arguments.length===1?vh(t):new Rn(t,e,r,o??1)}function Rn(t,e,r,o){this.r=+t,this.g=+e,this.b=+r,this.opacity=+o}gs(Rn,ps,rc(Hi,{brighter(t){return t=t==null?da:Math.pow(da,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ai:Math.pow(Ai,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rn(wo(this.r),wo(this.g),wo(this.b),ga(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lc,formatHex:lc,formatHex8:mh,formatRgb:cc,toString:cc}));function lc(){return`#${bo(this.r)}${bo(this.g)}${bo(this.b)}`}function mh(){return`#${bo(this.r)}${bo(this.g)}${bo(this.b)}${bo((isNaN(this.opacity)?1:this.opacity)*255)}`}function cc(){const t=ga(this.opacity);return`${t===1?"rgb(":"rgba("}${wo(this.r)}, ${wo(this.g)}, ${wo(this.b)}${t===1?")":`, ${t})`}`}function ga(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function wo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function bo(t){return t=wo(t),(t<16?"0":"")+t.toString(16)}function fc(t,e,r,o){return o<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new lr(t,e,r,o)}function uc(t){if(t instanceof lr)return new lr(t.h,t.s,t.l,t.opacity);if(t instanceof Hi||(t=Ri(t)),!t)return new lr;if(t instanceof lr)return t;t=t.rgb();var e=t.r/255,r=t.g/255,o=t.b/255,a=Math.min(e,r,o),i=Math.max(e,r,o),s=NaN,c=i-a,f=(i+a)/2;return c?(e===i?s=(r-o)/c+(r<o)*6:r===i?s=(o-e)/c+2:s=(e-r)/c+4,c/=f<.5?i+a:2-i-a,s*=60):c=f>0&&f<1?0:s,new lr(s,c,f,t.opacity)}function yh(t,e,r,o){return arguments.length===1?uc(t):new lr(t,e,r,o??1)}function lr(t,e,r,o){this.h=+t,this.s=+e,this.l=+r,this.opacity=+o}gs(lr,yh,rc(Hi,{brighter(t){return t=t==null?da:Math.pow(da,t),new lr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ai:Math.pow(Ai,t),new lr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,o=r+(r<.5?r:1-r)*e,a=2*r-o;return new Rn(vs(t>=240?t-240:t+120,a,o),vs(t,a,o),vs(t<120?t+240:t-120,a,o),this.opacity)},clamp(){return new lr(dc(this.h),pa(this.s),pa(this.l),ga(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ga(this.opacity);return`${t===1?"hsl(":"hsla("}${dc(this.h)}, ${pa(this.s)*100}%, ${pa(this.l)*100}%${t===1?")":`, ${t})`}`}}));function dc(t){return t=(t||0)%360,t<0?t+360:t}function pa(t){return Math.max(0,Math.min(1,t||0))}function vs(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const ms=t=>()=>t;function xh(t,e){return function(r){return t+r*e}}function _h(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(o){return Math.pow(t+o*e,r)}}function wh(t){return(t=+t)==1?hc:function(e,r){return r-e?_h(e,r,t):ms(isNaN(e)?r:e)}}function hc(t,e){var r=e-t;return r?xh(t,r):ms(isNaN(t)?e:t)}const gc=(function t(e){var r=wh(e);function o(a,i){var s=r((a=ps(a)).r,(i=ps(i)).r),c=r(a.g,i.g),f=r(a.b,i.b),l=hc(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=c(d),a.b=f(d),a.opacity=l(d),a+""}}return o.gamma=t,o})(1);function bh(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,o=e.slice(),a;return function(i){for(a=0;a<r;++a)o[a]=t[a]*(1-i)+e[a]*i;return o}}function Mh(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Sh(t,e){var r=e?e.length:0,o=t?Math.min(r,t.length):0,a=new Array(o),i=new Array(r),s;for(s=0;s<o;++s)a[s]=_s(t[s],e[s]);for(;s<r;++s)i[s]=e[s];return function(c){for(s=0;s<o;++s)i[s]=a[s](c);return i}}function Eh(t,e){var r=new Date;return t=+t,e=+e,function(o){return r.setTime(t*(1-o)+e*o),r}}function va(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Ch(t,e){var r={},o={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=_s(t[a],e[a]):o[a]=e[a];return function(i){for(a in r)o[a]=r[a](i);return o}}var ys=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xs=new RegExp(ys.source,"g");function kh(t){return function(){return t}}function Th(t){return function(e){return t(e)+""}}function Nh(t,e){var r=ys.lastIndex=xs.lastIndex=0,o,a,i,s=-1,c=[],f=[];for(t=t+"",e=e+"";(o=ys.exec(t))&&(a=xs.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),c[s]?c[s]+=i:c[++s]=i),(o=o[0])===(a=a[0])?c[s]?c[s]+=a:c[++s]=a:(c[++s]=null,f.push({i:s,x:va(o,a)})),r=xs.lastIndex;return r<e.length&&(i=e.slice(r),c[s]?c[s]+=i:c[++s]=i),c.length<2?f[0]?Th(f[0].x):kh(e):(e=f.length,function(l){for(var d=0,u;d<e;++d)c[(u=f[d]).i]=u.x(l);return c.join("")})}function _s(t,e){var r=typeof e,o;return e==null||r==="boolean"?ms(e):(r==="number"?va:r==="string"?(o=Ri(e))?(e=o,gc):Nh:e instanceof Ri?gc:e instanceof Date?Eh:Mh(e)?bh:Array.isArray(e)?Sh:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ch:va)(t,e)}function Hh(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Ah(t){return function(){return t}}function Wh(t){return+t}var pc=[0,1];function Qo(t){return t}function ws(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Ah(isNaN(e)?NaN:.5)}function Rh(t,e){var r;return t>e&&(r=t,t=e,e=r),function(o){return Math.max(t,Math.min(e,o))}}function Ih(t,e,r){var o=t[0],a=t[1],i=e[0],s=e[1];return a<o?(o=ws(a,o),i=r(s,i)):(o=ws(o,a),i=r(i,s)),function(c){return i(o(c))}}function zh(t,e,r){var o=Math.min(t.length,e.length)-1,a=new Array(o),i=new Array(o),s=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<o;)a[s]=ws(t[s],t[s+1]),i[s]=r(e[s],e[s+1]);return function(c){var f=nh(t,c,1,o)-1;return i[f](a[f](c))}}function vc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function mc(){var t=pc,e=pc,r=_s,o,a,i,s=Qo,c,f,l;function d(){var h=Math.min(t.length,e.length);return s!==Qo&&(s=Rh(t[0],t[h-1])),c=h>2?zh:Ih,f=l=null,u}function u(h){return h==null||isNaN(h=+h)?i:(f||(f=c(t.map(o),e,r)))(o(s(h)))}return u.invert=function(h){return s(a((l||(l=c(e,t.map(o),va)))(h)))},u.domain=function(h){return arguments.length?(t=Array.from(h,Wh),d()):t.slice()},u.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},u.rangeRound=function(h){return e=Array.from(h),r=Hh,d()},u.clamp=function(h){return arguments.length?(s=h?!0:Qo,d()):s!==Qo},u.interpolate=function(h){return arguments.length?(r=h,d()):r},u.unknown=function(h){return arguments.length?(i=h,u):i},function(h,g){return o=h,a=g,d()}}function Fh(){return mc()(Qo,Qo)}function Ph(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ma(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,o=t.slice(0,r);return[o.length>1?o[0]+o.slice(2):o,+t.slice(r+1)]}function Jo(t){return t=ma(Math.abs(t)),t?t[1]:NaN}function Lh(t,e){return function(r,o){for(var a=r.length,i=[],s=0,c=t[0],f=0;a>0&&c>0&&(f+c+1>o&&(c=Math.max(1,o-f)),i.push(r.substring(a-=c,a+c)),!((f+=c+1)>o));)c=t[s=(s+1)%t.length];return i.reverse().join(e)}}function Dh(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Bh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ii(t){if(!(e=Bh.exec(t)))throw new Error("invalid format: "+t);var e;return new bs({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ii.prototype=bs.prototype;function bs(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}bs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gh(t){t:for(var e=t.length,r=1,o=-1,a;r<e;++r)switch(t[r]){case".":o=a=r;break;case"0":o===0&&(o=r),a=r;break;default:if(!+t[r])break t;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(a+1):t}var yc;function Vh(t,e){var r=ma(t,e);if(!r)return t+"";var o=r[0],a=r[1],i=a-(yc=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=o.length;return i===s?o:i>s?o+new Array(i-s+1).join("0"):i>0?o.slice(0,i)+"."+o.slice(i):"0."+new Array(1-i).join("0")+ma(t,Math.max(0,e+i-1))[0]}function xc(t,e){var r=ma(t,e);if(!r)return t+"";var o=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+o:o.length>a+1?o.slice(0,a+1)+"."+o.slice(a+1):o+new Array(a-o.length+2).join("0")}const _c={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ph,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>xc(t*100,e),r:xc,s:Vh,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function wc(t){return t}var bc=Array.prototype.map,Mc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Oh(t){var e=t.grouping===void 0||t.thousands===void 0?wc:Lh(bc.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?wc:Dh(bc.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function l(u){u=Ii(u);var h=u.fill,g=u.align,p=u.sign,x=u.symbol,_=u.zero,y=u.width,S=u.comma,T=u.precision,N=u.trim,b=u.type;b==="n"?(S=!0,b="g"):_c[b]||(T===void 0&&(T=12),N=!0,b="g"),(_||h==="0"&&g==="=")&&(_=!0,h="0",g="=");var k=x==="$"?r:x==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",M=x==="$"?o:/[%p]/.test(b)?s:"",E=_c[b],P=/[defgprs%]/.test(b);T=T===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function H(R){var W=k,G=M,L,Q,K;if(b==="c")G=E(R)+G,R="";else{R=+R;var U=R<0||1/R<0;if(R=isNaN(R)?f:E(Math.abs(R),T),N&&(R=Gh(R)),U&&+R==0&&p!=="+"&&(U=!1),W=(U?p==="("?p:c:p==="-"||p==="("?"":p)+W,G=(b==="s"?Mc[8+yc/3]:"")+G+(U&&p==="("?")":""),P){for(L=-1,Q=R.length;++L<Q;)if(K=R.charCodeAt(L),48>K||K>57){G=(K===46?a+R.slice(L+1):R.slice(L))+G,R=R.slice(0,L);break}}}S&&!_&&(R=e(R,1/0));var V=W.length+R.length+G.length,Z=V<y?new Array(y-V+1).join(h):"";switch(S&&_&&(R=e(Z+R,Z.length?y-G.length:1/0),Z=""),g){case"<":R=W+R+G+Z;break;case"=":R=W+Z+R+G;break;case"^":R=Z.slice(0,V=Z.length>>1)+W+R+G+Z.slice(V);break;default:R=Z+W+R+G;break}return i(R)}return H.toString=function(){return u+""},H}function d(u,h){var g=l((u=Ii(u),u.type="f",u)),p=Math.max(-8,Math.min(8,Math.floor(Jo(h)/3)))*3,x=Math.pow(10,-p),_=Mc[8+p/3];return function(y){return g(x*y)+_}}return{format:l,formatPrefix:d}}var ya,Ms,Sc;$h({thousands:",",grouping:[3],currency:["$",""]});function $h(t){return ya=Oh(t),Ms=ya.format,Sc=ya.formatPrefix,ya}function jh(t){return Math.max(0,-Jo(Math.abs(t)))}function qh(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jo(e)/3)))*3-Jo(Math.abs(t)))}function Xh(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Jo(e)-Jo(t))+1}function Uh(t,e,r,o){var a=ah(t,e,r),i;switch(o=Ii(o??",f"),o.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(i=qh(a,s))&&(o.precision=i),Sc(o,s)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(i=Xh(a,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=i-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(i=jh(a))&&(o.precision=i-(o.type==="%")*2);break}}return Ms(o)}function Yh(t){var e=t.domain;return t.ticks=function(r){var o=e();return ds(o[0],o[o.length-1],r??10)},t.tickFormat=function(r,o){var a=e();return Uh(a[0],a[a.length-1],r??10,o)},t.nice=function(r){r==null&&(r=10);var o=e(),a=0,i=o.length-1,s=o[a],c=o[i],f,l,d=10;for(c<s&&(l=s,s=c,c=l,l=a,a=i,i=l);d-- >0;){if(l=hs(s,c,r),l===f)return o[a]=s,o[i]=c,e(o);if(l>0)s=Math.floor(s/l)*l,c=Math.ceil(c/l)*l;else if(l<0)s=Math.ceil(s*l)/l,c=Math.floor(c*l)/l;else break;f=l}return t},t}function Qn(){var t=Fh();return t.copy=function(){return vc(t,Qn())},nc.apply(t,arguments),Yh(t)}function Zh(t,e){t=t.slice();var r=0,o=t.length-1,a=t[r],i=t[o],s;return i<a&&(s=r,r=o,o=s,s=a,a=i,i=s),t[r]=e.floor(a),t[o]=e.ceil(i),t}function Ec(t){return Math.log(t)}function Cc(t){return Math.exp(t)}function Kh(t){return-Math.log(-t)}function Qh(t){return-Math.exp(-t)}function Jh(t){return isFinite(t)?+("1e"+t):t<0?0:t}function tg(t){return t===10?Jh:t===Math.E?Math.exp:e=>Math.pow(t,e)}function eg(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function kc(t){return(e,r)=>-t(-e,r)}function ng(t){const e=t(Ec,Cc),r=e.domain;let o=10,a,i;function s(){return a=eg(o),i=tg(o),r()[0]<0?(a=kc(a),i=kc(i),t(Kh,Qh)):t(Ec,Cc),e}return e.base=function(c){return arguments.length?(o=+c,s()):o},e.domain=function(c){return arguments.length?(r(c),s()):r()},e.ticks=c=>{const f=r();let l=f[0],d=f[f.length-1];const u=d<l;u&&([l,d]=[d,l]);let h=a(l),g=a(d),p,x;const _=c==null?10:+c;let y=[];if(!(o%1)&&g-h<_){if(h=Math.floor(h),g=Math.ceil(g),l>0){for(;h<=g;++h)for(p=1;p<o;++p)if(x=h<0?p/i(-h):p*i(h),!(x<l)){if(x>d)break;y.push(x)}}else for(;h<=g;++h)for(p=o-1;p>=1;--p)if(x=h>0?p/i(-h):p*i(h),!(x<l)){if(x>d)break;y.push(x)}y.length*2<_&&(y=ds(l,d,_))}else y=ds(h,g,Math.min(g-h,_)).map(i);return u?y.reverse():y},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=o===10?"s":","),typeof f!="function"&&(!(o%1)&&(f=Ii(f)).precision==null&&(f.trim=!0),f=Ms(f)),c===1/0)return f;const l=Math.max(1,o*c/e.ticks().length);return d=>{let u=d/i(Math.round(a(d)));return u*o<o-.5&&(u*=o),u<=l?f(d):""}},e.nice=()=>r(Zh(r(),{floor:c=>i(Math.floor(a(c))),ceil:c=>i(Math.ceil(a(c)))})),e}function Gr(){const t=ng(mc()).domain([1,10]);return t.copy=()=>vc(t,Gr()).base(t.base()),nc.apply(t,arguments),t}function fn(t){return function(){return t}}const Tc=1e-12,Ss=Math.PI,Es=2*Ss,Mo=1e-6,rg=Es-Mo;function Nc(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function og(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Nc;const r=10**e;return function(o){this._+=o[0];for(let a=1,i=o.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+o[a]}}class ig{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Nc:og(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,o,a){this._append`Q${+e},${+r},${this._x1=+o},${this._y1=+a}`}bezierCurveTo(e,r,o,a,i,s){this._append`C${+e},${+r},${+o},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,r,o,a,i){if(e=+e,r=+r,o=+o,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,c=this._y1,f=o-e,l=a-r,d=s-e,u=c-r,h=d*d+u*u;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Mo)if(!(Math.abs(u*f-l*d)>Mo)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let g=o-s,p=a-c,x=f*f+l*l,_=g*g+p*p,y=Math.sqrt(x),S=Math.sqrt(h),T=i*Math.tan((Ss-Math.acos((x+h-_)/(2*y*S)))/2),N=T/S,b=T/y;Math.abs(N-1)>Mo&&this._append`L${e+N*d},${r+N*u}`,this._append`A${i},${i},0,0,${+(u*g>d*p)},${this._x1=e+b*f},${this._y1=r+b*l}`}}arc(e,r,o,a,i,s){if(e=+e,r=+r,o=+o,s=!!s,o<0)throw new Error(`negative radius: ${o}`);let c=o*Math.cos(a),f=o*Math.sin(a),l=e+c,d=r+f,u=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${l},${d}`:(Math.abs(this._x1-l)>Mo||Math.abs(this._y1-d)>Mo)&&this._append`L${l},${d}`,o&&(h<0&&(h=h%Es+Es),h>rg?this._append`A${o},${o},0,1,${u},${e-c},${r-f}A${o},${o},0,1,${u},${this._x1=l},${this._y1=d}`:h>Mo&&this._append`A${o},${o},0,${+(h>=Ss)},${u},${this._x1=e+o*Math.cos(i)},${this._y1=r+o*Math.sin(i)}`)}rect(e,r,o,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${o=+o}v${+a}h${-o}Z`}toString(){return this._}}function Hc(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const o=Math.floor(r);if(!(o>=0))throw new RangeError(`invalid digits: ${r}`);e=o}return t},()=>new ig(e)}function Ac(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Wc(t){this._context=t}Wc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Rc(t){return new Wc(t)}function Ic(t){return t[0]}function zc(t){return t[1]}function Fc(t,e){var r=fn(!0),o=null,a=Rc,i=null,s=Hc(c);t=typeof t=="function"?t:t===void 0?Ic:fn(t),e=typeof e=="function"?e:e===void 0?zc:fn(e);function c(f){var l,d=(f=Ac(f)).length,u,h=!1,g;for(o==null&&(i=a(g=s())),l=0;l<=d;++l)!(l<d&&r(u=f[l],l,f))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+t(u,l,f),+e(u,l,f));if(g)return i=null,g+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:fn(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:fn(+f),c):e},c.defined=function(f){return arguments.length?(r=typeof f=="function"?f:fn(!!f),c):r},c.curve=function(f){return arguments.length?(a=f,o!=null&&(i=a(o)),c):a},c.context=function(f){return arguments.length?(f==null?o=i=null:i=a(o=f),c):o},c}function ag(t,e,r){var o=null,a=fn(!0),i=null,s=Rc,c=null,f=Hc(l);t=typeof t=="function"?t:t===void 0?Ic:fn(+t),e=typeof e=="function"?e:fn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?zc:fn(+r);function l(u){var h,g,p,x=(u=Ac(u)).length,_,y=!1,S,T=new Array(x),N=new Array(x);for(i==null&&(c=s(S=f())),h=0;h<=x;++h){if(!(h<x&&a(_=u[h],h,u))===y)if(y=!y)g=h,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),p=h-1;p>=g;--p)c.point(T[p],N[p]);c.lineEnd(),c.areaEnd()}y&&(T[h]=+t(_,h,u),N[h]=+e(_,h,u),c.point(o?+o(_,h,u):T[h],r?+r(_,h,u):N[h]))}if(S)return c=null,S+""||null}function d(){return Fc().defined(a).curve(s).context(i)}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:fn(+u),o=null,l):t},l.x0=function(u){return arguments.length?(t=typeof u=="function"?u:fn(+u),l):t},l.x1=function(u){return arguments.length?(o=u==null?null:typeof u=="function"?u:fn(+u),l):o},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:fn(+u),r=null,l):e},l.y0=function(u){return arguments.length?(e=typeof u=="function"?u:fn(+u),l):e},l.y1=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:fn(+u),l):r},l.lineX0=l.lineY0=function(){return d().x(t).y(e)},l.lineY1=function(){return d().x(t).y(r)},l.lineX1=function(){return d().x(o).y(e)},l.defined=function(u){return arguments.length?(a=typeof u=="function"?u:fn(!!u),l):a},l.curve=function(u){return arguments.length?(s=u,i!=null&&(c=s(i)),l):s},l.context=function(u){return arguments.length?(u==null?i=c=null:c=s(i=u),l):i},l}function Pc(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function Cs(t,e){this._context=t,this._k=(1-e)/6}Cs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Pc(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Pc(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},(function t(e){function r(o){return new Cs(o,e)}return r.tension=function(o){return t(+o)},r})(0);function sg(t,e,r){var o=t._x1,a=t._y1,i=t._x2,s=t._y2;if(t._l01_a>Tc){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,f=3*t._l01_a*(t._l01_a+t._l12_a);o=(o*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/f,a=(a*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/f}if(t._l23_a>Tc){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,d=3*t._l23_a*(t._l23_a+t._l12_a);i=(i*l+t._x1*t._l23_2a-e*t._l12_2a)/d,s=(s*l+t._y1*t._l23_2a-r*t._l12_2a)/d}t._context.bezierCurveTo(o,a,i,s,t._x2,t._y2)}function Lc(t,e){this._context=t,this._alpha=e}Lc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,o=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+o*o,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:sg(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Dc=(function t(e){function r(o){return e?new Lc(o,e):new Cs(o,0)}return r.alpha=function(o){return t(+o)},r})(.5);In[D]="src/components/table/CellSparkline.svelte";var lg=$(Pt('<rect opacity="0.8"></rect>'),In[D],[[72,8]]),cg=$(Pt('<path opacity="0.3"></path><path fill="none" stroke-width="1.5"></path>',1),In[D],[[82,6],[83,6]]),fg=$(Pt('<circle r="2"></circle>'),In[D],[[89,8]]),ug=$(Pt('<path fill="none" stroke-width="1.5"></path><!>',1),In[D],[[85,6]]),dg=$(Pt('<text text-anchor="middle" dominant-baseline="middle" fill="var(--wf-muted, #94a3b8)" font-size="8">--</text>'),In[D],[[93,4]]),hg=$(Pt('<svg class="cell-sparkline svelte-hfafss"><!></svg>'),In[D],[[68,0]]);function In(t,e){Te(new.target),we(e,!0,In);const r=v(m(()=>{var _;return((_=e.options)==null?void 0:_.type)??"line"}),"chartType"),o=v(m(()=>{var _;return((_=e.options)==null?void 0:_.height)??20}),"chartHeight"),a=v(m(()=>{var _;return((_=e.options)==null?void 0:_.color)??"var(--wf-primary, #2563eb)"}),"chartColor"),i=60,s=v(m(()=>!e.data||!Array.isArray(e.data)||w(e.data.length,0)?[]:Array.isArray(e.data[0])?e.data[0]:e.data),"normalizedData"),c=v(m(()=>{if(w(n(s).length,0))return[];const _=Math.min(...n(s)),y=Math.max(...n(s)),S=(y-_)*.1||1,T=Qn().domain([0,n(s).length-1]).range([2,i-2]),N=Qn().domain([_-S,y+S]).range([n(o)-2,2]);return n(s).map((b,k)=>[T(k),N(b)])}),"points"),f=v(m(()=>w(n(c).length,0)?"":Fc().x(y=>y[0]).y(y=>y[1]).curve(Dc.alpha(.5))(n(c))??""),"linePath"),l=v(m(()=>w(n(c).length,0)?"":ag().x(y=>y[0]).y0(n(o)-2).y1(y=>y[1]).curve(Dc.alpha(.5))(n(c))??""),"areaPath"),d=v(m(()=>n(c).length>0?(i-8)/n(c).length-1:0),"barWidth");var u={...Ne()},h=hg();A(h,"width",i);var g=tt(h);{var p=_=>{var y=St(),S=vt(y);{var T=b=>{var k=St(),M=vt(k);z(()=>Be(M,17,()=>n(c),br,(E,P)=>{var H=m(()=>Ba(n(P),2));let R=()=>n(H)[0];R();let W=()=>n(H)[1];W();var G=lg();J(()=>{A(G,"x",R()-n(d)/2),A(G,"y",W()),A(G,"width",n(d)),A(G,"height",n(o)-2-W()),A(G,"fill",n(a))}),F(E,G)}),"each",In,71,6),F(b,k)},N=b=>{var k=St(),M=vt(k);{var E=H=>{var R=cg(),W=vt(R),G=it(W);J(()=>{A(W,"d",n(l)),A(W,"fill",n(a)),A(G,"d",n(f)),A(G,"stroke",n(a))}),F(H,R)},P=H=>{var R=ug(),W=vt(R),G=it(W);{var L=Q=>{const K=v(m(()=>n(c)[n(c).length-1]),"lastPoint");n(K);var U=fg();J(()=>{A(U,"cx",n(K)[0]),A(U,"cy",n(K)[1]),A(U,"fill",n(a))}),F(Q,U)};z(()=>X(G,Q=>{n(c).length>0&&Q(L)}),"if",In,87,6)}J(()=>{A(W,"d",n(f)),A(W,"stroke",n(a))}),F(H,R)};z(()=>X(M,H=>{w(n(r),"area")?H(E):H(P,!1)},!0),"if",In,81,4)}F(b,k)};z(()=>X(S,b=>{w(n(r),"bar")?b(T):b(N,!1)}),"if",In,70,4)}F(_,y)},x=_=>{var y=dg();A(y,"x",i/2),J(()=>A(y,"y",n(o)/2)),F(_,y)};z(()=>X(g,_=>{n(c).length>0?_(p):_(x,!1)}),"if",In,69,2)}return J(()=>{A(h,"height",n(o)),A(h,"viewBox",`0 0 60 ${n(o)??""}`)}),F(t,h),be(u)}cr[D]="src/components/table/CellContent.svelte";var gg=$(yt('<span class="cell-icon svelte-mxyczy"> </span>'),cr[D],[[34,15]]),pg=$(yt('<span class="cell-badge svelte-mxyczy"> </span>'),cr[D],[[36,16]]),vg=$(yt('<span><!> <span class="cell-value"> </span> <!></span>'),cr[D],[[23,0,[[35,2]]]]);function cr(t,e){Te(new.target),we(e,!0,cr);const r=v(m(()=>{var b;return!!((b=e.cellStyle)!=null&&b.badge)}),"hasBadge"),o=v(m(()=>{var b;return!!((b=e.cellStyle)!=null&&b.icon)}),"hasIcon"),a=v(m(()=>{var b;return((b=e.cellStyle)==null?void 0:b.bold)??!1}),"isBold"),i=v(m(()=>{var b;return((b=e.cellStyle)==null?void 0:b.italic)??!1}),"isItalic"),s=v(m(()=>{var b;return((b=e.cellStyle)==null?void 0:b.color)??null}),"textColor"),c=v(m(()=>{var b;return((b=e.cellStyle)==null?void 0:b.bg)??null}),"bgColor"),f=v(m(()=>{var b;return((b=e.cellStyle)==null?void 0:b.emphasis)??!1}),"isEmphasis"),l=v(m(()=>{var b;return((b=e.cellStyle)==null?void 0:b.muted)??!1}),"isMuted"),d=v(m(()=>{var b;return((b=e.cellStyle)==null?void 0:b.accent)??!1}),"isAccent");var u={...Ne()},h=vg();let g,p;var x=tt(h);{var _=b=>{var k=gg(),M=tt(k);J(()=>{var E;return Xt(M,(E=e.cellStyle)==null?void 0:E.icon)}),F(b,k)};z(()=>X(x,b=>{n(o)&&b(_)}),"if",cr,34,2)}var y=it(x,2),S=tt(y),T=it(y,2);{var N=b=>{var k=pg(),M=tt(k);J(()=>{var E;return Xt(M,(E=e.cellStyle)==null?void 0:E.badge)}),F(b,k)};z(()=>X(T,b=>{n(r)&&b(N)}),"if",cr,36,2)}return J(b=>{g=Hn(h,1,"cell-content svelte-mxyczy",null,g,{"cell-bold":n(a),"cell-italic":n(i),"cell-emphasis":n(f),"cell-muted":n(l),"cell-accent":n(d)}),A(h,"title",b),p=We(h,"",p,{color:n(s),"background-color":n(c)}),Xt(S,e.value??"")},[()=>String(e.value??"")]),F(t,h),be(u)}zi[D]="src/components/table/CellIcon.svelte";var mg=$(yt("<span> </span>"),zi[D],[[32,2]]);function zi(t,e){Te(new.target),we(e,!0,zi);const r=v(m(()=>{var u;return((u=e.options)==null?void 0:u.mapping)??{}}),"mapping"),o=v(m(()=>{var u;return((u=e.options)==null?void 0:u.size)??"base"}),"size"),a=v(m(()=>{var u;return(u=e.options)==null?void 0:u.color}),"color"),i=v(m(()=>{if(w(e.value,void 0)||w(e.value,null))return"";const u=String(e.value);return n(r)&&u in n(r)?n(r)[u]:u}),"displayValue"),s=v(m(()=>w(n(o),"sm")?"icon-sm":w(n(o),"lg")?"icon-lg":"icon-base"),"sizeClass");var c={...Ne()},f=St(),l=vt(f);{var d=u=>{var h=mg();let g;var p=tt(h);J(x=>{Hn(h,1,`cell-icon ${n(s)??""}`,"svelte-weao3c"),A(h,"title",x),g=We(h,"",g,{color:n(a)}),Xt(p,n(i))},[()=>String(e.value??"")]),F(u,h)};z(()=>X(l,u=>{n(i)&&u(d)}),"if",zi,31,0)}return F(t,f),be(c)}Fi[D]="src/components/table/CellBadge.svelte";var yg=$(yt("<span> </span>"),Fi[D],[[56,2]]);function Fi(t,e){Te(new.target),we(e,!0,Fi);const r=v(m(()=>{var h;return((h=e.options)==null?void 0:h.variants)??{}}),"variants"),o=v(m(()=>{var h;return((h=e.options)==null?void 0:h.colors)??{}}),"colors"),a=v(m(()=>{var h;return((h=e.options)==null?void 0:h.size)??"base"}),"size"),i=v(m(()=>w(e.value,void 0)||w(e.value,null)?"":String(e.value)),"displayValue"),s=v(m(()=>{const h=String(e.value??"");if(n(o)&&h in n(o))return n(o)[h];if(n(r)&&h in n(r))switch(n(r)[h]){case"success":return"var(--wf-badge-success, #16a34a)";case"warning":return"var(--wf-badge-warning, #f59e0b)";case"error":return"var(--wf-badge-error, #dc2626)";case"info":return"var(--wf-badge-info, #2563eb)";case"muted":return"var(--wf-badge-muted, var(--wf-muted, #64748b))";default:return"var(--wf-primary, #2563eb)"}return"var(--wf-primary, #2563eb)"}),"badgeColor"),c=v(m(()=>w(n(a),"sm")?"badge-sm":"badge-base"),"sizeClass");var f={...Ne()},l=St(),d=vt(l);{var u=h=>{var g=yg();let p;var x=tt(g);J(()=>{Hn(g,1,`cell-badge ${n(c)??""}`,"svelte-16nh7k4"),p=We(g,"",p,{"background-color":`color-mix(in srgb, ${n(s)??""} 15%, var(--wf-bg, #fff))`,color:n(s)}),Xt(x,n(i))}),F(h,g)};z(()=>X(d,h=>{n(i)&&h(u)}),"if",Fi,55,0)}return F(t,l),be(f)}So[D]="src/components/table/CellStars.svelte";var xg=$(yt("<span> </span>"),So[D],[[44,6]]),_g=$(yt('<span class="cell-stars svelte-8zr88i"></span>'),So[D],[[42,2]]);function So(t,e){Te(new.target),we(e,!0,So);const r=v(m(()=>{var p;return((p=e.options)==null?void 0:p.maxStars)??5}),"maxStars"),o=v(m(()=>{var p;return((p=e.options)==null?void 0:p.color)??"#f59e0b"}),"filledColor"),a=v(m(()=>{var p;return((p=e.options)==null?void 0:p.emptyColor)??"#d1d5db"}),"emptyColor"),i=v(m(()=>{var p;return((p=e.options)==null?void 0:p.halfStars)??!1}),"halfStars"),s="★",c="☆",f="⯪",l=v(m(()=>{if(w(e.value,void 0)||w(e.value,null))return"";const p=Math.max(0,Math.min(n(r),e.value)),x=[];for(let _=1;_<=n(r);_++)_<=p?x.push({char:s,filled:"full"}):n(i)&&_-.5<=p?x.push({char:f,filled:"half"}):x.push({char:c,filled:"empty"});return x}),"starDisplay");var d={...Ne()},u=St(),h=vt(u);{var g=p=>{var x=_g();z(()=>Be(x,21,()=>n(l),br,(_,y)=>{var S=xg();let T,N;var b=tt(S,!0);J(()=>{T=Hn(S,1,"star svelte-8zr88i",null,T,{filled:w(n(y).filled,"full"),half:w(n(y).filled,"half")}),N=We(S,"",N,{color:w(n(y).filled,"empty")?n(a):n(o)}),Xt(b,n(y).char)}),F(_,S)}),"each",So,43,4),J(()=>A(x,"title",`${e.value??""} / ${n(r)??""}`)),F(p,x)};z(()=>X(h,p=>{w(e.value,void 0,!1)&&w(e.value,null,!1)&&p(g)}),"if",So,41,0)}return F(t,u),be(d)}Eo[D]="src/components/table/CellImg.svelte";var wg=$(yt('<img alt="" loading="lazy"/>'),Eo[D],[[28,2]]),bg=$(yt('<span class="cell-img-fallback svelte-1rifgp8" title="Image not available"> </span>'),Eo[D],[[38,2]]);function Eo(t,e){Te(new.target),we(e,!0,Eo);const r=v(m(()=>{var p;return(p=e.options)==null?void 0:p.height}),"imgHeight"),o=v(m(()=>{var p;return(p=e.options)==null?void 0:p.maxWidth}),"maxWidth"),a=v(m(()=>{var p;return((p=e.options)==null?void 0:p.fallback)??"📷"}),"fallback"),i=v(m(()=>{var p;return((p=e.options)==null?void 0:p.shape)??"square"}),"shape");let s=v(Wt(!1),"hasError");const c=v(m(()=>w(n(i),"circle")?"shape-circle":w(n(i),"rounded")?"shape-rounded":""),"shapeClass");function f(){at(s,!0)}var l={...Ne()},d=St(),u=vt(d);{var h=p=>{var x=wg();let _;J(()=>{Hn(x,1,`cell-img ${n(c)??""}`,"svelte-1rifgp8"),A(x,"src",e.value),_=We(x,"",_,{height:n(r)?`${n(r)}px`:"calc(var(--wf-row-height, 28px) - 4px)","max-width":n(o)?`${n(o)}px`:"100%"})}),Bn("error",x,f),F(p,x)},g=p=>{var x=St(),_=vt(x);{var y=S=>{var T=bg(),N=tt(T);J(()=>Xt(N,n(a))),F(S,T)};z(()=>X(_,S=>{n(a)&&S(y)},!0),"if",Eo,37,0)}F(p,x)};z(()=>X(u,p=>{e.value&&!n(s)?p(h):p(g,!1)}),"if",Eo,27,0)}return F(t,d),be(l)}Vr[D]="src/components/table/CellReference.svelte";var Mg=$(yt('<span class="reference-icon svelte-186gxpi">↗</span>'),Vr[D],[[44,8]]),Sg=$(yt('<a class="cell-reference svelte-186gxpi" target="_blank" rel="noopener noreferrer"><span class="reference-text svelte-186gxpi"> </span> <!></a>'),Vr[D],[[35,4,[[42,6]]]]),Eg=$(yt('<span class="cell-reference svelte-186gxpi"> </span>'),Vr[D],[[48,4]]);function Vr(t,e){Te(new.target),we(e,!0,Vr);const r=v(m(()=>{var g;return((g=e.options)==null?void 0:g.maxChars)??30}),"maxChars"),o=v(m(()=>{var g;return((g=e.options)==null?void 0:g.showIcon)??!0}),"showIcon"),a=v(m(()=>{var g;return(g=e.options)==null?void 0:g.hrefField}),"hrefField"),i=v(m(()=>{if(!n(a))return null;const g=e.metadata[n(a)];return w(typeof g,"string")?g:null}),"href"),s=v(m(()=>{if(w(e.value,void 0)||w(e.value,null))return"";const g=String(e.value);return g.length<=n(r)?g:g.substring(0,n(r))+"..."}),"displayValue"),c=v(m(()=>e.value?String(e.value):""),"fullValue"),f=v(m(()=>n(c).length>n(r)),"isTruncated");var l={...Ne()},d=St(),u=vt(d);{var h=g=>{var p=St(),x=vt(p);{var _=S=>{var T=Sg(),N=tt(T),b=tt(N),k=it(N,2);{var M=E=>{var P=Mg();F(E,P)};z(()=>X(k,E=>{n(o)&&E(M)}),"if",Vr,43,6)}J(()=>{A(T,"href",n(i)),A(T,"title",n(f)?n(c):void 0),Xt(b,n(s))}),F(S,T)},y=S=>{var T=Eg(),N=tt(T);J(()=>{A(T,"title",n(f)?n(c):void 0),Xt(N,n(s))}),F(S,T)};z(()=>X(x,S=>{n(i)?S(_):S(y,!1)}),"if",Vr,34,2)}F(g,p)};z(()=>X(u,g=>{e.value&&g(h)}),"if",Vr,33,0)}return F(t,d),be(l)}Pi[D]="src/components/table/CellRange.svelte";var Cg=$(yt('<span class="cell-range svelte-jzelx2"> </span>'),Pi[D],[[51,2]]);function Pi(t,e){Te(new.target),we(e,!0,Pi);const r=v(m(()=>{var x;return((x=e.options)==null?void 0:x.separator)??" – "}),"separator"),o=v(m(()=>{var x;return(x=e.options)==null?void 0:x.decimals}),"decimals"),a=v(m(()=>{var x;return((x=e.options)==null?void 0:x.minField)??""}),"minField"),i=v(m(()=>{var x;return((x=e.options)==null?void 0:x.maxField)??""}),"maxField"),s=v(m(()=>{if(!n(a))return null;const x=e.metadata[n(a)];return w(typeof x,"number")?x:null}),"minValue"),c=v(m(()=>{if(!n(i))return null;const x=e.metadata[n(i)];return w(typeof x,"number")?x:null}),"maxValue");function f(x){return w(x,null)?"":w(n(o),null)||w(n(o),void 0)?Number.isInteger(x)?String(x):x.toFixed(1):x.toFixed(n(o))}const l=v(m(()=>w(n(s),null)&&w(n(c),null)?"":w(n(s),null)?f(n(c)):w(n(c),null)?f(n(s)):`${f(n(s))}${n(r)}${f(n(c))}`),"displayValue"),d=v(m(()=>w(n(s),null,!1)||w(n(c),null,!1)),"hasRange");var u={...Ne()},h=St(),g=vt(h);{var p=x=>{var _=Cg(),y=tt(_);J((S,T)=>{A(_,"title",`${S??""} to ${T??""}`),Xt(y,n(l))},[()=>f(n(s)),()=>f(n(c))]),F(x,_)};z(()=>X(g,x=>{n(d)&&x(p)}),"if",Pi,50,0)}return F(t,h),be(u)}Li[D]="src/components/table/CellHeatmap.svelte";var kg=$(yt('<div class="cell-heatmap svelte-1868gcr"><!></div>'),Li[D],[[76,0]]);function Li(t,e){Te(new.target),we(e,!0,Li);const r=v(m(()=>{var y;return((y=e.options)==null?void 0:y.palette)??["#f7fbff","#08306b"]}),"palette"),o=v(m(()=>{var y;return((y=e.options)==null?void 0:y.decimals)??2}),"decimals"),a=v(m(()=>{var y;return((y=e.options)==null?void 0:y.showValue)??!0}),"showValue"),i=v(m(()=>{var y;return((y=e.options)==null?void 0:y.minValue)??e.minValue??0}),"effectiveMin"),s=v(m(()=>{var y;return((y=e.options)==null?void 0:y.maxValue)??e.maxValue??1}),"effectiveMax"),c=v(m(()=>w(e.value,void 0)||w(e.value,null)||Number.isNaN(e.value)?null:w(n(s),n(i))?.5:Math.max(0,Math.min(1,(e.value-n(i))/(n(s)-n(i))))),"normalized");function f(y){const S=y.replace("#","");return[parseInt(S.substring(0,2),16),parseInt(S.substring(2,4),16),parseInt(S.substring(4,6),16)]}const l=v(m(()=>{if(w(n(c),null))return"transparent";const y=n(c),S=n(r).length-1,T=Math.min(Math.floor(y*S),S-1),N=y*S-T,b=f(n(r)[T]),k=f(n(r)[T+1]),M=Math.round(b[0]+(k[0]-b[0])*N),E=Math.round(b[1]+(k[1]-b[1])*N),P=Math.round(b[2]+(k[2]-b[2])*N);return`rgb(${M}, ${E}, ${P})`}),"bgColor"),d=v(m(()=>{if(w(n(c),null))return"inherit";const y=n(c),S=n(r).length-1,T=Math.min(Math.floor(y*S),S-1),N=y*S-T,b=f(n(r)[T]),k=f(n(r)[T+1]),M=b[0]+(k[0]-b[0])*N,E=b[1]+(k[1]-b[1])*N,P=b[2]+(k[2]-b[2])*N;return(.299*M+.587*E+.114*P)/255>.5?"#1a1a1a":"#ffffff"}),"textColor"),u=v(m(()=>w(e.value,void 0)||w(e.value,null)||Number.isNaN(e.value)?"":e.value.toFixed(n(o))),"formattedValue");var h={...Ne()},g=kg();let p;var x=tt(g);{var _=y=>{var S=Bu();J(()=>Xt(S,n(u))),F(y,S)};z(()=>X(x,y=>{n(a)&&n(u)&&y(_)}),"if",Li,81,2)}return J(()=>p=We(g,"",p,{"background-color":n(l),color:n(d)})),F(t,g),be(h)}Co[D]="src/components/table/CellProgress.svelte";var Tg=$(yt('<span class="progress-label svelte-176qu32"> </span>'),Co[D],[[36,6]]),Ng=$(yt('<div class="cell-progress svelte-176qu32"><div class="progress-track svelte-176qu32"><div class="progress-fill svelte-176qu32"></div></div> <!></div>'),Co[D],[[27,2,[[28,4,[[29,6]]]]]]);function Co(t,e){Te(new.target),we(e,!0,Co);const r=v(m(()=>{var u;return((u=e.options)==null?void 0:u.maxValue)??100}),"maxValue"),o=v(m(()=>{var u;return((u=e.options)==null?void 0:u.showLabel)??!0}),"showLabel"),a=v(m(()=>{var u;return((u=e.options)==null?void 0:u.color)??"var(--wf-primary, #2563eb)"}),"barColor"),i=v(m(()=>w(e.value,void 0)||w(e.value,null)||n(r)<=0?0:Math.min(100,Math.max(0,e.value/n(r)*100))),"percentage"),s=v(m(()=>w(e.value,void 0)||w(e.value,null)?"":`${Math.round(n(i))}%`),"formattedLabel");var c={...Ne()},f=St(),l=vt(f);{var d=u=>{var h=Ng(),g=tt(h),p=tt(g);let x;var _=it(g,2);{var y=S=>{var T=Tg(),N=tt(T);J(()=>Xt(N,n(s))),F(S,T)};z(()=>X(_,S=>{n(o)&&S(y)}),"if",Co,35,4)}J(()=>x=We(p,"",x,{width:`${n(i)??""}%`,"background-color":n(a)})),F(u,h)};z(()=>X(l,u=>{w(e.value,void 0,!1)&&w(e.value,null,!1)&&u(d)}),"if",Co,26,0)}return F(t,f),be(c)}const Hg=["default","minimal","dark","jama","lancet","modern","presentation","cochrane","nature"],Rt={name:"default",colors:{background:"#ffffff",foreground:"#333333",primary:"#0891b2",secondary:"#64748b",accent:"#8b5cf6",muted:"#94a3b8",border:"#e2e8f0",rowBg:"#ffffff",altBg:"#f8fafc",interval:"#0891b2",intervalPositive:"#0891b2",intervalNegative:"#dc2626",intervalNeutral:"#64748b",intervalLine:"#475569",summaryFill:"#0891b2",summaryBorder:"#0e7490"},typography:{fontFamily:"system-ui, -apple-system, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5,headerFontScale:1.05},spacing:{rowHeight:28,headerHeight:36,sectionGap:16,padding:12,containerPadding:0,cellPaddingX:10,cellPaddingY:4,axisGap:12,groupPadding:8},shapes:{pointSize:6,summaryHeight:10,lineWidth:1.5,borderRadius:2},axis:{rangeMin:null,rangeMax:null,tickCount:null,tickValues:null,gridlines:!1,gridlineStyle:"dotted",ciClipFactor:2,includeNull:!0,symmetric:null,nullTick:!0,markerMargin:!0},layout:{plotPosition:"right",tableWidth:"auto",plotWidth:"auto",containerBorder:!1,containerBorderRadius:8,banding:!0},groupHeaders:{level1FontSize:"1rem",level1FontWeight:700,level1Italic:!1,level1Background:null,level1BorderBottom:!1,level2FontSize:"0.9375rem",level2FontWeight:500,level2Italic:!0,level2Background:null,level2BorderBottom:!1,level3FontSize:"0.875rem",level3FontWeight:400,level3Italic:!1,level3Background:null,level3BorderBottom:!1,indentPerLevel:16}},Ag={...Rt,name:"minimal",colors:{...Rt.colors,background:"#ffffff",foreground:"#000000",primary:"#000000",secondary:"#333333",accent:"#000000",muted:"#666666",border:"#000000",rowBg:"#ffffff",altBg:"#fafafa",interval:"#000000",intervalPositive:"#000000",intervalNegative:"#000000",intervalNeutral:"#666666",intervalLine:"#000000",summaryFill:"#000000",summaryBorder:"#000000"},typography:{...Rt.typography,fontFamily:"Georgia, 'Times New Roman', serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.4},spacing:{...Rt.spacing,rowHeight:24,headerHeight:30,sectionGap:12,padding:10},shapes:{...Rt.shapes,pointSize:5,summaryHeight:8,lineWidth:1,borderRadius:0},layout:{...Rt.layout,containerBorder:!1,containerBorderRadius:0}},Wg={...Rt,name:"dark",colors:{...Rt.colors,background:"#1e1e2e",foreground:"#cdd6f4",primary:"#89b4fa",secondary:"#a6adc8",accent:"#f5c2e7",muted:"#6c7086",border:"#313244",rowBg:"#1e1e2e",altBg:"#232334",interval:"#89b4fa",intervalPositive:"#a6e3a1",intervalNegative:"#f38ba8",intervalNeutral:"#6c7086",intervalLine:"#9399b2",summaryFill:"#89b4fa",summaryBorder:"#74c7ec"},typography:{...Rt.typography,fontFamily:"system-ui, -apple-system, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5},spacing:{...Rt.spacing,rowHeight:30,headerHeight:38,sectionGap:18,padding:14},shapes:{...Rt.shapes,pointSize:6,summaryHeight:10,lineWidth:1.5,borderRadius:4},layout:{...Rt.layout,containerBorder:!1,containerBorderRadius:8}},Rg={...Rt,name:"jama",colors:{...Rt.colors,background:"#ffffff",foreground:"#000000",primary:"#000000",secondary:"#333333",accent:"#000000",muted:"#555555",border:"#000000",rowBg:"#ffffff",altBg:"#f9fafb",interval:"#000000",intervalPositive:"#000000",intervalNegative:"#000000",intervalNeutral:"#555555",intervalLine:"#000000",summaryFill:"#000000",summaryBorder:"#000000"},typography:{...Rt.typography,fontFamily:"Arial, Helvetica, sans-serif",fontSizeSm:"8pt",fontSizeBase:"9pt",fontSizeLg:"10pt",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.2},spacing:{...Rt.spacing,rowHeight:18,headerHeight:24,sectionGap:8,padding:6,cellPaddingX:8,cellPaddingY:2},shapes:{...Rt.shapes,pointSize:4,summaryHeight:7,lineWidth:1.25,borderRadius:0},layout:{...Rt.layout,containerBorder:!1,containerBorderRadius:0}},Ig={...Rt,name:"lancet",colors:{...Rt.colors,background:"#fdfcfb",foreground:"#1e3a5f",primary:"#00407a",secondary:"#3d5a80",accent:"#b8860b",muted:"#6b7c93",border:"#d4dce6",rowBg:"#fdfcfb",altBg:"#f8f7f6",interval:"#00407a",intervalPositive:"#00407a",intervalNegative:"#9d2933",intervalNeutral:"#3d5a80",intervalLine:"#1e3a5f",summaryFill:"#00407a",summaryBorder:"#002d54"},typography:{...Rt.typography,fontFamily:"Georgia, 'Times New Roman', serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.5},spacing:{...Rt.spacing,rowHeight:26,headerHeight:34,sectionGap:16,padding:12,cellPaddingX:12,cellPaddingY:5},shapes:{...Rt.shapes,pointSize:5,summaryHeight:9,lineWidth:1.25,borderRadius:0},layout:{...Rt.layout,containerBorder:!1,containerBorderRadius:0}},zg={...Rt,name:"modern",colors:{...Rt.colors,background:"#fafafa",foreground:"#18181b",primary:"#3b82f6",secondary:"#52525b",accent:"#8b5cf6",muted:"#a1a1aa",border:"#d4d4d8",rowBg:"#fafafa",altBg:"#f4f4f5",interval:"#3b82f6",intervalPositive:"#22c55e",intervalNegative:"#ef4444",intervalNeutral:"#71717a",intervalLine:"#27272a",summaryFill:"#3b82f6",summaryBorder:"#2563eb"},typography:{...Rt.typography,fontFamily:"Inter, system-ui, -apple-system, sans-serif",fontSizeSm:"0.8125rem",fontSizeBase:"0.9375rem",fontSizeLg:"1.0625rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5},spacing:{...Rt.spacing,rowHeight:36,headerHeight:44,sectionGap:24,padding:16,cellPaddingX:12,cellPaddingY:6},shapes:{...Rt.shapes,pointSize:8,summaryHeight:12,lineWidth:1.75,borderRadius:8},layout:{...Rt.layout,containerBorder:!1,containerBorderRadius:12}},Fg={...Rt,name:"presentation",colors:{...Rt.colors,background:"#ffffff",foreground:"#0f172a",primary:"#0369a1",secondary:"#334155",accent:"#ea580c",muted:"#64748b",border:"#94a3b8",rowBg:"#ffffff",altBg:"#f8fafc",interval:"#0369a1",intervalPositive:"#047857",intervalNegative:"#be123c",intervalNeutral:"#334155",intervalLine:"#0f172a",summaryFill:"#0369a1",summaryBorder:"#0c4a6e"},typography:{...Rt.typography,fontFamily:"'Source Sans Pro', 'Segoe UI', Roboto, sans-serif",fontSizeSm:"1rem",fontSizeBase:"1.125rem",fontSizeLg:"1.25rem",fontWeightNormal:400,fontWeightMedium:600,fontWeightBold:700,lineHeight:1.4},spacing:{...Rt.spacing,rowHeight:44,headerHeight:52,sectionGap:28,padding:20,cellPaddingX:14,cellPaddingY:6},shapes:{...Rt.shapes,pointSize:12,summaryHeight:16,lineWidth:2.5,borderRadius:4},layout:{...Rt.layout,containerBorder:!1,containerBorderRadius:6}},Pg={...Rt,name:"cochrane",colors:{...Rt.colors,background:"#ffffff",foreground:"#2c2c2c",primary:"#0099cc",secondary:"#555555",accent:"#006699",muted:"#888888",border:"#b3b3b3",rowBg:"#ffffff",altBg:"#f5f5f5",interval:"#0099cc",intervalPositive:"#0099cc",intervalNegative:"#cc3333",intervalNeutral:"#555555",intervalLine:"#2c2c2c",summaryFill:"#0099cc",summaryBorder:"#006699"},typography:{...Rt.typography,fontFamily:"Arial, Helvetica, sans-serif",fontSizeSm:"0.6875rem",fontSizeBase:"0.75rem",fontSizeLg:"0.8125rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.25},spacing:{...Rt.spacing,rowHeight:20,headerHeight:26,sectionGap:8,padding:6,cellPaddingX:6,cellPaddingY:2},shapes:{...Rt.shapes,pointSize:4,summaryHeight:7,lineWidth:1,borderRadius:0},layout:{...Rt.layout,containerBorder:!1,containerBorderRadius:0}},Lg={...Rt,name:"nature",colors:{...Rt.colors,background:"#ffffff",foreground:"#1a1a1a",primary:"#1976d2",secondary:"#424242",accent:"#c62828",muted:"#616161",border:"#bdbdbd",rowBg:"#ffffff",altBg:"#fafafa",interval:"#1976d2",intervalPositive:"#1976d2",intervalNegative:"#c62828",intervalNeutral:"#616161",intervalLine:"#1a1a1a",summaryFill:"#1976d2",summaryBorder:"#0d47a1"},typography:{...Rt.typography,fontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.8125rem",fontSizeLg:"0.9375rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.35},spacing:{...Rt.spacing,rowHeight:24,headerHeight:32,sectionGap:12,padding:10,cellPaddingX:10,cellPaddingY:4},shapes:{...Rt.shapes,pointSize:5,summaryHeight:8,lineWidth:1.25,borderRadius:1},layout:{...Rt.layout,containerBorder:!1,containerBorderRadius:2},axis:{...Rt.axis,gridlines:!1,nullTick:!0}},Dg={default:Rt,minimal:Ag,dark:Wg,jama:Rg,lancet:Ig,modern:zg,presentation:Fg,cochrane:Pg,nature:Lg},Bc={default:"Default",minimal:"Minimal",dark:"Dark",jama:"JAMA",lancet:"Lancet",modern:"Modern",presentation:"Presentation",cochrane:"Cochrane",nature:"Nature"};function Bg(t,e,r={}){const{gap:o=4,viewportPadding:a=8,preferredPosition:i="below",align:s="end"}=r,c=window.innerHeight,f=window.innerWidth,l=c-t.bottom-o-a,d=t.top-o-a;let u,h;i==="below"?l>=e.height?u="below":d>=e.height?u="above":(u=l>=d?"below":"above",h=Math.max(u==="below"?l:d,100)):d>=e.height?u="above":l>=e.height?u="below":(u=d>=l?"above":"below",h=Math.max(u==="above"?d:l,100));const g={};return u==="below"?g.top=t.bottom+o:g.bottom=c-t.top+o,s==="end"?t.right-e.width<a?g.left=Math.max(t.left,a):g.right=f-t.right:t.left+e.width>f-a?g.right=Math.max(f-t.right,a):g.left=t.left,h&&(g.maxHeight=h),g}function Or(t,e){function r(){if(!e.triggerEl)return;const a=e.triggerEl.getBoundingClientRect(),i=t.getBoundingClientRect(),s=Bg(a,{width:i.width,height:i.height},{gap:e.gap??4,align:e.align??"end"});t.style.position="fixed",t.style.top="",t.style.bottom="",t.style.left="",t.style.right="",s.top!==void 0&&(t.style.top=`${s.top}px`),s.bottom!==void 0&&(t.style.bottom=`${s.bottom}px`),s.left!==void 0&&(t.style.left=`${s.left}px`),s.right!==void 0&&(t.style.right=`${s.right}px`),s.maxHeight?(t.style.maxHeight=`${s.maxHeight}px`,t.style.overflowY="auto"):(t.style.maxHeight="",t.style.overflowY="")}function o(a){e=a,requestAnimationFrame(r)}return o(e),{update:o,destroy(){}}}fr[D]="src/components/ui/ThemeSwitcher.svelte";var Gg=$(Pt('<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-35mgh1"><polyline points="20 6 9 17 4 12"></polyline></svg>'),fr[D],[[93,12,[[94,14]]]]),Vg=$(yt('<span class="spacer svelte-35mgh1"></span>'),fr[D],[[97,12]]),Og=$(yt("<button><!> <span> </span></button>"),fr[D],[[87,8,[[99,10]]]]),$g=$(yt('<div class="theme-dropdown svelte-35mgh1"></div>'),fr[D],[[85,4]]),jg=$(yt('<div class="theme-switcher-wrapper svelte-35mgh1"><button class="theme-btn svelte-35mgh1" aria-label="Switch theme"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path></svg></button> <!></div>'),fr[D],[[70,0,[[71,2,[[78,4,[[79,6],[80,6]]]]]]]]);function fr(t,e){Te(new.target),we(e,!0,fr);let r=v(Wt(!1),"dropdownOpen"),o=v(Wt(null),"triggerEl");const a=v(m(()=>{var p,x;return((x=(p=e.store.spec)==null?void 0:p.theme)==null?void 0:x.name)??"default"}),"currentTheme"),i=v(m(()=>w(e.availableThemes,void 0)||w(e.availableThemes,null)?Hg.map(p=>[p,Bc[p]]):Object.entries(e.availableThemes).map(([p,x])=>{const _=x.name?Bc[x.name]??x.name:p;return[p,_]})),"themeEntries");function s(){at(r,!1)}function c(p){if(e.onThemeChange)e.onThemeChange(p);else if(e.availableThemes&&p in e.availableThemes){const x=e.availableThemes[p];e.store.spec&&e.store.setSpec({...e.store.spec,theme:x})}else e.store.setTheme(p);s()}function f(p){p.target.closest(".theme-switcher-wrapper")||s()}var l={...Ne()},d=jg();Bn("click",jo,f);var u=tt(d);u.__click=()=>at(r,!n(r)),yo(u,p=>at(o,p),()=>n(o));var h=it(u,2);{var g=p=>{var x=$g();z(()=>Be(x,21,()=>n(i),br,(_,y)=>{var S=m(()=>Ba(n(y),2));let T=()=>n(S)[0];T();let N=()=>n(S)[1];N();var b=Og();let k;b.__click=()=>c(T());var M=tt(b);{var E=W=>{var G=Gg();F(W,G)},P=W=>{var G=Vg();F(W,G)};z(()=>X(M,W=>{w(n(a),T())?W(E):W(P,!1)}),"if",fr,92,10)}var H=it(M,2),R=tt(H,!0);J(()=>{k=Hn(b,1,"dropdown-item svelte-35mgh1",null,k,{active:w(n(a),T())}),Xt(R,N())}),F(_,b)}),"each",fr,86,6),sa(x,(_,y)=>Or==null?void 0:Or(_,y),()=>({triggerEl:n(o)})),F(p,x)};z(()=>X(h,p=>{n(r)&&p(g)}),"if",fr,84,2)}return J(()=>A(u,"aria-expanded",n(r))),F(t,d),be(l)}mo(["click"]),ko[D]="src/components/ui/ViewToggle.svelte";var qg=$(Pt('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="10" y2="6"></line><line x1="3" y1="12" x2="10" y2="12"></line><line x1="3" y1="18" x2="10" y2="18"></line><line x1="14" y1="12" x2="21" y2="12"></line><circle cx="17" cy="12" r="2" fill="currentColor"></circle></svg>'),ko[D],[[21,4,[[23,6],[24,6],[25,6],[27,6],[28,6]]]]),Xg=$(Pt('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>'),ko[D],[[32,4,[[33,6],[34,6],[35,6]]]]),Ug=$(yt('<button class="view-toggle-btn svelte-1u54q0q"><!></button>'),ko[D],[[13,0]]);function ko(t,e){Te(new.target),we(e,!0,ko);const r=v(m(()=>{var f,l;return((l=(f=e.store.spec)==null?void 0:f.data)==null?void 0:l.includeForest)??!0}),"includeForest");var o={...Ne()},a=Ug();a.__click=()=>e.store.toggleForestView();var i=tt(a);{var s=f=>{var l=qg();F(f,l)},c=f=>{var l=Xg();F(f,l)};z(()=>X(i,f=>{n(r)?f(s):f(c,!1)}),"if",ko,19,2)}return J(()=>{A(a,"aria-label",n(r)?"Show table only":"Show forest plot"),A(a,"title",n(r)?"Show table only":"Show forest plot")}),F(t,a),be(o)}mo(["click"]);function xa(t,e){const r=t.split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,e),r.join(".")}function ks(t){const e=Math.abs(t),r=t<0?"-":"";if(e>=1e12)throw new Error(`Cannot abbreviate value >= 1 trillion: ${t}`);if(e>=1e9){const o=e/1e9;return r+Ts(o)+"B"}if(e>=1e6){const o=e/1e6;return r+Ts(o)+"M"}if(e>=1e3){const o=e/1e3;return r+Ts(o)+"K"}return r+Math.round(e).toString()}function Ts(t){const e=Math.round(t*10)/10;return e===Math.floor(e)?e.toFixed(0):e.toFixed(1)}const Yg={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻","+":"⁺"};function Zg(t){return t.split("").map(e=>Yg[e]??e).join("")}function ti(t,e){var l,d,u,h,g,p,x;if(t==null||Number.isNaN(t))return(e==null?void 0:e.naText)??"";if(e!=null&&e.percent){const{decimals:_,digits:y,multiply:S=!0,symbol:T=!0}=e.percent,N=S?t*100:t,b=y!=null?N.toPrecision(y):N.toFixed(_??1);return T?`${b}%`:b}if(((l=e==null?void 0:e.numeric)==null?void 0:l.abbreviate)&&Math.abs(t)>=1e3)return ks(t);const o=(d=e==null?void 0:e.numeric)==null?void 0:d.digits;if(o!=null){const _=t.toPrecision(o),y=(u=e==null?void 0:e.numeric)==null?void 0:u.thousandsSep;return y&&typeof y=="string"?xa(_,y):_}const a=(h=e==null?void 0:e.numeric)==null?void 0:h.decimals,i=(g=e==null?void 0:e.numeric)==null?void 0:g.thousandsSep;let s;a!==void 0?s=t.toFixed(a):Number.isInteger(t)||Math.abs(t-Math.round(t))<1e-4?s=Math.round(t).toString():s=t.toFixed(2),i&&typeof i=="string"&&(s=xa(s,i));const c=(p=e==null?void 0:e.numeric)==null?void 0:p.prefix,f=(x=e==null?void 0:e.numeric)==null?void 0:x.suffix;return c&&(s=c+s),f&&(s=s+f),s}function Ns(t,e){const{eventsField:r,nField:o,separator:a="/",showPct:i=!1,thousandsSep:s,abbreviate:c}=e.events,f=t.metadata[r],l=t.metadata[o];if(f==null||l===void 0||l===null)return e.naText??"";const d=Number(f),u=Number(l);let h,g;c&&(d>=1e3||u>=1e3)?(h=d>=1e3?ks(d):String(d),g=u>=1e3?ks(u):String(u)):(h=String(d),g=String(u),s&&typeof s=="string"&&(h=xa(h,s),g=xa(g,s)));let p=`${h}${a}${g}`;if(i&&u>0){const x=(d/u*100).toFixed(1);p+=` (${x}%)`}return p}function Hs(t,e,r,o){var c,f,l;if(t==null||Number.isNaN(t))return"";const a=((c=o==null?void 0:o.interval)==null?void 0:c.decimals)??2,i=((f=o==null?void 0:o.interval)==null?void 0:f.sep)??" ",s=(l=o==null?void 0:o.interval)==null?void 0:l.impreciseThreshold;return e==null||r===void 0||r===null||Number.isNaN(e)||Number.isNaN(r)?t.toFixed(a):s!=null&&e>0&&r/e>s?"—":`${t.toFixed(a)}${i}(${e.toFixed(a)}, ${r.toFixed(a)})`}function Gc(t,e){if(t==null||Number.isNaN(t))return(e==null?void 0:e.naText)??"";const r=e==null?void 0:e.pvalue,o=(r==null?void 0:r.digits)??2,a=(r==null?void 0:r.expThreshold)??.001,i=(r==null?void 0:r.abbrevThreshold)??null,s=(r==null?void 0:r.format)??"auto",c=(r==null?void 0:r.stars)??!1,f=(r==null?void 0:r.thresholds)??[.05,.01,.001];let l="";if(c&&(t<f[2]?l="***":t<f[1]?l="**":t<f[0]&&(l="*")),i!==null&&t<i)return`<${i}${l}`;if(s==="scientific"||s==="auto"&&t<a){const u=Math.floor(Math.log10(t));return`${(t/Math.pow(10,u)).toPrecision(o)}×10${Zg(u.toString())}${l}`}let d;return t>=.1?d=t.toFixed(o):t>=.01?d=t.toFixed(o+1):d=t.toFixed(o+2),`${d}${l}`}function Vc(t,e){var i,s,c,f,l,d;const{type:r,field:o,options:a}=e;switch(r){case"interval":{const u=(i=a==null?void 0:a.interval)!=null&&i.point?t.metadata[a.interval.point]:t.point,h=(s=a==null?void 0:a.interval)!=null&&s.lower?t.metadata[a.interval.lower]:t.lower,g=(c=a==null?void 0:a.interval)!=null&&c.upper?t.metadata[a.interval.upper]:t.upper;return Hs(u,h,g,a)}case"custom":return a!=null&&a.events?Ns(t,a):String(t.metadata[o]??"");case"pvalue":return Gc(t.metadata[o],a);case"numeric":return ti(t.metadata[o],a);case"percent":return ti(t.metadata[o],a);case"heatmap":{const u=t.metadata[o];if(u==null)return"";const h=((f=a==null?void 0:a.heatmap)==null?void 0:f.decimals)??2;return u.toFixed(h)}case"progress":{const u=t.metadata[o];if(u==null)return"";const h=((l=a==null?void 0:a.progress)==null?void 0:l.maxValue)??100;return`${Math.round(Math.min(100,Math.max(0,u/h*100)))}%`}case"sparkline":case"icon":case"stars":case"img":case"range":return"";case"badge":{const u=t.metadata[o];return u==null?"":`  ${String(u)}  `}case"bar":{if(((d=a==null?void 0:a.bar)==null?void 0:d.showLabel)===!1)return"";const u=t.metadata[o];return u==null?"":u>=100?u.toFixed(0):u>=10?u.toFixed(1):u.toFixed(2)}case"text":default:return String(t.metadata[o]??"")}}function ur(t,e){const r="⁰¹²³⁴⁵⁶⁷⁸⁹⁺⁻",o="ilI1.,;:|!()[]{}' -",a="mwMW@%",i="ABCDEFGHJKLNOPQRSTUVXYZ";let s=0;for(const c of t)r.includes(c)?s+=e*.15:o.includes(c)?s+=e*.35:"×−".includes(c)?s+=e*.4:a.includes(c)?s+=e*.85:c>="0"&&c<="9"?s+=e*.6:i.includes(c)?s+=e*.68:s+=e*.55;return s}function Kg(t,e,r,o=400){if(typeof document>"u")return null;const i=document.createElement("canvas").getContext("2d");return i?(i.font=`${o} ${e} ${r}`,i.measureText(t).width):null}function Oc(t){if(!t||t.length===0)return{min:NaN,q1:NaN,median:NaN,q3:NaN,max:NaN};const e=t.filter(a=>a!=null&&!Number.isNaN(a)).sort((a,i)=>a-i);if(e.length===0)return{min:NaN,q1:NaN,median:NaN,q3:NaN,max:NaN};const r=e.length,o=a=>{if(r===1)return e[0];const i=(r-1)*a,s=Math.floor(i),c=Math.ceil(i);return s===c?e[s]:e[s]+(i-s)*(e[c]-e[s])};return{min:e[0],q1:o(.25),median:o(.5),q3:o(.75),max:e[r-1]}}function Qg(t,e,r){if(!t||t.length===0||Number.isNaN(e)||Number.isNaN(r))return[];const o=r-e,a=e-1.5*o,i=r+1.5*o;return t.filter(s=>s!=null&&!Number.isNaN(s)&&(s<a||s>i))}function _a(t){const e=Oc(t),r=Qg(t,e.q1,e.q3);return{...e,outliers:r}}function Jg(t){if(!t||t.length<2)return 1;const e=t.filter(g=>g!=null&&!Number.isNaN(g)).sort((g,p)=>g-p);if(e.length<2)return 1;const r=e.length,o=e.reduce((g,p)=>g+p,0)/r,a=e.reduce((g,p)=>g+(p-o)**2,0)/(r-1),i=Math.sqrt(a),s=Math.floor((r-1)*.25),c=Math.floor((r-1)*.75),f=e[s],d=e[c]-f,h=.9*Math.min(i,d/1.34)*Math.pow(r,-.2);return Math.max(h,.001)}function tp(t){return Math.exp(-.5*t*t)/Math.sqrt(2*Math.PI)}function $c(t,e,r=128){if(!t||t.length===0)return{x:[],y:[]};const o=t.filter(g=>g!=null&&!Number.isNaN(g));if(o.length===0)return{x:[],y:[]};const a=e??Jg(o),i=Math.min(...o),s=Math.max(...o),c=3*a,f=i-c,d=(s+c-f)/(r-1),u=[],h=[];for(let g=0;g<r;g++){const p=f+g*d;u.push(p);let x=0;for(const _ of o)x+=tp((p-_)/a);x/=o.length*a,h.push(x)}return{x:u,y:h}}function jc(t,e){if(t.y.length===0)return t;const r=Math.max(...t.y);if(r===0)return t;const o=t.y.map(a=>a/r*e);return{x:t.x,y:o}}function wa(t,e,r,o=400){const a=Kg(t,`${e}px`,r,o);if(a!==null)return a;const i=1+Math.max(0,(o-400)/100)*.02;return ur(t,e)*i}function ep(t,e){var l,d;const r=new Map,o=kn(t.theme.typography.fontSizeBase),a=t.theme.typography.headerFontScale??1.05,i=Math.round(o*a*100)/100,s=t.data.rows,c=(t.theme.spacing.cellPaddingX??10)*2,f=(t.theme.spacing.groupPadding??8)*2;for(const u of e){if(u.width!=="auto"&&u.width!==null&&u.width!==void 0)continue;let h=0;u.header&&(h=Math.max(h,ur(u.header,i)));for(const x of s){if(((l=x.style)==null?void 0:l.type)==="header"||((d=x.style)==null?void 0:d.type)==="spacer")continue;const _=Vc(x,u);_&&(h=Math.max(h,ur(_,o)))}const g=Zn.VISUAL_MIN[u.type]??Zn.MIN,p=Math.ceil(h+c+Yn.RENDERING_BUFFER);r.set(u.id,Math.min(Zn.MAX,Math.max(g,p)))}return np(t.columns,r,i,f,Yn.RENDERING_BUFFER),r}function np(t,e,r,o,a){function i(f){return f.isGroup?f.columns.flatMap(i):[f]}function s(f){const l=e.get(f.id);return l!==void 0?l:typeof f.width=="number"?f.width:Zn.MIN}function c(f){if(f.isGroup){for(const l of f.columns)c(l);if(f.header){const l=ur(f.header,r)+o+a,d=i(f),u=d.reduce((h,g)=>h+s(g),0);if(l>u&&d.length>0){const h=Math.ceil((l-u)/d.length);for(const g of d)e.set(g.id,s(g)+h)}}}}for(const f of t)c(f)}function qc(t,e,r){let o=r.filter(i=>i.groupId===t).length;const a=e.filter(i=>i.parentId===t);for(const i of a)o+=qc(i.id,e,r);return o}function Xc(t){var f,l;const e=kn(t.theme.typography.fontSizeBase),r=(t.theme.spacing.cellPaddingX??10)*2;let o=0;const a=new Map,i=Array.isArray(t.data.groups)?t.data.groups:[];for(const d of i)a.set(d.id,d.depth);const s=d=>d?(a.get(d)??0)+1:0;t.data.labelHeader&&(o=Math.max(o,ur(t.data.labelHeader,e)));for(const d of t.data.rows)if(d.label){const u=s(d.groupId),h=((f=d.style)==null?void 0:f.indent)??0,p=(u+h)*Se.INDENT_PER_LEVEL;let x=ur(d.label,e)+p;if((l=d.style)!=null&&l.badge){const _=String(d.style.badge),y=e*Sr.FONT_SCALE,T=ur(_,y)+Sr.PADDING*2;x+=Sr.GAP+T}o=Math.max(o,x)}for(const d of i)if(d.label){const u=d.depth*Se.INDENT_PER_LEVEL,h=ur(d.label,e),p=`(${qc(d.id,i,t.data.rows)})`,x=e*.75,_=ur(p,x),y=u+Jr.CHEVRON_WIDTH+Jr.GAP+h+Jr.GAP+_+Jr.SAFETY_MARGIN;o=Math.max(o,y)}const c=Math.ceil(o+r+Yn.RENDERING_BUFFER);return Math.min(Zn.LABEL_MAX,Math.max(Zn.MIN,c))}function As(t,e){const r=e.get(t.id);return r!==void 0?r:typeof t.width=="number"?t.width:Er.DEFAULT_COLUMN_WIDTH}function rp(t,e,r=0){var Ot,zt,fe,_t,Ut;const o=t.theme,a=o.spacing.rowHeight,i=o.spacing.padding,s=Array.isArray(t.columns)?t.columns:[],c=Yc(s,"left"),f=Yc(s,"right"),d=ba(c)||ba(f)||ba(s)?2:1,u=o.spacing.cellPaddingY??4,p=(o.spacing.headerHeight/d+u*2)*d,x=!!((Ot=t.labels)!=null&&Ot.title),_=!!((zt=t.labels)!=null&&zt.subtitle),y=!!((fe=t.labels)!=null&&fe.caption),S=!!((_t=t.labels)!=null&&_t.footnote),T=x?Cr.TITLE_HEIGHT:0,N=_?Cr.SUBTITLE_HEIGHT:0,b=x&&_?13:0,k=T+b+N+(x||_?i:0),M=y?Cr.CAPTION_HEIGHT:0,E=S?Cr.FOOTNOTE_HEIGHT:0,P=M+E+(y||S?i:0),H=Uc(t),R=!!t.data.overall;let W=0;for(const $t of H){const Ze=$t.type==="data"&&((Ut=$t.row.style)==null?void 0:Ut.type)==="spacer";W+=Ze?a/2:a}const G=W+(R?a*yd.OVERALL_ROW_HEIGHT_MULTIPLIER:0),L=Is(s,"left"),Q=Is(s,"right"),K=Rs(s).filter($t=>$t.position===void 0),U=[...L,...Q,...K];let V,Z;if(e.columnWidths){V=new Map;for(const[$t,Ze]of Object.entries(e.columnWidths))$t!=="__label__"&&V.set($t,Ze);Z=e.columnWidths.__label__??Xc(t)}else V=ep(t,U),Z=Xc(t);const ht=Z+L.reduce(($t,Ze)=>$t+As(Ze,V),0),rt=Q.reduce(($t,Ze)=>$t+As(Ze,V),0),st=K.filter($t=>$t.type!=="forest").reduce(($t,Ze)=>$t+As(Ze,V),0),ot=e.width??Er.DEFAULT_WIDTH,te=U.some($t=>$t.type==="forest")||t.data.includeForest,ie=ht+rt+st;let xt;if(!te)xt=0;else if(typeof e.forestWidth=="number")xt=e.forestWidth;else if(typeof t.layout.plotWidth=="number")xt=t.layout.plotWidth;else{const $t=ot-ie-i*2;xt=Math.max($t,Er.MIN_FOREST_WIDTH)}const Bt=i*2+ie+xt,Fe=Math.max(e.width??ot,Bt);te&&Fe>Bt&&typeof e.forestWidth!="number"&&typeof t.layout.plotWidth!="number"&&(xt=Fe-ie-i*2);const me=o.spacing.axisGap??12,ne=me+Er.AXIS_HEIGHT+Er.AXIS_LABEL_HEIGHT,tn=k+i+p+G+ne+P+Er.BOTTOM_MARGIN;return{totalWidth:Fe,totalHeight:e.height??tn,tableWidth:ht+rt,forestWidth:xt,headerHeight:p,rowHeight:a,plotHeight:G,axisHeight:Er.AXIS_HEIGHT,nullValue:r,summaryYPosition:G-a,showOverallSummary:R,headerTextHeight:k,footerTextHeight:P,titleY:i+Cr.TITLE_HEIGHT-4,subtitleY:i+T+b+Cr.SUBTITLE_HEIGHT-4,mainY:k+i,footerY:k+i+p+G+ne+8,axisGap:me,rowsHeight:W,autoWidths:V,labelWidth:Z}}function Uc(t){var u;const e=t.data.rows,r=Array.isArray(t.data.groups)?t.data.groups:[];if(r.length===0)return e.map(h=>({type:"data",row:h,depth:0}));const o=new Map;for(const h of r)o.set(h.id,h);const a=new Map;for(const h of e){const g=h.groupId??null;a.has(g)||a.set(g,[]),a.get(g).push(h)}const i=new Set;for(const h of a.keys()){if(!h)continue;let g=h;for(;g;)i.add(g),g=(u=o.get(g))==null?void 0:u.parentId}function s(h){return r.filter(g=>(g.parentId??null)===h&&i.has(g.id))}function c(h){if(!h)return 0;const g=o.get(h);return g?g.depth+1:0}function f(h){var p;let g=((p=a.get(h))==null?void 0:p.length)??0;for(const x of s(h))g+=f(x.id);return g}const l=[];function d(h){if(h){const p=o.get(h);if(!p)return;const x=f(h);l.push({type:"group_header",groupId:p.id,label:p.label,depth:p.depth,rowCount:x})}for(const p of s(h))d(p.id);const g=a.get(h)??[];for(const p of g)l.push({type:"data",row:p,depth:c(p.groupId)})}return d(null),l}function Ws(t){const e=[];for(const r of t)r.isGroup?e.push(...Ws(r.columns)):e.push(r);return e}function Rs(t){const e=[];for(const r of t)r.isGroup?e.push(...Ws(r.columns)):e.push(r);return e}function Is(t,e){if(e===void 0)return Rs(t);const r=[];for(const o of t)o.position===e&&(o.isGroup?r.push(...Ws(o.columns)):r.push(o));return r}function Yc(t,e){return t.filter(r=>r.position===e)}function ba(t){return t.some(e=>e.isGroup)}function kn(t){let e;return t.endsWith("rem")?e=parseFloat(t)*Cr.REM_BASE:t.endsWith("px")?e=parseFloat(t):t.endsWith("pt")?e=parseFloat(t)*Cr.PT_TO_PX:e=Cr.DEFAULT_FONT_SIZE,Math.round(e*100)/100}function Ma(t,e,r){return r==="right"?{textX:t+e-Se.TEXT_PADDING,anchor:"end"}:r==="center"?{textX:t+e/2,anchor:"middle"}:{textX:t+Se.TEXT_PADDING,anchor:"start"}}function un(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function Zc(t,e,r,o=0){const a=e-o*2;if(ur(t,r)<=a)return t;const s="…",c=r*.55;let f=0,l=t.length;for(;f<l;){const d=Math.ceil((f+l)/2),u=t.slice(0,d);ur(u,r)+c<=a?f=d:l=d-1}return f===0?s:t.slice(0,f)+s}function op(t){return Math.abs(t)<.01?"0":Math.abs(t)>=100?t.toFixed(0):Math.abs(t)>=10?t.toFixed(1):t.toFixed(2)}function Di(t,e){const[r,o]=t,[a,i]=e,s=(i-a)/(o-r),c=f=>a+(f-r)*s;return c.domain=()=>t,c.range=()=>e,c.ticks=f=>{const l=(o-r)/(f-1),d=[];for(let u=0;u<f;u++)d.push(r+l*u);return d},c}function Bi(t,e){const[r,o]=t.map(d=>Math.max(d,.001)),[a,i]=e,s=Math.log10(r),c=Math.log10(o),f=(i-a)/(c-s),l=d=>{const u=Math.log10(Math.max(d,.001));return a+(u-s)*f};return l.domain=()=>[r,o],l.range=()=>e,l.ticks=d=>{const u=[],h=Math.floor(Math.log10(r)),g=Math.ceil(Math.log10(o));for(let p=h;p<=g;p++){const x=Math.pow(10,p);for(const _ of[1,2,5]){const y=x*_;y>=r&&y<=o&&u.push(y)}}return u.length>0?u:[r,o]},l}function ip(t,e,r,o){const a=r.scale==="log",i=An,s=Math.max(e-An,i+50);if(o!=null&&o.xDomain){const u=o.xDomain,h=o.clipBounds??u,g=Ql(h,t.theme.axis,r.scale,r.nullValue);return a?{scale:Bi([Math.max(u[0],.01),Math.max(u[1],.02)],[i,s]),clipBounds:h,ticks:g}:{scale:Di(u,[i,s]),clipBounds:h,ticks:g}}const c=Kl({rows:t.data.rows,config:t.theme.axis,scale:r.scale,nullValue:r.nullValue,forestWidth:e,pointSize:t.theme.shapes.pointSize,effects:r.effects,pointCol:r.pointCol,lowerCol:r.lowerCol,upperCol:r.upperCol}),{plotRegion:f,axisLimits:l,ticks:d}=c;return a?{scale:Bi([Math.max(f[0],.01),Math.max(f[1],.02)],[i,s]),clipBounds:l,ticks:d}:{scale:Di(f,[i,s]),clipBounds:l,ticks:d}}function ap(t,e,r){var i,s,c,f;const o=[],a=r.spacing.padding;if((i=t.labels)!=null&&i.title){const l=kn(r.typography.fontSizeLg);o.push(`<text x="${a}" y="${e.titleY}"
      font-family="${r.typography.fontFamily}"
      font-size="${l}px"
      font-weight="${r.typography.fontWeightBold}"
      fill="${r.colors.foreground}">${un(t.labels.title)}</text>`)}if((s=t.labels)!=null&&s.subtitle){const l=kn(r.typography.fontSizeBase);o.push(`<text x="${a}" y="${e.subtitleY}"
      font-family="${r.typography.fontFamily}"
      font-size="${l}px"
      font-weight="${r.typography.fontWeightNormal}"
      fill="${r.colors.secondary}">${un(t.labels.subtitle)}</text>`)}if((c=t.labels)!=null&&c.title&&((f=t.labels)!=null&&f.subtitle)){const d=kn(r.typography.fontSizeBase)*.75,u=e.subtitleY-d-6;o.push(`<line x1="${a}" x2="${e.totalWidth-a}"
      y1="${u}" y2="${u}"
      stroke="${r.colors.border}" stroke-width="1" opacity="0.3"/>`)}return o.join(`
`)}function sp(t,e,r){var c,f,l,d;const o=[],a=r.spacing.padding;let i=e.footerY;if(!!((c=t.labels)!=null&&c.caption)||!!((f=t.labels)!=null&&f.footnote)){const u=e.footerY-8;o.push(`<line x1="${a}" x2="${e.totalWidth-a}"
      y1="${u}" y2="${u}"
      stroke="${r.colors.border}" stroke-width="1"/>`)}if((l=t.labels)!=null&&l.caption){const u=kn(r.typography.fontSizeSm);o.push(`<text x="${a}" y="${i}"
      font-family="${r.typography.fontFamily}"
      font-size="${u}px"
      font-weight="${r.typography.fontWeightNormal}"
      fill="${r.colors.secondary}">${un(t.labels.caption)}</text>`),i+=Cr.CAPTION_HEIGHT}if((d=t.labels)!=null&&d.footnote){const u=kn(r.typography.fontSizeSm);o.push(`<text x="${a}" y="${i}"
      font-family="${r.typography.fontFamily}"
      font-size="${u}px"
      font-weight="${r.typography.fontWeightNormal}"
      font-style="italic"
      fill="${r.colors.muted}">${un(t.labels.footnote)}</text>`)}return o.join(`
`)}function lp(t,e,r,o,a,i,s,c){const f=[],l=e+1,d=c.groupHeaders;let u,h,g,p,x;if(l===1?(u=kn((d==null?void 0:d.level1FontSize)??c.typography.fontSizeBase),h=(d==null?void 0:d.level1FontWeight)??c.typography.fontWeightBold,g=(d==null?void 0:d.level1Italic)??!1,p=(d==null?void 0:d.level1Background)??null,x=(d==null?void 0:d.level1BorderBottom)??!1):l===2?(u=kn((d==null?void 0:d.level2FontSize)??c.typography.fontSizeBase),h=(d==null?void 0:d.level2FontWeight)??c.typography.fontWeightMedium,g=(d==null?void 0:d.level2Italic)??!0,p=(d==null?void 0:d.level2Background)??null,x=(d==null?void 0:d.level2BorderBottom)??!1):(u=kn((d==null?void 0:d.level3FontSize)??c.typography.fontSizeBase),h=(d==null?void 0:d.level3FontWeight)??c.typography.fontWeightNormal,g=(d==null?void 0:d.level3Italic)??!1,p=(d==null?void 0:d.level3Background)??null,x=(d==null?void 0:d.level3BorderBottom)??!1),!p){const N=c.colors.primary,b=l===1?.15:l===2?.1:.06,k=N.replace("#",""),M=parseInt(k.substring(0,2),16),E=parseInt(k.substring(2,4),16),P=parseInt(k.substring(4,6),16);p=`rgba(${M}, ${E}, ${P}, ${b})`}const _=a+i/2,y=e*((d==null?void 0:d.indentPerLevel)??Se.INDENT_PER_LEVEL);f.push(`<rect x="${o}" y="${a}"
    width="${s}" height="${i}"
    fill="${p}"/>`),x&&f.push(`<line x1="${o}" x2="${o+s}" y1="${a+i}" y2="${a+i}"
      stroke="${c.colors.border}" stroke-width="1" opacity="0.5"/>`);const S=g?' font-style="italic"':"",T=o+Se.TEXT_PADDING+y;if(f.push(`<text class="cell-text" x="${T}" y="${_}"
    font-family="${c.typography.fontFamily}"
    font-size="${u}px"
    font-weight="${h}"${S}
    fill="${c.colors.foreground}">${un(t)}</text>`),r>0){const N=wa(t,u,c.typography.fontFamily,h),b=T+N+6,k=kn(c.typography.fontSizeSm??"0.75rem");f.push(`<text class="cell-text" x="${b}" y="${_}"
      font-family="${c.typography.fontFamily}"
      font-size="${k}px"
      font-weight="${c.typography.fontWeightNormal}"
      fill="${c.colors.muted}">(${r})</text>`)}return f.join(`
`)}function cp(t,e){const r=new Map;for(const o of e)if(o.type==="bar"){let a=0;for(const i of t){const s=i.metadata[o.field];typeof s=="number"&&s>a&&(a=s)}r.set(o.field,a>0?a:1)}return r}function fp(t,e){var o,a,i,s,c,f,l,d,u,h,g,p,x,_,y,S,T,N,b;if(e.type==="interval"){const k=(a=(o=e.options)==null?void 0:o.interval)!=null&&a.point?t.metadata[e.options.interval.point]:t.point,M=(s=(i=e.options)==null?void 0:i.interval)!=null&&s.lower?t.metadata[e.options.interval.lower]:t.lower,E=(f=(c=e.options)==null?void 0:c.interval)!=null&&f.upper?t.metadata[e.options.interval.upper]:t.upper;return Hs(k,M,E,e.options)}if(e.type==="numeric"){const k=t.metadata[e.field];return typeof k=="number"?ti(k,e.options):((l=e.options)==null?void 0:l.naText)??""}if(e.type==="custom"&&((d=e.options)!=null&&d.events))return Ns(t,e.options);if(e.type==="pvalue"){const k=t.metadata[e.field];return typeof k!="number"?((u=e.options)==null?void 0:u.naText)??"":Gc(k,e.options)}if(e.type==="icon"){const k=t.metadata[e.field];if(k==null)return"";const M=String(k),E=(g=(h=e.options)==null?void 0:h.icon)==null?void 0:g.mapping;return E&&M in E?E[M]:M}if(e.type==="badge"){const k=t.metadata[e.field];return k!=null?String(k):""}if(e.type==="stars"){const k=t.metadata[e.field];if(typeof k!="number")return"";const M=((x=(p=e.options)==null?void 0:p.stars)==null?void 0:x.maxStars)??5,E=Math.max(0,Math.min(M,k)),P=Math.floor(E),H=M-P;return"★".repeat(P)+"☆".repeat(H)}if(e.type==="img")return((y=(_=e.options)==null?void 0:_.img)==null?void 0:y.fallback)??"[IMG]";if(e.type==="reference"){const k=t.metadata[e.field];if(k==null)return"";const M=String(k),E=((T=(S=e.options)==null?void 0:S.reference)==null?void 0:T.maxChars)??30;return M.length<=E?M:M.substring(0,E)+"..."}if(e.type==="range"){const k=(N=e.options)==null?void 0:N.range;if(!k)return"";const M=t.metadata[k.minField],E=t.metadata[k.maxField],P=k.separator??" – ",H=k.decimals,R=W=>typeof W!="number"?"":H==null?Number.isInteger(W)?String(W):W.toFixed(1):W.toFixed(H);return M===null&&E===null?"":M===null?R(E):E===null?R(M):`${R(M)}${P}${R(E)}`}const r=t.metadata[e.field];return r!=null?String(r):((b=e.options)==null?void 0:b.naText)??""}function up(t,e,r,o,a){const i=t.filter(d=>Number.isFinite(d));if(i.length===0)return"";if(i.length===1){const d=e+o/2,u=r+a/2;return`M${d.toFixed(1)},${u.toFixed(1)}`}const s=Math.min(...i),f=Math.max(...i)-s||1;return`M${i.map((d,u)=>{const h=e+u/(i.length-1)*o,g=r+a-(d-s)/f*a;return`${h.toFixed(1)},${g.toFixed(1)}`}).join("L")}`}function dp(t,e,r,o,a,i=[],s,c=0,f=1/0,l,d=!1){var M;let u;if(i.length===0){const E=!d||t.point!=null&&t.point>0?t.point:null,P=!d||t.lower!=null&&t.lower>0?t.lower:null,H=!d||t.upper!=null&&t.upper>0?t.upper:null;u=[{point:E,lower:P,upper:H,color:null,shape:null,opacity:null}]}else u=i.map(E=>({point:Un(t.metadata,t.point,E.pointCol,"point",d),lower:Un(t.metadata,t.lower,E.lowerCol,"lower",d),upper:Un(t.metadata,t.upper,E.upperCol,"upper",d),color:E.color??null,shape:E.shape??null,opacity:E.opacity??null}));const h=u.filter(E=>E.point!=null&&!Number.isNaN(E.point)&&E.lower!=null&&!Number.isNaN(E.lower)&&E.upper!=null&&!Number.isNaN(E.upper));if(h.length===0)return"";const g=o.shapes.pointSize,p=o.shapes.lineWidth,x=o.colors.intervalLine,_=((M=t.style)==null?void 0:M.type)==="summary",S=o.shapes.summaryHeight/2;function T(E){var H;if(E&&((H=t.markerStyle)==null?void 0:H.size)!=null)return g*t.markerStyle.size;const P=s?t.metadata[s]:void 0;if(P){const R=.5+Math.sqrt(P/100)*1.5;return Math.min(Math.max(g*R,3),g*2.5)}return g}function N(E,P){const H=P===0,R=t.markerStyle,W=o.shapes.effectColors,G=o.shapes.markerShapes,L=["square","circle","diamond","triangle"];let Q;H&&(R!=null&&R.color)?Q=R.color:E.color?Q=E.color:W&&W.length>0?Q=W[P%W.length]:Q=o.colors.interval??o.colors.primary??"#2563eb";let K;H&&(R!=null&&R.shape)?K=R.shape:E.shape?K=E.shape:G&&G.length>0?K=G[P%G.length]:K=L[P%L.length];let U;return H&&(R==null?void 0:R.opacity)!=null?U=R.opacity:E.opacity!=null?U=E.opacity:U=1,{color:Q,shape:K,opacity:U}}function b(E,P,H,R){const{color:W,shape:G,opacity:L}=R,Q=L<1?` fill-opacity="${L}"`:"";switch(G){case"circle":return`<circle cx="${E}" cy="${P}" r="${H}" fill="${W}"${Q}/>`;case"diamond":return`<polygon points="${[`${E},${P-H}`,`${E+H},${P}`,`${E},${P+H}`,`${E-H},${P}`].join(" ")}" fill="${W}"${Q}/>`;case"triangle":return`<polygon points="${[`${E},${P-H}`,`${E+H},${P+H}`,`${E-H},${P+H}`].join(" ")}" fill="${W}"${Q}/>`;default:return`<rect x="${E-H}" y="${P-H}" width="${H*2}" height="${H*2}" fill="${W}"${Q}/>`}}const k=[];return h.forEach((E,P)=>{const H=e+tc(P,h.length),R=r(E.lower),W=r(E.upper),G=r(E.point),L=N(E,P),Q=T(P===0),K=x;if(_){const U=L.opacity<1?` fill-opacity="${L.opacity}"`:"",V=[`${R},${H}`,`${G},${H-S}`,`${W},${H}`,`${G},${H+S}`].join(" ");k.push(`
        <g class="interval effect-${P} summary">
          <polygon points="${V}"
            fill="${L.color}"${U} stroke="${o.colors.summaryBorder}" stroke-width="1"/>
        </g>`)}else{const U=c+An,V=c+f-An,Z=l?E.lower<l[0]:R<U,ht=l?E.upper>l[1]:W>V;let rt,st;if(l){const me=Math.max(l[0],Math.min(l[1],E.lower)),ne=Math.max(l[0],Math.min(l[1],E.upper));rt=r(me),st=r(ne)}else rt=Math.max(U,Math.min(V,R)),st=Math.max(U,Math.min(V,W));const ot=Yl(o),pt=ot.height/2,te=l?r(l[0]):U,ie=l?r(l[1]):V;let xt="";if(Z){const me=ot.opacity<1?` fill-opacity="${ot.opacity}"`:"";xt=`<path d="${la("left",te,H,ot)}" fill="${ot.color}"${me}/>`}else xt=`<line x1="${rt}" x2="${rt}" y1="${H-pt}" y2="${H+pt}" stroke="${K}" stroke-width="${p}"/>`;let Bt="";if(ht){const me=ot.opacity<1?` fill-opacity="${ot.opacity}"`:"";Bt=`<path d="${la("right",ie,H,ot)}" fill="${ot.color}"${me}/>`}else Bt=`<line x1="${st}" x2="${st}" y1="${H-pt}" y2="${H+pt}" stroke="${K}" stroke-width="${p}"/>`;const Fe=l?r(Math.max(l[0],Math.min(l[1],E.point))):Math.max(U,Math.min(V,G));k.push(`
        <g class="interval effect-${P}">
          <line x1="${rt}" x2="${st}" y1="${H}" y2="${H}"
            stroke="${K}" stroke-width="${p}"/>
          ${xt}
          ${Bt}
          ${b(Fe,H,Q,L)}
        </g>`)}}),k.join("")}function hp(t,e,r,o,a,i,s,c){const l=c.shapes.summaryHeight/2,[d,u]=a.domain().map(b=>a(b)),h=Math.min(d,u),g=Math.max(d,u),p=a(e),x=a(t),_=a(r),y=i+Math.max(h,Math.min(g,p)),S=i+Math.max(h,Math.min(g,x)),T=i+Math.max(h,Math.min(g,_));return`<polygon points="${[`${y},${o}`,`${S},${o-l}`,`${T},${o}`,`${S},${o+l}`].join(" ")}"
    fill="${c.colors.summaryFill}"
    stroke="${c.colors.summaryBorder}"
    stroke-width="1"/>`}function gp(t,e,r,o,a,i,s,c){const f=[],l=i.effects,d=l.length;if(!l.some(y=>{const S=t.metadata[y.value];return S!=null&&!Number.isNaN(S)}))return"";const h=r*.7,g=d>1?2:0,p=(h-g*(d-1))/d,x=Math.max(4,p),_=c.shapes.effectColors??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"];return l.forEach((y,S)=>{const T=t.metadata[y.value];if(T==null||Number.isNaN(T))return;const N=e-h/2+S*(x+g),b=o+s(Math.min(0,T)),k=Math.abs(s(T)-s(0)),M=y.color??_[S%_.length],E=y.opacity??.85;f.push(`<rect
      x="${b}" y="${N}"
      width="${Math.max(1,k)}" height="${x}"
      fill="${M}" fill-opacity="${E}" rx="2"
      class="viz-bar-segment"/>`)}),f.join(`
`)}function pp(t,e,r,o,a,i,s,c){const f=[],l=i.effects,d=l.length,u=l.map(S=>{if(S.data){const T=t.metadata[S.data];return!T||!Array.isArray(T)||T.length===0?null:_a(T)}if(S.min&&S.q1&&S.median&&S.q3&&S.max){const T=t.metadata[S.min],N=t.metadata[S.q1],b=t.metadata[S.median],k=t.metadata[S.q3],M=t.metadata[S.max];if([T,N,b,k,M].some(P=>P==null||Number.isNaN(P)))return null;let E=[];if(S.outliers){const P=t.metadata[S.outliers];P&&Array.isArray(P)&&(E=P)}return{min:T,q1:N,median:b,q3:k,max:M,outliers:E}}return null});if(!u.some(S=>S!==null))return"";const g=r*.7,p=d>1?2:0,x=Math.max(8,(g-(d-1)*p)/d),_=c.shapes.effectColors??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"],y=c.colors.foreground??"#1a1a1a";return l.forEach((S,T)=>{const N=u[T];if(!N)return;const b=e-g/2+T*(x+p),k=b+x/2,M=S.color??_[T%_.length],E=S.fillOpacity??.7;f.push(`<line
      x1="${o+s(N.min)}" x2="${o+s(N.q1)}"
      y1="${k}" y2="${k}"
      stroke="${y}" stroke-width="1"/>`),f.push(`<line
      x1="${o+s(N.min)}" x2="${o+s(N.min)}"
      y1="${k-x/4}" y2="${k+x/4}"
      stroke="${y}" stroke-width="1"/>`),f.push(`<line
      x1="${o+s(N.q3)}" x2="${o+s(N.max)}"
      y1="${k}" y2="${k}"
      stroke="${y}" stroke-width="1"/>`),f.push(`<line
      x1="${o+s(N.max)}" x2="${o+s(N.max)}"
      y1="${k-x/4}" y2="${k+x/4}"
      stroke="${y}" stroke-width="1"/>`);const P=Math.max(2,s(N.q3)-s(N.q1));if(f.push(`<rect
      x="${o+s(N.q1)}" y="${b}"
      width="${P}" height="${x}"
      fill="${M}" fill-opacity="${E}"
      stroke="${y}" stroke-width="1"/>`),f.push(`<line
      x1="${o+s(N.median)}" x2="${o+s(N.median)}"
      y1="${b}" y2="${b+x}"
      stroke="${y}" stroke-width="2"/>`),i.showOutliers!==!1&&N.outliers.length>0)for(const H of N.outliers)f.push(`<circle
          cx="${o+s(H)}" cy="${k}"
          r="2.5"
          fill="none" stroke="${M}" stroke-width="1.5"/>`)}),f.join(`
`)}function vp(t,e,r,o,a,i,s,c){const f=[],l=i.effects,d=l.length,u=l.map(N=>{const b=t.metadata[N.data];return!b||!Array.isArray(b)||b.length<2?null:$c(b,i.bandwidth)}),h=l.map(N=>{const b=t.metadata[N.data];if(!b||!Array.isArray(b)||b.length<2)return null;const k=b.filter(P=>P!=null&&!Number.isNaN(P)).sort((P,H)=>P-H);if(k.length===0)return null;const M=k.length,E=P=>{if(M===1)return k[0];const H=(M-1)*P,R=Math.floor(H),W=Math.ceil(H);return R===W?k[R]:k[R]+(H-R)*(k[W]-k[R])};return{q1:E(.25),median:E(.5),q3:E(.75)}});if(!u.some(N=>N!==null))return"";const p=r*.8,x=d>1?2:0,_=Math.max(10,(p-(d-1)*x)/d),y=_/2,S=c.shapes.effectColors??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"],T=c.colors.foreground??"#1a1a1a";return l.forEach((N,b)=>{const k=u[b],M=h[b];if(!k||k.x.length<2)return;const E=e-p/2+_/2+b*(_+x),P=N.color??S[b%S.length],H=N.fillOpacity??.5,R=jc(k,y),W=[];for(let G=0;G<R.x.length;G++){const L=o+s(R.x[G]),Q=E-R.y[G];W.push(G===0?`M ${L} ${Q}`:`L ${L} ${Q}`)}for(let G=R.x.length-1;G>=0;G--){const L=o+s(R.x[G]),Q=E+R.y[G];W.push(`L ${L} ${Q}`)}if(W.push("Z"),f.push(`<path
      d="${W.join(" ")}"
      fill="${P}" fill-opacity="${H}"
      stroke="${T}" stroke-width="0.5"/>`),i.showMedian!==!1&&M){const G=o+s(M.median);f.push(`<line
        x1="${G}" x2="${G}"
        y1="${E-y*.6}" y2="${E+y*.6}"
        stroke="${T}" stroke-width="2"/>`)}if(i.showQuartiles&&M){const G=o+s(M.q1),L=o+s(M.q3);f.push(`<line
        x1="${G}" x2="${G}"
        y1="${E-y*.4}" y2="${E+y*.4}"
        stroke="${T}" stroke-width="1" stroke-dasharray="2,2"/>`),f.push(`<line
        x1="${L}" x2="${L}"
        y1="${E-y*.4}" y2="${E+y*.4}"
        stroke="${T}" stroke-width="1" stroke-dasharray="2,2"/>`)}}),f.join(`
`)}function mp(t,e,r){var c,f;const o=e.scale==="log",a=An;let i=(c=e.axisRange)==null?void 0:c[0],s=(f=e.axisRange)==null?void 0:f[1];if(i==null||s==null){const l=[];for(const d of t)for(const u of e.effects){const h=d.metadata[u.value];h!=null&&!Number.isNaN(h)&&l.push(h)}l.length>0?(i=i??Math.min(0,...l),s=s??Math.max(...l)*1.1):(i=i??0,s=s??100)}return o?Bi([Math.max(.01,i),s],[a,r-a]):Di([i,s],[a,r-a])}function yp(t,e,r){var c,f;const o=e.scale==="log",a=An;let i=(c=e.axisRange)==null?void 0:c[0],s=(f=e.axisRange)==null?void 0:f[1];if(i==null||s==null){const l=[];for(const d of t)for(const u of e.effects)if(u.data){const h=d.metadata[u.data];if(h&&Array.isArray(h)){const g=_a(h);l.push(g.min,g.max),e.showOutliers!==!1&&l.push(...g.outliers)}}else if(u.min&&u.max){const h=d.metadata[u.min],g=d.metadata[u.max];h!=null&&!Number.isNaN(h)&&l.push(h),g!=null&&!Number.isNaN(g)&&l.push(g)}if(l.length>0){const d=Math.min(...l),u=Math.max(...l),h=u-d;i=i??d-h*.05,s=s??u+h*.05}else i=i??0,s=s??100}return o?Bi([Math.max(.01,i),s],[a,r-a]):Di([i,s],[a,r-a])}function xp(t,e,r){var c,f;const o=e.scale==="log",a=An;let i=(c=e.axisRange)==null?void 0:c[0],s=(f=e.axisRange)==null?void 0:f[1];if(i==null||s==null){const l=[];for(const d of t)for(const u of e.effects){const h=d.metadata[u.data];h&&Array.isArray(h)&&l.push(...h.filter(g=>g!=null&&!Number.isNaN(g)))}if(l.length>0){i=i??Math.min(...l),s=s??Math.max(...l);const d=(s??0)-(i??0);i=(i??0)-d*.1,s=(s??0)+d*.1}else i=i??0,s=s??100}return o?Bi([Math.max(.01,i),s],[a,r-a]):Di([i,s],[a,r-a])}function zs(t,e,r,o,a,i,s){const c=[],f=kn(r.typography.fontSizeSm),l=us.EDGE_THRESHOLD,d=_=>_<l?"start":_>i-l?"end":"middle",u=_=>_<l?2:_>i-l?-2:0;c.push(`<line x1="${a}" x2="${a+i}"
    y1="0" y2="0" stroke="${r.colors.border}" stroke-width="1"/>`);const h=t.domain(),g=5,p=[],x=h[1]-h[0];for(let _=0;_<=g;_++)p.push(h[0]+x*_/g);for(const _ of p){const y=t(_),S=a+y,T=d(y),N=u(y),b=ti(_);c.push(`<line x1="${S}" x2="${S}" y1="0" y2="4" stroke="${r.colors.border}" stroke-width="1"/>`),c.push(`<text x="${S+N}" y="14"
      text-anchor="${T}"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      font-weight="${r.typography.fontWeightNormal}"
      fill="${r.colors.foreground}">${b}</text>`)}return o&&c.push(`<text x="${a+i/2}" y="28"
      text-anchor="middle"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      font-weight="${r.typography.fontWeightMedium}"
      fill="${r.colors.foreground}">${un(o)}</text>`),c.join(`
`)}function _p(t,e,r,o,a,i,s=1,c){const f=[],l=typeof r.axis.tickCount=="number"?r.axis.tickCount:Se.DEFAULT_TICK_COUNT,d=Mp(t,l,r,s,i,c),u=kn(r.typography.fontSizeSm),h=us.EDGE_THRESHOLD,g=x=>x<h?"start":x>i-h?"end":"middle",p=x=>x<h?2:x>i-h?-2:0;f.push(`<line x1="${a}" x2="${a+i}"
    y1="0" y2="0" stroke="${r.colors.border}" stroke-width="1"/>`);for(const x of d){const _=t(x),y=a+_,S=g(_),T=p(_);f.push(`<line x1="${y}" x2="${y}" y1="0" y2="4"
      stroke="${r.colors.border}" stroke-width="1"/>`),f.push(`<text x="${y+T}" y="16" text-anchor="${S}"
      font-family="${r.typography.fontFamily}"
      font-size="${u}px"
      font-weight="${r.typography.fontWeightNormal}"
      fill="${r.colors.secondary}">${op(x)}</text>`)}return o&&f.push(`<text x="${a+i/2}" y="28"
      text-anchor="middle"
      font-family="${r.typography.fontFamily}"
      font-size="${u}px"
      font-weight="${r.typography.fontWeightMedium}"
      fill="${r.colors.secondary}">${un(o)}</text>`),`<g transform="translate(0, ${e.mainY+e.headerHeight+e.rowsHeight+e.axisGap})">${f.join(`
`)}</g>`}function wp(t,e,r,o,a,i,s,c,f,l){const d=[],u=kn(i.typography.fontSizeBase),h=i.typography.headerFontScale??1.05,g=Math.round(u*h*100)/100,p=i.typography.fontWeightBold,x=i.typography.fontWeightBold,_=ba(t),y=(S,T)=>S+T/2;if(_){const S=a/2,T=a/2;let N=r;d.push(`<text class="cell-text" x="${N+Se.TEXT_PADDING}" y="${y(o,a)}"
      font-family="${i.typography.fontFamily}"
      font-size="${g}px"
      font-weight="${p}"
      fill="${i.colors.foreground}">${un(s)}</text>`),N+=c;const b=[];for(const k of t)if(k.isGroup){const M=k.columns.reduce((P,H)=>H.isGroup?P+H.columns.reduce((R,W)=>R+l(W),0):P+l(H),0),E=N+M/2;d.push(`<text class="cell-text" x="${E}" y="${y(o,S)}"
          font-family="${i.typography.fontFamily}"
          font-size="${g}px"
          font-weight="${x}"
          text-anchor="middle"
          fill="${i.colors.foreground}">${un(k.header)}</text>`),b.push({x1:N,x2:N+M}),N+=M}else{const M=l(k),E=k.headerAlign??k.align,{textX:P,anchor:H}=Ma(N,M,E),R=Zc(k.header,M,g,Se.TEXT_PADDING);d.push(`<text class="cell-text" x="${P}" y="${y(o,a)}"
          font-family="${i.typography.fontFamily}"
          font-size="${g}px"
          font-weight="${p}"
          text-anchor="${H}"
          fill="${i.colors.foreground}">${un(R)}</text>`),N+=M}for(const k of b)d.push(`<line x1="${k.x1}" x2="${k.x2}"
        y1="${o+S}" y2="${o+S}"
        stroke="${i.colors.border}" stroke-width="1"/>`);N=r+c;for(const k of t)if(k.isGroup){for(const M of k.columns)if(!M.isGroup){const E=l(M),P=M.headerAlign??M.align,{textX:H,anchor:R}=Ma(N,E,P);d.push(`<text class="cell-text" x="${H}" y="${y(o+S,T)}"
              font-family="${i.typography.fontFamily}"
              font-size="${g}px"
              font-weight="${p}"
              text-anchor="${R}"
              fill="${i.colors.foreground}">${un(M.header)}</text>`),N+=E}}else N+=l(k)}else{let S=r;d.push(`<text class="cell-text" x="${S+Se.TEXT_PADDING}" y="${y(o,a)}"
      font-family="${i.typography.fontFamily}"
      font-size="${g}px"
      font-weight="${p}"
      fill="${i.colors.foreground}">${un(s)}</text>`),S+=c;for(const T of e){const N=l(T),b=T.headerAlign??T.align,{textX:k,anchor:M}=Ma(S,N,b),E=Zc(T.header,N,g,Se.TEXT_PADDING);d.push(`<text class="cell-text" x="${k}" y="${y(o,a)}"
        font-family="${i.typography.fontFamily}"
        font-size="${g}px"
        font-weight="${p}"
        text-anchor="${M}"
        fill="${i.colors.foreground}">${un(E)}</text>`),S+=N}}return d.join(`
`)}function bp(t,e,r,o,a,i,s,c,f,l,d,u,h=[]){var N,b,k,M,E,P,H,R,W,G,L,Q,K,U,V,Z,ht,rt,st,ot,pt,te,ie,xt,Bt,Fe,me,ne,tn,Ot,zt;const g=[],p=kn(i.typography.fontSizeBase),x=o+a/2,_=c*Se.INDENT_PER_LEVEL+(((N=t.style)==null?void 0:N.indent)??0)*Se.INDENT_PER_LEVEL,y=(b=t.style)!=null&&b.bold||(k=t.style)!=null&&k.emphasis?i.typography.fontWeightBold:i.typography.fontWeightNormal,S=(M=t.style)!=null&&M.italic?"italic":"normal";let T=i.colors.foreground;if((E=t.style)!=null&&E.color?T=t.style.color:(P=t.style)!=null&&P.muted?T=i.colors.muted:(H=t.style)!=null&&H.accent&&(T=i.colors.accent),g.push(`<text class="cell-text" x="${r+Se.TEXT_PADDING+_}" y="${x}"
    font-family="${i.typography.fontFamily}"
    font-size="${p}px"
    font-weight="${y}"
    font-style="${S}"
    fill="${T}">${un(t.label)}</text>`),(R=t.style)!=null&&R.badge){const fe=String(t.style.badge),_t=p*Sr.FONT_SCALE,Ut=_t+Sr.PADDING*2,$t=wa(t.label,p,i.typography.fontFamily,y),Ze=r+Se.TEXT_PADDING+_+$t+Sr.GAP,rr=wa(fe,_t,i.typography.fontFamily,i.typography.fontWeightBold)+Sr.PADDING*2,Et=o+(a-Ut)/2;g.push(`<rect x="${Ze}" y="${Et}" width="${rr}" height="${Ut}"
      rx="3" fill="${i.colors.primary}" opacity="0.15"/>`),g.push(`<text class="cell-text" x="${Ze+rr/2}" y="${Et+Ut/2}"
      text-anchor="middle"
      font-family="${i.typography.fontFamily}"
      font-size="${_t}px"
      font-weight="${i.typography.fontWeightBold}"
      fill="${i.colors.primary}">${un(fe)}</text>`)}for(let fe=0;fe<e.length;fe++){const _t=e[fe],Ut=u[fe],$t=d(_t);if(_t.type==="forest"||_t.type==="viz_bar"||_t.type==="viz_boxplot"||_t.type==="viz_violin")continue;const Ze=fp(t,_t),{textX:gr,anchor:rr}=Ma(Ut,$t,_t.align);if(_t.type==="bar"&&typeof t.metadata[_t.field]=="number"){const Et=t.metadata[_t.field],ut=f.get(_t.field),Oe=((G=(W=_t.options)==null?void 0:W.bar)==null?void 0:G.maxValue)??ut??100,Pe=((Q=(L=_t.options)==null?void 0:L.bar)==null?void 0:Q.color)??i.colors.primary,Tt=i.shapes.pointSize*2,re=$t-Se.TEXT_PADDING*2-50,$e=Math.min(Et/Oe*re,re),Qe=t.style,Re=Qe!=null&&Qe.bold||Qe!=null&&Qe.emphasis?i.typography.fontWeightBold:i.typography.fontWeightNormal;g.push(`<rect x="${Ut+Se.TEXT_PADDING}" y="${o+a/2-Tt/2}"
        width="${Math.max(0,$e)}" height="${Tt}"
        fill="${Pe}" opacity="0.7" rx="2"/>`),g.push(`<text class="cell-text" x="${Ut+$t-Se.TEXT_PADDING}" y="${x}"
        font-family="${i.typography.fontFamily}"
        font-size="${p}px"
        font-weight="${Re}"
        text-anchor="end"
        fill="${i.colors.foreground}">${ti(Et)}</text>`)}else if(_t.type==="sparkline"&&Array.isArray(t.metadata[_t.field])){let Et=t.metadata[_t.field];Array.isArray(Et[0])&&(Et=Et[0]);const ut=((U=(K=_t.options)==null?void 0:K.sparkline)==null?void 0:U.height)??16,Oe=((Z=(V=_t.options)==null?void 0:V.sparkline)==null?void 0:Z.color)??i.colors.primary,Pe=Se.TEXT_PADDING*2,Tt=up(Et,Ut+Se.TEXT_PADDING,o+a/2-ut/2,$t-Pe,ut);g.push(`<path d="${Tt}" fill="none" stroke="${Oe}" stroke-width="1.5"/>`)}else if(_t.type==="badge"){const Et=t.metadata[_t.field];if(Et!=null){const ut=String(Et),Oe=p*.85,Pe=Oe+8,Tt=(rt=(ht=_t.options)==null?void 0:ht.badge)==null?void 0:rt.variants,Mt=(ot=(st=_t.options)==null?void 0:st.badge)==null?void 0:ot.colors;let re=i.colors.primary,$e=i.colors.primary;if(Mt&&ut in Mt)re=Mt[ut],$e=Mt[ut];else if(Tt&&ut in Tt){const On=Tt[ut];re={default:i.colors.primary,...Ni,muted:i.colors.muted}[On]??i.colors.primary,$e=re}const Re=wa(ut,Oe,i.typography.fontFamily,i.typography.fontWeightBold)+12,Ke=_t.align==="right"?Ut+$t-Se.TEXT_PADDING-Re:_t.align==="center"?Ut+($t-Re)/2:Ut+Se.TEXT_PADDING,sn=o+(a-Pe)/2;g.push(`<rect x="${Ke}" y="${sn}" width="${Re}" height="${Pe}"
          rx="${Pe/2}" fill="${re}" opacity="0.15"/>`),g.push(`<text class="cell-text" x="${Ke+Re/2}" y="${sn+Pe/2}"
          text-anchor="middle"
          font-family="${i.typography.fontFamily}"
          font-size="${Oe}px"
          font-weight="${i.typography.fontWeightBold}"
          fill="${$e}">${un(ut)}</text>`)}}else if(_t.type==="stars"){const Et=t.metadata[_t.field];if(typeof Et=="number"){const ut=((te=(pt=_t.options)==null?void 0:pt.stars)==null?void 0:te.maxStars)??5,Oe=((xt=(ie=_t.options)==null?void 0:ie.stars)==null?void 0:xt.color)??"#f59e0b",Pe=((Fe=(Bt=_t.options)==null?void 0:Bt.stars)==null?void 0:Fe.emptyColor)??"#d1d5db",Tt=Math.max(0,Math.min(ut,Et)),Mt=Math.floor(Tt),re=((ne=(me=_t.options)==null?void 0:me.stars)==null?void 0:ne.halfStars)&&Tt-Mt>=.5,$e=12,Qe=2,Re=ut*$e+(ut-1)*Qe;let Ke=_t.align==="right"?Ut+$t-Se.TEXT_PADDING-Re:_t.align==="center"?Ut+($t-Re)/2:Ut+Se.TEXT_PADDING;const sn=o+(a-$e)/2,On=(Le,je,en)=>{const Mn=en/2,pr=Mn*.4;let C="";for(let I=0;I<5;I++){const j=(I*72-90)*Math.PI/180,Y=(I*72+36-90)*Math.PI/180,gt=Le+Mn*Math.cos(j),bt=je+Mn*Math.sin(j),jt=Le+pr*Math.cos(Y),Nt=je+pr*Math.sin(Y);C+=(I===0?`M${gt},${bt}`:`L${gt},${bt}`)+`L${jt},${Nt}`}return C+"Z"};for(let Le=0;Le<ut;Le++){const je=Ke+$e/2,en=sn+$e/2,pr=Le<Mt||Le===Mt&&re?Oe:Pe;g.push(`<path d="${On(je,en,$e)}" fill="${pr}"/>`),Ke+=$e+Qe}}}else if(_t.type==="heatmap"){const Et=t.metadata[_t.field];if(Et!=null&&!Number.isNaN(Et)){const ut=(tn=_t.options)==null?void 0:tn.heatmap,Oe=(ut==null?void 0:ut.palette)??["#f7fbff","#08306b"],Pe=(ut==null?void 0:ut.decimals)??2,Tt=(ut==null?void 0:ut.showValue)??!0;let Mt=ut==null?void 0:ut.minValue,re=ut==null?void 0:ut.maxValue;if(Mt==null||re==null){const Y=h.map(gt=>gt.metadata[_t.field]).filter(gt=>gt!=null&&!Number.isNaN(gt));Mt==null&&(Mt=Y.length>0?Math.min(...Y):0),re==null&&(re=Y.length>0?Math.max(...Y):1)}const $e=re-Mt,Qe=$e===0?.5:Math.max(0,Math.min(1,(Et-Mt)/$e)),Re=Y=>{const gt=Y.replace("#","");return[parseInt(gt.substring(0,2),16),parseInt(gt.substring(2,4),16),parseInt(gt.substring(4,6),16)]},Ke=Oe.length-1,sn=Math.min(Math.floor(Qe*Ke),Ke-1),On=Qe*Ke-sn,Le=Re(Oe[sn]),je=Re(Oe[sn+1]),en=Math.round(Le[0]+(je[0]-Le[0])*On),Mn=Math.round(Le[1]+(je[1]-Le[1])*On),pr=Math.round(Le[2]+(je[2]-Le[2])*On),C=`rgb(${en},${Mn},${pr})`,j=(.299*en+.587*Mn+.114*pr)/255>.5?i.colors.foreground:"#ffffff";g.push(`<rect x="${Ut+2}" y="${o+2}" width="${$t-4}" height="${a-4}"
          fill="${C}" rx="2"/>`),Tt&&g.push(`<text class="cell-text" x="${Ut+$t/2}" y="${x}"
            font-family="${i.typography.fontFamily}"
            font-size="${p*.9}px"
            font-weight="${i.typography.fontWeightNormal}"
            text-anchor="middle"
            fill="${j}">${Et.toFixed(Pe)}</text>`)}}else if(_t.type==="progress"){const Et=t.metadata[_t.field];if(Et!=null&&!Number.isNaN(Et)){const ut=(Ot=_t.options)==null?void 0:Ot.progress,Oe=(ut==null?void 0:ut.maxValue)??100,Pe=(ut==null?void 0:ut.color)??i.colors.primary,Tt=(ut==null?void 0:ut.showLabel)??!0,Mt=Math.min(100,Math.max(0,Et/Oe*100)),re=10,$e=o+(a-re)/2,Qe=Tt?40:0,Re=$t-Se.TEXT_PADDING*2-Qe,Ke=Mt/100*Re;g.push(`<rect x="${Ut+Se.TEXT_PADDING}" y="${$e}" width="${Re}" height="${re}"
          fill="${i.colors.border}" opacity="0.5" rx="5"/>`),g.push(`<rect x="${Ut+Se.TEXT_PADDING}" y="${$e}" width="${Math.max(0,Ke)}" height="${re}"
          fill="${Pe}" rx="5"/>`),Tt&&g.push(`<text class="cell-text" x="${Ut+$t-Se.TEXT_PADDING}" y="${x}"
            font-family="${i.typography.fontFamily}"
            font-size="${p*.9}px"
            font-weight="${i.typography.fontWeightNormal}"
            text-anchor="end"
            fill="${i.colors.foreground}">${Math.round(Mt)}%</text>`)}}else{const Et=(zt=t.cellStyles)==null?void 0:zt[_t.field],ut=t.style;let Oe=i.typography.fontWeightNormal;(Et!=null&&Et.bold||Et!=null&&Et.emphasis||ut!=null&&ut.bold||ut!=null&&ut.emphasis)&&(Oe=i.typography.fontWeightBold);let Pe="normal";(Et!=null&&Et.italic||ut!=null&&ut.italic)&&(Pe="italic");let Tt=i.colors.foreground;Et!=null&&Et.color?Tt=Et.color:Et!=null&&Et.muted?Tt=i.colors.muted:Et!=null&&Et.accent?Tt=i.colors.accent:ut!=null&&ut.color?Tt=ut.color:ut!=null&&ut.muted?Tt=i.colors.muted:ut!=null&&ut.accent&&(Tt=i.colors.accent),g.push(`<text class="cell-text" x="${gr}" y="${x}"
        font-family="${i.typography.fontFamily}"
        font-size="${p}px"
        font-weight="${Oe}"
        font-style="${Pe}"
        text-anchor="${rr}"
        fill="${Tt}">${un(Ze)}</text>`)}}return g.join(`
`)}function Mp(t,e,r,o,a,i){if(Array.isArray(r.axis.tickValues)&&r.axis.tickValues.length>0){const[M,E]=t.domain();let P=r.axis.tickValues.filter(W=>W>=M&&W<=E);const H=r.axis.nullTick!==!1,R=o>=M&&o<=E;return H&&R&&!P.includes(o)&&(P=[...P,o].sort((W,G)=>W-G)),P}const[s,c]=t.domain(),f=r.axis.nullTick!==!1,l=o>=s&&o<=c,d=us.MIN_TICK_SPACING,u=Math.max(2,Math.floor(a/d)),h=Math.min(e,Math.min(7,u)),g=i&&i.length>0?i.filter(M=>M>=s&&M<=c):t.ticks(h);if(g.length===0)return f&&l?[o]:[];const p=t(o),x=g.filter(M=>M<o).reverse(),_=g.filter(M=>M>o),y=g.some(M=>M===o),S=[];let T=p;for(const M of x){const E=t(M);T-E>=d&&(S.unshift(M),T=E)}const N=[];let b=p;for(const M of _){const E=t(M);E-b>=d&&(N.push(M),b=E)}const k=[...S];if((y||f&&l)&&k.push(o),k.push(...N),k.length<2){const M=new Set(k);M.has(s)||k.unshift(s),k.length<2&&!M.has(c)&&k.push(c)}return k}function Kc(t,e,r,o,a,i,s,c=1,f=.6){let d=`<line x1="${t}" x2="${t}" y1="${e}" y2="${r}"
    stroke="${a}" stroke-width="${c}" stroke-opacity="${f}" stroke-dasharray="${o==="dashed"?"6,4":o==="dotted"?"2,2":"none"}"/>`;if(s){const u=i.colors.secondary;d+=`<text x="${t}" y="${e-4}" text-anchor="middle"
      font-family="${i.typography.fontFamily}"
      font-size="${i.typography.fontSizeSm}"
      font-weight="${i.typography.fontWeightMedium}"
      fill="${u}">${un(s)}</text>`}return d}class To extends Error{constructor(e){super(`SVG Generator: ${e}`),this.name="SVGGeneratorError"}}function Sp(t){if(!t||typeof t!="object")throw new To("Invalid spec: expected an object");const e=t;if(!e.data||typeof e.data!="object")throw new To("Invalid spec: missing or invalid 'data' property");const r=e.data;if(!Array.isArray(r.rows))throw new To("Invalid spec: 'data.rows' must be an array");if(!e.theme||typeof e.theme!="object")throw new To("Invalid spec: missing or invalid 'theme' property");const o=e.theme;if(!o.colors||typeof o.colors!="object")throw new To("Invalid spec: missing or invalid 'theme.colors'");if(!o.typography||typeof o.typography!="object")throw new To("Invalid spec: missing or invalid 'theme.typography'");if(!o.spacing||typeof o.spacing!="object")throw new To("Invalid spec: missing or invalid 'theme.spacing'")}function Ep(t){var i;const r=Is(t.columns,void 0).find(s=>s.type==="forest");if(!r||!((i=r.options)!=null&&i.forest))return{scale:"linear",nullValue:0,effects:[],axisLabel:"Effect",pointCol:null,lowerCol:null,upperCol:null};const o=r.options.forest,a=o.scale??"linear";return{scale:a,nullValue:o.nullValue??(a==="log"?1:0),effects:o.effects??[],axisLabel:o.axisLabel??"Effect",pointCol:o.point??null,lowerCol:o.lower??null,upperCol:o.upper??null}}function Qc(t,e={}){var P,H,R,W,G;Sp(t);const r=t.theme,o=r.spacing.padding,a=Array.isArray(t.columns)?t.columns:[],i=Rs(a),s=[];for(let L=0;L<i.length;L++)i[L].type==="forest"&&s.push(L);s.length>0;const c=[];for(let L=0;L<i.length;L++){const Q=i[L];(Q.type==="viz_bar"||Q.type==="viz_boxplot"||Q.type==="viz_violin")&&c.push({index:L,type:Q.type,column:Q})}const f=Ep(t),l=rp(t,e,f.nullValue),d=l.autoWidths,u=L=>{var K,U,V,Z,ht,rt,st,ot;if(L.type==="forest"){const pt=d.get(L.id);return pt!==void 0?pt:typeof L.width=="number"?L.width:((U=(K=L.options)==null?void 0:K.forest)==null?void 0:U.width)??l.forestWidth}if(L.type==="viz_bar"){const pt=d.get(L.id);return pt!==void 0?pt:typeof L.width=="number"?L.width:((Z=(V=L.options)==null?void 0:V.vizBar)==null?void 0:Z.width)??l.forestWidth}if(L.type==="viz_boxplot"){const pt=d.get(L.id);return pt!==void 0?pt:typeof L.width=="number"?L.width:((rt=(ht=L.options)==null?void 0:ht.vizBoxplot)==null?void 0:rt.width)??l.forestWidth}if(L.type==="viz_violin"){const pt=d.get(L.id);return pt!==void 0?pt:typeof L.width=="number"?L.width:((ot=(st=L.options)==null?void 0:st.vizViolin)==null?void 0:ot.width)??l.forestWidth}const Q=d.get(L.id);return Q!==void 0?Q:typeof L.width=="number"?L.width:Er.DEFAULT_COLUMN_WIDTH},h=[];let g=o+l.labelWidth;for(const L of i)h.push(g),g+=u(L);const p=[];p.push(`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg"
  width="${l.totalWidth}" height="${l.totalHeight}"
  viewBox="0 0 ${l.totalWidth} ${l.totalHeight}">
<style>
  text {
    font-variant-numeric: tabular-nums;
  }
  /* Use dominant-baseline for cell text to match CSS flex centering */
  .cell-text { dominant-baseline: central; }
</style>`);const x=e.backgroundColor??r.colors.background;if(p.push(`<rect width="100%" height="100%" fill="${x}"/>`),r.layout.containerBorder!==!1){const L=r.layout.containerBorderRadius??8;p.push(`<rect x="0.5" y="0.5"
      width="${l.totalWidth-1}" height="${l.totalHeight-1}"
      fill="none" stroke="${r.colors.border}" stroke-width="1"
      rx="${L}" ry="${L}"/>`)}p.push(ap(t,l,r)),p.push(`<line x1="${o}" x2="${l.totalWidth-o}"
    y1="${l.mainY}" y2="${l.mainY}"
    stroke="${r.colors.border}" stroke-width="2"/>`);const _=l.mainY;p.push(wp(a,i,o,_,l.headerHeight,r,t.data.labelHeader??"Study",l.labelWidth,d,u)),p.push(`<line x1="${o}" x2="${l.totalWidth-o}"
    y1="${_+l.headerHeight}" y2="${_+l.headerHeight}"
    stroke="${r.colors.border}" stroke-width="2"/>`);const y=Uc(t),S=[],T=[];let N=0;for(const L of y){const K=L.type==="data"&&((P=L.row.style)==null?void 0:P.type)==="spacer"?l.rowHeight/2:l.rowHeight;S.push(N),T.push(K),N+=K}const b=l.mainY+l.headerHeight;y.forEach((L,Q)=>{var K,U,V,Z;if(L.type==="data"){const ht=L.row,rt=b+S[Q],st=T[Q];if((K=ht.style)!=null&&K.bg)p.push(`<rect x="${o}" y="${rt}"
          width="${l.totalWidth-o*2}" height="${st}"
          fill="${ht.style.bg}"/>`);else if(((U=ht.style)==null?void 0:U.type)==="header")p.push(`<rect x="${o}" y="${rt}"
          width="${l.totalWidth-o*2}" height="${st}"
          fill="${r.colors.muted}" fill-opacity="0.1"/>`);else if(r.layout.banding&&!(((V=ht.style)==null?void 0:V.type)==="summary"||((Z=ht.style)==null?void 0:Z.type)==="spacer")){const te=Q%2===1?r.colors.altBg:r.colors.rowBg;te!==r.colors.background&&p.push(`<rect x="${o}" y="${rt}"
              width="${l.totalWidth-o*2}" height="${st}"
              fill="${te}"/>`)}}});for(const L of s){const Q=i[L],K=h[L],U=u(Q),V=(H=Q.options)==null?void 0:H.forest,Z=(V==null?void 0:V.scale)??"linear",ht=(V==null?void 0:V.nullValue)??(Z==="log"?1:0),rt=(V==null?void 0:V.axisLabel)??"Effect",st=Z==="log";let ot=(V==null?void 0:V.effects)??[];const pt=(V==null?void 0:V.point)??null,te=(V==null?void 0:V.lower)??null,ie=(V==null?void 0:V.upper)??null;ot.length===0&&(pt||te||ie)&&(ot=[{pointCol:pt,lowerCol:te,upperCol:ie}]);const xt={scale:Z,nullValue:ht,effects:ot,pointCol:(V==null?void 0:V.point)??null,lowerCol:(V==null?void 0:V.lower)??null,upperCol:(V==null?void 0:V.upper)??null},{scale:Bt,clipBounds:Fe,ticks:me}=ip(t,U,xt,e),ne=K+Bt(ht);p.push(Kc(ne,b,b+l.rowsHeight,"dashed",r.colors.muted,r));const tn=(V==null?void 0:V.annotations)??[];for(const Ot of tn)if(Ot.type==="reference_line"){const zt=K+Bt(Ot.x);p.push(Kc(zt,b,b+l.rowsHeight,Ot.style,Ot.color??r.colors.accent,r,Ot.label,Ot.width??1,Ot.opacity??.6))}if(y.forEach((Ot,zt)=>{if(Ot.type==="data"){const fe=b+S[zt]+T[zt]/2;p.push(dp(Ot.row,fe,_t=>K+Bt(_t),r,ht,ot,t.data.weightCol,K,U,Fe,st))}}),t.data.overall&&l.showOverallSummary&&typeof t.data.overall.point=="number"&&!Number.isNaN(t.data.overall.point)&&typeof t.data.overall.lower=="number"&&!Number.isNaN(t.data.overall.lower)&&typeof t.data.overall.upper=="number"&&!Number.isNaN(t.data.overall.upper)){const Ot=b+l.summaryYPosition;p.push(hp(t.data.overall.point,t.data.overall.lower,t.data.overall.upper,Ot,Bt,K,U,r))}p.push(_p(Bt,l,r,rt,K,U,ht,me))}const k=t.data.rows;for(const L of c){const Q=L.column,K=h[L.index],U=u(Q);if(L.type==="viz_bar"){const V=(R=Q.options)==null?void 0:R.vizBar;if(!V)continue;const Z=mp(k,V,U);y.forEach((ht,rt)=>{if(ht.type==="data"){const st=b+S[rt]+T[rt]/2,ot=T[rt];p.push(gp(ht.row,st,ot,K,U,V,Z,r))}}),V.showAxis!==!1&&(p.push(`<g transform="translate(0, ${b+l.plotHeight})">`),p.push(zs(Z,l,r,V.axisLabel,K,U,V.nullValue)),p.push("</g>"))}else if(L.type==="viz_boxplot"){const V=(W=Q.options)==null?void 0:W.vizBoxplot;if(!V)continue;const Z=yp(k,V,U);y.forEach((ht,rt)=>{if(ht.type==="data"){const st=b+S[rt]+T[rt]/2,ot=T[rt];p.push(pp(ht.row,st,ot,K,U,V,Z,r))}}),V.showAxis!==!1&&(p.push(`<g transform="translate(0, ${b+l.plotHeight})">`),p.push(zs(Z,l,r,V.axisLabel,K,U,V.nullValue)),p.push("</g>"))}else if(L.type==="viz_violin"){const V=(G=Q.options)==null?void 0:G.vizViolin;if(!V)continue;const Z=xp(k,V,U);y.forEach((ht,rt)=>{if(ht.type==="data"){const st=b+S[rt]+T[rt]/2,ot=T[rt];p.push(vp(ht.row,st,ot,K,U,V,Z,r))}}),V.showAxis!==!1&&(p.push(`<g transform="translate(0, ${b+l.plotHeight})">`),p.push(zs(Z,l,r,V.axisLabel,K,U,V.nullValue)),p.push("</g>"))}}const M=l.mainY+l.headerHeight,E=cp(k,i);return y.forEach((L,Q)=>{var V,Z,ht;const K=M+S[Q],U=T[Q];if(L.type==="group_header")p.push(lp(L.label,L.depth,L.rowCount,o,K,U,l.totalWidth-o*2,r));else{const rt=L.row,st=L.depth;((V=rt.style)==null?void 0:V.type)==="spacer"||p.push(bp(rt,i,o,K,U,r,l.labelWidth,st,E,d,u,h,k))}if(L.type==="data"){const rt=L.row,st=((Z=rt.style)==null?void 0:Z.type)==="summary",ot=((ht=rt.style)==null?void 0:ht.type)==="spacer";st&&p.push(`<line x1="${o}" x2="${l.totalWidth-o}"
          y1="${K}" y2="${K}"
          stroke="${r.colors.border}" stroke-width="2"/>`),ot||p.push(`<line x1="${o}" x2="${l.totalWidth-o}"
          y1="${K+U}" y2="${K+U}"
          stroke="${r.colors.border}" stroke-width="1"/>`)}else p.push(`<line x1="${o}" x2="${l.totalWidth-o}"
        y1="${K+U}" y2="${K+U}"
        stroke="${r.colors.border}" stroke-width="1"/>`)}),p.push(sp(t,l,r)),p.push("</svg>"),p.join(`
`)}async function Cp(t,e=2){return new Promise((r,o)=>{const a=new Image,i=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),s=URL.createObjectURL(i);a.onload=()=>{const c=document.createElement("canvas"),f=c.getContext("2d");if(!f){URL.revokeObjectURL(s),o(new Error("Failed to get canvas context"));return}c.width=a.width*e,c.height=a.height*e,f.scale(e,e),f.drawImage(a,0,0),c.toBlob(l=>{URL.revokeObjectURL(s),l?r(l):o(new Error("Failed to create PNG blob"))},"image/png",1)},a.onerror=()=>{URL.revokeObjectURL(s),o(new Error("Failed to load SVG image"))},a.src=s})}function kp(t,e){return Qc(t,e)}async function Tp(t,e,r=2){const o=Qc(t,e);return Cp(o,r)}function Jc(t,e){const r=URL.createObjectURL(t),o=document.createElement("a");o.href=r,o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)}function tf(t){return`forest_plot_${new Date().toISOString().slice(0,19).replace(/[:-]/g,"")}.${t}`}$r[D]="src/components/ui/DownloadButton.svelte";var Np=$(Pt('<svg width="16" height="16" viewBox="0 0 24 24" class="spin svelte-15gslqv"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="31.4" stroke-dashoffset="10"></circle></svg>'),$r[D],[[76,6,[[77,8]]]]),Hp=$(Pt('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>'),$r[D],[[80,6,[[81,8],[82,8],[83,8]]]]),Ap=$(yt('<div class="download-dropdown svelte-15gslqv"><button class="dropdown-item svelte-15gslqv"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-15gslqv"><rect x="3" y="3" width="18" height="18" rx="2"></rect><text x="12" y="15" text-anchor="middle" font-size="8" fill="currentColor" stroke="none">SVG</text></svg> <span>Download SVG</span></button> <button class="dropdown-item svelte-15gslqv"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-15gslqv"><rect x="3" y="3" width="18" height="18" rx="2"></rect><circle cx="8.5" cy="8.5" r="1.5" fill="currentColor"></circle><path d="M21 15l-5-5L5 21"></path></svg> <span>Download PNG</span></button></div>'),$r[D],[[89,4,[[90,6,[[91,8,[[92,10],[93,10]]],[95,8]]],[97,6,[[98,8,[[99,10],[100,10],[101,10]]],[103,8]]]]]]),Wp=$(yt('<div class="download-button-wrapper svelte-15gslqv"><button class="download-btn svelte-15gslqv" aria-label="Download plot"><!></button> <!></div>'),$r[D],[[66,0,[[67,2]]]]);function $r(t,e){Te(new.target),we(e,!0,$r);let r=v(Wt(!1),"dropdownOpen"),o=v(Wt(!1),"isExporting"),a=v(Wt(null),"triggerEl");function i(){at(r,!1)}async function s(){if(e.store.spec)try{at(o,!0);const y=e.store.getExportDimensions(),S=kp(e.store.spec,y),T=new Blob([S],{type:"image/svg+xml;charset=utf-8"});Jc(T,tf("svg"))}catch(y){console.error(...Ul("error","Failed to export SVG:",y))}finally{at(o,!1),i()}}async function c(){if(e.store.spec)try{at(o,!0);const y=e.store.getExportDimensions(),S=(await du(Tp(e.store.spec,y,2)))();Jc(S,tf("png"))}catch(y){console.error(...Ul("error","Failed to export PNG:",y))}finally{at(o,!1),i()}}function f(y){y.target.closest(".download-button-wrapper")||i()}var l={...Ne()},d=Wp();Bn("click",jo,f);var u=tt(d);u.__click=()=>at(r,!n(r));var h=tt(u);{var g=y=>{var S=Np();F(y,S)},p=y=>{var S=Hp();F(y,S)};z(()=>X(h,y=>{n(o)?y(g):y(p,!1)}),"if",$r,75,4)}yo(u,y=>at(a,y),()=>n(a));var x=it(u,2);{var _=y=>{var S=Ap(),T=tt(S);T.__click=s;var N=it(T,2);N.__click=c,sa(S,(b,k)=>Or==null?void 0:Or(b,k),()=>({triggerEl:n(a)})),J(()=>{T.disabled=n(o),N.disabled=n(o)}),F(y,S)};z(()=>X(x,y=>{n(r)&&y(_)}),"if",$r,88,2)}return J(()=>{A(u,"aria-expanded",n(r)),u.disabled=n(o)}),F(t,d),be(l)}mo(["click"]),Sa[D]="src/components/ui/ResetButton.svelte";var Rp=$(yt('<button class="reset-btn svelte-uej7wa" title="Reset view" aria-label="Reset view to default settings"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button>'),Sa[D],[[15,0,[[21,2,[[22,4],[23,4]]]]]]);function Sa(t,e){Te(new.target),we(e,!0,Sa);function r(){e.store.resetState()}var o={...Ne()},a=Rp();return a.__click=r,F(t,a),be(o)}mo(["click"]),zn[D]="src/components/ui/ZoomControls.svelte";var Ip=$(yt('<div class="clamped-note svelte-19w48ay"> </div>'),zn[D],[[140,8]]),zp=$(yt('<button class="action-btn svelte-19w48ay" title="Reset to 100% (Cmd 0)"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-19w48ay"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg> Reset to 100%</button>'),zn[D],[[147,8,[[152,10,[[153,12],[154,12]]]]]]),Fp=$(yt("<option> </option>"),zn[D],[[198,14]]),Pp=$(yt("<option> </option>"),zn[D],[[212,14]]),Lp=$(yt('<div class="zoom-dropdown svelte-19w48ay"><div class="zoom-row svelte-19w48ay"><button class="zoom-btn svelte-19w48ay" title="Zoom out (Cmd -)" aria-label="Zoom out"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="5" y1="12" x2="19" y2="12"></line></svg></button> <input type="range" class="zoom-slider svelte-19w48ay" min="50" max="200" step="5" title="Zoom level" aria-label="Zoom level"/> <button class="zoom-btn svelte-19w48ay" title="Zoom in (Cmd +)" aria-label="Zoom in"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg></button> <span class="zoom-value svelte-19w48ay"> </span></div> <!> <!> <div class="divider svelte-19w48ay"></div> <button class="action-btn svelte-19w48ay" title="Fit to container width (Cmd 1)"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-19w48ay"><path d="M21 12H3M21 12l-4-4m4 4l-4 4M3 12l4-4m-4 4l4 4"></path></svg> Fit to width</button> <label class="checkbox-row svelte-19w48ay"><input type="checkbox" class="svelte-19w48ay"/> <span>Auto-fit</span> <span class="checkbox-hint svelte-19w48ay">Shrink if too large</span></label> <div class="divider svelte-19w48ay"></div> <div class="section-label svelte-19w48ay">Max Size</div> <div class="select-row svelte-19w48ay"><label class="svelte-19w48ay"><span class="select-label svelte-19w48ay">Width</span> <select class="svelte-19w48ay"></select></label></div> <div class="select-row svelte-19w48ay"><label class="svelte-19w48ay"><span class="select-label svelte-19w48ay">Height</span> <select class="svelte-19w48ay"></select></label></div></div>'),zn[D],[[97,4,[[99,6,[[100,8,[[106,10,[[107,12]]]]],[111,8],[123,8,[[129,10,[[130,12],[131,12]]]]],[135,8]]],[160,6],[163,6,[[168,8,[[169,10]]]]],[175,6,[[176,8],[181,8],[182,8]]],[185,6],[188,6],[190,6,[[191,8,[[192,10],[193,10]]]]],[204,6,[[205,8,[[206,10],[207,10]]]]]]]]),Dp=$(yt('<div class="zoom-controls-wrapper svelte-19w48ay"><button class="zoom-trigger-btn svelte-19w48ay" aria-label="Zoom and display options"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path><path d="M11 8v6"></path><path d="M8 11h6"></path></svg> <span class="zoom-text svelte-19w48ay"> </span></button> <!></div>'),zn[D],[[76,0,[[78,2,[[87,4,[[88,6],[89,6],[90,6],[91,6]]],[93,4]]]]]]);function zn(t,e){Te(new.target),we(e,!0,zn);let r=v(Wt(!1),"dropdownOpen"),o=v(Wt(null),"triggerEl");const a=v(m(()=>e.store.zoom),"zoom"),i=v(m(()=>e.store.autoFit),"autoFit"),s=v(m(()=>e.store.actualScale),"actualScale"),c=v(m(()=>e.store.isClamped),"isClamped"),f=v(m(()=>e.store.maxWidth),"maxWidth"),l=v(m(()=>e.store.maxHeight),"maxHeight"),d=v(m(()=>Math.round(n(s)*100)),"displayPercent"),u=v(m(()=>Math.round(n(a)*100)),"zoomPercent"),h=[{value:null,label:"None"},{value:600,label:"600px"},{value:800,label:"800px"},{value:1e3,label:"1000px"},{value:1200,label:"1200px"}],g=[{value:null,label:"None"},{value:400,label:"400px"},{value:600,label:"600px"},{value:800,label:"800px"}];function p(){at(r,!1)}function x(H){const R=H.target;e.store.setZoom(parseFloat(R.value)/100)}function _(H){const R=H.target,W=w(R.value,"null")?null:parseInt(R.value);e.store.setMaxWidth(W)}function y(H){const R=H.target,W=w(R.value,"null")?null:parseInt(R.value);e.store.setMaxHeight(W)}function S(H){H.target.closest(".zoom-controls-wrapper")||p()}var T={...Ne()},N=Dp();Bn("click",jo,S);var b=tt(N);b.__click=()=>at(r,!n(r));var k=it(tt(b),2),M=tt(k);yo(b,H=>at(o,H),()=>n(o));var E=it(b,2);{var P=H=>{var R=Lp(),W=tt(R),G=tt(W);G.__click=()=>e.store.zoomOut();var L=it(G,2);L.__change=x;var Q=it(L,2);Q.__click=()=>e.store.zoomIn();var K=it(Q,2),U=tt(K),V=it(W,2);{var Z=Ot=>{var zt=Ip(),fe=tt(zt);J(()=>Xt(fe,`Showing ${n(d)??""}% (auto-fit)`)),F(Ot,zt)};z(()=>X(V,Ot=>{n(c)&&Ot(Z)}),"if",zn,139,6)}var ht=it(V,2);{var rt=Ot=>{var zt=zp();zt.__click=()=>e.store.resetZoom(),F(Ot,zt)};z(()=>X(ht,Ot=>{w(n(a),1,!1)&&Ot(rt)}),"if",zn,146,6)}var st=it(ht,4);st.__click=()=>e.store.fitToWidth();var ot=it(st,2),pt=tt(ot);pt.__change=Ot=>e.store.setAutoFit(Ot.target.checked);var te=it(ot,6),ie=tt(te),xt=it(tt(ie),2);xt.__change=_,z(()=>Be(xt,21,()=>h,br,(Ot,zt)=>{var fe=Fp(),_t=tt(fe,!0);var Ut={};J(()=>{Xt(_t,n(zt).label),Ut!==(Ut=w(n(zt).value,null)?"null":n(zt).value)&&(fe.value=(fe.__value=w(n(zt).value,null)?"null":n(zt).value)??"")}),F(Ot,fe)}),"each",zn,197,12);var Bt;$l(xt);var Fe=it(te,2),me=tt(Fe),ne=it(tt(me),2);ne.__change=y,z(()=>Be(ne,21,()=>g,br,(Ot,zt)=>{var fe=Pp(),_t=tt(fe,!0);var Ut={};J(()=>{Xt(_t,n(zt).label),Ut!==(Ut=w(n(zt).value,null)?"null":n(zt).value)&&(fe.value=(fe.__value=w(n(zt).value,null)?"null":n(zt).value)??"")}),F(Ot,fe)}),"each",zn,211,12);var tn;$l(ne),sa(R,(Ot,zt)=>Or==null?void 0:Or(Ot,zt),()=>({triggerEl:n(o)})),J(()=>{od(L,n(u)),Xt(U,`${n(u)??""}%`),id(pt,n(i)),Bt!==(Bt=w(n(f),null)?"null":n(f))&&(xt.value=(xt.__value=w(n(f),null)?"null":n(f))??"",cs(xt,w(n(f),null)?"null":n(f))),tn!==(tn=w(n(l),null)?"null":n(l))&&(ne.value=(ne.__value=w(n(l),null)?"null":n(l))??"",cs(ne,w(n(l),null)?"null":n(l)))}),F(H,R)};z(()=>X(E,H=>{n(r)&&H(P)}),"if",zn,96,2)}return J(()=>{A(b,"aria-expanded",n(r)),A(b,"title",`Zoom: ${n(d)??""}%`),Xt(M,`${n(d)??""}%`)}),F(t,N),be(T)}mo(["click","change"]),Fn[D]="src/components/ui/ControlToolbar.svelte";var Bp=$(yt('<div class="control-toolbar svelte-rjvd17"><!> <!> <!> <!> <!></div>'),Fn[D],[[37,0]]);function Fn(t,e){Te(new.target),we(e,!0,Fn);let r=Gn(e,"enableExport",3,!0),o=Gn(e,"enableThemes",3,void 0),a=Gn(e,"enableViewToggle",3,!0),i=Gn(e,"enableZoomControls",3,!0),s=Gn(e,"enableReset",3,!0);const c=v(m(()=>i()&&e.store.showZoomControls),"showZoomControls"),f=v(m(()=>w(o(),null,!1)),"showThemeSwitcher");var l={...Ne()},d=Bp(),u=tt(d);{var h=b=>{z(()=>zn(b,{get store(){return e.store}}),"component",Fn,39,4,{componentTag:"ZoomControls"})};z(()=>X(u,b=>{n(c)&&b(h)}),"if",Fn,38,2)}var g=it(u,2);{var p=b=>{z(()=>fr(b,{get store(){return e.store},get availableThemes(){return o()},get onThemeChange(){return e.onThemeChange}}),"component",Fn,42,4,{componentTag:"ThemeSwitcher"})};z(()=>X(g,b=>{n(f)&&b(p)}),"if",Fn,41,2)}var x=it(g,2);{var _=b=>{z(()=>ko(b,{get store(){return e.store}}),"component",Fn,45,4,{componentTag:"ViewToggle"})};z(()=>X(x,b=>{a()&&b(_)}),"if",Fn,44,2)}var y=it(x,2);{var S=b=>{z(()=>Sa(b,{get store(){return e.store}}),"component",Fn,48,4,{componentTag:"ResetButton"})};z(()=>X(y,b=>{s()&&b(S)}),"if",Fn,47,2)}var T=it(y,2);{var N=b=>{z(()=>$r(b,{get store(){return e.store}}),"component",Fn,51,4,{componentTag:"DownloadButton"})};z(()=>X(T,b=>{r()&&b(N)}),"if",Fn,50,2)}return F(t,d),be(l)}eo[D]="src/components/viz/VizBar.svelte";var Gp=$(Pt('<rect rx="2" class="bar-segment svelte-1pgs700"></rect>'),eo[D],[[107,8]]),Vp=$(Pt('<g class="viz-bar-row svelte-1pgs700"></g>'),eo[D],[[96,2]]);function eo(t,e){Te(new.target),we(e,!0,eo);const r=v(m(()=>{var _,y,S,T;if(e.sharedScale)return e.sharedScale;const h=w(e.options.scale,"log"),g=((y=(_=e.theme)==null?void 0:_.spacing)==null?void 0:y.padding)??12;let p=((S=e.options.axisRange)==null?void 0:S[0])??0,x=((T=e.options.axisRange)==null?void 0:T[1])??100;if(!e.options.axisRange){const N=[];for(const b of e.options.effects){const k=e.row.metadata[b.value];ce(k,null,!1)&&!Number.isNaN(k)&&N.push(k)}N.length>0&&(p=Math.min(0,...N),x=Math.max(...N)*1.1)}return h?Gr().domain([Math.max(.01,p),x]).range([g,e.width-g]):Qn().domain([p,x]).range([g,e.width-g])}),"xScale"),o=v(m(()=>{const h=e.options.effects.length,g=e.rowHeight*.7,p=h>1?2:0,x=(g-p*(h-1))/h;return{barHeight:Math.max(4,x),barGap:p,totalHeight:g}}),"barConfig"),a=v(m(()=>{var h,g;return((g=(h=e.theme)==null?void 0:h.shapes)==null?void 0:g.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function i(h,g){return h.color??n(a)[g%n(a).length]}function s(h){return h.opacity??.85}const c=v(m(()=>e.options.effects.some(h=>{const g=e.row.metadata[h.value];return ce(g,null,!1)&&!Number.isNaN(g)})),"hasValidData");var f={...Ne()},l=St(),d=vt(l);{var u=h=>{var g=Vp();z(()=>Be(g,21,()=>e.options.effects,br,(p,x,_)=>{const y=v(m(()=>e.row.metadata[n(x).value]),"value");n(y);var S=St(),T=vt(S);{var N=b=>{const k=v(m(()=>e.yPosition-n(o).totalHeight/2+_*(n(o).barHeight+n(o).barGap)),"barY");n(k);const M=v(m(()=>n(r)(Math.min(0,n(y)))),"barX");n(M);const E=v(m(()=>Math.abs(n(r)(n(y))-n(r)(0))),"barWidth");n(E);const P=v(m(()=>i(n(x),_)),"color");n(P);const H=v(m(()=>s(n(x))),"opacity");n(H);var R=Gp();J(W=>{A(R,"x",n(M)),A(R,"y",n(k)),A(R,"width",W),A(R,"height",n(o).barHeight),A(R,"fill",n(P)),A(R,"fill-opacity",n(H))},[()=>Math.max(1,n(E))]),F(b,R)};z(()=>X(T,b=>{ce(n(y),null,!1)&&!Number.isNaN(n(y))&&b(N)}),"if",eo,100,6)}F(p,S)}),"each",eo,98,4),F(h,g)};z(()=>X(d,h=>{n(c)&&h(u)}),"if",eo,95,0)}return F(t,l),be(f)}dr[D]="src/components/viz/VizBoxplot.svelte";var Op=$(Pt('<circle r="2.5" fill="none" stroke-width="1.5" class="outlier svelte-5apth9"></circle>'),dr[D],[[210,12]]),$p=$(Pt('<line stroke-width="1"></line><line stroke-width="1"></line><line stroke-width="1"></line><line stroke-width="1"></line><rect stroke-width="1" class="box-rect svelte-5apth9"></rect><line stroke-width="2"></line><!>',1),dr[D],[[147,10],[156,10],[166,10],[175,10],[185,8],[198,8]]),jp=$(Pt('<g class="viz-boxplot-row svelte-5apth9"></g>'),dr[D],[[135,2]]);function dr(t,e){Te(new.target),we(e,!0,dr);const r=v(m(()=>e.options.effects.map(g=>{if(g.data){const p=e.row.metadata[g.data];return!p||!Array.isArray(p)||w(p.length,0)?null:_a(p)}if(g.min&&g.q1&&g.median&&g.q3&&g.max){const p=e.row.metadata[g.min],x=e.row.metadata[g.q1],_=e.row.metadata[g.median],y=e.row.metadata[g.q3],S=e.row.metadata[g.max];if([p,x,_,y,S].some(N=>ce(N,null)||Number.isNaN(N)))return null;let T=[];if(g.outliers){const N=e.row.metadata[g.outliers];N&&Array.isArray(N)&&(T=N)}return{min:p,q1:x,median:_,q3:y,max:S,outliers:T}}return null})),"effectStats"),o=v(m(()=>n(r).some(g=>w(g,null,!1))),"hasValidData"),a=v(m(()=>{var y,S,T,N;if(e.sharedScale)return e.sharedScale;const g=w(e.options.scale,"log"),p=((S=(y=e.theme)==null?void 0:y.spacing)==null?void 0:S.padding)??12;let x=(T=e.options.axisRange)==null?void 0:T[0],_=(N=e.options.axisRange)==null?void 0:N[1];if(ce(x,null)||ce(_,null)){const b=[];for(const k of n(r))k&&(b.push(k.min,k.max),w(e.options.showOutliers,!1,!1)&&b.push(...k.outliers));if(b.length>0){const k=Math.min(...b),M=Math.max(...b),E=M-k;x=x??k-E*.05,_=_??M+E*.05}else x=x??0,_=_??100}return g?Gr().domain([Math.max(.01,x),_]).range([p,e.width-p]):Qn().domain([x,_]).range([p,e.width-p])}),"xScale"),i=v(m(()=>{const g=e.options.effects.length,p=e.rowHeight*.7,x=(p-(g-1)*2)/g;return{boxHeight:Math.max(8,x),boxGap:g>1?2:0,totalHeight:p}}),"boxConfig"),s=v(m(()=>{var g,p;return((p=(g=e.theme)==null?void 0:g.shapes)==null?void 0:p.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function c(g,p){return g.color??n(s)[p%n(s).length]}function f(g){return g.fillOpacity??.7}var l={...Ne()},d=St(),u=vt(d);{var h=g=>{var p=jp();z(()=>Be(p,21,()=>e.options.effects,br,(x,_,y)=>{const S=v(m(()=>n(r)[y]),"stats");n(S);var T=St(),N=vt(T);{var b=k=>{const M=v(m(()=>e.yPosition-n(i).totalHeight/2+y*(n(i).boxHeight+n(i).boxGap)),"boxY");n(M);const E=v(m(()=>n(M)+n(i).boxHeight/2),"boxCenterY");n(E);const P=v(m(()=>c(n(_),y)),"color");n(P);const H=v(m(()=>f(n(_))),"opacity");n(H);const R=v(m(()=>{var rt;return((rt=e.theme)==null?void 0:rt.colors.foreground)??"#1a1a1a"}),"lineColor");n(R);var W=$p(),G=vt(W),L=it(G),Q=it(L),K=it(Q),U=it(K),V=it(U),Z=it(V);{var ht=rt=>{var st=St(),ot=vt(st);z(()=>Be(ot,17,()=>n(S).outliers,br,(pt,te)=>{var ie=Op();J(xt=>{A(ie,"cx",xt),A(ie,"cy",n(E)),A(ie,"stroke",n(P))},[()=>n(a)(n(te))]),F(pt,ie)}),"each",dr,209,10),F(rt,st)};z(()=>X(Z,rt=>{w(e.options.showOutliers,!1,!1)&&n(S).outliers.length>0&&rt(ht)}),"if",dr,208,8)}J((rt,st,ot,pt,te,ie,xt,Bt,Fe,me,ne,tn)=>{A(G,"x1",rt),A(G,"x2",st),A(G,"y1",n(E)),A(G,"y2",n(E)),A(G,"stroke",n(R)),A(L,"x1",ot),A(L,"x2",pt),A(L,"y1",n(E)-n(i).boxHeight/4),A(L,"y2",n(E)+n(i).boxHeight/4),A(L,"stroke",n(R)),A(Q,"x1",te),A(Q,"x2",ie),A(Q,"y1",n(E)),A(Q,"y2",n(E)),A(Q,"stroke",n(R)),A(K,"x1",xt),A(K,"x2",Bt),A(K,"y1",n(E)-n(i).boxHeight/4),A(K,"y2",n(E)+n(i).boxHeight/4),A(K,"stroke",n(R)),A(U,"x",Fe),A(U,"y",n(M)),A(U,"width",me),A(U,"height",n(i).boxHeight),A(U,"fill",n(P)),A(U,"fill-opacity",n(H)),A(U,"stroke",n(R)),A(V,"x1",ne),A(V,"x2",tn),A(V,"y1",n(M)),A(V,"y2",n(M)+n(i).boxHeight),A(V,"stroke",n(R))},[()=>n(a)(n(S).min),()=>n(a)(n(S).q1),()=>n(a)(n(S).min),()=>n(a)(n(S).min),()=>n(a)(n(S).q3),()=>n(a)(n(S).max),()=>n(a)(n(S).max),()=>n(a)(n(S).max),()=>n(a)(n(S).q1),()=>Math.max(2,n(a)(n(S).q3)-n(a)(n(S).q1)),()=>n(a)(n(S).median),()=>n(a)(n(S).median)]),F(k,W)};z(()=>X(N,k=>{n(S)&&k(b)}),"if",dr,138,6)}F(x,T)}),"each",dr,136,4),F(g,p)};z(()=>X(u,g=>{n(o)&&g(h)}),"if",dr,134,0)}return F(t,d),be(l)}Jn[D]="src/components/viz/VizViolin.svelte";var qp=$(Pt('<line stroke-width="2"></line>'),Jn[D],[[165,10]]),Xp=$(Pt('<line stroke-width="1" stroke-dasharray="2,2"></line><line stroke-width="1" stroke-dasharray="2,2"></line>',1),Jn[D],[[179,10],[188,10]]),Up=$(Pt('<path stroke-width="0.5" class="violin-path svelte-1ywbnva"></path><!><!>',1),Jn[D],[[153,8]]),Yp=$(Pt('<g class="viz-violin-row svelte-1ywbnva"></g>'),Jn[D],[[140,2]]);function Jn(t,e){Te(new.target),we(e,!0,Jn);const r=v(m(()=>e.options.effects.map(x=>{const _=e.row.metadata[x.data];return!_||!Array.isArray(_)||_.length<2?null:$c(_,e.options.bandwidth)})),"effectKDEs"),o=v(m(()=>e.options.effects.map(x=>{const _=e.row.metadata[x.data];return!_||!Array.isArray(_)||_.length<2?null:Oc(_)})),"effectQuartiles"),a=v(m(()=>n(r).some(x=>w(x,null,!1))),"hasValidData"),i=v(m(()=>{var T,N,b,k;if(e.sharedScale)return e.sharedScale;const x=w(e.options.scale,"log"),_=((N=(T=e.theme)==null?void 0:T.spacing)==null?void 0:N.padding)??12;let y=(b=e.options.axisRange)==null?void 0:b[0],S=(k=e.options.axisRange)==null?void 0:k[1];if(ce(y,null)||ce(S,null)){const M=[];for(const E of n(r))E&&E.x.length>0&&M.push(...E.x);M.length>0?(y=y??Math.min(...M),S=S??Math.max(...M)):(y=y??0,S=S??100)}return x?Gr().domain([Math.max(.01,y),S]).range([_,e.width-_]):Qn().domain([y,S]).range([_,e.width-_])}),"xScale"),s=v(m(()=>{const x=e.options.effects.length,_=e.rowHeight*.8,y=(_-(x-1)*2)/x;return{maxWidth:y/2,violinHeight:Math.max(10,y),gap:x>1?2:0,totalHeight:_}}),"violinConfig"),c=v(m(()=>{var x,_;return((_=(x=e.theme)==null?void 0:x.shapes)==null?void 0:_.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function f(x,_){return x.color??n(c)[_%n(c).length]}function l(x){return x.fillOpacity??.5}function d(x,_,y){if(x.x.length<2)return"";const S=jc(x,y),T=[];for(let N=0;N<S.x.length;N++){const b=n(i)(S.x[N]),k=_-S.y[N];T.push(w(N,0)?`M ${b} ${k}`:`L ${b} ${k}`)}for(let N=S.x.length-1;N>=0;N--){const b=n(i)(S.x[N]),k=_+S.y[N];T.push(`L ${b} ${k}`)}return T.push("Z"),T.join(" ")}var u={...Ne()},h=St(),g=vt(h);{var p=x=>{var _=Yp();z(()=>Be(_,21,()=>e.options.effects,br,(y,S,T)=>{const N=v(m(()=>n(r)[T]),"kde");n(N);const b=v(m(()=>n(o)[T]),"quartiles");n(b);var k=St(),M=vt(k);{var E=P=>{const H=v(m(()=>e.yPosition-n(s).totalHeight/2+n(s).violinHeight/2+T*(n(s).violinHeight+n(s).gap)),"violinCenterY");n(H);const R=v(m(()=>f(n(S),T)),"color");n(R);const W=v(m(()=>l(n(S))),"opacity");n(W);const G=v(m(()=>d(n(N),n(H),n(s).maxWidth)),"path");n(G);const L=v(m(()=>{var rt;return((rt=e.theme)==null?void 0:rt.colors.foreground)??"#1a1a1a"}),"lineColor");n(L);var Q=Up(),K=vt(Q),U=it(K);{var V=rt=>{const st=v(m(()=>n(i)(n(b).median)),"medianX");n(st);var ot=qp();J(()=>{A(ot,"x1",n(st)),A(ot,"x2",n(st)),A(ot,"y1",n(H)-n(s).maxWidth*.6),A(ot,"y2",n(H)+n(s).maxWidth*.6),A(ot,"stroke",n(L))}),F(rt,ot)};z(()=>X(U,rt=>{w(e.options.showMedian,!1,!1)&&n(b)&&rt(V)}),"if",Jn,163,8)}var Z=it(U);{var ht=rt=>{const st=v(m(()=>n(i)(n(b).q1)),"q1X");n(st);const ot=v(m(()=>n(i)(n(b).q3)),"q3X");n(ot);var pt=Xp(),te=vt(pt),ie=it(te);J(()=>{A(te,"x1",n(st)),A(te,"x2",n(st)),A(te,"y1",n(H)-n(s).maxWidth*.4),A(te,"y2",n(H)+n(s).maxWidth*.4),A(te,"stroke",n(L)),A(ie,"x1",n(ot)),A(ie,"x2",n(ot)),A(ie,"y1",n(H)-n(s).maxWidth*.4),A(ie,"y2",n(H)+n(s).maxWidth*.4),A(ie,"stroke",n(L))}),F(rt,pt)};z(()=>X(Z,rt=>{e.options.showQuartiles&&n(b)&&rt(ht)}),"if",Jn,176,8)}J(()=>{A(K,"d",n(G)),A(K,"fill",n(R)),A(K,"fill-opacity",n(W)),A(K,"stroke",n(L))}),F(P,Q)};z(()=>X(M,P=>{n(N)&&n(N).x.length>=2&&P(E)}),"if",Jn,144,6)}F(y,k)}),"each",Jn,141,4),F(x,_)};z(()=>X(g,x=>{n(a)&&x(p)}),"if",Jn,139,0)}return F(t,h),be(u)}B[D]="src/lib/ForestPlot.svelte";function ef(t,e){var o,a,i,s;if((a=(o=e.options)==null?void 0:o.bar)!=null&&a.maxValue)return e.options.bar.maxValue;if(ce((s=(i=e.options)==null?void 0:i.heatmap)==null?void 0:s.maxValue,null,!1))return e.options.heatmap.maxValue;let r=0;for(const c of t){const f=c.metadata[e.field];w(typeof f,"number")&&f>r&&(r=f)}return r||100}function Zp(t,e){var o,a;if(ce((a=(o=e.options)==null?void 0:o.heatmap)==null?void 0:a.minValue,null,!1))return e.options.heatmap.minValue;let r=1/0;for(const i of t){const s=i.metadata[e.field];w(typeof s,"number")&&s<r&&(r=s)}return w(r,1/0)?0:r}function Kp(t,e,r){const o=[],a=w(t==null?void 0:t.type,"header")||w(t==null?void 0:t.type,"summary")||w(t==null?void 0:t.type,"spacer");return w(t==null?void 0:t.type,"header")&&o.push("row-header"),w(t==null?void 0:t.type,"summary")&&o.push("row-summary"),t!=null&&t.bold&&o.push("row-bold"),t!=null&&t.italic&&o.push("row-italic"),t!=null&&t.emphasis&&o.push("row-emphasis"),t!=null&&t.muted&&o.push("row-muted"),t!=null&&t.accent&&o.push("row-accent"),!a&&r&&w(e,void 0,!1)&&w(e%2,1)&&o.push("row-odd"),o.join(" ")}function Qp(t,e){const r=[];return t!=null&&t.color&&r.push(`color: ${t.color}`),t!=null&&t.bg&&r.push(`background-color: ${t.bg}`),t!=null&&t.indent&&r.push(`--row-indent: ${t.indent}`),!(t!=null&&t.indent)&&e&&e>0&&r.push(`--row-indent: ${e}`),r.join("; ")}function Jp(t,e){var r;if((r=t.cellStyles)!=null&&r[e.field])return t.cellStyles[e.field];if(e.styleMapping){const o={},a=t.metadata;if(e.styleMapping.bold&&a[e.styleMapping.bold]&&(o.bold=!!a[e.styleMapping.bold]),e.styleMapping.italic&&a[e.styleMapping.italic]&&(o.italic=!!a[e.styleMapping.italic]),e.styleMapping.color&&a[e.styleMapping.color]&&(o.color=String(a[e.styleMapping.color])),e.styleMapping.bg&&a[e.styleMapping.bg]&&(o.bg=String(a[e.styleMapping.bg])),e.styleMapping.badge&&a[e.styleMapping.badge]&&(o.badge=String(a[e.styleMapping.badge])),e.styleMapping.icon&&a[e.styleMapping.icon]&&(o.icon=String(a[e.styleMapping.icon])),Object.keys(o).length>0)return o}}var tv=$(yt('<div class="resize-handle svelte-14l8yxx"></div>'),B[D],[[955,12]]),ev=$(yt('<div class="grid-cell header-cell column-group-header svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span></div>'),B[D],[[966,12,[[971,14]]]]),nv=$(yt('<span class="header-text svelte-14l8yxx"> </span>'),B[D],[[992,16]]),rv=$(yt('<div class="resize-handle svelte-14l8yxx"></div>'),B[D],[[996,16]]),ov=$(yt('<div class="grid-cell header-cell plot-header svelte-14l8yxx"><!> <!></div>'),B[D],[[985,12]]),iv=$(yt('<div class="resize-handle svelte-14l8yxx"></div>'),B[D],[[1014,16]]),av=$(yt('<div class="grid-cell header-cell svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span> <!></div>'),B[D],[[1005,12,[[1011,14]]]]),sv=$(yt('<span class="row-icon svelte-14l8yxx"> </span>'),B[D],[[1061,35]]),lv=$(yt('<span class="row-badge svelte-14l8yxx"> </span>'),B[D],[[1063,36]]),cv=$(yt("<!> <!>",1),B[D],[]),fv=$(yt("<div></div>"),B[D],[[1071,14]]),uv=$(yt("<div><!></div>"),B[D],[[1086,14]]),dv=$(yt("<div><!></div> <!>",1),B[D],[[1036,10]]),hv=$(yt('<div class="grid-cell axis-cell svelte-14l8yxx"></div>'),B[D],[[1114,14]]),gv=$(yt('<div class="grid-cell axis-spacer svelte-14l8yxx"></div>'),B[D],[[1116,14]]),pv=$(yt('<!> <div class="grid-cell axis-spacer svelte-14l8yxx"></div>',1),B[D],[[1120,10]]),vv=$(Pt('<text text-anchor="middle" font-size="var(--wf-font-size-sm)" font-weight="500" class="svelte-14l8yxx"> </text>'),B[D],[[1171,18]]),mv=$(Pt('<line class="svelte-14l8yxx"></line><!>',1),B[D],[[1159,16]]),yv=$(Pt('<g class="svelte-14l8yxx"><!></g>'),B[D],[[1232,14]]),xv=$(Pt('<svg class="plot-overlay svelte-14l8yxx"><line stroke="var(--wf-muted)" stroke-width="1" stroke-dasharray="4,4" class="svelte-14l8yxx"></line><!><!><!><!></svg>'),B[D],[[1134,10,[[1143,12]]]]),_v=$(Pt('<g class="svelte-14l8yxx"><!></g>'),B[D],[[1275,16]]),wv=$(Pt('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),B[D],[[1248,12]]),bv=$(Pt('<g class="svelte-14l8yxx"><!></g>'),B[D],[[1328,16]]),Mv=$(Pt('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),B[D],[[1301,12]]),Sv=$(Pt('<g class="svelte-14l8yxx"><!></g>'),B[D],[[1381,16]]),Ev=$(Pt('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),B[D],[[1354,12]]),Cv=$(yt('<!> <div class="tabviz-scalable svelte-14l8yxx"><!>  <div class="tabviz-main svelte-14l8yxx"><div class="grid-cell header-cell label-header svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span> <!></div> <!> <!> <!> <!> <!> <!> <!></div> <!></div> <!>',1),B[D],[[857,4,[[944,6,[[947,8,[[952,10]]]]]]]]),kv=$(yt('<div class="tabviz-empty svelte-14l8yxx">No data</div>'),B[D],[[1406,4]]),Tv=$(yt("<div><!></div>"),B[D],[[842,0]]);function B(t,e){Te(new.target),we(e,!0,B);const r=v(m(()=>e.store.spec),"spec"),o=v(m(()=>e.store.visibleRows),"visibleRows"),a=v(m(()=>e.store.displayRows),"displayRows"),i=v(m(()=>e.store.layout),"layout"),s=v(m(()=>e.store.xScale),"xScale"),c=v(m(()=>e.store.axisComputation),"axisComputation"),f=v(m(()=>n(c).axisLimits),"clipBounds"),l=v(m(()=>{var C;return(C=n(r))==null?void 0:C.theme}),"theme"),d=v(m(()=>{var C,I;return((I=(C=n(l))==null?void 0:C.layout)==null?void 0:I.banding)??!1}),"bandingEnabled"),u=v(m(()=>e.store.allColumns),"allColumns"),h=v(m(()=>e.store.allColumnDefs),"allColumnDefs"),g=v(m(()=>e.store.forestColumns),"forestColumns");v(m(()=>n(g).length>0),"hasForestColumns");const p=v(m(()=>e.store.vizColumns),"vizColumns"),x=v(m(()=>n(p).length>0),"hasVizColumns"),_=v(m(()=>{var C;return((C=n(r))==null?void 0:C.data.labelHeader)||"Study"}),"labelHeader"),y=v(m(()=>{var C,I,j,Y;return!!((I=(C=n(r))==null?void 0:C.labels)!=null&&I.title)||!!((Y=(j=n(r))==null?void 0:j.labels)!=null&&Y.subtitle)}),"hasPlotHeader");v(m(()=>n(h).some(C=>C.isGroup)),"hasColumnGroups");const S=v(m(()=>e.store.tooltipRow),"tooltipRow"),T=v(m(()=>e.store.tooltipPosition),"tooltipPosition"),N=v(m(()=>e.store.selectedRowIds),"selectedRowIds"),b=v(m(()=>e.store.hoveredRowId),"hoveredRowId"),k=v(m(()=>e.store.zoom),"zoom"),M=v(m(()=>e.store.autoFit),"autoFit"),E=v(m(()=>e.store.actualScale),"actualScale"),P=v(m(()=>e.store.maxWidth),"maxWidth"),H=v(m(()=>e.store.maxHeight),"maxHeight");v(m(()=>e.store.showZoomControls),"showZoomControls");const R=v(m(()=>({...e.store.columnWidths})),"columnWidthsSnapshot");let W=v(Wt(void 0),"containerRef"),G=v(Wt(void 0),"scalableRef"),L=v(Wt(0),"containerContentWidth"),Q=v(Wt(0),"scalableNaturalWidth"),K=v(Wt(0),"scalableNaturalHeight");v(m(()=>e.store.naturalContentWidth),"naturalContentWidth");const U=v(m(()=>n(Q)*n(E)),"scaledWidth"),V=v(m(()=>n(K)*n(E)),"scaledHeight"),Z=v(m(()=>{if(!n(M)||n(L)<=0||n(U)<=0)return 0;const C=(n(L)-n(U))/2;return Math.max(0,C)}),"centeringMargin");ea(()=>{if(!n(W)||!n(G))return;n(W).id&&e.store.setContainerElementId(n(W).id);const C=new ResizeObserver(I=>{for(const j of I)w(j.target,n(W))?(at(L,j.contentRect.width,!0),e.store.setContainerDimensions(j.contentRect.width,j.contentRect.height)):w(j.target,n(G))&&(at(Q,j.contentRect.width,!0),at(K,j.contentRect.height,!0),e.store.setScalableNaturalDimensions(j.contentRect.width,j.contentRect.height))});return C.observe(n(W)),C.observe(n(G)),()=>{C.disconnect()}});const ht=v(m(()=>{var C,I;return w((I=(C=n(r))==null?void 0:C.interaction)==null?void 0:I.enableExport,!1,!1)}),"enableExport"),rt=v(m(()=>{var C,I;return(I=(C=n(r))==null?void 0:C.interaction)==null?void 0:I.enableThemes}),"enableThemes");function st(C){var I;if(!(!C.metaKey&&!C.ctrlKey)&&!w((I=C.target)==null?void 0:I.tagName,"INPUT"))switch(C.key){case"=":case"+":C.preventDefault(),e.store.zoomIn();break;case"-":C.preventDefault(),e.store.zoomOut();break;case"0":C.preventDefault(),e.store.resetZoom();break;case"1":C.preventDefault(),e.store.fitToWidth();break}}const ot=v(m(()=>{var Y;const C=[],I=[];let j=0;for(const gt of n(a)){const bt=w(gt.type,"data")&&w((Y=gt.row.style)==null?void 0:Y.type,"spacer")?n(i).rowHeight/2:n(i).rowHeight;C.push(j),I.push(bt),j+=bt}return{positions:C,heights:I,totalHeight:j}}),"rowLayout"),pt=v(m(()=>n(ot).totalHeight),"rowsAreaHeight");function te(C){const I=C.filter(bt=>w(bt.type,"reference_line")&&bt.label).map(bt=>({id:bt.id,x:n(s)(bt.x),label:bt.label})).sort((bt,jt)=>bt.x-jt.x),j={},Y=120,gt=-18;for(let bt=0;bt<I.length;bt++){const jt=I[bt];if(j[jt.id]=0,bt>0){const Nt=I[bt-1];jt.x-Nt.x<Y&&(j[jt.id]=w(j[Nt.id],0)?gt:0)}}return j}function ie(C){return n(N).has(C)}function xt(C,I){return w(C.type,"group_header")?`group_${C.group.id}`:C.row.id}function Bt(C){return C.isGroup?C.columns.reduce((I,j)=>I+Bt(j),0):1}function Fe(C){let I=0;for(const j of C)if(j.isGroup){const Y=1+Fe(j.columns);I=Math.max(I,Y)}return I}function me(C,I){var se,Je;const j=I==null?void 0:I.groupHeaders,Y=((se=I==null?void 0:I.colors)==null?void 0:se.primary)??"#0891b2",gt=((Je=I==null?void 0:I.colors)==null?void 0:Je.background)??"#ffffff";if(w(C,1)&&(j!=null&&j.level1Background))return j.level1Background;if(w(C,2)&&(j!=null&&j.level2Background))return j.level2Background;if(C>=3&&(j!=null&&j.level3Background))return j.level3Background;const jt=[.15,.1,.06][Math.min(C-1,2)],Nt=Qt=>{const kt=Qt.replace("#","");return{r:parseInt(kt.substring(0,2),16),g:parseInt(kt.substring(2,4),16),b:parseInt(kt.substring(4,6),16)}},Ht=Nt(Y),Gt=Nt(gt),Dt=(Qt,kt)=>Math.round(Qt*jt+kt*(1-jt)),qe=Dt(Ht.r,Gt.r),Vt=Dt(Ht.g,Gt.g),Ee=Dt(Ht.b,Gt.b);return`rgb(${qe}, ${Vt}, ${Ee})`}const ne=v(m(()=>Math.max(1,1+Fe(n(h)))),"headerDepth"),tn=v(m(()=>{const C=[];let I=2;function j(Y,gt){const bt=Bt(Y),jt=I;if(Y.isGroup){C.push({col:Y,gridColumnStart:jt,colspan:bt,rowStart:gt+1,rowSpan:1,isGroupHeader:!0,isForest:!1});for(const Nt of Y.columns)j(Nt,gt+1)}else{const Nt=!Y.isGroup&&zt.includes(Y.type);C.push({col:Y,gridColumnStart:jt,colspan:1,rowStart:gt+1,rowSpan:n(ne)-gt,isGroupHeader:!1,isForest:Nt}),I++}}for(const Y of n(h))j(Y,0);return C}),"headerCells");function Ot(C){const I=n(R)[C.id];return w(typeof I,"number")?`${I}px`:w(typeof C.width,"number")?`${C.width}px`:"max-content"}const zt=["forest","viz_bar","viz_boxplot","viz_violin"],fe=v(m(()=>{var j,Y,gt,bt,jt,Nt,Ht,Gt;const C=[],I=n(R).__label__;C.push(I?`${I}px`:"max-content");for(const Dt of n(u))if(zt.includes(Dt.type)){const qe=n(R)[Dt.id];let Vt;w(typeof qe,"number")?Vt=qe:w(typeof Dt.width,"number")?Vt=Dt.width:w(Dt.type,"forest")?Vt=((Y=(j=Dt.options)==null?void 0:j.forest)==null?void 0:Y.width)??n(i).forestWidth:w(Dt.type,"viz_bar")?Vt=((bt=(gt=Dt.options)==null?void 0:gt.vizBar)==null?void 0:bt.width)??n(i).forestWidth:w(Dt.type,"viz_boxplot")?Vt=((Nt=(jt=Dt.options)==null?void 0:jt.vizBoxplot)==null?void 0:Nt.width)??n(i).forestWidth:w(Dt.type,"viz_violin")?Vt=((Gt=(Ht=Dt.options)==null?void 0:Ht.vizViolin)==null?void 0:Gt.width)??n(i).forestWidth:Vt=n(i).forestWidth,C.push(`${Vt}px`)}else C.push(Ot(Dt));return C.join(" ")}),"gridTemplateColumns");v(m(()=>1+n(u).length),"totalColumns");const _t=v(m(()=>{const C=[];for(let I=0;I<n(u).length;I++)zt.includes(n(u)[I].type)&&C.push({gridCol:2+I,column:n(u)[I]});return C}),"vizColumnGridIndices");n(_t);let Ut=v(Wt(xr(new Map)),"forestColumnRefs"),$t=v(Wt(xr(new Map)),"forestColumnPositions"),Ze=v(Wt(void 0),"labelHeaderRef"),gr=v(Wt(0),"measuredHeaderHeight");ea(()=>{n(R),n(i).forestWidth,n(ne),zu().then(()=>{const C=new Map;for(const[I,j]of n(Ut))j&&C.set(I,j.offsetLeft);at($t,C,!0),n(Ze)&&at(gr,n(Ze).offsetHeight,!0)})});function rr(C,I){return n(Ut).set(I,C),at(Ut,new Map(n(Ut)),!0),{destroy(){n(Ut).delete(I),at(Ut,new Map(n(Ut)),!0)}}}const Et=v(m(()=>n(gr)>0?n(gr):n(i).headerHeight),"actualHeaderHeight"),ut=v(m(()=>{var j,Y,gt,bt,jt,Nt,Ht,Gt,Dt;const C=new Map,I=An;for(const qe of n(p)){const Vt=qe.column,Ee=I;if(w(Vt.type,"viz_bar")){const se=(j=Vt.options)==null?void 0:j.vizBar;if(!se)continue;const Je=n(R)[Vt.id],Qt=w(typeof Je,"number")?Je:w(typeof Vt.width,"number")?Vt.width:se.width??n(i).forestWidth;let kt=(Y=se.axisRange)==null?void 0:Y[0],lt=(gt=se.axisRange)==null?void 0:gt[1];if(ce(kt,null)||ce(lt,null)){const he=[];for(const De of n(a))if(w(De.type,"data"))for(const Xe of se.effects){const ge=De.row.metadata[Xe.value];ce(ge,null,!1)&&!Number.isNaN(ge)&&he.push(ge)}he.length>0?(kt=kt??Math.min(0,...he),lt=lt??Math.max(...he)*1.1):(kt=kt??0,lt=lt??100)}const ae=w(se.scale,"log")?Gr().domain([Math.max(.01,kt),lt]).range([Ee,Qt-Ee]):Qn().domain([kt,lt]).range([Ee,Qt-Ee]);C.set(Vt.id,ae)}else if(w(Vt.type,"viz_boxplot")){const se=(bt=Vt.options)==null?void 0:bt.vizBoxplot;if(!se)continue;const Je=n(R)[Vt.id],Qt=w(typeof Je,"number")?Je:w(typeof Vt.width,"number")?Vt.width:se.width??n(i).forestWidth;let kt=(jt=se.axisRange)==null?void 0:jt[0],lt=(Nt=se.axisRange)==null?void 0:Nt[1];if(ce(kt,null)||ce(lt,null)){const he=[];for(const De of n(a))if(w(De.type,"data")){for(const Xe of se.effects)if(Xe.data){const ge=De.row.metadata[Xe.data];if(ge&&Array.isArray(ge)){const Yt=_a(ge);he.push(Yt.min,Yt.max),w(se.showOutliers,!1,!1)&&he.push(...Yt.outliers)}}else if(Xe.min&&Xe.max){const ge=De.row.metadata[Xe.min],Yt=De.row.metadata[Xe.max];ce(ge,null,!1)&&!Number.isNaN(ge)&&he.push(ge),ce(Yt,null,!1)&&!Number.isNaN(Yt)&&he.push(Yt)}}if(he.length>0){const De=Math.min(...he),Xe=Math.max(...he),ge=Xe-De;kt=kt??De-ge*.05,lt=lt??Xe+ge*.05}else kt=kt??0,lt=lt??100}const ae=w(se.scale,"log")?Gr().domain([Math.max(.01,kt),lt]).range([Ee,Qt-Ee]):Qn().domain([kt,lt]).range([Ee,Qt-Ee]);C.set(Vt.id,ae)}else if(w(Vt.type,"viz_violin")){const se=(Ht=Vt.options)==null?void 0:Ht.vizViolin;if(!se)continue;const Je=n(R)[Vt.id],Qt=w(typeof Je,"number")?Je:w(typeof Vt.width,"number")?Vt.width:se.width??n(i).forestWidth;let kt=(Gt=se.axisRange)==null?void 0:Gt[0],lt=(Dt=se.axisRange)==null?void 0:Dt[1];if(ce(kt,null)||ce(lt,null)){const he=[];for(const De of n(a))if(w(De.type,"data"))for(const Xe of se.effects){const ge=De.row.metadata[Xe.data];ge&&Array.isArray(ge)&&he.push(...ge.filter(Yt=>ce(Yt,null,!1)&&!Number.isNaN(Yt)))}if(he.length>0){kt=kt??Math.min(...he),lt=lt??Math.max(...he);const De=lt-kt;kt=kt-De*.1,lt=lt+De*.1}else kt=kt??0,lt=lt??100}const ae=w(se.scale,"log")?Gr().domain([Math.max(.01,kt),lt]).range([Ee,Qt-Ee]):Qn().domain([kt,lt]).range([Ee,Qt-Ee]);C.set(Vt.id,ae)}}return C}),"vizColumnScales"),Oe=v(m(()=>{var j;const C=new Map,I=An;for(const Y of n(g)){const gt=Y.column,bt=(j=gt.options)==null?void 0:j.forest,jt=n(R)[gt.id],Nt=w(typeof jt,"number")?jt:w(typeof gt.width,"number")?gt.width:(bt==null?void 0:bt.width)??n(i).forestWidth,Ht=w(bt==null?void 0:bt.scale,"log"),Gt=n(c).axisLimits,Dt=I,qe=Math.max(Nt-I,Dt+50);if(Ht){const Vt=[Math.max(Gt[0],.01),Math.max(Gt[1],.02)];C.set(gt.id,Gr().domain(Vt).range([Dt,qe]))}else C.set(gt.id,Qn().domain(Gt).range([Dt,qe]))}return C}),"forestColumnScales");v(Wt(!1),"resizingPlot");let Pe=v(Wt(null),"resizingColumn"),Tt=0,Mt=0;function re(C,I,j){var Y;(Y=n(r))!=null&&Y.interaction.enableResize&&(C.preventDefault(),C.stopPropagation(),at(Pe,I,!0),Tt=C.clientX,Mt=j,document.addEventListener("pointermove",$e),document.addEventListener("pointerup",Qe))}function $e(C){if(!n(Pe))return;const I=C.clientX-Tt,j=Math.max(40,Mt+I);e.store.setColumnWidth(n(Pe),j)}function Qe(){at(Pe,null),document.removeEventListener("pointermove",$e),document.removeEventListener("pointerup",Qe)}function Re(C,I){e.store.setHovered(C),e.store.setTooltip(C,{x:I.clientX,y:I.clientY})}function Ke(){e.store.setHovered(null),e.store.setTooltip(null,null)}const sn=v(m(()=>n(l)?`
      --wf-max-width: ${n(P)?`${n(P)}px`:"none"};
      --wf-max-height: ${n(H)?`${n(H)}px`:"none"};
      --wf-bg: ${n(l).colors.background};
      --wf-fg: ${n(l).colors.foreground};
      --wf-primary: ${n(l).colors.primary};
      --wf-secondary: ${n(l).colors.secondary};
      --wf-muted: ${n(l).colors.muted};
      --wf-border: ${n(l).colors.border};
      --wf-row-bg: ${n(l).colors.rowBg};
      --wf-alt-bg: ${n(l).colors.altBg};
      --wf-interval-line: ${n(l).colors.intervalLine};
      --wf-interval-positive: ${n(l).colors.intervalPositive};
      --wf-interval-negative: ${n(l).colors.intervalNegative};
      --wf-summary-fill: ${n(l).colors.summaryFill};
      --wf-summary-border: ${n(l).colors.summaryBorder};
      --wf-accent: ${n(l).colors.accent};
      --wf-badge-success: ${Ni.success};
      --wf-badge-warning: ${Ni.warning};
      --wf-badge-error: ${Ni.error};
      --wf-badge-info: ${Ni.info};
      --wf-badge-muted: ${n(l).colors.muted};
      --wf-font-family: ${n(l).typography.fontFamily};
      --wf-font-size-sm: ${n(l).typography.fontSizeSm};
      --wf-font-size-base: ${n(l).typography.fontSizeBase};
      --wf-font-size-lg: ${n(l).typography.fontSizeLg};
      --wf-font-weight-normal: ${n(l).typography.fontWeightNormal};
      --wf-font-weight-medium: ${n(l).typography.fontWeightMedium};
      --wf-font-weight-bold: ${n(l).typography.fontWeightBold};
      --wf-line-height: ${n(l).typography.lineHeight};
      --wf-header-font-scale: ${n(l).typography.headerFontScale??1.05};
      --wf-row-height: ${n(l).spacing.rowHeight}px;
      --wf-header-height: ${n(l).spacing.headerHeight}px;
      --wf-header-row-height: ${n(l).spacing.headerHeight/n(ne)}px;
      --wf-header-depth: ${n(ne)};
      --wf-padding: ${n(l).spacing.padding}px;
      --wf-container-padding: ${n(l).spacing.containerPadding}px;
      --wf-cell-padding-x: ${n(l).spacing.cellPaddingX}px;
      --wf-cell-padding-y: ${n(l).spacing.cellPaddingY}px;
      --wf-axis-gap: ${n(l).spacing.axisGap??Yn.DEFAULT_AXIS_GAP}px;
      --wf-axis-height: ${n(i).axisHeight}px;
      --wf-group-padding: ${n(l).spacing.groupPadding??8}px;
      --wf-column-gap: ${n(l).spacing.columnGap??8}px;
      --wf-plot-width: ${n(i).forestWidth}px;
      --wf-point-size: ${n(l).shapes.pointSize}px;
      --wf-line-width: ${n(l).shapes.lineWidth}px;
      --wf-border-radius: ${n(l).shapes.borderRadius}px;
      --wf-container-border: ${n(l).layout.containerBorder?"1px solid var(--wf-border)":"none"};
      --wf-container-border-radius: ${n(l).layout.containerBorderRadius}px;
      --wf-group-header-opacity: ${gd};
      --wf-row-hover-opacity: ${pd};
      --wf-row-selected-opacity: ${vd};
      --wf-row-selected-hover-opacity: ${md};
      --wf-actual-scale: ${n(E)};
      --wf-zoom: ${n(k)};
    `.trim():""),"cssVars");var On={...Ne()},Le=Tv();Bn("keydown",jo,st);let je;var en=tt(Le);{var Mn=C=>{var I=Cv(),j=vt(I);z(()=>Fn(j,{get store(){return e.store},get enableExport(){return n(ht)},get enableThemes(){return n(rt)},get onThemeChange(){return e.onThemeChange}}),"component",B,854,4,{componentTag:"ControlToolbar"});var Y=it(j,2);let gt;{const ge=Uu(B,function(ct,et=Ys,q=Ys){Zu(...arguments);const At=v(m(()=>Jp(et(),q())),"cellStyle");n(At);var ft=St(),He=vt(ft);{var pe=ye=>{{let Ge=m(()=>ef(n(o),q())),Ce=m(()=>{var wt;return(wt=q().options)==null?void 0:wt.bar});z(()=>_o(ye,{get value(){return et().metadata[q().field]},get maxValue(){return n(Ge)},get options(){return n(Ce)}}),"component",B,867,10,{componentTag:"CellBar"})}},ee=ye=>{var Ge=St(),Ce=vt(Ge);{var wt=Lt=>{{let le=m(()=>{var Ie;return(Ie=q().options)==null?void 0:Ie.pvalue});z(()=>Zo(Lt,{get value(){return et().metadata[q().field]},get options(){return n(le)},get cellStyle(){return n(At)}}),"component",B,873,10,{componentTag:"CellPvalue"})}},Ct=Lt=>{var le=St(),Ie=vt(le);{var mn=It=>{{let ve=m(()=>{var mt;return(mt=q().options)==null?void 0:mt.sparkline});z(()=>In(It,{get data(){return et().metadata[q().field]},get options(){return n(ve)}}),"component",B,879,10,{componentTag:"CellSparkline"})}},Zt=It=>{var ve=St(),mt=vt(ve);{var nt=Jt=>{{let ke=m(()=>{var ze;return(ze=q().options)==null?void 0:ze.icon});z(()=>zi(Jt,{get value(){return et().metadata[q().field]},get options(){return n(ke)}}),"component",B,884,10,{componentTag:"CellIcon"})}},Ft=Jt=>{var ke=St(),ze=vt(ke);{var xe=nn=>{{let yn=m(()=>{var hn;return(hn=q().options)==null?void 0:hn.badge});z(()=>Fi(nn,{get value(){return et().metadata[q().field]},get options(){return n(yn)}}),"component",B,889,10,{componentTag:"CellBadge"})}},Kt=nn=>{var yn=St(),hn=vt(yn);{var ln=Ve=>{{let ii=m(()=>{var ai;return(ai=q().options)==null?void 0:ai.stars});z(()=>So(Ve,{get value(){return et().metadata[q().field]},get options(){return n(ii)}}),"component",B,894,10,{componentTag:"CellStars"})}},_e=Ve=>{var ii=St(),ai=vt(ii);{var zo=$n=>{{let li=m(()=>{var ci;return(ci=q().options)==null?void 0:ci.img});z(()=>Eo($n,{get value(){return et().metadata[q().field]},get options(){return n(li)}}),"component",B,899,10,{componentTag:"CellImg"})}},si=$n=>{var li=St(),ci=vt(li);{var Rv=fi=>{{let Ta=m(()=>{var Na;return(Na=q().options)==null?void 0:Na.reference});z(()=>Vr(fi,{get value(){return et().metadata[q().field]},get metadata(){return et().metadata},get options(){return n(Ta)}}),"component",B,904,10,{componentTag:"CellReference"})}},Iv=fi=>{var Ta=St(),Na=vt(Ta);{var zv=ui=>{{let Ha=m(()=>{var Aa;return(Aa=q().options)==null?void 0:Aa.range});z(()=>Pi(ui,{get value(){return et().metadata[q().field]},get metadata(){return et().metadata},get options(){return n(Ha)}}),"component",B,910,10,{componentTag:"CellRange"})}},Fv=ui=>{var Ha=St(),Aa=vt(Ha);{var Pv=di=>{{let Wa=m(()=>{var Ra;return(Ra=q().options)==null?void 0:Ra.heatmap}),Ps=m(()=>Zp(n(o),q())),Ls=m(()=>ef(n(o),q()));z(()=>Li(di,{get value(){return et().metadata[q().field]},get options(){return n(Wa)},get minValue(){return n(Ps)},get maxValue(){return n(Ls)}}),"component",B,916,10,{componentTag:"CellHeatmap"})}},Lv=di=>{var Wa=St(),Ps=vt(Wa);{var Ls=hi=>{{let Ia=m(()=>{var za;return(za=q().options)==null?void 0:za.progress});z(()=>Co(hi,{get value(){return et().metadata[q().field]},get options(){return n(Ia)}}),"component",B,923,10,{componentTag:"CellProgress"})}},Ra=hi=>{var Ia=St(),za=vt(Ia);{var Dv=gi=>{{let Fa=m(()=>ti(et().metadata[q().field],q().options));z(()=>cr(gi,{get value(){return n(Fa)},get cellStyle(){return n(At)}}),"component",B,928,10,{componentTag:"CellContent"})}},Bv=gi=>{var Fa=St(),Gv=vt(Fa);{var Vv=pi=>{{let Fo=m(()=>Ns(et(),q().options));z(()=>cr(pi,{get value(){return n(Fo)},get cellStyle(){return n(At)}}),"component",B,930,10,{componentTag:"CellContent"})}},Ov=pi=>{var Fo=St(),$v=vt(Fo);{var jv=vi=>{{let Ds=m(()=>{var cf,ff,uf,df,hf,gf;return Hs((ff=(cf=q().options)==null?void 0:cf.interval)!=null&&ff.point?et().metadata[q().options.interval.point]:void 0,(df=(uf=q().options)==null?void 0:uf.interval)!=null&&df.lower?et().metadata[q().options.interval.lower]:void 0,(gf=(hf=q().options)==null?void 0:hf.interval)!=null&&gf.upper?et().metadata[q().options.interval.upper]:void 0,q().options)});z(()=>cr(vi,{get value(){return n(Ds)},get cellStyle(){return n(At)}}),"component",B,932,10,{componentTag:"CellContent"})}},qv=vi=>{{let Ds=m(()=>et().metadata[q().field]??"");z(()=>cr(vi,{get value(){return n(Ds)},get cellStyle(){return n(At)}}),"component",B,939,10,{componentTag:"CellContent"})}};z(()=>X($v,vi=>{w(q().type,"interval")?vi(jv):vi(qv,!1)},!0),"if",B,931,8)}F(pi,Fo)};z(()=>X(Gv,pi=>{var Fo;w(q().type,"custom")&&((Fo=q().options)!=null&&Fo.events)?pi(Vv):pi(Ov,!1)},!0),"if",B,929,8)}F(gi,Fa)};z(()=>X(za,gi=>{w(q().type,"numeric")?gi(Dv):gi(Bv,!1)},!0),"if",B,927,8)}F(hi,Ia)};z(()=>X(Ps,hi=>{w(q().type,"progress")?hi(Ls):hi(Ra,!1)},!0),"if",B,922,8)}F(di,Wa)};z(()=>X(Aa,di=>{w(q().type,"heatmap")?di(Pv):di(Lv,!1)},!0),"if",B,915,8)}F(ui,Ha)};z(()=>X(Na,ui=>{w(q().type,"range")?ui(zv):ui(Fv,!1)},!0),"if",B,909,8)}F(fi,Ta)};z(()=>X(ci,fi=>{w(q().type,"reference")?fi(Rv):fi(Iv,!1)},!0),"if",B,903,8)}F($n,li)};z(()=>X(ai,$n=>{w(q().type,"img")?$n(zo):$n(si,!1)},!0),"if",B,898,8)}F(Ve,ii)};z(()=>X(hn,Ve=>{w(q().type,"stars")?Ve(ln):Ve(_e,!1)},!0),"if",B,893,8)}F(nn,yn)};z(()=>X(ze,nn=>{w(q().type,"badge")?nn(xe):nn(Kt,!1)},!0),"if",B,888,8)}F(Jt,ke)};z(()=>X(mt,Jt=>{w(q().type,"icon")?Jt(nt):Jt(Ft,!1)},!0),"if",B,883,8)}F(It,ve)};z(()=>X(Ie,It=>{w(q().type,"sparkline")?It(mn):It(Zt,!1)},!0),"if",B,878,8)}F(Lt,le)};z(()=>X(Ce,Lt=>{w(q().type,"pvalue")?Lt(wt):Lt(Ct,!1)},!0),"if",B,872,8)}F(ye,Ge)};z(()=>X(He,ye=>{w(q().type,"bar")?ye(pe):ye(ee,!1)}),"if",B,866,8)}F(ct,ft)});var bt=tt(Y);{var jt=ct=>{{let et=m(()=>{var At;return(At=n(r).labels)==null?void 0:At.title}),q=m(()=>{var At;return(At=n(r).labels)==null?void 0:At.subtitle});z(()=>Kn(ct,{get title(){return n(et)},get subtitle(){return n(q)}}),"component",B,860,8,{componentTag:"PlotHeader"})}};z(()=>X(bt,ct=>{n(y)&&ct(jt)}),"if",B,859,6)}var Nt=it(bt,2);let Yt;var Ht=tt(Nt);let vn;var Gt=tt(Ht),Dt=tt(Gt),qe=it(Gt,2);{var Vt=ct=>{var et=tv();et.__pointerdown=q=>re(q,"__label__",n(R).__label__??150),F(ct,et)};z(()=>X(qe,ct=>{var et;(et=n(r))!=null&&et.interaction.enableResize&&ct(Vt)}),"if",B,953,10)}yo(Ht,ct=>at(Ze,ct),()=>n(Ze));var Ee=it(Ht,2);bn(()=>n(tn),ct=>ct.col.id),z(()=>Be(Ee,17,()=>n(tn),ct=>ct.col.id,(ct,et)=>{var q=St(),At=vt(q);{var ft=pe=>{var ee=ev();let ye;var Ge=tt(ee),Ce=tt(Ge,!0);J(()=>{ye=We(ee,"",ye,{"grid-column":`${n(et).gridColumnStart??""} / span ${n(et).colspan??""}`,"grid-row":`${n(et).rowStart??""} / span ${n(et).rowSpan??""}`}),Xt(Ce,n(et).col.header)}),F(pe,ee)},He=pe=>{var ee=St(),ye=vt(ee);{var Ge=wt=>{const Ct=v(m(()=>n(et).col),"column");n(Ct);const Lt=v(m(()=>{var mt,nt,Ft,Jt,ke,ze,xe,Kt;return w(n(Ct).type,"forest")?((nt=(mt=n(Ct).options)==null?void 0:mt.forest)==null?void 0:nt.width)??n(i).forestWidth:w(n(Ct).type,"viz_bar")?((Jt=(Ft=n(Ct).options)==null?void 0:Ft.vizBar)==null?void 0:Jt.width)??n(i).forestWidth:w(n(Ct).type,"viz_boxplot")?((ze=(ke=n(Ct).options)==null?void 0:ke.vizBoxplot)==null?void 0:ze.width)??n(i).forestWidth:w(n(Ct).type,"viz_violin")?((Kt=(xe=n(Ct).options)==null?void 0:xe.vizViolin)==null?void 0:Kt.width)??n(i).forestWidth:n(i).forestWidth}),"vizDefaultWidth");n(Lt);var le=ov();let Ie;var mn=tt(le);{var Zt=mt=>{var nt=nv(),Ft=tt(nt,!0);J(()=>Xt(Ft,n(Ct).header)),F(mt,nt)};z(()=>X(mn,mt=>{n(Ct).header&&mt(Zt)}),"if",B,991,14)}var It=it(mn,2);{var ve=mt=>{var nt=rv();nt.__pointerdown=Ft=>re(Ft,n(Ct).id,n(R)[n(Ct).id]??n(Lt)),F(mt,nt)};z(()=>X(It,mt=>{var nt;(nt=n(r))!=null&&nt.interaction.enableResize&&mt(ve)}),"if",B,994,14)}sa(le,(mt,nt)=>rr==null?void 0:rr(mt,nt),()=>n(Ct).id),J(()=>Ie=We(le,"",Ie,{"grid-column":n(et).gridColumnStart,"grid-row":`${n(et).rowStart??""} / span ${n(et).rowSpan??""}`})),F(wt,le)},Ce=wt=>{const Ct=v(m(()=>n(et).col),"column");n(Ct);var Lt=av();let le;var Ie=tt(Lt),mn=tt(Ie,!0);var Zt=it(Ie,2);{var It=ve=>{var mt=iv();mt.__pointerdown=nt=>re(nt,n(Ct).id,n(R)[n(Ct).id]??(w(typeof n(Ct).width,"number")?n(Ct).width:80)),F(ve,mt)};z(()=>X(Zt,ve=>{var mt;(mt=n(r))!=null&&mt.interaction.enableResize&&ve(It)}),"if",B,1012,14)}J(()=>{le=We(Lt,"",le,{"grid-column":n(et).gridColumnStart,"grid-row":`${n(et).rowStart??""} / span ${n(et).rowSpan??""}`,"text-align":n(Ct).headerAlign??n(Ct).align}),Xt(mn,n(Ct).header)}),F(wt,Lt)};z(()=>X(ye,wt=>{n(et).isForest?wt(Ge):wt(Ce,!1)},!0),"if",B,973,10)}F(pe,ee)};z(()=>X(At,pe=>{n(et).isGroupHeader?pe(ft):pe(He,!1)}),"if",B,964,10)}F(ct,q)}),"each",B,963,8);var se=it(Ee,2);bn(()=>n(a),(ct,et)=>xt(ct)),z(()=>Be(se,19,()=>n(a),(ct,et)=>xt(ct,et),(ct,et,q)=>{const At=v(m(()=>w(n(et).type,"group_header")),"isGroupHeader");n(At);const ft=v(m(()=>n(At)?null:n(et).row),"row");n(ft);const He=v(m(()=>n(et).depth),"rowDepth");n(He);const pe=v(m(()=>n(ft)?ie(n(ft).id):!1),"selected");n(pe);const ee=v(m(()=>n(ft)?Kp(n(ft).style,n(q),n(d)):""),"rowClasses");n(ee);const ye=v(m(()=>n(ft)?Qp(n(ft).style,n(He)):""),"rowStyles");n(ye);const Ge=v(m(()=>{var mt,nt;return w((nt=(mt=n(ft))==null?void 0:mt.style)==null?void 0:nt.type,"spacer")}),"isSpacerRow");n(Ge);const Ce=v(m(()=>n(ne)+1+n(q)),"gridRow");n(Ce);const wt=v(m(()=>n(At)?me(n(He)+1,n(l)):void 0),"groupBg");n(wt);var Ct=dv(),Lt=vt(Ct);let le,Ie;Lt.__click=function(...mt){sr(()=>n(At)?()=>e.store.toggleGroup(n(et).group.id):n(ft)?()=>e.store.selectRow(n(ft).id):void 0,this,mt,B,[1048,21])},Lt.__keydown=function(...mt){sr(()=>n(At)?nt=>(w(nt.key,"Enter")||w(nt.key," "))&&e.store.toggleGroup(n(et).group.id):void 0,this,mt,B,[1049,23])};var mn=tt(Lt);{var Zt=mt=>{{let nt=m(()=>n(et).depth+1);z(()=>Yo(mt,{get group(){return n(et).group},get rowCount(){return n(et).rowCount},get level(){return n(nt)},get theme(){return n(l)}}),"component",B,1054,14,{componentTag:"GroupHeader"})}},It=mt=>{var nt=St(),Ft=vt(nt);{var Jt=ke=>{var ze=cv(),xe=vt(ze);{var Kt=ln=>{var _e=sv(),Ve=tt(_e,!0);J(()=>Xt(Ve,n(ft).style.icon)),F(ln,_e)};z(()=>X(xe,ln=>{var _e;(_e=n(ft).style)!=null&&_e.icon&&ln(Kt)}),"if",B,1061,14)}var nn=it(xe),yn=it(nn);{var hn=ln=>{var _e=lv(),Ve=tt(_e,!0);J(()=>Xt(Ve,n(ft).style.badge)),F(ln,_e)};z(()=>X(yn,ln=>{var _e;(_e=n(ft).style)!=null&&_e.badge&&ln(hn)}),"if",B,1063,14)}J(()=>Xt(nn,` ${n(ft).label??""} `)),F(ke,ze)};z(()=>X(Ft,ke=>{n(ft)&&ke(Jt)},!0),"if",B,1060,12)}F(mt,nt)};z(()=>X(mn,mt=>{n(At)?mt(Zt):mt(It,!1)}),"if",B,1053,12)}var ve=it(Lt,2);bn(()=>n(u),mt=>mt.id),z(()=>Be(ve,17,()=>n(u),mt=>mt.id,(mt,nt)=>{var Ft=St(),Jt=vt(Ft);{var ke=xe=>{var Kt=fv();let nn,yn;Kt.__click=function(...hn){sr(()=>n(ft)?()=>e.store.selectRow(n(ft).id):void 0,this,hn,B,[1082,25])},J(()=>{nn=Hn(Kt,1,`grid-cell data-cell plot-cell ${n(ee)??""}`,"svelte-14l8yxx",nn,{"group-row":n(At),selected:n(pe),hovered:n(ft)&&w(n(b),n(ft).id),"spacer-row":n(Ge)}),yn=We(Kt,n(ye)||void 0,yn,{"grid-row":n(Ce),"background-color":n(wt)})}),Bn("mouseenter",Kt,function(...hn){sr(()=>n(ft)?ln=>Re(n(ft).id,ln):void 0,this,hn,B,[1080,30])}),Bn("mouseleave",Kt,function(...hn){sr(()=>n(ft)?()=>Ke():void 0,this,hn,B,[1081,30])}),F(xe,Kt)},ze=xe=>{var Kt=uv();let nn,yn;Kt.__click=function(..._e){sr(()=>n(ft)?()=>e.store.selectRow(n(ft).id):void 0,this,_e,B,[1099,25])};var hn=tt(Kt);{var ln=_e=>{z(()=>ge(_e,()=>n(ft),()=>n(nt)),"render",B,1102,18)};z(()=>X(hn,_e=>{n(ft)&&_e(ln)}),"if",B,1101,16)}J(()=>{nn=Hn(Kt,1,`grid-cell data-cell ${n(ee)??""}`,"svelte-14l8yxx",nn,{"group-row":n(At),selected:n(pe),hovered:n(ft)&&w(n(b),n(ft).id),"spacer-row":n(Ge),"wrap-enabled":n(nt).wrap}),yn=We(Kt,n(ye)||void 0,yn,{"grid-row":n(Ce),"background-color":n(wt),"text-align":n(nt).align})}),Bn("mouseenter",Kt,function(..._e){sr(()=>n(ft)?Ve=>Re(n(ft).id,Ve):void 0,this,_e,B,[1097,30])}),Bn("mouseleave",Kt,function(..._e){sr(()=>n(ft)?()=>Ke():void 0,this,_e,B,[1098,30])}),F(xe,Kt)};z(()=>X(Jt,xe=>{zt.includes(n(nt).type)?xe(ke):xe(ze,!1)}),"if",B,1069,12)}F(mt,Ft)}),"each",B,1068,10),J(()=>{var mt,nt,Ft,Jt;le=Hn(Lt,1,`grid-cell data-cell label-cell ${n(ee)??""}`,"svelte-14l8yxx",le,{"group-row":n(At),selected:n(pe),hovered:n(ft)&&w(n(b),n(ft).id),"spacer-row":n(Ge)}),Ie=We(Lt,n(ye)||void 0,Ie,{"grid-row":n(Ce),"background-color":n(wt),"padding-left":n(At)?`${n(He)*12}px`:((nt=(mt=n(ft))==null?void 0:mt.style)==null?void 0:nt.indent)??n(He)?`${(((Jt=(Ft=n(ft))==null?void 0:Ft.style)==null?void 0:Jt.indent)??n(He))*12}px`:void 0}),A(Lt,"role",n(At)?"button":void 0),A(Lt,"tabindex",n(At)?0:void 0)}),Bn("mouseenter",Lt,function(...mt){sr(()=>n(ft)?nt=>Re(n(ft).id,nt):void 0,this,mt,B,[1050,26])}),Bn("mouseleave",Lt,function(...mt){sr(()=>n(ft)?()=>Ke():void 0,this,mt,B,[1051,26])}),F(ct,Ct)}),"each",B,1024,8);var Je=it(se,2);{var Qt=ct=>{const et=v(m(()=>n(ne)+1+n(a).length),"axisRowNum");n(et);var q=pv(),At=vt(q);bn(()=>n(u),pe=>pe.id),z(()=>Be(At,19,()=>n(u),pe=>pe.id,(pe,ee,ye)=>{var Ge=St(),Ce=vt(Ge);{var wt=Lt=>{var le=hv();let Ie;J(()=>Ie=We(le,"",Ie,{"grid-column":2+n(ye),"grid-row":n(et)})),F(Lt,le)},Ct=Lt=>{var le=gv();let Ie;J(()=>Ie=We(le,"",Ie,{"grid-column":2+n(ye),"grid-row":n(et)})),F(Lt,le)};z(()=>X(Ce,Lt=>{zt.includes(n(ee).type)?Lt(wt):Lt(Ct,!1)}),"if",B,1113,12)}F(pe,Ge)}),"each",B,1112,10);var ft=it(At,2);let He;J(()=>He=We(ft,"",He,{"grid-column":"1","grid-row":n(et)})),F(ct,q)};z(()=>X(Je,ct=>{n(x)&&ct(Qt)}),"if",B,1110,8)}var kt=it(Je,2);bn(()=>n(g),ct=>ct.column.id),z(()=>Be(kt,17,()=>n(g),ct=>ct.column.id,(ct,et)=>{const q=v(m(()=>{var nt;return(nt=n(et).column.options)==null?void 0:nt.forest}),"forestOpts");n(q);const At=v(m(()=>n(R)[n(et).column.id]),"dynamicForestWidth");n(At);const ft=v(m(()=>{var nt;return w(typeof n(At),"number")?n(At):w(typeof n(et).column.width,"number")?n(et).column.width:((nt=n(q))==null?void 0:nt.width)??n(i).forestWidth}),"forestWidth");n(ft);const He=v(m(()=>n($t).get(n(et).column.id)??0),"forestLeft");n(He);const pe=v(m(()=>{var nt;return((nt=n(l))==null?void 0:nt.spacing.axisGap)??Yn.DEFAULT_AXIS_GAP}),"axisGap");n(pe);const ee=v(m(()=>{var nt;return((nt=n(q))==null?void 0:nt.nullValue)??n(i).nullValue}),"nullValue");n(ee);const ye=v(m(()=>{var nt;return((nt=n(q))==null?void 0:nt.axisLabel)??"Effect"}),"axisLabel");n(ye);const Ge=v(m(()=>{var nt;return w((nt=n(q))==null?void 0:nt.scale,"log")}),"isLog");n(Ge);const Ce=v(m(()=>n(Oe).get(n(et).column.id)??n(s)),"colScale");n(Ce);var wt=xv();let Ct;var Lt=tt(wt);A(Lt,"y1",0);var le=it(Lt);{var Ie=nt=>{const Ft=v(m(()=>{var xe;return((xe=n(q))==null?void 0:xe.annotations)??[]}),"allAnnotations");n(Ft);const Jt=v(m(()=>te(n(Ft))),"annotationLabelOffsets");n(Jt);var ke=St(),ze=vt(ke);bn(()=>n(Ft),xe=>xe.id),z(()=>Be(ze,17,()=>n(Ft),xe=>xe.id,(xe,Kt)=>{var nn=St(),yn=vt(nn);{var hn=ln=>{var _e=mv(),Ve=vt(_e);A(Ve,"y1",0);var ii=it(Ve);{var ai=zo=>{const si=v(m(()=>n(Jt)[n(Kt).id]??0),"yOffset");n(si);var $n=vv(),li=tt($n,!0);J(ci=>{A($n,"x",ci),A($n,"y",-4+n(si)),A($n,"fill",n(Kt).color??"var(--wf-secondary)"),Xt(li,n(Kt).label)},[()=>n(Ce)(n(Kt).x)]),F(zo,$n)};z(()=>X(ii,zo=>{n(Kt).label&&zo(ai)}),"if",B,1169,16)}J((zo,si)=>{A(Ve,"x1",zo),A(Ve,"x2",si),A(Ve,"y2",n(pt)),A(Ve,"stroke",n(Kt).color??"var(--wf-accent)"),A(Ve,"stroke-width",n(Kt).width??1.5),A(Ve,"stroke-opacity",n(Kt).opacity??.6),A(Ve,"stroke-dasharray",w(n(Kt).style,"dashed")?"6,4":w(n(Kt).style,"dotted")?"2,2":"none")},[()=>n(Ce)(n(Kt).x),()=>n(Ce)(n(Kt).x)]),F(ln,_e)};z(()=>X(yn,ln=>{w(n(Kt).type,"reference_line")&&ln(hn)}),"if",B,1158,14)}F(xe,nn)}),"each",B,1157,14),F(nt,ke)};z(()=>X(le,nt=>{nt(Ie)}),"if",B,1154,12)}var mn=it(le);bn(()=>n(a),(nt,Ft)=>xt(nt,Ft)),z(()=>Be(mn,19,()=>n(a),(nt,Ft)=>xt(nt,Ft),(nt,Ft,Jt)=>{var ke=St(),ze=vt(ke);{var xe=Kt=>{const nn=v(m(()=>n(ot).positions[n(Jt)]??n(Jt)*n(i).rowHeight),"rowY");n(nn);const yn=v(m(()=>n(ot).heights[n(Jt)]??n(i).rowHeight),"rowH");n(yn);{let hn=m(()=>n(nn)+n(yn)/2),ln=m(()=>({...n(i),forestWidth:n(ft)}));z(()=>Ue(Kt,{get row(){return n(Ft).row},get yPosition(){return n(hn)},get xScale(){return n(Ce)},get layout(){return n(ln)},get theme(){return n(l)},get clipBounds(){return n(f)},get isLog(){return n(Ge)},get weightCol(){return n(r).data.weightCol},get forestColumnOptions(){return n(q)},onRowClick:()=>e.store.selectRow(n(Ft).row.id),onRowHover:(_e,Ve)=>{e.store.setHovered(_e?n(Ft).row.id:null),_e&&Ve?e.store.setTooltip(n(Ft).row.id,{x:Ve.clientX,y:Ve.clientY}):e.store.setTooltip(null,null)}}),"component",B,1191,16,{componentTag:"RowInterval"})}};z(()=>X(ze,Kt=>{w(n(Ft).type,"data")&&Kt(xe)}),"if",B,1188,14)}F(nt,ke)}),"each",B,1187,12);var Zt=it(mn);{var It=nt=>{{let Ft=m(()=>n(pt)+n(i).rowHeight/2),Jt=m(()=>({...n(i),forestWidth:n(ft)}));z(()=>to(nt,{get point(){return n(r).data.overall.point},get lower(){return n(r).data.overall.lower},get upper(){return n(r).data.overall.upper},get yPosition(){return n(Ft)},get xScale(){return n(Ce)},get layout(){return n(Jt)},get theme(){return n(l)}}),"component",B,1219,14,{componentTag:"SummaryDiamond"})}};z(()=>X(Zt,nt=>{n(r).data.overall&&n(i).showOverallSummary&&w(typeof n(r).data.overall.point,"number")&&!Number.isNaN(n(r).data.overall.point)&&w(typeof n(r).data.overall.lower,"number")&&!Number.isNaN(n(r).data.overall.lower)&&w(typeof n(r).data.overall.upper,"number")&&!Number.isNaN(n(r).data.overall.upper)&&nt(It)}),"if",B,1215,12)}var ve=it(Zt);{var mt=nt=>{var Ft=yv(),Jt=tt(Ft);{let ke=m(()=>({...n(i),forestWidth:n(ft)}));z(()=>Wn(Jt,{get xScale(){return n(Ce)},get layout(){return n(ke)},get theme(){return n(l)},get axisLabel(){return n(ye)},position:"bottom",get plotHeight(){return n(i).plotHeight},get baseTicks(){return n(c).ticks}}),"component",B,1233,16,{componentTag:"EffectAxis"})}J(()=>A(Ft,"transform",`translate(0, ${n(pt)+n(pe)})`)),F(nt,Ft)};z(()=>X(ve,nt=>{var Ft;w((Ft=n(q))==null?void 0:Ft.showAxis,!1,!1)&&nt(mt)}),"if",B,1231,12)}J((nt,Ft)=>{A(wt,"width",n(ft)),A(wt,"height",n(pt)+n(i).axisHeight),A(wt,"viewBox",`0 0 ${n(ft)??""} ${n(pt)+n(i).axisHeight}`),Ct=We(wt,"",Ct,{top:`${n(Et)??""}px`,left:`${n(He)??""}px`}),A(Lt,"x1",nt),A(Lt,"x2",Ft),A(Lt,"y2",n(pt))},[()=>n(Ce)(n(ee)),()=>n(Ce)(n(ee))]),F(ct,wt)}),"each",B,1124,8);var lt=it(kt,2);bn(()=>n(p).filter(ct=>w(ct.column.type,"viz_bar")),ct=>ct.column.id),z(()=>Be(lt,17,()=>n(p).filter(ct=>w(ct.column.type,"viz_bar")),ct=>ct.column.id,(ct,et)=>{const q=v(m(()=>{var wt;return(wt=n(et).column.options)==null?void 0:wt.vizBar}),"vizOpts");n(q);const At=v(m(()=>n(R)[n(et).column.id]),"dynamicVizWidth");n(At);const ft=v(m(()=>{var wt;return w(typeof n(At),"number")?n(At):n(et).column.width??((wt=n(q))==null?void 0:wt.width)??n(i).forestWidth}),"vizWidth");n(ft);const He=v(m(()=>n($t).get(n(et).column.id)??0),"vizLeft");n(He);const pe=v(m(()=>{var wt;return((wt=n(l))==null?void 0:wt.spacing.axisGap)??Yn.DEFAULT_AXIS_GAP}),"axisGap");n(pe);const ee=v(m(()=>n(ut).get(n(et).column.id)),"sharedScale");n(ee);var ye=St(),Ge=vt(ye);{var Ce=wt=>{var Ct=wv();let Lt;var le=tt(Ct);bn(()=>n(a),(Zt,It)=>xt(Zt,It)),z(()=>Be(le,19,()=>n(a),(Zt,It)=>xt(Zt,It),(Zt,It,ve)=>{var mt=St(),nt=vt(mt);{var Ft=Jt=>{const ke=v(m(()=>n(ot).positions[n(ve)]??n(ve)*n(i).rowHeight),"rowY");n(ke);const ze=v(m(()=>n(ot).heights[n(ve)]??n(i).rowHeight),"rowH");n(ze);{let xe=m(()=>n(ke)+n(ze)/2);z(()=>eo(Jt,{get row(){return n(It).row},get yPosition(){return n(xe)},get rowHeight(){return n(ze)},get width(){return n(ft)},get options(){return n(q)},get theme(){return n(l)},get sharedScale(){return n(ee)}}),"component",B,1261,18,{componentTag:"VizBar"})}};z(()=>X(nt,Jt=>{w(n(It).type,"data")&&Jt(Ft)}),"if",B,1258,16)}F(Zt,mt)}),"each",B,1257,14);var Ie=it(le);{var mn=Zt=>{var It=_v(),ve=tt(It);{let mt=m(()=>({...n(i),forestWidth:n(ft),nullValue:0})),nt=m(()=>n(q).axisLabel??"Value");z(()=>Wn(ve,{get xScale(){return n(ee)},get layout(){return n(mt)},get theme(){return n(l)},get axisLabel(){return n(nt)},position:"bottom",get plotHeight(){return n(pt)},get baseTicks(){return n(q).axisTicks},get gridlines(){return n(q).axisGridlines}}),"component",B,1276,18,{componentTag:"EffectAxis"})}J(()=>A(It,"transform",`translate(0, ${n(pt)+n(pe)})`)),F(Zt,It)};z(()=>X(Ie,Zt=>{w(n(q).showAxis,!1,!1)&&n(ee)&&Zt(mn)}),"if",B,1274,14)}J(()=>{A(Ct,"width",n(ft)),A(Ct,"height",n(pt)+n(i).axisHeight),A(Ct,"viewBox",`0 0 ${n(ft)??""} ${n(pt)+n(i).axisHeight}`),Lt=We(Ct,"",Lt,{top:`${n(Et)??""}px`,left:`${n(He)??""}px`})}),F(wt,Ct)};z(()=>X(Ge,wt=>{n(q)&&wt(Ce)}),"if",B,1247,10)}F(ct,ye)}),"each",B,1240,8);var ae=it(lt,2);bn(()=>n(p).filter(ct=>w(ct.column.type,"viz_boxplot")),ct=>ct.column.id),z(()=>Be(ae,17,()=>n(p).filter(ct=>w(ct.column.type,"viz_boxplot")),ct=>ct.column.id,(ct,et)=>{const q=v(m(()=>{var wt;return(wt=n(et).column.options)==null?void 0:wt.vizBoxplot}),"vizOpts");n(q);const At=v(m(()=>n(R)[n(et).column.id]),"dynamicVizWidth");n(At);const ft=v(m(()=>{var wt;return w(typeof n(At),"number")?n(At):n(et).column.width??((wt=n(q))==null?void 0:wt.width)??n(i).forestWidth}),"vizWidth");n(ft);const He=v(m(()=>n($t).get(n(et).column.id)??0),"vizLeft");n(He);const pe=v(m(()=>{var wt;return((wt=n(l))==null?void 0:wt.spacing.axisGap)??Yn.DEFAULT_AXIS_GAP}),"axisGap");n(pe);const ee=v(m(()=>n(ut).get(n(et).column.id)),"sharedScale");n(ee);var ye=St(),Ge=vt(ye);{var Ce=wt=>{var Ct=Mv();let Lt;var le=tt(Ct);bn(()=>n(a),(Zt,It)=>xt(Zt,It)),z(()=>Be(le,19,()=>n(a),(Zt,It)=>xt(Zt,It),(Zt,It,ve)=>{var mt=St(),nt=vt(mt);{var Ft=Jt=>{const ke=v(m(()=>n(ot).positions[n(ve)]??n(ve)*n(i).rowHeight),"rowY");n(ke);const ze=v(m(()=>n(ot).heights[n(ve)]??n(i).rowHeight),"rowH");n(ze);{let xe=m(()=>n(ke)+n(ze)/2);z(()=>dr(Jt,{get row(){return n(It).row},get yPosition(){return n(xe)},get rowHeight(){return n(ze)},get width(){return n(ft)},get options(){return n(q)},get theme(){return n(l)},get sharedScale(){return n(ee)}}),"component",B,1314,18,{componentTag:"VizBoxplot"})}};z(()=>X(nt,Jt=>{w(n(It).type,"data")&&Jt(Ft)}),"if",B,1311,16)}F(Zt,mt)}),"each",B,1310,14);var Ie=it(le);{var mn=Zt=>{var It=bv(),ve=tt(It);{let mt=m(()=>({...n(i),forestWidth:n(ft),nullValue:0})),nt=m(()=>n(q).axisLabel??"Value");z(()=>Wn(ve,{get xScale(){return n(ee)},get layout(){return n(mt)},get theme(){return n(l)},get axisLabel(){return n(nt)},position:"bottom",get plotHeight(){return n(pt)},get baseTicks(){return n(q).axisTicks},get gridlines(){return n(q).axisGridlines}}),"component",B,1329,18,{componentTag:"EffectAxis"})}J(()=>A(It,"transform",`translate(0, ${n(pt)+n(pe)})`)),F(Zt,It)};z(()=>X(Ie,Zt=>{w(n(q).showAxis,!1,!1)&&n(ee)&&Zt(mn)}),"if",B,1327,14)}J(()=>{A(Ct,"width",n(ft)),A(Ct,"height",n(pt)+n(i).axisHeight),A(Ct,"viewBox",`0 0 ${n(ft)??""} ${n(pt)+n(i).axisHeight}`),Lt=We(Ct,"",Lt,{top:`${n(Et)??""}px`,left:`${n(He)??""}px`})}),F(wt,Ct)};z(()=>X(Ge,wt=>{n(q)&&wt(Ce)}),"if",B,1300,10)}F(ct,ye)}),"each",B,1293,8);var he=it(ae,2);bn(()=>n(p).filter(ct=>w(ct.column.type,"viz_violin")),ct=>ct.column.id),z(()=>Be(he,17,()=>n(p).filter(ct=>w(ct.column.type,"viz_violin")),ct=>ct.column.id,(ct,et)=>{const q=v(m(()=>{var wt;return(wt=n(et).column.options)==null?void 0:wt.vizViolin}),"vizOpts");n(q);const At=v(m(()=>n(R)[n(et).column.id]),"dynamicVizWidth");n(At);const ft=v(m(()=>{var wt;return w(typeof n(At),"number")?n(At):n(et).column.width??((wt=n(q))==null?void 0:wt.width)??n(i).forestWidth}),"vizWidth");n(ft);const He=v(m(()=>n($t).get(n(et).column.id)??0),"vizLeft");n(He);const pe=v(m(()=>{var wt;return((wt=n(l))==null?void 0:wt.spacing.axisGap)??Yn.DEFAULT_AXIS_GAP}),"axisGap");n(pe);const ee=v(m(()=>n(ut).get(n(et).column.id)),"sharedScale");n(ee);var ye=St(),Ge=vt(ye);{var Ce=wt=>{var Ct=Ev();let Lt;var le=tt(Ct);bn(()=>n(a),(Zt,It)=>xt(Zt,It)),z(()=>Be(le,19,()=>n(a),(Zt,It)=>xt(Zt,It),(Zt,It,ve)=>{var mt=St(),nt=vt(mt);{var Ft=Jt=>{const ke=v(m(()=>n(ot).positions[n(ve)]??n(ve)*n(i).rowHeight),"rowY");n(ke);const ze=v(m(()=>n(ot).heights[n(ve)]??n(i).rowHeight),"rowH");n(ze);{let xe=m(()=>n(ke)+n(ze)/2);z(()=>Jn(Jt,{get row(){return n(It).row},get yPosition(){return n(xe)},get rowHeight(){return n(ze)},get width(){return n(ft)},get options(){return n(q)},get theme(){return n(l)},get sharedScale(){return n(ee)}}),"component",B,1367,18,{componentTag:"VizViolin"})}};z(()=>X(nt,Jt=>{w(n(It).type,"data")&&Jt(Ft)}),"if",B,1364,16)}F(Zt,mt)}),"each",B,1363,14);var Ie=it(le);{var mn=Zt=>{var It=Sv(),ve=tt(It);{let mt=m(()=>({...n(i),forestWidth:n(ft),nullValue:0})),nt=m(()=>n(q).axisLabel??"Value");z(()=>Wn(ve,{get xScale(){return n(ee)},get layout(){return n(mt)},get theme(){return n(l)},get axisLabel(){return n(nt)},position:"bottom",get plotHeight(){return n(pt)},get baseTicks(){return n(q).axisTicks},get gridlines(){return n(q).axisGridlines}}),"component",B,1382,18,{componentTag:"EffectAxis"})}J(()=>A(It,"transform",`translate(0, ${n(pt)+n(pe)})`)),F(Zt,It)};z(()=>X(Ie,Zt=>{w(n(q).showAxis,!1,!1)&&n(ee)&&Zt(mn)}),"if",B,1380,14)}J(()=>{A(Ct,"width",n(ft)),A(Ct,"height",n(pt)+n(i).axisHeight),A(Ct,"viewBox",`0 0 ${n(ft)??""} ${n(pt)+n(i).axisHeight}`),Lt=We(Ct,"",Lt,{top:`${n(Et)??""}px`,left:`${n(He)??""}px`})}),F(wt,Ct)};z(()=>X(Ge,wt=>{n(q)&&wt(Ce)}),"if",B,1353,10)}F(ct,ye)}),"each",B,1346,8);var De=it(Nt,2);{let ct=m(()=>{var q;return(q=n(r).labels)==null?void 0:q.caption}),et=m(()=>{var q;return(q=n(r).labels)==null?void 0:q.footnote});z(()=>Br(De,{get caption(){return n(ct)},get footnote(){return n(et)}}),"component",B,1400,6,{componentTag:"PlotFooter"})}yo(Y,ct=>at(G,ct),()=>n(G)),J(()=>{Yt=We(Nt,"",Yt,{"grid-template-columns":n(fe)}),vn=We(Ht,"",vn,{"grid-row":`1 / span ${n(ne)??""}`}),Xt(Dt,n(_))})}var Xe=it(Y,2);{let ge=m(()=>{var Yt,vn;return(vn=(Yt=n(r))==null?void 0:Yt.interaction)==null?void 0:vn.tooltipFields});z(()=>xo(Xe,{get row(){return n(S)},get position(){return n(T)},get fields(){return n(ge)},get theme(){return n(l)}}),"component",B,1404,4,{componentTag:"Tooltip"})}J(()=>gt=We(Y,"",gt,{"margin-left":`${n(Z)??""}px`})),F(C,I)},pr=C=>{var I=kv();F(C,I)};z(()=>X(en,C=>{n(r)?C(Mn):C(pr,!1)}),"if",B,852,2)}return yo(Le,C=>at(W,C),()=>n(W)),J(C=>{je=Hn(Le,1,"tabviz-container svelte-14l8yxx",null,je,{"auto-fit":n(M),"has-max-width":w(n(P),null,!1),"has-max-height":w(n(H),null,!1),zoomed:w(n(k),1,!1)}),A(Le,"data-zoom",`${C??""}%`),We(Le,`${n(sn)??""}; ${n(M)&&n(V)>0?`height: ${n(V)}px`:""}`)},[()=>Math.round(n(E)*100)]),F(t,Le),be(On)}mo(["pointerdown","click","keydown"]);function nf(){let t=v(Wt(null),"spec"),e=v(Wt(800),"initialWidth"),r=v(Wt(400),"initialHeight"),o=v(Wt(xr(new Set)),"selectedRowIds"),a=v(Wt(xr(new Set)),"collapsedGroups"),i=v(Wt(null),"sortConfig"),s=v(Wt(null),"filterConfig"),c=v(Wt(null),"hoveredRowId"),f=v(Wt(null),"tooltipRowId"),l=v(Wt(null),"tooltipPosition"),d=v(Wt(xr({})),"columnWidths"),u=v(Wt(null),"plotWidthOverride"),h=v(Wt(1),"zoom"),g=v(Wt(!0),"autoFit"),p=v(Wt(null),"maxWidth"),x=v(Wt(null),"maxHeight"),_=v(Wt(!0),"showZoomControls"),y=v(Wt(0),"containerWidth"),S=v(Wt(0),"containerHeight"),T=v(Wt(0),"scalableNaturalWidth"),N=v(Wt(0),"scalableNaturalHeight"),b=v(Wt(null),"containerElementId");const k=v(m(()=>n(y)>0?n(y):n(e)),"effectiveWidth"),M=v(m(()=>n(S)>0?n(S):n(r)),"effectiveHeight"),E=v(m(()=>{if(!n(t))return[];let C=[...n(t).data.rows];return n(s)&&(C=Nv(C,n(s))),n(i)&&(C=Hv(C,n(i))),C}),"visibleRows"),P=v(m(()=>{var qe,Vt;if(!n(t))return{axisLimits:[0,1],plotRegion:[0,1],ticks:[0,.5,1]};const C=(qe=n(L)[0])==null?void 0:qe.column,j=n(L).length>0?n(u)??Math.max(n(k)*.25,200):0,Y=(Vt=C==null?void 0:C.options)==null?void 0:Vt.forest,gt=(Y==null?void 0:Y.scale)??"linear",bt=(Y==null?void 0:Y.nullValue)??(w(gt,"log")?1:0),jt=(Y==null?void 0:Y.effects)??[],Nt=(Y==null?void 0:Y.point)??null,Ht=(Y==null?void 0:Y.lower)??null,Gt=(Y==null?void 0:Y.upper)??null,Dt={...n(t).theme.axis};return Y!=null&&Y.axisRange&&Array.isArray(Y.axisRange)&&w(Y.axisRange.length,2)&&(Dt.rangeMin=Y.axisRange[0],Dt.rangeMax=Y.axisRange[1]),Y!=null&&Y.axisTicks&&Array.isArray(Y.axisTicks)&&(Dt.tickValues=Y.axisTicks),Kl({rows:n(t).data.rows,config:Dt,scale:gt,nullValue:bt,forestWidth:j,pointSize:n(t).theme.shapes.pointSize,effects:jt,pointCol:Nt,lowerCol:Ht,upperCol:Gt})}),"axisComputation"),H=v(m(()=>{var Ht,Gt;if(!n(t))return Qn().domain([0,1]).range([0,100]);const C=(Ht=n(L)[0])==null?void 0:Ht.column,I=(Gt=C==null?void 0:C.options)==null?void 0:Gt.forest,j=w((I==null?void 0:I.scale)??"linear","log"),{plotRegion:Y}=n(P),bt=n(L).length>0?n(u)??Math.max(n(k)*.25,200):0,jt=An,Nt=Math.max(bt-An,jt+50);if(j){const Dt=[Math.max(Y[0],.01),Math.max(Y[1],.02)];return Gr().domain(Dt).range([jt,Nt])}return Qn().domain(Y).range([jt,Nt])}),"xScale");function R(C){const I=[];for(const j of C)j.isGroup?I.push(...R(j.columns)):I.push(j);return I}const W=v(m(()=>n(t)?R(n(t).columns):[]),"allColumns"),G=v(m(()=>n(t)?n(t).columns:[]),"allColumnDefs"),L=v(m(()=>{if(!n(t))return[];const C=[],I=n(W);for(let j=0;j<I.length;j++)w(I[j].type,"forest")&&C.push({index:j,column:I[j]});return C}),"forestColumns"),Q=v(m(()=>n(L).length>0),"hasExplicitForestColumns"),K=v(m(()=>{if(!n(t))return[];const C=[],I=n(W),j=["forest","viz_bar","viz_boxplot","viz_violin"];for(let Y=0;Y<I.length;Y++)j.includes(I[Y].type)&&C.push({index:Y,column:I[Y]});return C}),"vizColumns"),U=v(m(()=>n(K).length>0),"hasVizColumns"),V=v(m(()=>{const C=new Map;if(!n(t))return C;for(const I of n(t).data.groups)C.set(I.id,I);return C}),"groupMap"),Z=v(m(()=>{const C=new Map;if(!n(t))return C;for(const I of n(t).data.groups)C.set(I.id,I.depth);return C}),"groupDepthMap");function ht(C){return C?(n(Z).get(C)??0)+1:0}function rt(C){if(!C)return!1;let I=C;for(;I;){const j=n(V).get(I);if(!j)break;if(j.parentId&&n(a).has(j.parentId))return!0;I=j.parentId}return!1}const st=v(m(()=>{var jt;if(!n(t))return[];const C=[],I=new Map;for(const Nt of n(E)){const Ht=Nt.groupId??null;I.has(Ht)||I.set(Ht,[]),I.get(Ht).push(Nt)}const j=new Set;for(const Nt of I.keys()){if(!Nt)continue;let Ht=Nt;for(;Ht;)j.add(Ht),Ht=(jt=n(V).get(Ht))==null?void 0:jt.parentId}function Y(Nt){return n(t).data.groups.filter(Ht=>w(Ht.parentId??null,Nt)&&j.has(Ht.id))}function gt(Nt){var Gt;let Ht=((Gt=I.get(Nt))==null?void 0:Gt.length)??0;for(const Dt of Y(Nt))Ht+=gt(Dt.id);return Ht}function bt(Nt){if(Nt){const Gt=n(V).get(Nt);if(!Gt||rt(Nt))return;const Dt=n(a).has(Gt.id),qe=gt(Nt);if(C.push({type:"group_header",group:{...Gt,collapsed:Dt},rowCount:qe,depth:Gt.depth}),Dt)return}for(const Gt of Y(Nt))bt(Gt.id);const Ht=I.get(Nt)??[];for(const Gt of Ht)C.push({type:"data",row:Gt,depth:ht(Gt.groupId)})}return bt(null),C}),"displayRows"),ot=v(m(()=>{var Qt,kt,lt;if(!n(t))return{totalWidth:n(k),totalHeight:n(M),tableWidth:300,forestWidth:400,headerHeight:36,rowHeight:28,plotHeight:300,axisHeight:32,nullValue:0,summaryYPosition:0,showOverallSummary:!1,rowPositions:[],rowHeights:[]};const C=n(t).theme.spacing.rowHeight,I=n(t).theme.spacing.headerHeight,Y=(n(t).theme.spacing.axisGap??Yn.DEFAULT_AXIS_GAP)+Er.AXIS_HEIGHT+Er.AXIS_LABEL_HEIGHT,bt=n(L).length>0?n(u)??Math.max(n(k)*.25,200):0,jt=n(k)-bt,Nt=!!n(t).data.overall,Ht=[];for(const ae of n(st))w(ae.type,"data")&&w((Qt=ae.row.style)==null?void 0:Qt.type,"spacer")?Ht.push(C/2):Ht.push(C);const Gt=[];let Dt=0;for(const ae of Ht)Gt.push(Dt),Dt+=ae;const qe=Dt+(Nt?C*1.5:0),Vt=(kt=n(L)[0])==null?void 0:kt.column,Ee=(lt=Vt==null?void 0:Vt.options)==null?void 0:lt.forest,se=(Ee==null?void 0:Ee.scale)??"linear",Je=(Ee==null?void 0:Ee.nullValue)??(w(se,"log")?1:0);return{totalWidth:n(k),totalHeight:Math.max(n(M),qe+I+Y+n(t).theme.spacing.padding*2),tableWidth:jt,forestWidth:bt,headerHeight:I,rowHeight:C,plotHeight:qe,axisHeight:Y,nullValue:Je,summaryYPosition:qe-C,showOverallSummary:Nt,rowPositions:Gt,rowHeights:Ht}}),"layout"),pt=v(m(()=>{if(!n(t))return 800;const C=100,I=150;let j=0;for(const bt of n(W)){if(w(bt.type,"forest"))continue;const jt=n(d)[bt.id]??(w(typeof bt.width,"number")?bt.width:null)??C;j+=jt}j+=n(d).__label__??I;const Y=n(ot).forestWidth,gt=n(t).theme.spacing.padding*2;return j+Y+gt}),"naturalContentWidth"),te=v(m(()=>{if(n(y)<=0||n(T)<=0)return 1;const C=n(T)*n(h);return C>n(y)?n(y)/C:1}),"fitScale"),ie=v(m(()=>n(g)?Math.max(.5,n(h)*n(te)):Math.max(.5,Math.min(2,n(h)))),"actualScale"),xt=v(m(()=>n(g)&&n(te)<1),"isClamped");function Bt(C){at(t,{...C},!0),at(a,new Set(C.data.groups.filter(I=>I.collapsed).map(I=>I.id)),!0),Fe()}function Fe(){if(!n(t)||w(typeof document,"undefined"))return;const C=n(t).theme.typography.fontFamily;let I=n(t).theme.typography.fontSizeBase;if(w(typeof I,"string")&&(I.endsWith("rem")||I.endsWith("em"))){const j=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;I=`${parseFloat(I)*j}px`}me(I,C),document.fonts&&document.fonts.ready&&document.fonts.ready.then(()=>{me(I,C,!0)})}function me(C,I,j=!1){var Qt,kt;if(!n(t))return;const gt=document.createElement("canvas").getContext("2d");if(!gt)return;const bt=n(t).theme.typography.headerFontScale??1.05;let jt=C;if(w(typeof C,"string")){const lt=C.match(/^([\d.]+)(px|rem|em)$/);lt&&(jt=`${parseFloat(lt[1])*bt}${lt[2]}`)}const Ht=`${n(t).theme.typography.fontWeightBold??600} ${jt} ${I}`,Gt=`${C} ${I}`,Dt=(n(t).theme.spacing.cellPaddingX??10)*2,qe=(n(t).theme.spacing.groupPadding??8)*2;function Vt(lt){return lt.isGroup?lt.columns.flatMap(Vt):[lt]}function Ee(lt){return w(n(d)[lt.id],void 0,!1)?n(d)[lt.id]:w(typeof lt.width,"number")?lt.width:Zn.MIN}function se(lt){var Xe,ge;if(w(typeof lt.width,"number")||ce(lt.width,null,!1)&&w(lt.width,"auto",!1))return;let ae=0;lt.header&&(gt.font=Ht,ae=Math.max(ae,gt.measureText(lt.header).width)),gt.font=Gt;for(const Yt of n(t).data.rows){if(w((Xe=Yt.style)==null?void 0:Xe.type,"header")||w((ge=Yt.style)==null?void 0:ge.type,"spacer"))continue;const vn=Vc(Yt,lt);vn&&(ae=Math.max(ae,gt.measureText(vn).width))}const he=Zn.VISUAL_MIN[lt.type]??Zn.MIN,De=Math.min(Zn.MAX,Math.max(he,Math.ceil(ae+Dt+Yn.RENDERING_BUFFER)));n(d)[lt.id]=De}function Je(lt){if(lt.isGroup){for(const ae of lt.columns)Je(ae);if(lt.header){gt.font=Ht;const ae=gt.measureText(lt.header).width+qe+Yn.RENDERING_BUFFER,he=Vt(lt),De=he.reduce((Xe,ge)=>Xe+Ee(ge),0);if(ae>De&&he.length>0){const Xe=Math.ceil((ae-De)/he.length);for(const ge of he)n(d)[ge.id]=Ee(ge)+Xe}}return}se(lt)}for(const lt of n(t).columns)Je(lt);if(n(t).data.labelCol){let lt=function(Yt){let vn=0;for(const ct of n(t).data.rows)w(ct.groupId,Yt)&&vn++;for(const ct of n(t).data.groups)w(ct.parentId,Yt)&&(vn+=lt(ct.id));return vn},ae=0;const he=new Map;for(const Yt of n(t).data.groups)he.set(Yt.id,Yt.depth);const De=Yt=>Yt?(he.get(Yt)??0)+1:0;n(t).data.labelHeader&&(gt.font=Ht,ae=Math.max(ae,gt.measureText(n(t).data.labelHeader).width)),gt.font=Gt;const Xe=parseFloat(C);for(const Yt of n(t).data.rows)if(Yt.label){const vn=De(Yt.groupId),ct=((Qt=Yt.style)==null?void 0:Qt.indent)??0,q=(vn+ct)*Se.INDENT_PER_LEVEL;let At=gt.measureText(Yt.label).width+q;if((kt=Yt.style)!=null&&kt.badge){const ft=String(Yt.style.badge),He=Xe*Sr.FONT_SCALE;gt.font=`${He}px ${I}`;const ee=gt.measureText(ft).width+Sr.PADDING*2;At+=Sr.GAP+ee,gt.font=Gt}ae=Math.max(ae,At)}gt.font=Ht;for(const Yt of n(t).data.groups)if(Yt.label){const vn=Yt.depth*Se.INDENT_PER_LEVEL,ct=gt.measureText(Yt.label).width,q=`(${lt(Yt.id)})`,At=Xe*.75;gt.font=`${At}px ${I}`;const ft=gt.measureText(q).width;gt.font=Ht;const He=vn+Jr.CHEVRON_WIDTH+Jr.GAP+ct+Jr.GAP+ft+Jr.SAFETY_MARGIN;ae=Math.max(ae,He)}const ge=Math.min(Zn.LABEL_MAX,Math.max(Zn.MIN,Math.ceil(ae+Dt+Yn.RENDERING_BUFFER)));n(d).__label__=ge}}function ne(C,I){at(e,C,!0),at(r,I,!0)}function tn(C){const I=new Set(n(o));I.has(C)?I.delete(C):I.add(C),at(o,I,!0)}function Ot(C,I){const j=new Set(n(a));I??!j.has(C)?j.add(C):j.delete(C),at(a,j,!0)}function zt(C,I){at(i,w(I,"none")?null:{column:C,direction:I},!0)}function fe(C){at(s,C,!0)}function _t(C){at(c,C,!0)}function Ut(C,I){at(f,C,!0),at(l,I,!0)}function $t(C,I){n(d)[C]=Math.max(40,I)}function Ze(C){return n(d)[C]}function gr(C){at(u,w(C,null)?null:Math.max(100,C),!0)}function rr(){return n(u)}function Et(C){const I=Dg[C];!n(t)||!I||at(t,{...n(t),theme:I},!0)}function ut(C){at(h,Math.max(.5,Math.min(2,C)),!0),je()}function Oe(){at(h,1),je()}function Pe(){ut(n(h)*1.1)}function Tt(){ut(n(h)/1.1)}function Mt(C){at(g,C,!0),je()}function re(){!n(y)||!n(T)||(at(h,Math.min(2,Math.max(.5,n(y)/n(T))),!0),je())}function $e(C){at(p,C,!0),je()}function Qe(C){at(x,C,!0),je()}function Re(C){at(_,C,!0)}function Ke(C,I){at(y,C,!0),at(S,I,!0)}function sn(C,I){at(T,C,!0),at(N,I,!0)}function On(C){at(b,C,!0),C&&en()}function Le(){return n(b)?`tabviz_zoom_${n(b)}`:null}function je(){const C=Le();if(C)try{const I={zoom:n(h),autoFit:n(g),maxWidth:n(p),maxHeight:n(x),version:2};localStorage.setItem(C,JSON.stringify(I))}catch{}}function en(){const C=Le();if(C)try{const I=localStorage.getItem(C);if(I){const j=JSON.parse(I);w(j.version,2)&&(at(h,j.zoom??1,!0),at(g,j.autoFit??!0,!0),at(p,j.maxWidth??null,!0),at(x,j.maxHeight??null,!0))}}catch{}}function Mn(){at(o,new Set,!0),at(a,new Set,!0),at(i,null),at(s,null),at(d,{},!0),at(u,null),at(h,1),at(g,!0),at(p,null),at(x,null),at(c,null),at(f,null),at(l,null)}const pr=v(m(()=>!n(f)||!n(t)?null:n(t).data.rows.find(C=>w(C.id,n(f)))??null),"tooltipRow");return{get spec(){return n(t)},get width(){return n(k)},get height(){return n(M)},get visibleRows(){return n(E)},get xScale(){return n(H)},get axisComputation(){return n(P)},get layout(){return n(ot)},get selectedRowIds(){return n(o)},get collapsedGroups(){return n(a)},get hoveredRowId(){return n(c)},get allColumns(){return n(W)},get allColumnDefs(){return n(G)},get forestColumns(){return n(L)},get hasExplicitForestColumns(){return n(Q)},get vizColumns(){return n(K)},get hasVizColumns(){return n(U)},get displayRows(){return n(st)},get tooltipRow(){return n(pr)},get tooltipPosition(){return n(l)},get columnWidths(){return n(d)},get zoom(){return n(h)},get autoFit(){return n(g)},get actualScale(){return n(ie)},get isClamped(){return n(xt)},get maxWidth(){return n(p)},get maxHeight(){return n(x)},get showZoomControls(){return n(_)},get naturalContentWidth(){return n(pt)},getRowDepth:ht,getColumnWidth:Ze,getPlotWidth:rr,getExportDimensions(){var qe,Vt,Ee,se,Je;const C=n(H).domain(),I=[],j={},Y={},gt=n(d).__label__??150;Y.__label__=gt;let bt=gt;for(const Qt of n(W)){I.push(Qt.id),j[Qt.id]=bt;let kt;w(Qt.type,"forest")?kt=n(d)[Qt.id]??(w(typeof Qt.width,"number")?Qt.width:null)??((Vt=(qe=Qt.options)==null?void 0:qe.forest)==null?void 0:Vt.width)??n(ot).forestWidth:kt=n(d)[Qt.id]??(w(typeof Qt.width,"number")?Qt.width:100),Y[Qt.id]=kt,bt+=kt}const jt=[];for(const Qt of n(L)){const kt=Qt.column,lt=(Ee=kt.options)==null?void 0:Ee.forest,ae=Y[kt.id]??n(ot).forestWidth,he=(lt==null?void 0:lt.scale)??"linear",De=(lt==null?void 0:lt.nullValue)??(w(he,"log")?1:0);jt.push({columnId:kt.id,xPosition:j[kt.id],width:ae,xDomain:C,clipBounds:n(P).axisLimits,ticks:n(P).ticks,scale:he,nullValue:De,axisLabel:(lt==null?void 0:lt.axisLabel)??"Effect"})}const Nt=[],Ht=[];let Gt=0;for(const Qt of n(st)){const kt=w(Qt.type,"data")&&w((se=Qt.row.style)==null?void 0:se.type,"spacer")?n(ot).rowHeight/2:n(ot).rowHeight;Ht.push(Gt),Nt.push(kt),Gt+=kt}const Dt=n(G).some(Qt=>Qt.isGroup)?2:1;return{columnOrder:I,columnWidths:Y,columnPositions:j,forestColumns:jt,rowHeights:Nt,rowPositions:Ht,totalRowsHeight:Gt,headerHeight:n(ot).headerHeight,headerDepth:Dt,width:n(pt)*n(h),height:(n(N)||400)*n(h),naturalWidth:bt,naturalHeight:Gt+n(ot).headerHeight+n(ot).axisHeight,forestWidth:(((Je=jt[0])==null?void 0:Je.width)??n(ot).forestWidth)*n(h),xDomain:C,clipBounds:n(P).axisLimits,scale:n(h)}},setSpec:Bt,setDimensions:ne,selectRow:tn,toggleGroup:Ot,sortBy:zt,setFilter:fe,setHovered:_t,setTooltip:Ut,setColumnWidth:$t,setPlotWidth:gr,setTheme:Et,setZoom:ut,resetZoom:Oe,zoomIn:Pe,zoomOut:Tt,setAutoFit:Mt,fitToWidth:re,setMaxWidth:$e,setMaxHeight:Qe,setShowZoomControls:Re,setContainerDimensions:Ke,setScalableNaturalDimensions:sn,setContainerElementId:On,resetState:Mn}}function Nv(t,e){return t.filter(r=>{const o=r.metadata[e.field]??r[e.field];switch(e.operator){case"eq":return w(o,e.value);case"neq":return w(o,e.value,!1);case"gt":return w(typeof o,"number")&&o>e.value;case"lt":return w(typeof o,"number")&&o<e.value;case"contains":return w(typeof o,"string")&&o.toLowerCase().includes(e.value.toLowerCase());default:return!0}})}function Hv(t,e){const r=[...t],{column:o,direction:a}=e;return r.sort((i,s)=>{const c=i.metadata[o]??i[o],f=s.metadata[o]??s[o];let l=0;return w(typeof c,"number")&&w(typeof f,"number")?l=c-f:w(typeof c,"string")&&w(typeof f,"string")&&(l=c.localeCompare(f)),w(a,"desc")?-l:l}),r}const rf=new Map,of={updateData:(t,e)=>{e.spec&&t.setSpec(e.spec)},toggleGroup:(t,e)=>{t.toggleGroup(e.groupId,e.collapsed)},applyFilter:(t,e)=>{t.setFilter(e.filter)},clearFilter:t=>{t.setFilter(null)},sortBy:(t,e)=>{t.sortBy(e.column,e.direction)}},Av={name:"tabviz",type:"output",factory:(t,e,r)=>{let o=null;const a=nf();return t.id&&rf.set(t.id,a),{renderValue:i=>{a.setSpec(i),a.setDimensions(e,r),w(typeof i.zoom,"number")&&a.setZoom(i.zoom),w(typeof i.autoFit,"boolean")&&a.setAutoFit(i.autoFit),w(i.maxWidth,void 0,!1)&&a.setMaxWidth(i.maxWidth),w(i.maxHeight,void 0,!1)&&a.setMaxHeight(i.maxHeight),w(typeof i.showZoomControls,"boolean")&&a.setShowZoomControls(i.showZoomControls),t.style.height="auto",o&&ju(o),o=Ou(B,{target:t,props:{store:a}}),window.Shiny&&t.id&&Wv(t.id,a)},resize:(i,s)=>{a.setDimensions(i,s)}}}};function Wv(t,e){Tu(()=>{ea(()=>{var o;const r=e.selectedRowIds;(o=window.Shiny)==null||o.setInputValue(`${t}_selected`,Array.from(r),{priority:"event"})}),ea(()=>{var o;const r=e.hoveredRowId;(o=window.Shiny)==null||o.setInputValue(`${t}_hover`,r,{priority:"event"})})})}return w(typeof window,"undefined",!1)&&window.HTMLWidgets&&window.HTMLWidgets.widget(Av),w(typeof window,"undefined",!1)&&window.Shiny&&window.Shiny.addCustomMessageHandler("tabviz-proxy",t=>{const e=rf.get(t.id);e&&t.method in of&&of[t.method](e,t.args)}),Ae.ForestPlot=B,Ae.createForestStore=nf,Object.defineProperty(Ae,Symbol.toStringTag,{value:"Module"}),Ae})({});
