var tabviz_split=(function(Re){"use strict";var h0=Object.defineProperty;var wf=Re=>{throw TypeError(Re)};var g0=(Re,Ze,fn)=>Ze in Re?h0(Re,Ze,{enumerable:!0,configurable:!0,writable:!0,value:fn}):Re[Ze]=fn;var Ir=(Re,Ze,fn)=>g0(Re,typeof Ze!="symbol"?Ze+"":Ze,fn),js=(Re,Ze,fn)=>Ze.has(Re)||wf("Cannot "+fn);var q=(Re,Ze,fn)=>(js(Re,Ze,"read from private field"),fn?fn.call(Re):Ze.get(Re)),he=(Re,Ze,fn)=>Ze.has(Re)?wf("Cannot add the same private member more than once"):Ze instanceof WeakSet?Ze.add(Re):Ze.set(Re,fn),Ut=(Re,Ze,fn,Va)=>(js(Re,Ze,"write to private field"),Va?Va.call(Re,fn):Ze.set(Re,fn),fn),on=(Re,Ze,fn)=>(js(Re,Ze,"access private method"),fn);var df,hf,ri,oi,Ao,Wo,Xi,ii,ai,mn,qs,Yi,Xs,bf,Mf,rr,or,Bs,Hr,Ro,Ar,ir,Ln,Wr,Ur,ao,Io,so,zo,$r,Na,hn,v0,p0,Us,Ba,Ga,$s,mr,Rr,jn,Fo,Ui,$i,Ha,gf;const wn=Symbol(),D=Symbol("filename"),Sf="http://www.w3.org/1999/xhtml",Ys=(hf=(df=globalThis.process)==null?void 0:df.env)==null?void 0:hf.NODE_ENV,pt=Ys&&!Ys.toLowerCase().startsWith("prod");var _i=Array.isArray,Ef=Array.prototype.indexOf,Zi=Array.from,lo=Object.defineProperty,Do=Object.getOwnPropertyDescriptor,Zs=Object.getOwnPropertyDescriptors,Ks=Object.prototype,kf=Array.prototype,Ki=Object.getPrototypeOf,Qs=Object.isExtensible;const xi=()=>{};function Cf(t){for(var e=0;e<t.length;e++)t[e]()}function Js(){var t,e,r=new Promise((o,i)=>{t=o,e=i});return{promise:r,resolve:t,reject:e}}function Oa(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const r=[];for(const o of t)if(r.push(o),r.length===e)break;return r}const vn=2,ja=4,qa=8,Tf=1<<24,zr=16,Fr=32,Yr=64,Qi=128,sr=512,bn=1024,Hn=2048,xr=4096,Dn=8192,Zr=16384,Xa=32768,co=65536,Ji=1<<17,tl=1<<18,fo=1<<19,Nf=1<<20,Pr=1<<25,Kr=32768,Ua=1<<21,ta=1<<22,Qr=1<<23,wr=Symbol("$state"),Hf=Symbol(""),el=Symbol("proxy path"),Bo=new class extends Error{constructor(){super(...arguments);Ir(this,"name","StaleReactionError");Ir(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}},Af=1,Wf=11;function nl(){if(pt){const t=new Error("invalid_snippet_arguments\nA snippet function was passed invalid arguments. Snippets should only be instantiated via `{@render ...}`\nhttps://svelte.dev/e/invalid_snippet_arguments");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/invalid_snippet_arguments")}function Rf(){if(pt){const t=new Error("snippet_without_render_tag\nAttempted to render a snippet without a `{@render}` block. This would cause the snippet code to be stringified instead of its content being rendered to the DOM. To fix this, change `{snippet}` to `{@render snippet()}`.\nhttps://svelte.dev/e/snippet_without_render_tag");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/snippet_without_render_tag")}function If(){if(pt){const t=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/async_derived_orphan")}function zf(t,e){if(pt){const r=new Error(`component_api_changed
Calling \`${t}\` on a component instance (of ${e}) is no longer valid in Svelte 5
https://svelte.dev/e/component_api_changed`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/component_api_changed")}function Ff(t,e){if(pt){const r=new Error(`component_api_invalid_new
Attempted to instantiate ${t} with \`new ${e}\`, which is no longer valid in Svelte 5. If this component is not under your control, set the \`compatibility.componentApi\` compiler option to \`4\` to keep it working.
https://svelte.dev/e/component_api_invalid_new`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/component_api_invalid_new")}function Pf(){if(pt){const t=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/derived_references_self")}function Lf(t,e,r){if(pt){const o=new Error(`each_key_duplicate
${r?`Keyed each block has duplicate key \`${r}\` at indexes ${t} and ${e}`:`Keyed each block has duplicate key at indexes ${t} and ${e}`}
https://svelte.dev/e/each_key_duplicate`);throw o.name="Svelte error",o}else throw new Error("https://svelte.dev/e/each_key_duplicate")}function Df(t){if(pt){const e=new Error(`effect_in_teardown
\`${t}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function Bf(){if(pt){const t=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Gf(t){if(pt){const e=new Error(`effect_orphan
\`${t}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_orphan")}function Vf(){if(pt){const t=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Of(){if(pt){const t=new Error("invalid_snippet\nCould not `{@render}` snippet due to the expression being `null` or `undefined`. Consider using optional chaining `{@render snippet?.()}`\nhttps://svelte.dev/e/invalid_snippet");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/invalid_snippet")}function jf(t){if(pt){const e=new Error(`rune_outside_svelte
The \`${t}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function qf(){if(pt){const t=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Xf(){if(pt){const t=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Uf(){if(pt){const t=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function $f(){if(pt){const t=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}var uo="font-weight: bold",ho="font-weight: normal";function Yf(t){pt?console.warn(`%c[svelte] console_log_state
%cYour \`console.${t}\` contained \`$state\` proxies. Consider using \`$inspect(...)\` or \`$state.snapshot(...)\` instead
https://svelte.dev/e/console_log_state`,uo,ho):console.warn("https://svelte.dev/e/console_log_state")}function Zf(t,e){pt?console.warn(`%c[svelte] event_handler_invalid
%c${t} should be a function. Did you mean to ${e}?
https://svelte.dev/e/event_handler_invalid`,uo,ho):console.warn("https://svelte.dev/e/event_handler_invalid")}function Kf(){pt?console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,uo,ho):console.warn("https://svelte.dev/e/lifecycle_double_unmount")}function Qf(){pt?console.warn("%c[svelte] select_multiple_invalid_value\n%cThe `value` property of a `<select multiple>` element should be an array, but it received a non-array value. The selection will be kept as is.\nhttps://svelte.dev/e/select_multiple_invalid_value",uo,ho):console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function wi(t){pt?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${t}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,uo,ho):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}function Jf(){pt?console.warn(`%c[svelte] state_proxy_unmount
%cTried to unmount a state proxy, rather than a component
https://svelte.dev/e/state_proxy_unmount`,uo,ho):console.warn("https://svelte.dev/e/state_proxy_unmount")}function tu(){pt?console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",uo,ho):console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function w0(t){}function rl(t){return t===this.v}function ol(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function il(t){return!ol(t,this.v)}let eu=!1;var nu="font-weight: bold",ru="font-weight: normal";function al(t){pt?console.warn(`%c[svelte] state_snapshot_uncloneable
%c${t?`The following properties cannot be cloned with \`$state.snapshot\` — the return value contains the originals:

${t}`:"Value cannot be cloned with `$state.snapshot` — the original value was returned"}
https://svelte.dev/e/state_snapshot_uncloneable`,nu,ru):console.warn("https://svelte.dev/e/state_snapshot_uncloneable")}const ou=[];function iu(t,e=!1,r=!1){if(pt&&!e){const o=[],i=bi(t,new Map,"",o,null,r);if(o.length===1&&o[0]==="")al();else if(o.length>0){const a=o.length>10?o.slice(0,7):o.slice(0,10),s=o.length-a.length;let c=a.map(u=>`- <value>${u}`).join(`
`);s>0&&(c+=`
- ...and ${s} more`),al(c)}return i}return bi(t,new Map,"",ou,null,r)}function bi(t,e,r,o,i=null,a=!1){if(typeof t=="object"&&t!==null){var s=e.get(t);if(s!==void 0)return s;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(_i(t)){var c=Array(t.length);e.set(t,c),i!==null&&e.set(i,c);for(var u=0;u<t.length;u+=1){var l=t[u];u in t&&(c[u]=bi(l,e,pt?`${r}[${u}]`:r,o,null,a))}return c}if(Ki(t)===Ks){c={},e.set(t,c),i!==null&&e.set(i,c);for(var d in t)c[d]=bi(t[d],e,pt?`${r}.${d}`:r,o,null,a);return c}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function"&&!a)return bi(t.toJSON(),e,pt?`${r}.toJSON()`:r,o,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return pt&&o.push(r),t}}function p(t,e){return t.label=e,sl(t.v,e),t}function sl(t,e){var r;return(r=t==null?void 0:t[el])==null||r.call(t,e),t}function au(t){const e=new Error,r=su();return r.length===0?null:(r.unshift(`
`),lo(e,"stack",{value:r.join(`
`)}),lo(e,"name",{value:t}),e)}function su(){const t=Error.stackTraceLimit;Error.stackTraceLimit=1/0;const e=new Error().stack;if(Error.stackTraceLimit=t,!e)return[];const r=e.split(`
`),o=[];for(let i=0;i<r.length;i++){const a=r[i],s=a.replaceAll("\\","/");if(a.trim()!=="Error"){if(a.includes("validate_each_keys"))return[];s.includes("svelte/src/internal")||s.includes("node_modules/.vite")||o.push(a)}}return o}let sn=null;function Go(t){sn=t}let Lr=null;function ea(t){Lr=t}function I(t,e,r,o,i,a){const s=Lr;Lr={type:e,file:r[D],line:o,column:i,parent:s,...a};try{return t()}finally{Lr=s}}let Vo=null;function na(t){Vo=t}function ge(t,e=!1,r){sn={p:sn,i:!1,c:null,e:null,s:t,x:null,l:null},pt&&(sn.function=r,Vo=r)}function ve(t){var e=sn,r=e.e;if(r!==null){e.e=null;for(var o of r)Ml(o)}return t!==void 0&&(e.x=t),e.i=!0,sn=e.p,pt&&(Vo=(sn==null?void 0:sn.function)??null),t??{}}function ll(){return!0}let go=[];function cl(){var t=go;go=[],Cf(t)}function Oo(t){if(go.length===0&&!Mi){var e=go;queueMicrotask(()=>{e===go&&cl()})}go.push(t)}function lu(){for(;go.length>0;)cl()}const $a=new WeakMap;function fl(t){var e=Ce;if(e===null)return ie.f|=Qr,t;if(pt&&t instanceof Error&&!$a.has(t)&&$a.set(t,cu(t,e)),(e.f&Xa)===0){if((e.f&Qi)===0)throw pt&&!e.parent&&t instanceof Error&&ul(t),t;e.b.error(t)}else jo(t,e)}function jo(t,e){for(;e!==null;){if((e.f&Qi)!==0)try{e.b.error(t);return}catch(r){t=r}e=e.parent}throw pt&&t instanceof Error&&ul(t),t}function cu(t,e){var s,c,u;const r=Do(t,"message");if(!(r&&!r.configurable)){for(var o=es?"  ":"	",i=`
${o}in ${((s=e.fn)==null?void 0:s.name)||"<unknown>"}`,a=e.ctx;a!==null;)i+=`
${o}in ${(c=a.function)==null?void 0:c[D].split("/").pop()}`,a=a.p;return{message:t.message+`
${i}
`,stack:(u=t.stack)==null?void 0:u.split(`
`).filter(l=>!l.includes("svelte/src/internal")).join(`
`)}}}function ul(t){const e=$a.get(t);e&&(lo(t,"message",{value:e.message}),lo(t,"stack",{value:e.stack}))}const ra=new Set;let pe=null,an=null,Un=[],oa=null,Ya=!1,Mi=!1;const Ta=class Ta{constructor(){he(this,mn);Ir(this,"committed",!1);Ir(this,"current",new Map);Ir(this,"previous",new Map);he(this,ri,new Set);he(this,oi,new Set);he(this,Ao,0);he(this,Wo,0);he(this,Xi,null);he(this,ii,new Set);he(this,ai,new Set);Ir(this,"skipped_effects",new Set);Ir(this,"is_fork",!1)}is_deferred(){return this.is_fork||q(this,Wo)>0}process(e){var o;Un=[],this.apply();var r={parent:null,effect:null,effects:[],render_effects:[]};for(const i of e)on(this,mn,qs).call(this,i,r);this.is_fork||on(this,mn,bf).call(this),this.is_deferred()?(on(this,mn,Yi).call(this,r.effects),on(this,mn,Yi).call(this,r.render_effects)):(pe=null,hl(r.render_effects),hl(r.effects),(o=q(this,Xi))==null||o.resolve()),an=null}capture(e,r){this.previous.has(e)||this.previous.set(e,r),(e.f&Qr)===0&&(this.current.set(e,e.v),an==null||an.set(e,e.v))}activate(){pe=this,this.apply()}deactivate(){pe===this&&(pe=null,an=null)}flush(){if(this.activate(),Un.length>0){if(dl(),pe!==null&&pe!==this)return}else q(this,Ao)===0&&this.process([]);this.deactivate()}discard(){for(const e of q(this,oi))e(this);q(this,oi).clear()}increment(e){Ut(this,Ao,q(this,Ao)+1),e&&Ut(this,Wo,q(this,Wo)+1)}decrement(e){Ut(this,Ao,q(this,Ao)-1),e&&Ut(this,Wo,q(this,Wo)-1),this.revive()}revive(){for(const e of q(this,ii))q(this,ai).delete(e),Mn(e,Hn),vo(e);for(const e of q(this,ai))Mn(e,xr),vo(e);this.flush()}oncommit(e){q(this,ri).add(e)}ondiscard(e){q(this,oi).add(e)}settled(){return(q(this,Xi)??Ut(this,Xi,Js())).promise}static ensure(){if(pe===null){const e=pe=new Ta;ra.add(pe),Mi||Ta.enqueue(()=>{pe===e&&e.flush()})}return pe}static enqueue(e){Oo(e)}apply(){}};ri=new WeakMap,oi=new WeakMap,Ao=new WeakMap,Wo=new WeakMap,Xi=new WeakMap,ii=new WeakMap,ai=new WeakMap,mn=new WeakSet,qs=function(e,r){var d;e.f^=bn;for(var o=e.first;o!==null;){var i=o.f,a=(i&(Fr|Yr))!==0,s=a&&(i&bn)!==0,c=s||(i&Dn)!==0||this.skipped_effects.has(o);if((o.f&Qi)!==0&&((d=o.b)!=null&&d.is_pending())&&(r={parent:r,effect:o,effects:[],render_effects:[]}),!c&&o.fn!==null){a?o.f^=bn:(i&ja)!==0?r.effects.push(o):Hi(o)&&((o.f&zr)!==0&&q(this,ii).add(o),Ai(o));var u=o.first;if(u!==null){o=u;continue}}var l=o.parent;for(o=o.next;o===null&&l!==null;)l===r.effect&&(on(this,mn,Yi).call(this,r.effects),on(this,mn,Yi).call(this,r.render_effects),r=r.parent),o=l.next,l=l.parent}},Yi=function(e){for(const r of e)(r.f&Hn)!==0?q(this,ii).add(r):(r.f&xr)!==0&&q(this,ai).add(r),on(this,mn,Xs).call(this,r.deps),Mn(r,bn)},Xs=function(e){if(e!==null)for(const r of e)(r.f&vn)===0||(r.f&Kr)===0||(r.f^=Kr,on(this,mn,Xs).call(this,r.deps))},bf=function(){if(q(this,Wo)===0){for(const e of q(this,ri))e();q(this,ri).clear()}q(this,Ao)===0&&on(this,mn,Mf).call(this)},Mf=function(){var a;if(ra.size>1){this.previous.clear();var e=an,r=!0,o={parent:null,effect:null,effects:[],render_effects:[]};for(const s of ra){if(s===this){r=!1;continue}const c=[];for(const[l,d]of this.current){if(s.current.has(l))if(r&&d!==s.current.get(l))s.current.set(l,d);else continue;c.push(l)}if(c.length===0)continue;const u=[...s.current.keys()].filter(l=>!this.current.has(l));if(u.length>0){var i=Un;Un=[];const l=new Set,d=new Map;for(const f of c)gl(f,u,l,d);if(Un.length>0){pe=s,s.apply();for(const f of Un)on(a=s,mn,qs).call(a,f,o);s.deactivate()}Un=i}}pe=null,an=e}this.committed=!0,ra.delete(this)};let br=Ta;function fu(t){var e=Mi;Mi=!0;try{for(var r;;){if(lu(),Un.length===0&&(pe==null||pe.flush(),Un.length===0))return oa=null,r;dl()}}finally{Mi=e}}function dl(){var t=_o;Ya=!0;var e=pt?new Set:null;try{var r=0;for(sa(!0);Un.length>0;){var o=br.ensure();if(r++>1e3){if(pt){var i=new Map;for(const s of o.current.keys())for(const[c,u]of s.updated??[]){var a=i.get(c);a||(a={error:u.error,count:0},i.set(c,a)),a.count+=u.count}for(const s of i.values())s.error&&console.error(s.error)}uu()}if(o.process(Un),Jr.clear(),pt)for(const s of o.current.keys())e.add(s)}}finally{if(Ya=!1,sa(t),oa=null,pt)for(const s of e)s.updated=null}}function uu(){try{Vf()}catch(t){pt&&lo(t,"stack",{value:""}),jo(t,oa)}}let lr=null;function hl(t){var e=t.length;if(e!==0){for(var r=0;r<e;){var o=t[r++];if((o.f&(Zr|Dn))===0&&Hi(o)&&(lr=new Set,Ai(o),o.deps===null&&o.first===null&&o.nodes===null&&(o.teardown===null&&o.ac===null?Cl(o):o.fn=null),(lr==null?void 0:lr.size)>0)){Jr.clear();for(const i of lr){if((i.f&(Zr|Dn))!==0)continue;const a=[i];let s=i.parent;for(;s!==null;)lr.has(s)&&(lr.delete(s),a.push(s)),s=s.parent;for(let c=a.length-1;c>=0;c--){const u=a[c];(u.f&(Zr|Dn))===0&&Ai(u)}}lr.clear()}}lr=null}}function gl(t,e,r,o){if(!r.has(t)&&(r.add(t),t.reactions!==null))for(const i of t.reactions){const a=i.f;(a&vn)!==0?gl(i,e,r,o):(a&(ta|zr))!==0&&(a&Hn)===0&&vl(i,e,o)&&(Mn(i,Hn),vo(i))}}function vl(t,e,r){const o=r.get(t);if(o!==void 0)return o;if(t.deps!==null)for(const i of t.deps){if(e.includes(i))return!0;if((i.f&vn)!==0&&vl(i,e,r))return r.set(i,!0),!0}return r.set(t,!1),!1}function vo(t){for(var e=oa=t;e.parent!==null;){e=e.parent;var r=e.f;if(Ya&&e===Ce&&(r&zr)!==0&&(r&tl)===0)return;if((r&(Yr|Fr))!==0){if((r&bn)===0)return;e.f^=bn}}Un.push(e)}function du(t){let e=0,r=po(0),o;return pt&&p(r,"createSubscriber version"),()=>{ki()&&(n(r),aa(()=>(e===0&&(o=ca(()=>t(()=>Si(r)))),e+=1,()=>{Oo(()=>{e-=1,e===0&&(o==null||o(),o=void 0,Si(r))})})))}}var hu=co|fo|Qi;function gu(t,e,r){new vu(t,e,r)}class vu{constructor(e,r,o){he(this,hn);Ir(this,"parent");he(this,rr,!1);he(this,or);he(this,Bs,null);he(this,Hr);he(this,Ro);he(this,Ar);he(this,ir,null);he(this,Ln,null);he(this,Wr,null);he(this,Ur,null);he(this,ao,null);he(this,Io,0);he(this,so,0);he(this,zo,!1);he(this,$r,null);he(this,Na,du(()=>(Ut(this,$r,po(q(this,Io))),pt&&p(q(this,$r),"$effect.pending()"),()=>{Ut(this,$r,null)})));Ut(this,or,e),Ut(this,Hr,r),Ut(this,Ro,o),this.parent=Ce.b,Ut(this,rr,!!q(this,Hr).pending),Ut(this,Ar,Ti(()=>{Ce.b=this;{var i=on(this,hn,Us).call(this);try{Ut(this,ir,$n(()=>o(i)))}catch(a){this.error(a)}q(this,so)>0?on(this,hn,Ga).call(this):Ut(this,rr,!1)}return()=>{var a;(a=q(this,ao))==null||a.remove()}},hu))}is_pending(){return q(this,rr)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!q(this,Hr).pending}update_pending_count(e){on(this,hn,$s).call(this,e),Ut(this,Io,q(this,Io)+e),q(this,$r)&&Xo(q(this,$r),q(this,Io))}get_effect_pending(){return q(this,Na).call(this),n(q(this,$r))}error(e){var r=q(this,Hr).onerror;let o=q(this,Hr).failed;if(q(this,zo)||!r&&!o)throw e;q(this,ir)&&(kn(q(this,ir)),Ut(this,ir,null)),q(this,Ln)&&(kn(q(this,Ln)),Ut(this,Ln,null)),q(this,Wr)&&(kn(q(this,Wr)),Ut(this,Wr,null));var i=!1,a=!1;const s=()=>{if(i){tu();return}i=!0,a&&$f(),br.ensure(),Ut(this,Io,0),q(this,Wr)!==null&&yo(q(this,Wr),()=>{Ut(this,Wr,null)}),Ut(this,rr,this.has_pending_snippet()),Ut(this,ir,on(this,hn,Ba).call(this,()=>(Ut(this,zo,!1),$n(()=>q(this,Ro).call(this,q(this,or)))))),q(this,so)>0?on(this,hn,Ga).call(this):Ut(this,rr,!1)};var c=ie;try{An(null),a=!0,r==null||r(e,s),a=!1}catch(u){jo(u,q(this,Ar)&&q(this,Ar).parent)}finally{An(c)}o&&Oo(()=>{Ut(this,Wr,on(this,hn,Ba).call(this,()=>{br.ensure(),Ut(this,zo,!0);try{return $n(()=>{o(q(this,or),()=>e,()=>s)})}catch(u){return jo(u,q(this,Ar).parent),null}finally{Ut(this,zo,!1)}}))})}}rr=new WeakMap,or=new WeakMap,Bs=new WeakMap,Hr=new WeakMap,Ro=new WeakMap,Ar=new WeakMap,ir=new WeakMap,Ln=new WeakMap,Wr=new WeakMap,Ur=new WeakMap,ao=new WeakMap,Io=new WeakMap,so=new WeakMap,zo=new WeakMap,$r=new WeakMap,Na=new WeakMap,hn=new WeakSet,v0=function(){try{Ut(this,ir,$n(()=>q(this,Ro).call(this,q(this,or))))}catch(e){this.error(e)}Ut(this,rr,!1)},p0=function(){const e=q(this,Hr).pending;e&&(Ut(this,Ln,$n(()=>e(q(this,or)))),br.enqueue(()=>{var r=on(this,hn,Us).call(this);Ut(this,ir,on(this,hn,Ba).call(this,()=>(br.ensure(),$n(()=>q(this,Ro).call(this,r))))),q(this,so)>0?on(this,hn,Ga).call(this):(yo(q(this,Ln),()=>{Ut(this,Ln,null)}),Ut(this,rr,!1))}))},Us=function(){var e=q(this,or);return q(this,rr)&&(Ut(this,ao,Br()),q(this,or).before(q(this,ao)),e=q(this,ao)),e},Ba=function(e){var r=Ce,o=ie,i=sn;fr(q(this,Ar)),An(q(this,Ar)),Go(q(this,Ar).ctx);try{return e()}catch(a){return fl(a),null}finally{fr(r),An(o),Go(i)}},Ga=function(){const e=q(this,Hr).pending;q(this,ir)!==null&&(Ut(this,Ur,document.createDocumentFragment()),q(this,Ur).append(q(this,ao)),Hl(q(this,ir),q(this,Ur))),q(this,Ln)===null&&Ut(this,Ln,$n(()=>e(q(this,or))))},$s=function(e){var r;if(!this.has_pending_snippet()){this.parent&&on(r=this.parent,hn,$s).call(r,e);return}Ut(this,so,q(this,so)+e),q(this,so)===0&&(Ut(this,rr,!1),q(this,Ln)&&yo(q(this,Ln),()=>{Ut(this,Ln,null)}),q(this,Ur)&&(q(this,or).before(q(this,Ur)),Ut(this,Ur,null)))};function pu(t,e,r,o){const i=Za;if(r.length===0&&t.length===0){o(e.map(i));return}var a=pe,s=Ce,c=mu();function u(){Promise.all(r.map(l=>xu(l))).then(l=>{c();try{o([...e.map(i),...l])}catch(d){(s.f&Zr)===0&&jo(d,s)}a==null||a.deactivate(),ia()}).catch(l=>{jo(l,s)})}t.length>0?Promise.all(t).then(()=>{c();try{return u()}finally{a==null||a.deactivate(),ia()}}):u()}function mu(){var t=Ce,e=ie,r=sn,o=pe;if(pt)var i=Lr;return function(s=!0){fr(t),An(e),Go(r),s&&(o==null||o.activate()),pt&&ea(i)}}async function yu(t){var e=await t;return()=>e}function ia(){fr(null),An(null),Go(null),pt&&ea(null)}const _u=new Set;function Za(t){var e=vn|Hn,r=ie!==null&&(ie.f&vn)!==0?ie:null;return Ce!==null&&(Ce.f|=fo),{ctx:sn,deps:null,effects:null,equals:rl,f:e,fn:t,reactions:null,rv:0,v:wn,wv:0,parent:r??Ce,ac:null}}function xu(t,e){let r=Ce;r===null&&If();var o=r.b,i=void 0,a=po(wn),s=!ie,c=new Map;return Fu(()=>{var h;var u=Js();i=u.promise;try{Promise.resolve(t()).then(u.resolve,u.reject).then(()=>{l===pe&&l.committed&&l.deactivate(),ia()})}catch(g){u.reject(g),ia()}var l=pe;if(s){var d=!o.is_pending();o.update_pending_count(1),l.increment(d),(h=c.get(l))==null||h.reject(Bo),c.delete(l),c.set(l,u)}const f=(g,v=void 0)=>{if(l.activate(),v)v!==Bo&&(a.f|=Qr,Xo(a,v));else{(a.f&Qr)!==0&&(a.f^=Qr),Xo(a,g);for(const[_,x]of c){if(c.delete(_),_===l)break;x.reject(Bo)}}s&&(o.update_pending_count(-1),l.decrement(d))};u.promise.then(f,g=>f(null,g||"unknown"))}),rs(()=>{for(const u of c.values())u.reject(Bo)}),pt&&(a.f|=ta),new Promise(u=>{function l(d){function f(){d===i?u(a):l(i)}d.then(f,f)}l(i)})}function m(t){const e=Za(t);return Wl(e),e}function wu(t){const e=Za(t);return e.equals=il,e}function Ka(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)kn(e[r])}}let Qa=[];function bu(t){for(var e=t.parent;e!==null;){if((e.f&vn)===0)return(e.f&Zr)===0?e:null;e=e.parent}return null}function Ja(t){var e,r=Ce;if(fr(bu(t)),pt){let o=qo;ml(new Set);try{Qa.includes(t)&&Pf(),Qa.push(t),t.f&=~Kr,Ka(t),e=is(t)}finally{fr(r),ml(o),Qa.pop()}}else try{t.f&=~Kr,Ka(t),e=is(t)}finally{fr(r)}return e}function pl(t){var e=Ja(t);if(t.equals(e)||(pe!=null&&pe.is_fork||(t.v=e),t.wv=zl()),!$o)if(an!==null)(ki()||pe!=null&&pe.is_fork)&&an.set(t,e);else{var r=(t.f&sr)===0?xr:bn;Mn(t,r)}}let qo=new Set;const Jr=new Map;function ml(t){qo=t}let ts=!1;function Mu(){ts=!0}function po(t,e){var r={f:0,v:t,reactions:null,equals:rl,rv:0,wv:0};return r}function St(t,e){const r=po(t);return Wl(r),r}function Su(t,e=!1,r=!0){const o=po(t);return e||(o.equals=il),o}function st(t,e,r=!1){ie!==null&&(!Sr||(ie.f&Ji)!==0)&&ll()&&(ie.f&(vn|zr|ta|Ji))!==0&&!(Cn!=null&&Cn.includes(t))&&Uf();let o=r?cr(e):e;return pt&&sl(o,t.label),Xo(t,o)}function Xo(t,e){var i;if(!t.equals(e)){var r=t.v;$o?Jr.set(t,e):Jr.set(t,r),t.v=e;var o=br.ensure();if(o.capture(t,r),pt){if(Ce!==null){t.updated??(t.updated=new Map);const a=(((i=t.updated.get(""))==null?void 0:i.count)??0)+1;if(t.updated.set("",{error:null,count:a}),a>5){const s=au("updated at");if(s!==null){let c=t.updated.get(s.stack);c||(c={error:s,count:0},t.updated.set(s.stack,c)),c.count++}}}Ce!==null&&(t.set_during_effect=!0)}(t.f&vn)!==0&&((t.f&Hn)!==0&&Ja(t),Mn(t,(t.f&sr)!==0?bn:xr)),t.wv=zl(),_l(t,Hn),Ce!==null&&(Ce.f&bn)!==0&&(Ce.f&(Fr|Yr))===0&&(Yn===null?Du([t]):Yn.push(t)),!o.is_fork&&qo.size>0&&!ts&&yl()}return e}function yl(){ts=!1;var t=_o;sa(!0);const e=Array.from(qo);try{for(const r of e)(r.f&bn)!==0&&Mn(r,xr),Hi(r)&&Ai(r)}finally{sa(t)}qo.clear()}function Si(t){st(t,t.v+1)}function _l(t,e){var r=t.reactions;if(r!==null)for(var o=r.length,i=0;i<o;i++){var a=r[i],s=a.f;if(pt&&(s&Ji)!==0){qo.add(a);continue}var c=(s&Hn)===0;if(c&&Mn(a,e),(s&vn)!==0){var u=a;an==null||an.delete(u),(s&Kr)===0&&(s&sr&&(a.f|=Kr),_l(u,xr))}else c&&((s&zr)!==0&&lr!==null&&lr.add(a),vo(a))}}const Eu=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function cr(t){if(typeof t!="object"||t===null||wr in t)return t;const e=Ki(t);if(e!==Ks&&e!==kf)return t;var r=new Map,o=_i(t),i=St(0),a=xo,s=d=>{if(xo===a)return d();var f=ie,h=xo;An(null),Il(a);var g=d();return An(f),Il(h),g};o&&(r.set("length",St(t.length)),pt&&(t=Tu(t)));var c="";let u=!1;function l(d){if(!u){u=!0,c=d,p(i,`${c} version`);for(const[f,h]of r)p(h,mo(c,f));u=!1}}return new Proxy(t,{defineProperty(d,f,h){(!("value"in h)||h.configurable===!1||h.enumerable===!1||h.writable===!1)&&qf();var g=r.get(f);return g===void 0?g=s(()=>{var v=St(h.value);return r.set(f,v),pt&&typeof f=="string"&&p(v,mo(c,f)),v}):st(g,h.value,!0),!0},deleteProperty(d,f){var h=r.get(f);if(h===void 0){if(f in d){const g=s(()=>St(wn));r.set(f,g),Si(i),pt&&p(g,mo(c,f))}}else st(h,wn),Si(i);return!0},get(d,f,h){var x;if(f===wr)return t;if(pt&&f===el)return l;var g=r.get(f),v=f in d;if(g===void 0&&(!v||(x=Do(d,f))!=null&&x.writable)&&(g=s(()=>{var y=cr(v?d[f]:wn),b=St(y);return pt&&p(b,mo(c,f)),b}),r.set(f,g)),g!==void 0){var _=n(g);return _===wn?void 0:_}return Reflect.get(d,f,h)},getOwnPropertyDescriptor(d,f){var h=Reflect.getOwnPropertyDescriptor(d,f);if(h&&"value"in h){var g=r.get(f);g&&(h.value=n(g))}else if(h===void 0){var v=r.get(f),_=v==null?void 0:v.v;if(v!==void 0&&_!==wn)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return h},has(d,f){var _;if(f===wr)return!0;var h=r.get(f),g=h!==void 0&&h.v!==wn||Reflect.has(d,f);if(h!==void 0||Ce!==null&&(!g||(_=Do(d,f))!=null&&_.writable)){h===void 0&&(h=s(()=>{var x=g?cr(d[f]):wn,y=St(x);return pt&&p(y,mo(c,f)),y}),r.set(f,h));var v=n(h);if(v===wn)return!1}return g},set(d,f,h,g){var k;var v=r.get(f),_=f in d;if(o&&f==="length")for(var x=h;x<v.v;x+=1){var y=r.get(x+"");y!==void 0?st(y,wn):x in d&&(y=s(()=>St(wn)),r.set(x+"",y),pt&&p(y,mo(c,x)))}if(v===void 0)(!_||(k=Do(d,f))!=null&&k.writable)&&(v=s(()=>St(void 0)),pt&&p(v,mo(c,f)),st(v,cr(h)),r.set(f,v));else{_=v.v!==wn;var b=s(()=>cr(h));st(v,b)}var N=Reflect.getOwnPropertyDescriptor(d,f);if(N!=null&&N.set&&N.set.call(g,h),!_){if(o&&typeof f=="string"){var H=r.get("length"),w=Number(f);Number.isInteger(w)&&w>=H.v&&st(H,w+1)}Si(i)}return!0},ownKeys(d){n(i);var f=Reflect.ownKeys(d).filter(v=>{var _=r.get(v);return _===void 0||_.v!==wn});for(var[h,g]of r)g.v!==wn&&!(h in d)&&f.push(h);return f},setPrototypeOf(){Xf()}})}function mo(t,e){return typeof e=="symbol"?`${t}[Symbol(${e.description??""})]`:Eu.test(e)?`${t}.${e}`:/^\d+$/.test(e)?`${t}[${e}]`:`${t}['${e}']`}function Dr(t){try{if(t!==null&&typeof t=="object"&&wr in t)return t[wr]}catch{}return t}function ku(t,e){return Object.is(Dr(t),Dr(e))}const Cu=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function Tu(t){return new Proxy(t,{get(e,r,o){var i=Reflect.get(e,r,o);return Cu.has(r)?function(...a){Mu();var s=i.apply(this,a);return yl(),s}:i}})}function Nu(){const t=Array.prototype,e=Array.__svelte_cleanup;e&&e();const{indexOf:r,lastIndexOf:o,includes:i}=t;t.indexOf=function(a,s){const c=r.call(this,a,s);if(c===-1){for(let u=s??0;u<this.length;u+=1)if(Dr(this[u])===a){wi("array.indexOf(...)");break}}return c},t.lastIndexOf=function(a,s){const c=o.call(this,a,s??this.length-1);if(c===-1){for(let u=0;u<=(s??this.length-1);u+=1)if(Dr(this[u])===a){wi("array.lastIndexOf(...)");break}}return c},t.includes=function(a,s){const c=i.call(this,a,s);if(!c){for(let u=0;u<this.length;u+=1)if(Dr(this[u])===a){wi("array.includes(...)");break}}return c},Array.__svelte_cleanup=()=>{t.indexOf=r,t.lastIndexOf=o,t.includes=i}}function M(t,e,r=!0){try{t===e!=(Dr(t)===Dr(e))&&wi(r?"===":"!==")}catch{}return t===e===r}function fe(t,e,r=!0){return t==e!=(Dr(t)==Dr(e))&&wi(r?"==":"!="),t==e===r}var Uo,es,xl,wl;function Hu(){if(Uo===void 0){Uo=window,es=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;xl=Do(e,"firstChild").get,wl=Do(e,"nextSibling").get,Qs(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Qs(r)&&(r.__t=void 0),pt&&(t.__svelte_meta=null,Nu())}}function Br(t=""){return document.createTextNode(t)}function Gr(t){return xl.call(t)}function Ei(t){return wl.call(t)}function Y(t,e){return Gr(t)}function yt(t,e=!1){{var r=Gr(t);return r instanceof Comment&&r.data===""?Ei(r):r}}function nt(t,e=1,r=!1){let o=t;for(;e--;)o=Ei(o);return o}function Au(t){t.textContent=""}function bl(){return!1}function ns(t){var e=ie,r=Ce;An(null),fr(null);try{return t()}finally{An(e),fr(r)}}function Wu(t){Ce===null&&(ie===null&&Gf(t),Bf()),$o&&Df(t)}function Ru(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function Mr(t,e,r){var o=Ce;if(pt)for(;o!==null&&(o.f&Ji)!==0;)o=o.parent;o!==null&&(o.f&Dn)!==0&&(t|=Dn);var i={ctx:sn,deps:null,nodes:null,f:t|Hn|sr,first:null,fn:e,last:null,next:null,parent:o,b:o&&o.b,prev:null,teardown:null,wv:0,ac:null};if(pt&&(i.component_function=Vo),r)try{Ai(i),i.f|=Xa}catch(c){throw kn(i),c}else e!==null&&vo(i);var a=i;if(r&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&fo)===0&&(a=a.first,(t&zr)!==0&&(t&co)!==0&&a!==null&&(a.f|=co)),a!==null&&(a.parent=o,o!==null&&Ru(a,o),ie!==null&&(ie.f&vn)!==0&&(t&Yr)===0)){var s=ie;(s.effects??(s.effects=[])).push(a)}return i}function ki(){return ie!==null&&!Sr}function rs(t){const e=Mr(qa,null,!1);return Mn(e,bn),e.teardown=t,e}function Ci(t){Wu("$effect"),pt&&lo(t,"name",{value:"$effect"});var e=Ce.f,r=!ie&&(e&Fr)!==0&&(e&Xa)===0;if(r){var o=sn;(o.e??(o.e=[])).push(t)}else return Ml(t)}function Ml(t){return Mr(ja|Nf,t,!1)}function Iu(t){br.ensure();const e=Mr(Yr|fo,t,!0);return()=>{kn(e)}}function zu(t){br.ensure();const e=Mr(Yr|fo,t,!0);return(r={})=>new Promise(o=>{r.outro?yo(e,()=>{kn(e),o(void 0)}):(kn(e),o(void 0))})}function Sl(t){return Mr(ja,t,!1)}function Fu(t){return Mr(ta|fo,t,!0)}function aa(t,e=0){return Mr(qa|e,t,!0)}function tt(t,e=[],r=[],o=[]){pu(o,e,r,i=>{Mr(qa,()=>t(...i.map(n)),!0)})}function Ti(t,e=0){var r=Mr(zr|e,t,!0);return pt&&(r.dev_stack=Lr),r}function $n(t){return Mr(Fr|fo,t,!0)}function El(t){var e=t.teardown;if(e!==null){const r=$o,o=ie;Al(!0),An(null);try{e.call(null)}finally{Al(r),An(o)}}}function kl(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){const i=r.ac;i!==null&&ns(()=>{i.abort(Bo)});var o=r.next;(r.f&Yr)!==0?r.parent=null:kn(r,e),r=o}}function Pu(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&Fr)===0&&kn(e),e=r}}function kn(t,e=!0){var r=!1;(e||(t.f&tl)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(Lu(t.nodes.start,t.nodes.end),r=!0),kl(t,e&&!r),la(t,0),Mn(t,Zr);var o=t.nodes&&t.nodes.t;if(o!==null)for(const a of o)a.stop();El(t);var i=t.parent;i!==null&&i.first!==null&&Cl(t),pt&&(t.component_function=null),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function Lu(t,e){for(;t!==null;){var r=t===e?null:Ei(t);t.remove(),t=r}}function Cl(t){var e=t.parent,r=t.prev,o=t.next;r!==null&&(r.next=o),o!==null&&(o.prev=r),e!==null&&(e.first===t&&(e.first=o),e.last===t&&(e.last=r))}function yo(t,e,r=!0){var o=[];Tl(t,o,!0);var i=()=>{r&&kn(t),e&&e()},a=o.length;if(a>0){var s=()=>--a||i();for(var c of o)c.out(s)}else i()}function Tl(t,e,r){if((t.f&Dn)===0){t.f^=Dn;var o=t.nodes&&t.nodes.t;if(o!==null)for(const c of o)(c.is_global||r)&&e.push(c);for(var i=t.first;i!==null;){var a=i.next,s=(i.f&co)!==0||(i.f&Fr)!==0&&(t.f&zr)!==0;Tl(i,e,s?r:!1),i=a}}}function os(t){Nl(t,!0)}function Nl(t,e){if((t.f&Dn)!==0){t.f^=Dn,(t.f&bn)===0&&(Mn(t,Hn),vo(t));for(var r=t.first;r!==null;){var o=r.next,i=(r.f&co)!==0||(r.f&Fr)!==0;Nl(r,i?e:!1),r=o}var a=t.nodes&&t.nodes.t;if(a!==null)for(const s of a)(s.is_global||e)&&s.in()}}function Hl(t,e){if(t.nodes)for(var r=t.nodes.start,o=t.nodes.end;r!==null;){var i=r===o?null:Ei(r);e.append(r),r=i}}let _o=!1;function sa(t){_o=t}let $o=!1;function Al(t){$o=t}let ie=null,Sr=!1;function An(t){ie=t}let Ce=null;function fr(t){Ce=t}let Cn=null;function Wl(t){ie!==null&&(Cn===null?Cn=[t]:Cn.push(t))}let Tn=null,Bn=0,Yn=null;function Du(t){Yn=t}let Rl=1,Ni=0,xo=Ni;function Il(t){xo=t}function zl(){return++Rl}function Hi(t){var e=t.f;if((e&Hn)!==0)return!0;if(e&vn&&(t.f&=~Kr),(e&xr)!==0){var r=t.deps;if(r!==null)for(var o=r.length,i=0;i<o;i++){var a=r[i];if(Hi(a)&&pl(a),a.wv>t.wv)return!0}(e&sr)!==0&&an===null&&Mn(t,bn)}return!1}function Fl(t,e,r=!0){var o=t.reactions;if(o!==null&&!(Cn!=null&&Cn.includes(t)))for(var i=0;i<o.length;i++){var a=o[i];(a.f&vn)!==0?Fl(a,e,!1):e===a&&(r?Mn(a,Hn):(a.f&bn)!==0&&Mn(a,xr),vo(a))}}function is(t){var v;var e=Tn,r=Bn,o=Yn,i=ie,a=Cn,s=sn,c=Sr,u=xo,l=t.f;Tn=null,Bn=0,Yn=null,ie=(l&(Fr|Yr))===0?t:null,Cn=null,Go(t.ctx),Sr=!1,xo=++Ni,t.ac!==null&&(ns(()=>{t.ac.abort(Bo)}),t.ac=null);try{t.f|=Ua;var d=t.fn,f=d(),h=t.deps;if(Tn!==null){var g;if(la(t,Bn),h!==null&&Bn>0)for(h.length=Bn+Tn.length,g=0;g<Tn.length;g++)h[Bn+g]=Tn[g];else t.deps=h=Tn;if(ki()&&(t.f&sr)!==0)for(g=Bn;g<h.length;g++)((v=h[g]).reactions??(v.reactions=[])).push(t)}else h!==null&&Bn<h.length&&(la(t,Bn),h.length=Bn);if(ll()&&Yn!==null&&!Sr&&h!==null&&(t.f&(vn|xr|Hn))===0)for(g=0;g<Yn.length;g++)Fl(Yn[g],t);return i!==null&&i!==t&&(Ni++,Yn!==null&&(o===null?o=Yn:o.push(...Yn))),(t.f&Qr)!==0&&(t.f^=Qr),f}catch(_){return fl(_)}finally{t.f^=Ua,Tn=e,Bn=r,Yn=o,ie=i,Cn=a,Go(s),Sr=c,xo=u}}function Bu(t,e){let r=e.reactions;if(r!==null){var o=Ef.call(r,t);if(o!==-1){var i=r.length-1;i===0?r=e.reactions=null:(r[o]=r[i],r.pop())}}r===null&&(e.f&vn)!==0&&(Tn===null||!Tn.includes(e))&&(Mn(e,xr),(e.f&sr)!==0&&(e.f^=sr,e.f&=~Kr),Ka(e),la(e,0))}function la(t,e){var r=t.deps;if(r!==null)for(var o=e;o<r.length;o++)Bu(t,r[o])}function Ai(t){var e=t.f;if((e&Zr)===0){Mn(t,bn);var r=Ce,o=_o;if(Ce=t,_o=!0,pt){var i=Vo;na(t.component_function);var a=Lr;ea(t.dev_stack??Lr)}try{(e&(zr|Tf))!==0?Pu(t):kl(t),El(t);var s=is(t);t.teardown=typeof s=="function"?s:null,t.wv=Rl;var c;pt&&eu&&(t.f&Hn)!==0&&t.deps}finally{_o=o,Ce=r,pt&&(na(i),ea(a))}}}async function Gu(){await Promise.resolve(),fu()}function n(t){var e=t.f,r=(e&vn)!==0;if(ie!==null&&!Sr){var o=Ce!==null&&(Ce.f&Zr)!==0;if(!o&&!(Cn!=null&&Cn.includes(t))){var i=ie.deps;if((ie.f&Ua)!==0)t.rv<Ni&&(t.rv=Ni,Tn===null&&i!==null&&i[Bn]===t?Bn++:Tn===null?Tn=[t]:Tn.includes(t)||Tn.push(t));else{(ie.deps??(ie.deps=[])).push(t);var a=t.reactions;a===null?t.reactions=[ie]:a.includes(ie)||a.push(ie)}}}if(pt&&_u.delete(t),$o){if(Jr.has(t))return Jr.get(t);if(r){var s=t,c=s.v;return((s.f&bn)===0&&s.reactions!==null||Ll(s))&&(c=Ja(s)),Jr.set(s,c),c}}else r&&(!(an!=null&&an.has(t))||pe!=null&&pe.is_fork&&!ki())&&(s=t,Hi(s)&&pl(s),_o&&ki()&&(s.f&sr)===0&&Pl(s));if(an!=null&&an.has(t))return an.get(t);if((t.f&Qr)!==0)throw t.v;return t.v}function Pl(t){if(t.deps!==null){t.f^=sr;for(const e of t.deps)(e.reactions??(e.reactions=[])).push(t),(e.f&vn)!==0&&(e.f&sr)===0&&Pl(e)}}function Ll(t){if(t.v===wn)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Jr.has(e)||(e.f&vn)!==0&&Ll(e))return!0;return!1}function ca(t){var e=Sr;try{return Sr=!0,t()}finally{Sr=e}}const Vu=-7169;function Mn(t,e){t.f=t.f&Vu|e}function Ou(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(wr in t)as(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&wr in r&&as(r)}}}function as(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let o in t)try{as(t[o],e)}catch{}const r=Ki(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const o=Zs(r);for(let i in o){const a=o[i].get;if(a)try{a.call(t)}catch{}}}}}const Dl=new Set,ss=new Set;function ju(t,e,r,o={}){function i(a){if(o.capture||Wi.call(e,a),!a.cancelBubble)return ns(()=>r==null?void 0:r.call(this,a))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Oo(()=>{e.addEventListener(t,i,o)}):e.addEventListener(t,i,o),i}function Gn(t,e,r,o,i){var a={capture:o,passive:i},s=ju(t,e,r,a);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&rs(()=>{e.removeEventListener(t,s,a)})}function to(t){for(var e=0;e<t.length;e++)Dl.add(t[e]);for(var r of ss)r(t)}let Bl=null;function Wi(t){var x;var e=this,r=e.ownerDocument,o=t.type,i=((x=t.composedPath)==null?void 0:x.call(t))||[],a=i[0]||t.target;Bl=t;var s=0,c=Bl===t&&t.__root;if(c){var u=i.indexOf(c);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var l=i.indexOf(e);if(l===-1)return;u<=l&&(s=u)}if(a=i[s]||t.target,a!==e){lo(t,"currentTarget",{configurable:!0,get(){return a||r}});var d=ie,f=Ce;An(null),fr(null);try{for(var h,g=[];a!==null;){var v=a.assignedSlot||a.parentNode||a.host||null;try{var _=a["__"+o];_!=null&&(!a.disabled||t.target===a)&&_.call(a,t)}catch(y){h?g.push(y):h=y}if(t.cancelBubble||v===e||v===null)break;a=v}if(h){for(let y of g)queueMicrotask(()=>{throw y});throw h}}finally{t.__root=e,delete t.currentTarget,An(d),fr(f)}}}function ur(t,e,r,o,i,a=!1,s=!1){var l,d;let c,u;try{c=t()}catch(f){u=f}if(typeof c!="function"&&(a||c!=null||u)){const f=o==null?void 0:o[D],h=i?` at ${f}:${i[0]}:${i[1]}`:` in ${f}`,g=((l=r[0])==null?void 0:l.eventPhase)<Event.BUBBLING_PHASE?"capture":"",_=`\`${((d=r[0])==null?void 0:d.type)+g}\` handler${h}`;if(Zf(_,s?"remove the trailing `()`":"add a leading `() =>`"),u)throw u}c==null||c.apply(e,r)}function Gl(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Yo(t,e){var r=Ce;r.nodes===null&&(r.nodes={start:t,end:e,a:null,t:null})}function lt(t,e){var r=(e&1)!==0,o=(e&2)!==0,i,a=!t.startsWith("<!>");return()=>{i===void 0&&(i=Gl(a?t:"<!>"+t),r||(i=Gr(i)));var s=o||es?document.importNode(i,!0):i.cloneNode(!0);if(r){var c=Gr(s),u=s.lastChild;Yo(c,u)}else Yo(s,s);return s}}function qu(t,e,r="svg"){var o=!t.startsWith("<!>"),i=(e&1)!==0,a=`<${r}>${o?t:"<!>"+t}</${r}>`,s;return()=>{if(!s){var c=Gl(a),u=Gr(c);if(i)for(s=document.createDocumentFragment();Gr(u);)s.appendChild(Gr(u));else s=Gr(u)}var l=s.cloneNode(!0);if(i){var d=Gr(l),f=l.lastChild;Yo(d,f)}else Yo(l,l);return l}}function It(t,e){return qu(t,e,"svg")}function Xu(t=""){{var e=Br(t+"");return Yo(e,e),e}}function Et(){var t=document.createDocumentFragment(),e=document.createComment(""),r=Br();return t.append(e,r),Yo(e,r),t}function z(t,e){t!==null&&t.before(e)}const Uu=["touchstart","touchmove"];function $u(t){return Uu.includes(t)}function Ot(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function Yu(t,e){return Zu(t,e)}const Zo=new Map;function Zu(t,{target:e,anchor:r,props:o={},events:i,context:a,intro:s=!0}){Hu();var c=new Set,u=f=>{for(var h=0;h<f.length;h++){var g=f[h];if(!c.has(g)){c.add(g);var v=$u(g);e.addEventListener(g,Wi,{passive:v});var _=Zo.get(g);_===void 0?(document.addEventListener(g,Wi,{passive:v}),Zo.set(g,1)):Zo.set(g,_+1)}}};u(Zi(Dl)),ss.add(u);var l=void 0,d=zu(()=>{var f=r??e.appendChild(Br());return gu(f,{pending:()=>{}},h=>{if(a){ge({});var g=sn;g.c=a}i&&(o.$$events=i),l=t(h,o)||{},a&&ve()}),()=>{var v;for(var h of c){e.removeEventListener(h,Wi);var g=Zo.get(h);--g===0?(document.removeEventListener(h,Wi),Zo.delete(h)):Zo.set(h,g)}ss.delete(u),f!==r&&((v=f.parentNode)==null||v.removeChild(f))}});return ls.set(l,d),l}let ls=new WeakMap;function Ku(t,e){const r=ls.get(t);return r?(ls.delete(t),r(e)):(pt&&(wr in t?Jf():Kf()),Promise.resolve())}function Qu(t){return t.toString=()=>(Rf(),""),t}class cs{constructor(e,r=!0){Ir(this,"anchor");he(this,mr,new Map);he(this,Rr,new Map);he(this,jn,new Map);he(this,Fo,new Set);he(this,Ui,!0);he(this,$i,()=>{var e=pe;if(q(this,mr).has(e)){var r=q(this,mr).get(e),o=q(this,Rr).get(r);if(o)os(o),q(this,Fo).delete(r);else{var i=q(this,jn).get(r);i&&(q(this,Rr).set(r,i.effect),q(this,jn).delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),o=i.effect)}for(const[a,s]of q(this,mr)){if(q(this,mr).delete(a),a===e)break;const c=q(this,jn).get(s);c&&(kn(c.effect),q(this,jn).delete(s))}for(const[a,s]of q(this,Rr)){if(a===r||q(this,Fo).has(a))continue;const c=()=>{if(Array.from(q(this,mr).values()).includes(a)){var l=document.createDocumentFragment();Hl(s,l),l.append(Br()),q(this,jn).set(a,{effect:s,fragment:l})}else kn(s);q(this,Fo).delete(a),q(this,Rr).delete(a)};q(this,Ui)||!o?(q(this,Fo).add(a),yo(s,c,!1)):c()}}});he(this,Ha,e=>{q(this,mr).delete(e);const r=Array.from(q(this,mr).values());for(const[o,i]of q(this,jn))r.includes(o)||(kn(i.effect),q(this,jn).delete(o))});this.anchor=e,Ut(this,Ui,r)}ensure(e,r){var o=pe,i=bl();if(r&&!q(this,Rr).has(e)&&!q(this,jn).has(e))if(i){var a=document.createDocumentFragment(),s=Br();a.append(s),q(this,jn).set(e,{effect:$n(()=>r(s)),fragment:a})}else q(this,Rr).set(e,$n(()=>r(this.anchor)));if(q(this,mr).set(o,e),i){for(const[c,u]of q(this,Rr))c===e?o.skipped_effects.delete(u):o.skipped_effects.add(u);for(const[c,u]of q(this,jn))c===e?o.skipped_effects.delete(u.effect):o.skipped_effects.add(u.effect);o.oncommit(q(this,$i)),o.ondiscard(q(this,Ha))}else q(this,$i).call(this)}}mr=new WeakMap,Rr=new WeakMap,jn=new WeakMap,Fo=new WeakMap,Ui=new WeakMap,$i=new WeakMap,Ha=new WeakMap;function Ju(t,e,...r){var o=new cs(t);Ti(()=>{const i=e()??null;pt&&i==null&&Of(),o.ensure(i,i&&(a=>i(a,...r)))},co)}function Vl(t,e){const r=(o,...i)=>{var a=Vo;na(t);try{return e(o,...i)}finally{na(a)}};return Qu(r),r}if(pt){let t=function(e){if(!(e in globalThis)){let r;Object.defineProperty(globalThis,e,{configurable:!0,get:()=>{if(r!==void 0)return r;jf(e)},set:o=>{r=o}})}};t("$state"),t("$effect"),t("$derived"),t("$inspect"),t("$props"),t("$bindable")}function V(t,e,r){return(...o)=>{const i=t(...o);var a=i.nodeType===Wf?i.firstChild:i;return Ol(a,e,r),i}}function td(t,e,r){t.__svelte_meta={parent:Lr,loc:{file:e,line:r[0],column:r[1]}},r[2]&&Ol(t.firstChild,e,r[2])}function Ol(t,e,r){for(var o=0;t&&o<r.length;)t.nodeType===Af&&td(t,e,r[o++]),t=t.nextSibling}function we(t){t&&Ff(t[D]??"a component",t.name)}function be(){const t=sn==null?void 0:sn.function;function e(r){zf(r,t[D])}return{$destroy:()=>e("$destroy()"),$on:()=>e("$on(...)"),$set:()=>e("$set(...)")}}function jl(t,...e){(typeof t!="object"||!(t instanceof Node))&&nl();for(let r of e)typeof r!="function"&&nl()}function j(t,e,r=!1){var o=new cs(t),i=r?co:0;function a(s,c){o.ensure(s,c)}Ti(()=>{var s=!1;e((c,u=!0)=>{s=!0,a(u,c)}),s||a(!1,null)},i)}function ed(t,e,r){var o=new cs(t);Ti(()=>{var i=e();o.ensure(i,r)})}function Zn(t,e){return e}function nd(t,e,r){for(var o=[],i=e.length,a,s=e.length,c=0;c<i;c++){let f=e[c];yo(f,()=>{if(a){if(a.pending.delete(f),a.done.add(f),a.pending.size===0){var h=t.outrogroups;fs(Zi(a.done)),h.delete(a),h.size===0&&(t.outrogroups=null)}}else s-=1},!1)}if(s===0){var u=o.length===0&&r!==null;if(u){var l=r,d=l.parentNode;Au(d),d.append(l),t.items.clear()}fs(e,!u)}else a={pending:new Set(e),done:new Set},(t.outrogroups??(t.outrogroups=new Set)).add(a)}function fs(t,e=!0){for(var r=0;r<t.length;r++)kn(t[r],e)}var ql;function Ie(t,e,r,o,i,a=null){var s=t,c=new Map,u=(e&4)!==0;if(u){var l=t;s=l.appendChild(Br())}var d=null,f=wu(()=>{var y=r();return _i(y)?y:y==null?[]:Zi(y)}),h,g=!0;function v(){x.fallback=d,rd(x,h,s,e,o),d!==null&&(h.length===0?(d.f&Pr)===0?os(d):(d.f^=Pr,Ri(d,null,s)):yo(d,()=>{d=null}))}var _=Ti(()=>{h=n(f);for(var y=h.length,b=new Set,N=pe,H=bl(),w=0;w<y;w+=1){var k=h[w],S=o(k,w),E=g?null:c.get(S);E?(E.v&&Xo(E.v,k),E.i&&Xo(E.i,w),H&&N.skipped_effects.delete(E.e)):(E=od(c,g?s:ql??(ql=Br()),k,S,w,i,e,r),g||(E.e.f|=Pr),c.set(S,E)),b.add(S)}if(y===0&&a&&!d&&(g?d=$n(()=>a(s)):(d=$n(()=>a(ql??(ql=Br()))),d.f|=Pr)),!g)if(H){for(const[P,A]of c)b.has(P)||N.skipped_effects.add(A.e);N.oncommit(v),N.ondiscard(()=>{})}else v();n(f)}),x={effect:_,items:c,outrogroups:null,fallback:d};g=!1}function rd(t,e,r,o,i){var A,W,T,B,L,K,Z,$,O;var a=(o&8)!==0,s=e.length,c=t.items,u=t.effect.first,l,d=null,f,h=[],g=[],v,_,x,y;if(a)for(y=0;y<s;y+=1)v=e[y],_=i(v,y),x=c.get(_).e,(x.f&Pr)===0&&((W=(A=x.nodes)==null?void 0:A.a)==null||W.measure(),(f??(f=new Set)).add(x));for(y=0;y<s;y+=1){if(v=e[y],_=i(v,y),x=c.get(_).e,t.outrogroups!==null)for(const Q of t.outrogroups)Q.pending.delete(x),Q.done.delete(x);if((x.f&Pr)!==0)if(x.f^=Pr,x===u)Ri(x,null,r);else{var b=d?d.next:u;x===t.effect.last&&(t.effect.last=x.prev),x.prev&&(x.prev.next=x.next),x.next&&(x.next.prev=x.prev),eo(t,d,x),eo(t,x,b),Ri(x,b,r),d=x,h=[],g=[],u=d.next;continue}if((x.f&Dn)!==0&&(os(x),a&&((B=(T=x.nodes)==null?void 0:T.a)==null||B.unfix(),(f??(f=new Set)).delete(x))),x!==u){if(l!==void 0&&l.has(x)){if(h.length<g.length){var N=g[0],H;d=N.prev;var w=h[0],k=h[h.length-1];for(H=0;H<h.length;H+=1)Ri(h[H],N,r);for(H=0;H<g.length;H+=1)l.delete(g[H]);eo(t,w.prev,k.next),eo(t,d,w),eo(t,k,N),u=N,d=k,y-=1,h=[],g=[]}else l.delete(x),Ri(x,u,r),eo(t,x.prev,x.next),eo(t,x,d===null?t.effect.first:d.next),eo(t,d,x),d=x;continue}for(h=[],g=[];u!==null&&u!==x;)(l??(l=new Set)).add(u),g.push(u),u=u.next;if(u===null)continue}(x.f&Pr)===0&&h.push(x),d=x,u=x.next}if(t.outrogroups!==null){for(const Q of t.outrogroups)Q.pending.size===0&&(fs(Zi(Q.done)),(L=t.outrogroups)==null||L.delete(Q));t.outrogroups.size===0&&(t.outrogroups=null)}if(u!==null||l!==void 0){var S=[];if(l!==void 0)for(x of l)(x.f&Dn)===0&&S.push(x);for(;u!==null;)(u.f&Dn)===0&&u!==t.fallback&&S.push(u),u=u.next;var E=S.length;if(E>0){var P=(o&4)!==0&&s===0?r:null;if(a){for(y=0;y<E;y+=1)(Z=(K=S[y].nodes)==null?void 0:K.a)==null||Z.measure();for(y=0;y<E;y+=1)(O=($=S[y].nodes)==null?void 0:$.a)==null||O.fix()}nd(t,S,P)}}a&&Oo(()=>{var Q,ht;if(f!==void 0)for(x of f)(ht=(Q=x.nodes)==null?void 0:Q.a)==null||ht.apply()})}function od(t,e,r,o,i,a,s,c){var u=(s&1)!==0?(s&16)===0?Su(r,!1,!1):po(r):null,l=(s&2)!==0?po(i):null;return pt&&u&&(u.trace=()=>{c()[(l==null?void 0:l.v)??i]}),{v:u,i:l,e:$n(()=>(a(e,u??r,l??i,c),()=>{t.delete(o)}))}}function Ri(t,e,r){if(t.nodes)for(var o=t.nodes.start,i=t.nodes.end,a=e&&(e.f&Pr)===0?e.nodes.start:r;o!==null;){var s=Ei(o);if(a.before(o),o===i)return;o=s}}function eo(t,e,r){e===null?t.effect.first=r:e.next=r,r===null?t.effect.last=e:r.prev=e}function fa(t,e,r){Sl(()=>{var o=ca(()=>e(t,r==null?void 0:r())||{});if(r&&(o!=null&&o.update)){var i=!1,a={};aa(()=>{var s=r();Ou(s),i&&ol(a,s)&&(a=s,o.update(s))}),i=!0}if(o!=null&&o.destroy)return()=>o.destroy()})}const Xl=[...` 	
\r\f \v\uFEFF`];function id(t,e,r){var o=t==null?"":""+t;if(e&&(o=o?o+" "+e:e),r){for(var i in r)if(r[i])o=o?o+" "+i:i;else if(o.length)for(var a=i.length,s=0;(s=o.indexOf(i,s))>=0;){var c=s+a;(s===0||Xl.includes(o[s-1]))&&(c===o.length||Xl.includes(o[c]))?o=(s===0?"":o.substring(0,s))+o.substring(c+1):s=c}}return o===""?null:o}function Ul(t,e=!1){var r=e?" !important;":";",o="";for(var i in t){var a=t[i];a!=null&&a!==""&&(o+=" "+i+": "+a+r)}return o}function us(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function ad(t,e){if(e){var r="",o,i;if(Array.isArray(e)?(o=e[0],i=e[1]):o=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var a=!1,s=0,c=!1,u=[];o&&u.push(...Object.keys(o).map(us)),i&&u.push(...Object.keys(i).map(us));var l=0,d=-1;const _=t.length;for(var f=0;f<_;f++){var h=t[f];if(c?h==="/"&&t[f-1]==="*"&&(c=!1):a?a===h&&(a=!1):h==="/"&&t[f+1]==="*"?c=!0:h==='"'||h==="'"?a=h:h==="("?s++:h===")"&&s--,!c&&a===!1&&s===0){if(h===":"&&d===-1)d=f;else if(h===";"||f===_-1){if(d!==-1){var g=us(t.substring(l,d).trim());if(!u.includes(g)){h!==";"&&f++;var v=t.substring(l,f).trim();r+=" "+v+";"}}l=f+1,d=-1}}}}return o&&(r+=Ul(o)),i&&(r+=Ul(i,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function pn(t,e,r,o,i,a){var s=t.__className;if(s!==r||s===void 0){var c=id(r,o,a);c==null?t.removeAttribute("class"):t.className=c,t.__className=r}else if(a&&i!==a)for(var u in a){var l=!!a[u];(i==null||l!==!!i[u])&&t.classList.toggle(u,l)}return a}function ds(t,e={},r,o){for(var i in r){var a=r[i];e[i]!==a&&(r[i]==null?t.style.removeProperty(i):t.style.setProperty(i,a,o))}}function Me(t,e,r,o){var i=t.__style;if(i!==e){var a=ad(e,o);a==null?t.removeAttribute("style"):t.style.cssText=a,t.__style=e}else o&&(Array.isArray(o)?(ds(t,r==null?void 0:r[0],o[0]),ds(t,r==null?void 0:r[1],o[1],"important")):ds(t,r,o));return o}function hs(t,e,r=!1){if(t.multiple){if(e==null)return;if(!_i(e))return Qf();for(var o of t.options)o.selected=e.includes(Yl(o));return}for(o of t.options){var i=Yl(o);if(ku(i,e)){o.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function $l(t){var e=new MutationObserver(()=>{hs(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),rs(()=>{e.disconnect()})}function Yl(t){return"__value"in t?t.__value:t.value}const sd=Symbol("is custom element"),ld=Symbol("is html");function Zl(t,e){var r=gs(t);r.value===(r.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function cd(t,e){var r=gs(t);r.checked!==(r.checked=e??void 0)&&(t.checked=e)}function R(t,e,r,o){var i=gs(t);i[e]!==(i[e]=r)&&(e==="loading"&&(t[Hf]=r),r==null?t.removeAttribute(e):typeof r!="string"&&fd(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function gs(t){return t.__attributes??(t.__attributes={[sd]:t.nodeName.includes("-"),[ld]:t.namespaceURI===Sf})}var Kl=new Map;function fd(t){var e=t.getAttribute("is")||t.nodeName,r=Kl.get(e);if(r)return r;Kl.set(e,r=[]);for(var o,i=t,a=Element.prototype;a!==i;){o=Zs(i);for(var s in o)o[s].set&&r.push(s);i=Ki(i)}return r}function Ql(t,e){return t===e||(t==null?void 0:t[wr])===e}function no(t={},e,r,o){return Sl(()=>{var i,a;return aa(()=>{i=a,a=[],ca(()=>{t!==r(...a)&&(e(t,...a),i&&Ql(r(...i),t)&&e(null,...i))})}),()=>{Oo(()=>{a&&Ql(r(...a),t)&&e(null,...a)})}}),t}function Vn(t,e,r,o){var i=o,a=!0,s=()=>(a&&(a=!1,i=o),i),c;c=t[e],c===void 0&&o!==void 0&&(c=s());var u;return u=()=>{var l=t[e];return l===void 0?s():(a=!0,l)},u}function Sn(t,e){aa(()=>{const r=new Map,o=t(),i=_i(o)?o:o==null?[]:Array.from(o),a=i.length;for(let s=0;s<a;s++){const c=e(i[s],s);if(r.has(c)){const u=String(r.get(c)),l=String(s);let d=String(c);d.startsWith("[object ")&&(d=null),Lf(u,l,d)}r.set(c,s)}})}function Jl(t,...e){return ca(()=>{try{let r=!1;const o=[];for(const i of e)i&&typeof i=="object"&&wr in i?(o.push(iu(i,!0)),r=!0):o.push(i);r&&(Yf(t),console.log("%c[snapshot]","color: grey",...o))}catch{}}),e}const ud="5";typeof window<"u"&&((gf=window.__svelte??(window.__svelte={})).v??(gf.v=new Set)).add(ud);function tc(t){var o,i;const e=((o=t==null?void 0:t.shapes)==null?void 0:o.lineWidth)??1.5,r=((i=t==null?void 0:t.colors)==null?void 0:i.intervalLine)??"#475569";return{width:Math.max(4,Math.round(e*3)),height:Math.max(6,Math.round(e*4)),color:r,opacity:1}}function ua(t,e,r,o){const{width:i,height:a}=o,s=a/2;return t==="left"?`M ${e} ${r} L ${e+i} ${r-s} L ${e+i} ${r+s} Z`:`M ${e} ${r} L ${e-i} ${r-s} L ${e-i} ${r+s} Z`}const ec=[1,5,2,2.5,4,3],Er=[.001,.002,.005,.01,.02,.05,.1,.15,.2,.25,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.75,2,2.5,3,4,5,6,7,8,10,12,15,20,25,30,40,50,75,100,150,200,300,500,750,1e3];function da(t,e){return e?dd(t):hd(t)}function dd(t){if(t[0]<=0||t[1]<=0)return[.1,10];if(t[0]>=t[1])return t;let e=Er[0];for(const o of Er)if(o<=t[0])e=o;else break;t[0]<Er[0]&&(e=Math.pow(10,Math.floor(Math.log10(t[0]))));let r=Er[Er.length-1];for(let o=Er.length-1;o>=0&&Er[o]>=t[1];o--)r=Er[o];return t[1]>Er[Er.length-1]&&(r=Math.pow(10,Math.ceil(Math.log10(t[1])))),[e,r]}function hd(t){const e=t[1]-t[0];if(e===0)return t;if(e<0)return[t[1],t[0]];const r=Math.pow(10,Math.floor(Math.log10(e)));let o=r,i=1/0;for(const c of ec)for(const u of[.1,1,10]){const l=c*r*u;if(l<=0)continue;const d=Math.floor(t[0]/l)*l,g=(Math.ceil(t[1]/l)*l-d)/e-1;g>=0&&g<i&&(i=g,o=l)}const a=Math.floor(t[0]/o)*o,s=Math.ceil(t[1]/o)*o;return[Math.round(a*1e10)/1e10,Math.round(s*1e10)/1e10]}function Kn(t,e,r,o,i=!1){if(t&&r in t){const a=t[r];if(typeof a=="number"&&Number.isFinite(a)&&(!i||a>0))return a}return r===o&&e!=null&&Number.isFinite(e)&&(!i||e>0)?e:null}const Wn=12;function nc(t){const{rows:e,config:r,scale:o,nullValue:i,forestWidth:a,pointSize:s,effects:c=[],pointCol:u,lowerCol:l,upperCol:d}=t,f=gd(e,r,o,i,c,u,l,d),h=vd(f,r,o,a,s),g=rc(f,r,o,i);return{axisLimits:f,plotRegion:h,ticks:g}}function gd(t,e,r,o,i=[],a,s,c){const u=e.rangeMin!=null,l=e.rangeMax!=null;if(u&&l)return[e.rangeMin,e.rangeMax];const d=[],f=r==="log",h=a||"point";for(const Q of t){const ht=Kn(Q.metadata,void 0,h,"point",f);ht!=null&&d.push(ht);for(const ot of i){const at=Kn(Q.metadata,void 0,ot.pointCol,"point",f);at!=null&&d.push(at)}}if(d.length===0)return r==="log"?[.1,10]:[-1,1];let g=Math.min(...d),v=Math.max(...d);(e.includeNull??!0)&&(g=Math.min(g,o),v=Math.max(v,o));const x=g,y=v;let b;if(f){const Q=Math.max(g,.001),ht=Math.max(v,.001);b=Math.log(ht)-Math.log(Q)}else b=v-g;if(b===0||!Number.isFinite(b)){const Q=d[0];if(f)return da([Q/2,Q*2],!0);{const ht=Math.max(1,Math.abs(Q)*.1);return da([Q-ht,Q+ht],!1)}}const[N,H]=da([g,v],f),w=e.ciClipFactor??2;let k=N,S=H;const E=[],P=[],A=s||"lower",W=c||"upper";for(const Q of t){const ht=Kn(Q.metadata,void 0,A,"lower",f);ht!=null&&E.push(ht);const ot=Kn(Q.metadata,void 0,W,"upper",f);ot!=null&&P.push(ot);for(const at of i){const et=Kn(Q.metadata,void 0,at.lowerCol,"lower",f);et!=null&&E.push(et);const ct=Kn(Q.metadata,void 0,at.upperCol,"upper",f);ct!=null&&P.push(ct)}}let T,B;if(f)T=k/w,B=S*w;else{const Q=S-k;T=k-Q*w,B=S+Q*w}let L=!1,K=!1;for(const Q of E)Q>=T?k=Math.min(k,Q):L=!0;for(const Q of P)Q<=B?S=Math.max(S,Q):K=!0;if(L&&(k=Math.min(k,T)),K&&(S=Math.max(S,B)),e.symmetric===!0&&!u&&!l)if(r==="log"){const Q=Math.log(o),ht=Math.max(Math.abs(Math.log(Math.max(x,.001))-Q),Math.abs(Math.log(y)-Q));k=Math.exp(Q-ht),S=Math.exp(Q+ht)}else{const Q=Math.max(Math.abs(x-o),Math.abs(y-o));k=o-Q,S=o+Q}let $=u?e.rangeMin:k,O=l?e.rangeMax:S;return da([$,O],r==="log")}function vd(t,e,r,o,i){if(!(e.markerMargin??!0)||o<=0)return t;const s=o-2*Wn;if(s<=0)return t;if(r==="log"){const l=Math.log(Math.max(t[0],.001)),d=Math.log(Math.max(t[1],.001)),f=d-l,h=i/2*(f/s),g=Math.min(h,.5);return[Math.exp(l-g),Math.exp(d+g)]}const c=t[1]-t[0],u=i/2*(c/s);return[t[0]-u,t[1]+u]}function rc(t,e,r,o){const[i,a]=t,s=o>=i&&o<=a,c=(e.nullTick??!0)&&s;if(e.tickValues&&e.tickValues.length>0){let d=e.tickValues.filter(f=>f>=i&&f<=a);return c&&!d.includes(o)&&(d=[...d,o].sort((f,h)=>f-h)),d}const u=e.tickCount??5;let l=r==="log"?md(t,u):pd(t,u);return c&&!l.includes(o)&&(l=[...l,o].sort((d,f)=>d-f)),l}function pd(t,e){const[r,o]=t,i=o-r;if(i===0)return[r];const a=i/Math.max(e-1,1),s=Math.pow(10,Math.floor(Math.log10(a)));let c=s,u=1/0;for(const f of ec){const h=f*s,g=Math.floor(i/h)+1,v=Math.abs(g-e);v<u&&(u=v,c=h);const _=f*s/10;if(_>0){const x=Math.floor(i/_)+1,y=Math.abs(x-e);y<u&&(u=y,c=_)}}const l=Math.ceil(r/c)*c,d=[];for(let f=l;f<=o+c*.001;f+=c){const h=Math.round(f*1e10)/1e10;h>=r&&h<=o&&d.push(h)}return d.length<2&&(d.includes(r)||d.unshift(r),d.includes(o)||d.push(o)),d}function md(t,e){const[r,o]=t,a=[.01,.02,.05,.1,.15,.2,.25,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.75,2,2.5,3,4,5,6,7,8,10,12,15,20,25,30,40,50,75,100,150,200,500,1e3].filter(u=>u>=r&&u<=o);if(a.length<=e)return a;const s=[1,.1,10,100,.5,2,5,.2,.25,1.5,3,4,20,50],c=[];for(const u of s)a.includes(u)&&c.length<e&&c.push(u);if(c.length<e){const u=a.filter(d=>!c.includes(d)),l=Math.max(1,Math.floor(u.length/(e-c.length)));for(let d=0;d<u.length&&c.length<e;d+=l)c.push(u[d])}return c.sort((u,l)=>u-l)}const yd=.05,_d=.12,xd=.16,wd=.22,Qn={RENDERING_BUFFER:4,DEFAULT_AXIS_GAP:12},kr={FONT_SCALE:.8,PADDING:4,GAP:6},Cr={DEFAULT_COLUMN_WIDTH:100,AXIS_HEIGHT:32,AXIS_LABEL_HEIGHT:32,BOTTOM_MARGIN:16,MIN_FOREST_WIDTH:200,DEFAULT_WIDTH:800},Tr={TITLE_HEIGHT:28,SUBTITLE_HEIGHT:20,CAPTION_HEIGHT:16,FOOTNOTE_HEIGHT:14,DEFAULT_FONT_SIZE:14,REM_BASE:16,PT_TO_PX:96/72},Te={INDENT_PER_LEVEL:12,TEXT_PADDING:10,DEFAULT_TICK_COUNT:5},bd={OVERALL_ROW_HEIGHT_MULTIPLIER:1.5},Jn={MIN:60,MAX:600,LABEL_MAX:400,VISUAL_MIN:{sparkline:92,bar:100,stars:84,range:84,badge:74,forest:200,viz_bar:150,viz_boxplot:150,viz_violin:150}},ro={CHEVRON_WIDTH:12,GAP:6,SAFETY_MARGIN:8},oc={SPACING:6},vs={EDGE_THRESHOLD:35,MIN_TICK_SPACING:50},Ii={success:"#16a34a",warning:"#d97706",error:"#dc2626",info:"#2563eb"};function ic(t,e){return e<=1?0:-((e-1)*oc.SPACING)/2+t*oc.SPACING}Ye[D]="src/components/forest/RowInterval.svelte";var Md=V(It('<polygon stroke-width="1" class="point-estimate svelte-1wct561"></polygon>'),Ye[D],[[251,10]]),Sd=V(It("<path></path>"),Ye[D],[[276,12]]),Ed=V(It("<line></line>"),Ye[D],[[282,12]]),kd=V(It("<path></path>"),Ye[D],[[293,12]]),Cd=V(It("<line></line>"),Ye[D],[[299,12]]),Td=V(It('<circle class="point-estimate svelte-1wct561"></circle>'),Ye[D],[[314,12]]),Nd=V(It('<polygon class="point-estimate svelte-1wct561"></polygon>'),Ye[D],[[329,12]]),Hd=V(It('<polygon class="point-estimate svelte-1wct561"></polygon>'),Ye[D],[[341,12]]),Ad=V(It('<rect class="point-estimate svelte-1wct561"></rect>'),Ye[D],[[349,12]]),Wd=V(It("<line></line><!><!><!>",1),Ye[D],[[266,10]]),Rd=V(It('<g class="interval-row svelte-1wct561" role="button" tabindex="0"></g>'),Ye[D],[[218,2]]);function Ye(t,e){we(new.target),ge(e,!0,Ye);let r=Vn(e,"weightCol",3,null),o=Vn(e,"isLog",3,!1),i=Vn(e,"forestColumnOptions",3,null);const a=p(m(()=>tc(e.theme)),"arrowConfig"),s=p(m(()=>{if(!i())return[];const S=M(i().scale,"log")||o();if(i().point&&i().lower&&i().upper){const E=e.row.metadata[i().point],P=e.row.metadata[i().lower],A=e.row.metadata[i().upper],W=!S||fe(E,null,!1)&&E>0?E:null,T=!S||fe(P,null,!1)&&P>0?P:null,B=!S||fe(A,null,!1)&&A>0?A:null;return[{id:"inline",pointCol:i().point,lowerCol:i().lower,upperCol:i().upper,label:null,color:null,shape:null,opacity:null,point:W,lower:T,upper:B}]}return i().effects&&i().effects.length>0?i().effects.map(E=>({...E,point:Kn(e.row.metadata,null,E.pointCol,"point",S),lower:Kn(e.row.metadata,null,E.lowerCol,"lower",S),upper:Kn(e.row.metadata,null,E.upperCol,"upper",S)})):[]}),"effectsToRender"),c=p(m(()=>n(s).some(S=>fe(S.point,null,!1)&&!Number.isNaN(S.point)&&fe(S.lower,null,!1)&&!Number.isNaN(S.lower)&&fe(S.upper,null,!1)&&!Number.isNaN(S.upper))),"hasAnyValidValues"),u=p(m(()=>{var S;return M((S=e.row.style)==null?void 0:S.type,"summary")}),"isSummaryRow");function l(S){return e.clipBounds?S<e.clipBounds[0]:e.xScale(S)<0}function d(S){return e.clipBounds?S>e.clipBounds[1]:e.xScale(S)>e.layout.forestWidth}function f(S){if(!e.clipBounds)return Math.max(0,Math.min(e.layout.forestWidth,e.xScale(S)));const E=Math.max(e.clipBounds[0],Math.min(e.clipBounds[1],S));return e.xScale(E)}const h=p(m(()=>e.clipBounds?e.xScale(e.clipBounds[0]):Wn),"leftArrowX"),g=p(m(()=>e.clipBounds?e.xScale(e.clipBounds[1]):e.layout.forestWidth-Wn),"rightArrowX"),v=p(m(()=>{var S;return((S=e.theme)==null?void 0:S.shapes.summaryHeight)??10}),"diamondHeight"),_=p(m(()=>n(v)/2),"halfDiamondHeight"),x=p(m(()=>{var S;return((S=e.theme)==null?void 0:S.shapes.pointSize)??6}),"basePointSize");function y(S){var P;if(S&&fe((P=e.row.markerStyle)==null?void 0:P.size,null,!1))return n(x)*e.row.markerStyle.size;const E=r()?e.row.metadata[r()]:void 0;if(E){const A=.5+Math.sqrt(E/100)*1.5;return Math.min(Math.max(n(x)*A,3),n(x)*2.5)}return n(x)}function b(S,E){var $,O,Q,ht;const P=M(E,0),A=e.row.markerStyle,W=($=e.theme)==null?void 0:$.shapes.effectColors,T=(O=e.theme)==null?void 0:O.shapes.markerShapes,B=["square","circle","diamond","triangle"];let L;P&&(A!=null&&A.color)?L=A.color:S.color?L=S.color:W&&W.length>0?L=W[E%W.length]:L=((Q=e.theme)==null?void 0:Q.colors.interval)??((ht=e.theme)==null?void 0:ht.colors.primary)??"#2563eb";let K;P&&(A!=null&&A.shape)?K=A.shape:S.shape?K=S.shape:T&&T.length>0?K=T[E%T.length]:K=B[E%B.length];let Z;return P&&fe(A==null?void 0:A.opacity,null,!1)?Z=A.opacity:fe(S.opacity,null,!1)?Z=S.opacity:Z=1,{color:L,shape:K,opacity:Z}}var N={...be()},H=Et(),w=yt(H);{var k=S=>{var E=Rd();E.__click=function(...P){ur(()=>e.onRowClick,this,P,Ye,[222,13])},E.__keydown=P=>{var A;return M(P.key,"Enter")&&((A=e.onRowClick)==null?void 0:A.call(e))},I(()=>Ie(E,21,()=>n(s),Zn,(P,A,W)=>{const T=p(m(()=>fe(n(A).point,null,!1)&&!Number.isNaN(n(A).point)&&fe(n(A).lower,null,!1)&&!Number.isNaN(n(A).lower)&&fe(n(A).upper,null,!1)&&!Number.isNaN(n(A).upper)),"hasValidEffect");n(T);var B=Et(),L=yt(B);{var K=Z=>{const $=p(m(()=>e.yPosition+ic(W,n(s).length)),"effectY");n($);const O=p(m(()=>e.xScale(n(A).lower)),"x1");n(O);const Q=p(m(()=>e.xScale(n(A).upper)),"x2");n(Q);const ht=p(m(()=>e.xScale(n(A).point)),"cx");n(ht);const ot=p(m(()=>b(n(A),W)),"style");n(ot);const at=p(m(()=>y(M(W,0))),"pointSize");n(at);const et=p(m(()=>{var bt;return((bt=e.theme)==null?void 0:bt.colors.intervalLine)??"#475569"}),"lineColor");n(et);var ct=Et(),$t=yt(ct);{var Kt=bt=>{const ae=p(m(()=>[`${n(O)},${n($)}`,`${n(ht)},${n($)-n(_)}`,`${n(Q)},${n($)}`,`${n(ht)},${n($)+n(_)}`].join(" ")),"summaryDiamondPoints");n(ae);var ue=Md();tt(()=>{var re;R(ue,"points",n(ae)),R(ue,"fill",n(ot).color),R(ue,"fill-opacity",n(ot).opacity),R(ue,"stroke",((re=e.theme)==null?void 0:re.colors.summaryBorder)??"#1d4ed8")}),z(bt,ue)},gt=bt=>{const ae=p(m(()=>l(n(A).lower)),"clippedL");n(ae);const ue=p(m(()=>d(n(A).upper)),"clippedR");n(ue);const re=p(m(()=>f(n(A).lower)),"clampedX1");n(re);const en=p(m(()=>f(n(A).upper)),"clampedX2");n(en);const jt=p(m(()=>n(a).height/2),"whiskerHalfHeight");n(jt);const Pt=p(m(()=>f(n(A).point)),"clampedCx");n(Pt);var de=Wd(),xt=yt(de),Yt=nt(xt);{var qt=Ht=>{var kt=Sd();tt(oe=>{R(kt,"d",oe),R(kt,"fill",n(a).color),R(kt,"fill-opacity",n(a).opacity)},[()=>ua("left",n(h),n($),n(a))]),z(Ht,kt)},Ke=Ht=>{var kt=Ed();tt(()=>{var oe;R(kt,"x1",n(re)),R(kt,"x2",n(re)),R(kt,"y1",n($)-n(jt)),R(kt,"y2",n($)+n(jt)),R(kt,"stroke",n(et)),R(kt,"stroke-width",((oe=e.theme)==null?void 0:oe.shapes.lineWidth)??1.5)}),z(Ht,kt)};I(()=>j(Yt,Ht=>{n(ae)?Ht(qt):Ht(Ke,!1)}),"if",Ye,275,10)}var yr=nt(Yt);{var ar=Ht=>{var kt=kd();tt(oe=>{R(kt,"d",oe),R(kt,"fill",n(a).color),R(kt,"fill-opacity",n(a).opacity)},[()=>ua("right",n(g),n($),n(a))]),z(Ht,kt)},Ct=Ht=>{var kt=Cd();tt(()=>{var oe;R(kt,"x1",n(en)),R(kt,"x2",n(en)),R(kt,"y1",n($)-n(jt)),R(kt,"y2",n($)+n(jt)),R(kt,"stroke",n(et)),R(kt,"stroke-width",((oe=e.theme)==null?void 0:oe.shapes.lineWidth)??1.5)}),z(Ht,kt)};I(()=>j(yr,Ht=>{n(ue)?Ht(ar):Ht(Ct,!1)}),"if",Ye,292,10)}var vt=nt(yr);{var je=Ht=>{var kt=Td();tt(()=>{R(kt,"cx",n(Pt)),R(kt,"cy",n($)),R(kt,"r",n(at)),R(kt,"fill",n(ot).color),R(kt,"fill-opacity",n(ot).opacity)}),z(Ht,kt)},Le=Ht=>{var kt=Et(),oe=yt(kt);{var qe=ze=>{const Qe=p(m(()=>[`${n(Pt)},${n($)-n(at)}`,`${n(Pt)+n(at)},${n($)}`,`${n(Pt)},${n($)+n(at)}`,`${n(Pt)-n(at)},${n($)}`].join(" ")),"diamondPts");n(Qe);var ln=Nd();tt(()=>{R(ln,"points",n(Qe)),R(ln,"fill",n(ot).color),R(ln,"fill-opacity",n(ot).opacity)}),z(ze,ln)},Je=ze=>{var Qe=Et(),ln=yt(Qe);{var qn=Xe=>{const nn=p(m(()=>[`${n(Pt)},${n($)-n(at)}`,`${n(Pt)+n(at)},${n($)+n(at)}`,`${n(Pt)-n(at)},${n($)+n(at)}`].join(" ")),"trianglePts");n(nn);var En=Hd();tt(()=>{R(En,"points",n(nn)),R(En,"fill",n(ot).color),R(En,"fill-opacity",n(ot).opacity)}),z(Xe,En)},De=Xe=>{var nn=Ad();tt(()=>{R(nn,"x",n(Pt)-n(at)),R(nn,"y",n($)-n(at)),R(nn,"width",n(at)*2),R(nn,"height",n(at)*2),R(nn,"fill",n(ot).color),R(nn,"fill-opacity",n(ot).opacity)}),z(Xe,nn)};I(()=>j(ln,Xe=>{M(n(ot).shape,"triangle")?Xe(qn):Xe(De,!1)},!0),"if",Ye,335,10)}z(ze,Qe)};I(()=>j(oe,ze=>{M(n(ot).shape,"diamond")?ze(qe):ze(Je,!1)},!0),"if",Ye,322,10)}z(Ht,kt)};I(()=>j(vt,Ht=>{M(n(ot).shape,"circle")?Ht(je):Ht(Le,!1)}),"if",Ye,313,10)}tt(()=>{var Ht;R(xt,"x1",n(re)),R(xt,"x2",n(en)),R(xt,"y1",n($)),R(xt,"y2",n($)),R(xt,"stroke",n(et)),R(xt,"stroke-width",((Ht=e.theme)==null?void 0:Ht.shapes.lineWidth)??1.5)}),z(bt,de)};I(()=>j($t,bt=>{n(u)?bt(Kt):bt(gt,!1)}),"if",Ye,240,8)}z(Z,ct)};I(()=>j(L,Z=>{n(T)&&Z(K)}),"if",Ye,231,6)}z(P,B)}),"each",Ye,227,4),Gn("mouseenter",E,P=>{var A;return(A=e.onRowHover)==null?void 0:A.call(e,!0,P)}),Gn("mouseleave",E,P=>{var A;return(A=e.onRowHover)==null?void 0:A.call(e,!1,P)}),z(S,E)};I(()=>j(w,S=>{n(c)&&S(k)}),"if",Ye,217,0)}return z(t,H),ve(N)}to(["click","keydown"]),Rn[D]="src/components/forest/EffectAxis.svelte";function Id(t){return Math.abs(t)<.01?"0":Math.abs(t)>=100?t.toFixed(0):Math.abs(t)>=10?t.toFixed(1):t.toFixed(2)}var zd=V(It('<line stroke="var(--wf-border, #e2e8f0)" stroke-width="1" opacity="0.5"></line>'),Rn[D],[[171,6]]),Fd=V(It('<g><line stroke="var(--wf-border, #e2e8f0)" stroke-width="1"></line><text fill="var(--wf-secondary, #64748b)" font-size="var(--wf-font-size-sm, 0.75rem)" class="svelte-hf6bj6"> </text></g>'),Rn[D],[[187,4,[[188,6],[194,6]]]]),Pd=V(It('<text text-anchor="middle" fill="var(--wf-secondary, #64748b)" font-size="var(--wf-font-size-sm, 0.75rem)" font-weight="500" class="svelte-hf6bj6"> </text>'),Rn[D],[[208,4]]),Ld=V(It('<g class="effect-axis svelte-hf6bj6"><line stroke="var(--wf-border, #e2e8f0)" stroke-width="1"></line><!><!><!></g>'),Rn[D],[[157,0,[[159,2]]]]);function Rn(t,e){we(new.target),ge(e,!0,Rn);let r=Vn(e,"position",3,"bottom"),o=Vn(e,"plotHeight",3,0);const i=p(m(()=>{var S;return(S=e.theme)==null?void 0:S.axis}),"axisConfig"),a=p(m(()=>{var S;return e.gridlines??((S=n(i))==null?void 0:S.gridlines)??!1}),"showGridlines"),s=p(m(()=>{var S;return((S=n(i))==null?void 0:S.gridlineStyle)??"dotted"}),"gridlineStyle"),c=35,u=p(m(()=>{var S;return((S=n(i))==null?void 0:S.nullTick)??!0}),"shouldIncludeNullTick"),l=p(m(()=>{var $t,Kt;const[S,E]=e.xScale.domain(),P=e.layout.nullValue,A=P>=S&&P<=E;if(($t=n(i))!=null&&$t.tickValues&&n(i).tickValues.length>0){let gt=n(i).tickValues.filter(bt=>bt>=S&&bt<=E);return n(u)&&A&&!gt.includes(P)&&(gt=[...gt,P].sort((bt,ae)=>bt-ae)),gt}const W=50,T=Math.max(2,Math.floor(e.layout.forestWidth/W)),L=((Kt=n(i))==null?void 0:Kt.tickCount)??null??Math.min(7,T),K=e.baseTicks&&e.baseTicks.length>0?e.baseTicks.filter(gt=>gt>=S&&gt<=E):e.xScale.ticks(L);if(M(K.length,0))return n(u)&&A?[P]:[];const Z=e.xScale(P),$=K.filter(gt=>gt<P).reverse(),O=K.filter(gt=>gt>P),Q=K.some(gt=>M(gt,P)),ht=[];let ot=Z;for(const gt of $){const bt=e.xScale(gt);ot-bt>=W&&(ht.unshift(gt),ot=bt)}const at=[];let et=Z;for(const gt of O){const bt=e.xScale(gt);bt-et>=W&&(at.push(gt),et=bt)}const ct=[...ht];if((Q||n(u)&&A)&&ct.push(P),ct.push(...at),ct.length<2){const gt=new Set(ct);gt.has(S)||ct.unshift(S),ct.length<2&&!gt.has(E)&&ct.push(E)}return ct}),"ticks"),d=p(m(()=>M(r(),"bottom")?0:e.layout.headerHeight-8),"axisY"),f=p(m(()=>M(r(),"bottom")),"isBottom"),h=p(m(()=>M(n(s),"dashed")?"4,4":M(n(s),"dotted")?"2,2":"none"),"gridlineDashArray");function g(S){return S<c?"start":S>e.layout.forestWidth-c?"end":"middle"}function v(S){return S<c?2:S>e.layout.forestWidth-c?-2:0}var _={...be()},x=Ld(),y=Y(x),b=nt(y);{var N=S=>{var E=Et(),P=yt(E);Sn(()=>n(l),A=>A),I(()=>Ie(P,16,()=>n(l),A=>A,(A,W)=>{var T=zd();tt((B,L)=>{R(T,"x1",B),R(T,"x2",L),R(T,"y1",(n(f),n(d))),R(T,"y2",n(f)?-o():o()),R(T,"stroke-dasharray",n(h))},[()=>e.xScale(W),()=>e.xScale(W)]),z(A,T)}),"each",Rn,170,4),z(S,E)};I(()=>j(b,S=>{n(a)&&o()>0&&S(N)}),"if",Rn,169,2)}var H=nt(b);Sn(()=>n(l),S=>S),I(()=>Ie(H,16,()=>n(l),S=>S,(S,E)=>{const P=p(m(()=>e.xScale(E)),"tickX");n(P);var A=Fd(),W=Y(A),T=nt(W),B=Y(T,!0);tt((L,K,Z)=>{R(A,"transform",`translate(${n(P)??""}, 0)`),R(W,"y1",n(f)?n(d):n(d)-4),R(W,"y2",n(f)?n(d)+4:n(d)),R(T,"x",L),R(T,"y",n(f)?n(d)+16:n(d)-8),R(T,"text-anchor",K),Ot(B,Z)},[()=>v(n(P)),()=>g(n(P)),()=>Id(E)]),z(S,A)}),"each",Rn,185,2);var w=nt(H);{var k=S=>{var E=Pd(),P=Y(E);tt(()=>{R(E,"x",e.layout.forestWidth/2),R(E,"y",n(f)?n(d)+28:n(d)-24),Ot(P,e.axisLabel)}),z(S,E)};I(()=>j(w,S=>{e.axisLabel&&S(k)}),"if",Rn,207,2)}return tt((S,E)=>{R(y,"x1",S),R(y,"x2",E),R(y,"y1",n(d)),R(y,"y2",n(d))},[()=>e.xScale.range()[0],()=>e.xScale.range()[1]]),z(t,x),ve(_)}oo[D]="src/components/forest/SummaryDiamond.svelte";var Dd=V(It('<path fill="var(--wf-summary-fill, #2563eb)"></path>'),oo[D],[[58,4]]),Bd=V(It('<path fill="var(--wf-summary-fill, #2563eb)"></path>'),oo[D],[[66,4]]),Gd=V(It('<g class="summary-diamond svelte-1g0hzau"><polygon fill="var(--wf-summary-fill, #2563eb)" stroke="var(--wf-summary-border, #1d4ed8)" stroke-width="1" class="svelte-1g0hzau"></polygon><!><!></g>'),oo[D],[[47,0,[[49,2]]]]);function oo(t,e){we(new.target),ge(e,!0,oo);const r=p(m(()=>{var v;return((v=e.theme)==null?void 0:v.shapes.summaryHeight)??10}),"diamondHeight"),o=p(m(()=>n(r)/2),"halfHeight"),i=p(m(()=>{const v=e.xScale(e.lower),_=e.xScale(e.point),x=e.xScale(e.upper),y=0,b=e.layout.forestWidth,N=Math.max(y,v),H=Math.min(b,x);return[[N,e.yPosition].join(","),[_,e.yPosition-n(o)].join(","),[H,e.yPosition].join(","),[_,e.yPosition+n(o)].join(",")].join(" ")}),"points"),a=p(m(()=>e.xScale(e.lower)<0),"clippedLeft"),s=p(m(()=>e.xScale(e.upper)>e.layout.forestWidth),"clippedRight");var c={...be()},u=Gd(),l=Y(u),d=nt(l);{var f=v=>{var _=Dd();tt(()=>R(_,"d",`M 4 ${e.yPosition??""} L 10 ${e.yPosition-4} L 10 ${e.yPosition+4} Z`)),z(v,_)};I(()=>j(d,v=>{n(a)&&v(f)}),"if",oo,57,2)}var h=nt(d);{var g=v=>{var _=Bd();tt(()=>R(_,"d",`M ${e.layout.forestWidth-4} ${e.yPosition??""} L ${e.layout.forestWidth-10} ${e.yPosition-4} L ${e.layout.forestWidth-10} ${e.yPosition+4} Z`)),z(v,_)};I(()=>j(h,v=>{n(s)&&v(g)}),"if",oo,65,2)}return tt(()=>R(l,"points",n(i))),z(t,u),ve(c)}tr[D]="src/components/forest/PlotHeader.svelte";var Vd=V(lt('<h2 class="plot-title svelte-xpghc"> </h2>'),tr[D],[[17,8]]),Od=V(lt('<p class="plot-subtitle svelte-xpghc"> </p>'),tr[D],[[20,8]]),jd=V(lt('<div class="controls-area svelte-xpghc"><!></div>'),tr[D],[[24,6]]),qd=V(lt('<div><div class="title-area svelte-xpghc"><!> <!></div> <!></div>'),tr[D],[[14,2,[[15,4]]]]);function tr(t,e){we(new.target),ge(e,!0,tr);var r={...be()},o=Et(),i=yt(o);{var a=s=>{var c=qd();let u;var l=Y(c),d=Y(l);{var f=x=>{var y=Vd(),b=Y(y);tt(()=>Ot(b,e.title)),z(x,y)};I(()=>j(d,x=>{e.title&&x(f)}),"if",tr,16,6)}var h=nt(d,2);{var g=x=>{var y=Od(),b=Y(y);tt(()=>Ot(b,e.subtitle)),z(x,y)};I(()=>j(h,x=>{e.subtitle&&x(g)}),"if",tr,19,6)}var v=nt(l,2);{var _=x=>{var y=jd(),b=Y(y);I(()=>Ju(b,()=>e.controls),"render",tr,25,8),z(x,y)};I(()=>j(v,x=>{e.controls&&x(_)}),"if",tr,23,4)}tt(()=>u=pn(c,1,"header-area svelte-xpghc",null,u,{"has-both":e.title&&e.subtitle})),z(s,c)};I(()=>j(i,s=>{(e.title||e.subtitle)&&s(a)}),"if",tr,13,0)}return z(t,o),ve(r)}Vr[D]="src/components/forest/PlotFooter.svelte";var Xd=V(lt('<p class="plot-caption svelte-7xjsde"> </p>'),Vr[D],[[13,6]]),Ud=V(lt('<p class="plot-footnote svelte-7xjsde"> </p>'),Vr[D],[[16,6]]),$d=V(lt('<div class="plot-footer svelte-7xjsde"><!> <!></div>'),Vr[D],[[11,2]]);function Vr(t,e){we(new.target),ge(e,!0,Vr);var r={...be()},o=Et(),i=yt(o);{var a=s=>{var c=$d(),u=Y(c);{var l=h=>{var g=Xd(),v=Y(g);tt(()=>Ot(v,e.caption)),z(h,g)};I(()=>j(u,h=>{e.caption&&h(l)}),"if",Vr,12,4)}var d=nt(u,2);{var f=h=>{var g=Ud(),v=Y(g);tt(()=>Ot(v,e.footnote)),z(h,g)};I(()=>j(d,h=>{e.footnote&&h(f)}),"if",Vr,15,4)}z(s,c)};I(()=>j(i,s=>{(e.caption||e.footnote)&&s(a)}),"if",Vr,10,0)}return z(t,o),ve(r)}Ko[D]="src/components/forest/GroupHeader.svelte";var Yd=V(lt('<span class="group-count svelte-16smacw"> </span>'),Ko[D],[[64,4]]),Zd=V(lt('<div><span><svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path d="M2 4L6 8L10 4" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg></span> <span class="group-label svelte-16smacw"> </span> <!></div>'),Ko[D],[[49,0,[[57,2,[[58,4,[[59,6]]]]],[62,2]]]]);function Ko(t,e){we(new.target),ge(e,!0,Ko);let r=Vn(e,"level",3,1);function o(_,x){const y=x==null?void 0:x.groupHeaders;return y?M(_,1)?{fontSize:y.level1FontSize,fontWeight:y.level1FontWeight,italic:y.level1Italic,borderBottom:y.level1BorderBottom}:M(_,2)?{fontSize:y.level2FontSize,fontWeight:y.level2FontWeight,italic:y.level2Italic,borderBottom:y.level2BorderBottom}:{fontSize:y.level3FontSize,fontWeight:y.level3FontWeight,italic:y.level3Italic,borderBottom:y.level3BorderBottom}:{fontSize:void 0,fontWeight:void 0,italic:!1,borderBottom:!1}}const i=p(m(()=>o(r(),e.theme)),"levelStyles");var a={...be()},s=Zd();let c,u;var l=Y(s);let d;var f=nt(l,2),h=Y(f),g=nt(f,2);{var v=_=>{var x=Yd(),y=Y(x);tt(()=>Ot(y,`(${e.rowCount??""})`)),z(_,x)};I(()=>j(g,_=>{M(e.rowCount,void 0,!1)&&_(v)}),"if",Ko,63,2)}return tt(()=>{c=pn(s,1,"group-header svelte-16smacw",null,c,{"has-border":n(i).borderBottom,italic:n(i).italic}),R(s,"aria-expanded",!e.group.collapsed),u=Me(s,"",u,{"font-size":n(i).fontSize,"font-weight":n(i).fontWeight}),d=pn(l,1,"group-chevron svelte-16smacw",null,d,{collapsed:e.group.collapsed}),Ot(h,e.group.label)}),z(t,s),ve(a)}wo[D]="src/components/ui/Tooltip.svelte";var Kd=V(lt('<div class="tooltip-row svelte-c43bsi"><span class="tooltip-label svelte-c43bsi"> </span> <span class="tooltip-value svelte-c43bsi"> </span></div>'),wo[D],[[77,8,[[78,10],[79,10]]]]),Qd=V(lt('<div class="tabviz-tooltip svelte-c43bsi"><div class="tooltip-header svelte-c43bsi"> </div> <div class="tooltip-body svelte-c43bsi"><div class="tooltip-row tooltip-estimate svelte-c43bsi"><span class="tooltip-label svelte-c43bsi">Estimate</span> <span class="tooltip-value svelte-c43bsi"> </span></div> <!></div></div>'),wo[D],[[67,2,[[68,4],[69,4,[[70,6,[[71,8],[72,8]]]]]]]]);function wo(t,e){we(new.target),ge(e,!0,wo);let r=Vn(e,"fields",3,null),o=p(St(void 0),"tooltipEl");function i(h){return M(h,null)||M(h,void 0)?"—":M(typeof h,"number")?Number.isInteger(h)?h.toString():h.toFixed(3):String(h)}const a=p(m(()=>!e.row||!r()||M(r().length,0)?[]:Object.entries(e.row.metadata).filter(([g])=>r().includes(g))),"displayFields"),s=p(m(()=>{if(!e.position)return"";const h=220,g=100,v=10;let _=e.position.x+v,x=e.position.y-v;const y=M(typeof window,"undefined",!1)?window.innerWidth:1e3;return M(typeof window,"undefined",!1)&&window.innerHeight,_+h>y-v&&(_=e.position.x-h-v),x-g<v?(x=e.position.y+v,`left: ${_}px; top: ${x}px; transform: none;`):`left: ${_}px; top: ${x}px;`}),"positionStyle"),c=p(m(()=>e.row&&e.position&&r()&&r().length>0),"shouldShow");var u={...be()},l=Et(),d=yt(l);{var f=h=>{var g=Qd(),v=Y(g),_=Y(v),x=nt(v,2),y=Y(x),b=nt(Y(y),2),N=Y(b),H=nt(y,2);Sn(()=>n(a),([w,k])=>w),I(()=>Ie(H,17,()=>n(a),([w,k])=>w,(w,k)=>{var S=m(()=>Oa(n(k),2));let E=()=>n(S)[0];E();let P=()=>n(S)[1];P();var A=Kd(),W=Y(A),T=Y(W,!0);var B=nt(W,2),L=Y(B,!0);tt(K=>{Ot(T,E()),Ot(L,K)},[()=>i(P())]),z(w,A)}),"each",wo,76,6),no(g,w=>st(o,w),()=>n(o)),tt((w,k,S)=>{Me(g,n(s)),Ot(_,e.row.label),Ot(N,`${w??""} (${k??""}, ${S??""})`)},[()=>i(e.row.point),()=>i(e.row.lower),()=>i(e.row.upper)]),z(h,g)};I(()=>j(d,h=>{n(c)&&h(f)}),"if",wo,66,0)}return z(t,l),ve(u)}bo[D]="src/components/table/CellBar.svelte";var Jd=V(lt('<span class="bar-label svelte-1l4k3z2"> </span>'),bo[D],[[39,6]]),th=V(lt('<div class="cell-bar svelte-1l4k3z2"><div class="bar-track svelte-1l4k3z2"><div class="bar-fill svelte-1l4k3z2"></div></div> <!></div>'),bo[D],[[30,2,[[31,4,[[32,6]]]]]]);function bo(t,e){we(new.target),ge(e,!0,bo);let r=Vn(e,"maxValue",3,100);const o=p(m(()=>{var h;return((h=e.options)==null?void 0:h.maxValue)??r()}),"effectiveMax"),i=p(m(()=>{var h;return((h=e.options)==null?void 0:h.showLabel)??!0}),"showLabel"),a=p(m(()=>{var h;return((h=e.options)==null?void 0:h.color)??"var(--wf-primary, #2563eb)"}),"barColor"),s=p(m(()=>()=>M(e.value,void 0)||M(e.value,null)||n(o)<=0?0:Math.min(100,Math.max(0,e.value/n(o)*100))),"percentage"),c=p(m(()=>()=>M(e.value,void 0)||M(e.value,null)?"":e.value>=100?e.value.toFixed(0):e.value>=10?e.value.toFixed(1):e.value.toFixed(2)),"formattedValue");var u={...be()},l=Et(),d=yt(l);{var f=h=>{var g=th(),v=Y(g),_=Y(v);let x;var y=nt(v,2);{var b=N=>{var H=Jd(),w=Y(H);tt(k=>Ot(w,k),[()=>n(c)()]),z(N,H)};I(()=>j(y,N=>{n(i)&&N(b)}),"if",bo,38,4)}tt(N=>x=Me(_,"",x,N),[()=>({width:`${n(s)()??""}%`,"background-color":n(a)})]),z(h,g)};I(()=>j(d,h=>{M(e.value,void 0,!1)&&M(e.value,null,!1)&&h(f)}),"if",bo,29,0)}return z(t,l),ve(u)}Qo[D]="src/components/table/CellPvalue.svelte";var eh=V(lt('<span class="pvalue-stars svelte-1hymfkc"> </span>'),Qo[D],[[99,4]]),nh=V(lt('<span><span class="pvalue-number svelte-1hymfkc"> </span> <!></span>'),Qo[D],[[86,0,[[97,2]]]]);function Qo(t,e){we(new.target),ge(e,!0,Qo);const r=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.bold)??!1}),"isBold"),o=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.italic)??!1}),"isItalic"),i=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.color)??null}),"textColor"),a=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.bg)??null}),"bgColor"),s=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.emphasis)??!1}),"isEmphasis"),c=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.muted)??!1}),"isMuted"),u=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.accent)??!1}),"isAccent"),l={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻","+":"⁺"};function d(T){return T.split("").map(B=>l[B]??B).join("")}const f=p(m(()=>{var T;return((T=e.options)==null?void 0:T.stars)??!1}),"showStars"),h=p(m(()=>{var T;return((T=e.options)==null?void 0:T.thresholds)??[.05,.01,.001]}),"thresholds"),g=p(m(()=>{var T;return((T=e.options)==null?void 0:T.format)??"auto"}),"format"),v=p(m(()=>{var T;return((T=e.options)==null?void 0:T.digits)??2}),"digits"),_=p(m(()=>{var T;return((T=e.options)==null?void 0:T.expThreshold)??.001}),"expThreshold"),x=p(m(()=>{var T;return((T=e.options)==null?void 0:T.abbrevThreshold)??null}),"abbrevThreshold"),y=p(m(()=>{if(!n(f)||M(e.value,void 0)||M(e.value,null))return"";const[T,B,L]=n(h);return e.value<L?"***":e.value<B?"**":e.value<T?"*":""}),"stars"),b=p(m(()=>{if(M(e.value,void 0)||M(e.value,null))return"";if(M(n(x),null,!1)&&e.value<n(x))return`<${n(x)}`;if(M(n(g),"scientific")||M(n(g),"auto")&&e.value<n(_)){const T=Math.floor(Math.log10(e.value));return`${(e.value/Math.pow(10,T)).toPrecision(n(v))}×10${d(T.toString())}`}return e.value>=.1?e.value.toFixed(n(v)):e.value>=.01?e.value.toFixed(n(v)+1):e.value.toFixed(n(v)+2)}),"formattedValue"),N=p(m(()=>n(y).length>0),"isSignificant");var H={...be()},w=nh();let k,S;var E=Y(w),P=Y(E),A=nt(E,2);{var W=T=>{var B=eh(),L=Y(B);tt(()=>Ot(L,n(y))),z(T,B)};I(()=>j(A,T=>{n(y)&&T(W)}),"if",Qo,98,2)}return tt(()=>{k=pn(w,1,"cell-pvalue svelte-1hymfkc",null,k,{significant:n(N),"cell-bold":n(r),"cell-italic":n(o),"cell-emphasis":n(s),"cell-muted":n(c),"cell-accent":n(u)}),S=Me(w,"",S,{color:n(i),"background-color":n(a)}),Ot(P,n(b))}),z(t,w),ve(H)}function ha(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rh(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ac(t){let e,r,o;t.length!==2?(e=ha,r=(c,u)=>ha(t(c),u),o=(c,u)=>t(c)-u):(e=t===ha||t===rh?t:oh,r=t,o=t);function i(c,u,l=0,d=c.length){if(l<d){if(e(u,u)!==0)return d;do{const f=l+d>>>1;r(c[f],u)<0?l=f+1:d=f}while(l<d)}return l}function a(c,u,l=0,d=c.length){if(l<d){if(e(u,u)!==0)return d;do{const f=l+d>>>1;r(c[f],u)<=0?l=f+1:d=f}while(l<d)}return l}function s(c,u,l=0,d=c.length){const f=i(c,u,l,d-1);return f>l&&o(c[f-1],u)>-o(c[f],u)?f-1:f}return{left:i,center:s,right:a}}function oh(){return 0}function ih(t){return t===null?NaN:+t}const ah=ac(ha).right;ac(ih).center;const sh=Math.sqrt(50),lh=Math.sqrt(10),ch=Math.sqrt(2);function ga(t,e,r){const o=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(o)),a=o/Math.pow(10,i),s=a>=sh?10:a>=lh?5:a>=ch?2:1;let c,u,l;return i<0?(l=Math.pow(10,-i)/s,c=Math.round(t*l),u=Math.round(e*l),c/l<t&&++c,u/l>e&&--u,l=-l):(l=Math.pow(10,i)*s,c=Math.round(t/l),u=Math.round(e/l),c*l<t&&++c,u*l>e&&--u),u<c&&.5<=r&&r<2?ga(t,e,r*2):[c,u,l]}function ps(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const o=e<t,[i,a,s]=o?ga(e,t,r):ga(t,e,r);if(!(a>=i))return[];const c=a-i+1,u=new Array(c);if(o)if(s<0)for(let l=0;l<c;++l)u[l]=(a-l)/-s;else for(let l=0;l<c;++l)u[l]=(a-l)*s;else if(s<0)for(let l=0;l<c;++l)u[l]=(i+l)/-s;else for(let l=0;l<c;++l)u[l]=(i+l)*s;return u}function ms(t,e,r){return e=+e,t=+t,r=+r,ga(t,e,r)[2]}function fh(t,e,r){e=+e,t=+t,r=+r;const o=e<t,i=o?ms(e,t,r):ms(t,e,r);return(o?-1:1)*(i<0?1/-i:i)}function sc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ys(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function lc(t,e){var r=Object.create(t.prototype);for(var o in e)r[o]=e[o];return r}function zi(){}var Fi=.7,va=1/Fi,Jo="\\s*([+-]?\\d+)\\s*",Pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Nr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uh=/^#([0-9a-f]{3,8})$/,dh=new RegExp(`^rgb\\(${Jo},${Jo},${Jo}\\)$`),hh=new RegExp(`^rgb\\(${Nr},${Nr},${Nr}\\)$`),gh=new RegExp(`^rgba\\(${Jo},${Jo},${Jo},${Pi}\\)$`),vh=new RegExp(`^rgba\\(${Nr},${Nr},${Nr},${Pi}\\)$`),ph=new RegExp(`^hsl\\(${Pi},${Nr},${Nr}\\)$`),mh=new RegExp(`^hsla\\(${Pi},${Nr},${Nr},${Pi}\\)$`),cc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ys(zi,Li,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:fc,formatHex:fc,formatHex8:yh,formatHsl:_h,formatRgb:uc,toString:uc});function fc(){return this.rgb().formatHex()}function yh(){return this.rgb().formatHex8()}function _h(){return pc(this).formatHsl()}function uc(){return this.rgb().formatRgb()}function Li(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=uh.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?dc(e):r===3?new In(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?pa(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?pa(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=dh.exec(t))?new In(e[1],e[2],e[3],1):(e=hh.exec(t))?new In(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=gh.exec(t))?pa(e[1],e[2],e[3],e[4]):(e=vh.exec(t))?pa(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ph.exec(t))?vc(e[1],e[2]/100,e[3]/100,1):(e=mh.exec(t))?vc(e[1],e[2]/100,e[3]/100,e[4]):cc.hasOwnProperty(t)?dc(cc[t]):t==="transparent"?new In(NaN,NaN,NaN,0):null}function dc(t){return new In(t>>16&255,t>>8&255,t&255,1)}function pa(t,e,r,o){return o<=0&&(t=e=r=NaN),new In(t,e,r,o)}function xh(t){return t instanceof zi||(t=Li(t)),t?(t=t.rgb(),new In(t.r,t.g,t.b,t.opacity)):new In}function _s(t,e,r,o){return arguments.length===1?xh(t):new In(t,e,r,o??1)}function In(t,e,r,o){this.r=+t,this.g=+e,this.b=+r,this.opacity=+o}ys(In,_s,lc(zi,{brighter(t){return t=t==null?va:Math.pow(va,t),new In(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Fi:Math.pow(Fi,t),new In(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new In(Mo(this.r),Mo(this.g),Mo(this.b),ma(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hc,formatHex:hc,formatHex8:wh,formatRgb:gc,toString:gc}));function hc(){return`#${So(this.r)}${So(this.g)}${So(this.b)}`}function wh(){return`#${So(this.r)}${So(this.g)}${So(this.b)}${So((isNaN(this.opacity)?1:this.opacity)*255)}`}function gc(){const t=ma(this.opacity);return`${t===1?"rgb(":"rgba("}${Mo(this.r)}, ${Mo(this.g)}, ${Mo(this.b)}${t===1?")":`, ${t})`}`}function ma(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Mo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function So(t){return t=Mo(t),(t<16?"0":"")+t.toString(16)}function vc(t,e,r,o){return o<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new dr(t,e,r,o)}function pc(t){if(t instanceof dr)return new dr(t.h,t.s,t.l,t.opacity);if(t instanceof zi||(t=Li(t)),!t)return new dr;if(t instanceof dr)return t;t=t.rgb();var e=t.r/255,r=t.g/255,o=t.b/255,i=Math.min(e,r,o),a=Math.max(e,r,o),s=NaN,c=a-i,u=(a+i)/2;return c?(e===a?s=(r-o)/c+(r<o)*6:r===a?s=(o-e)/c+2:s=(e-r)/c+4,c/=u<.5?a+i:2-a-i,s*=60):c=u>0&&u<1?0:s,new dr(s,c,u,t.opacity)}function bh(t,e,r,o){return arguments.length===1?pc(t):new dr(t,e,r,o??1)}function dr(t,e,r,o){this.h=+t,this.s=+e,this.l=+r,this.opacity=+o}ys(dr,bh,lc(zi,{brighter(t){return t=t==null?va:Math.pow(va,t),new dr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fi:Math.pow(Fi,t),new dr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,o=r+(r<.5?r:1-r)*e,i=2*r-o;return new In(xs(t>=240?t-240:t+120,i,o),xs(t,i,o),xs(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new dr(mc(this.h),ya(this.s),ya(this.l),ma(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ma(this.opacity);return`${t===1?"hsl(":"hsla("}${mc(this.h)}, ${ya(this.s)*100}%, ${ya(this.l)*100}%${t===1?")":`, ${t})`}`}}));function mc(t){return t=(t||0)%360,t<0?t+360:t}function ya(t){return Math.max(0,Math.min(1,t||0))}function xs(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const ws=t=>()=>t;function Mh(t,e){return function(r){return t+r*e}}function Sh(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(o){return Math.pow(t+o*e,r)}}function Eh(t){return(t=+t)==1?yc:function(e,r){return r-e?Sh(e,r,t):ws(isNaN(e)?r:e)}}function yc(t,e){var r=e-t;return r?Mh(t,r):ws(isNaN(t)?e:t)}const _c=(function t(e){var r=Eh(e);function o(i,a){var s=r((i=_s(i)).r,(a=_s(a)).r),c=r(i.g,a.g),u=r(i.b,a.b),l=yc(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=c(d),i.b=u(d),i.opacity=l(d),i+""}}return o.gamma=t,o})(1);function kh(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(a){for(i=0;i<r;++i)o[i]=t[i]*(1-a)+e[i]*a;return o}}function Ch(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Th(t,e){var r=e?e.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r),s;for(s=0;s<o;++s)i[s]=Ss(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(c){for(s=0;s<o;++s)a[s]=i[s](c);return a}}function Nh(t,e){var r=new Date;return t=+t,e=+e,function(o){return r.setTime(t*(1-o)+e*o),r}}function _a(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Hh(t,e){var r={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Ss(t[i],e[i]):o[i]=e[i];return function(a){for(i in r)o[i]=r[i](a);return o}}var bs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ms=new RegExp(bs.source,"g");function Ah(t){return function(){return t}}function Wh(t){return function(e){return t(e)+""}}function Rh(t,e){var r=bs.lastIndex=Ms.lastIndex=0,o,i,a,s=-1,c=[],u=[];for(t=t+"",e=e+"";(o=bs.exec(t))&&(i=Ms.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),c[s]?c[s]+=a:c[++s]=a),(o=o[0])===(i=i[0])?c[s]?c[s]+=i:c[++s]=i:(c[++s]=null,u.push({i:s,x:_a(o,i)})),r=Ms.lastIndex;return r<e.length&&(a=e.slice(r),c[s]?c[s]+=a:c[++s]=a),c.length<2?u[0]?Wh(u[0].x):Ah(e):(e=u.length,function(l){for(var d=0,f;d<e;++d)c[(f=u[d]).i]=f.x(l);return c.join("")})}function Ss(t,e){var r=typeof e,o;return e==null||r==="boolean"?ws(e):(r==="number"?_a:r==="string"?(o=Li(e))?(e=o,_c):Rh:e instanceof Li?_c:e instanceof Date?Nh:Ch(e)?kh:Array.isArray(e)?Th:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Hh:_a)(t,e)}function Ih(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function zh(t){return function(){return t}}function Fh(t){return+t}var xc=[0,1];function ti(t){return t}function Es(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:zh(isNaN(e)?NaN:.5)}function Ph(t,e){var r;return t>e&&(r=t,t=e,e=r),function(o){return Math.max(t,Math.min(e,o))}}function Lh(t,e,r){var o=t[0],i=t[1],a=e[0],s=e[1];return i<o?(o=Es(i,o),a=r(s,a)):(o=Es(o,i),a=r(a,s)),function(c){return a(o(c))}}function Dh(t,e,r){var o=Math.min(t.length,e.length)-1,i=new Array(o),a=new Array(o),s=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<o;)i[s]=Es(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(c){var u=ah(t,c,1,o)-1;return a[u](i[u](c))}}function wc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function bc(){var t=xc,e=xc,r=Ss,o,i,a,s=ti,c,u,l;function d(){var h=Math.min(t.length,e.length);return s!==ti&&(s=Ph(t[0],t[h-1])),c=h>2?Dh:Lh,u=l=null,f}function f(h){return h==null||isNaN(h=+h)?a:(u||(u=c(t.map(o),e,r)))(o(s(h)))}return f.invert=function(h){return s(i((l||(l=c(e,t.map(o),_a)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Fh),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=Ih,d()},f.clamp=function(h){return arguments.length?(s=h?!0:ti,d()):s!==ti},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,g){return o=h,i=g,d()}}function Bh(){return bc()(ti,ti)}function Gh(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function xa(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,o=t.slice(0,r);return[o.length>1?o[0]+o.slice(2):o,+t.slice(r+1)]}function ei(t){return t=xa(Math.abs(t)),t?t[1]:NaN}function Vh(t,e){return function(r,o){for(var i=r.length,a=[],s=0,c=t[0],u=0;i>0&&c>0&&(u+c+1>o&&(c=Math.max(1,o-u)),a.push(r.substring(i-=c,i+c)),!((u+=c+1)>o));)c=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Oh(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var jh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Di(t){if(!(e=jh.exec(t)))throw new Error("invalid format: "+t);var e;return new ks({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Di.prototype=ks.prototype;function ks(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ks.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qh(t){t:for(var e=t.length,r=1,o=-1,i;r<e;++r)switch(t[r]){case".":o=i=r;break;case"0":o===0&&(o=r),i=r;break;default:if(!+t[r])break t;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var Mc;function Xh(t,e){var r=xa(t,e);if(!r)return t+"";var o=r[0],i=r[1],a=i-(Mc=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=o.length;return a===s?o:a>s?o+new Array(a-s+1).join("0"):a>0?o.slice(0,a)+"."+o.slice(a):"0."+new Array(1-a).join("0")+xa(t,Math.max(0,e+a-1))[0]}function Sc(t,e){var r=xa(t,e);if(!r)return t+"";var o=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const Ec={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Gh,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Sc(t*100,e),r:Sc,s:Xh,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function kc(t){return t}var Cc=Array.prototype.map,Tc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Uh(t){var e=t.grouping===void 0||t.thousands===void 0?kc:Vh(Cc.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?kc:Oh(Cc.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(f){f=Di(f);var h=f.fill,g=f.align,v=f.sign,_=f.symbol,x=f.zero,y=f.width,b=f.comma,N=f.precision,H=f.trim,w=f.type;w==="n"?(b=!0,w="g"):Ec[w]||(N===void 0&&(N=12),H=!0,w="g"),(x||h==="0"&&g==="=")&&(x=!0,h="0",g="=");var k=_==="$"?r:_==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=_==="$"?o:/[%p]/.test(w)?s:"",E=Ec[w],P=/[defgprs%]/.test(w);N=N===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function A(W){var T=k,B=S,L,K,Z;if(w==="c")B=E(W)+B,W="";else{W=+W;var $=W<0||1/W<0;if(W=isNaN(W)?u:E(Math.abs(W),N),H&&(W=qh(W)),$&&+W==0&&v!=="+"&&($=!1),T=($?v==="("?v:c:v==="-"||v==="("?"":v)+T,B=(w==="s"?Tc[8+Mc/3]:"")+B+($&&v==="("?")":""),P){for(L=-1,K=W.length;++L<K;)if(Z=W.charCodeAt(L),48>Z||Z>57){B=(Z===46?i+W.slice(L+1):W.slice(L))+B,W=W.slice(0,L);break}}}b&&!x&&(W=e(W,1/0));var O=T.length+W.length+B.length,Q=O<y?new Array(y-O+1).join(h):"";switch(b&&x&&(W=e(Q+W,Q.length?y-B.length:1/0),Q=""),g){case"<":W=T+W+B+Q;break;case"=":W=T+Q+W+B;break;case"^":W=Q.slice(0,O=Q.length>>1)+T+W+B+Q.slice(O);break;default:W=Q+T+W+B;break}return a(W)}return A.toString=function(){return f+""},A}function d(f,h){var g=l((f=Di(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(ei(h)/3)))*3,_=Math.pow(10,-v),x=Tc[8+v/3];return function(y){return g(_*y)+x}}return{format:l,formatPrefix:d}}var wa,Cs,Nc;$h({thousands:",",grouping:[3],currency:["$",""]});function $h(t){return wa=Uh(t),Cs=wa.format,Nc=wa.formatPrefix,wa}function Yh(t){return Math.max(0,-ei(Math.abs(t)))}function Zh(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ei(e)/3)))*3-ei(Math.abs(t)))}function Kh(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ei(e)-ei(t))+1}function Qh(t,e,r,o){var i=fh(t,e,r),a;switch(o=Di(o??",f"),o.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(a=Zh(i,s))&&(o.precision=a),Nc(o,s)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(a=Kh(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=a-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(a=Yh(i))&&(o.precision=a-(o.type==="%")*2);break}}return Cs(o)}function Jh(t){var e=t.domain;return t.ticks=function(r){var o=e();return ps(o[0],o[o.length-1],r??10)},t.tickFormat=function(r,o){var i=e();return Qh(i[0],i[i.length-1],r??10,o)},t.nice=function(r){r==null&&(r=10);var o=e(),i=0,a=o.length-1,s=o[i],c=o[a],u,l,d=10;for(c<s&&(l=s,s=c,c=l,l=i,i=a,a=l);d-- >0;){if(l=ms(s,c,r),l===u)return o[i]=s,o[a]=c,e(o);if(l>0)s=Math.floor(s/l)*l,c=Math.ceil(c/l)*l;else if(l<0)s=Math.ceil(s*l)/l,c=Math.floor(c*l)/l;else break;u=l}return t},t}function er(){var t=Bh();return t.copy=function(){return wc(t,er())},sc.apply(t,arguments),Jh(t)}function tg(t,e){t=t.slice();var r=0,o=t.length-1,i=t[r],a=t[o],s;return a<i&&(s=r,r=o,o=s,s=i,i=a,a=s),t[r]=e.floor(i),t[o]=e.ceil(a),t}function Hc(t){return Math.log(t)}function Ac(t){return Math.exp(t)}function eg(t){return-Math.log(-t)}function ng(t){return-Math.exp(-t)}function rg(t){return isFinite(t)?+("1e"+t):t<0?0:t}function og(t){return t===10?rg:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ig(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Wc(t){return(e,r)=>-t(-e,r)}function ag(t){const e=t(Hc,Ac),r=e.domain;let o=10,i,a;function s(){return i=ig(o),a=og(o),r()[0]<0?(i=Wc(i),a=Wc(a),t(eg,ng)):t(Hc,Ac),e}return e.base=function(c){return arguments.length?(o=+c,s()):o},e.domain=function(c){return arguments.length?(r(c),s()):r()},e.ticks=c=>{const u=r();let l=u[0],d=u[u.length-1];const f=d<l;f&&([l,d]=[d,l]);let h=i(l),g=i(d),v,_;const x=c==null?10:+c;let y=[];if(!(o%1)&&g-h<x){if(h=Math.floor(h),g=Math.ceil(g),l>0){for(;h<=g;++h)for(v=1;v<o;++v)if(_=h<0?v/a(-h):v*a(h),!(_<l)){if(_>d)break;y.push(_)}}else for(;h<=g;++h)for(v=o-1;v>=1;--v)if(_=h>0?v/a(-h):v*a(h),!(_<l)){if(_>d)break;y.push(_)}y.length*2<x&&(y=ps(l,d,x))}else y=ps(h,g,Math.min(g-h,x)).map(a);return f?y.reverse():y},e.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=o===10?"s":","),typeof u!="function"&&(!(o%1)&&(u=Di(u)).precision==null&&(u.trim=!0),u=Cs(u)),c===1/0)return u;const l=Math.max(1,o*c/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*o<o-.5&&(f*=o),f<=l?u(d):""}},e.nice=()=>r(tg(r(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function Or(){const t=ag(bc()).domain([1,10]);return t.copy=()=>wc(t,Or()).base(t.base()),sc.apply(t,arguments),t}function un(t){return function(){return t}}const Rc=1e-12,Ts=Math.PI,Ns=2*Ts,Eo=1e-6,sg=Ns-Eo;function Ic(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function lg(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Ic;const r=10**e;return function(o){this._+=o[0];for(let i=1,a=o.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+o[i]}}class cg{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Ic:lg(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,o,i){this._append`Q${+e},${+r},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,r,o,i,a,s){this._append`C${+e},${+r},${+o},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,o,i,a){if(e=+e,r=+r,o=+o,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,c=this._y1,u=o-e,l=i-r,d=s-e,f=c-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Eo)if(!(Math.abs(f*u-l*d)>Eo)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let g=o-s,v=i-c,_=u*u+l*l,x=g*g+v*v,y=Math.sqrt(_),b=Math.sqrt(h),N=a*Math.tan((Ts-Math.acos((_+h-x)/(2*y*b)))/2),H=N/b,w=N/y;Math.abs(H-1)>Eo&&this._append`L${e+H*d},${r+H*f}`,this._append`A${a},${a},0,0,${+(f*g>d*v)},${this._x1=e+w*u},${this._y1=r+w*l}`}}arc(e,r,o,i,a,s){if(e=+e,r=+r,o=+o,s=!!s,o<0)throw new Error(`negative radius: ${o}`);let c=o*Math.cos(i),u=o*Math.sin(i),l=e+c,d=r+u,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${l},${d}`:(Math.abs(this._x1-l)>Eo||Math.abs(this._y1-d)>Eo)&&this._append`L${l},${d}`,o&&(h<0&&(h=h%Ns+Ns),h>sg?this._append`A${o},${o},0,1,${f},${e-c},${r-u}A${o},${o},0,1,${f},${this._x1=l},${this._y1=d}`:h>Eo&&this._append`A${o},${o},0,${+(h>=Ts)},${f},${this._x1=e+o*Math.cos(a)},${this._y1=r+o*Math.sin(a)}`)}rect(e,r,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function zc(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const o=Math.floor(r);if(!(o>=0))throw new RangeError(`invalid digits: ${r}`);e=o}return t},()=>new cg(e)}function Fc(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Pc(t){this._context=t}Pc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Lc(t){return new Pc(t)}function Dc(t){return t[0]}function Bc(t){return t[1]}function Gc(t,e){var r=un(!0),o=null,i=Lc,a=null,s=zc(c);t=typeof t=="function"?t:t===void 0?Dc:un(t),e=typeof e=="function"?e:e===void 0?Bc:un(e);function c(u){var l,d=(u=Fc(u)).length,f,h=!1,g;for(o==null&&(a=i(g=s())),l=0;l<=d;++l)!(l<d&&r(f=u[l],l,u))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,l,u),+e(f,l,u));if(g)return a=null,g+""||null}return c.x=function(u){return arguments.length?(t=typeof u=="function"?u:un(+u),c):t},c.y=function(u){return arguments.length?(e=typeof u=="function"?u:un(+u),c):e},c.defined=function(u){return arguments.length?(r=typeof u=="function"?u:un(!!u),c):r},c.curve=function(u){return arguments.length?(i=u,o!=null&&(a=i(o)),c):i},c.context=function(u){return arguments.length?(u==null?o=a=null:a=i(o=u),c):o},c}function fg(t,e,r){var o=null,i=un(!0),a=null,s=Lc,c=null,u=zc(l);t=typeof t=="function"?t:t===void 0?Dc:un(+t),e=typeof e=="function"?e:un(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Bc:un(+r);function l(f){var h,g,v,_=(f=Fc(f)).length,x,y=!1,b,N=new Array(_),H=new Array(_);for(a==null&&(c=s(b=u())),h=0;h<=_;++h){if(!(h<_&&i(x=f[h],h,f))===y)if(y=!y)g=h,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),v=h-1;v>=g;--v)c.point(N[v],H[v]);c.lineEnd(),c.areaEnd()}y&&(N[h]=+t(x,h,f),H[h]=+e(x,h,f),c.point(o?+o(x,h,f):N[h],r?+r(x,h,f):H[h]))}if(b)return c=null,b+""||null}function d(){return Gc().defined(i).curve(s).context(a)}return l.x=function(f){return arguments.length?(t=typeof f=="function"?f:un(+f),o=null,l):t},l.x0=function(f){return arguments.length?(t=typeof f=="function"?f:un(+f),l):t},l.x1=function(f){return arguments.length?(o=f==null?null:typeof f=="function"?f:un(+f),l):o},l.y=function(f){return arguments.length?(e=typeof f=="function"?f:un(+f),r=null,l):e},l.y0=function(f){return arguments.length?(e=typeof f=="function"?f:un(+f),l):e},l.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:un(+f),l):r},l.lineX0=l.lineY0=function(){return d().x(t).y(e)},l.lineY1=function(){return d().x(t).y(r)},l.lineX1=function(){return d().x(o).y(e)},l.defined=function(f){return arguments.length?(i=typeof f=="function"?f:un(!!f),l):i},l.curve=function(f){return arguments.length?(s=f,a!=null&&(c=s(a)),l):s},l.context=function(f){return arguments.length?(f==null?a=c=null:c=s(a=f),l):a},l}function Vc(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function Hs(t,e){this._context=t,this._k=(1-e)/6}Hs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Vc(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Vc(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},(function t(e){function r(o){return new Hs(o,e)}return r.tension=function(o){return t(+o)},r})(0);function ug(t,e,r){var o=t._x1,i=t._y1,a=t._x2,s=t._y2;if(t._l01_a>Rc){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);o=(o*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>Rc){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,d=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*l+t._x1*t._l23_2a-e*t._l12_2a)/d,s=(s*l+t._y1*t._l23_2a-r*t._l12_2a)/d}t._context.bezierCurveTo(o,i,a,s,t._x2,t._y2)}function Oc(t,e){this._context=t,this._alpha=e}Oc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,o=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+o*o,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:ug(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const jc=(function t(e){function r(o){return e?new Oc(o,e):new Hs(o,0)}return r.alpha=function(o){return t(+o)},r})(.5);zn[D]="src/components/table/CellSparkline.svelte";var dg=V(It('<rect opacity="0.8"></rect>'),zn[D],[[72,8]]),hg=V(It('<path opacity="0.3"></path><path fill="none" stroke-width="1.5"></path>',1),zn[D],[[82,6],[83,6]]),gg=V(It('<circle r="2"></circle>'),zn[D],[[89,8]]),vg=V(It('<path fill="none" stroke-width="1.5"></path><!>',1),zn[D],[[85,6]]),pg=V(It('<text text-anchor="middle" dominant-baseline="middle" fill="var(--wf-muted, #94a3b8)" font-size="8">--</text>'),zn[D],[[93,4]]),mg=V(It('<svg class="cell-sparkline svelte-hfafss"><!></svg>'),zn[D],[[68,0]]);function zn(t,e){we(new.target),ge(e,!0,zn);const r=p(m(()=>{var x;return((x=e.options)==null?void 0:x.type)??"line"}),"chartType"),o=p(m(()=>{var x;return((x=e.options)==null?void 0:x.height)??20}),"chartHeight"),i=p(m(()=>{var x;return((x=e.options)==null?void 0:x.color)??"var(--wf-primary, #2563eb)"}),"chartColor"),a=60,s=p(m(()=>!e.data||!Array.isArray(e.data)||M(e.data.length,0)?[]:Array.isArray(e.data[0])?e.data[0]:e.data),"normalizedData"),c=p(m(()=>{if(M(n(s).length,0))return[];const x=Math.min(...n(s)),y=Math.max(...n(s)),b=(y-x)*.1||1,N=er().domain([0,n(s).length-1]).range([2,a-2]),H=er().domain([x-b,y+b]).range([n(o)-2,2]);return n(s).map((w,k)=>[N(k),H(w)])}),"points"),u=p(m(()=>M(n(c).length,0)?"":Gc().x(y=>y[0]).y(y=>y[1]).curve(jc.alpha(.5))(n(c))??""),"linePath"),l=p(m(()=>M(n(c).length,0)?"":fg().x(y=>y[0]).y0(n(o)-2).y1(y=>y[1]).curve(jc.alpha(.5))(n(c))??""),"areaPath"),d=p(m(()=>n(c).length>0?(a-8)/n(c).length-1:0),"barWidth");var f={...be()},h=mg();R(h,"width",a);var g=Y(h);{var v=x=>{var y=Et(),b=yt(y);{var N=w=>{var k=Et(),S=yt(k);I(()=>Ie(S,17,()=>n(c),Zn,(E,P)=>{var A=m(()=>Oa(n(P),2));let W=()=>n(A)[0];W();let T=()=>n(A)[1];T();var B=dg();tt(()=>{R(B,"x",W()-n(d)/2),R(B,"y",T()),R(B,"width",n(d)),R(B,"height",n(o)-2-T()),R(B,"fill",n(i))}),z(E,B)}),"each",zn,71,6),z(w,k)},H=w=>{var k=Et(),S=yt(k);{var E=A=>{var W=hg(),T=yt(W),B=nt(T);tt(()=>{R(T,"d",n(l)),R(T,"fill",n(i)),R(B,"d",n(u)),R(B,"stroke",n(i))}),z(A,W)},P=A=>{var W=vg(),T=yt(W),B=nt(T);{var L=K=>{const Z=p(m(()=>n(c)[n(c).length-1]),"lastPoint");n(Z);var $=gg();tt(()=>{R($,"cx",n(Z)[0]),R($,"cy",n(Z)[1]),R($,"fill",n(i))}),z(K,$)};I(()=>j(B,K=>{n(c).length>0&&K(L)}),"if",zn,87,6)}tt(()=>{R(T,"d",n(u)),R(T,"stroke",n(i))}),z(A,W)};I(()=>j(S,A=>{M(n(r),"area")?A(E):A(P,!1)},!0),"if",zn,81,4)}z(w,k)};I(()=>j(b,w=>{M(n(r),"bar")?w(N):w(H,!1)}),"if",zn,70,4)}z(x,y)},_=x=>{var y=pg();R(y,"x",a/2),tt(()=>R(y,"y",n(o)/2)),z(x,y)};I(()=>j(g,x=>{n(c).length>0?x(v):x(_,!1)}),"if",zn,69,2)}return tt(()=>{R(h,"height",n(o)),R(h,"viewBox",`0 0 60 ${n(o)??""}`)}),z(t,h),ve(f)}hr[D]="src/components/table/CellContent.svelte";var yg=V(lt('<span class="cell-icon svelte-mxyczy"> </span>'),hr[D],[[34,15]]),_g=V(lt('<span class="cell-badge svelte-mxyczy"> </span>'),hr[D],[[36,16]]),xg=V(lt('<span><!> <span class="cell-value"> </span> <!></span>'),hr[D],[[23,0,[[35,2]]]]);function hr(t,e){we(new.target),ge(e,!0,hr);const r=p(m(()=>{var w;return!!((w=e.cellStyle)!=null&&w.badge)}),"hasBadge"),o=p(m(()=>{var w;return!!((w=e.cellStyle)!=null&&w.icon)}),"hasIcon"),i=p(m(()=>{var w;return((w=e.cellStyle)==null?void 0:w.bold)??!1}),"isBold"),a=p(m(()=>{var w;return((w=e.cellStyle)==null?void 0:w.italic)??!1}),"isItalic"),s=p(m(()=>{var w;return((w=e.cellStyle)==null?void 0:w.color)??null}),"textColor"),c=p(m(()=>{var w;return((w=e.cellStyle)==null?void 0:w.bg)??null}),"bgColor"),u=p(m(()=>{var w;return((w=e.cellStyle)==null?void 0:w.emphasis)??!1}),"isEmphasis"),l=p(m(()=>{var w;return((w=e.cellStyle)==null?void 0:w.muted)??!1}),"isMuted"),d=p(m(()=>{var w;return((w=e.cellStyle)==null?void 0:w.accent)??!1}),"isAccent");var f={...be()},h=xg();let g,v;var _=Y(h);{var x=w=>{var k=yg(),S=Y(k);tt(()=>{var E;return Ot(S,(E=e.cellStyle)==null?void 0:E.icon)}),z(w,k)};I(()=>j(_,w=>{n(o)&&w(x)}),"if",hr,34,2)}var y=nt(_,2),b=Y(y),N=nt(y,2);{var H=w=>{var k=_g(),S=Y(k);tt(()=>{var E;return Ot(S,(E=e.cellStyle)==null?void 0:E.badge)}),z(w,k)};I(()=>j(N,w=>{n(r)&&w(H)}),"if",hr,36,2)}return tt(w=>{g=pn(h,1,"cell-content svelte-mxyczy",null,g,{"cell-bold":n(i),"cell-italic":n(a),"cell-emphasis":n(u),"cell-muted":n(l),"cell-accent":n(d)}),R(h,"title",w),v=Me(h,"",v,{color:n(s),"background-color":n(c)}),Ot(b,e.value??"")},[()=>String(e.value??"")]),z(t,h),ve(f)}Bi[D]="src/components/table/CellIcon.svelte";var wg=V(lt("<span> </span>"),Bi[D],[[32,2]]);function Bi(t,e){we(new.target),ge(e,!0,Bi);const r=p(m(()=>{var f;return((f=e.options)==null?void 0:f.mapping)??{}}),"mapping"),o=p(m(()=>{var f;return((f=e.options)==null?void 0:f.size)??"base"}),"size"),i=p(m(()=>{var f;return(f=e.options)==null?void 0:f.color}),"color"),a=p(m(()=>{if(M(e.value,void 0)||M(e.value,null))return"";const f=String(e.value);return n(r)&&f in n(r)?n(r)[f]:f}),"displayValue"),s=p(m(()=>M(n(o),"sm")?"icon-sm":M(n(o),"lg")?"icon-lg":"icon-base"),"sizeClass");var c={...be()},u=Et(),l=yt(u);{var d=f=>{var h=wg();let g;var v=Y(h);tt(_=>{pn(h,1,`cell-icon ${n(s)??""}`,"svelte-weao3c"),R(h,"title",_),g=Me(h,"",g,{color:n(i)}),Ot(v,n(a))},[()=>String(e.value??"")]),z(f,h)};I(()=>j(l,f=>{n(a)&&f(d)}),"if",Bi,31,0)}return z(t,u),ve(c)}Gi[D]="src/components/table/CellBadge.svelte";var bg=V(lt("<span> </span>"),Gi[D],[[56,2]]);function Gi(t,e){we(new.target),ge(e,!0,Gi);const r=p(m(()=>{var h;return((h=e.options)==null?void 0:h.variants)??{}}),"variants"),o=p(m(()=>{var h;return((h=e.options)==null?void 0:h.colors)??{}}),"colors"),i=p(m(()=>{var h;return((h=e.options)==null?void 0:h.size)??"base"}),"size"),a=p(m(()=>M(e.value,void 0)||M(e.value,null)?"":String(e.value)),"displayValue"),s=p(m(()=>{const h=String(e.value??"");if(n(o)&&h in n(o))return n(o)[h];if(n(r)&&h in n(r))switch(n(r)[h]){case"success":return"var(--wf-badge-success, #16a34a)";case"warning":return"var(--wf-badge-warning, #f59e0b)";case"error":return"var(--wf-badge-error, #dc2626)";case"info":return"var(--wf-badge-info, #2563eb)";case"muted":return"var(--wf-badge-muted, var(--wf-muted, #64748b))";default:return"var(--wf-primary, #2563eb)"}return"var(--wf-primary, #2563eb)"}),"badgeColor"),c=p(m(()=>M(n(i),"sm")?"badge-sm":"badge-base"),"sizeClass");var u={...be()},l=Et(),d=yt(l);{var f=h=>{var g=bg();let v;var _=Y(g);tt(()=>{pn(g,1,`cell-badge ${n(c)??""}`,"svelte-16nh7k4"),v=Me(g,"",v,{"background-color":`color-mix(in srgb, ${n(s)??""} 15%, var(--wf-bg, #fff))`,color:n(s)}),Ot(_,n(a))}),z(h,g)};I(()=>j(d,h=>{n(a)&&h(f)}),"if",Gi,55,0)}return z(t,l),ve(u)}ko[D]="src/components/table/CellStars.svelte";var Mg=V(lt("<span> </span>"),ko[D],[[44,6]]),Sg=V(lt('<span class="cell-stars svelte-8zr88i"></span>'),ko[D],[[42,2]]);function ko(t,e){we(new.target),ge(e,!0,ko);const r=p(m(()=>{var v;return((v=e.options)==null?void 0:v.maxStars)??5}),"maxStars"),o=p(m(()=>{var v;return((v=e.options)==null?void 0:v.color)??"#f59e0b"}),"filledColor"),i=p(m(()=>{var v;return((v=e.options)==null?void 0:v.emptyColor)??"#d1d5db"}),"emptyColor"),a=p(m(()=>{var v;return((v=e.options)==null?void 0:v.halfStars)??!1}),"halfStars"),s="★",c="☆",u="⯪",l=p(m(()=>{if(M(e.value,void 0)||M(e.value,null))return"";const v=Math.max(0,Math.min(n(r),e.value)),_=[];for(let x=1;x<=n(r);x++)x<=v?_.push({char:s,filled:"full"}):n(a)&&x-.5<=v?_.push({char:u,filled:"half"}):_.push({char:c,filled:"empty"});return _}),"starDisplay");var d={...be()},f=Et(),h=yt(f);{var g=v=>{var _=Sg();I(()=>Ie(_,21,()=>n(l),Zn,(x,y)=>{var b=Mg();let N,H;var w=Y(b,!0);tt(()=>{N=pn(b,1,"star svelte-8zr88i",null,N,{filled:M(n(y).filled,"full"),half:M(n(y).filled,"half")}),H=Me(b,"",H,{color:M(n(y).filled,"empty")?n(i):n(o)}),Ot(w,n(y).char)}),z(x,b)}),"each",ko,43,4),tt(()=>R(_,"title",`${e.value??""} / ${n(r)??""}`)),z(v,_)};I(()=>j(h,v=>{M(e.value,void 0,!1)&&M(e.value,null,!1)&&v(g)}),"if",ko,41,0)}return z(t,f),ve(d)}Co[D]="src/components/table/CellImg.svelte";var Eg=V(lt('<img alt="" loading="lazy"/>'),Co[D],[[28,2]]),kg=V(lt('<span class="cell-img-fallback svelte-1rifgp8" title="Image not available"> </span>'),Co[D],[[38,2]]);function Co(t,e){we(new.target),ge(e,!0,Co);const r=p(m(()=>{var v;return(v=e.options)==null?void 0:v.height}),"imgHeight"),o=p(m(()=>{var v;return(v=e.options)==null?void 0:v.maxWidth}),"maxWidth"),i=p(m(()=>{var v;return((v=e.options)==null?void 0:v.fallback)??"📷"}),"fallback"),a=p(m(()=>{var v;return((v=e.options)==null?void 0:v.shape)??"square"}),"shape");let s=p(St(!1),"hasError");const c=p(m(()=>M(n(a),"circle")?"shape-circle":M(n(a),"rounded")?"shape-rounded":""),"shapeClass");function u(){st(s,!0)}var l={...be()},d=Et(),f=yt(d);{var h=v=>{var _=Eg();let x;tt(()=>{pn(_,1,`cell-img ${n(c)??""}`,"svelte-1rifgp8"),R(_,"src",e.value),x=Me(_,"",x,{height:n(r)?`${n(r)}px`:"calc(var(--wf-row-height, 28px) - 4px)","max-width":n(o)?`${n(o)}px`:"100%"})}),Gn("error",_,u),z(v,_)},g=v=>{var _=Et(),x=yt(_);{var y=b=>{var N=kg(),H=Y(N);tt(()=>Ot(H,n(i))),z(b,N)};I(()=>j(x,b=>{n(i)&&b(y)},!0),"if",Co,37,0)}z(v,_)};I(()=>j(f,v=>{e.value&&!n(s)?v(h):v(g,!1)}),"if",Co,27,0)}return z(t,d),ve(l)}jr[D]="src/components/table/CellReference.svelte";var Cg=V(lt('<span class="reference-icon svelte-186gxpi">↗</span>'),jr[D],[[44,8]]),Tg=V(lt('<a class="cell-reference svelte-186gxpi" target="_blank" rel="noopener noreferrer"><span class="reference-text svelte-186gxpi"> </span> <!></a>'),jr[D],[[35,4,[[42,6]]]]),Ng=V(lt('<span class="cell-reference svelte-186gxpi"> </span>'),jr[D],[[48,4]]);function jr(t,e){we(new.target),ge(e,!0,jr);const r=p(m(()=>{var g;return((g=e.options)==null?void 0:g.maxChars)??30}),"maxChars"),o=p(m(()=>{var g;return((g=e.options)==null?void 0:g.showIcon)??!0}),"showIcon"),i=p(m(()=>{var g;return(g=e.options)==null?void 0:g.hrefField}),"hrefField"),a=p(m(()=>{if(!n(i))return null;const g=e.metadata[n(i)];return M(typeof g,"string")?g:null}),"href"),s=p(m(()=>{if(M(e.value,void 0)||M(e.value,null))return"";const g=String(e.value);return g.length<=n(r)?g:g.substring(0,n(r))+"..."}),"displayValue"),c=p(m(()=>e.value?String(e.value):""),"fullValue"),u=p(m(()=>n(c).length>n(r)),"isTruncated");var l={...be()},d=Et(),f=yt(d);{var h=g=>{var v=Et(),_=yt(v);{var x=b=>{var N=Tg(),H=Y(N),w=Y(H),k=nt(H,2);{var S=E=>{var P=Cg();z(E,P)};I(()=>j(k,E=>{n(o)&&E(S)}),"if",jr,43,6)}tt(()=>{R(N,"href",n(a)),R(N,"title",n(u)?n(c):void 0),Ot(w,n(s))}),z(b,N)},y=b=>{var N=Ng(),H=Y(N);tt(()=>{R(N,"title",n(u)?n(c):void 0),Ot(H,n(s))}),z(b,N)};I(()=>j(_,b=>{n(a)?b(x):b(y,!1)}),"if",jr,34,2)}z(g,v)};I(()=>j(f,g=>{e.value&&g(h)}),"if",jr,33,0)}return z(t,d),ve(l)}Vi[D]="src/components/table/CellRange.svelte";var Hg=V(lt('<span class="cell-range svelte-jzelx2"> </span>'),Vi[D],[[51,2]]);function Vi(t,e){we(new.target),ge(e,!0,Vi);const r=p(m(()=>{var _;return((_=e.options)==null?void 0:_.separator)??" – "}),"separator"),o=p(m(()=>{var _;return(_=e.options)==null?void 0:_.decimals}),"decimals"),i=p(m(()=>{var _;return((_=e.options)==null?void 0:_.minField)??""}),"minField"),a=p(m(()=>{var _;return((_=e.options)==null?void 0:_.maxField)??""}),"maxField"),s=p(m(()=>{if(!n(i))return null;const _=e.metadata[n(i)];return M(typeof _,"number")?_:null}),"minValue"),c=p(m(()=>{if(!n(a))return null;const _=e.metadata[n(a)];return M(typeof _,"number")?_:null}),"maxValue");function u(_){return M(_,null)?"":M(n(o),null)||M(n(o),void 0)?Number.isInteger(_)?String(_):_.toFixed(1):_.toFixed(n(o))}const l=p(m(()=>M(n(s),null)&&M(n(c),null)?"":M(n(s),null)?u(n(c)):M(n(c),null)?u(n(s)):`${u(n(s))}${n(r)}${u(n(c))}`),"displayValue"),d=p(m(()=>M(n(s),null,!1)||M(n(c),null,!1)),"hasRange");var f={...be()},h=Et(),g=yt(h);{var v=_=>{var x=Hg(),y=Y(x);tt((b,N)=>{R(x,"title",`${b??""} to ${N??""}`),Ot(y,n(l))},[()=>u(n(s)),()=>u(n(c))]),z(_,x)};I(()=>j(g,_=>{n(d)&&_(v)}),"if",Vi,50,0)}return z(t,h),ve(f)}Oi[D]="src/components/table/CellHeatmap.svelte";var Ag=V(lt('<div class="cell-heatmap svelte-1868gcr"><!></div>'),Oi[D],[[76,0]]);function Oi(t,e){we(new.target),ge(e,!0,Oi);const r=p(m(()=>{var y;return((y=e.options)==null?void 0:y.palette)??["#f7fbff","#08306b"]}),"palette"),o=p(m(()=>{var y;return((y=e.options)==null?void 0:y.decimals)??2}),"decimals"),i=p(m(()=>{var y;return((y=e.options)==null?void 0:y.showValue)??!0}),"showValue"),a=p(m(()=>{var y;return((y=e.options)==null?void 0:y.minValue)??e.minValue??0}),"effectiveMin"),s=p(m(()=>{var y;return((y=e.options)==null?void 0:y.maxValue)??e.maxValue??1}),"effectiveMax"),c=p(m(()=>M(e.value,void 0)||M(e.value,null)||Number.isNaN(e.value)?null:M(n(s),n(a))?.5:Math.max(0,Math.min(1,(e.value-n(a))/(n(s)-n(a))))),"normalized");function u(y){const b=y.replace("#","");return[parseInt(b.substring(0,2),16),parseInt(b.substring(2,4),16),parseInt(b.substring(4,6),16)]}const l=p(m(()=>{if(M(n(c),null))return"transparent";const y=n(c),b=n(r).length-1,N=Math.min(Math.floor(y*b),b-1),H=y*b-N,w=u(n(r)[N]),k=u(n(r)[N+1]),S=Math.round(w[0]+(k[0]-w[0])*H),E=Math.round(w[1]+(k[1]-w[1])*H),P=Math.round(w[2]+(k[2]-w[2])*H);return`rgb(${S}, ${E}, ${P})`}),"bgColor"),d=p(m(()=>{if(M(n(c),null))return"inherit";const y=n(c),b=n(r).length-1,N=Math.min(Math.floor(y*b),b-1),H=y*b-N,w=u(n(r)[N]),k=u(n(r)[N+1]),S=w[0]+(k[0]-w[0])*H,E=w[1]+(k[1]-w[1])*H,P=w[2]+(k[2]-w[2])*H;return(.299*S+.587*E+.114*P)/255>.5?"#1a1a1a":"#ffffff"}),"textColor"),f=p(m(()=>M(e.value,void 0)||M(e.value,null)||Number.isNaN(e.value)?"":e.value.toFixed(n(o))),"formattedValue");var h={...be()},g=Ag();let v;var _=Y(g);{var x=y=>{var b=Xu();tt(()=>Ot(b,n(f))),z(y,b)};I(()=>j(_,y=>{n(i)&&n(f)&&y(x)}),"if",Oi,81,2)}return tt(()=>v=Me(g,"",v,{"background-color":n(l),color:n(d)})),z(t,g),ve(h)}To[D]="src/components/table/CellProgress.svelte";var Wg=V(lt('<span class="progress-label svelte-176qu32"> </span>'),To[D],[[36,6]]),Rg=V(lt('<div class="cell-progress svelte-176qu32"><div class="progress-track svelte-176qu32"><div class="progress-fill svelte-176qu32"></div></div> <!></div>'),To[D],[[27,2,[[28,4,[[29,6]]]]]]);function To(t,e){we(new.target),ge(e,!0,To);const r=p(m(()=>{var f;return((f=e.options)==null?void 0:f.maxValue)??100}),"maxValue"),o=p(m(()=>{var f;return((f=e.options)==null?void 0:f.showLabel)??!0}),"showLabel"),i=p(m(()=>{var f;return((f=e.options)==null?void 0:f.color)??"var(--wf-primary, #2563eb)"}),"barColor"),a=p(m(()=>M(e.value,void 0)||M(e.value,null)||n(r)<=0?0:Math.min(100,Math.max(0,e.value/n(r)*100))),"percentage"),s=p(m(()=>M(e.value,void 0)||M(e.value,null)?"":`${Math.round(n(a))}%`),"formattedLabel");var c={...be()},u=Et(),l=yt(u);{var d=f=>{var h=Rg(),g=Y(h),v=Y(g);let _;var x=nt(g,2);{var y=b=>{var N=Wg(),H=Y(N);tt(()=>Ot(H,n(s))),z(b,N)};I(()=>j(x,b=>{n(o)&&b(y)}),"if",To,35,4)}tt(()=>_=Me(v,"",_,{width:`${n(a)??""}%`,"background-color":n(i)})),z(f,h)};I(()=>j(l,f=>{M(e.value,void 0,!1)&&M(e.value,null,!1)&&f(d)}),"if",To,26,0)}return z(t,u),ve(c)}const Ig=["default","minimal","dark","jama","lancet","modern","presentation","cochrane","nature"],zt={name:"default",colors:{background:"#ffffff",foreground:"#333333",primary:"#0891b2",secondary:"#64748b",accent:"#8b5cf6",muted:"#94a3b8",border:"#e2e8f0",rowBg:"#ffffff",altBg:"#f8fafc",interval:"#0891b2",intervalPositive:"#0891b2",intervalNegative:"#dc2626",intervalNeutral:"#64748b",intervalLine:"#475569",summaryFill:"#0891b2",summaryBorder:"#0e7490"},typography:{fontFamily:"system-ui, -apple-system, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5,headerFontScale:1.05},spacing:{rowHeight:28,headerHeight:36,sectionGap:16,padding:12,containerPadding:0,cellPaddingX:10,cellPaddingY:4,axisGap:12,groupPadding:8},shapes:{pointSize:6,summaryHeight:10,lineWidth:1.5,borderRadius:2},axis:{rangeMin:null,rangeMax:null,tickCount:null,tickValues:null,gridlines:!1,gridlineStyle:"dotted",ciClipFactor:2,includeNull:!0,symmetric:null,nullTick:!0,markerMargin:!0},layout:{plotPosition:"right",tableWidth:"auto",plotWidth:"auto",containerBorder:!1,containerBorderRadius:8,banding:!0},groupHeaders:{level1FontSize:"1rem",level1FontWeight:700,level1Italic:!1,level1Background:null,level1BorderBottom:!1,level2FontSize:"0.9375rem",level2FontWeight:500,level2Italic:!0,level2Background:null,level2BorderBottom:!1,level3FontSize:"0.875rem",level3FontWeight:400,level3Italic:!1,level3Background:null,level3BorderBottom:!1,indentPerLevel:16}},zg={...zt,name:"minimal",colors:{...zt.colors,background:"#ffffff",foreground:"#000000",primary:"#000000",secondary:"#333333",accent:"#000000",muted:"#666666",border:"#000000",rowBg:"#ffffff",altBg:"#fafafa",interval:"#000000",intervalPositive:"#000000",intervalNegative:"#000000",intervalNeutral:"#666666",intervalLine:"#000000",summaryFill:"#000000",summaryBorder:"#000000"},typography:{...zt.typography,fontFamily:"Georgia, 'Times New Roman', serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.4},spacing:{...zt.spacing,rowHeight:24,headerHeight:30,sectionGap:12,padding:10},shapes:{...zt.shapes,pointSize:5,summaryHeight:8,lineWidth:1,borderRadius:0},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:0}},Fg={...zt,name:"dark",colors:{...zt.colors,background:"#1e1e2e",foreground:"#cdd6f4",primary:"#89b4fa",secondary:"#a6adc8",accent:"#f5c2e7",muted:"#6c7086",border:"#313244",rowBg:"#1e1e2e",altBg:"#232334",interval:"#89b4fa",intervalPositive:"#a6e3a1",intervalNegative:"#f38ba8",intervalNeutral:"#6c7086",intervalLine:"#9399b2",summaryFill:"#89b4fa",summaryBorder:"#74c7ec"},typography:{...zt.typography,fontFamily:"system-ui, -apple-system, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5},spacing:{...zt.spacing,rowHeight:30,headerHeight:38,sectionGap:18,padding:14},shapes:{...zt.shapes,pointSize:6,summaryHeight:10,lineWidth:1.5,borderRadius:4},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:8}},Pg={...zt,name:"jama",colors:{...zt.colors,background:"#ffffff",foreground:"#000000",primary:"#000000",secondary:"#333333",accent:"#000000",muted:"#555555",border:"#000000",rowBg:"#ffffff",altBg:"#f9fafb",interval:"#000000",intervalPositive:"#000000",intervalNegative:"#000000",intervalNeutral:"#555555",intervalLine:"#000000",summaryFill:"#000000",summaryBorder:"#000000"},typography:{...zt.typography,fontFamily:"Arial, Helvetica, sans-serif",fontSizeSm:"8pt",fontSizeBase:"9pt",fontSizeLg:"10pt",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.2},spacing:{...zt.spacing,rowHeight:18,headerHeight:24,sectionGap:8,padding:6,cellPaddingX:8,cellPaddingY:2},shapes:{...zt.shapes,pointSize:4,summaryHeight:7,lineWidth:1.25,borderRadius:0},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:0}},Lg={...zt,name:"lancet",colors:{...zt.colors,background:"#fdfcfb",foreground:"#1e3a5f",primary:"#00407a",secondary:"#3d5a80",accent:"#b8860b",muted:"#6b7c93",border:"#d4dce6",rowBg:"#fdfcfb",altBg:"#f8f7f6",interval:"#00407a",intervalPositive:"#00407a",intervalNegative:"#9d2933",intervalNeutral:"#3d5a80",intervalLine:"#1e3a5f",summaryFill:"#00407a",summaryBorder:"#002d54"},typography:{...zt.typography,fontFamily:"Georgia, 'Times New Roman', serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.5},spacing:{...zt.spacing,rowHeight:26,headerHeight:34,sectionGap:16,padding:12,cellPaddingX:12,cellPaddingY:5},shapes:{...zt.shapes,pointSize:5,summaryHeight:9,lineWidth:1.25,borderRadius:0},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:0}},Dg={...zt,name:"modern",colors:{...zt.colors,background:"#fafafa",foreground:"#18181b",primary:"#3b82f6",secondary:"#52525b",accent:"#8b5cf6",muted:"#a1a1aa",border:"#d4d4d8",rowBg:"#fafafa",altBg:"#f4f4f5",interval:"#3b82f6",intervalPositive:"#22c55e",intervalNegative:"#ef4444",intervalNeutral:"#71717a",intervalLine:"#27272a",summaryFill:"#3b82f6",summaryBorder:"#2563eb"},typography:{...zt.typography,fontFamily:"Inter, system-ui, -apple-system, sans-serif",fontSizeSm:"0.8125rem",fontSizeBase:"0.9375rem",fontSizeLg:"1.0625rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5},spacing:{...zt.spacing,rowHeight:36,headerHeight:44,sectionGap:24,padding:16,cellPaddingX:12,cellPaddingY:6},shapes:{...zt.shapes,pointSize:8,summaryHeight:12,lineWidth:1.75,borderRadius:8},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:12}},Bg={...zt,name:"presentation",colors:{...zt.colors,background:"#ffffff",foreground:"#0f172a",primary:"#0369a1",secondary:"#334155",accent:"#ea580c",muted:"#64748b",border:"#94a3b8",rowBg:"#ffffff",altBg:"#f8fafc",interval:"#0369a1",intervalPositive:"#047857",intervalNegative:"#be123c",intervalNeutral:"#334155",intervalLine:"#0f172a",summaryFill:"#0369a1",summaryBorder:"#0c4a6e"},typography:{...zt.typography,fontFamily:"'Source Sans Pro', 'Segoe UI', Roboto, sans-serif",fontSizeSm:"1rem",fontSizeBase:"1.125rem",fontSizeLg:"1.25rem",fontWeightNormal:400,fontWeightMedium:600,fontWeightBold:700,lineHeight:1.4},spacing:{...zt.spacing,rowHeight:44,headerHeight:52,sectionGap:28,padding:20,cellPaddingX:14,cellPaddingY:6},shapes:{...zt.shapes,pointSize:12,summaryHeight:16,lineWidth:2.5,borderRadius:4},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:6}},Gg={...zt,name:"cochrane",colors:{...zt.colors,background:"#ffffff",foreground:"#2c2c2c",primary:"#0099cc",secondary:"#555555",accent:"#006699",muted:"#888888",border:"#b3b3b3",rowBg:"#ffffff",altBg:"#f5f5f5",interval:"#0099cc",intervalPositive:"#0099cc",intervalNegative:"#cc3333",intervalNeutral:"#555555",intervalLine:"#2c2c2c",summaryFill:"#0099cc",summaryBorder:"#006699"},typography:{...zt.typography,fontFamily:"Arial, Helvetica, sans-serif",fontSizeSm:"0.6875rem",fontSizeBase:"0.75rem",fontSizeLg:"0.8125rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.25},spacing:{...zt.spacing,rowHeight:20,headerHeight:26,sectionGap:8,padding:6,cellPaddingX:6,cellPaddingY:2},shapes:{...zt.shapes,pointSize:4,summaryHeight:7,lineWidth:1,borderRadius:0},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:0}},Vg={...zt,name:"nature",colors:{...zt.colors,background:"#ffffff",foreground:"#1a1a1a",primary:"#1976d2",secondary:"#424242",accent:"#c62828",muted:"#616161",border:"#bdbdbd",rowBg:"#ffffff",altBg:"#fafafa",interval:"#1976d2",intervalPositive:"#1976d2",intervalNegative:"#c62828",intervalNeutral:"#616161",intervalLine:"#1a1a1a",summaryFill:"#1976d2",summaryBorder:"#0d47a1"},typography:{...zt.typography,fontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.8125rem",fontSizeLg:"0.9375rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.35},spacing:{...zt.spacing,rowHeight:24,headerHeight:32,sectionGap:12,padding:10,cellPaddingX:10,cellPaddingY:4},shapes:{...zt.shapes,pointSize:5,summaryHeight:8,lineWidth:1.25,borderRadius:1},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:2},axis:{...zt.axis,gridlines:!1,nullTick:!0}},Og={default:zt,minimal:zg,dark:Fg,jama:Pg,lancet:Lg,modern:Dg,presentation:Bg,cochrane:Gg,nature:Vg},qc={default:"Default",minimal:"Minimal",dark:"Dark",jama:"JAMA",lancet:"Lancet",modern:"Modern",presentation:"Presentation",cochrane:"Cochrane",nature:"Nature"};function jg(t,e,r={}){const{gap:o=4,viewportPadding:i=8,preferredPosition:a="below",align:s="end"}=r,c=window.innerHeight,u=window.innerWidth,l=c-t.bottom-o-i,d=t.top-o-i;let f,h;a==="below"?l>=e.height?f="below":d>=e.height?f="above":(f=l>=d?"below":"above",h=Math.max(f==="below"?l:d,100)):d>=e.height?f="above":l>=e.height?f="below":(f=d>=l?"above":"below",h=Math.max(f==="above"?d:l,100));const g={};return f==="below"?g.top=t.bottom+o:g.bottom=c-t.top+o,s==="end"?t.right-e.width<i?g.left=Math.max(t.left,i):g.right=u-t.right:t.left+e.width>u-i?g.right=Math.max(u-t.right,i):g.left=t.left,h&&(g.maxHeight=h),g}function qr(t,e){function r(){if(!e.triggerEl)return;const i=e.triggerEl.getBoundingClientRect(),a=t.getBoundingClientRect(),s=jg(i,{width:a.width,height:a.height},{gap:e.gap??4,align:e.align??"end"});t.style.position="fixed",t.style.top="",t.style.bottom="",t.style.left="",t.style.right="",s.top!==void 0&&(t.style.top=`${s.top}px`),s.bottom!==void 0&&(t.style.bottom=`${s.bottom}px`),s.left!==void 0&&(t.style.left=`${s.left}px`),s.right!==void 0&&(t.style.right=`${s.right}px`),s.maxHeight?(t.style.maxHeight=`${s.maxHeight}px`,t.style.overflowY="auto"):(t.style.maxHeight="",t.style.overflowY="")}function o(i){e=i,requestAnimationFrame(r)}return o(e),{update:o,destroy(){}}}gr[D]="src/components/ui/ThemeSwitcher.svelte";var qg=V(It('<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-35mgh1"><polyline points="20 6 9 17 4 12"></polyline></svg>'),gr[D],[[93,12,[[94,14]]]]),Xg=V(lt('<span class="spacer svelte-35mgh1"></span>'),gr[D],[[97,12]]),Ug=V(lt("<button><!> <span> </span></button>"),gr[D],[[87,8,[[99,10]]]]),$g=V(lt('<div class="theme-dropdown svelte-35mgh1"></div>'),gr[D],[[85,4]]),Yg=V(lt('<div class="theme-switcher-wrapper svelte-35mgh1"><button class="theme-btn svelte-35mgh1" aria-label="Switch theme"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path></svg></button> <!></div>'),gr[D],[[70,0,[[71,2,[[78,4,[[79,6],[80,6]]]]]]]]);function gr(t,e){we(new.target),ge(e,!0,gr);let r=p(St(!1),"dropdownOpen"),o=p(St(null),"triggerEl");const i=p(m(()=>{var v,_;return((_=(v=e.store.spec)==null?void 0:v.theme)==null?void 0:_.name)??"default"}),"currentTheme"),a=p(m(()=>M(e.availableThemes,void 0)||M(e.availableThemes,null)?Ig.map(v=>[v,qc[v]]):Object.entries(e.availableThemes).map(([v,_])=>{const x=_.name?qc[_.name]??_.name:v;return[v,x]})),"themeEntries");function s(){st(r,!1)}function c(v){if(e.onThemeChange)e.onThemeChange(v);else if(e.availableThemes&&v in e.availableThemes){const _=e.availableThemes[v];e.store.spec&&e.store.setSpec({...e.store.spec,theme:_})}else e.store.setTheme(v);s()}function u(v){v.target.closest(".theme-switcher-wrapper")||s()}var l={...be()},d=Yg();Gn("click",Uo,u);var f=Y(d);f.__click=()=>st(r,!n(r)),no(f,v=>st(o,v),()=>n(o));var h=nt(f,2);{var g=v=>{var _=$g();I(()=>Ie(_,21,()=>n(a),Zn,(x,y)=>{var b=m(()=>Oa(n(y),2));let N=()=>n(b)[0];N();let H=()=>n(b)[1];H();var w=Ug();let k;w.__click=()=>c(N());var S=Y(w);{var E=T=>{var B=qg();z(T,B)},P=T=>{var B=Xg();z(T,B)};I(()=>j(S,T=>{M(n(i),N())?T(E):T(P,!1)}),"if",gr,92,10)}var A=nt(S,2),W=Y(A,!0);tt(()=>{k=pn(w,1,"dropdown-item svelte-35mgh1",null,k,{active:M(n(i),N())}),Ot(W,H())}),z(x,w)}),"each",gr,86,6),fa(_,(x,y)=>qr==null?void 0:qr(x,y),()=>({triggerEl:n(o)})),z(v,_)};I(()=>j(h,v=>{n(r)&&v(g)}),"if",gr,84,2)}return tt(()=>R(f,"aria-expanded",n(r))),z(t,d),ve(l)}to(["click"]),No[D]="src/components/ui/ViewToggle.svelte";var Zg=V(It('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="10" y2="6"></line><line x1="3" y1="12" x2="10" y2="12"></line><line x1="3" y1="18" x2="10" y2="18"></line><line x1="14" y1="12" x2="21" y2="12"></line><circle cx="17" cy="12" r="2" fill="currentColor"></circle></svg>'),No[D],[[21,4,[[23,6],[24,6],[25,6],[27,6],[28,6]]]]),Kg=V(It('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>'),No[D],[[32,4,[[33,6],[34,6],[35,6]]]]),Qg=V(lt('<button class="view-toggle-btn svelte-1u54q0q"><!></button>'),No[D],[[13,0]]);function No(t,e){we(new.target),ge(e,!0,No);const r=p(m(()=>{var u,l;return((l=(u=e.store.spec)==null?void 0:u.data)==null?void 0:l.includeForest)??!0}),"includeForest");var o={...be()},i=Qg();i.__click=()=>e.store.toggleForestView();var a=Y(i);{var s=u=>{var l=Zg();z(u,l)},c=u=>{var l=Kg();z(u,l)};I(()=>j(a,u=>{n(r)?u(s):u(c,!1)}),"if",No,19,2)}return tt(()=>{R(i,"aria-label",n(r)?"Show table only":"Show forest plot"),R(i,"title",n(r)?"Show table only":"Show forest plot")}),z(t,i),ve(o)}to(["click"]);function ba(t,e){const r=t.split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,e),r.join(".")}function As(t){const e=Math.abs(t),r=t<0?"-":"";if(e>=1e12)throw new Error(`Cannot abbreviate value >= 1 trillion: ${t}`);if(e>=1e9){const o=e/1e9;return r+Ws(o)+"B"}if(e>=1e6){const o=e/1e6;return r+Ws(o)+"M"}if(e>=1e3){const o=e/1e3;return r+Ws(o)+"K"}return r+Math.round(e).toString()}function Ws(t){const e=Math.round(t*10)/10;return e===Math.floor(e)?e.toFixed(0):e.toFixed(1)}const Jg={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻","+":"⁺"};function tv(t){return t.split("").map(e=>Jg[e]??e).join("")}function ni(t,e){var l,d,f,h,g,v,_;if(t==null||Number.isNaN(t))return(e==null?void 0:e.naText)??"";if(e!=null&&e.percent){const{decimals:x,digits:y,multiply:b=!0,symbol:N=!0}=e.percent,H=b?t*100:t,w=y!=null?H.toPrecision(y):H.toFixed(x??1);return N?`${w}%`:w}if(((l=e==null?void 0:e.numeric)==null?void 0:l.abbreviate)&&Math.abs(t)>=1e3)return As(t);const o=(d=e==null?void 0:e.numeric)==null?void 0:d.digits;if(o!=null){const x=t.toPrecision(o),y=(f=e==null?void 0:e.numeric)==null?void 0:f.thousandsSep;return y&&typeof y=="string"?ba(x,y):x}const i=(h=e==null?void 0:e.numeric)==null?void 0:h.decimals,a=(g=e==null?void 0:e.numeric)==null?void 0:g.thousandsSep;let s;i!==void 0?s=t.toFixed(i):Number.isInteger(t)||Math.abs(t-Math.round(t))<1e-4?s=Math.round(t).toString():s=t.toFixed(2),a&&typeof a=="string"&&(s=ba(s,a));const c=(v=e==null?void 0:e.numeric)==null?void 0:v.prefix,u=(_=e==null?void 0:e.numeric)==null?void 0:_.suffix;return c&&(s=c+s),u&&(s=s+u),s}function Rs(t,e){const{eventsField:r,nField:o,separator:i="/",showPct:a=!1,thousandsSep:s,abbreviate:c}=e.events,u=t.metadata[r],l=t.metadata[o];if(u==null||l===void 0||l===null)return e.naText??"";const d=Number(u),f=Number(l);let h,g;c&&(d>=1e3||f>=1e3)?(h=d>=1e3?As(d):String(d),g=f>=1e3?As(f):String(f)):(h=String(d),g=String(f),s&&typeof s=="string"&&(h=ba(h,s),g=ba(g,s)));let v=`${h}${i}${g}`;if(a&&f>0){const _=(d/f*100).toFixed(1);v+=` (${_}%)`}return v}function Is(t,e,r,o){var c,u,l;if(t==null||Number.isNaN(t))return"";const i=((c=o==null?void 0:o.interval)==null?void 0:c.decimals)??2,a=((u=o==null?void 0:o.interval)==null?void 0:u.sep)??" ",s=(l=o==null?void 0:o.interval)==null?void 0:l.impreciseThreshold;return e==null||r===void 0||r===null||Number.isNaN(e)||Number.isNaN(r)?t.toFixed(i):s!=null&&e>0&&r/e>s?"—":`${t.toFixed(i)}${a}(${e.toFixed(i)}, ${r.toFixed(i)})`}function Xc(t,e){if(t==null||Number.isNaN(t))return(e==null?void 0:e.naText)??"";const r=e==null?void 0:e.pvalue,o=(r==null?void 0:r.digits)??2,i=(r==null?void 0:r.expThreshold)??.001,a=(r==null?void 0:r.abbrevThreshold)??null,s=(r==null?void 0:r.format)??"auto",c=(r==null?void 0:r.stars)??!1,u=(r==null?void 0:r.thresholds)??[.05,.01,.001];let l="";if(c&&(t<u[2]?l="***":t<u[1]?l="**":t<u[0]&&(l="*")),a!==null&&t<a)return`<${a}${l}`;if(s==="scientific"||s==="auto"&&t<i){const f=Math.floor(Math.log10(t));return`${(t/Math.pow(10,f)).toPrecision(o)}×10${tv(f.toString())}${l}`}let d;return t>=.1?d=t.toFixed(o):t>=.01?d=t.toFixed(o+1):d=t.toFixed(o+2),`${d}${l}`}function Uc(t,e){var a,s,c,u,l,d;const{type:r,field:o,options:i}=e;switch(r){case"interval":{const f=(a=i==null?void 0:i.interval)!=null&&a.point?t.metadata[i.interval.point]:t.point,h=(s=i==null?void 0:i.interval)!=null&&s.lower?t.metadata[i.interval.lower]:t.lower,g=(c=i==null?void 0:i.interval)!=null&&c.upper?t.metadata[i.interval.upper]:t.upper;return Is(f,h,g,i)}case"custom":return i!=null&&i.events?Rs(t,i):String(t.metadata[o]??"");case"pvalue":return Xc(t.metadata[o],i);case"numeric":return ni(t.metadata[o],i);case"percent":return ni(t.metadata[o],i);case"heatmap":{const f=t.metadata[o];if(f==null)return"";const h=((u=i==null?void 0:i.heatmap)==null?void 0:u.decimals)??2;return f.toFixed(h)}case"progress":{const f=t.metadata[o];if(f==null)return"";const h=((l=i==null?void 0:i.progress)==null?void 0:l.maxValue)??100;return`${Math.round(Math.min(100,Math.max(0,f/h*100)))}%`}case"sparkline":case"icon":case"stars":case"img":case"range":return"";case"badge":{const f=t.metadata[o];return f==null?"":`  ${String(f)}  `}case"bar":{if(((d=i==null?void 0:i.bar)==null?void 0:d.showLabel)===!1)return"";const f=t.metadata[o];return f==null?"":f>=100?f.toFixed(0):f>=10?f.toFixed(1):f.toFixed(2)}case"text":default:return String(t.metadata[o]??"")}}function vr(t,e){const r="⁰¹²³⁴⁵⁶⁷⁸⁹⁺⁻",o="ilI1.,;:|!()[]{}' -",i="mwMW@%",a="ABCDEFGHJKLNOPQRSTUVXYZ";let s=0;for(const c of t)r.includes(c)?s+=e*.15:o.includes(c)?s+=e*.35:"×−".includes(c)?s+=e*.4:i.includes(c)?s+=e*.85:c>="0"&&c<="9"?s+=e*.6:a.includes(c)?s+=e*.68:s+=e*.55;return s}function ev(t,e,r,o=400){if(typeof document>"u")return null;const a=document.createElement("canvas").getContext("2d");return a?(a.font=`${o} ${e} ${r}`,a.measureText(t).width):null}function $c(t){if(!t||t.length===0)return{min:NaN,q1:NaN,median:NaN,q3:NaN,max:NaN};const e=t.filter(i=>i!=null&&!Number.isNaN(i)).sort((i,a)=>i-a);if(e.length===0)return{min:NaN,q1:NaN,median:NaN,q3:NaN,max:NaN};const r=e.length,o=i=>{if(r===1)return e[0];const a=(r-1)*i,s=Math.floor(a),c=Math.ceil(a);return s===c?e[s]:e[s]+(a-s)*(e[c]-e[s])};return{min:e[0],q1:o(.25),median:o(.5),q3:o(.75),max:e[r-1]}}function nv(t,e,r){if(!t||t.length===0||Number.isNaN(e)||Number.isNaN(r))return[];const o=r-e,i=e-1.5*o,a=r+1.5*o;return t.filter(s=>s!=null&&!Number.isNaN(s)&&(s<i||s>a))}function Ma(t){const e=$c(t),r=nv(t,e.q1,e.q3);return{...e,outliers:r}}function rv(t){if(!t||t.length<2)return 1;const e=t.filter(g=>g!=null&&!Number.isNaN(g)).sort((g,v)=>g-v);if(e.length<2)return 1;const r=e.length,o=e.reduce((g,v)=>g+v,0)/r,i=e.reduce((g,v)=>g+(v-o)**2,0)/(r-1),a=Math.sqrt(i),s=Math.floor((r-1)*.25),c=Math.floor((r-1)*.75),u=e[s],d=e[c]-u,h=.9*Math.min(a,d/1.34)*Math.pow(r,-.2);return Math.max(h,.001)}function ov(t){return Math.exp(-.5*t*t)/Math.sqrt(2*Math.PI)}function Yc(t,e,r=128){if(!t||t.length===0)return{x:[],y:[]};const o=t.filter(g=>g!=null&&!Number.isNaN(g));if(o.length===0)return{x:[],y:[]};const i=e??rv(o),a=Math.min(...o),s=Math.max(...o),c=3*i,u=a-c,d=(s+c-u)/(r-1),f=[],h=[];for(let g=0;g<r;g++){const v=u+g*d;f.push(v);let _=0;for(const x of o)_+=ov((v-x)/i);_/=o.length*i,h.push(_)}return{x:f,y:h}}function Zc(t,e){if(t.y.length===0)return t;const r=Math.max(...t.y);if(r===0)return t;const o=t.y.map(i=>i/r*e);return{x:t.x,y:o}}function Sa(t,e,r,o=400){const i=ev(t,`${e}px`,r,o);if(i!==null)return i;const a=1+Math.max(0,(o-400)/100)*.02;return vr(t,e)*a}function iv(t,e){var l,d;const r=new Map,o=Nn(t.theme.typography.fontSizeBase),i=t.theme.typography.headerFontScale??1.05,a=Math.round(o*i*100)/100,s=t.data.rows,c=(t.theme.spacing.cellPaddingX??10)*2,u=(t.theme.spacing.groupPadding??8)*2;for(const f of e){if(f.width!=="auto"&&f.width!==null&&f.width!==void 0)continue;let h=0;f.header&&(h=Math.max(h,vr(f.header,a)));for(const _ of s){if(((l=_.style)==null?void 0:l.type)==="header"||((d=_.style)==null?void 0:d.type)==="spacer")continue;const x=Uc(_,f);x&&(h=Math.max(h,vr(x,o)))}const g=Jn.VISUAL_MIN[f.type]??Jn.MIN,v=Math.ceil(h+c+Qn.RENDERING_BUFFER);r.set(f.id,Math.min(Jn.MAX,Math.max(g,v)))}return av(t.columns,r,a,u,Qn.RENDERING_BUFFER),r}function av(t,e,r,o,i){function a(u){return u.isGroup?u.columns.flatMap(a):[u]}function s(u){const l=e.get(u.id);return l!==void 0?l:typeof u.width=="number"?u.width:Jn.MIN}function c(u){if(u.isGroup){for(const l of u.columns)c(l);if(u.header){const l=vr(u.header,r)+o+i,d=a(u),f=d.reduce((h,g)=>h+s(g),0);if(l>f&&d.length>0){const h=Math.ceil((l-f)/d.length);for(const g of d)e.set(g.id,s(g)+h)}}}}for(const u of t)c(u)}function Kc(t,e,r){let o=r.filter(a=>a.groupId===t).length;const i=e.filter(a=>a.parentId===t);for(const a of i)o+=Kc(a.id,e,r);return o}function Qc(t){var u,l;const e=Nn(t.theme.typography.fontSizeBase),r=(t.theme.spacing.cellPaddingX??10)*2;let o=0;const i=new Map,a=Array.isArray(t.data.groups)?t.data.groups:[];for(const d of a)i.set(d.id,d.depth);const s=d=>d?(i.get(d)??0)+1:0;t.data.labelHeader&&(o=Math.max(o,vr(t.data.labelHeader,e)));for(const d of t.data.rows)if(d.label){const f=s(d.groupId),h=((u=d.style)==null?void 0:u.indent)??0,v=(f+h)*Te.INDENT_PER_LEVEL;let _=vr(d.label,e)+v;if((l=d.style)!=null&&l.badge){const x=String(d.style.badge),y=e*kr.FONT_SCALE,N=vr(x,y)+kr.PADDING*2;_+=kr.GAP+N}o=Math.max(o,_)}for(const d of a)if(d.label){const f=d.depth*Te.INDENT_PER_LEVEL,h=vr(d.label,e),v=`(${Kc(d.id,a,t.data.rows)})`,_=e*.75,x=vr(v,_),y=f+ro.CHEVRON_WIDTH+ro.GAP+h+ro.GAP+x+ro.SAFETY_MARGIN;o=Math.max(o,y)}const c=Math.ceil(o+r+Qn.RENDERING_BUFFER);return Math.min(Jn.LABEL_MAX,Math.max(Jn.MIN,c))}function zs(t,e){const r=e.get(t.id);return r!==void 0?r:typeof t.width=="number"?t.width:Cr.DEFAULT_COLUMN_WIDTH}function sv(t,e,r=0){var jt,Pt,de,xt,Yt;const o=t.theme,i=o.spacing.rowHeight,a=o.spacing.padding,s=Array.isArray(t.columns)?t.columns:[],c=tf(s,"left"),u=tf(s,"right"),d=Ea(c)||Ea(u)||Ea(s)?2:1,f=o.spacing.cellPaddingY??4,v=(o.spacing.headerHeight/d+f*2)*d,_=!!((jt=t.labels)!=null&&jt.title),x=!!((Pt=t.labels)!=null&&Pt.subtitle),y=!!((de=t.labels)!=null&&de.caption),b=!!((xt=t.labels)!=null&&xt.footnote),N=_?Tr.TITLE_HEIGHT:0,H=x?Tr.SUBTITLE_HEIGHT:0,w=_&&x?13:0,k=N+w+H+(_||x?a:0),S=y?Tr.CAPTION_HEIGHT:0,E=b?Tr.FOOTNOTE_HEIGHT:0,P=S+E+(y||b?a:0),A=Jc(t),W=!!t.data.overall;let T=0;for(const qt of A){const Ke=qt.type==="data"&&((Yt=qt.row.style)==null?void 0:Yt.type)==="spacer";T+=Ke?i/2:i}const B=T+(W?i*bd.OVERALL_ROW_HEIGHT_MULTIPLIER:0),L=Ls(s,"left"),K=Ls(s,"right"),Z=Ps(s).filter(qt=>qt.position===void 0),$=[...L,...K,...Z];let O,Q;if(e.columnWidths){O=new Map;for(const[qt,Ke]of Object.entries(e.columnWidths))qt!=="__label__"&&O.set(qt,Ke);Q=e.columnWidths.__label__??Qc(t)}else O=iv(t,$),Q=Qc(t);const ht=Q+L.reduce((qt,Ke)=>qt+zs(Ke,O),0),ot=K.reduce((qt,Ke)=>qt+zs(Ke,O),0),at=Z.filter(qt=>qt.type!=="forest").reduce((qt,Ke)=>qt+zs(Ke,O),0),et=e.width??Cr.DEFAULT_WIDTH,$t=$.some(qt=>qt.type==="forest")||t.data.includeForest,Kt=ht+ot+at;let gt;if(!$t)gt=0;else if(typeof e.forestWidth=="number")gt=e.forestWidth;else if(typeof t.layout.plotWidth=="number")gt=t.layout.plotWidth;else{const qt=et-Kt-a*2;gt=Math.max(qt,Cr.MIN_FOREST_WIDTH)}const bt=a*2+Kt+gt,ae=Math.max(e.width??et,bt);$t&&ae>bt&&typeof e.forestWidth!="number"&&typeof t.layout.plotWidth!="number"&&(gt=ae-Kt-a*2);const ue=o.spacing.axisGap??12,re=ue+Cr.AXIS_HEIGHT+Cr.AXIS_LABEL_HEIGHT,en=k+a+v+B+re+P+Cr.BOTTOM_MARGIN;return{totalWidth:ae,totalHeight:e.height??en,tableWidth:ht+ot,forestWidth:gt,headerHeight:v,rowHeight:i,plotHeight:B,axisHeight:Cr.AXIS_HEIGHT,nullValue:r,summaryYPosition:B-i,showOverallSummary:W,headerTextHeight:k,footerTextHeight:P,titleY:a+Tr.TITLE_HEIGHT-4,subtitleY:a+N+w+Tr.SUBTITLE_HEIGHT-4,mainY:k+a,footerY:k+a+v+B+re+8,axisGap:ue,rowsHeight:T,autoWidths:O,labelWidth:Q}}function Jc(t){var f;const e=t.data.rows,r=Array.isArray(t.data.groups)?t.data.groups:[];if(r.length===0)return e.map(h=>({type:"data",row:h,depth:0}));const o=new Map;for(const h of r)o.set(h.id,h);const i=new Map;for(const h of e){const g=h.groupId??null;i.has(g)||i.set(g,[]),i.get(g).push(h)}const a=new Set;for(const h of i.keys()){if(!h)continue;let g=h;for(;g;)a.add(g),g=(f=o.get(g))==null?void 0:f.parentId}function s(h){return r.filter(g=>(g.parentId??null)===h&&a.has(g.id))}function c(h){if(!h)return 0;const g=o.get(h);return g?g.depth+1:0}function u(h){var v;let g=((v=i.get(h))==null?void 0:v.length)??0;for(const _ of s(h))g+=u(_.id);return g}const l=[];function d(h){if(h){const v=o.get(h);if(!v)return;const _=u(h);l.push({type:"group_header",groupId:v.id,label:v.label,depth:v.depth,rowCount:_})}for(const v of s(h))d(v.id);const g=i.get(h)??[];for(const v of g)l.push({type:"data",row:v,depth:c(v.groupId)})}return d(null),l}function Fs(t){const e=[];for(const r of t)r.isGroup?e.push(...Fs(r.columns)):e.push(r);return e}function Ps(t){const e=[];for(const r of t)r.isGroup?e.push(...Fs(r.columns)):e.push(r);return e}function Ls(t,e){if(e===void 0)return Ps(t);const r=[];for(const o of t)o.position===e&&(o.isGroup?r.push(...Fs(o.columns)):r.push(o));return r}function tf(t,e){return t.filter(r=>r.position===e)}function Ea(t){return t.some(e=>e.isGroup)}function Nn(t){let e;return t.endsWith("rem")?e=parseFloat(t)*Tr.REM_BASE:t.endsWith("px")?e=parseFloat(t):t.endsWith("pt")?e=parseFloat(t)*Tr.PT_TO_PX:e=Tr.DEFAULT_FONT_SIZE,Math.round(e*100)/100}function ka(t,e,r){return r==="right"?{textX:t+e-Te.TEXT_PADDING,anchor:"end"}:r==="center"?{textX:t+e/2,anchor:"middle"}:{textX:t+Te.TEXT_PADDING,anchor:"start"}}function dn(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function ef(t,e,r,o=0){const i=e-o*2;if(vr(t,r)<=i)return t;const s="…",c=r*.55;let u=0,l=t.length;for(;u<l;){const d=Math.ceil((u+l)/2),f=t.slice(0,d);vr(f,r)+c<=i?u=d:l=d-1}return u===0?s:t.slice(0,u)+s}function lv(t){return Math.abs(t)<.01?"0":Math.abs(t)>=100?t.toFixed(0):Math.abs(t)>=10?t.toFixed(1):t.toFixed(2)}function ji(t,e){const[r,o]=t,[i,a]=e,s=(a-i)/(o-r),c=u=>i+(u-r)*s;return c.domain=()=>t,c.range=()=>e,c.ticks=u=>{const l=(o-r)/(u-1),d=[];for(let f=0;f<u;f++)d.push(r+l*f);return d},c}function qi(t,e){const[r,o]=t.map(d=>Math.max(d,.001)),[i,a]=e,s=Math.log10(r),c=Math.log10(o),u=(a-i)/(c-s),l=d=>{const f=Math.log10(Math.max(d,.001));return i+(f-s)*u};return l.domain=()=>[r,o],l.range=()=>e,l.ticks=d=>{const f=[],h=Math.floor(Math.log10(r)),g=Math.ceil(Math.log10(o));for(let v=h;v<=g;v++){const _=Math.pow(10,v);for(const x of[1,2,5]){const y=_*x;y>=r&&y<=o&&f.push(y)}}return f.length>0?f:[r,o]},l}function cv(t,e,r,o){const i=r.scale==="log",a=Wn,s=Math.max(e-Wn,a+50);if(o!=null&&o.xDomain){const f=o.xDomain,h=o.clipBounds??f,g=rc(h,t.theme.axis,r.scale,r.nullValue);return i?{scale:qi([Math.max(f[0],.01),Math.max(f[1],.02)],[a,s]),clipBounds:h,ticks:g}:{scale:ji(f,[a,s]),clipBounds:h,ticks:g}}const c=nc({rows:t.data.rows,config:t.theme.axis,scale:r.scale,nullValue:r.nullValue,forestWidth:e,pointSize:t.theme.shapes.pointSize,effects:r.effects,pointCol:r.pointCol,lowerCol:r.lowerCol,upperCol:r.upperCol}),{plotRegion:u,axisLimits:l,ticks:d}=c;return i?{scale:qi([Math.max(u[0],.01),Math.max(u[1],.02)],[a,s]),clipBounds:l,ticks:d}:{scale:ji(u,[a,s]),clipBounds:l,ticks:d}}function fv(t,e,r){var a,s,c,u;const o=[],i=r.spacing.padding;if((a=t.labels)!=null&&a.title){const l=Nn(r.typography.fontSizeLg);o.push(`<text x="${i}" y="${e.titleY}"
      font-family="${r.typography.fontFamily}"
      font-size="${l}px"
      font-weight="${r.typography.fontWeightBold}"
      fill="${r.colors.foreground}">${dn(t.labels.title)}</text>`)}if((s=t.labels)!=null&&s.subtitle){const l=Nn(r.typography.fontSizeBase);o.push(`<text x="${i}" y="${e.subtitleY}"
      font-family="${r.typography.fontFamily}"
      font-size="${l}px"
      font-weight="${r.typography.fontWeightNormal}"
      fill="${r.colors.secondary}">${dn(t.labels.subtitle)}</text>`)}if((c=t.labels)!=null&&c.title&&((u=t.labels)!=null&&u.subtitle)){const d=Nn(r.typography.fontSizeBase)*.75,f=e.subtitleY-d-6;o.push(`<line x1="${i}" x2="${e.totalWidth-i}"
      y1="${f}" y2="${f}"
      stroke="${r.colors.border}" stroke-width="1" opacity="0.3"/>`)}return o.join(`
`)}function uv(t,e,r){var c,u,l,d;const o=[],i=r.spacing.padding;let a=e.footerY;if(!!((c=t.labels)!=null&&c.caption)||!!((u=t.labels)!=null&&u.footnote)){const f=e.footerY-8;o.push(`<line x1="${i}" x2="${e.totalWidth-i}"
      y1="${f}" y2="${f}"
      stroke="${r.colors.border}" stroke-width="1"/>`)}if((l=t.labels)!=null&&l.caption){const f=Nn(r.typography.fontSizeSm);o.push(`<text x="${i}" y="${a}"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      font-weight="${r.typography.fontWeightNormal}"
      fill="${r.colors.secondary}">${dn(t.labels.caption)}</text>`),a+=Tr.CAPTION_HEIGHT}if((d=t.labels)!=null&&d.footnote){const f=Nn(r.typography.fontSizeSm);o.push(`<text x="${i}" y="${a}"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      font-weight="${r.typography.fontWeightNormal}"
      font-style="italic"
      fill="${r.colors.muted}">${dn(t.labels.footnote)}</text>`)}return o.join(`
`)}function dv(t,e,r,o,i,a,s,c){const u=[],l=e+1,d=c.groupHeaders;let f,h,g,v,_;if(l===1?(f=Nn((d==null?void 0:d.level1FontSize)??c.typography.fontSizeBase),h=(d==null?void 0:d.level1FontWeight)??c.typography.fontWeightBold,g=(d==null?void 0:d.level1Italic)??!1,v=(d==null?void 0:d.level1Background)??null,_=(d==null?void 0:d.level1BorderBottom)??!1):l===2?(f=Nn((d==null?void 0:d.level2FontSize)??c.typography.fontSizeBase),h=(d==null?void 0:d.level2FontWeight)??c.typography.fontWeightMedium,g=(d==null?void 0:d.level2Italic)??!0,v=(d==null?void 0:d.level2Background)??null,_=(d==null?void 0:d.level2BorderBottom)??!1):(f=Nn((d==null?void 0:d.level3FontSize)??c.typography.fontSizeBase),h=(d==null?void 0:d.level3FontWeight)??c.typography.fontWeightNormal,g=(d==null?void 0:d.level3Italic)??!1,v=(d==null?void 0:d.level3Background)??null,_=(d==null?void 0:d.level3BorderBottom)??!1),!v){const H=c.colors.primary,w=l===1?.15:l===2?.1:.06,k=H.replace("#",""),S=parseInt(k.substring(0,2),16),E=parseInt(k.substring(2,4),16),P=parseInt(k.substring(4,6),16);v=`rgba(${S}, ${E}, ${P}, ${w})`}const x=i+a/2,y=e*((d==null?void 0:d.indentPerLevel)??Te.INDENT_PER_LEVEL);u.push(`<rect x="${o}" y="${i}"
    width="${s}" height="${a}"
    fill="${v}"/>`),_&&u.push(`<line x1="${o}" x2="${o+s}" y1="${i+a}" y2="${i+a}"
      stroke="${c.colors.border}" stroke-width="1" opacity="0.5"/>`);const b=g?' font-style="italic"':"",N=o+Te.TEXT_PADDING+y;if(u.push(`<text class="cell-text" x="${N}" y="${x}"
    font-family="${c.typography.fontFamily}"
    font-size="${f}px"
    font-weight="${h}"${b}
    fill="${c.colors.foreground}">${dn(t)}</text>`),r>0){const H=Sa(t,f,c.typography.fontFamily,h),w=N+H+6,k=Nn(c.typography.fontSizeSm??"0.75rem");u.push(`<text class="cell-text" x="${w}" y="${x}"
      font-family="${c.typography.fontFamily}"
      font-size="${k}px"
      font-weight="${c.typography.fontWeightNormal}"
      fill="${c.colors.muted}">(${r})</text>`)}return u.join(`
`)}function hv(t,e){const r=new Map;for(const o of e)if(o.type==="bar"){let i=0;for(const a of t){const s=a.metadata[o.field];typeof s=="number"&&s>i&&(i=s)}r.set(o.field,i>0?i:1)}return r}function gv(t,e){var o,i,a,s,c,u,l,d,f,h,g,v,_,x,y,b,N,H,w;if(e.type==="interval"){const k=(i=(o=e.options)==null?void 0:o.interval)!=null&&i.point?t.metadata[e.options.interval.point]:t.point,S=(s=(a=e.options)==null?void 0:a.interval)!=null&&s.lower?t.metadata[e.options.interval.lower]:t.lower,E=(u=(c=e.options)==null?void 0:c.interval)!=null&&u.upper?t.metadata[e.options.interval.upper]:t.upper;return Is(k,S,E,e.options)}if(e.type==="numeric"){const k=t.metadata[e.field];return typeof k=="number"?ni(k,e.options):((l=e.options)==null?void 0:l.naText)??""}if(e.type==="custom"&&((d=e.options)!=null&&d.events))return Rs(t,e.options);if(e.type==="pvalue"){const k=t.metadata[e.field];return typeof k!="number"?((f=e.options)==null?void 0:f.naText)??"":Xc(k,e.options)}if(e.type==="icon"){const k=t.metadata[e.field];if(k==null)return"";const S=String(k),E=(g=(h=e.options)==null?void 0:h.icon)==null?void 0:g.mapping;return E&&S in E?E[S]:S}if(e.type==="badge"){const k=t.metadata[e.field];return k!=null?String(k):""}if(e.type==="stars"){const k=t.metadata[e.field];if(typeof k!="number")return"";const S=((_=(v=e.options)==null?void 0:v.stars)==null?void 0:_.maxStars)??5,E=Math.max(0,Math.min(S,k)),P=Math.floor(E),A=S-P;return"★".repeat(P)+"☆".repeat(A)}if(e.type==="img")return((y=(x=e.options)==null?void 0:x.img)==null?void 0:y.fallback)??"[IMG]";if(e.type==="reference"){const k=t.metadata[e.field];if(k==null)return"";const S=String(k),E=((N=(b=e.options)==null?void 0:b.reference)==null?void 0:N.maxChars)??30;return S.length<=E?S:S.substring(0,E)+"..."}if(e.type==="range"){const k=(H=e.options)==null?void 0:H.range;if(!k)return"";const S=t.metadata[k.minField],E=t.metadata[k.maxField],P=k.separator??" – ",A=k.decimals,W=T=>typeof T!="number"?"":A==null?Number.isInteger(T)?String(T):T.toFixed(1):T.toFixed(A);return S===null&&E===null?"":S===null?W(E):E===null?W(S):`${W(S)}${P}${W(E)}`}const r=t.metadata[e.field];return r!=null?String(r):((w=e.options)==null?void 0:w.naText)??""}function vv(t,e,r,o,i){const a=t.filter(d=>Number.isFinite(d));if(a.length===0)return"";if(a.length===1){const d=e+o/2,f=r+i/2;return`M${d.toFixed(1)},${f.toFixed(1)}`}const s=Math.min(...a),u=Math.max(...a)-s||1;return`M${a.map((d,f)=>{const h=e+f/(a.length-1)*o,g=r+i-(d-s)/u*i;return`${h.toFixed(1)},${g.toFixed(1)}`}).join("L")}`}function pv(t,e,r,o,i,a=[],s,c=0,u=1/0,l,d=!1){var S;let f;if(a.length===0){const E=!d||t.point!=null&&t.point>0?t.point:null,P=!d||t.lower!=null&&t.lower>0?t.lower:null,A=!d||t.upper!=null&&t.upper>0?t.upper:null;f=[{point:E,lower:P,upper:A,color:null,shape:null,opacity:null}]}else f=a.map(E=>({point:Kn(t.metadata,t.point,E.pointCol,"point",d),lower:Kn(t.metadata,t.lower,E.lowerCol,"lower",d),upper:Kn(t.metadata,t.upper,E.upperCol,"upper",d),color:E.color??null,shape:E.shape??null,opacity:E.opacity??null}));const h=f.filter(E=>E.point!=null&&!Number.isNaN(E.point)&&E.lower!=null&&!Number.isNaN(E.lower)&&E.upper!=null&&!Number.isNaN(E.upper));if(h.length===0)return"";const g=o.shapes.pointSize,v=o.shapes.lineWidth,_=o.colors.intervalLine,x=((S=t.style)==null?void 0:S.type)==="summary",b=o.shapes.summaryHeight/2;function N(E){var A;if(E&&((A=t.markerStyle)==null?void 0:A.size)!=null)return g*t.markerStyle.size;const P=s?t.metadata[s]:void 0;if(P){const W=.5+Math.sqrt(P/100)*1.5;return Math.min(Math.max(g*W,3),g*2.5)}return g}function H(E,P){const A=P===0,W=t.markerStyle,T=o.shapes.effectColors,B=o.shapes.markerShapes,L=["square","circle","diamond","triangle"];let K;A&&(W!=null&&W.color)?K=W.color:E.color?K=E.color:T&&T.length>0?K=T[P%T.length]:K=o.colors.interval??o.colors.primary??"#2563eb";let Z;A&&(W!=null&&W.shape)?Z=W.shape:E.shape?Z=E.shape:B&&B.length>0?Z=B[P%B.length]:Z=L[P%L.length];let $;return A&&(W==null?void 0:W.opacity)!=null?$=W.opacity:E.opacity!=null?$=E.opacity:$=1,{color:K,shape:Z,opacity:$}}function w(E,P,A,W){const{color:T,shape:B,opacity:L}=W,K=L<1?` fill-opacity="${L}"`:"";switch(B){case"circle":return`<circle cx="${E}" cy="${P}" r="${A}" fill="${T}"${K}/>`;case"diamond":return`<polygon points="${[`${E},${P-A}`,`${E+A},${P}`,`${E},${P+A}`,`${E-A},${P}`].join(" ")}" fill="${T}"${K}/>`;case"triangle":return`<polygon points="${[`${E},${P-A}`,`${E+A},${P+A}`,`${E-A},${P+A}`].join(" ")}" fill="${T}"${K}/>`;default:return`<rect x="${E-A}" y="${P-A}" width="${A*2}" height="${A*2}" fill="${T}"${K}/>`}}const k=[];return h.forEach((E,P)=>{const A=e+ic(P,h.length),W=r(E.lower),T=r(E.upper),B=r(E.point),L=H(E,P),K=N(P===0),Z=_;if(x){const $=L.opacity<1?` fill-opacity="${L.opacity}"`:"",O=[`${W},${A}`,`${B},${A-b}`,`${T},${A}`,`${B},${A+b}`].join(" ");k.push(`
        <g class="interval effect-${P} summary">
          <polygon points="${O}"
            fill="${L.color}"${$} stroke="${o.colors.summaryBorder}" stroke-width="1"/>
        </g>`)}else{const $=c+Wn,O=c+u-Wn,Q=l?E.lower<l[0]:W<$,ht=l?E.upper>l[1]:T>O;let ot,at;if(l){const ue=Math.max(l[0],Math.min(l[1],E.lower)),re=Math.max(l[0],Math.min(l[1],E.upper));ot=r(ue),at=r(re)}else ot=Math.max($,Math.min(O,W)),at=Math.max($,Math.min(O,T));const et=tc(o),ct=et.height/2,$t=l?r(l[0]):$,Kt=l?r(l[1]):O;let gt="";if(Q){const ue=et.opacity<1?` fill-opacity="${et.opacity}"`:"";gt=`<path d="${ua("left",$t,A,et)}" fill="${et.color}"${ue}/>`}else gt=`<line x1="${ot}" x2="${ot}" y1="${A-ct}" y2="${A+ct}" stroke="${Z}" stroke-width="${v}"/>`;let bt="";if(ht){const ue=et.opacity<1?` fill-opacity="${et.opacity}"`:"";bt=`<path d="${ua("right",Kt,A,et)}" fill="${et.color}"${ue}/>`}else bt=`<line x1="${at}" x2="${at}" y1="${A-ct}" y2="${A+ct}" stroke="${Z}" stroke-width="${v}"/>`;const ae=l?r(Math.max(l[0],Math.min(l[1],E.point))):Math.max($,Math.min(O,B));k.push(`
        <g class="interval effect-${P}">
          <line x1="${ot}" x2="${at}" y1="${A}" y2="${A}"
            stroke="${Z}" stroke-width="${v}"/>
          ${gt}
          ${bt}
          ${w(ae,A,K,L)}
        </g>`)}}),k.join("")}function mv(t,e,r,o,i,a,s,c){const l=c.shapes.summaryHeight/2,[d,f]=i.domain().map(w=>i(w)),h=Math.min(d,f),g=Math.max(d,f),v=i(e),_=i(t),x=i(r),y=a+Math.max(h,Math.min(g,v)),b=a+Math.max(h,Math.min(g,_)),N=a+Math.max(h,Math.min(g,x));return`<polygon points="${[`${y},${o}`,`${b},${o-l}`,`${N},${o}`,`${b},${o+l}`].join(" ")}"
    fill="${c.colors.summaryFill}"
    stroke="${c.colors.summaryBorder}"
    stroke-width="1"/>`}function yv(t,e,r,o,i,a,s,c){const u=[],l=a.effects,d=l.length;if(!l.some(y=>{const b=t.metadata[y.value];return b!=null&&!Number.isNaN(b)}))return"";const h=r*.7,g=d>1?2:0,v=(h-g*(d-1))/d,_=Math.max(4,v),x=c.shapes.effectColors??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"];return l.forEach((y,b)=>{const N=t.metadata[y.value];if(N==null||Number.isNaN(N))return;const H=e-h/2+b*(_+g),w=o+s(Math.min(0,N)),k=Math.abs(s(N)-s(0)),S=y.color??x[b%x.length],E=y.opacity??.85;u.push(`<rect
      x="${w}" y="${H}"
      width="${Math.max(1,k)}" height="${_}"
      fill="${S}" fill-opacity="${E}" rx="2"
      class="viz-bar-segment"/>`)}),u.join(`
`)}function _v(t,e,r,o,i,a,s,c){const u=[],l=a.effects,d=l.length,f=l.map(b=>{if(b.data){const N=t.metadata[b.data];return!N||!Array.isArray(N)||N.length===0?null:Ma(N)}if(b.min&&b.q1&&b.median&&b.q3&&b.max){const N=t.metadata[b.min],H=t.metadata[b.q1],w=t.metadata[b.median],k=t.metadata[b.q3],S=t.metadata[b.max];if([N,H,w,k,S].some(P=>P==null||Number.isNaN(P)))return null;let E=[];if(b.outliers){const P=t.metadata[b.outliers];P&&Array.isArray(P)&&(E=P)}return{min:N,q1:H,median:w,q3:k,max:S,outliers:E}}return null});if(!f.some(b=>b!==null))return"";const g=r*.7,v=d>1?2:0,_=Math.max(8,(g-(d-1)*v)/d),x=c.shapes.effectColors??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"],y=c.colors.foreground??"#1a1a1a";return l.forEach((b,N)=>{const H=f[N];if(!H)return;const w=e-g/2+N*(_+v),k=w+_/2,S=b.color??x[N%x.length],E=b.fillOpacity??.7;u.push(`<line
      x1="${o+s(H.min)}" x2="${o+s(H.q1)}"
      y1="${k}" y2="${k}"
      stroke="${y}" stroke-width="1"/>`),u.push(`<line
      x1="${o+s(H.min)}" x2="${o+s(H.min)}"
      y1="${k-_/4}" y2="${k+_/4}"
      stroke="${y}" stroke-width="1"/>`),u.push(`<line
      x1="${o+s(H.q3)}" x2="${o+s(H.max)}"
      y1="${k}" y2="${k}"
      stroke="${y}" stroke-width="1"/>`),u.push(`<line
      x1="${o+s(H.max)}" x2="${o+s(H.max)}"
      y1="${k-_/4}" y2="${k+_/4}"
      stroke="${y}" stroke-width="1"/>`);const P=Math.max(2,s(H.q3)-s(H.q1));if(u.push(`<rect
      x="${o+s(H.q1)}" y="${w}"
      width="${P}" height="${_}"
      fill="${S}" fill-opacity="${E}"
      stroke="${y}" stroke-width="1"/>`),u.push(`<line
      x1="${o+s(H.median)}" x2="${o+s(H.median)}"
      y1="${w}" y2="${w+_}"
      stroke="${y}" stroke-width="2"/>`),a.showOutliers!==!1&&H.outliers.length>0)for(const A of H.outliers)u.push(`<circle
          cx="${o+s(A)}" cy="${k}"
          r="2.5"
          fill="none" stroke="${S}" stroke-width="1.5"/>`)}),u.join(`
`)}function xv(t,e,r,o,i,a,s,c){const u=[],l=a.effects,d=l.length,f=l.map(H=>{const w=t.metadata[H.data];return!w||!Array.isArray(w)||w.length<2?null:Yc(w,a.bandwidth)}),h=l.map(H=>{const w=t.metadata[H.data];if(!w||!Array.isArray(w)||w.length<2)return null;const k=w.filter(P=>P!=null&&!Number.isNaN(P)).sort((P,A)=>P-A);if(k.length===0)return null;const S=k.length,E=P=>{if(S===1)return k[0];const A=(S-1)*P,W=Math.floor(A),T=Math.ceil(A);return W===T?k[W]:k[W]+(A-W)*(k[T]-k[W])};return{q1:E(.25),median:E(.5),q3:E(.75)}});if(!f.some(H=>H!==null))return"";const v=r*.8,_=d>1?2:0,x=Math.max(10,(v-(d-1)*_)/d),y=x/2,b=c.shapes.effectColors??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"],N=c.colors.foreground??"#1a1a1a";return l.forEach((H,w)=>{const k=f[w],S=h[w];if(!k||k.x.length<2)return;const E=e-v/2+x/2+w*(x+_),P=H.color??b[w%b.length],A=H.fillOpacity??.5,W=Zc(k,y),T=[];for(let B=0;B<W.x.length;B++){const L=o+s(W.x[B]),K=E-W.y[B];T.push(B===0?`M ${L} ${K}`:`L ${L} ${K}`)}for(let B=W.x.length-1;B>=0;B--){const L=o+s(W.x[B]),K=E+W.y[B];T.push(`L ${L} ${K}`)}if(T.push("Z"),u.push(`<path
      d="${T.join(" ")}"
      fill="${P}" fill-opacity="${A}"
      stroke="${N}" stroke-width="0.5"/>`),a.showMedian!==!1&&S){const B=o+s(S.median);u.push(`<line
        x1="${B}" x2="${B}"
        y1="${E-y*.6}" y2="${E+y*.6}"
        stroke="${N}" stroke-width="2"/>`)}if(a.showQuartiles&&S){const B=o+s(S.q1),L=o+s(S.q3);u.push(`<line
        x1="${B}" x2="${B}"
        y1="${E-y*.4}" y2="${E+y*.4}"
        stroke="${N}" stroke-width="1" stroke-dasharray="2,2"/>`),u.push(`<line
        x1="${L}" x2="${L}"
        y1="${E-y*.4}" y2="${E+y*.4}"
        stroke="${N}" stroke-width="1" stroke-dasharray="2,2"/>`)}}),u.join(`
`)}function wv(t,e,r){var c,u;const o=e.scale==="log",i=Wn;let a=(c=e.axisRange)==null?void 0:c[0],s=(u=e.axisRange)==null?void 0:u[1];if(a==null||s==null){const l=[];for(const d of t)for(const f of e.effects){const h=d.metadata[f.value];h!=null&&!Number.isNaN(h)&&l.push(h)}l.length>0?(a=a??Math.min(0,...l),s=s??Math.max(...l)*1.1):(a=a??0,s=s??100)}return o?qi([Math.max(.01,a),s],[i,r-i]):ji([a,s],[i,r-i])}function bv(t,e,r){var c,u;const o=e.scale==="log",i=Wn;let a=(c=e.axisRange)==null?void 0:c[0],s=(u=e.axisRange)==null?void 0:u[1];if(a==null||s==null){const l=[];for(const d of t)for(const f of e.effects)if(f.data){const h=d.metadata[f.data];if(h&&Array.isArray(h)){const g=Ma(h);l.push(g.min,g.max),e.showOutliers!==!1&&l.push(...g.outliers)}}else if(f.min&&f.max){const h=d.metadata[f.min],g=d.metadata[f.max];h!=null&&!Number.isNaN(h)&&l.push(h),g!=null&&!Number.isNaN(g)&&l.push(g)}if(l.length>0){const d=Math.min(...l),f=Math.max(...l),h=f-d;a=a??d-h*.05,s=s??f+h*.05}else a=a??0,s=s??100}return o?qi([Math.max(.01,a),s],[i,r-i]):ji([a,s],[i,r-i])}function Mv(t,e,r){var c,u;const o=e.scale==="log",i=Wn;let a=(c=e.axisRange)==null?void 0:c[0],s=(u=e.axisRange)==null?void 0:u[1];if(a==null||s==null){const l=[];for(const d of t)for(const f of e.effects){const h=d.metadata[f.data];h&&Array.isArray(h)&&l.push(...h.filter(g=>g!=null&&!Number.isNaN(g)))}if(l.length>0){a=a??Math.min(...l),s=s??Math.max(...l);const d=(s??0)-(a??0);a=(a??0)-d*.1,s=(s??0)+d*.1}else a=a??0,s=s??100}return o?qi([Math.max(.01,a),s],[i,r-i]):ji([a,s],[i,r-i])}function Ds(t,e,r,o,i,a,s){const c=[],u=Nn(r.typography.fontSizeSm),l=vs.EDGE_THRESHOLD,d=x=>x<l?"start":x>a-l?"end":"middle",f=x=>x<l?2:x>a-l?-2:0;c.push(`<line x1="${i}" x2="${i+a}"
    y1="0" y2="0" stroke="${r.colors.border}" stroke-width="1"/>`);const h=t.domain(),g=5,v=[],_=h[1]-h[0];for(let x=0;x<=g;x++)v.push(h[0]+_*x/g);for(const x of v){const y=t(x),b=i+y,N=d(y),H=f(y),w=ni(x);c.push(`<line x1="${b}" x2="${b}" y1="0" y2="4" stroke="${r.colors.border}" stroke-width="1"/>`),c.push(`<text x="${b+H}" y="14"
      text-anchor="${N}"
      font-family="${r.typography.fontFamily}"
      font-size="${u}px"
      font-weight="${r.typography.fontWeightNormal}"
      fill="${r.colors.foreground}">${w}</text>`)}return o&&c.push(`<text x="${i+a/2}" y="28"
      text-anchor="middle"
      font-family="${r.typography.fontFamily}"
      font-size="${u}px"
      font-weight="${r.typography.fontWeightMedium}"
      fill="${r.colors.foreground}">${dn(o)}</text>`),c.join(`
`)}function Sv(t,e,r,o,i,a,s=1,c){const u=[],l=typeof r.axis.tickCount=="number"?r.axis.tickCount:Te.DEFAULT_TICK_COUNT,d=Cv(t,l,r,s,a,c),f=Nn(r.typography.fontSizeSm),h=vs.EDGE_THRESHOLD,g=_=>_<h?"start":_>a-h?"end":"middle",v=_=>_<h?2:_>a-h?-2:0;u.push(`<line x1="${i}" x2="${i+a}"
    y1="0" y2="0" stroke="${r.colors.border}" stroke-width="1"/>`);for(const _ of d){const x=t(_),y=i+x,b=g(x),N=v(x);u.push(`<line x1="${y}" x2="${y}" y1="0" y2="4"
      stroke="${r.colors.border}" stroke-width="1"/>`),u.push(`<text x="${y+N}" y="16" text-anchor="${b}"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      font-weight="${r.typography.fontWeightNormal}"
      fill="${r.colors.secondary}">${lv(_)}</text>`)}return o&&u.push(`<text x="${i+a/2}" y="28"
      text-anchor="middle"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      font-weight="${r.typography.fontWeightMedium}"
      fill="${r.colors.secondary}">${dn(o)}</text>`),`<g transform="translate(0, ${e.mainY+e.headerHeight+e.rowsHeight+e.axisGap})">${u.join(`
`)}</g>`}function Ev(t,e,r,o,i,a,s,c,u,l){const d=[],f=Nn(a.typography.fontSizeBase),h=a.typography.headerFontScale??1.05,g=Math.round(f*h*100)/100,v=a.typography.fontWeightBold,_=a.typography.fontWeightBold,x=Ea(t),y=(b,N)=>b+N/2;if(x){const b=i/2,N=i/2;let H=r;d.push(`<text class="cell-text" x="${H+Te.TEXT_PADDING}" y="${y(o,i)}"
      font-family="${a.typography.fontFamily}"
      font-size="${g}px"
      font-weight="${v}"
      fill="${a.colors.foreground}">${dn(s)}</text>`),H+=c;const w=[];for(const k of t)if(k.isGroup){const S=k.columns.reduce((P,A)=>A.isGroup?P+A.columns.reduce((W,T)=>W+l(T),0):P+l(A),0),E=H+S/2;d.push(`<text class="cell-text" x="${E}" y="${y(o,b)}"
          font-family="${a.typography.fontFamily}"
          font-size="${g}px"
          font-weight="${_}"
          text-anchor="middle"
          fill="${a.colors.foreground}">${dn(k.header)}</text>`),w.push({x1:H,x2:H+S}),H+=S}else{const S=l(k),E=k.headerAlign??k.align,{textX:P,anchor:A}=ka(H,S,E),W=ef(k.header,S,g,Te.TEXT_PADDING);d.push(`<text class="cell-text" x="${P}" y="${y(o,i)}"
          font-family="${a.typography.fontFamily}"
          font-size="${g}px"
          font-weight="${v}"
          text-anchor="${A}"
          fill="${a.colors.foreground}">${dn(W)}</text>`),H+=S}for(const k of w)d.push(`<line x1="${k.x1}" x2="${k.x2}"
        y1="${o+b}" y2="${o+b}"
        stroke="${a.colors.border}" stroke-width="1"/>`);H=r+c;for(const k of t)if(k.isGroup){for(const S of k.columns)if(!S.isGroup){const E=l(S),P=S.headerAlign??S.align,{textX:A,anchor:W}=ka(H,E,P);d.push(`<text class="cell-text" x="${A}" y="${y(o+b,N)}"
              font-family="${a.typography.fontFamily}"
              font-size="${g}px"
              font-weight="${v}"
              text-anchor="${W}"
              fill="${a.colors.foreground}">${dn(S.header)}</text>`),H+=E}}else H+=l(k)}else{let b=r;d.push(`<text class="cell-text" x="${b+Te.TEXT_PADDING}" y="${y(o,i)}"
      font-family="${a.typography.fontFamily}"
      font-size="${g}px"
      font-weight="${v}"
      fill="${a.colors.foreground}">${dn(s)}</text>`),b+=c;for(const N of e){const H=l(N),w=N.headerAlign??N.align,{textX:k,anchor:S}=ka(b,H,w),E=ef(N.header,H,g,Te.TEXT_PADDING);d.push(`<text class="cell-text" x="${k}" y="${y(o,i)}"
        font-family="${a.typography.fontFamily}"
        font-size="${g}px"
        font-weight="${v}"
        text-anchor="${S}"
        fill="${a.colors.foreground}">${dn(E)}</text>`),b+=H}}return d.join(`
`)}function kv(t,e,r,o,i,a,s,c,u,l,d,f,h=[]){var H,w,k,S,E,P,A,W,T,B,L,K,Z,$,O,Q,ht,ot,at,et,ct,$t,Kt,gt,bt,ae,ue,re,en,jt,Pt;const g=[],v=Nn(a.typography.fontSizeBase),_=o+i/2,x=c*Te.INDENT_PER_LEVEL+(((H=t.style)==null?void 0:H.indent)??0)*Te.INDENT_PER_LEVEL,y=(w=t.style)!=null&&w.bold||(k=t.style)!=null&&k.emphasis?a.typography.fontWeightBold:a.typography.fontWeightNormal,b=(S=t.style)!=null&&S.italic?"italic":"normal";let N=a.colors.foreground;if((E=t.style)!=null&&E.color?N=t.style.color:(P=t.style)!=null&&P.muted?N=a.colors.muted:(A=t.style)!=null&&A.accent&&(N=a.colors.accent),g.push(`<text class="cell-text" x="${r+Te.TEXT_PADDING+x}" y="${_}"
    font-family="${a.typography.fontFamily}"
    font-size="${v}px"
    font-weight="${y}"
    font-style="${b}"
    fill="${N}">${dn(t.label)}</text>`),(W=t.style)!=null&&W.badge){const de=String(t.style.badge),xt=v*kr.FONT_SCALE,Yt=xt+kr.PADDING*2,qt=Sa(t.label,v,a.typography.fontFamily,y),Ke=r+Te.TEXT_PADDING+x+qt+kr.GAP,ar=Sa(de,xt,a.typography.fontFamily,a.typography.fontWeightBold)+kr.PADDING*2,Ct=o+(i-Yt)/2;g.push(`<rect x="${Ke}" y="${Ct}" width="${ar}" height="${Yt}"
      rx="3" fill="${a.colors.primary}" opacity="0.15"/>`),g.push(`<text class="cell-text" x="${Ke+ar/2}" y="${Ct+Yt/2}"
      text-anchor="middle"
      font-family="${a.typography.fontFamily}"
      font-size="${xt}px"
      font-weight="${a.typography.fontWeightBold}"
      fill="${a.colors.primary}">${dn(de)}</text>`)}for(let de=0;de<e.length;de++){const xt=e[de],Yt=f[de],qt=d(xt);if(xt.type==="forest"||xt.type==="viz_bar"||xt.type==="viz_boxplot"||xt.type==="viz_violin")continue;const Ke=gv(t,xt),{textX:yr,anchor:ar}=ka(Yt,qt,xt.align);if(xt.type==="bar"&&typeof t.metadata[xt.field]=="number"){const Ct=t.metadata[xt.field],vt=u.get(xt.field),je=((B=(T=xt.options)==null?void 0:T.bar)==null?void 0:B.maxValue)??vt??100,Le=((K=(L=xt.options)==null?void 0:L.bar)==null?void 0:K.color)??a.colors.primary,Ht=a.shapes.pointSize*2,oe=qt-Te.TEXT_PADDING*2-50,qe=Math.min(Ct/je*oe,oe),Je=t.style,ze=Je!=null&&Je.bold||Je!=null&&Je.emphasis?a.typography.fontWeightBold:a.typography.fontWeightNormal;g.push(`<rect x="${Yt+Te.TEXT_PADDING}" y="${o+i/2-Ht/2}"
        width="${Math.max(0,qe)}" height="${Ht}"
        fill="${Le}" opacity="0.7" rx="2"/>`),g.push(`<text class="cell-text" x="${Yt+qt-Te.TEXT_PADDING}" y="${_}"
        font-family="${a.typography.fontFamily}"
        font-size="${v}px"
        font-weight="${ze}"
        text-anchor="end"
        fill="${a.colors.foreground}">${ni(Ct)}</text>`)}else if(xt.type==="sparkline"&&Array.isArray(t.metadata[xt.field])){let Ct=t.metadata[xt.field];Array.isArray(Ct[0])&&(Ct=Ct[0]);const vt=(($=(Z=xt.options)==null?void 0:Z.sparkline)==null?void 0:$.height)??16,je=((Q=(O=xt.options)==null?void 0:O.sparkline)==null?void 0:Q.color)??a.colors.primary,Le=Te.TEXT_PADDING*2,Ht=vv(Ct,Yt+Te.TEXT_PADDING,o+i/2-vt/2,qt-Le,vt);g.push(`<path d="${Ht}" fill="none" stroke="${je}" stroke-width="1.5"/>`)}else if(xt.type==="badge"){const Ct=t.metadata[xt.field];if(Ct!=null){const vt=String(Ct),je=v*.85,Le=je+8,Ht=(ot=(ht=xt.options)==null?void 0:ht.badge)==null?void 0:ot.variants,kt=(et=(at=xt.options)==null?void 0:at.badge)==null?void 0:et.colors;let oe=a.colors.primary,qe=a.colors.primary;if(kt&&vt in kt)oe=kt[vt],qe=kt[vt];else if(Ht&&vt in Ht){const qn=Ht[vt];oe={default:a.colors.primary,...Ii,muted:a.colors.muted}[qn]??a.colors.primary,qe=oe}const ze=Sa(vt,je,a.typography.fontFamily,a.typography.fontWeightBold)+12,Qe=xt.align==="right"?Yt+qt-Te.TEXT_PADDING-ze:xt.align==="center"?Yt+(qt-ze)/2:Yt+Te.TEXT_PADDING,ln=o+(i-Le)/2;g.push(`<rect x="${Qe}" y="${ln}" width="${ze}" height="${Le}"
          rx="${Le/2}" fill="${oe}" opacity="0.15"/>`),g.push(`<text class="cell-text" x="${Qe+ze/2}" y="${ln+Le/2}"
          text-anchor="middle"
          font-family="${a.typography.fontFamily}"
          font-size="${je}px"
          font-weight="${a.typography.fontWeightBold}"
          fill="${qe}">${dn(vt)}</text>`)}}else if(xt.type==="stars"){const Ct=t.metadata[xt.field];if(typeof Ct=="number"){const vt=(($t=(ct=xt.options)==null?void 0:ct.stars)==null?void 0:$t.maxStars)??5,je=((gt=(Kt=xt.options)==null?void 0:Kt.stars)==null?void 0:gt.color)??"#f59e0b",Le=((ae=(bt=xt.options)==null?void 0:bt.stars)==null?void 0:ae.emptyColor)??"#d1d5db",Ht=Math.max(0,Math.min(vt,Ct)),kt=Math.floor(Ht),oe=((re=(ue=xt.options)==null?void 0:ue.stars)==null?void 0:re.halfStars)&&Ht-kt>=.5,qe=12,Je=2,ze=vt*qe+(vt-1)*Je;let Qe=xt.align==="right"?Yt+qt-Te.TEXT_PADDING-ze:xt.align==="center"?Yt+(qt-ze)/2:Yt+Te.TEXT_PADDING;const ln=o+(i-qe)/2,qn=(De,Xe,nn)=>{const En=nn/2,_r=En*.4;let C="";for(let F=0;F<5;F++){const X=(F*72-90)*Math.PI/180,J=(F*72+36-90)*Math.PI/180,mt=De+En*Math.cos(X),Mt=Xe+En*Math.sin(X),Xt=De+_r*Math.cos(J),At=Xe+_r*Math.sin(J);C+=(F===0?`M${mt},${Mt}`:`L${mt},${Mt}`)+`L${Xt},${At}`}return C+"Z"};for(let De=0;De<vt;De++){const Xe=Qe+qe/2,nn=ln+qe/2,_r=De<kt||De===kt&&oe?je:Le;g.push(`<path d="${qn(Xe,nn,qe)}" fill="${_r}"/>`),Qe+=qe+Je}}}else if(xt.type==="heatmap"){const Ct=t.metadata[xt.field];if(Ct!=null&&!Number.isNaN(Ct)){const vt=(en=xt.options)==null?void 0:en.heatmap,je=(vt==null?void 0:vt.palette)??["#f7fbff","#08306b"],Le=(vt==null?void 0:vt.decimals)??2,Ht=(vt==null?void 0:vt.showValue)??!0;let kt=vt==null?void 0:vt.minValue,oe=vt==null?void 0:vt.maxValue;if(kt==null||oe==null){const J=h.map(mt=>mt.metadata[xt.field]).filter(mt=>mt!=null&&!Number.isNaN(mt));kt==null&&(kt=J.length>0?Math.min(...J):0),oe==null&&(oe=J.length>0?Math.max(...J):1)}const qe=oe-kt,Je=qe===0?.5:Math.max(0,Math.min(1,(Ct-kt)/qe)),ze=J=>{const mt=J.replace("#","");return[parseInt(mt.substring(0,2),16),parseInt(mt.substring(2,4),16),parseInt(mt.substring(4,6),16)]},Qe=je.length-1,ln=Math.min(Math.floor(Je*Qe),Qe-1),qn=Je*Qe-ln,De=ze(je[ln]),Xe=ze(je[ln+1]),nn=Math.round(De[0]+(Xe[0]-De[0])*qn),En=Math.round(De[1]+(Xe[1]-De[1])*qn),_r=Math.round(De[2]+(Xe[2]-De[2])*qn),C=`rgb(${nn},${En},${_r})`,X=(.299*nn+.587*En+.114*_r)/255>.5?a.colors.foreground:"#ffffff";g.push(`<rect x="${Yt+2}" y="${o+2}" width="${qt-4}" height="${i-4}"
          fill="${C}" rx="2"/>`),Ht&&g.push(`<text class="cell-text" x="${Yt+qt/2}" y="${_}"
            font-family="${a.typography.fontFamily}"
            font-size="${v*.9}px"
            font-weight="${a.typography.fontWeightNormal}"
            text-anchor="middle"
            fill="${X}">${Ct.toFixed(Le)}</text>`)}}else if(xt.type==="progress"){const Ct=t.metadata[xt.field];if(Ct!=null&&!Number.isNaN(Ct)){const vt=(jt=xt.options)==null?void 0:jt.progress,je=(vt==null?void 0:vt.maxValue)??100,Le=(vt==null?void 0:vt.color)??a.colors.primary,Ht=(vt==null?void 0:vt.showLabel)??!0,kt=Math.min(100,Math.max(0,Ct/je*100)),oe=10,qe=o+(i-oe)/2,Je=Ht?40:0,ze=qt-Te.TEXT_PADDING*2-Je,Qe=kt/100*ze;g.push(`<rect x="${Yt+Te.TEXT_PADDING}" y="${qe}" width="${ze}" height="${oe}"
          fill="${a.colors.border}" opacity="0.5" rx="5"/>`),g.push(`<rect x="${Yt+Te.TEXT_PADDING}" y="${qe}" width="${Math.max(0,Qe)}" height="${oe}"
          fill="${Le}" rx="5"/>`),Ht&&g.push(`<text class="cell-text" x="${Yt+qt-Te.TEXT_PADDING}" y="${_}"
            font-family="${a.typography.fontFamily}"
            font-size="${v*.9}px"
            font-weight="${a.typography.fontWeightNormal}"
            text-anchor="end"
            fill="${a.colors.foreground}">${Math.round(kt)}%</text>`)}}else{const Ct=(Pt=t.cellStyles)==null?void 0:Pt[xt.field],vt=t.style;let je=a.typography.fontWeightNormal;(Ct!=null&&Ct.bold||Ct!=null&&Ct.emphasis||vt!=null&&vt.bold||vt!=null&&vt.emphasis)&&(je=a.typography.fontWeightBold);let Le="normal";(Ct!=null&&Ct.italic||vt!=null&&vt.italic)&&(Le="italic");let Ht=a.colors.foreground;Ct!=null&&Ct.color?Ht=Ct.color:Ct!=null&&Ct.muted?Ht=a.colors.muted:Ct!=null&&Ct.accent?Ht=a.colors.accent:vt!=null&&vt.color?Ht=vt.color:vt!=null&&vt.muted?Ht=a.colors.muted:vt!=null&&vt.accent&&(Ht=a.colors.accent),g.push(`<text class="cell-text" x="${yr}" y="${_}"
        font-family="${a.typography.fontFamily}"
        font-size="${v}px"
        font-weight="${je}"
        font-style="${Le}"
        text-anchor="${ar}"
        fill="${Ht}">${dn(Ke)}</text>`)}}return g.join(`
`)}function Cv(t,e,r,o,i,a){if(Array.isArray(r.axis.tickValues)&&r.axis.tickValues.length>0){const[S,E]=t.domain();let P=r.axis.tickValues.filter(T=>T>=S&&T<=E);const A=r.axis.nullTick!==!1,W=o>=S&&o<=E;return A&&W&&!P.includes(o)&&(P=[...P,o].sort((T,B)=>T-B)),P}const[s,c]=t.domain(),u=r.axis.nullTick!==!1,l=o>=s&&o<=c,d=vs.MIN_TICK_SPACING,f=Math.max(2,Math.floor(i/d)),h=Math.min(e,Math.min(7,f)),g=a&&a.length>0?a.filter(S=>S>=s&&S<=c):t.ticks(h);if(g.length===0)return u&&l?[o]:[];const v=t(o),_=g.filter(S=>S<o).reverse(),x=g.filter(S=>S>o),y=g.some(S=>S===o),b=[];let N=v;for(const S of _){const E=t(S);N-E>=d&&(b.unshift(S),N=E)}const H=[];let w=v;for(const S of x){const E=t(S);E-w>=d&&(H.push(S),w=E)}const k=[...b];if((y||u&&l)&&k.push(o),k.push(...H),k.length<2){const S=new Set(k);S.has(s)||k.unshift(s),k.length<2&&!S.has(c)&&k.push(c)}return k}function nf(t,e,r,o,i,a,s,c=1,u=.6){let d=`<line x1="${t}" x2="${t}" y1="${e}" y2="${r}"
    stroke="${i}" stroke-width="${c}" stroke-opacity="${u}" stroke-dasharray="${o==="dashed"?"6,4":o==="dotted"?"2,2":"none"}"/>`;if(s){const f=a.colors.secondary;d+=`<text x="${t}" y="${e-4}" text-anchor="middle"
      font-family="${a.typography.fontFamily}"
      font-size="${a.typography.fontSizeSm}"
      font-weight="${a.typography.fontWeightMedium}"
      fill="${f}">${dn(s)}</text>`}return d}class Ho extends Error{constructor(e){super(`SVG Generator: ${e}`),this.name="SVGGeneratorError"}}function Tv(t){if(!t||typeof t!="object")throw new Ho("Invalid spec: expected an object");const e=t;if(!e.data||typeof e.data!="object")throw new Ho("Invalid spec: missing or invalid 'data' property");const r=e.data;if(!Array.isArray(r.rows))throw new Ho("Invalid spec: 'data.rows' must be an array");if(!e.theme||typeof e.theme!="object")throw new Ho("Invalid spec: missing or invalid 'theme' property");const o=e.theme;if(!o.colors||typeof o.colors!="object")throw new Ho("Invalid spec: missing or invalid 'theme.colors'");if(!o.typography||typeof o.typography!="object")throw new Ho("Invalid spec: missing or invalid 'theme.typography'");if(!o.spacing||typeof o.spacing!="object")throw new Ho("Invalid spec: missing or invalid 'theme.spacing'")}function Nv(t){var a;const r=Ls(t.columns,void 0).find(s=>s.type==="forest");if(!r||!((a=r.options)!=null&&a.forest))return{scale:"linear",nullValue:0,effects:[],axisLabel:"Effect",pointCol:null,lowerCol:null,upperCol:null};const o=r.options.forest,i=o.scale??"linear";return{scale:i,nullValue:o.nullValue??(i==="log"?1:0),effects:o.effects??[],axisLabel:o.axisLabel??"Effect",pointCol:o.point??null,lowerCol:o.lower??null,upperCol:o.upper??null}}function rf(t,e={}){var P,A,W,T,B;Tv(t);const r=t.theme,o=r.spacing.padding,i=Array.isArray(t.columns)?t.columns:[],a=Ps(i),s=[];for(let L=0;L<a.length;L++)a[L].type==="forest"&&s.push(L);s.length>0;const c=[];for(let L=0;L<a.length;L++){const K=a[L];(K.type==="viz_bar"||K.type==="viz_boxplot"||K.type==="viz_violin")&&c.push({index:L,type:K.type,column:K})}const u=Nv(t),l=sv(t,e,u.nullValue),d=l.autoWidths,f=L=>{var Z,$,O,Q,ht,ot,at,et;if(L.type==="forest"){const ct=d.get(L.id);return ct!==void 0?ct:typeof L.width=="number"?L.width:(($=(Z=L.options)==null?void 0:Z.forest)==null?void 0:$.width)??l.forestWidth}if(L.type==="viz_bar"){const ct=d.get(L.id);return ct!==void 0?ct:typeof L.width=="number"?L.width:((Q=(O=L.options)==null?void 0:O.vizBar)==null?void 0:Q.width)??l.forestWidth}if(L.type==="viz_boxplot"){const ct=d.get(L.id);return ct!==void 0?ct:typeof L.width=="number"?L.width:((ot=(ht=L.options)==null?void 0:ht.vizBoxplot)==null?void 0:ot.width)??l.forestWidth}if(L.type==="viz_violin"){const ct=d.get(L.id);return ct!==void 0?ct:typeof L.width=="number"?L.width:((et=(at=L.options)==null?void 0:at.vizViolin)==null?void 0:et.width)??l.forestWidth}const K=d.get(L.id);return K!==void 0?K:typeof L.width=="number"?L.width:Cr.DEFAULT_COLUMN_WIDTH},h=[];let g=o+l.labelWidth;for(const L of a)h.push(g),g+=f(L);const v=[];v.push(`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg"
  width="${l.totalWidth}" height="${l.totalHeight}"
  viewBox="0 0 ${l.totalWidth} ${l.totalHeight}">
<style>
  text {
    font-variant-numeric: tabular-nums;
  }
  /* Use dominant-baseline for cell text to match CSS flex centering */
  .cell-text { dominant-baseline: central; }
</style>`);const _=e.backgroundColor??r.colors.background;if(v.push(`<rect width="100%" height="100%" fill="${_}"/>`),r.layout.containerBorder!==!1){const L=r.layout.containerBorderRadius??8;v.push(`<rect x="0.5" y="0.5"
      width="${l.totalWidth-1}" height="${l.totalHeight-1}"
      fill="none" stroke="${r.colors.border}" stroke-width="1"
      rx="${L}" ry="${L}"/>`)}v.push(fv(t,l,r)),v.push(`<line x1="${o}" x2="${l.totalWidth-o}"
    y1="${l.mainY}" y2="${l.mainY}"
    stroke="${r.colors.border}" stroke-width="2"/>`);const x=l.mainY;v.push(Ev(i,a,o,x,l.headerHeight,r,t.data.labelHeader??"Study",l.labelWidth,d,f)),v.push(`<line x1="${o}" x2="${l.totalWidth-o}"
    y1="${x+l.headerHeight}" y2="${x+l.headerHeight}"
    stroke="${r.colors.border}" stroke-width="2"/>`);const y=Jc(t),b=[],N=[];let H=0;for(const L of y){const Z=L.type==="data"&&((P=L.row.style)==null?void 0:P.type)==="spacer"?l.rowHeight/2:l.rowHeight;b.push(H),N.push(Z),H+=Z}const w=l.mainY+l.headerHeight;y.forEach((L,K)=>{var Z,$,O,Q;if(L.type==="data"){const ht=L.row,ot=w+b[K],at=N[K];if((Z=ht.style)!=null&&Z.bg)v.push(`<rect x="${o}" y="${ot}"
          width="${l.totalWidth-o*2}" height="${at}"
          fill="${ht.style.bg}"/>`);else if((($=ht.style)==null?void 0:$.type)==="header")v.push(`<rect x="${o}" y="${ot}"
          width="${l.totalWidth-o*2}" height="${at}"
          fill="${r.colors.muted}" fill-opacity="0.1"/>`);else if(r.layout.banding&&!(((O=ht.style)==null?void 0:O.type)==="summary"||((Q=ht.style)==null?void 0:Q.type)==="spacer")){const $t=K%2===1?r.colors.altBg:r.colors.rowBg;$t!==r.colors.background&&v.push(`<rect x="${o}" y="${ot}"
              width="${l.totalWidth-o*2}" height="${at}"
              fill="${$t}"/>`)}}});for(const L of s){const K=a[L],Z=h[L],$=f(K),O=(A=K.options)==null?void 0:A.forest,Q=(O==null?void 0:O.scale)??"linear",ht=(O==null?void 0:O.nullValue)??(Q==="log"?1:0),ot=(O==null?void 0:O.axisLabel)??"Effect",at=Q==="log";let et=(O==null?void 0:O.effects)??[];const ct=(O==null?void 0:O.point)??null,$t=(O==null?void 0:O.lower)??null,Kt=(O==null?void 0:O.upper)??null;et.length===0&&(ct||$t||Kt)&&(et=[{pointCol:ct,lowerCol:$t,upperCol:Kt}]);const gt={scale:Q,nullValue:ht,effects:et,pointCol:(O==null?void 0:O.point)??null,lowerCol:(O==null?void 0:O.lower)??null,upperCol:(O==null?void 0:O.upper)??null},{scale:bt,clipBounds:ae,ticks:ue}=cv(t,$,gt,e),re=Z+bt(ht);v.push(nf(re,w,w+l.rowsHeight,"dashed",r.colors.muted,r));const en=(O==null?void 0:O.annotations)??[];for(const jt of en)if(jt.type==="reference_line"){const Pt=Z+bt(jt.x);v.push(nf(Pt,w,w+l.rowsHeight,jt.style,jt.color??r.colors.accent,r,jt.label,jt.width??1,jt.opacity??.6))}if(y.forEach((jt,Pt)=>{if(jt.type==="data"){const de=w+b[Pt]+N[Pt]/2;v.push(pv(jt.row,de,xt=>Z+bt(xt),r,ht,et,t.data.weightCol,Z,$,ae,at))}}),t.data.overall&&l.showOverallSummary&&typeof t.data.overall.point=="number"&&!Number.isNaN(t.data.overall.point)&&typeof t.data.overall.lower=="number"&&!Number.isNaN(t.data.overall.lower)&&typeof t.data.overall.upper=="number"&&!Number.isNaN(t.data.overall.upper)){const jt=w+l.summaryYPosition;v.push(mv(t.data.overall.point,t.data.overall.lower,t.data.overall.upper,jt,bt,Z,$,r))}v.push(Sv(bt,l,r,ot,Z,$,ht,ue))}const k=t.data.rows;for(const L of c){const K=L.column,Z=h[L.index],$=f(K);if(L.type==="viz_bar"){const O=(W=K.options)==null?void 0:W.vizBar;if(!O)continue;const Q=wv(k,O,$);y.forEach((ht,ot)=>{if(ht.type==="data"){const at=w+b[ot]+N[ot]/2,et=N[ot];v.push(yv(ht.row,at,et,Z,$,O,Q,r))}}),O.showAxis!==!1&&(v.push(`<g transform="translate(0, ${w+l.plotHeight})">`),v.push(Ds(Q,l,r,O.axisLabel,Z,$,O.nullValue)),v.push("</g>"))}else if(L.type==="viz_boxplot"){const O=(T=K.options)==null?void 0:T.vizBoxplot;if(!O)continue;const Q=bv(k,O,$);y.forEach((ht,ot)=>{if(ht.type==="data"){const at=w+b[ot]+N[ot]/2,et=N[ot];v.push(_v(ht.row,at,et,Z,$,O,Q,r))}}),O.showAxis!==!1&&(v.push(`<g transform="translate(0, ${w+l.plotHeight})">`),v.push(Ds(Q,l,r,O.axisLabel,Z,$,O.nullValue)),v.push("</g>"))}else if(L.type==="viz_violin"){const O=(B=K.options)==null?void 0:B.vizViolin;if(!O)continue;const Q=Mv(k,O,$);y.forEach((ht,ot)=>{if(ht.type==="data"){const at=w+b[ot]+N[ot]/2,et=N[ot];v.push(xv(ht.row,at,et,Z,$,O,Q,r))}}),O.showAxis!==!1&&(v.push(`<g transform="translate(0, ${w+l.plotHeight})">`),v.push(Ds(Q,l,r,O.axisLabel,Z,$,O.nullValue)),v.push("</g>"))}}const S=l.mainY+l.headerHeight,E=hv(k,a);return y.forEach((L,K)=>{var O,Q,ht;const Z=S+b[K],$=N[K];if(L.type==="group_header")v.push(dv(L.label,L.depth,L.rowCount,o,Z,$,l.totalWidth-o*2,r));else{const ot=L.row,at=L.depth;((O=ot.style)==null?void 0:O.type)==="spacer"||v.push(kv(ot,a,o,Z,$,r,l.labelWidth,at,E,d,f,h,k))}if(L.type==="data"){const ot=L.row,at=((Q=ot.style)==null?void 0:Q.type)==="summary",et=((ht=ot.style)==null?void 0:ht.type)==="spacer";at&&v.push(`<line x1="${o}" x2="${l.totalWidth-o}"
          y1="${Z}" y2="${Z}"
          stroke="${r.colors.border}" stroke-width="2"/>`),et||v.push(`<line x1="${o}" x2="${l.totalWidth-o}"
          y1="${Z+$}" y2="${Z+$}"
          stroke="${r.colors.border}" stroke-width="1"/>`)}else v.push(`<line x1="${o}" x2="${l.totalWidth-o}"
        y1="${Z+$}" y2="${Z+$}"
        stroke="${r.colors.border}" stroke-width="1"/>`)}),v.push(uv(t,l,r)),v.push("</svg>"),v.join(`
`)}async function Hv(t,e=2){return new Promise((r,o)=>{const i=new Image,a=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),s=URL.createObjectURL(a);i.onload=()=>{const c=document.createElement("canvas"),u=c.getContext("2d");if(!u){URL.revokeObjectURL(s),o(new Error("Failed to get canvas context"));return}c.width=i.width*e,c.height=i.height*e,u.scale(e,e),u.drawImage(i,0,0),c.toBlob(l=>{URL.revokeObjectURL(s),l?r(l):o(new Error("Failed to create PNG blob"))},"image/png",1)},i.onerror=()=>{URL.revokeObjectURL(s),o(new Error("Failed to load SVG image"))},i.src=s})}function Av(t,e){return rf(t,e)}async function Wv(t,e,r=2){const o=rf(t,e);return Hv(o,r)}function of(t,e){const r=URL.createObjectURL(t),o=document.createElement("a");o.href=r,o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)}function af(t){return`forest_plot_${new Date().toISOString().slice(0,19).replace(/[:-]/g,"")}.${t}`}Xr[D]="src/components/ui/DownloadButton.svelte";var Rv=V(It('<svg width="16" height="16" viewBox="0 0 24 24" class="spin svelte-15gslqv"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="31.4" stroke-dashoffset="10"></circle></svg>'),Xr[D],[[76,6,[[77,8]]]]),Iv=V(It('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>'),Xr[D],[[80,6,[[81,8],[82,8],[83,8]]]]),zv=V(lt('<div class="download-dropdown svelte-15gslqv"><button class="dropdown-item svelte-15gslqv"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-15gslqv"><rect x="3" y="3" width="18" height="18" rx="2"></rect><text x="12" y="15" text-anchor="middle" font-size="8" fill="currentColor" stroke="none">SVG</text></svg> <span>Download SVG</span></button> <button class="dropdown-item svelte-15gslqv"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-15gslqv"><rect x="3" y="3" width="18" height="18" rx="2"></rect><circle cx="8.5" cy="8.5" r="1.5" fill="currentColor"></circle><path d="M21 15l-5-5L5 21"></path></svg> <span>Download PNG</span></button></div>'),Xr[D],[[89,4,[[90,6,[[91,8,[[92,10],[93,10]]],[95,8]]],[97,6,[[98,8,[[99,10],[100,10],[101,10]]],[103,8]]]]]]),Fv=V(lt('<div class="download-button-wrapper svelte-15gslqv"><button class="download-btn svelte-15gslqv" aria-label="Download plot"><!></button> <!></div>'),Xr[D],[[66,0,[[67,2]]]]);function Xr(t,e){we(new.target),ge(e,!0,Xr);let r=p(St(!1),"dropdownOpen"),o=p(St(!1),"isExporting"),i=p(St(null),"triggerEl");function a(){st(r,!1)}async function s(){if(e.store.spec)try{st(o,!0);const y=e.store.getExportDimensions(),b=Av(e.store.spec,y),N=new Blob([b],{type:"image/svg+xml;charset=utf-8"});of(N,af("svg"))}catch(y){console.error(...Jl("error","Failed to export SVG:",y))}finally{st(o,!1),a()}}async function c(){if(e.store.spec)try{st(o,!0);const y=e.store.getExportDimensions(),b=(await yu(Wv(e.store.spec,y,2)))();of(b,af("png"))}catch(y){console.error(...Jl("error","Failed to export PNG:",y))}finally{st(o,!1),a()}}function u(y){y.target.closest(".download-button-wrapper")||a()}var l={...be()},d=Fv();Gn("click",Uo,u);var f=Y(d);f.__click=()=>st(r,!n(r));var h=Y(f);{var g=y=>{var b=Rv();z(y,b)},v=y=>{var b=Iv();z(y,b)};I(()=>j(h,y=>{n(o)?y(g):y(v,!1)}),"if",Xr,75,4)}no(f,y=>st(i,y),()=>n(i));var _=nt(f,2);{var x=y=>{var b=zv(),N=Y(b);N.__click=s;var H=nt(N,2);H.__click=c,fa(b,(w,k)=>qr==null?void 0:qr(w,k),()=>({triggerEl:n(i)})),tt(()=>{N.disabled=n(o),H.disabled=n(o)}),z(y,b)};I(()=>j(_,y=>{n(r)&&y(x)}),"if",Xr,88,2)}return tt(()=>{R(f,"aria-expanded",n(r)),f.disabled=n(o)}),z(t,d),ve(l)}to(["click"]),Ca[D]="src/components/ui/ResetButton.svelte";var Pv=V(lt('<button class="reset-btn svelte-uej7wa" title="Reset view" aria-label="Reset view to default settings"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button>'),Ca[D],[[15,0,[[21,2,[[22,4],[23,4]]]]]]);function Ca(t,e){we(new.target),ge(e,!0,Ca);function r(){e.store.resetState()}var o={...be()},i=Pv();return i.__click=r,z(t,i),ve(o)}to(["click"]),Fn[D]="src/components/ui/ZoomControls.svelte";var Lv=V(lt('<div class="clamped-note svelte-19w48ay"> </div>'),Fn[D],[[140,8]]),Dv=V(lt('<button class="action-btn svelte-19w48ay" title="Reset to 100% (Cmd 0)"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-19w48ay"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg> Reset to 100%</button>'),Fn[D],[[147,8,[[152,10,[[153,12],[154,12]]]]]]),Bv=V(lt("<option> </option>"),Fn[D],[[198,14]]),Gv=V(lt("<option> </option>"),Fn[D],[[212,14]]),Vv=V(lt('<div class="zoom-dropdown svelte-19w48ay"><div class="zoom-row svelte-19w48ay"><button class="zoom-btn svelte-19w48ay" title="Zoom out (Cmd -)" aria-label="Zoom out"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="5" y1="12" x2="19" y2="12"></line></svg></button> <input type="range" class="zoom-slider svelte-19w48ay" min="50" max="200" step="5" title="Zoom level" aria-label="Zoom level"/> <button class="zoom-btn svelte-19w48ay" title="Zoom in (Cmd +)" aria-label="Zoom in"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg></button> <span class="zoom-value svelte-19w48ay"> </span></div> <!> <!> <div class="divider svelte-19w48ay"></div> <button class="action-btn svelte-19w48ay" title="Fit to container width (Cmd 1)"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-19w48ay"><path d="M21 12H3M21 12l-4-4m4 4l-4 4M3 12l4-4m-4 4l4 4"></path></svg> Fit to width</button> <label class="checkbox-row svelte-19w48ay"><input type="checkbox" class="svelte-19w48ay"/> <span>Auto-fit</span> <span class="checkbox-hint svelte-19w48ay">Shrink if too large</span></label> <div class="divider svelte-19w48ay"></div> <div class="section-label svelte-19w48ay">Max Size</div> <div class="select-row svelte-19w48ay"><label class="svelte-19w48ay"><span class="select-label svelte-19w48ay">Width</span> <select class="svelte-19w48ay"></select></label></div> <div class="select-row svelte-19w48ay"><label class="svelte-19w48ay"><span class="select-label svelte-19w48ay">Height</span> <select class="svelte-19w48ay"></select></label></div></div>'),Fn[D],[[97,4,[[99,6,[[100,8,[[106,10,[[107,12]]]]],[111,8],[123,8,[[129,10,[[130,12],[131,12]]]]],[135,8]]],[160,6],[163,6,[[168,8,[[169,10]]]]],[175,6,[[176,8],[181,8],[182,8]]],[185,6],[188,6],[190,6,[[191,8,[[192,10],[193,10]]]]],[204,6,[[205,8,[[206,10],[207,10]]]]]]]]),Ov=V(lt('<div class="zoom-controls-wrapper svelte-19w48ay"><button class="zoom-trigger-btn svelte-19w48ay" aria-label="Zoom and display options"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path><path d="M11 8v6"></path><path d="M8 11h6"></path></svg> <span class="zoom-text svelte-19w48ay"> </span></button> <!></div>'),Fn[D],[[76,0,[[78,2,[[87,4,[[88,6],[89,6],[90,6],[91,6]]],[93,4]]]]]]);function Fn(t,e){we(new.target),ge(e,!0,Fn);let r=p(St(!1),"dropdownOpen"),o=p(St(null),"triggerEl");const i=p(m(()=>e.store.zoom),"zoom"),a=p(m(()=>e.store.autoFit),"autoFit"),s=p(m(()=>e.store.actualScale),"actualScale"),c=p(m(()=>e.store.isClamped),"isClamped"),u=p(m(()=>e.store.maxWidth),"maxWidth"),l=p(m(()=>e.store.maxHeight),"maxHeight"),d=p(m(()=>Math.round(n(s)*100)),"displayPercent"),f=p(m(()=>Math.round(n(i)*100)),"zoomPercent"),h=[{value:null,label:"None"},{value:600,label:"600px"},{value:800,label:"800px"},{value:1e3,label:"1000px"},{value:1200,label:"1200px"}],g=[{value:null,label:"None"},{value:400,label:"400px"},{value:600,label:"600px"},{value:800,label:"800px"}];function v(){st(r,!1)}function _(A){const W=A.target;e.store.setZoom(parseFloat(W.value)/100)}function x(A){const W=A.target,T=M(W.value,"null")?null:parseInt(W.value);e.store.setMaxWidth(T)}function y(A){const W=A.target,T=M(W.value,"null")?null:parseInt(W.value);e.store.setMaxHeight(T)}function b(A){A.target.closest(".zoom-controls-wrapper")||v()}var N={...be()},H=Ov();Gn("click",Uo,b);var w=Y(H);w.__click=()=>st(r,!n(r));var k=nt(Y(w),2),S=Y(k);no(w,A=>st(o,A),()=>n(o));var E=nt(w,2);{var P=A=>{var W=Vv(),T=Y(W),B=Y(T);B.__click=()=>e.store.zoomOut();var L=nt(B,2);L.__change=_;var K=nt(L,2);K.__click=()=>e.store.zoomIn();var Z=nt(K,2),$=Y(Z),O=nt(T,2);{var Q=jt=>{var Pt=Lv(),de=Y(Pt);tt(()=>Ot(de,`Showing ${n(d)??""}% (auto-fit)`)),z(jt,Pt)};I(()=>j(O,jt=>{n(c)&&jt(Q)}),"if",Fn,139,6)}var ht=nt(O,2);{var ot=jt=>{var Pt=Dv();Pt.__click=()=>e.store.resetZoom(),z(jt,Pt)};I(()=>j(ht,jt=>{M(n(i),1,!1)&&jt(ot)}),"if",Fn,146,6)}var at=nt(ht,4);at.__click=()=>e.store.fitToWidth();var et=nt(at,2),ct=Y(et);ct.__change=jt=>e.store.setAutoFit(jt.target.checked);var $t=nt(et,6),Kt=Y($t),gt=nt(Y(Kt),2);gt.__change=x,I(()=>Ie(gt,21,()=>h,Zn,(jt,Pt)=>{var de=Bv(),xt=Y(de,!0);var Yt={};tt(()=>{Ot(xt,n(Pt).label),Yt!==(Yt=M(n(Pt).value,null)?"null":n(Pt).value)&&(de.value=(de.__value=M(n(Pt).value,null)?"null":n(Pt).value)??"")}),z(jt,de)}),"each",Fn,197,12);var bt;$l(gt);var ae=nt($t,2),ue=Y(ae),re=nt(Y(ue),2);re.__change=y,I(()=>Ie(re,21,()=>g,Zn,(jt,Pt)=>{var de=Gv(),xt=Y(de,!0);var Yt={};tt(()=>{Ot(xt,n(Pt).label),Yt!==(Yt=M(n(Pt).value,null)?"null":n(Pt).value)&&(de.value=(de.__value=M(n(Pt).value,null)?"null":n(Pt).value)??"")}),z(jt,de)}),"each",Fn,211,12);var en;$l(re),fa(W,(jt,Pt)=>qr==null?void 0:qr(jt,Pt),()=>({triggerEl:n(o)})),tt(()=>{Zl(L,n(f)),Ot($,`${n(f)??""}%`),cd(ct,n(a)),bt!==(bt=M(n(u),null)?"null":n(u))&&(gt.value=(gt.__value=M(n(u),null)?"null":n(u))??"",hs(gt,M(n(u),null)?"null":n(u))),en!==(en=M(n(l),null)?"null":n(l))&&(re.value=(re.__value=M(n(l),null)?"null":n(l))??"",hs(re,M(n(l),null)?"null":n(l)))}),z(A,W)};I(()=>j(E,A=>{n(r)&&A(P)}),"if",Fn,96,2)}return tt(()=>{R(w,"aria-expanded",n(r)),R(w,"title",`Zoom: ${n(d)??""}%`),Ot(S,`${n(d)??""}%`)}),z(t,H),ve(N)}to(["click","change"]),Pn[D]="src/components/ui/ControlToolbar.svelte";var jv=V(lt('<div class="control-toolbar svelte-rjvd17"><!> <!> <!> <!> <!></div>'),Pn[D],[[37,0]]);function Pn(t,e){we(new.target),ge(e,!0,Pn);let r=Vn(e,"enableExport",3,!0),o=Vn(e,"enableThemes",3,void 0),i=Vn(e,"enableViewToggle",3,!0),a=Vn(e,"enableZoomControls",3,!0),s=Vn(e,"enableReset",3,!0);const c=p(m(()=>a()&&e.store.showZoomControls),"showZoomControls"),u=p(m(()=>M(o(),null,!1)),"showThemeSwitcher");var l={...be()},d=jv(),f=Y(d);{var h=w=>{I(()=>Fn(w,{get store(){return e.store}}),"component",Pn,39,4,{componentTag:"ZoomControls"})};I(()=>j(f,w=>{n(c)&&w(h)}),"if",Pn,38,2)}var g=nt(f,2);{var v=w=>{I(()=>gr(w,{get store(){return e.store},get availableThemes(){return o()},get onThemeChange(){return e.onThemeChange}}),"component",Pn,42,4,{componentTag:"ThemeSwitcher"})};I(()=>j(g,w=>{n(u)&&w(v)}),"if",Pn,41,2)}var _=nt(g,2);{var x=w=>{I(()=>No(w,{get store(){return e.store}}),"component",Pn,45,4,{componentTag:"ViewToggle"})};I(()=>j(_,w=>{i()&&w(x)}),"if",Pn,44,2)}var y=nt(_,2);{var b=w=>{I(()=>Ca(w,{get store(){return e.store}}),"component",Pn,48,4,{componentTag:"ResetButton"})};I(()=>j(y,w=>{s()&&w(b)}),"if",Pn,47,2)}var N=nt(y,2);{var H=w=>{I(()=>Xr(w,{get store(){return e.store}}),"component",Pn,51,4,{componentTag:"DownloadButton"})};I(()=>j(N,w=>{r()&&w(H)}),"if",Pn,50,2)}return z(t,d),ve(l)}io[D]="src/components/viz/VizBar.svelte";var qv=V(It('<rect rx="2" class="bar-segment svelte-1pgs700"></rect>'),io[D],[[107,8]]),Xv=V(It('<g class="viz-bar-row svelte-1pgs700"></g>'),io[D],[[96,2]]);function io(t,e){we(new.target),ge(e,!0,io);const r=p(m(()=>{var x,y,b,N;if(e.sharedScale)return e.sharedScale;const h=M(e.options.scale,"log"),g=((y=(x=e.theme)==null?void 0:x.spacing)==null?void 0:y.padding)??12;let v=((b=e.options.axisRange)==null?void 0:b[0])??0,_=((N=e.options.axisRange)==null?void 0:N[1])??100;if(!e.options.axisRange){const H=[];for(const w of e.options.effects){const k=e.row.metadata[w.value];fe(k,null,!1)&&!Number.isNaN(k)&&H.push(k)}H.length>0&&(v=Math.min(0,...H),_=Math.max(...H)*1.1)}return h?Or().domain([Math.max(.01,v),_]).range([g,e.width-g]):er().domain([v,_]).range([g,e.width-g])}),"xScale"),o=p(m(()=>{const h=e.options.effects.length,g=e.rowHeight*.7,v=h>1?2:0,_=(g-v*(h-1))/h;return{barHeight:Math.max(4,_),barGap:v,totalHeight:g}}),"barConfig"),i=p(m(()=>{var h,g;return((g=(h=e.theme)==null?void 0:h.shapes)==null?void 0:g.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function a(h,g){return h.color??n(i)[g%n(i).length]}function s(h){return h.opacity??.85}const c=p(m(()=>e.options.effects.some(h=>{const g=e.row.metadata[h.value];return fe(g,null,!1)&&!Number.isNaN(g)})),"hasValidData");var u={...be()},l=Et(),d=yt(l);{var f=h=>{var g=Xv();I(()=>Ie(g,21,()=>e.options.effects,Zn,(v,_,x)=>{const y=p(m(()=>e.row.metadata[n(_).value]),"value");n(y);var b=Et(),N=yt(b);{var H=w=>{const k=p(m(()=>e.yPosition-n(o).totalHeight/2+x*(n(o).barHeight+n(o).barGap)),"barY");n(k);const S=p(m(()=>n(r)(Math.min(0,n(y)))),"barX");n(S);const E=p(m(()=>Math.abs(n(r)(n(y))-n(r)(0))),"barWidth");n(E);const P=p(m(()=>a(n(_),x)),"color");n(P);const A=p(m(()=>s(n(_))),"opacity");n(A);var W=qv();tt(T=>{R(W,"x",n(S)),R(W,"y",n(k)),R(W,"width",T),R(W,"height",n(o).barHeight),R(W,"fill",n(P)),R(W,"fill-opacity",n(A))},[()=>Math.max(1,n(E))]),z(w,W)};I(()=>j(N,w=>{fe(n(y),null,!1)&&!Number.isNaN(n(y))&&w(H)}),"if",io,100,6)}z(v,b)}),"each",io,98,4),z(h,g)};I(()=>j(d,h=>{n(c)&&h(f)}),"if",io,95,0)}return z(t,l),ve(u)}pr[D]="src/components/viz/VizBoxplot.svelte";var Uv=V(It('<circle r="2.5" fill="none" stroke-width="1.5" class="outlier svelte-5apth9"></circle>'),pr[D],[[210,12]]),$v=V(It('<line stroke-width="1"></line><line stroke-width="1"></line><line stroke-width="1"></line><line stroke-width="1"></line><rect stroke-width="1" class="box-rect svelte-5apth9"></rect><line stroke-width="2"></line><!>',1),pr[D],[[147,10],[156,10],[166,10],[175,10],[185,8],[198,8]]),Yv=V(It('<g class="viz-boxplot-row svelte-5apth9"></g>'),pr[D],[[135,2]]);function pr(t,e){we(new.target),ge(e,!0,pr);const r=p(m(()=>e.options.effects.map(g=>{if(g.data){const v=e.row.metadata[g.data];return!v||!Array.isArray(v)||M(v.length,0)?null:Ma(v)}if(g.min&&g.q1&&g.median&&g.q3&&g.max){const v=e.row.metadata[g.min],_=e.row.metadata[g.q1],x=e.row.metadata[g.median],y=e.row.metadata[g.q3],b=e.row.metadata[g.max];if([v,_,x,y,b].some(H=>fe(H,null)||Number.isNaN(H)))return null;let N=[];if(g.outliers){const H=e.row.metadata[g.outliers];H&&Array.isArray(H)&&(N=H)}return{min:v,q1:_,median:x,q3:y,max:b,outliers:N}}return null})),"effectStats"),o=p(m(()=>n(r).some(g=>M(g,null,!1))),"hasValidData"),i=p(m(()=>{var y,b,N,H;if(e.sharedScale)return e.sharedScale;const g=M(e.options.scale,"log"),v=((b=(y=e.theme)==null?void 0:y.spacing)==null?void 0:b.padding)??12;let _=(N=e.options.axisRange)==null?void 0:N[0],x=(H=e.options.axisRange)==null?void 0:H[1];if(fe(_,null)||fe(x,null)){const w=[];for(const k of n(r))k&&(w.push(k.min,k.max),M(e.options.showOutliers,!1,!1)&&w.push(...k.outliers));if(w.length>0){const k=Math.min(...w),S=Math.max(...w),E=S-k;_=_??k-E*.05,x=x??S+E*.05}else _=_??0,x=x??100}return g?Or().domain([Math.max(.01,_),x]).range([v,e.width-v]):er().domain([_,x]).range([v,e.width-v])}),"xScale"),a=p(m(()=>{const g=e.options.effects.length,v=e.rowHeight*.7,_=(v-(g-1)*2)/g;return{boxHeight:Math.max(8,_),boxGap:g>1?2:0,totalHeight:v}}),"boxConfig"),s=p(m(()=>{var g,v;return((v=(g=e.theme)==null?void 0:g.shapes)==null?void 0:v.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function c(g,v){return g.color??n(s)[v%n(s).length]}function u(g){return g.fillOpacity??.7}var l={...be()},d=Et(),f=yt(d);{var h=g=>{var v=Yv();I(()=>Ie(v,21,()=>e.options.effects,Zn,(_,x,y)=>{const b=p(m(()=>n(r)[y]),"stats");n(b);var N=Et(),H=yt(N);{var w=k=>{const S=p(m(()=>e.yPosition-n(a).totalHeight/2+y*(n(a).boxHeight+n(a).boxGap)),"boxY");n(S);const E=p(m(()=>n(S)+n(a).boxHeight/2),"boxCenterY");n(E);const P=p(m(()=>c(n(x),y)),"color");n(P);const A=p(m(()=>u(n(x))),"opacity");n(A);const W=p(m(()=>{var ot;return((ot=e.theme)==null?void 0:ot.colors.foreground)??"#1a1a1a"}),"lineColor");n(W);var T=$v(),B=yt(T),L=nt(B),K=nt(L),Z=nt(K),$=nt(Z),O=nt($),Q=nt(O);{var ht=ot=>{var at=Et(),et=yt(at);I(()=>Ie(et,17,()=>n(b).outliers,Zn,(ct,$t)=>{var Kt=Uv();tt(gt=>{R(Kt,"cx",gt),R(Kt,"cy",n(E)),R(Kt,"stroke",n(P))},[()=>n(i)(n($t))]),z(ct,Kt)}),"each",pr,209,10),z(ot,at)};I(()=>j(Q,ot=>{M(e.options.showOutliers,!1,!1)&&n(b).outliers.length>0&&ot(ht)}),"if",pr,208,8)}tt((ot,at,et,ct,$t,Kt,gt,bt,ae,ue,re,en)=>{R(B,"x1",ot),R(B,"x2",at),R(B,"y1",n(E)),R(B,"y2",n(E)),R(B,"stroke",n(W)),R(L,"x1",et),R(L,"x2",ct),R(L,"y1",n(E)-n(a).boxHeight/4),R(L,"y2",n(E)+n(a).boxHeight/4),R(L,"stroke",n(W)),R(K,"x1",$t),R(K,"x2",Kt),R(K,"y1",n(E)),R(K,"y2",n(E)),R(K,"stroke",n(W)),R(Z,"x1",gt),R(Z,"x2",bt),R(Z,"y1",n(E)-n(a).boxHeight/4),R(Z,"y2",n(E)+n(a).boxHeight/4),R(Z,"stroke",n(W)),R($,"x",ae),R($,"y",n(S)),R($,"width",ue),R($,"height",n(a).boxHeight),R($,"fill",n(P)),R($,"fill-opacity",n(A)),R($,"stroke",n(W)),R(O,"x1",re),R(O,"x2",en),R(O,"y1",n(S)),R(O,"y2",n(S)+n(a).boxHeight),R(O,"stroke",n(W))},[()=>n(i)(n(b).min),()=>n(i)(n(b).q1),()=>n(i)(n(b).min),()=>n(i)(n(b).min),()=>n(i)(n(b).q3),()=>n(i)(n(b).max),()=>n(i)(n(b).max),()=>n(i)(n(b).max),()=>n(i)(n(b).q1),()=>Math.max(2,n(i)(n(b).q3)-n(i)(n(b).q1)),()=>n(i)(n(b).median),()=>n(i)(n(b).median)]),z(k,T)};I(()=>j(H,k=>{n(b)&&k(w)}),"if",pr,138,6)}z(_,N)}),"each",pr,136,4),z(g,v)};I(()=>j(f,g=>{n(o)&&g(h)}),"if",pr,134,0)}return z(t,d),ve(l)}nr[D]="src/components/viz/VizViolin.svelte";var Zv=V(It('<line stroke-width="2"></line>'),nr[D],[[165,10]]),Kv=V(It('<line stroke-width="1" stroke-dasharray="2,2"></line><line stroke-width="1" stroke-dasharray="2,2"></line>',1),nr[D],[[179,10],[188,10]]),Qv=V(It('<path stroke-width="0.5" class="violin-path svelte-1ywbnva"></path><!><!>',1),nr[D],[[153,8]]),Jv=V(It('<g class="viz-violin-row svelte-1ywbnva"></g>'),nr[D],[[140,2]]);function nr(t,e){we(new.target),ge(e,!0,nr);const r=p(m(()=>e.options.effects.map(_=>{const x=e.row.metadata[_.data];return!x||!Array.isArray(x)||x.length<2?null:Yc(x,e.options.bandwidth)})),"effectKDEs"),o=p(m(()=>e.options.effects.map(_=>{const x=e.row.metadata[_.data];return!x||!Array.isArray(x)||x.length<2?null:$c(x)})),"effectQuartiles"),i=p(m(()=>n(r).some(_=>M(_,null,!1))),"hasValidData"),a=p(m(()=>{var N,H,w,k;if(e.sharedScale)return e.sharedScale;const _=M(e.options.scale,"log"),x=((H=(N=e.theme)==null?void 0:N.spacing)==null?void 0:H.padding)??12;let y=(w=e.options.axisRange)==null?void 0:w[0],b=(k=e.options.axisRange)==null?void 0:k[1];if(fe(y,null)||fe(b,null)){const S=[];for(const E of n(r))E&&E.x.length>0&&S.push(...E.x);S.length>0?(y=y??Math.min(...S),b=b??Math.max(...S)):(y=y??0,b=b??100)}return _?Or().domain([Math.max(.01,y),b]).range([x,e.width-x]):er().domain([y,b]).range([x,e.width-x])}),"xScale"),s=p(m(()=>{const _=e.options.effects.length,x=e.rowHeight*.8,y=(x-(_-1)*2)/_;return{maxWidth:y/2,violinHeight:Math.max(10,y),gap:_>1?2:0,totalHeight:x}}),"violinConfig"),c=p(m(()=>{var _,x;return((x=(_=e.theme)==null?void 0:_.shapes)==null?void 0:x.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function u(_,x){return _.color??n(c)[x%n(c).length]}function l(_){return _.fillOpacity??.5}function d(_,x,y){if(_.x.length<2)return"";const b=Zc(_,y),N=[];for(let H=0;H<b.x.length;H++){const w=n(a)(b.x[H]),k=x-b.y[H];N.push(M(H,0)?`M ${w} ${k}`:`L ${w} ${k}`)}for(let H=b.x.length-1;H>=0;H--){const w=n(a)(b.x[H]),k=x+b.y[H];N.push(`L ${w} ${k}`)}return N.push("Z"),N.join(" ")}var f={...be()},h=Et(),g=yt(h);{var v=_=>{var x=Jv();I(()=>Ie(x,21,()=>e.options.effects,Zn,(y,b,N)=>{const H=p(m(()=>n(r)[N]),"kde");n(H);const w=p(m(()=>n(o)[N]),"quartiles");n(w);var k=Et(),S=yt(k);{var E=P=>{const A=p(m(()=>e.yPosition-n(s).totalHeight/2+n(s).violinHeight/2+N*(n(s).violinHeight+n(s).gap)),"violinCenterY");n(A);const W=p(m(()=>u(n(b),N)),"color");n(W);const T=p(m(()=>l(n(b))),"opacity");n(T);const B=p(m(()=>d(n(H),n(A),n(s).maxWidth)),"path");n(B);const L=p(m(()=>{var ot;return((ot=e.theme)==null?void 0:ot.colors.foreground)??"#1a1a1a"}),"lineColor");n(L);var K=Qv(),Z=yt(K),$=nt(Z);{var O=ot=>{const at=p(m(()=>n(a)(n(w).median)),"medianX");n(at);var et=Zv();tt(()=>{R(et,"x1",n(at)),R(et,"x2",n(at)),R(et,"y1",n(A)-n(s).maxWidth*.6),R(et,"y2",n(A)+n(s).maxWidth*.6),R(et,"stroke",n(L))}),z(ot,et)};I(()=>j($,ot=>{M(e.options.showMedian,!1,!1)&&n(w)&&ot(O)}),"if",nr,163,8)}var Q=nt($);{var ht=ot=>{const at=p(m(()=>n(a)(n(w).q1)),"q1X");n(at);const et=p(m(()=>n(a)(n(w).q3)),"q3X");n(et);var ct=Kv(),$t=yt(ct),Kt=nt($t);tt(()=>{R($t,"x1",n(at)),R($t,"x2",n(at)),R($t,"y1",n(A)-n(s).maxWidth*.4),R($t,"y2",n(A)+n(s).maxWidth*.4),R($t,"stroke",n(L)),R(Kt,"x1",n(et)),R(Kt,"x2",n(et)),R(Kt,"y1",n(A)-n(s).maxWidth*.4),R(Kt,"y2",n(A)+n(s).maxWidth*.4),R(Kt,"stroke",n(L))}),z(ot,ct)};I(()=>j(Q,ot=>{e.options.showQuartiles&&n(w)&&ot(ht)}),"if",nr,176,8)}tt(()=>{R(Z,"d",n(B)),R(Z,"fill",n(W)),R(Z,"fill-opacity",n(T)),R(Z,"stroke",n(L))}),z(P,K)};I(()=>j(S,P=>{n(H)&&n(H).x.length>=2&&P(E)}),"if",nr,144,6)}z(y,k)}),"each",nr,141,4),z(_,x)};I(()=>j(g,_=>{n(i)&&_(v)}),"if",nr,139,0)}return z(t,h),ve(f)}G[D]="src/lib/ForestPlot.svelte";function sf(t,e){var o,i,a,s;if((i=(o=e.options)==null?void 0:o.bar)!=null&&i.maxValue)return e.options.bar.maxValue;if(fe((s=(a=e.options)==null?void 0:a.heatmap)==null?void 0:s.maxValue,null,!1))return e.options.heatmap.maxValue;let r=0;for(const c of t){const u=c.metadata[e.field];M(typeof u,"number")&&u>r&&(r=u)}return r||100}function tp(t,e){var o,i;if(fe((i=(o=e.options)==null?void 0:o.heatmap)==null?void 0:i.minValue,null,!1))return e.options.heatmap.minValue;let r=1/0;for(const a of t){const s=a.metadata[e.field];M(typeof s,"number")&&s<r&&(r=s)}return M(r,1/0)?0:r}function ep(t,e,r){const o=[],i=M(t==null?void 0:t.type,"header")||M(t==null?void 0:t.type,"summary")||M(t==null?void 0:t.type,"spacer");return M(t==null?void 0:t.type,"header")&&o.push("row-header"),M(t==null?void 0:t.type,"summary")&&o.push("row-summary"),t!=null&&t.bold&&o.push("row-bold"),t!=null&&t.italic&&o.push("row-italic"),t!=null&&t.emphasis&&o.push("row-emphasis"),t!=null&&t.muted&&o.push("row-muted"),t!=null&&t.accent&&o.push("row-accent"),!i&&r&&M(e,void 0,!1)&&M(e%2,1)&&o.push("row-odd"),o.join(" ")}function np(t,e){const r=[];return t!=null&&t.color&&r.push(`color: ${t.color}`),t!=null&&t.bg&&r.push(`background-color: ${t.bg}`),t!=null&&t.indent&&r.push(`--row-indent: ${t.indent}`),!(t!=null&&t.indent)&&e&&e>0&&r.push(`--row-indent: ${e}`),r.join("; ")}function rp(t,e){var r;if((r=t.cellStyles)!=null&&r[e.field])return t.cellStyles[e.field];if(e.styleMapping){const o={},i=t.metadata;if(e.styleMapping.bold&&i[e.styleMapping.bold]&&(o.bold=!!i[e.styleMapping.bold]),e.styleMapping.italic&&i[e.styleMapping.italic]&&(o.italic=!!i[e.styleMapping.italic]),e.styleMapping.color&&i[e.styleMapping.color]&&(o.color=String(i[e.styleMapping.color])),e.styleMapping.bg&&i[e.styleMapping.bg]&&(o.bg=String(i[e.styleMapping.bg])),e.styleMapping.badge&&i[e.styleMapping.badge]&&(o.badge=String(i[e.styleMapping.badge])),e.styleMapping.icon&&i[e.styleMapping.icon]&&(o.icon=String(i[e.styleMapping.icon])),Object.keys(o).length>0)return o}}var op=V(lt('<div class="resize-handle svelte-14l8yxx"></div>'),G[D],[[955,12]]),ip=V(lt('<div class="grid-cell header-cell column-group-header svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span></div>'),G[D],[[966,12,[[971,14]]]]),ap=V(lt('<span class="header-text svelte-14l8yxx"> </span>'),G[D],[[992,16]]),sp=V(lt('<div class="resize-handle svelte-14l8yxx"></div>'),G[D],[[996,16]]),lp=V(lt('<div class="grid-cell header-cell plot-header svelte-14l8yxx"><!> <!></div>'),G[D],[[985,12]]),cp=V(lt('<div class="resize-handle svelte-14l8yxx"></div>'),G[D],[[1014,16]]),fp=V(lt('<div class="grid-cell header-cell svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span> <!></div>'),G[D],[[1005,12,[[1011,14]]]]),up=V(lt('<span class="row-icon svelte-14l8yxx"> </span>'),G[D],[[1061,35]]),dp=V(lt('<span class="row-badge svelte-14l8yxx"> </span>'),G[D],[[1063,36]]),hp=V(lt("<!> <!>",1),G[D],[]),gp=V(lt("<div></div>"),G[D],[[1071,14]]),vp=V(lt("<div><!></div>"),G[D],[[1086,14]]),pp=V(lt("<div><!></div> <!>",1),G[D],[[1036,10]]),mp=V(lt('<div class="grid-cell axis-cell svelte-14l8yxx"></div>'),G[D],[[1114,14]]),yp=V(lt('<div class="grid-cell axis-spacer svelte-14l8yxx"></div>'),G[D],[[1116,14]]),_p=V(lt('<!> <div class="grid-cell axis-spacer svelte-14l8yxx"></div>',1),G[D],[[1120,10]]),xp=V(It('<text text-anchor="middle" font-size="var(--wf-font-size-sm)" font-weight="500" class="svelte-14l8yxx"> </text>'),G[D],[[1171,18]]),wp=V(It('<line class="svelte-14l8yxx"></line><!>',1),G[D],[[1159,16]]),bp=V(It('<g class="svelte-14l8yxx"><!></g>'),G[D],[[1232,14]]),Mp=V(It('<svg class="plot-overlay svelte-14l8yxx"><line stroke="var(--wf-muted)" stroke-width="1" stroke-dasharray="4,4" class="svelte-14l8yxx"></line><!><!><!><!></svg>'),G[D],[[1134,10,[[1143,12]]]]),Sp=V(It('<g class="svelte-14l8yxx"><!></g>'),G[D],[[1275,16]]),Ep=V(It('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),G[D],[[1248,12]]),kp=V(It('<g class="svelte-14l8yxx"><!></g>'),G[D],[[1328,16]]),Cp=V(It('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),G[D],[[1301,12]]),Tp=V(It('<g class="svelte-14l8yxx"><!></g>'),G[D],[[1381,16]]),Np=V(It('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),G[D],[[1354,12]]),Hp=V(lt('<!> <div class="tabviz-scalable svelte-14l8yxx"><!>  <div class="tabviz-main svelte-14l8yxx"><div class="grid-cell header-cell label-header svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span> <!></div> <!> <!> <!> <!> <!> <!> <!></div> <!></div> <!>',1),G[D],[[857,4,[[944,6,[[947,8,[[952,10]]]]]]]]),Ap=V(lt('<div class="tabviz-empty svelte-14l8yxx">No data</div>'),G[D],[[1406,4]]),Wp=V(lt("<div><!></div>"),G[D],[[842,0]]);function G(t,e){we(new.target),ge(e,!0,G);const r=p(m(()=>e.store.spec),"spec"),o=p(m(()=>e.store.visibleRows),"visibleRows"),i=p(m(()=>e.store.displayRows),"displayRows"),a=p(m(()=>e.store.layout),"layout"),s=p(m(()=>e.store.xScale),"xScale"),c=p(m(()=>e.store.axisComputation),"axisComputation"),u=p(m(()=>n(c).axisLimits),"clipBounds"),l=p(m(()=>{var C;return(C=n(r))==null?void 0:C.theme}),"theme"),d=p(m(()=>{var C,F;return((F=(C=n(l))==null?void 0:C.layout)==null?void 0:F.banding)??!1}),"bandingEnabled"),f=p(m(()=>e.store.allColumns),"allColumns"),h=p(m(()=>e.store.allColumnDefs),"allColumnDefs"),g=p(m(()=>e.store.forestColumns),"forestColumns");p(m(()=>n(g).length>0),"hasForestColumns");const v=p(m(()=>e.store.vizColumns),"vizColumns"),_=p(m(()=>n(v).length>0),"hasVizColumns"),x=p(m(()=>{var C;return((C=n(r))==null?void 0:C.data.labelHeader)||"Study"}),"labelHeader"),y=p(m(()=>{var C,F,X,J;return!!((F=(C=n(r))==null?void 0:C.labels)!=null&&F.title)||!!((J=(X=n(r))==null?void 0:X.labels)!=null&&J.subtitle)}),"hasPlotHeader");p(m(()=>n(h).some(C=>C.isGroup)),"hasColumnGroups");const b=p(m(()=>e.store.tooltipRow),"tooltipRow"),N=p(m(()=>e.store.tooltipPosition),"tooltipPosition"),H=p(m(()=>e.store.selectedRowIds),"selectedRowIds"),w=p(m(()=>e.store.hoveredRowId),"hoveredRowId"),k=p(m(()=>e.store.zoom),"zoom"),S=p(m(()=>e.store.autoFit),"autoFit"),E=p(m(()=>e.store.actualScale),"actualScale"),P=p(m(()=>e.store.maxWidth),"maxWidth"),A=p(m(()=>e.store.maxHeight),"maxHeight");p(m(()=>e.store.showZoomControls),"showZoomControls");const W=p(m(()=>({...e.store.columnWidths})),"columnWidthsSnapshot");let T=p(St(void 0),"containerRef"),B=p(St(void 0),"scalableRef"),L=p(St(0),"containerContentWidth"),K=p(St(0),"scalableNaturalWidth"),Z=p(St(0),"scalableNaturalHeight");p(m(()=>e.store.naturalContentWidth),"naturalContentWidth");const $=p(m(()=>n(K)*n(E)),"scaledWidth"),O=p(m(()=>n(Z)*n(E)),"scaledHeight"),Q=p(m(()=>{if(!n(S)||n(L)<=0||n($)<=0)return 0;const C=(n(L)-n($))/2;return Math.max(0,C)}),"centeringMargin");Ci(()=>{if(!n(T)||!n(B))return;n(T).id&&e.store.setContainerElementId(n(T).id);const C=new ResizeObserver(F=>{for(const X of F)M(X.target,n(T))?(st(L,X.contentRect.width,!0),e.store.setContainerDimensions(X.contentRect.width,X.contentRect.height)):M(X.target,n(B))&&(st(K,X.contentRect.width,!0),st(Z,X.contentRect.height,!0),e.store.setScalableNaturalDimensions(X.contentRect.width,X.contentRect.height))});return C.observe(n(T)),C.observe(n(B)),()=>{C.disconnect()}});const ht=p(m(()=>{var C,F;return M((F=(C=n(r))==null?void 0:C.interaction)==null?void 0:F.enableExport,!1,!1)}),"enableExport"),ot=p(m(()=>{var C,F;return(F=(C=n(r))==null?void 0:C.interaction)==null?void 0:F.enableThemes}),"enableThemes");function at(C){var F;if(!(!C.metaKey&&!C.ctrlKey)&&!M((F=C.target)==null?void 0:F.tagName,"INPUT"))switch(C.key){case"=":case"+":C.preventDefault(),e.store.zoomIn();break;case"-":C.preventDefault(),e.store.zoomOut();break;case"0":C.preventDefault(),e.store.resetZoom();break;case"1":C.preventDefault(),e.store.fitToWidth();break}}const et=p(m(()=>{var J;const C=[],F=[];let X=0;for(const mt of n(i)){const Mt=M(mt.type,"data")&&M((J=mt.row.style)==null?void 0:J.type,"spacer")?n(a).rowHeight/2:n(a).rowHeight;C.push(X),F.push(Mt),X+=Mt}return{positions:C,heights:F,totalHeight:X}}),"rowLayout"),ct=p(m(()=>n(et).totalHeight),"rowsAreaHeight");function $t(C){const F=C.filter(Mt=>M(Mt.type,"reference_line")&&Mt.label).map(Mt=>({id:Mt.id,x:n(s)(Mt.x),label:Mt.label})).sort((Mt,Xt)=>Mt.x-Xt.x),X={},J=120,mt=-18;for(let Mt=0;Mt<F.length;Mt++){const Xt=F[Mt];if(X[Xt.id]=0,Mt>0){const At=F[Mt-1];Xt.x-At.x<J&&(X[Xt.id]=M(X[At.id],0)?mt:0)}}return X}function Kt(C){return n(H).has(C)}function gt(C,F){return M(C.type,"group_header")?`group_${C.group.id}`:C.row.id}function bt(C){return C.isGroup?C.columns.reduce((F,X)=>F+bt(X),0):1}function ae(C){let F=0;for(const X of C)if(X.isGroup){const J=1+ae(X.columns);F=Math.max(F,J)}return F}function ue(C,F){var le,tn;const X=F==null?void 0:F.groupHeaders,J=((le=F==null?void 0:F.colors)==null?void 0:le.primary)??"#0891b2",mt=((tn=F==null?void 0:F.colors)==null?void 0:tn.background)??"#ffffff";if(M(C,1)&&(X!=null&&X.level1Background))return X.level1Background;if(M(C,2)&&(X!=null&&X.level2Background))return X.level2Background;if(C>=3&&(X!=null&&X.level3Background))return X.level3Background;const Xt=[.15,.1,.06][Math.min(C-1,2)],At=te=>{const Nt=te.replace("#","");return{r:parseInt(Nt.substring(0,2),16),g:parseInt(Nt.substring(2,4),16),b:parseInt(Nt.substring(4,6),16)}},Wt=At(J),Gt=At(mt),Bt=(te,Nt)=>Math.round(te*Xt+Nt*(1-Xt)),Ue=Bt(Wt.r,Gt.r),Vt=Bt(Wt.g,Gt.g),Ne=Bt(Wt.b,Gt.b);return`rgb(${Ue}, ${Vt}, ${Ne})`}const re=p(m(()=>Math.max(1,1+ae(n(h)))),"headerDepth"),en=p(m(()=>{const C=[];let F=2;function X(J,mt){const Mt=bt(J),Xt=F;if(J.isGroup){C.push({col:J,gridColumnStart:Xt,colspan:Mt,rowStart:mt+1,rowSpan:1,isGroupHeader:!0,isForest:!1});for(const At of J.columns)X(At,mt+1)}else{const At=!J.isGroup&&Pt.includes(J.type);C.push({col:J,gridColumnStart:Xt,colspan:1,rowStart:mt+1,rowSpan:n(re)-mt,isGroupHeader:!1,isForest:At}),F++}}for(const J of n(h))X(J,0);return C}),"headerCells");function jt(C){const F=n(W)[C.id];return M(typeof F,"number")?`${F}px`:M(typeof C.width,"number")?`${C.width}px`:"max-content"}const Pt=["forest","viz_bar","viz_boxplot","viz_violin"],de=p(m(()=>{var X,J,mt,Mt,Xt,At,Wt,Gt;const C=[],F=n(W).__label__;C.push(F?`${F}px`:"max-content");for(const Bt of n(f))if(Pt.includes(Bt.type)){const Ue=n(W)[Bt.id];let Vt;M(typeof Ue,"number")?Vt=Ue:M(typeof Bt.width,"number")?Vt=Bt.width:M(Bt.type,"forest")?Vt=((J=(X=Bt.options)==null?void 0:X.forest)==null?void 0:J.width)??n(a).forestWidth:M(Bt.type,"viz_bar")?Vt=((Mt=(mt=Bt.options)==null?void 0:mt.vizBar)==null?void 0:Mt.width)??n(a).forestWidth:M(Bt.type,"viz_boxplot")?Vt=((At=(Xt=Bt.options)==null?void 0:Xt.vizBoxplot)==null?void 0:At.width)??n(a).forestWidth:M(Bt.type,"viz_violin")?Vt=((Gt=(Wt=Bt.options)==null?void 0:Wt.vizViolin)==null?void 0:Gt.width)??n(a).forestWidth:Vt=n(a).forestWidth,C.push(`${Vt}px`)}else C.push(jt(Bt));return C.join(" ")}),"gridTemplateColumns");p(m(()=>1+n(f).length),"totalColumns");const xt=p(m(()=>{const C=[];for(let F=0;F<n(f).length;F++)Pt.includes(n(f)[F].type)&&C.push({gridCol:2+F,column:n(f)[F]});return C}),"vizColumnGridIndices");n(xt);let Yt=p(St(cr(new Map)),"forestColumnRefs"),qt=p(St(cr(new Map)),"forestColumnPositions"),Ke=p(St(void 0),"labelHeaderRef"),yr=p(St(0),"measuredHeaderHeight");Ci(()=>{n(W),n(a).forestWidth,n(re),Gu().then(()=>{const C=new Map;for(const[F,X]of n(Yt))X&&C.set(F,X.offsetLeft);st(qt,C,!0),n(Ke)&&st(yr,n(Ke).offsetHeight,!0)})});function ar(C,F){return n(Yt).set(F,C),st(Yt,new Map(n(Yt)),!0),{destroy(){n(Yt).delete(F),st(Yt,new Map(n(Yt)),!0)}}}const Ct=p(m(()=>n(yr)>0?n(yr):n(a).headerHeight),"actualHeaderHeight"),vt=p(m(()=>{var X,J,mt,Mt,Xt,At,Wt,Gt,Bt;const C=new Map,F=Wn;for(const Ue of n(v)){const Vt=Ue.column,Ne=F;if(M(Vt.type,"viz_bar")){const le=(X=Vt.options)==null?void 0:X.vizBar;if(!le)continue;const tn=n(W)[Vt.id],te=M(typeof tn,"number")?tn:M(typeof Vt.width,"number")?Vt.width:le.width??n(a).forestWidth;let Nt=(J=le.axisRange)==null?void 0:J[0],ft=(mt=le.axisRange)==null?void 0:mt[1];if(fe(Nt,null)||fe(ft,null)){const me=[];for(const Be of n(i))if(M(Be.type,"data"))for(const $e of le.effects){const ye=Be.row.metadata[$e.value];fe(ye,null,!1)&&!Number.isNaN(ye)&&me.push(ye)}me.length>0?(Nt=Nt??Math.min(0,...me),ft=ft??Math.max(...me)*1.1):(Nt=Nt??0,ft=ft??100)}const se=M(le.scale,"log")?Or().domain([Math.max(.01,Nt),ft]).range([Ne,te-Ne]):er().domain([Nt,ft]).range([Ne,te-Ne]);C.set(Vt.id,se)}else if(M(Vt.type,"viz_boxplot")){const le=(Mt=Vt.options)==null?void 0:Mt.vizBoxplot;if(!le)continue;const tn=n(W)[Vt.id],te=M(typeof tn,"number")?tn:M(typeof Vt.width,"number")?Vt.width:le.width??n(a).forestWidth;let Nt=(Xt=le.axisRange)==null?void 0:Xt[0],ft=(At=le.axisRange)==null?void 0:At[1];if(fe(Nt,null)||fe(ft,null)){const me=[];for(const Be of n(i))if(M(Be.type,"data")){for(const $e of le.effects)if($e.data){const ye=Be.row.metadata[$e.data];if(ye&&Array.isArray(ye)){const Zt=Ma(ye);me.push(Zt.min,Zt.max),M(le.showOutliers,!1,!1)&&me.push(...Zt.outliers)}}else if($e.min&&$e.max){const ye=Be.row.metadata[$e.min],Zt=Be.row.metadata[$e.max];fe(ye,null,!1)&&!Number.isNaN(ye)&&me.push(ye),fe(Zt,null,!1)&&!Number.isNaN(Zt)&&me.push(Zt)}}if(me.length>0){const Be=Math.min(...me),$e=Math.max(...me),ye=$e-Be;Nt=Nt??Be-ye*.05,ft=ft??$e+ye*.05}else Nt=Nt??0,ft=ft??100}const se=M(le.scale,"log")?Or().domain([Math.max(.01,Nt),ft]).range([Ne,te-Ne]):er().domain([Nt,ft]).range([Ne,te-Ne]);C.set(Vt.id,se)}else if(M(Vt.type,"viz_violin")){const le=(Wt=Vt.options)==null?void 0:Wt.vizViolin;if(!le)continue;const tn=n(W)[Vt.id],te=M(typeof tn,"number")?tn:M(typeof Vt.width,"number")?Vt.width:le.width??n(a).forestWidth;let Nt=(Gt=le.axisRange)==null?void 0:Gt[0],ft=(Bt=le.axisRange)==null?void 0:Bt[1];if(fe(Nt,null)||fe(ft,null)){const me=[];for(const Be of n(i))if(M(Be.type,"data"))for(const $e of le.effects){const ye=Be.row.metadata[$e.data];ye&&Array.isArray(ye)&&me.push(...ye.filter(Zt=>fe(Zt,null,!1)&&!Number.isNaN(Zt)))}if(me.length>0){Nt=Nt??Math.min(...me),ft=ft??Math.max(...me);const Be=ft-Nt;Nt=Nt-Be*.1,ft=ft+Be*.1}else Nt=Nt??0,ft=ft??100}const se=M(le.scale,"log")?Or().domain([Math.max(.01,Nt),ft]).range([Ne,te-Ne]):er().domain([Nt,ft]).range([Ne,te-Ne]);C.set(Vt.id,se)}}return C}),"vizColumnScales"),je=p(m(()=>{var X;const C=new Map,F=Wn;for(const J of n(g)){const mt=J.column,Mt=(X=mt.options)==null?void 0:X.forest,Xt=n(W)[mt.id],At=M(typeof Xt,"number")?Xt:M(typeof mt.width,"number")?mt.width:(Mt==null?void 0:Mt.width)??n(a).forestWidth,Wt=M(Mt==null?void 0:Mt.scale,"log"),Gt=n(c).axisLimits,Bt=F,Ue=Math.max(At-F,Bt+50);if(Wt){const Vt=[Math.max(Gt[0],.01),Math.max(Gt[1],.02)];C.set(mt.id,Or().domain(Vt).range([Bt,Ue]))}else C.set(mt.id,er().domain(Gt).range([Bt,Ue]))}return C}),"forestColumnScales");p(St(!1),"resizingPlot");let Le=p(St(null),"resizingColumn"),Ht=0,kt=0;function oe(C,F,X){var J;(J=n(r))!=null&&J.interaction.enableResize&&(C.preventDefault(),C.stopPropagation(),st(Le,F,!0),Ht=C.clientX,kt=X,document.addEventListener("pointermove",qe),document.addEventListener("pointerup",Je))}function qe(C){if(!n(Le))return;const F=C.clientX-Ht,X=Math.max(40,kt+F);e.store.setColumnWidth(n(Le),X)}function Je(){st(Le,null),document.removeEventListener("pointermove",qe),document.removeEventListener("pointerup",Je)}function ze(C,F){e.store.setHovered(C),e.store.setTooltip(C,{x:F.clientX,y:F.clientY})}function Qe(){e.store.setHovered(null),e.store.setTooltip(null,null)}const ln=p(m(()=>n(l)?`
      --wf-max-width: ${n(P)?`${n(P)}px`:"none"};
      --wf-max-height: ${n(A)?`${n(A)}px`:"none"};
      --wf-bg: ${n(l).colors.background};
      --wf-fg: ${n(l).colors.foreground};
      --wf-primary: ${n(l).colors.primary};
      --wf-secondary: ${n(l).colors.secondary};
      --wf-muted: ${n(l).colors.muted};
      --wf-border: ${n(l).colors.border};
      --wf-row-bg: ${n(l).colors.rowBg};
      --wf-alt-bg: ${n(l).colors.altBg};
      --wf-interval-line: ${n(l).colors.intervalLine};
      --wf-interval-positive: ${n(l).colors.intervalPositive};
      --wf-interval-negative: ${n(l).colors.intervalNegative};
      --wf-summary-fill: ${n(l).colors.summaryFill};
      --wf-summary-border: ${n(l).colors.summaryBorder};
      --wf-accent: ${n(l).colors.accent};
      --wf-badge-success: ${Ii.success};
      --wf-badge-warning: ${Ii.warning};
      --wf-badge-error: ${Ii.error};
      --wf-badge-info: ${Ii.info};
      --wf-badge-muted: ${n(l).colors.muted};
      --wf-font-family: ${n(l).typography.fontFamily};
      --wf-font-size-sm: ${n(l).typography.fontSizeSm};
      --wf-font-size-base: ${n(l).typography.fontSizeBase};
      --wf-font-size-lg: ${n(l).typography.fontSizeLg};
      --wf-font-weight-normal: ${n(l).typography.fontWeightNormal};
      --wf-font-weight-medium: ${n(l).typography.fontWeightMedium};
      --wf-font-weight-bold: ${n(l).typography.fontWeightBold};
      --wf-line-height: ${n(l).typography.lineHeight};
      --wf-header-font-scale: ${n(l).typography.headerFontScale??1.05};
      --wf-row-height: ${n(l).spacing.rowHeight}px;
      --wf-header-height: ${n(l).spacing.headerHeight}px;
      --wf-header-row-height: ${n(l).spacing.headerHeight/n(re)}px;
      --wf-header-depth: ${n(re)};
      --wf-padding: ${n(l).spacing.padding}px;
      --wf-container-padding: ${n(l).spacing.containerPadding}px;
      --wf-cell-padding-x: ${n(l).spacing.cellPaddingX}px;
      --wf-cell-padding-y: ${n(l).spacing.cellPaddingY}px;
      --wf-axis-gap: ${n(l).spacing.axisGap??Qn.DEFAULT_AXIS_GAP}px;
      --wf-axis-height: ${n(a).axisHeight}px;
      --wf-group-padding: ${n(l).spacing.groupPadding??8}px;
      --wf-column-gap: ${n(l).spacing.columnGap??8}px;
      --wf-plot-width: ${n(a).forestWidth}px;
      --wf-point-size: ${n(l).shapes.pointSize}px;
      --wf-line-width: ${n(l).shapes.lineWidth}px;
      --wf-border-radius: ${n(l).shapes.borderRadius}px;
      --wf-container-border: ${n(l).layout.containerBorder?"1px solid var(--wf-border)":"none"};
      --wf-container-border-radius: ${n(l).layout.containerBorderRadius}px;
      --wf-group-header-opacity: ${yd};
      --wf-row-hover-opacity: ${_d};
      --wf-row-selected-opacity: ${xd};
      --wf-row-selected-hover-opacity: ${wd};
      --wf-actual-scale: ${n(E)};
      --wf-zoom: ${n(k)};
    `.trim():""),"cssVars");var qn={...be()},De=Wp();Gn("keydown",Uo,at);let Xe;var nn=Y(De);{var En=C=>{var F=Hp(),X=yt(F);I(()=>Pn(X,{get store(){return e.store},get enableExport(){return n(ht)},get enableThemes(){return n(ot)},get onThemeChange(){return e.onThemeChange}}),"component",G,854,4,{componentTag:"ControlToolbar"});var J=nt(X,2);let mt;{const ye=Vl(G,function(ut,rt=xi,U=xi){jl(...arguments);const Rt=p(m(()=>rp(rt(),U())),"cellStyle");n(Rt);var dt=Et(),We=yt(dt);{var _e=Se=>{{let Ge=m(()=>sf(n(o),U())),He=m(()=>{var wt;return(wt=U().options)==null?void 0:wt.bar});I(()=>bo(Se,{get value(){return rt().metadata[U().field]},get maxValue(){return n(Ge)},get options(){return n(He)}}),"component",G,867,10,{componentTag:"CellBar"})}},ne=Se=>{var Ge=Et(),He=yt(Ge);{var wt=Dt=>{{let ce=m(()=>{var Fe;return(Fe=U().options)==null?void 0:Fe.pvalue});I(()=>Qo(Dt,{get value(){return rt().metadata[U().field]},get options(){return n(ce)},get cellStyle(){return n(Rt)}}),"component",G,873,10,{componentTag:"CellPvalue"})}},Tt=Dt=>{var ce=Et(),Fe=yt(ce);{var _n=Ft=>{{let xe=m(()=>{var _t;return(_t=U().options)==null?void 0:_t.sparkline});I(()=>zn(Ft,{get data(){return rt().metadata[U().field]},get options(){return n(xe)}}),"component",G,879,10,{componentTag:"CellSparkline"})}},Qt=Ft=>{var xe=Et(),_t=yt(xe);{var it=ee=>{{let Ae=m(()=>{var Pe;return(Pe=U().options)==null?void 0:Pe.icon});I(()=>Bi(ee,{get value(){return rt().metadata[U().field]},get options(){return n(Ae)}}),"component",G,884,10,{componentTag:"CellIcon"})}},Lt=ee=>{var Ae=Et(),Pe=yt(Ae);{var Ee=rn=>{{let xn=m(()=>{var gn;return(gn=U().options)==null?void 0:gn.badge});I(()=>Gi(rn,{get value(){return rt().metadata[U().field]},get options(){return n(xn)}}),"component",G,889,10,{componentTag:"CellBadge"})}},Jt=rn=>{var xn=Et(),gn=yt(xn);{var cn=Ve=>{{let si=m(()=>{var li;return(li=U().options)==null?void 0:li.stars});I(()=>ko(Ve,{get value(){return rt().metadata[U().field]},get options(){return n(si)}}),"component",G,894,10,{componentTag:"CellStars"})}},ke=Ve=>{var si=Et(),li=yt(si);{var Po=Xn=>{{let fi=m(()=>{var ui;return(ui=U().options)==null?void 0:ui.img});I(()=>Co(Xn,{get value(){return rt().metadata[U().field]},get options(){return n(fi)}}),"component",G,899,10,{componentTag:"CellImg"})}},ci=Xn=>{var fi=Et(),ui=yt(fi);{var Jp=di=>{{let Aa=m(()=>{var Wa;return(Wa=U().options)==null?void 0:Wa.reference});I(()=>jr(di,{get value(){return rt().metadata[U().field]},get metadata(){return rt().metadata},get options(){return n(Aa)}}),"component",G,904,10,{componentTag:"CellReference"})}},t0=di=>{var Aa=Et(),Wa=yt(Aa);{var e0=hi=>{{let Ra=m(()=>{var Ia;return(Ia=U().options)==null?void 0:Ia.range});I(()=>Vi(hi,{get value(){return rt().metadata[U().field]},get metadata(){return rt().metadata},get options(){return n(Ra)}}),"component",G,910,10,{componentTag:"CellRange"})}},n0=hi=>{var Ra=Et(),Ia=yt(Ra);{var r0=gi=>{{let za=m(()=>{var Fa;return(Fa=U().options)==null?void 0:Fa.heatmap}),Gs=m(()=>tp(n(o),U())),Vs=m(()=>sf(n(o),U()));I(()=>Oi(gi,{get value(){return rt().metadata[U().field]},get options(){return n(za)},get minValue(){return n(Gs)},get maxValue(){return n(Vs)}}),"component",G,916,10,{componentTag:"CellHeatmap"})}},o0=gi=>{var za=Et(),Gs=yt(za);{var Vs=vi=>{{let Pa=m(()=>{var La;return(La=U().options)==null?void 0:La.progress});I(()=>To(vi,{get value(){return rt().metadata[U().field]},get options(){return n(Pa)}}),"component",G,923,10,{componentTag:"CellProgress"})}},Fa=vi=>{var Pa=Et(),La=yt(Pa);{var i0=pi=>{{let Da=m(()=>ni(rt().metadata[U().field],U().options));I(()=>hr(pi,{get value(){return n(Da)},get cellStyle(){return n(Rt)}}),"component",G,928,10,{componentTag:"CellContent"})}},a0=pi=>{var Da=Et(),s0=yt(Da);{var l0=mi=>{{let Lo=m(()=>Rs(rt(),U().options));I(()=>hr(mi,{get value(){return n(Lo)},get cellStyle(){return n(Rt)}}),"component",G,930,10,{componentTag:"CellContent"})}},c0=mi=>{var Lo=Et(),f0=yt(Lo);{var u0=yi=>{{let Os=m(()=>{var vf,pf,mf,yf,_f,xf;return Is((pf=(vf=U().options)==null?void 0:vf.interval)!=null&&pf.point?rt().metadata[U().options.interval.point]:void 0,(yf=(mf=U().options)==null?void 0:mf.interval)!=null&&yf.lower?rt().metadata[U().options.interval.lower]:void 0,(xf=(_f=U().options)==null?void 0:_f.interval)!=null&&xf.upper?rt().metadata[U().options.interval.upper]:void 0,U().options)});I(()=>hr(yi,{get value(){return n(Os)},get cellStyle(){return n(Rt)}}),"component",G,932,10,{componentTag:"CellContent"})}},d0=yi=>{{let Os=m(()=>rt().metadata[U().field]??"");I(()=>hr(yi,{get value(){return n(Os)},get cellStyle(){return n(Rt)}}),"component",G,939,10,{componentTag:"CellContent"})}};I(()=>j(f0,yi=>{M(U().type,"interval")?yi(u0):yi(d0,!1)},!0),"if",G,931,8)}z(mi,Lo)};I(()=>j(s0,mi=>{var Lo;M(U().type,"custom")&&((Lo=U().options)!=null&&Lo.events)?mi(l0):mi(c0,!1)},!0),"if",G,929,8)}z(pi,Da)};I(()=>j(La,pi=>{M(U().type,"numeric")?pi(i0):pi(a0,!1)},!0),"if",G,927,8)}z(vi,Pa)};I(()=>j(Gs,vi=>{M(U().type,"progress")?vi(Vs):vi(Fa,!1)},!0),"if",G,922,8)}z(gi,za)};I(()=>j(Ia,gi=>{M(U().type,"heatmap")?gi(r0):gi(o0,!1)},!0),"if",G,915,8)}z(hi,Ra)};I(()=>j(Wa,hi=>{M(U().type,"range")?hi(e0):hi(n0,!1)},!0),"if",G,909,8)}z(di,Aa)};I(()=>j(ui,di=>{M(U().type,"reference")?di(Jp):di(t0,!1)},!0),"if",G,903,8)}z(Xn,fi)};I(()=>j(li,Xn=>{M(U().type,"img")?Xn(Po):Xn(ci,!1)},!0),"if",G,898,8)}z(Ve,si)};I(()=>j(gn,Ve=>{M(U().type,"stars")?Ve(cn):Ve(ke,!1)},!0),"if",G,893,8)}z(rn,xn)};I(()=>j(Pe,rn=>{M(U().type,"badge")?rn(Ee):rn(Jt,!1)},!0),"if",G,888,8)}z(ee,Ae)};I(()=>j(_t,ee=>{M(U().type,"icon")?ee(it):ee(Lt,!1)},!0),"if",G,883,8)}z(Ft,xe)};I(()=>j(Fe,Ft=>{M(U().type,"sparkline")?Ft(_n):Ft(Qt,!1)},!0),"if",G,878,8)}z(Dt,ce)};I(()=>j(He,Dt=>{M(U().type,"pvalue")?Dt(wt):Dt(Tt,!1)},!0),"if",G,872,8)}z(Se,Ge)};I(()=>j(We,Se=>{M(U().type,"bar")?Se(_e):Se(ne,!1)}),"if",G,866,8)}z(ut,dt)});var Mt=Y(J);{var Xt=ut=>{{let rt=m(()=>{var Rt;return(Rt=n(r).labels)==null?void 0:Rt.title}),U=m(()=>{var Rt;return(Rt=n(r).labels)==null?void 0:Rt.subtitle});I(()=>tr(ut,{get title(){return n(rt)},get subtitle(){return n(U)}}),"component",G,860,8,{componentTag:"PlotHeader"})}};I(()=>j(Mt,ut=>{n(y)&&ut(Xt)}),"if",G,859,6)}var At=nt(Mt,2);let Zt;var Wt=Y(At);let yn;var Gt=Y(Wt),Bt=Y(Gt),Ue=nt(Gt,2);{var Vt=ut=>{var rt=op();rt.__pointerdown=U=>oe(U,"__label__",n(W).__label__??150),z(ut,rt)};I(()=>j(Ue,ut=>{var rt;(rt=n(r))!=null&&rt.interaction.enableResize&&ut(Vt)}),"if",G,953,10)}no(Wt,ut=>st(Ke,ut),()=>n(Ke));var Ne=nt(Wt,2);Sn(()=>n(en),ut=>ut.col.id),I(()=>Ie(Ne,17,()=>n(en),ut=>ut.col.id,(ut,rt)=>{var U=Et(),Rt=yt(U);{var dt=_e=>{var ne=ip();let Se;var Ge=Y(ne),He=Y(Ge,!0);tt(()=>{Se=Me(ne,"",Se,{"grid-column":`${n(rt).gridColumnStart??""} / span ${n(rt).colspan??""}`,"grid-row":`${n(rt).rowStart??""} / span ${n(rt).rowSpan??""}`}),Ot(He,n(rt).col.header)}),z(_e,ne)},We=_e=>{var ne=Et(),Se=yt(ne);{var Ge=wt=>{const Tt=p(m(()=>n(rt).col),"column");n(Tt);const Dt=p(m(()=>{var _t,it,Lt,ee,Ae,Pe,Ee,Jt;return M(n(Tt).type,"forest")?((it=(_t=n(Tt).options)==null?void 0:_t.forest)==null?void 0:it.width)??n(a).forestWidth:M(n(Tt).type,"viz_bar")?((ee=(Lt=n(Tt).options)==null?void 0:Lt.vizBar)==null?void 0:ee.width)??n(a).forestWidth:M(n(Tt).type,"viz_boxplot")?((Pe=(Ae=n(Tt).options)==null?void 0:Ae.vizBoxplot)==null?void 0:Pe.width)??n(a).forestWidth:M(n(Tt).type,"viz_violin")?((Jt=(Ee=n(Tt).options)==null?void 0:Ee.vizViolin)==null?void 0:Jt.width)??n(a).forestWidth:n(a).forestWidth}),"vizDefaultWidth");n(Dt);var ce=lp();let Fe;var _n=Y(ce);{var Qt=_t=>{var it=ap(),Lt=Y(it,!0);tt(()=>Ot(Lt,n(Tt).header)),z(_t,it)};I(()=>j(_n,_t=>{n(Tt).header&&_t(Qt)}),"if",G,991,14)}var Ft=nt(_n,2);{var xe=_t=>{var it=sp();it.__pointerdown=Lt=>oe(Lt,n(Tt).id,n(W)[n(Tt).id]??n(Dt)),z(_t,it)};I(()=>j(Ft,_t=>{var it;(it=n(r))!=null&&it.interaction.enableResize&&_t(xe)}),"if",G,994,14)}fa(ce,(_t,it)=>ar==null?void 0:ar(_t,it),()=>n(Tt).id),tt(()=>Fe=Me(ce,"",Fe,{"grid-column":n(rt).gridColumnStart,"grid-row":`${n(rt).rowStart??""} / span ${n(rt).rowSpan??""}`})),z(wt,ce)},He=wt=>{const Tt=p(m(()=>n(rt).col),"column");n(Tt);var Dt=fp();let ce;var Fe=Y(Dt),_n=Y(Fe,!0);var Qt=nt(Fe,2);{var Ft=xe=>{var _t=cp();_t.__pointerdown=it=>oe(it,n(Tt).id,n(W)[n(Tt).id]??(M(typeof n(Tt).width,"number")?n(Tt).width:80)),z(xe,_t)};I(()=>j(Qt,xe=>{var _t;(_t=n(r))!=null&&_t.interaction.enableResize&&xe(Ft)}),"if",G,1012,14)}tt(()=>{ce=Me(Dt,"",ce,{"grid-column":n(rt).gridColumnStart,"grid-row":`${n(rt).rowStart??""} / span ${n(rt).rowSpan??""}`,"text-align":n(Tt).headerAlign??n(Tt).align}),Ot(_n,n(Tt).header)}),z(wt,Dt)};I(()=>j(Se,wt=>{n(rt).isForest?wt(Ge):wt(He,!1)},!0),"if",G,973,10)}z(_e,ne)};I(()=>j(Rt,_e=>{n(rt).isGroupHeader?_e(dt):_e(We,!1)}),"if",G,964,10)}z(ut,U)}),"each",G,963,8);var le=nt(Ne,2);Sn(()=>n(i),(ut,rt)=>gt(ut)),I(()=>Ie(le,19,()=>n(i),(ut,rt)=>gt(ut,rt),(ut,rt,U)=>{const Rt=p(m(()=>M(n(rt).type,"group_header")),"isGroupHeader");n(Rt);const dt=p(m(()=>n(Rt)?null:n(rt).row),"row");n(dt);const We=p(m(()=>n(rt).depth),"rowDepth");n(We);const _e=p(m(()=>n(dt)?Kt(n(dt).id):!1),"selected");n(_e);const ne=p(m(()=>n(dt)?ep(n(dt).style,n(U),n(d)):""),"rowClasses");n(ne);const Se=p(m(()=>n(dt)?np(n(dt).style,n(We)):""),"rowStyles");n(Se);const Ge=p(m(()=>{var _t,it;return M((it=(_t=n(dt))==null?void 0:_t.style)==null?void 0:it.type,"spacer")}),"isSpacerRow");n(Ge);const He=p(m(()=>n(re)+1+n(U)),"gridRow");n(He);const wt=p(m(()=>n(Rt)?ue(n(We)+1,n(l)):void 0),"groupBg");n(wt);var Tt=pp(),Dt=yt(Tt);let ce,Fe;Dt.__click=function(..._t){ur(()=>n(Rt)?()=>e.store.toggleGroup(n(rt).group.id):n(dt)?()=>e.store.selectRow(n(dt).id):void 0,this,_t,G,[1048,21])},Dt.__keydown=function(..._t){ur(()=>n(Rt)?it=>(M(it.key,"Enter")||M(it.key," "))&&e.store.toggleGroup(n(rt).group.id):void 0,this,_t,G,[1049,23])};var _n=Y(Dt);{var Qt=_t=>{{let it=m(()=>n(rt).depth+1);I(()=>Ko(_t,{get group(){return n(rt).group},get rowCount(){return n(rt).rowCount},get level(){return n(it)},get theme(){return n(l)}}),"component",G,1054,14,{componentTag:"GroupHeader"})}},Ft=_t=>{var it=Et(),Lt=yt(it);{var ee=Ae=>{var Pe=hp(),Ee=yt(Pe);{var Jt=cn=>{var ke=up(),Ve=Y(ke,!0);tt(()=>Ot(Ve,n(dt).style.icon)),z(cn,ke)};I(()=>j(Ee,cn=>{var ke;(ke=n(dt).style)!=null&&ke.icon&&cn(Jt)}),"if",G,1061,14)}var rn=nt(Ee),xn=nt(rn);{var gn=cn=>{var ke=dp(),Ve=Y(ke,!0);tt(()=>Ot(Ve,n(dt).style.badge)),z(cn,ke)};I(()=>j(xn,cn=>{var ke;(ke=n(dt).style)!=null&&ke.badge&&cn(gn)}),"if",G,1063,14)}tt(()=>Ot(rn,` ${n(dt).label??""} `)),z(Ae,Pe)};I(()=>j(Lt,Ae=>{n(dt)&&Ae(ee)},!0),"if",G,1060,12)}z(_t,it)};I(()=>j(_n,_t=>{n(Rt)?_t(Qt):_t(Ft,!1)}),"if",G,1053,12)}var xe=nt(Dt,2);Sn(()=>n(f),_t=>_t.id),I(()=>Ie(xe,17,()=>n(f),_t=>_t.id,(_t,it)=>{var Lt=Et(),ee=yt(Lt);{var Ae=Ee=>{var Jt=gp();let rn,xn;Jt.__click=function(...gn){ur(()=>n(dt)?()=>e.store.selectRow(n(dt).id):void 0,this,gn,G,[1082,25])},tt(()=>{rn=pn(Jt,1,`grid-cell data-cell plot-cell ${n(ne)??""}`,"svelte-14l8yxx",rn,{"group-row":n(Rt),selected:n(_e),hovered:n(dt)&&M(n(w),n(dt).id),"spacer-row":n(Ge)}),xn=Me(Jt,n(Se)||void 0,xn,{"grid-row":n(He),"background-color":n(wt)})}),Gn("mouseenter",Jt,function(...gn){ur(()=>n(dt)?cn=>ze(n(dt).id,cn):void 0,this,gn,G,[1080,30])}),Gn("mouseleave",Jt,function(...gn){ur(()=>n(dt)?()=>Qe():void 0,this,gn,G,[1081,30])}),z(Ee,Jt)},Pe=Ee=>{var Jt=vp();let rn,xn;Jt.__click=function(...ke){ur(()=>n(dt)?()=>e.store.selectRow(n(dt).id):void 0,this,ke,G,[1099,25])};var gn=Y(Jt);{var cn=ke=>{I(()=>ye(ke,()=>n(dt),()=>n(it)),"render",G,1102,18)};I(()=>j(gn,ke=>{n(dt)&&ke(cn)}),"if",G,1101,16)}tt(()=>{rn=pn(Jt,1,`grid-cell data-cell ${n(ne)??""}`,"svelte-14l8yxx",rn,{"group-row":n(Rt),selected:n(_e),hovered:n(dt)&&M(n(w),n(dt).id),"spacer-row":n(Ge),"wrap-enabled":n(it).wrap}),xn=Me(Jt,n(Se)||void 0,xn,{"grid-row":n(He),"background-color":n(wt),"text-align":n(it).align})}),Gn("mouseenter",Jt,function(...ke){ur(()=>n(dt)?Ve=>ze(n(dt).id,Ve):void 0,this,ke,G,[1097,30])}),Gn("mouseleave",Jt,function(...ke){ur(()=>n(dt)?()=>Qe():void 0,this,ke,G,[1098,30])}),z(Ee,Jt)};I(()=>j(ee,Ee=>{Pt.includes(n(it).type)?Ee(Ae):Ee(Pe,!1)}),"if",G,1069,12)}z(_t,Lt)}),"each",G,1068,10),tt(()=>{var _t,it,Lt,ee;ce=pn(Dt,1,`grid-cell data-cell label-cell ${n(ne)??""}`,"svelte-14l8yxx",ce,{"group-row":n(Rt),selected:n(_e),hovered:n(dt)&&M(n(w),n(dt).id),"spacer-row":n(Ge)}),Fe=Me(Dt,n(Se)||void 0,Fe,{"grid-row":n(He),"background-color":n(wt),"padding-left":n(Rt)?`${n(We)*12}px`:((it=(_t=n(dt))==null?void 0:_t.style)==null?void 0:it.indent)??n(We)?`${(((ee=(Lt=n(dt))==null?void 0:Lt.style)==null?void 0:ee.indent)??n(We))*12}px`:void 0}),R(Dt,"role",n(Rt)?"button":void 0),R(Dt,"tabindex",n(Rt)?0:void 0)}),Gn("mouseenter",Dt,function(..._t){ur(()=>n(dt)?it=>ze(n(dt).id,it):void 0,this,_t,G,[1050,26])}),Gn("mouseleave",Dt,function(..._t){ur(()=>n(dt)?()=>Qe():void 0,this,_t,G,[1051,26])}),z(ut,Tt)}),"each",G,1024,8);var tn=nt(le,2);{var te=ut=>{const rt=p(m(()=>n(re)+1+n(i).length),"axisRowNum");n(rt);var U=_p(),Rt=yt(U);Sn(()=>n(f),_e=>_e.id),I(()=>Ie(Rt,19,()=>n(f),_e=>_e.id,(_e,ne,Se)=>{var Ge=Et(),He=yt(Ge);{var wt=Dt=>{var ce=mp();let Fe;tt(()=>Fe=Me(ce,"",Fe,{"grid-column":2+n(Se),"grid-row":n(rt)})),z(Dt,ce)},Tt=Dt=>{var ce=yp();let Fe;tt(()=>Fe=Me(ce,"",Fe,{"grid-column":2+n(Se),"grid-row":n(rt)})),z(Dt,ce)};I(()=>j(He,Dt=>{Pt.includes(n(ne).type)?Dt(wt):Dt(Tt,!1)}),"if",G,1113,12)}z(_e,Ge)}),"each",G,1112,10);var dt=nt(Rt,2);let We;tt(()=>We=Me(dt,"",We,{"grid-column":"1","grid-row":n(rt)})),z(ut,U)};I(()=>j(tn,ut=>{n(_)&&ut(te)}),"if",G,1110,8)}var Nt=nt(tn,2);Sn(()=>n(g),ut=>ut.column.id),I(()=>Ie(Nt,17,()=>n(g),ut=>ut.column.id,(ut,rt)=>{const U=p(m(()=>{var it;return(it=n(rt).column.options)==null?void 0:it.forest}),"forestOpts");n(U);const Rt=p(m(()=>n(W)[n(rt).column.id]),"dynamicForestWidth");n(Rt);const dt=p(m(()=>{var it;return M(typeof n(Rt),"number")?n(Rt):M(typeof n(rt).column.width,"number")?n(rt).column.width:((it=n(U))==null?void 0:it.width)??n(a).forestWidth}),"forestWidth");n(dt);const We=p(m(()=>n(qt).get(n(rt).column.id)??0),"forestLeft");n(We);const _e=p(m(()=>{var it;return((it=n(l))==null?void 0:it.spacing.axisGap)??Qn.DEFAULT_AXIS_GAP}),"axisGap");n(_e);const ne=p(m(()=>{var it;return((it=n(U))==null?void 0:it.nullValue)??n(a).nullValue}),"nullValue");n(ne);const Se=p(m(()=>{var it;return((it=n(U))==null?void 0:it.axisLabel)??"Effect"}),"axisLabel");n(Se);const Ge=p(m(()=>{var it;return M((it=n(U))==null?void 0:it.scale,"log")}),"isLog");n(Ge);const He=p(m(()=>n(je).get(n(rt).column.id)??n(s)),"colScale");n(He);var wt=Mp();let Tt;var Dt=Y(wt);R(Dt,"y1",0);var ce=nt(Dt);{var Fe=it=>{const Lt=p(m(()=>{var Ee;return((Ee=n(U))==null?void 0:Ee.annotations)??[]}),"allAnnotations");n(Lt);const ee=p(m(()=>$t(n(Lt))),"annotationLabelOffsets");n(ee);var Ae=Et(),Pe=yt(Ae);Sn(()=>n(Lt),Ee=>Ee.id),I(()=>Ie(Pe,17,()=>n(Lt),Ee=>Ee.id,(Ee,Jt)=>{var rn=Et(),xn=yt(rn);{var gn=cn=>{var ke=wp(),Ve=yt(ke);R(Ve,"y1",0);var si=nt(Ve);{var li=Po=>{const ci=p(m(()=>n(ee)[n(Jt).id]??0),"yOffset");n(ci);var Xn=xp(),fi=Y(Xn,!0);tt(ui=>{R(Xn,"x",ui),R(Xn,"y",-4+n(ci)),R(Xn,"fill",n(Jt).color??"var(--wf-secondary)"),Ot(fi,n(Jt).label)},[()=>n(He)(n(Jt).x)]),z(Po,Xn)};I(()=>j(si,Po=>{n(Jt).label&&Po(li)}),"if",G,1169,16)}tt((Po,ci)=>{R(Ve,"x1",Po),R(Ve,"x2",ci),R(Ve,"y2",n(ct)),R(Ve,"stroke",n(Jt).color??"var(--wf-accent)"),R(Ve,"stroke-width",n(Jt).width??1.5),R(Ve,"stroke-opacity",n(Jt).opacity??.6),R(Ve,"stroke-dasharray",M(n(Jt).style,"dashed")?"6,4":M(n(Jt).style,"dotted")?"2,2":"none")},[()=>n(He)(n(Jt).x),()=>n(He)(n(Jt).x)]),z(cn,ke)};I(()=>j(xn,cn=>{M(n(Jt).type,"reference_line")&&cn(gn)}),"if",G,1158,14)}z(Ee,rn)}),"each",G,1157,14),z(it,Ae)};I(()=>j(ce,it=>{it(Fe)}),"if",G,1154,12)}var _n=nt(ce);Sn(()=>n(i),(it,Lt)=>gt(it,Lt)),I(()=>Ie(_n,19,()=>n(i),(it,Lt)=>gt(it,Lt),(it,Lt,ee)=>{var Ae=Et(),Pe=yt(Ae);{var Ee=Jt=>{const rn=p(m(()=>n(et).positions[n(ee)]??n(ee)*n(a).rowHeight),"rowY");n(rn);const xn=p(m(()=>n(et).heights[n(ee)]??n(a).rowHeight),"rowH");n(xn);{let gn=m(()=>n(rn)+n(xn)/2),cn=m(()=>({...n(a),forestWidth:n(dt)}));I(()=>Ye(Jt,{get row(){return n(Lt).row},get yPosition(){return n(gn)},get xScale(){return n(He)},get layout(){return n(cn)},get theme(){return n(l)},get clipBounds(){return n(u)},get isLog(){return n(Ge)},get weightCol(){return n(r).data.weightCol},get forestColumnOptions(){return n(U)},onRowClick:()=>e.store.selectRow(n(Lt).row.id),onRowHover:(ke,Ve)=>{e.store.setHovered(ke?n(Lt).row.id:null),ke&&Ve?e.store.setTooltip(n(Lt).row.id,{x:Ve.clientX,y:Ve.clientY}):e.store.setTooltip(null,null)}}),"component",G,1191,16,{componentTag:"RowInterval"})}};I(()=>j(Pe,Jt=>{M(n(Lt).type,"data")&&Jt(Ee)}),"if",G,1188,14)}z(it,Ae)}),"each",G,1187,12);var Qt=nt(_n);{var Ft=it=>{{let Lt=m(()=>n(ct)+n(a).rowHeight/2),ee=m(()=>({...n(a),forestWidth:n(dt)}));I(()=>oo(it,{get point(){return n(r).data.overall.point},get lower(){return n(r).data.overall.lower},get upper(){return n(r).data.overall.upper},get yPosition(){return n(Lt)},get xScale(){return n(He)},get layout(){return n(ee)},get theme(){return n(l)}}),"component",G,1219,14,{componentTag:"SummaryDiamond"})}};I(()=>j(Qt,it=>{n(r).data.overall&&n(a).showOverallSummary&&M(typeof n(r).data.overall.point,"number")&&!Number.isNaN(n(r).data.overall.point)&&M(typeof n(r).data.overall.lower,"number")&&!Number.isNaN(n(r).data.overall.lower)&&M(typeof n(r).data.overall.upper,"number")&&!Number.isNaN(n(r).data.overall.upper)&&it(Ft)}),"if",G,1215,12)}var xe=nt(Qt);{var _t=it=>{var Lt=bp(),ee=Y(Lt);{let Ae=m(()=>({...n(a),forestWidth:n(dt)}));I(()=>Rn(ee,{get xScale(){return n(He)},get layout(){return n(Ae)},get theme(){return n(l)},get axisLabel(){return n(Se)},position:"bottom",get plotHeight(){return n(a).plotHeight},get baseTicks(){return n(c).ticks}}),"component",G,1233,16,{componentTag:"EffectAxis"})}tt(()=>R(Lt,"transform",`translate(0, ${n(ct)+n(_e)})`)),z(it,Lt)};I(()=>j(xe,it=>{var Lt;M((Lt=n(U))==null?void 0:Lt.showAxis,!1,!1)&&it(_t)}),"if",G,1231,12)}tt((it,Lt)=>{R(wt,"width",n(dt)),R(wt,"height",n(ct)+n(a).axisHeight),R(wt,"viewBox",`0 0 ${n(dt)??""} ${n(ct)+n(a).axisHeight}`),Tt=Me(wt,"",Tt,{top:`${n(Ct)??""}px`,left:`${n(We)??""}px`}),R(Dt,"x1",it),R(Dt,"x2",Lt),R(Dt,"y2",n(ct))},[()=>n(He)(n(ne)),()=>n(He)(n(ne))]),z(ut,wt)}),"each",G,1124,8);var ft=nt(Nt,2);Sn(()=>n(v).filter(ut=>M(ut.column.type,"viz_bar")),ut=>ut.column.id),I(()=>Ie(ft,17,()=>n(v).filter(ut=>M(ut.column.type,"viz_bar")),ut=>ut.column.id,(ut,rt)=>{const U=p(m(()=>{var wt;return(wt=n(rt).column.options)==null?void 0:wt.vizBar}),"vizOpts");n(U);const Rt=p(m(()=>n(W)[n(rt).column.id]),"dynamicVizWidth");n(Rt);const dt=p(m(()=>{var wt;return M(typeof n(Rt),"number")?n(Rt):n(rt).column.width??((wt=n(U))==null?void 0:wt.width)??n(a).forestWidth}),"vizWidth");n(dt);const We=p(m(()=>n(qt).get(n(rt).column.id)??0),"vizLeft");n(We);const _e=p(m(()=>{var wt;return((wt=n(l))==null?void 0:wt.spacing.axisGap)??Qn.DEFAULT_AXIS_GAP}),"axisGap");n(_e);const ne=p(m(()=>n(vt).get(n(rt).column.id)),"sharedScale");n(ne);var Se=Et(),Ge=yt(Se);{var He=wt=>{var Tt=Ep();let Dt;var ce=Y(Tt);Sn(()=>n(i),(Qt,Ft)=>gt(Qt,Ft)),I(()=>Ie(ce,19,()=>n(i),(Qt,Ft)=>gt(Qt,Ft),(Qt,Ft,xe)=>{var _t=Et(),it=yt(_t);{var Lt=ee=>{const Ae=p(m(()=>n(et).positions[n(xe)]??n(xe)*n(a).rowHeight),"rowY");n(Ae);const Pe=p(m(()=>n(et).heights[n(xe)]??n(a).rowHeight),"rowH");n(Pe);{let Ee=m(()=>n(Ae)+n(Pe)/2);I(()=>io(ee,{get row(){return n(Ft).row},get yPosition(){return n(Ee)},get rowHeight(){return n(Pe)},get width(){return n(dt)},get options(){return n(U)},get theme(){return n(l)},get sharedScale(){return n(ne)}}),"component",G,1261,18,{componentTag:"VizBar"})}};I(()=>j(it,ee=>{M(n(Ft).type,"data")&&ee(Lt)}),"if",G,1258,16)}z(Qt,_t)}),"each",G,1257,14);var Fe=nt(ce);{var _n=Qt=>{var Ft=Sp(),xe=Y(Ft);{let _t=m(()=>({...n(a),forestWidth:n(dt),nullValue:0})),it=m(()=>n(U).axisLabel??"Value");I(()=>Rn(xe,{get xScale(){return n(ne)},get layout(){return n(_t)},get theme(){return n(l)},get axisLabel(){return n(it)},position:"bottom",get plotHeight(){return n(ct)},get baseTicks(){return n(U).axisTicks},get gridlines(){return n(U).axisGridlines}}),"component",G,1276,18,{componentTag:"EffectAxis"})}tt(()=>R(Ft,"transform",`translate(0, ${n(ct)+n(_e)})`)),z(Qt,Ft)};I(()=>j(Fe,Qt=>{M(n(U).showAxis,!1,!1)&&n(ne)&&Qt(_n)}),"if",G,1274,14)}tt(()=>{R(Tt,"width",n(dt)),R(Tt,"height",n(ct)+n(a).axisHeight),R(Tt,"viewBox",`0 0 ${n(dt)??""} ${n(ct)+n(a).axisHeight}`),Dt=Me(Tt,"",Dt,{top:`${n(Ct)??""}px`,left:`${n(We)??""}px`})}),z(wt,Tt)};I(()=>j(Ge,wt=>{n(U)&&wt(He)}),"if",G,1247,10)}z(ut,Se)}),"each",G,1240,8);var se=nt(ft,2);Sn(()=>n(v).filter(ut=>M(ut.column.type,"viz_boxplot")),ut=>ut.column.id),I(()=>Ie(se,17,()=>n(v).filter(ut=>M(ut.column.type,"viz_boxplot")),ut=>ut.column.id,(ut,rt)=>{const U=p(m(()=>{var wt;return(wt=n(rt).column.options)==null?void 0:wt.vizBoxplot}),"vizOpts");n(U);const Rt=p(m(()=>n(W)[n(rt).column.id]),"dynamicVizWidth");n(Rt);const dt=p(m(()=>{var wt;return M(typeof n(Rt),"number")?n(Rt):n(rt).column.width??((wt=n(U))==null?void 0:wt.width)??n(a).forestWidth}),"vizWidth");n(dt);const We=p(m(()=>n(qt).get(n(rt).column.id)??0),"vizLeft");n(We);const _e=p(m(()=>{var wt;return((wt=n(l))==null?void 0:wt.spacing.axisGap)??Qn.DEFAULT_AXIS_GAP}),"axisGap");n(_e);const ne=p(m(()=>n(vt).get(n(rt).column.id)),"sharedScale");n(ne);var Se=Et(),Ge=yt(Se);{var He=wt=>{var Tt=Cp();let Dt;var ce=Y(Tt);Sn(()=>n(i),(Qt,Ft)=>gt(Qt,Ft)),I(()=>Ie(ce,19,()=>n(i),(Qt,Ft)=>gt(Qt,Ft),(Qt,Ft,xe)=>{var _t=Et(),it=yt(_t);{var Lt=ee=>{const Ae=p(m(()=>n(et).positions[n(xe)]??n(xe)*n(a).rowHeight),"rowY");n(Ae);const Pe=p(m(()=>n(et).heights[n(xe)]??n(a).rowHeight),"rowH");n(Pe);{let Ee=m(()=>n(Ae)+n(Pe)/2);I(()=>pr(ee,{get row(){return n(Ft).row},get yPosition(){return n(Ee)},get rowHeight(){return n(Pe)},get width(){return n(dt)},get options(){return n(U)},get theme(){return n(l)},get sharedScale(){return n(ne)}}),"component",G,1314,18,{componentTag:"VizBoxplot"})}};I(()=>j(it,ee=>{M(n(Ft).type,"data")&&ee(Lt)}),"if",G,1311,16)}z(Qt,_t)}),"each",G,1310,14);var Fe=nt(ce);{var _n=Qt=>{var Ft=kp(),xe=Y(Ft);{let _t=m(()=>({...n(a),forestWidth:n(dt),nullValue:0})),it=m(()=>n(U).axisLabel??"Value");I(()=>Rn(xe,{get xScale(){return n(ne)},get layout(){return n(_t)},get theme(){return n(l)},get axisLabel(){return n(it)},position:"bottom",get plotHeight(){return n(ct)},get baseTicks(){return n(U).axisTicks},get gridlines(){return n(U).axisGridlines}}),"component",G,1329,18,{componentTag:"EffectAxis"})}tt(()=>R(Ft,"transform",`translate(0, ${n(ct)+n(_e)})`)),z(Qt,Ft)};I(()=>j(Fe,Qt=>{M(n(U).showAxis,!1,!1)&&n(ne)&&Qt(_n)}),"if",G,1327,14)}tt(()=>{R(Tt,"width",n(dt)),R(Tt,"height",n(ct)+n(a).axisHeight),R(Tt,"viewBox",`0 0 ${n(dt)??""} ${n(ct)+n(a).axisHeight}`),Dt=Me(Tt,"",Dt,{top:`${n(Ct)??""}px`,left:`${n(We)??""}px`})}),z(wt,Tt)};I(()=>j(Ge,wt=>{n(U)&&wt(He)}),"if",G,1300,10)}z(ut,Se)}),"each",G,1293,8);var me=nt(se,2);Sn(()=>n(v).filter(ut=>M(ut.column.type,"viz_violin")),ut=>ut.column.id),I(()=>Ie(me,17,()=>n(v).filter(ut=>M(ut.column.type,"viz_violin")),ut=>ut.column.id,(ut,rt)=>{const U=p(m(()=>{var wt;return(wt=n(rt).column.options)==null?void 0:wt.vizViolin}),"vizOpts");n(U);const Rt=p(m(()=>n(W)[n(rt).column.id]),"dynamicVizWidth");n(Rt);const dt=p(m(()=>{var wt;return M(typeof n(Rt),"number")?n(Rt):n(rt).column.width??((wt=n(U))==null?void 0:wt.width)??n(a).forestWidth}),"vizWidth");n(dt);const We=p(m(()=>n(qt).get(n(rt).column.id)??0),"vizLeft");n(We);const _e=p(m(()=>{var wt;return((wt=n(l))==null?void 0:wt.spacing.axisGap)??Qn.DEFAULT_AXIS_GAP}),"axisGap");n(_e);const ne=p(m(()=>n(vt).get(n(rt).column.id)),"sharedScale");n(ne);var Se=Et(),Ge=yt(Se);{var He=wt=>{var Tt=Np();let Dt;var ce=Y(Tt);Sn(()=>n(i),(Qt,Ft)=>gt(Qt,Ft)),I(()=>Ie(ce,19,()=>n(i),(Qt,Ft)=>gt(Qt,Ft),(Qt,Ft,xe)=>{var _t=Et(),it=yt(_t);{var Lt=ee=>{const Ae=p(m(()=>n(et).positions[n(xe)]??n(xe)*n(a).rowHeight),"rowY");n(Ae);const Pe=p(m(()=>n(et).heights[n(xe)]??n(a).rowHeight),"rowH");n(Pe);{let Ee=m(()=>n(Ae)+n(Pe)/2);I(()=>nr(ee,{get row(){return n(Ft).row},get yPosition(){return n(Ee)},get rowHeight(){return n(Pe)},get width(){return n(dt)},get options(){return n(U)},get theme(){return n(l)},get sharedScale(){return n(ne)}}),"component",G,1367,18,{componentTag:"VizViolin"})}};I(()=>j(it,ee=>{M(n(Ft).type,"data")&&ee(Lt)}),"if",G,1364,16)}z(Qt,_t)}),"each",G,1363,14);var Fe=nt(ce);{var _n=Qt=>{var Ft=Tp(),xe=Y(Ft);{let _t=m(()=>({...n(a),forestWidth:n(dt),nullValue:0})),it=m(()=>n(U).axisLabel??"Value");I(()=>Rn(xe,{get xScale(){return n(ne)},get layout(){return n(_t)},get theme(){return n(l)},get axisLabel(){return n(it)},position:"bottom",get plotHeight(){return n(ct)},get baseTicks(){return n(U).axisTicks},get gridlines(){return n(U).axisGridlines}}),"component",G,1382,18,{componentTag:"EffectAxis"})}tt(()=>R(Ft,"transform",`translate(0, ${n(ct)+n(_e)})`)),z(Qt,Ft)};I(()=>j(Fe,Qt=>{M(n(U).showAxis,!1,!1)&&n(ne)&&Qt(_n)}),"if",G,1380,14)}tt(()=>{R(Tt,"width",n(dt)),R(Tt,"height",n(ct)+n(a).axisHeight),R(Tt,"viewBox",`0 0 ${n(dt)??""} ${n(ct)+n(a).axisHeight}`),Dt=Me(Tt,"",Dt,{top:`${n(Ct)??""}px`,left:`${n(We)??""}px`})}),z(wt,Tt)};I(()=>j(Ge,wt=>{n(U)&&wt(He)}),"if",G,1353,10)}z(ut,Se)}),"each",G,1346,8);var Be=nt(At,2);{let ut=m(()=>{var U;return(U=n(r).labels)==null?void 0:U.caption}),rt=m(()=>{var U;return(U=n(r).labels)==null?void 0:U.footnote});I(()=>Vr(Be,{get caption(){return n(ut)},get footnote(){return n(rt)}}),"component",G,1400,6,{componentTag:"PlotFooter"})}no(J,ut=>st(B,ut),()=>n(B)),tt(()=>{Zt=Me(At,"",Zt,{"grid-template-columns":n(de)}),yn=Me(Wt,"",yn,{"grid-row":`1 / span ${n(re)??""}`}),Ot(Bt,n(x))})}var $e=nt(J,2);{let ye=m(()=>{var Zt,yn;return(yn=(Zt=n(r))==null?void 0:Zt.interaction)==null?void 0:yn.tooltipFields});I(()=>wo($e,{get row(){return n(b)},get position(){return n(N)},get fields(){return n(ye)},get theme(){return n(l)}}),"component",G,1404,4,{componentTag:"Tooltip"})}tt(()=>mt=Me(J,"",mt,{"margin-left":`${n(Q)??""}px`})),z(C,F)},_r=C=>{var F=Ap();z(C,F)};I(()=>j(nn,C=>{n(r)?C(En):C(_r,!1)}),"if",G,852,2)}return no(De,C=>st(T,C),()=>n(T)),tt(C=>{Xe=pn(De,1,"tabviz-container svelte-14l8yxx",null,Xe,{"auto-fit":n(S),"has-max-width":M(n(P),null,!1),"has-max-height":M(n(A),null,!1),zoomed:M(n(k),1,!1)}),R(De,"data-zoom",`${C??""}%`),Me(De,`${n(ln)??""}; ${n(S)&&n(O)>0?`height: ${n(O)}px`:""}`)},[()=>Math.round(n(E)*100)]),z(t,De),ve(qn)}to(["pointerdown","click","keydown"]),Oe[D]="src/components/split/SplitSidebar.svelte";var Rp=V(lt('<span class="tree-line svelte-1c2ts73"></span>'),Oe[D],[[101,8]]),Ip=V(It('<svg width="12" height="12" viewBox="0 0 12 12" fill="none"><rect x="1" y="1" width="10" height="10" rx="2" stroke="currentColor" stroke-width="1.2"></rect><line x1="3" y1="6" x2="9" y2="6" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"></line></svg>'),Oe[D],[[119,14,[[120,16],[121,16]]]]),zp=V(It('<svg width="12" height="12" viewBox="0 0 12 12" fill="none"><rect x="1" y="1" width="10" height="10" rx="2" stroke="currentColor" stroke-width="1.2"></rect><line x1="6" y1="3" x2="6" y2="9" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"></line><line x1="3" y1="6" x2="9" y2="6" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"></line></svg>'),Oe[D],[[124,14,[[125,16],[126,16],[127,16]]]]),Fp=V(lt("<span><!></span>"),Oe[D],[[117,10]]),Pp=V(lt('<div class="section-header nested svelte-1c2ts73"> </div>'),Oe[D],[[139,10]]),Lp=V(lt('<div class="children-wrapper svelte-1c2ts73"><!> <ul class="tree-list nested svelte-1c2ts73"></ul></div>'),Oe[D],[[137,6,[[141,8]]]]),Dp=V(lt('<li><div class="tree-row svelte-1c2ts73"><!> <button><!> <span class="label svelte-1c2ts73"> </span></button></div> <!></li>'),Oe[D],[[98,2,[[99,4,[[103,6,[[132,8]]]]]]]]),Bp=V(lt('<div class="sidebar-collapsed svelte-1c2ts73"><button class="toggle-btn svelte-1c2ts73" title="Expand navigation"><svg width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M7 4L12 9L7 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div>'),Oe[D],[[41,2,[[42,4,[[47,6,[[48,8]]]]]]]]),Gp=V(lt('<div class="section-header svelte-1c2ts73"> </div>'),Oe[D],[[80,8]]),Vp=V(lt('<aside class="split-sidebar svelte-1c2ts73" role="navigation" aria-label="Subgroup navigation"><div class="sidebar-header svelte-1c2ts73"><span class="sidebar-title svelte-1c2ts73">Subgroups</span> <button class="toggle-btn svelte-1c2ts73" title="Collapse navigation"><svg width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M11 4L6 9L11 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div> <div class="sidebar-search svelte-1c2ts73"><input type="text" placeholder="Search..." class="search-input svelte-1c2ts73"/></div> <nav class="sidebar-nav svelte-1c2ts73"><!> <ul class="tree-list svelte-1c2ts73"></ul></nav></aside>'),Oe[D],[[53,2,[[54,4,[[55,6],[56,6,[[61,8,[[62,10]]]]]]],[67,4,[[68,6]]],[78,4,[[83,6]]]]]]);function Oe(t,e){we(new.target),ge(e,!0,Oe);const r=Vl(Oe,function(y,b=xi,N=xi,H=xi){jl(...arguments);const w=p(m(()=>b().children&&b().children.length>0),"hasChildren");n(w);const k=p(m(()=>n(a).has(b().key)),"isExpanded");n(k);const S=p(m(()=>M(n(i),b().key)),"isActive");n(S);const E=p(m(()=>!n(w)),"isLeaf");n(E);var P=Dp();let A;var W=Y(P),T=Y(W);{var B=at=>{var et=Rp();z(at,et)};I(()=>j(T,at=>{N()>0&&at(B)}),"if",Oe,100,6)}var L=nt(T,2);let K;L.__click=()=>{n(E)?e.store.selectSpec(b().key):e.store.toggleExpanded(b().key)},L.__keydown=d;var Z=Y(L);{var $=at=>{var et=Fp();let ct;var $t=Y(et);{var Kt=bt=>{var ae=Ip();z(bt,ae)},gt=bt=>{var ae=zp();z(bt,ae)};I(()=>j($t,bt=>{n(k)?bt(Kt):bt(gt,!1)}),"if",Oe,118,12)}tt(()=>ct=pn(et,1,"tree-toggle svelte-1c2ts73",null,ct,{expanded:n(k)})),z(at,et)};I(()=>j(Z,at=>{n(w)&&at($)}),"if",Oe,116,8)}var O=nt(Z,2),Q=Y(O,!0);var ht=nt(W,2);{var ot=at=>{var et=Lp(),ct=Y(et);{var $t=gt=>{var bt=Pp(),ae=Y(bt,!0);tt(ue=>{Me(bt,`--depth: ${N()??""}`),Ot(ae,ue)},[()=>f(n(c)[N()+1])]),z(gt,bt)};I(()=>j(ct,gt=>{n(c).length>N()+1&&gt($t)}),"if",Oe,138,8)}var Kt=nt(ct,2);I(()=>Ie(Kt,21,()=>b().children,Zn,(gt,bt,ae)=>{I(()=>r(gt,()=>n(bt),()=>N()+1,()=>M(ae,b().children.length-1)),"render",Oe,143,12)}),"each",Oe,142,10),z(at,et)};I(()=>j(ht,at=>{n(w)&&n(k)&&at(ot)}),"if",Oe,136,4)}tt(()=>{A=pn(P,1,"tree-item svelte-1c2ts73",null,A,{"is-last":H()}),Me(W,`--depth: ${N()??""}`),K=pn(L,1,"node-btn svelte-1c2ts73",null,K,{active:n(S),parent:n(w)}),Ot(Q,b().label)}),z(y,P)}),o=p(m(()=>e.store.navTree),"navTree"),i=p(m(()=>e.store.activeKey),"activeKey"),a=p(m(()=>e.store.expandedNodes),"expandedNodes"),s=p(m(()=>e.store.searchQuery),"searchQuery"),c=p(m(()=>e.store.splitVars),"splitVars"),u=p(m(()=>e.store.sidebarCollapsed),"collapsed");function l(y){const b=y.target;e.store.setSearch(b.value)}function d(y){M(y.key,"ArrowDown")?(y.preventDefault(),e.store.selectNext()):M(y.key,"ArrowUp")&&(y.preventDefault(),e.store.selectPrevious())}function f(y){return y.replace(/_/g," ").replace(/\b\w/g,b=>b.toUpperCase())}var h={...be()},g=Et(),v=yt(g);{var _=y=>{var b=Bp(),N=Y(b);N.__click=()=>e.store.toggleSidebar(),z(y,b)},x=y=>{var b=Vp(),N=Y(b),H=nt(Y(N),2);H.__click=()=>e.store.toggleSidebar();var w=nt(N,2),k=Y(w);k.__input=l,k.__keydown=d;var S=nt(w,2),E=Y(S);{var P=W=>{var T=Gp(),B=Y(T);tt(L=>Ot(B,L),[()=>f(n(c)[0])]),z(W,T)};I(()=>j(E,W=>{n(c).length>0&&W(P)}),"if",Oe,79,6)}var A=nt(E,2);I(()=>Ie(A,21,()=>n(o),Zn,(W,T,B)=>{I(()=>r(W,()=>n(T),()=>0,()=>M(B,n(o).length-1)),"render",Oe,85,10)}),"each",Oe,84,8),tt(()=>Zl(k,n(s))),z(y,b)};I(()=>j(v,y=>{n(u)?y(_):y(x,!1)}),"if",Oe,40,0)}return z(t,g),ve(h)}to(["click","keydown","input"]),On[D]="src/lib/SplitForestPlot.svelte";var Op=V(lt('<div class="split-forest-empty svelte-1y0d7q9">Select a plot from the sidebar</div>'),On[D],[[57,8]]),jp=V(lt('<!> <div class="split-forest-main svelte-1y0d7q9"><!></div>',1),On[D],[[51,4]]),qp=V(lt('<div class="split-forest-loading svelte-1y0d7q9">Loading...</div>'),On[D],[[63,4]]),Xp=V(lt('<div class="split-forest-container svelte-1y0d7q9"><!></div>'),On[D],[[45,0]]);function On(t,e){we(new.target),ge(e,!0,On);const r=p(m(()=>e.store.activeStore),"activeStore"),o=p(m(()=>e.store.activeKey),"activeKey"),i=p(m(()=>e.store.payload),"payload"),a=p(m(()=>e.store.sidebarWidth),"sidebarWidth");function s(v){e.store.setTheme(v)}let c=p(St(void 0),"containerRef");Ci(()=>{if(!n(c))return;const v=new ResizeObserver(_=>{for(const x of _){const{width:y,height:b}=x.contentRect;e.store.setDimensions(y,b)}});return v.observe(n(c)),()=>{v.disconnect()}});var u={...be()},l=Xp();let d;var f=Y(l);{var h=v=>{var _=jp(),x=yt(_);I(()=>Oe(x,{get store(){return e.store}}),"component",On,48,4,{componentTag:"SplitSidebar"});var y=nt(x,2),b=Y(y);{var N=w=>{var k=Et(),S=yt(k);I(()=>ed(S,()=>n(o),E=>{I(()=>G(E,{get store(){return n(r)},onThemeChange:s}),"component",On,54,10,{componentTag:"ForestPlot"})}),"key",On,53,8),z(w,k)},H=w=>{var k=Op();z(w,k)};I(()=>j(b,w=>{n(r).spec?w(N):w(H,!1)}),"if",On,52,6)}z(v,_)},g=v=>{var _=qp();z(v,_)};I(()=>j(f,v=>{n(i)?v(h):v(g,!1)}),"if",On,46,2)}return no(l,v=>st(c,v),()=>n(c)),tt(()=>d=Me(l,"",d,{"--sidebar-width":`${n(a)??""}px`})),z(t,l),ve(u)}function Up(){let t=p(St(null),"spec"),e=p(St(800),"initialWidth"),r=p(St(400),"initialHeight"),o=p(St(cr(new Set)),"selectedRowIds"),i=p(St(cr(new Set)),"collapsedGroups"),a=p(St(null),"sortConfig"),s=p(St(null),"filterConfig"),c=p(St(null),"hoveredRowId"),u=p(St(null),"tooltipRowId"),l=p(St(null),"tooltipPosition"),d=p(St(cr({})),"columnWidths"),f=p(St(null),"plotWidthOverride"),h=p(St(1),"zoom"),g=p(St(!0),"autoFit"),v=p(St(null),"maxWidth"),_=p(St(null),"maxHeight"),x=p(St(!0),"showZoomControls"),y=p(St(0),"containerWidth"),b=p(St(0),"containerHeight"),N=p(St(0),"scalableNaturalWidth"),H=p(St(0),"scalableNaturalHeight"),w=p(St(null),"containerElementId");const k=p(m(()=>n(y)>0?n(y):n(e)),"effectiveWidth"),S=p(m(()=>n(b)>0?n(b):n(r)),"effectiveHeight"),E=p(m(()=>{if(!n(t))return[];let C=[...n(t).data.rows];return n(s)&&(C=$p(C,n(s))),n(a)&&(C=Yp(C,n(a))),C}),"visibleRows"),P=p(m(()=>{var Ue,Vt;if(!n(t))return{axisLimits:[0,1],plotRegion:[0,1],ticks:[0,.5,1]};const C=(Ue=n(L)[0])==null?void 0:Ue.column,X=n(L).length>0?n(f)??Math.max(n(k)*.25,200):0,J=(Vt=C==null?void 0:C.options)==null?void 0:Vt.forest,mt=(J==null?void 0:J.scale)??"linear",Mt=(J==null?void 0:J.nullValue)??(M(mt,"log")?1:0),Xt=(J==null?void 0:J.effects)??[],At=(J==null?void 0:J.point)??null,Wt=(J==null?void 0:J.lower)??null,Gt=(J==null?void 0:J.upper)??null,Bt={...n(t).theme.axis};return J!=null&&J.axisRange&&Array.isArray(J.axisRange)&&M(J.axisRange.length,2)&&(Bt.rangeMin=J.axisRange[0],Bt.rangeMax=J.axisRange[1]),J!=null&&J.axisTicks&&Array.isArray(J.axisTicks)&&(Bt.tickValues=J.axisTicks),nc({rows:n(t).data.rows,config:Bt,scale:mt,nullValue:Mt,forestWidth:X,pointSize:n(t).theme.shapes.pointSize,effects:Xt,pointCol:At,lowerCol:Wt,upperCol:Gt})}),"axisComputation"),A=p(m(()=>{var Wt,Gt;if(!n(t))return er().domain([0,1]).range([0,100]);const C=(Wt=n(L)[0])==null?void 0:Wt.column,F=(Gt=C==null?void 0:C.options)==null?void 0:Gt.forest,X=M((F==null?void 0:F.scale)??"linear","log"),{plotRegion:J}=n(P),Mt=n(L).length>0?n(f)??Math.max(n(k)*.25,200):0,Xt=Wn,At=Math.max(Mt-Wn,Xt+50);if(X){const Bt=[Math.max(J[0],.01),Math.max(J[1],.02)];return Or().domain(Bt).range([Xt,At])}return er().domain(J).range([Xt,At])}),"xScale");function W(C){const F=[];for(const X of C)X.isGroup?F.push(...W(X.columns)):F.push(X);return F}const T=p(m(()=>n(t)?W(n(t).columns):[]),"allColumns"),B=p(m(()=>n(t)?n(t).columns:[]),"allColumnDefs"),L=p(m(()=>{if(!n(t))return[];const C=[],F=n(T);for(let X=0;X<F.length;X++)M(F[X].type,"forest")&&C.push({index:X,column:F[X]});return C}),"forestColumns"),K=p(m(()=>n(L).length>0),"hasExplicitForestColumns"),Z=p(m(()=>{if(!n(t))return[];const C=[],F=n(T),X=["forest","viz_bar","viz_boxplot","viz_violin"];for(let J=0;J<F.length;J++)X.includes(F[J].type)&&C.push({index:J,column:F[J]});return C}),"vizColumns"),$=p(m(()=>n(Z).length>0),"hasVizColumns"),O=p(m(()=>{const C=new Map;if(!n(t))return C;for(const F of n(t).data.groups)C.set(F.id,F);return C}),"groupMap"),Q=p(m(()=>{const C=new Map;if(!n(t))return C;for(const F of n(t).data.groups)C.set(F.id,F.depth);return C}),"groupDepthMap");function ht(C){return C?(n(Q).get(C)??0)+1:0}function ot(C){if(!C)return!1;let F=C;for(;F;){const X=n(O).get(F);if(!X)break;if(X.parentId&&n(i).has(X.parentId))return!0;F=X.parentId}return!1}const at=p(m(()=>{var Xt;if(!n(t))return[];const C=[],F=new Map;for(const At of n(E)){const Wt=At.groupId??null;F.has(Wt)||F.set(Wt,[]),F.get(Wt).push(At)}const X=new Set;for(const At of F.keys()){if(!At)continue;let Wt=At;for(;Wt;)X.add(Wt),Wt=(Xt=n(O).get(Wt))==null?void 0:Xt.parentId}function J(At){return n(t).data.groups.filter(Wt=>M(Wt.parentId??null,At)&&X.has(Wt.id))}function mt(At){var Gt;let Wt=((Gt=F.get(At))==null?void 0:Gt.length)??0;for(const Bt of J(At))Wt+=mt(Bt.id);return Wt}function Mt(At){if(At){const Gt=n(O).get(At);if(!Gt||ot(At))return;const Bt=n(i).has(Gt.id),Ue=mt(At);if(C.push({type:"group_header",group:{...Gt,collapsed:Bt},rowCount:Ue,depth:Gt.depth}),Bt)return}for(const Gt of J(At))Mt(Gt.id);const Wt=F.get(At)??[];for(const Gt of Wt)C.push({type:"data",row:Gt,depth:ht(Gt.groupId)})}return Mt(null),C}),"displayRows"),et=p(m(()=>{var te,Nt,ft;if(!n(t))return{totalWidth:n(k),totalHeight:n(S),tableWidth:300,forestWidth:400,headerHeight:36,rowHeight:28,plotHeight:300,axisHeight:32,nullValue:0,summaryYPosition:0,showOverallSummary:!1,rowPositions:[],rowHeights:[]};const C=n(t).theme.spacing.rowHeight,F=n(t).theme.spacing.headerHeight,J=(n(t).theme.spacing.axisGap??Qn.DEFAULT_AXIS_GAP)+Cr.AXIS_HEIGHT+Cr.AXIS_LABEL_HEIGHT,Mt=n(L).length>0?n(f)??Math.max(n(k)*.25,200):0,Xt=n(k)-Mt,At=!!n(t).data.overall,Wt=[];for(const se of n(at))M(se.type,"data")&&M((te=se.row.style)==null?void 0:te.type,"spacer")?Wt.push(C/2):Wt.push(C);const Gt=[];let Bt=0;for(const se of Wt)Gt.push(Bt),Bt+=se;const Ue=Bt+(At?C*1.5:0),Vt=(Nt=n(L)[0])==null?void 0:Nt.column,Ne=(ft=Vt==null?void 0:Vt.options)==null?void 0:ft.forest,le=(Ne==null?void 0:Ne.scale)??"linear",tn=(Ne==null?void 0:Ne.nullValue)??(M(le,"log")?1:0);return{totalWidth:n(k),totalHeight:Math.max(n(S),Ue+F+J+n(t).theme.spacing.padding*2),tableWidth:Xt,forestWidth:Mt,headerHeight:F,rowHeight:C,plotHeight:Ue,axisHeight:J,nullValue:tn,summaryYPosition:Ue-C,showOverallSummary:At,rowPositions:Gt,rowHeights:Wt}}),"layout"),ct=p(m(()=>{if(!n(t))return 800;const C=100,F=150;let X=0;for(const Mt of n(T)){if(M(Mt.type,"forest"))continue;const Xt=n(d)[Mt.id]??(M(typeof Mt.width,"number")?Mt.width:null)??C;X+=Xt}X+=n(d).__label__??F;const J=n(et).forestWidth,mt=n(t).theme.spacing.padding*2;return X+J+mt}),"naturalContentWidth"),$t=p(m(()=>{if(n(y)<=0||n(N)<=0)return 1;const C=n(N)*n(h);return C>n(y)?n(y)/C:1}),"fitScale"),Kt=p(m(()=>n(g)?Math.max(.5,n(h)*n($t)):Math.max(.5,Math.min(2,n(h)))),"actualScale"),gt=p(m(()=>n(g)&&n($t)<1),"isClamped");function bt(C){st(t,{...C},!0),st(i,new Set(C.data.groups.filter(F=>F.collapsed).map(F=>F.id)),!0),ae()}function ae(){if(!n(t)||M(typeof document,"undefined"))return;const C=n(t).theme.typography.fontFamily;let F=n(t).theme.typography.fontSizeBase;if(M(typeof F,"string")&&(F.endsWith("rem")||F.endsWith("em"))){const X=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;F=`${parseFloat(F)*X}px`}ue(F,C),document.fonts&&document.fonts.ready&&document.fonts.ready.then(()=>{ue(F,C,!0)})}function ue(C,F,X=!1){var te,Nt;if(!n(t))return;const mt=document.createElement("canvas").getContext("2d");if(!mt)return;const Mt=n(t).theme.typography.headerFontScale??1.05;let Xt=C;if(M(typeof C,"string")){const ft=C.match(/^([\d.]+)(px|rem|em)$/);ft&&(Xt=`${parseFloat(ft[1])*Mt}${ft[2]}`)}const Wt=`${n(t).theme.typography.fontWeightBold??600} ${Xt} ${F}`,Gt=`${C} ${F}`,Bt=(n(t).theme.spacing.cellPaddingX??10)*2,Ue=(n(t).theme.spacing.groupPadding??8)*2;function Vt(ft){return ft.isGroup?ft.columns.flatMap(Vt):[ft]}function Ne(ft){return M(n(d)[ft.id],void 0,!1)?n(d)[ft.id]:M(typeof ft.width,"number")?ft.width:Jn.MIN}function le(ft){var $e,ye;if(M(typeof ft.width,"number")||fe(ft.width,null,!1)&&M(ft.width,"auto",!1))return;let se=0;ft.header&&(mt.font=Wt,se=Math.max(se,mt.measureText(ft.header).width)),mt.font=Gt;for(const Zt of n(t).data.rows){if(M(($e=Zt.style)==null?void 0:$e.type,"header")||M((ye=Zt.style)==null?void 0:ye.type,"spacer"))continue;const yn=Uc(Zt,ft);yn&&(se=Math.max(se,mt.measureText(yn).width))}const me=Jn.VISUAL_MIN[ft.type]??Jn.MIN,Be=Math.min(Jn.MAX,Math.max(me,Math.ceil(se+Bt+Qn.RENDERING_BUFFER)));n(d)[ft.id]=Be}function tn(ft){if(ft.isGroup){for(const se of ft.columns)tn(se);if(ft.header){mt.font=Wt;const se=mt.measureText(ft.header).width+Ue+Qn.RENDERING_BUFFER,me=Vt(ft),Be=me.reduce(($e,ye)=>$e+Ne(ye),0);if(se>Be&&me.length>0){const $e=Math.ceil((se-Be)/me.length);for(const ye of me)n(d)[ye.id]=Ne(ye)+$e}}return}le(ft)}for(const ft of n(t).columns)tn(ft);if(n(t).data.labelCol){let ft=function(Zt){let yn=0;for(const ut of n(t).data.rows)M(ut.groupId,Zt)&&yn++;for(const ut of n(t).data.groups)M(ut.parentId,Zt)&&(yn+=ft(ut.id));return yn},se=0;const me=new Map;for(const Zt of n(t).data.groups)me.set(Zt.id,Zt.depth);const Be=Zt=>Zt?(me.get(Zt)??0)+1:0;n(t).data.labelHeader&&(mt.font=Wt,se=Math.max(se,mt.measureText(n(t).data.labelHeader).width)),mt.font=Gt;const $e=parseFloat(C);for(const Zt of n(t).data.rows)if(Zt.label){const yn=Be(Zt.groupId),ut=((te=Zt.style)==null?void 0:te.indent)??0,U=(yn+ut)*Te.INDENT_PER_LEVEL;let Rt=mt.measureText(Zt.label).width+U;if((Nt=Zt.style)!=null&&Nt.badge){const dt=String(Zt.style.badge),We=$e*kr.FONT_SCALE;mt.font=`${We}px ${F}`;const ne=mt.measureText(dt).width+kr.PADDING*2;Rt+=kr.GAP+ne,mt.font=Gt}se=Math.max(se,Rt)}mt.font=Wt;for(const Zt of n(t).data.groups)if(Zt.label){const yn=Zt.depth*Te.INDENT_PER_LEVEL,ut=mt.measureText(Zt.label).width,U=`(${ft(Zt.id)})`,Rt=$e*.75;mt.font=`${Rt}px ${F}`;const dt=mt.measureText(U).width;mt.font=Wt;const We=yn+ro.CHEVRON_WIDTH+ro.GAP+ut+ro.GAP+dt+ro.SAFETY_MARGIN;se=Math.max(se,We)}const ye=Math.min(Jn.LABEL_MAX,Math.max(Jn.MIN,Math.ceil(se+Bt+Qn.RENDERING_BUFFER)));n(d).__label__=ye}}function re(C,F){st(e,C,!0),st(r,F,!0)}function en(C){const F=new Set(n(o));F.has(C)?F.delete(C):F.add(C),st(o,F,!0)}function jt(C,F){const X=new Set(n(i));F??!X.has(C)?X.add(C):X.delete(C),st(i,X,!0)}function Pt(C,F){st(a,M(F,"none")?null:{column:C,direction:F},!0)}function de(C){st(s,C,!0)}function xt(C){st(c,C,!0)}function Yt(C,F){st(u,C,!0),st(l,F,!0)}function qt(C,F){n(d)[C]=Math.max(40,F)}function Ke(C){return n(d)[C]}function yr(C){st(f,M(C,null)?null:Math.max(100,C),!0)}function ar(){return n(f)}function Ct(C){const F=Og[C];!n(t)||!F||st(t,{...n(t),theme:F},!0)}function vt(C){st(h,Math.max(.5,Math.min(2,C)),!0),Xe()}function je(){st(h,1),Xe()}function Le(){vt(n(h)*1.1)}function Ht(){vt(n(h)/1.1)}function kt(C){st(g,C,!0),Xe()}function oe(){!n(y)||!n(N)||(st(h,Math.min(2,Math.max(.5,n(y)/n(N))),!0),Xe())}function qe(C){st(v,C,!0),Xe()}function Je(C){st(_,C,!0),Xe()}function ze(C){st(x,C,!0)}function Qe(C,F){st(y,C,!0),st(b,F,!0)}function ln(C,F){st(N,C,!0),st(H,F,!0)}function qn(C){st(w,C,!0),C&&nn()}function De(){return n(w)?`tabviz_zoom_${n(w)}`:null}function Xe(){const C=De();if(C)try{const F={zoom:n(h),autoFit:n(g),maxWidth:n(v),maxHeight:n(_),version:2};localStorage.setItem(C,JSON.stringify(F))}catch{}}function nn(){const C=De();if(C)try{const F=localStorage.getItem(C);if(F){const X=JSON.parse(F);M(X.version,2)&&(st(h,X.zoom??1,!0),st(g,X.autoFit??!0,!0),st(v,X.maxWidth??null,!0),st(_,X.maxHeight??null,!0))}}catch{}}function En(){st(o,new Set,!0),st(i,new Set,!0),st(a,null),st(s,null),st(d,{},!0),st(f,null),st(h,1),st(g,!0),st(v,null),st(_,null),st(c,null),st(u,null),st(l,null)}const _r=p(m(()=>!n(u)||!n(t)?null:n(t).data.rows.find(C=>M(C.id,n(u)))??null),"tooltipRow");return{get spec(){return n(t)},get width(){return n(k)},get height(){return n(S)},get visibleRows(){return n(E)},get xScale(){return n(A)},get axisComputation(){return n(P)},get layout(){return n(et)},get selectedRowIds(){return n(o)},get collapsedGroups(){return n(i)},get hoveredRowId(){return n(c)},get allColumns(){return n(T)},get allColumnDefs(){return n(B)},get forestColumns(){return n(L)},get hasExplicitForestColumns(){return n(K)},get vizColumns(){return n(Z)},get hasVizColumns(){return n($)},get displayRows(){return n(at)},get tooltipRow(){return n(_r)},get tooltipPosition(){return n(l)},get columnWidths(){return n(d)},get zoom(){return n(h)},get autoFit(){return n(g)},get actualScale(){return n(Kt)},get isClamped(){return n(gt)},get maxWidth(){return n(v)},get maxHeight(){return n(_)},get showZoomControls(){return n(x)},get naturalContentWidth(){return n(ct)},getRowDepth:ht,getColumnWidth:Ke,getPlotWidth:ar,getExportDimensions(){var Ue,Vt,Ne,le,tn;const C=n(A).domain(),F=[],X={},J={},mt=n(d).__label__??150;J.__label__=mt;let Mt=mt;for(const te of n(T)){F.push(te.id),X[te.id]=Mt;let Nt;M(te.type,"forest")?Nt=n(d)[te.id]??(M(typeof te.width,"number")?te.width:null)??((Vt=(Ue=te.options)==null?void 0:Ue.forest)==null?void 0:Vt.width)??n(et).forestWidth:Nt=n(d)[te.id]??(M(typeof te.width,"number")?te.width:100),J[te.id]=Nt,Mt+=Nt}const Xt=[];for(const te of n(L)){const Nt=te.column,ft=(Ne=Nt.options)==null?void 0:Ne.forest,se=J[Nt.id]??n(et).forestWidth,me=(ft==null?void 0:ft.scale)??"linear",Be=(ft==null?void 0:ft.nullValue)??(M(me,"log")?1:0);Xt.push({columnId:Nt.id,xPosition:X[Nt.id],width:se,xDomain:C,clipBounds:n(P).axisLimits,ticks:n(P).ticks,scale:me,nullValue:Be,axisLabel:(ft==null?void 0:ft.axisLabel)??"Effect"})}const At=[],Wt=[];let Gt=0;for(const te of n(at)){const Nt=M(te.type,"data")&&M((le=te.row.style)==null?void 0:le.type,"spacer")?n(et).rowHeight/2:n(et).rowHeight;Wt.push(Gt),At.push(Nt),Gt+=Nt}const Bt=n(B).some(te=>te.isGroup)?2:1;return{columnOrder:F,columnWidths:J,columnPositions:X,forestColumns:Xt,rowHeights:At,rowPositions:Wt,totalRowsHeight:Gt,headerHeight:n(et).headerHeight,headerDepth:Bt,width:n(ct)*n(h),height:(n(H)||400)*n(h),naturalWidth:Mt,naturalHeight:Gt+n(et).headerHeight+n(et).axisHeight,forestWidth:(((tn=Xt[0])==null?void 0:tn.width)??n(et).forestWidth)*n(h),xDomain:C,clipBounds:n(P).axisLimits,scale:n(h)}},setSpec:bt,setDimensions:re,selectRow:en,toggleGroup:jt,sortBy:Pt,setFilter:de,setHovered:xt,setTooltip:Yt,setColumnWidth:qt,setPlotWidth:yr,setTheme:Ct,setZoom:vt,resetZoom:je,zoomIn:Le,zoomOut:Ht,setAutoFit:kt,fitToWidth:oe,setMaxWidth:qe,setMaxHeight:Je,setShowZoomControls:ze,setContainerDimensions:Qe,setScalableNaturalDimensions:ln,setContainerElementId:qn,resetState:En}}function $p(t,e){return t.filter(r=>{const o=r.metadata[e.field]??r[e.field];switch(e.operator){case"eq":return M(o,e.value);case"neq":return M(o,e.value,!1);case"gt":return M(typeof o,"number")&&o>e.value;case"lt":return M(typeof o,"number")&&o<e.value;case"contains":return M(typeof o,"string")&&o.toLowerCase().includes(e.value.toLowerCase());default:return!0}})}function Yp(t,e){const r=[...t],{column:o,direction:i}=e;return r.sort((a,s)=>{const c=a.metadata[o]??a[o],u=s.metadata[o]??s[o];let l=0;return M(typeof c,"number")&&M(typeof u,"number")?l=c-u:M(typeof c,"string")&&M(typeof u,"string")&&(l=c.localeCompare(u)),M(i,"desc")?-l:l}),r}function lf(){let t=p(St(null),"payload"),e=p(St(null),"activeKey"),r=p(St(""),"searchQuery"),o=p(St(cr(new Set)),"expandedNodes"),i=p(St(!1),"sidebarCollapsed"),a=p(St(null),"userTheme"),s=p(St(800),"containerWidth"),c=p(St(600),"containerHeight");const u=216,l=44,d=Up(),f=p(m(()=>n(t)?n(r).trim()?cf(n(t).navTree,n(r).toLowerCase()):n(t).navTree:[]),"filteredNavTree"),h=p(m(()=>!n(e)||!n(t)?null:n(t).specs[n(e)]??null),"activeSpec"),g=p(m(()=>n(t)?Zp(n(t).navTree):[]),"allLeafKeys"),v=p(m(()=>n(e)?n(g).indexOf(n(e)):-1),"currentIndex"),_=p(m(()=>{var T;return((T=n(t))==null?void 0:T.splitVars)??[]}),"splitVars"),x=p(m(()=>n(i)?l:u),"effectiveSidebarWidth");function y(T){st(t,T,!0);const B=ff(T.navTree);B&&b(B)}function b(T){if(!n(t))return;st(e,T,!0);const B=n(t).specs[T];B&&(d.setSpec(B),n(a)&&d.setTheme(n(a)),d.setDimensions(n(s)-n(x),n(c))),S(T)}function N(T,B){st(s,T,!0),st(c,B,!0),d.setDimensions(T-n(x),B)}function H(){st(i,!n(i)),d.setDimensions(n(s)-n(x),n(c))}function w(T){st(r,T,!0)}function k(T){const B=new Set(n(o));B.has(T)?B.delete(T):B.add(T),st(o,B,!0)}function S(T){const B=T.split("__"),L=new Set;let K="";for(let Z=0;Z<B.length-1;Z++)K=K?`${K}__${B[Z]}`:B[Z],L.add(K);st(o,L,!0)}function E(){n(v)>=0&&n(v)<n(g).length-1&&b(n(g)[n(v)+1])}function P(){n(v)>0&&b(n(g)[n(v)-1])}function A(T){st(a,T,!0),d.setTheme(T)}function W(){if(st(a,null),n(e)&&n(t)){const T=n(t).specs[n(e)];T&&(d.setSpec(T),d.setDimensions(n(s)-n(x),n(c)))}}return{get payload(){return n(t)},get activeKey(){return n(e)},get activeSpec(){return n(h)},get activeStore(){return d},get navTree(){return n(f)},get searchQuery(){return n(r)},get expandedNodes(){return n(o)},get splitVars(){return n(_)},get sidebarWidth(){return n(x)},get sidebarCollapsed(){return n(i)},get userTheme(){return n(a)},setPayload:y,selectSpec:b,setDimensions:N,setSearch:w,toggleExpanded:k,toggleSidebar:H,selectNext:E,selectPrevious:P,setTheme:A,resetTheme:W}}function cf(t,e){const r=[];for(const o of t){const i=o.label.toLowerCase().includes(e);if(o.children&&o.children.length>0){const a=cf(o.children,e);(a.length>0||i)&&r.push({...o,children:a.length>0?a:o.children})}else i&&r.push(o)}return r}function ff(t){for(const e of t){if(!e.children||M(e.children.length,0))return e.key;const r=ff(e.children);if(r)return r}return null}function Zp(t){const e=[];function r(o){for(const i of o)!i.children||M(i.children.length,0)?e.push(i.key):r(i.children)}return r(t),e}const uf=new Map,Kp={name:"tabviz_split",type:"output",factory:(t,e,r)=>{let o=null;const i=lf();return t.id&&uf.set(t.id,i),{renderValue:a=>{i.setPayload(a),i.setDimensions(e,r),t.style.height="100%",t.style.minHeight="400px",o&&Ku(o),o=Yu(On,{target:t,props:{store:i}}),window.Shiny&&t.id&&Qp(t.id,i)},resize:(a,s)=>{i.setDimensions(a,s)}}}};function Qp(t,e){Iu(()=>{Ci(()=>{var o;const r=e.activeKey;(o=window.Shiny)==null||o.setInputValue(`${t}_active_plot`,r,{priority:"event"})}),Ci(()=>{var o;const r=e.activeStore.selectedRowIds;(o=window.Shiny)==null||o.setInputValue(`${t}_selected`,Array.from(r),{priority:"event"})})})}return M(typeof window,"undefined",!1)&&window.HTMLWidgets&&window.HTMLWidgets.widget(Kp),M(typeof window,"undefined",!1)&&window.Shiny&&window.Shiny.addCustomMessageHandler("tabviz-split-proxy",t=>{const e=uf.get(t.id);e&&M(t.method,"selectPlot")&&M(typeof t.args.key,"string")&&e.selectSpec(t.args.key)}),Re.SplitForestPlot=On,Re.createSplitForestStore=lf,Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"}),Re})({});
