var tabviz_split=(function(Ne){"use strict";var Qp=Object.defineProperty;var df=Ne=>{throw TypeError(Ne)};var Jp=(Ne,Ue,on)=>Ue in Ne?Qp(Ne,Ue,{enumerable:!0,configurable:!0,writable:!0,value:on}):Ne[Ue]=on;var Rr=(Ne,Ue,on)=>Jp(Ne,typeof Ue!="symbol"?Ue+"":Ue,on),Ps=(Ne,Ue,on)=>Ue.has(Ne)||df("Cannot "+on);var q=(Ne,Ue,on)=>(Ps(Ne,Ue,"read from private field"),on?on.call(Ne):Ue.get(Ne)),ce=(Ne,Ue,on)=>Ue.has(Ne)?df("Cannot add the same private member more than once"):Ue instanceof WeakSet?Ue.add(Ne):Ue.set(Ne,on),Yt=(Ne,Ue,on,Fa)=>(Ps(Ne,Ue,"write to private field"),Fa?Fa.call(Ne,on):Ue.set(Ne,on),on),Je=(Ne,Ue,on)=>(Ps(Ne,Ue,"access private method"),on);var nf,rf,ei,ni,Ho,Ao,Oi,ri,oi,hn,Ls,Xi,Ds,hf,gf,rr,or,zs,Nr,Wo,Hr,ir,Fn,Ar,qr,ao,Ro,so,Io,Xr,ka,ln,t0,e0,Bs,Ia,za,Gs,pr,Wr,jn,zo,ji,qi,Ca,of;const yn=Symbol(),P=Symbol("filename"),vf="http://www.w3.org/1999/xhtml",Vs=(rf=(nf=globalThis.process)==null?void 0:nf.env)==null?void 0:rf.NODE_ENV,dt=Vs&&!Vs.toLowerCase().startsWith("prod");var pi=Array.isArray,pf=Array.prototype.indexOf,$i=Array.from,lo=Object.defineProperty,Lo=Object.getOwnPropertyDescriptor,Os=Object.getOwnPropertyDescriptors,js=Object.prototype,mf=Array.prototype,Ui=Object.getPrototypeOf,qs=Object.isExtensible;const mi=()=>{};function yf(t){for(var e=0;e<t.length;e++)t[e]()}function Xs(){var t,e,r=new Promise((o,i)=>{t=o,e=i});return{promise:r,resolve:t,reject:e}}function Pa(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const r=[];for(const o of t)if(r.push(o),r.length===e)break;return r}const un=2,La=4,Da=8,_f=1<<24,Ir=16,zr=32,Ur=64,Yi=128,ar=512,_n=1024,Cn=2048,_r=4096,Dn=8192,Yr=16384,Ba=32768,co=65536,Zi=1<<17,$s=1<<18,fo=1<<19,xf=1<<20,Fr=1<<25,Zr=32768,Ga=1<<21,Ki=1<<22,Kr=1<<23,xr=Symbol("$state"),wf=Symbol(""),Us=Symbol("proxy path"),Do=new class extends Error{constructor(){super(...arguments);Rr(this,"name","StaleReactionError");Rr(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}},bf=1,Mf=11;function Ys(){if(dt){const t=new Error("invalid_snippet_arguments\nA snippet function was passed invalid arguments. Snippets should only be instantiated via `{@render ...}`\nhttps://svelte.dev/e/invalid_snippet_arguments");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/invalid_snippet_arguments")}function Sf(){if(dt){const t=new Error("snippet_without_render_tag\nAttempted to render a snippet without a `{@render}` block. This would cause the snippet code to be stringified instead of its content being rendered to the DOM. To fix this, change `{snippet}` to `{@render snippet()}`.\nhttps://svelte.dev/e/snippet_without_render_tag");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/snippet_without_render_tag")}function Ef(){if(dt){const t=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/async_derived_orphan")}function kf(t,e){if(dt){const r=new Error(`component_api_changed
Calling \`${t}\` on a component instance (of ${e}) is no longer valid in Svelte 5
https://svelte.dev/e/component_api_changed`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/component_api_changed")}function Cf(t,e){if(dt){const r=new Error(`component_api_invalid_new
Attempted to instantiate ${t} with \`new ${e}\`, which is no longer valid in Svelte 5. If this component is not under your control, set the \`compatibility.componentApi\` compiler option to \`4\` to keep it working.
https://svelte.dev/e/component_api_invalid_new`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/component_api_invalid_new")}function Tf(){if(dt){const t=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/derived_references_self")}function Nf(t,e,r){if(dt){const o=new Error(`each_key_duplicate
${r?`Keyed each block has duplicate key \`${r}\` at indexes ${t} and ${e}`:`Keyed each block has duplicate key at indexes ${t} and ${e}`}
https://svelte.dev/e/each_key_duplicate`);throw o.name="Svelte error",o}else throw new Error("https://svelte.dev/e/each_key_duplicate")}function Hf(t){if(dt){const e=new Error(`effect_in_teardown
\`${t}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function Af(){if(dt){const t=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Wf(t){if(dt){const e=new Error(`effect_orphan
\`${t}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_orphan")}function Rf(){if(dt){const t=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function If(){if(dt){const t=new Error("invalid_snippet\nCould not `{@render}` snippet due to the expression being `null` or `undefined`. Consider using optional chaining `{@render snippet?.()}`\nhttps://svelte.dev/e/invalid_snippet");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/invalid_snippet")}function zf(t){if(dt){const e=new Error(`rune_outside_svelte
The \`${t}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function Ff(){if(dt){const t=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Pf(){if(dt){const t=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Lf(){if(dt){const t=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Df(){if(dt){const t=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}var uo="font-weight: bold",ho="font-weight: normal";function Bf(t){dt?console.warn(`%c[svelte] console_log_state
%cYour \`console.${t}\` contained \`$state\` proxies. Consider using \`$inspect(...)\` or \`$state.snapshot(...)\` instead
https://svelte.dev/e/console_log_state`,uo,ho):console.warn("https://svelte.dev/e/console_log_state")}function Gf(t,e){dt?console.warn(`%c[svelte] event_handler_invalid
%c${t} should be a function. Did you mean to ${e}?
https://svelte.dev/e/event_handler_invalid`,uo,ho):console.warn("https://svelte.dev/e/event_handler_invalid")}function Vf(){dt?console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,uo,ho):console.warn("https://svelte.dev/e/lifecycle_double_unmount")}function Of(){dt?console.warn("%c[svelte] select_multiple_invalid_value\n%cThe `value` property of a `<select multiple>` element should be an array, but it received a non-array value. The selection will be kept as is.\nhttps://svelte.dev/e/select_multiple_invalid_value",uo,ho):console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function yi(t){dt?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${t}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,uo,ho):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}function jf(){dt?console.warn(`%c[svelte] state_proxy_unmount
%cTried to unmount a state proxy, rather than a component
https://svelte.dev/e/state_proxy_unmount`,uo,ho):console.warn("https://svelte.dev/e/state_proxy_unmount")}function qf(){dt?console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",uo,ho):console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function a0(t){}function Zs(t){return t===this.v}function Ks(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Qs(t){return!Ks(t,this.v)}let Xf=!1;var $f="font-weight: bold",Uf="font-weight: normal";function Js(t){dt?console.warn(`%c[svelte] state_snapshot_uncloneable
%c${t?`The following properties cannot be cloned with \`$state.snapshot\` — the return value contains the originals:

${t}`:"Value cannot be cloned with `$state.snapshot` — the original value was returned"}
https://svelte.dev/e/state_snapshot_uncloneable`,$f,Uf):console.warn("https://svelte.dev/e/state_snapshot_uncloneable")}const Yf=[];function Zf(t,e=!1,r=!1){if(dt&&!e){const o=[],i=_i(t,new Map,"",o,null,r);if(o.length===1&&o[0]==="")Js();else if(o.length>0){const a=o.length>10?o.slice(0,7):o.slice(0,10),s=o.length-a.length;let c=a.map(f=>`- <value>${f}`).join(`
`);s>0&&(c+=`
- ...and ${s} more`),Js(c)}return i}return _i(t,new Map,"",Yf,null,r)}function _i(t,e,r,o,i=null,a=!1){if(typeof t=="object"&&t!==null){var s=e.get(t);if(s!==void 0)return s;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(pi(t)){var c=Array(t.length);e.set(t,c),i!==null&&e.set(i,c);for(var f=0;f<t.length;f+=1){var l=t[f];f in t&&(c[f]=_i(l,e,dt?`${r}[${f}]`:r,o,null,a))}return c}if(Ui(t)===js){c={},e.set(t,c),i!==null&&e.set(i,c);for(var u in t)c[u]=_i(t[u],e,dt?`${r}.${u}`:r,o,null,a);return c}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function"&&!a)return _i(t.toJSON(),e,dt?`${r}.toJSON()`:r,o,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return dt&&o.push(r),t}}function p(t,e){return t.label=e,tl(t.v,e),t}function tl(t,e){var r;return(r=t==null?void 0:t[Us])==null||r.call(t,e),t}function Kf(t){const e=new Error,r=Qf();return r.length===0?null:(r.unshift(`
`),lo(e,"stack",{value:r.join(`
`)}),lo(e,"name",{value:t}),e)}function Qf(){const t=Error.stackTraceLimit;Error.stackTraceLimit=1/0;const e=new Error().stack;if(Error.stackTraceLimit=t,!e)return[];const r=e.split(`
`),o=[];for(let i=0;i<r.length;i++){const a=r[i],s=a.replaceAll("\\","/");if(a.trim()!=="Error"){if(a.includes("validate_each_keys"))return[];s.includes("svelte/src/internal")||s.includes("node_modules/.vite")||o.push(a)}}return o}let nn=null;function Bo(t){nn=t}let Pr=null;function Qi(t){Pr=t}function I(t,e,r,o,i,a){const s=Pr;Pr={type:e,file:r[P],line:o,column:i,parent:s,...a};try{return t()}finally{Pr=s}}let Go=null;function Ji(t){Go=t}function _e(t,e=!1,r){nn={p:nn,i:!1,c:null,e:null,s:t,x:null,l:null},dt&&(nn.function=r,Go=r)}function xe(t){var e=nn,r=e.e;if(r!==null){e.e=null;for(var o of r)pl(o)}return t!==void 0&&(e.x=t),e.i=!0,nn=e.p,dt&&(Go=(nn==null?void 0:nn.function)??null),t??{}}function el(){return!0}let go=[];function nl(){var t=go;go=[],yf(t)}function Vo(t){if(go.length===0&&!xi){var e=go;queueMicrotask(()=>{e===go&&nl()})}go.push(t)}function Jf(){for(;go.length>0;)nl()}const Va=new WeakMap;function rl(t){var e=we;if(e===null)return oe.f|=Kr,t;if(dt&&t instanceof Error&&!Va.has(t)&&Va.set(t,tu(t,e)),(e.f&Ba)===0){if((e.f&Yi)===0)throw dt&&!e.parent&&t instanceof Error&&ol(t),t;e.b.error(t)}else Oo(t,e)}function Oo(t,e){for(;e!==null;){if((e.f&Yi)!==0)try{e.b.error(t);return}catch(r){t=r}e=e.parent}throw dt&&t instanceof Error&&ol(t),t}function tu(t,e){var s,c,f;const r=Lo(t,"message");if(!(r&&!r.configurable)){for(var o=Ya?"  ":"	",i=`
${o}in ${((s=e.fn)==null?void 0:s.name)||"<unknown>"}`,a=e.ctx;a!==null;)i+=`
${o}in ${(c=a.function)==null?void 0:c[P].split("/").pop()}`,a=a.p;return{message:t.message+`
${i}
`,stack:(f=t.stack)==null?void 0:f.split(`
`).filter(l=>!l.includes("svelte/src/internal")).join(`
`)}}}function ol(t){const e=Va.get(t);e&&(lo(t,"message",{value:e.message}),lo(t,"stack",{value:e.stack}))}const ta=new Set;let fe=null,tn=null,$n=[],ea=null,Oa=!1,xi=!1;const Ea=class Ea{constructor(){ce(this,hn);Rr(this,"committed",!1);Rr(this,"current",new Map);Rr(this,"previous",new Map);ce(this,ei,new Set);ce(this,ni,new Set);ce(this,Ho,0);ce(this,Ao,0);ce(this,Oi,null);ce(this,ri,new Set);ce(this,oi,new Set);Rr(this,"skipped_effects",new Set);Rr(this,"is_fork",!1)}is_deferred(){return this.is_fork||q(this,Ao)>0}process(e){var o;$n=[],this.apply();var r={parent:null,effect:null,effects:[],render_effects:[]};for(const i of e)Je(this,hn,Ls).call(this,i,r);this.is_fork||Je(this,hn,hf).call(this),this.is_deferred()?(Je(this,hn,Xi).call(this,r.effects),Je(this,hn,Xi).call(this,r.render_effects)):(fe=null,al(r.render_effects),al(r.effects),(o=q(this,Oi))==null||o.resolve()),tn=null}capture(e,r){this.previous.has(e)||this.previous.set(e,r),(e.f&Kr)===0&&(this.current.set(e,e.v),tn==null||tn.set(e,e.v))}activate(){fe=this,this.apply()}deactivate(){fe===this&&(fe=null,tn=null)}flush(){if(this.activate(),$n.length>0){if(il(),fe!==null&&fe!==this)return}else q(this,Ho)===0&&this.process([]);this.deactivate()}discard(){for(const e of q(this,ni))e(this);q(this,ni).clear()}increment(e){Yt(this,Ho,q(this,Ho)+1),e&&Yt(this,Ao,q(this,Ao)+1)}decrement(e){Yt(this,Ho,q(this,Ho)-1),e&&Yt(this,Ao,q(this,Ao)-1),this.revive()}revive(){for(const e of q(this,ri))q(this,oi).delete(e),xn(e,Cn),vo(e);for(const e of q(this,oi))xn(e,_r),vo(e);this.flush()}oncommit(e){q(this,ei).add(e)}ondiscard(e){q(this,ni).add(e)}settled(){return(q(this,Oi)??Yt(this,Oi,Xs())).promise}static ensure(){if(fe===null){const e=fe=new Ea;ta.add(fe),xi||Ea.enqueue(()=>{fe===e&&e.flush()})}return fe}static enqueue(e){Vo(e)}apply(){}};ei=new WeakMap,ni=new WeakMap,Ho=new WeakMap,Ao=new WeakMap,Oi=new WeakMap,ri=new WeakMap,oi=new WeakMap,hn=new WeakSet,Ls=function(e,r){var u;e.f^=_n;for(var o=e.first;o!==null;){var i=o.f,a=(i&(zr|Ur))!==0,s=a&&(i&_n)!==0,c=s||(i&Dn)!==0||this.skipped_effects.has(o);if((o.f&Yi)!==0&&((u=o.b)!=null&&u.is_pending())&&(r={parent:r,effect:o,effects:[],render_effects:[]}),!c&&o.fn!==null){a?o.f^=_n:(i&La)!==0?r.effects.push(o):Ci(o)&&((o.f&Ir)!==0&&q(this,ri).add(o),Ti(o));var f=o.first;if(f!==null){o=f;continue}}var l=o.parent;for(o=o.next;o===null&&l!==null;)l===r.effect&&(Je(this,hn,Xi).call(this,r.effects),Je(this,hn,Xi).call(this,r.render_effects),r=r.parent),o=l.next,l=l.parent}},Xi=function(e){for(const r of e)(r.f&Cn)!==0?q(this,ri).add(r):(r.f&_r)!==0&&q(this,oi).add(r),Je(this,hn,Ds).call(this,r.deps),xn(r,_n)},Ds=function(e){if(e!==null)for(const r of e)(r.f&un)===0||(r.f&Zr)===0||(r.f^=Zr,Je(this,hn,Ds).call(this,r.deps))},hf=function(){if(q(this,Ao)===0){for(const e of q(this,ei))e();q(this,ei).clear()}q(this,Ho)===0&&Je(this,hn,gf).call(this)},gf=function(){var a;if(ta.size>1){this.previous.clear();var e=tn,r=!0,o={parent:null,effect:null,effects:[],render_effects:[]};for(const s of ta){if(s===this){r=!1;continue}const c=[];for(const[l,u]of this.current){if(s.current.has(l))if(r&&u!==s.current.get(l))s.current.set(l,u);else continue;c.push(l)}if(c.length===0)continue;const f=[...s.current.keys()].filter(l=>!this.current.has(l));if(f.length>0){var i=$n;$n=[];const l=new Set,u=new Map;for(const h of c)sl(h,f,l,u);if($n.length>0){fe=s,s.apply();for(const h of $n)Je(a=s,hn,Ls).call(a,h,o);s.deactivate()}$n=i}}fe=null,tn=e}this.committed=!0,ta.delete(this)};let wr=Ea;function eu(t){var e=xi;xi=!0;try{for(var r;;){if(Jf(),$n.length===0&&(fe==null||fe.flush(),$n.length===0))return ea=null,r;il()}}finally{xi=e}}function il(){var t=_o;Oa=!0;var e=dt?new Set:null;try{var r=0;for(oa(!0);$n.length>0;){var o=wr.ensure();if(r++>1e3){if(dt){var i=new Map;for(const s of o.current.keys())for(const[c,f]of s.updated??[]){var a=i.get(c);a||(a={error:f.error,count:0},i.set(c,a)),a.count+=f.count}for(const s of i.values())s.error&&console.error(s.error)}nu()}if(o.process($n),Qr.clear(),dt)for(const s of o.current.keys())e.add(s)}}finally{if(Oa=!1,oa(t),ea=null,dt)for(const s of e)s.updated=null}}function nu(){try{Rf()}catch(t){dt&&lo(t,"stack",{value:""}),Oo(t,ea)}}let sr=null;function al(t){var e=t.length;if(e!==0){for(var r=0;r<e;){var o=t[r++];if((o.f&(Yr|Dn))===0&&Ci(o)&&(sr=new Set,Ti(o),o.deps===null&&o.first===null&&o.nodes===null&&(o.teardown===null&&o.ac===null?xl(o):o.fn=null),(sr==null?void 0:sr.size)>0)){Qr.clear();for(const i of sr){if((i.f&(Yr|Dn))!==0)continue;const a=[i];let s=i.parent;for(;s!==null;)sr.has(s)&&(sr.delete(s),a.push(s)),s=s.parent;for(let c=a.length-1;c>=0;c--){const f=a[c];(f.f&(Yr|Dn))===0&&Ti(f)}}sr.clear()}}sr=null}}function sl(t,e,r,o){if(!r.has(t)&&(r.add(t),t.reactions!==null))for(const i of t.reactions){const a=i.f;(a&un)!==0?sl(i,e,r,o):(a&(Ki|Ir))!==0&&(a&Cn)===0&&ll(i,e,o)&&(xn(i,Cn),vo(i))}}function ll(t,e,r){const o=r.get(t);if(o!==void 0)return o;if(t.deps!==null)for(const i of t.deps){if(e.includes(i))return!0;if((i.f&un)!==0&&ll(i,e,r))return r.set(i,!0),!0}return r.set(t,!1),!1}function vo(t){for(var e=ea=t;e.parent!==null;){e=e.parent;var r=e.f;if(Oa&&e===we&&(r&Ir)!==0&&(r&$s)===0)return;if((r&(Ur|zr))!==0){if((r&_n)===0)return;e.f^=_n}}$n.push(e)}function ru(t){let e=0,r=po(0),o;return dt&&p(r,"createSubscriber version"),()=>{Mi()&&(n(r),ra(()=>(e===0&&(o=aa(()=>t(()=>wi(r)))),e+=1,()=>{Vo(()=>{e-=1,e===0&&(o==null||o(),o=void 0,wi(r))})})))}}var ou=co|fo|Yi;function iu(t,e,r){new au(t,e,r)}class au{constructor(e,r,o){ce(this,ln);Rr(this,"parent");ce(this,rr,!1);ce(this,or);ce(this,zs,null);ce(this,Nr);ce(this,Wo);ce(this,Hr);ce(this,ir,null);ce(this,Fn,null);ce(this,Ar,null);ce(this,qr,null);ce(this,ao,null);ce(this,Ro,0);ce(this,so,0);ce(this,Io,!1);ce(this,Xr,null);ce(this,ka,ru(()=>(Yt(this,Xr,po(q(this,Ro))),dt&&p(q(this,Xr),"$effect.pending()"),()=>{Yt(this,Xr,null)})));Yt(this,or,e),Yt(this,Nr,r),Yt(this,Wo,o),this.parent=we.b,Yt(this,rr,!!q(this,Nr).pending),Yt(this,Hr,Ei(()=>{we.b=this;{var i=Je(this,ln,Bs).call(this);try{Yt(this,ir,Un(()=>o(i)))}catch(a){this.error(a)}q(this,so)>0?Je(this,ln,za).call(this):Yt(this,rr,!1)}return()=>{var a;(a=q(this,ao))==null||a.remove()}},ou))}is_pending(){return q(this,rr)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!q(this,Nr).pending}update_pending_count(e){Je(this,ln,Gs).call(this,e),Yt(this,Ro,q(this,Ro)+e),q(this,Xr)&&qo(q(this,Xr),q(this,Ro))}get_effect_pending(){return q(this,ka).call(this),n(q(this,Xr))}error(e){var r=q(this,Nr).onerror;let o=q(this,Nr).failed;if(q(this,Io)||!r&&!o)throw e;q(this,ir)&&(bn(q(this,ir)),Yt(this,ir,null)),q(this,Fn)&&(bn(q(this,Fn)),Yt(this,Fn,null)),q(this,Ar)&&(bn(q(this,Ar)),Yt(this,Ar,null));var i=!1,a=!1;const s=()=>{if(i){qf();return}i=!0,a&&Df(),wr.ensure(),Yt(this,Ro,0),q(this,Ar)!==null&&yo(q(this,Ar),()=>{Yt(this,Ar,null)}),Yt(this,rr,this.has_pending_snippet()),Yt(this,ir,Je(this,ln,Ia).call(this,()=>(Yt(this,Io,!1),Un(()=>q(this,Wo).call(this,q(this,or)))))),q(this,so)>0?Je(this,ln,za).call(this):Yt(this,rr,!1)};var c=oe;try{Tn(null),a=!0,r==null||r(e,s),a=!1}catch(f){Oo(f,q(this,Hr)&&q(this,Hr).parent)}finally{Tn(c)}o&&Vo(()=>{Yt(this,Ar,Je(this,ln,Ia).call(this,()=>{wr.ensure(),Yt(this,Io,!0);try{return Un(()=>{o(q(this,or),()=>e,()=>s)})}catch(f){return Oo(f,q(this,Hr).parent),null}finally{Yt(this,Io,!1)}}))})}}rr=new WeakMap,or=new WeakMap,zs=new WeakMap,Nr=new WeakMap,Wo=new WeakMap,Hr=new WeakMap,ir=new WeakMap,Fn=new WeakMap,Ar=new WeakMap,qr=new WeakMap,ao=new WeakMap,Ro=new WeakMap,so=new WeakMap,Io=new WeakMap,Xr=new WeakMap,ka=new WeakMap,ln=new WeakSet,t0=function(){try{Yt(this,ir,Un(()=>q(this,Wo).call(this,q(this,or))))}catch(e){this.error(e)}Yt(this,rr,!1)},e0=function(){const e=q(this,Nr).pending;e&&(Yt(this,Fn,Un(()=>e(q(this,or)))),wr.enqueue(()=>{var r=Je(this,ln,Bs).call(this);Yt(this,ir,Je(this,ln,Ia).call(this,()=>(wr.ensure(),Un(()=>q(this,Wo).call(this,r))))),q(this,so)>0?Je(this,ln,za).call(this):(yo(q(this,Fn),()=>{Yt(this,Fn,null)}),Yt(this,rr,!1))}))},Bs=function(){var e=q(this,or);return q(this,rr)&&(Yt(this,ao,Jr()),q(this,or).before(q(this,ao)),e=q(this,ao)),e},Ia=function(e){var r=we,o=oe,i=nn;cr(q(this,Hr)),Tn(q(this,Hr)),Bo(q(this,Hr).ctx);try{return e()}catch(a){return rl(a),null}finally{cr(r),Tn(o),Bo(i)}},za=function(){const e=q(this,Nr).pending;q(this,ir)!==null&&(Yt(this,qr,document.createDocumentFragment()),q(this,qr).append(q(this,ao)),Ml(q(this,ir),q(this,qr))),q(this,Fn)===null&&Yt(this,Fn,Un(()=>e(q(this,or))))},Gs=function(e){var r;if(!this.has_pending_snippet()){this.parent&&Je(r=this.parent,ln,Gs).call(r,e);return}Yt(this,so,q(this,so)+e),q(this,so)===0&&(Yt(this,rr,!1),q(this,Fn)&&yo(q(this,Fn),()=>{Yt(this,Fn,null)}),q(this,qr)&&(q(this,or).before(q(this,qr)),Yt(this,qr,null)))};function su(t,e,r,o){const i=ja;if(r.length===0&&t.length===0){o(e.map(i));return}var a=fe,s=we,c=lu();function f(){Promise.all(r.map(l=>uu(l))).then(l=>{c();try{o([...e.map(i),...l])}catch(u){(s.f&Yr)===0&&Oo(u,s)}a==null||a.deactivate(),na()}).catch(l=>{Oo(l,s)})}t.length>0?Promise.all(t).then(()=>{c();try{return f()}finally{a==null||a.deactivate(),na()}}):f()}function lu(){var t=we,e=oe,r=nn,o=fe;if(dt)var i=Pr;return function(s=!0){cr(t),Tn(e),Bo(r),s&&(o==null||o.activate()),dt&&Qi(i)}}async function cu(t){var e=await t;return()=>e}function na(){cr(null),Tn(null),Bo(null),dt&&Qi(null)}const fu=new Set;function ja(t){var e=un|Cn,r=oe!==null&&(oe.f&un)!==0?oe:null;return we!==null&&(we.f|=fo),{ctx:nn,deps:null,effects:null,equals:Zs,f:e,fn:t,reactions:null,rv:0,v:yn,wv:0,parent:r??we,ac:null}}function uu(t,e){let r=we;r===null&&Ef();var o=r.b,i=void 0,a=po(yn),s=!oe,c=new Map;return Cu(()=>{var d;var f=Xs();i=f.promise;try{Promise.resolve(t()).then(f.resolve,f.reject).then(()=>{l===fe&&l.committed&&l.deactivate(),na()})}catch(g){f.reject(g),na()}var l=fe;if(s){var u=!o.is_pending();o.update_pending_count(1),l.increment(u),(d=c.get(l))==null||d.reject(Do),c.delete(l),c.set(l,f)}const h=(g,v=void 0)=>{if(l.activate(),v)v!==Do&&(a.f|=Kr,qo(a,v));else{(a.f&Kr)!==0&&(a.f^=Kr),qo(a,g);for(const[y,_]of c){if(c.delete(y),y===l)break;_.reject(Do)}}s&&(o.update_pending_count(-1),l.decrement(u))};f.promise.then(h,g=>h(null,g||"unknown"))}),Ka(()=>{for(const f of c.values())f.reject(Do)}),dt&&(a.f|=Ki),new Promise(f=>{function l(u){function h(){u===i?f(a):l(i)}u.then(h,h)}l(i)})}function m(t){const e=ja(t);return El(e),e}function du(t){const e=ja(t);return e.equals=Qs,e}function qa(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)bn(e[r])}}let Xa=[];function hu(t){for(var e=t.parent;e!==null;){if((e.f&un)===0)return(e.f&Yr)===0?e:null;e=e.parent}return null}function $a(t){var e,r=we;if(cr(hu(t)),dt){let o=jo;fl(new Set);try{Xa.includes(t)&&Tf(),Xa.push(t),t.f&=~Zr,qa(t),e=Ja(t)}finally{cr(r),fl(o),Xa.pop()}}else try{t.f&=~Zr,qa(t),e=Ja(t)}finally{cr(r)}return e}function cl(t){var e=$a(t);if(t.equals(e)||(fe!=null&&fe.is_fork||(t.v=e),t.wv=Tl()),!$o)if(tn!==null)(Mi()||fe!=null&&fe.is_fork)&&tn.set(t,e);else{var r=(t.f&ar)===0?_r:_n;xn(t,r)}}let jo=new Set;const Qr=new Map;function fl(t){jo=t}let Ua=!1;function gu(){Ua=!0}function po(t,e){var r={f:0,v:t,reactions:null,equals:Zs,rv:0,wv:0};return r}function Mt(t,e){const r=po(t);return El(r),r}function vu(t,e=!1,r=!0){const o=po(t);return e||(o.equals=Qs),o}function at(t,e,r=!1){oe!==null&&(!Mr||(oe.f&Zi)!==0)&&el()&&(oe.f&(un|Ir|Ki|Zi))!==0&&!(Mn!=null&&Mn.includes(t))&&Lf();let o=r?lr(e):e;return dt&&tl(o,t.label),qo(t,o)}function qo(t,e){var i;if(!t.equals(e)){var r=t.v;$o?Qr.set(t,e):Qr.set(t,r),t.v=e;var o=wr.ensure();if(o.capture(t,r),dt){if(we!==null){t.updated??(t.updated=new Map);const a=(((i=t.updated.get(""))==null?void 0:i.count)??0)+1;if(t.updated.set("",{error:null,count:a}),a>5){const s=Kf("updated at");if(s!==null){let c=t.updated.get(s.stack);c||(c={error:s,count:0},t.updated.set(s.stack,c)),c.count++}}}we!==null&&(t.set_during_effect=!0)}(t.f&un)!==0&&((t.f&Cn)!==0&&$a(t),xn(t,(t.f&ar)!==0?_n:_r)),t.wv=Tl(),dl(t,Cn),we!==null&&(we.f&_n)!==0&&(we.f&(zr|Ur))===0&&(Yn===null?Hu([t]):Yn.push(t)),!o.is_fork&&jo.size>0&&!Ua&&ul()}return e}function ul(){Ua=!1;var t=_o;oa(!0);const e=Array.from(jo);try{for(const r of e)(r.f&_n)!==0&&xn(r,_r),Ci(r)&&Ti(r)}finally{oa(t)}jo.clear()}function wi(t){at(t,t.v+1)}function dl(t,e){var r=t.reactions;if(r!==null)for(var o=r.length,i=0;i<o;i++){var a=r[i],s=a.f;if(dt&&(s&Zi)!==0){jo.add(a);continue}var c=(s&Cn)===0;if(c&&xn(a,e),(s&un)!==0){var f=a;tn==null||tn.delete(f),(s&Zr)===0&&(s&ar&&(a.f|=Zr),dl(f,_r))}else c&&((s&Ir)!==0&&sr!==null&&sr.add(a),vo(a))}}const pu=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function lr(t){if(typeof t!="object"||t===null||xr in t)return t;const e=Ui(t);if(e!==js&&e!==mf)return t;var r=new Map,o=pi(t),i=Mt(0),a=xo,s=u=>{if(xo===a)return u();var h=oe,d=xo;Tn(null),Cl(a);var g=u();return Tn(h),Cl(d),g};o&&(r.set("length",Mt(t.length)),dt&&(t=_u(t)));var c="";let f=!1;function l(u){if(!f){f=!0,c=u,p(i,`${c} version`);for(const[h,d]of r)p(d,mo(c,h));f=!1}}return new Proxy(t,{defineProperty(u,h,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&Ff();var g=r.get(h);return g===void 0?g=s(()=>{var v=Mt(d.value);return r.set(h,v),dt&&typeof h=="string"&&p(v,mo(c,h)),v}):at(g,d.value,!0),!0},deleteProperty(u,h){var d=r.get(h);if(d===void 0){if(h in u){const g=s(()=>Mt(yn));r.set(h,g),wi(i),dt&&p(g,mo(c,h))}}else at(d,yn),wi(i);return!0},get(u,h,d){var _;if(h===xr)return t;if(dt&&h===Us)return l;var g=r.get(h),v=h in u;if(g===void 0&&(!v||(_=Lo(u,h))!=null&&_.writable)&&(g=s(()=>{var x=lr(v?u[h]:yn),S=Mt(x);return dt&&p(S,mo(c,h)),S}),r.set(h,g)),g!==void 0){var y=n(g);return y===yn?void 0:y}return Reflect.get(u,h,d)},getOwnPropertyDescriptor(u,h){var d=Reflect.getOwnPropertyDescriptor(u,h);if(d&&"value"in d){var g=r.get(h);g&&(d.value=n(g))}else if(d===void 0){var v=r.get(h),y=v==null?void 0:v.v;if(v!==void 0&&y!==yn)return{enumerable:!0,configurable:!0,value:y,writable:!0}}return d},has(u,h){var y;if(h===xr)return!0;var d=r.get(h),g=d!==void 0&&d.v!==yn||Reflect.has(u,h);if(d!==void 0||we!==null&&(!g||(y=Lo(u,h))!=null&&y.writable)){d===void 0&&(d=s(()=>{var _=g?lr(u[h]):yn,x=Mt(_);return dt&&p(x,mo(c,h)),x}),r.set(h,d));var v=n(d);if(v===yn)return!1}return g},set(u,h,d,g){var k;var v=r.get(h),y=h in u;if(o&&h==="length")for(var _=d;_<v.v;_+=1){var x=r.get(_+"");x!==void 0?at(x,yn):_ in u&&(x=s(()=>Mt(yn)),r.set(_+"",x),dt&&p(x,mo(c,_)))}if(v===void 0)(!y||(k=Lo(u,h))!=null&&k.writable)&&(v=s(()=>Mt(void 0)),dt&&p(v,mo(c,h)),at(v,lr(d)),r.set(h,v));else{y=v.v!==yn;var S=s(()=>lr(d));at(v,S)}var N=Reflect.getOwnPropertyDescriptor(u,h);if(N!=null&&N.set&&N.set.call(g,d),!y){if(o&&typeof h=="string"){var H=r.get("length"),M=Number(h);Number.isInteger(M)&&M>=H.v&&at(H,M+1)}wi(i)}return!0},ownKeys(u){n(i);var h=Reflect.ownKeys(u).filter(v=>{var y=r.get(v);return y===void 0||y.v!==yn});for(var[d,g]of r)g.v!==yn&&!(d in u)&&h.push(d);return h},setPrototypeOf(){Pf()}})}function mo(t,e){return typeof e=="symbol"?`${t}[Symbol(${e.description??""})]`:pu.test(e)?`${t}.${e}`:/^\d+$/.test(e)?`${t}[${e}]`:`${t}['${e}']`}function Lr(t){try{if(t!==null&&typeof t=="object"&&xr in t)return t[xr]}catch{}return t}function mu(t,e){return Object.is(Lr(t),Lr(e))}const yu=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function _u(t){return new Proxy(t,{get(e,r,o){var i=Reflect.get(e,r,o);return yu.has(r)?function(...a){gu();var s=i.apply(this,a);return ul(),s}:i}})}function xu(){const t=Array.prototype,e=Array.__svelte_cleanup;e&&e();const{indexOf:r,lastIndexOf:o,includes:i}=t;t.indexOf=function(a,s){const c=r.call(this,a,s);if(c===-1){for(let f=s??0;f<this.length;f+=1)if(Lr(this[f])===a){yi("array.indexOf(...)");break}}return c},t.lastIndexOf=function(a,s){const c=o.call(this,a,s??this.length-1);if(c===-1){for(let f=0;f<=(s??this.length-1);f+=1)if(Lr(this[f])===a){yi("array.lastIndexOf(...)");break}}return c},t.includes=function(a,s){const c=i.call(this,a,s);if(!c){for(let f=0;f<this.length;f+=1)if(Lr(this[f])===a){yi("array.includes(...)");break}}return c},Array.__svelte_cleanup=()=>{t.indexOf=r,t.lastIndexOf=o,t.includes=i}}function b(t,e,r=!0){try{t===e!=(Lr(t)===Lr(e))&&yi(r?"===":"!==")}catch{}return t===e===r}function ge(t,e,r=!0){return t==e!=(Lr(t)==Lr(e))&&yi(r?"==":"!="),t==e===r}var Xo,Ya,hl,gl;function wu(){if(Xo===void 0){Xo=window,Ya=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;hl=Lo(e,"firstChild").get,gl=Lo(e,"nextSibling").get,qs(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),qs(r)&&(r.__t=void 0),dt&&(t.__svelte_meta=null,xu())}}function Jr(t=""){return document.createTextNode(t)}function Dr(t){return hl.call(t)}function bi(t){return gl.call(t)}function K(t,e){return Dr(t)}function yt(t,e=!1){{var r=Dr(t);return r instanceof Comment&&r.data===""?bi(r):r}}function rt(t,e=1,r=!1){let o=t;for(;e--;)o=bi(o);return o}function bu(t){t.textContent=""}function vl(){return!1}function Za(t){var e=oe,r=we;Tn(null),cr(null);try{return t()}finally{Tn(e),cr(r)}}function Mu(t){we===null&&(oe===null&&Wf(t),Af()),$o&&Hf(t)}function Su(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function br(t,e,r){var o=we;if(dt)for(;o!==null&&(o.f&Zi)!==0;)o=o.parent;o!==null&&(o.f&Dn)!==0&&(t|=Dn);var i={ctx:nn,deps:null,nodes:null,f:t|Cn|ar,first:null,fn:e,last:null,next:null,parent:o,b:o&&o.b,prev:null,teardown:null,wv:0,ac:null};if(dt&&(i.component_function=Go),r)try{Ti(i),i.f|=Ba}catch(c){throw bn(i),c}else e!==null&&vo(i);var a=i;if(r&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&fo)===0&&(a=a.first,(t&Ir)!==0&&(t&co)!==0&&a!==null&&(a.f|=co)),a!==null&&(a.parent=o,o!==null&&Su(a,o),oe!==null&&(oe.f&un)!==0&&(t&Ur)===0)){var s=oe;(s.effects??(s.effects=[])).push(a)}return i}function Mi(){return oe!==null&&!Mr}function Ka(t){const e=br(Da,null,!1);return xn(e,_n),e.teardown=t,e}function Si(t){Mu("$effect"),dt&&lo(t,"name",{value:"$effect"});var e=we.f,r=!oe&&(e&zr)!==0&&(e&Ba)===0;if(r){var o=nn;(o.e??(o.e=[])).push(t)}else return pl(t)}function pl(t){return br(La|xf,t,!1)}function Eu(t){wr.ensure();const e=br(Ur|fo,t,!0);return()=>{bn(e)}}function ku(t){wr.ensure();const e=br(Ur|fo,t,!0);return(r={})=>new Promise(o=>{r.outro?yo(e,()=>{bn(e),o(void 0)}):(bn(e),o(void 0))})}function ml(t){return br(La,t,!1)}function Cu(t){return br(Ki|fo,t,!0)}function ra(t,e=0){return br(Da|e,t,!0)}function tt(t,e=[],r=[],o=[]){su(o,e,r,i=>{br(Da,()=>t(...i.map(n)),!0)})}function Ei(t,e=0){var r=br(Ir|e,t,!0);return dt&&(r.dev_stack=Pr),r}function Un(t){return br(zr|fo,t,!0)}function yl(t){var e=t.teardown;if(e!==null){const r=$o,o=oe;Sl(!0),Tn(null);try{e.call(null)}finally{Sl(r),Tn(o)}}}function _l(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){const i=r.ac;i!==null&&Za(()=>{i.abort(Do)});var o=r.next;(r.f&Ur)!==0?r.parent=null:bn(r,e),r=o}}function Tu(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&zr)===0&&bn(e),e=r}}function bn(t,e=!0){var r=!1;(e||(t.f&$s)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(Nu(t.nodes.start,t.nodes.end),r=!0),_l(t,e&&!r),ia(t,0),xn(t,Yr);var o=t.nodes&&t.nodes.t;if(o!==null)for(const a of o)a.stop();yl(t);var i=t.parent;i!==null&&i.first!==null&&xl(t),dt&&(t.component_function=null),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function Nu(t,e){for(;t!==null;){var r=t===e?null:bi(t);t.remove(),t=r}}function xl(t){var e=t.parent,r=t.prev,o=t.next;r!==null&&(r.next=o),o!==null&&(o.prev=r),e!==null&&(e.first===t&&(e.first=o),e.last===t&&(e.last=r))}function yo(t,e,r=!0){var o=[];wl(t,o,!0);var i=()=>{r&&bn(t),e&&e()},a=o.length;if(a>0){var s=()=>--a||i();for(var c of o)c.out(s)}else i()}function wl(t,e,r){if((t.f&Dn)===0){t.f^=Dn;var o=t.nodes&&t.nodes.t;if(o!==null)for(const c of o)(c.is_global||r)&&e.push(c);for(var i=t.first;i!==null;){var a=i.next,s=(i.f&co)!==0||(i.f&zr)!==0&&(t.f&Ir)!==0;wl(i,e,s?r:!1),i=a}}}function Qa(t){bl(t,!0)}function bl(t,e){if((t.f&Dn)!==0){t.f^=Dn,(t.f&_n)===0&&(xn(t,Cn),vo(t));for(var r=t.first;r!==null;){var o=r.next,i=(r.f&co)!==0||(r.f&zr)!==0;bl(r,i?e:!1),r=o}var a=t.nodes&&t.nodes.t;if(a!==null)for(const s of a)(s.is_global||e)&&s.in()}}function Ml(t,e){if(t.nodes)for(var r=t.nodes.start,o=t.nodes.end;r!==null;){var i=r===o?null:bi(r);e.append(r),r=i}}let _o=!1;function oa(t){_o=t}let $o=!1;function Sl(t){$o=t}let oe=null,Mr=!1;function Tn(t){oe=t}let we=null;function cr(t){we=t}let Mn=null;function El(t){oe!==null&&(Mn===null?Mn=[t]:Mn.push(t))}let Sn=null,Bn=0,Yn=null;function Hu(t){Yn=t}let kl=1,ki=0,xo=ki;function Cl(t){xo=t}function Tl(){return++kl}function Ci(t){var e=t.f;if((e&Cn)!==0)return!0;if(e&un&&(t.f&=~Zr),(e&_r)!==0){var r=t.deps;if(r!==null)for(var o=r.length,i=0;i<o;i++){var a=r[i];if(Ci(a)&&cl(a),a.wv>t.wv)return!0}(e&ar)!==0&&tn===null&&xn(t,_n)}return!1}function Nl(t,e,r=!0){var o=t.reactions;if(o!==null&&!(Mn!=null&&Mn.includes(t)))for(var i=0;i<o.length;i++){var a=o[i];(a.f&un)!==0?Nl(a,e,!1):e===a&&(r?xn(a,Cn):(a.f&_n)!==0&&xn(a,_r),vo(a))}}function Ja(t){var v;var e=Sn,r=Bn,o=Yn,i=oe,a=Mn,s=nn,c=Mr,f=xo,l=t.f;Sn=null,Bn=0,Yn=null,oe=(l&(zr|Ur))===0?t:null,Mn=null,Bo(t.ctx),Mr=!1,xo=++ki,t.ac!==null&&(Za(()=>{t.ac.abort(Do)}),t.ac=null);try{t.f|=Ga;var u=t.fn,h=u(),d=t.deps;if(Sn!==null){var g;if(ia(t,Bn),d!==null&&Bn>0)for(d.length=Bn+Sn.length,g=0;g<Sn.length;g++)d[Bn+g]=Sn[g];else t.deps=d=Sn;if(Mi()&&(t.f&ar)!==0)for(g=Bn;g<d.length;g++)((v=d[g]).reactions??(v.reactions=[])).push(t)}else d!==null&&Bn<d.length&&(ia(t,Bn),d.length=Bn);if(el()&&Yn!==null&&!Mr&&d!==null&&(t.f&(un|_r|Cn))===0)for(g=0;g<Yn.length;g++)Nl(Yn[g],t);return i!==null&&i!==t&&(ki++,Yn!==null&&(o===null?o=Yn:o.push(...Yn))),(t.f&Kr)!==0&&(t.f^=Kr),h}catch(y){return rl(y)}finally{t.f^=Ga,Sn=e,Bn=r,Yn=o,oe=i,Mn=a,Bo(s),Mr=c,xo=f}}function Au(t,e){let r=e.reactions;if(r!==null){var o=pf.call(r,t);if(o!==-1){var i=r.length-1;i===0?r=e.reactions=null:(r[o]=r[i],r.pop())}}r===null&&(e.f&un)!==0&&(Sn===null||!Sn.includes(e))&&(xn(e,_r),(e.f&ar)!==0&&(e.f^=ar,e.f&=~Zr),qa(e),ia(e,0))}function ia(t,e){var r=t.deps;if(r!==null)for(var o=e;o<r.length;o++)Au(t,r[o])}function Ti(t){var e=t.f;if((e&Yr)===0){xn(t,_n);var r=we,o=_o;if(we=t,_o=!0,dt){var i=Go;Ji(t.component_function);var a=Pr;Qi(t.dev_stack??Pr)}try{(e&(Ir|_f))!==0?Tu(t):_l(t),yl(t);var s=Ja(t);t.teardown=typeof s=="function"?s:null,t.wv=kl;var c;dt&&Xf&&(t.f&Cn)!==0&&t.deps}finally{_o=o,we=r,dt&&(Ji(i),Qi(a))}}}async function Wu(){await Promise.resolve(),eu()}function n(t){var e=t.f,r=(e&un)!==0;if(oe!==null&&!Mr){var o=we!==null&&(we.f&Yr)!==0;if(!o&&!(Mn!=null&&Mn.includes(t))){var i=oe.deps;if((oe.f&Ga)!==0)t.rv<ki&&(t.rv=ki,Sn===null&&i!==null&&i[Bn]===t?Bn++:Sn===null?Sn=[t]:Sn.includes(t)||Sn.push(t));else{(oe.deps??(oe.deps=[])).push(t);var a=t.reactions;a===null?t.reactions=[oe]:a.includes(oe)||a.push(oe)}}}if(dt&&fu.delete(t),$o){if(Qr.has(t))return Qr.get(t);if(r){var s=t,c=s.v;return((s.f&_n)===0&&s.reactions!==null||Al(s))&&(c=$a(s)),Qr.set(s,c),c}}else r&&(!(tn!=null&&tn.has(t))||fe!=null&&fe.is_fork&&!Mi())&&(s=t,Ci(s)&&cl(s),_o&&Mi()&&(s.f&ar)===0&&Hl(s));if(tn!=null&&tn.has(t))return tn.get(t);if((t.f&Kr)!==0)throw t.v;return t.v}function Hl(t){if(t.deps!==null){t.f^=ar;for(const e of t.deps)(e.reactions??(e.reactions=[])).push(t),(e.f&un)!==0&&(e.f&ar)===0&&Hl(e)}}function Al(t){if(t.v===yn)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Qr.has(e)||(e.f&un)!==0&&Al(e))return!0;return!1}function aa(t){var e=Mr;try{return Mr=!0,t()}finally{Mr=e}}const Ru=-7169;function xn(t,e){t.f=t.f&Ru|e}function Iu(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(xr in t)ts(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&xr in r&&ts(r)}}}function ts(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let o in t)try{ts(t[o],e)}catch{}const r=Ui(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const o=Os(r);for(let i in o){const a=o[i].get;if(a)try{a.call(t)}catch{}}}}}const Wl=new Set,es=new Set;function zu(t,e,r,o={}){function i(a){if(o.capture||Ni.call(e,a),!a.cancelBubble)return Za(()=>r==null?void 0:r.call(this,a))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Vo(()=>{e.addEventListener(t,i,o)}):e.addEventListener(t,i,o),i}function Gn(t,e,r,o,i){var a={capture:o,passive:i},s=zu(t,e,r,a);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Ka(()=>{e.removeEventListener(t,s,a)})}function to(t){for(var e=0;e<t.length;e++)Wl.add(t[e]);for(var r of es)r(t)}let Rl=null;function Ni(t){var _;var e=this,r=e.ownerDocument,o=t.type,i=((_=t.composedPath)==null?void 0:_.call(t))||[],a=i[0]||t.target;Rl=t;var s=0,c=Rl===t&&t.__root;if(c){var f=i.indexOf(c);if(f!==-1&&(e===document||e===window)){t.__root=e;return}var l=i.indexOf(e);if(l===-1)return;f<=l&&(s=f)}if(a=i[s]||t.target,a!==e){lo(t,"currentTarget",{configurable:!0,get(){return a||r}});var u=oe,h=we;Tn(null),cr(null);try{for(var d,g=[];a!==null;){var v=a.assignedSlot||a.parentNode||a.host||null;try{var y=a["__"+o];y!=null&&(!a.disabled||t.target===a)&&y.call(a,t)}catch(x){d?g.push(x):d=x}if(t.cancelBubble||v===e||v===null)break;a=v}if(d){for(let x of g)queueMicrotask(()=>{throw x});throw d}}finally{t.__root=e,delete t.currentTarget,Tn(u),cr(h)}}}function fr(t,e,r,o,i,a=!1,s=!1){var l,u;let c,f;try{c=t()}catch(h){f=h}if(typeof c!="function"&&(a||c!=null||f)){const h=o==null?void 0:o[P],d=i?` at ${h}:${i[0]}:${i[1]}`:` in ${h}`,g=((l=r[0])==null?void 0:l.eventPhase)<Event.BUBBLING_PHASE?"capture":"",y=`\`${((u=r[0])==null?void 0:u.type)+g}\` handler${d}`;if(Gf(y,s?"remove the trailing `()`":"add a leading `() =>`"),f)throw f}c==null||c.apply(e,r)}function Il(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Hi(t,e){var r=we;r.nodes===null&&(r.nodes={start:t,end:e,a:null,t:null})}function ft(t,e){var r=(e&1)!==0,o=(e&2)!==0,i,a=!t.startsWith("<!>");return()=>{i===void 0&&(i=Il(a?t:"<!>"+t),r||(i=Dr(i)));var s=o||Ya?document.importNode(i,!0):i.cloneNode(!0);if(r){var c=Dr(s),f=s.lastChild;Hi(c,f)}else Hi(s,s);return s}}function Fu(t,e,r="svg"){var o=!t.startsWith("<!>"),i=(e&1)!==0,a=`<${r}>${o?t:"<!>"+t}</${r}>`,s;return()=>{if(!s){var c=Il(a),f=Dr(c);if(i)for(s=document.createDocumentFragment();Dr(f);)s.appendChild(Dr(f));else s=Dr(f)}var l=s.cloneNode(!0);if(i){var u=Dr(l),h=l.lastChild;Hi(u,h)}else Hi(l,l);return l}}function Rt(t,e){return Fu(t,e,"svg")}function Ct(){var t=document.createDocumentFragment(),e=document.createComment(""),r=Jr();return t.append(e,r),Hi(e,r),t}function z(t,e){t!==null&&t.before(e)}const Pu=["touchstart","touchmove"];function Lu(t){return Pu.includes(t)}function $t(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function Du(t,e){return Bu(t,e)}const Uo=new Map;function Bu(t,{target:e,anchor:r,props:o={},events:i,context:a,intro:s=!0}){wu();var c=new Set,f=h=>{for(var d=0;d<h.length;d++){var g=h[d];if(!c.has(g)){c.add(g);var v=Lu(g);e.addEventListener(g,Ni,{passive:v});var y=Uo.get(g);y===void 0?(document.addEventListener(g,Ni,{passive:v}),Uo.set(g,1)):Uo.set(g,y+1)}}};f($i(Wl)),es.add(f);var l=void 0,u=ku(()=>{var h=r??e.appendChild(Jr());return iu(h,{pending:()=>{}},d=>{if(a){_e({});var g=nn;g.c=a}i&&(o.$$events=i),l=t(d,o)||{},a&&xe()}),()=>{var v;for(var d of c){e.removeEventListener(d,Ni);var g=Uo.get(d);--g===0?(document.removeEventListener(d,Ni),Uo.delete(d)):Uo.set(d,g)}es.delete(f),h!==r&&((v=h.parentNode)==null||v.removeChild(h))}});return ns.set(l,u),l}let ns=new WeakMap;function Gu(t,e){const r=ns.get(t);return r?(ns.delete(t),r(e)):(dt&&(xr in t?jf():Vf()),Promise.resolve())}function Vu(t){return t.toString=()=>(Sf(),""),t}class rs{constructor(e,r=!0){Rr(this,"anchor");ce(this,pr,new Map);ce(this,Wr,new Map);ce(this,jn,new Map);ce(this,zo,new Set);ce(this,ji,!0);ce(this,qi,()=>{var e=fe;if(q(this,pr).has(e)){var r=q(this,pr).get(e),o=q(this,Wr).get(r);if(o)Qa(o),q(this,zo).delete(r);else{var i=q(this,jn).get(r);i&&(q(this,Wr).set(r,i.effect),q(this,jn).delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),o=i.effect)}for(const[a,s]of q(this,pr)){if(q(this,pr).delete(a),a===e)break;const c=q(this,jn).get(s);c&&(bn(c.effect),q(this,jn).delete(s))}for(const[a,s]of q(this,Wr)){if(a===r||q(this,zo).has(a))continue;const c=()=>{if(Array.from(q(this,pr).values()).includes(a)){var l=document.createDocumentFragment();Ml(s,l),l.append(Jr()),q(this,jn).set(a,{effect:s,fragment:l})}else bn(s);q(this,zo).delete(a),q(this,Wr).delete(a)};q(this,ji)||!o?(q(this,zo).add(a),yo(s,c,!1)):c()}}});ce(this,Ca,e=>{q(this,pr).delete(e);const r=Array.from(q(this,pr).values());for(const[o,i]of q(this,jn))r.includes(o)||(bn(i.effect),q(this,jn).delete(o))});this.anchor=e,Yt(this,ji,r)}ensure(e,r){var o=fe,i=vl();if(r&&!q(this,Wr).has(e)&&!q(this,jn).has(e))if(i){var a=document.createDocumentFragment(),s=Jr();a.append(s),q(this,jn).set(e,{effect:Un(()=>r(s)),fragment:a})}else q(this,Wr).set(e,Un(()=>r(this.anchor)));if(q(this,pr).set(o,e),i){for(const[c,f]of q(this,Wr))c===e?o.skipped_effects.delete(f):o.skipped_effects.add(f);for(const[c,f]of q(this,jn))c===e?o.skipped_effects.delete(f.effect):o.skipped_effects.add(f.effect);o.oncommit(q(this,qi)),o.ondiscard(q(this,Ca))}else q(this,qi).call(this)}}pr=new WeakMap,Wr=new WeakMap,jn=new WeakMap,zo=new WeakMap,ji=new WeakMap,qi=new WeakMap,Ca=new WeakMap;function Ou(t,e,...r){var o=new rs(t);Ei(()=>{const i=e()??null;dt&&i==null&&If(),o.ensure(i,i&&(a=>i(a,...r)))},co)}function zl(t,e){const r=(o,...i)=>{var a=Go;Ji(t);try{return e(o,...i)}finally{Ji(a)}};return Vu(r),r}if(dt){let t=function(e){if(!(e in globalThis)){let r;Object.defineProperty(globalThis,e,{configurable:!0,get:()=>{if(r!==void 0)return r;zf(e)},set:o=>{r=o}})}};t("$state"),t("$effect"),t("$derived"),t("$inspect"),t("$props"),t("$bindable")}function V(t,e,r){return(...o)=>{const i=t(...o);var a=i.nodeType===Mf?i.firstChild:i;return Fl(a,e,r),i}}function ju(t,e,r){t.__svelte_meta={parent:Pr,loc:{file:e,line:r[0],column:r[1]}},r[2]&&Fl(t.firstChild,e,r[2])}function Fl(t,e,r){for(var o=0;t&&o<r.length;)t.nodeType===bf&&ju(t,e,r[o++]),t=t.nextSibling}function Ee(t){t&&Cf(t[P]??"a component",t.name)}function ke(){const t=nn==null?void 0:nn.function;function e(r){kf(r,t[P])}return{$destroy:()=>e("$destroy()"),$on:()=>e("$on(...)"),$set:()=>e("$set(...)")}}function Pl(t,...e){(typeof t!="object"||!(t instanceof Node))&&Ys();for(let r of e)typeof r!="function"&&Ys()}function X(t,e,r=!1){var o=new rs(t),i=r?co:0;function a(s,c){o.ensure(s,c)}Ei(()=>{var s=!1;e((c,f=!0)=>{s=!0,a(f,c)}),s||a(!1,null)},i)}function qu(t,e,r){var o=new rs(t);Ei(()=>{var i=e();o.ensure(i,r)})}function Zn(t,e){return e}function Xu(t,e,r){for(var o=[],i=e.length,a,s=e.length,c=0;c<i;c++){let h=e[c];yo(h,()=>{if(a){if(a.pending.delete(h),a.done.add(h),a.pending.size===0){var d=t.outrogroups;os($i(a.done)),d.delete(a),d.size===0&&(t.outrogroups=null)}}else s-=1},!1)}if(s===0){var f=o.length===0&&r!==null;if(f){var l=r,u=l.parentNode;bu(u),u.append(l),t.items.clear()}os(e,!f)}else a={pending:new Set(e),done:new Set},(t.outrogroups??(t.outrogroups=new Set)).add(a)}function os(t,e=!0){for(var r=0;r<t.length;r++)bn(t[r],e)}var Ll;function He(t,e,r,o,i,a=null){var s=t,c=new Map,f=(e&4)!==0;if(f){var l=t;s=l.appendChild(Jr())}var u=null,h=du(()=>{var x=r();return pi(x)?x:x==null?[]:$i(x)}),d,g=!0;function v(){_.fallback=u,$u(_,d,s,e,o),u!==null&&(d.length===0?(u.f&Fr)===0?Qa(u):(u.f^=Fr,Ai(u,null,s)):yo(u,()=>{u=null}))}var y=Ei(()=>{d=n(h);for(var x=d.length,S=new Set,N=fe,H=vl(),M=0;M<x;M+=1){var k=d[M],w=o(k,M),E=g?null:c.get(w);E?(E.v&&qo(E.v,k),E.i&&qo(E.i,M),H&&N.skipped_effects.delete(E.e)):(E=Uu(c,g?s:Ll??(Ll=Jr()),k,w,M,i,e,r),g||(E.e.f|=Fr),c.set(w,E)),S.add(w)}if(x===0&&a&&!u&&(g?u=Un(()=>a(s)):(u=Un(()=>a(Ll??(Ll=Jr()))),u.f|=Fr)),!g)if(H){for(const[F,T]of c)S.has(F)||N.skipped_effects.add(T.e);N.oncommit(v),N.ondiscard(()=>{})}else v();n(h)}),_={effect:y,items:c,outrogroups:null,fallback:u};g=!1}function $u(t,e,r,o,i){var T,R,C,L,Z,st,D,$,it;var a=(o&8)!==0,s=e.length,c=t.items,f=t.effect.first,l,u=null,h,d=[],g=[],v,y,_,x;if(a)for(x=0;x<s;x+=1)v=e[x],y=i(v,x),_=c.get(y).e,(_.f&Fr)===0&&((R=(T=_.nodes)==null?void 0:T.a)==null||R.measure(),(h??(h=new Set)).add(_));for(x=0;x<s;x+=1){if(v=e[x],y=i(v,x),_=c.get(y).e,t.outrogroups!==null)for(const Y of t.outrogroups)Y.pending.delete(_),Y.done.delete(_);if((_.f&Fr)!==0)if(_.f^=Fr,_===f)Ai(_,null,r);else{var S=u?u.next:f;_===t.effect.last&&(t.effect.last=_.prev),_.prev&&(_.prev.next=_.next),_.next&&(_.next.prev=_.prev),eo(t,u,_),eo(t,_,S),Ai(_,S,r),u=_,d=[],g=[],f=u.next;continue}if((_.f&Dn)!==0&&(Qa(_),a&&((L=(C=_.nodes)==null?void 0:C.a)==null||L.unfix(),(h??(h=new Set)).delete(_))),_!==f){if(l!==void 0&&l.has(_)){if(d.length<g.length){var N=g[0],H;u=N.prev;var M=d[0],k=d[d.length-1];for(H=0;H<d.length;H+=1)Ai(d[H],N,r);for(H=0;H<g.length;H+=1)l.delete(g[H]);eo(t,M.prev,k.next),eo(t,u,M),eo(t,k,N),f=N,u=k,x-=1,d=[],g=[]}else l.delete(_),Ai(_,f,r),eo(t,_.prev,_.next),eo(t,_,u===null?t.effect.first:u.next),eo(t,u,_),u=_;continue}for(d=[],g=[];f!==null&&f!==_;)(l??(l=new Set)).add(f),g.push(f),f=f.next;if(f===null)continue}(_.f&Fr)===0&&d.push(_),u=_,f=_.next}if(t.outrogroups!==null){for(const Y of t.outrogroups)Y.pending.size===0&&(os($i(Y.done)),(Z=t.outrogroups)==null||Z.delete(Y));t.outrogroups.size===0&&(t.outrogroups=null)}if(f!==null||l!==void 0){var w=[];if(l!==void 0)for(_ of l)(_.f&Dn)===0&&w.push(_);for(;f!==null;)(f.f&Dn)===0&&f!==t.fallback&&w.push(f),f=f.next;var E=w.length;if(E>0){var F=(o&4)!==0&&s===0?r:null;if(a){for(x=0;x<E;x+=1)(D=(st=w[x].nodes)==null?void 0:st.a)==null||D.measure();for(x=0;x<E;x+=1)(it=($=w[x].nodes)==null?void 0:$.a)==null||it.fix()}Xu(t,w,F)}}a&&Vo(()=>{var Y,U;if(h!==void 0)for(_ of h)(U=(Y=_.nodes)==null?void 0:Y.a)==null||U.apply()})}function Uu(t,e,r,o,i,a,s,c){var f=(s&1)!==0?(s&16)===0?vu(r,!1,!1):po(r):null,l=(s&2)!==0?po(i):null;return dt&&f&&(f.trace=()=>{c()[(l==null?void 0:l.v)??i]}),{v:f,i:l,e:Un(()=>(a(e,f??r,l??i,c),()=>{t.delete(o)}))}}function Ai(t,e,r){if(t.nodes)for(var o=t.nodes.start,i=t.nodes.end,a=e&&(e.f&Fr)===0?e.nodes.start:r;o!==null;){var s=bi(o);if(a.before(o),o===i)return;o=s}}function eo(t,e,r){e===null?t.effect.first=r:e.next=r,r===null?t.effect.last=e:r.prev=e}function sa(t,e,r){ml(()=>{var o=aa(()=>e(t,r==null?void 0:r())||{});if(r&&(o!=null&&o.update)){var i=!1,a={};ra(()=>{var s=r();Iu(s),i&&Ks(a,s)&&(a=s,o.update(s))}),i=!0}if(o!=null&&o.destroy)return()=>o.destroy()})}const Dl=[...` 	
\r\f \v\uFEFF`];function Yu(t,e,r){var o=t==null?"":""+t;if(e&&(o=o?o+" "+e:e),r){for(var i in r)if(r[i])o=o?o+" "+i:i;else if(o.length)for(var a=i.length,s=0;(s=o.indexOf(i,s))>=0;){var c=s+a;(s===0||Dl.includes(o[s-1]))&&(c===o.length||Dl.includes(o[c]))?o=(s===0?"":o.substring(0,s))+o.substring(c+1):s=c}}return o===""?null:o}function Bl(t,e=!1){var r=e?" !important;":";",o="";for(var i in t){var a=t[i];a!=null&&a!==""&&(o+=" "+i+": "+a+r)}return o}function is(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function Zu(t,e){if(e){var r="",o,i;if(Array.isArray(e)?(o=e[0],i=e[1]):o=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var a=!1,s=0,c=!1,f=[];o&&f.push(...Object.keys(o).map(is)),i&&f.push(...Object.keys(i).map(is));var l=0,u=-1;const y=t.length;for(var h=0;h<y;h++){var d=t[h];if(c?d==="/"&&t[h-1]==="*"&&(c=!1):a?a===d&&(a=!1):d==="/"&&t[h+1]==="*"?c=!0:d==='"'||d==="'"?a=d:d==="("?s++:d===")"&&s--,!c&&a===!1&&s===0){if(d===":"&&u===-1)u=h;else if(d===";"||h===y-1){if(u!==-1){var g=is(t.substring(l,u).trim());if(!f.includes(g)){d!==";"&&h++;var v=t.substring(l,h).trim();r+=" "+v+";"}}l=h+1,u=-1}}}}return o&&(r+=Bl(o)),i&&(r+=Bl(i,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function dn(t,e,r,o,i,a){var s=t.__className;if(s!==r||s===void 0){var c=Yu(r,o,a);c==null?t.removeAttribute("class"):t.className=c,t.__className=r}else if(a&&i!==a)for(var f in a){var l=!!a[f];(i==null||l!==!!i[f])&&t.classList.toggle(f,l)}return a}function as(t,e={},r,o){for(var i in r){var a=r[i];e[i]!==a&&(r[i]==null?t.style.removeProperty(i):t.style.setProperty(i,a,o))}}function Ce(t,e,r,o){var i=t.__style;if(i!==e){var a=Zu(e,o);a==null?t.removeAttribute("style"):t.style.cssText=a,t.__style=e}else o&&(Array.isArray(o)?(as(t,r==null?void 0:r[0],o[0]),as(t,r==null?void 0:r[1],o[1],"important")):as(t,r,o));return o}function ss(t,e,r=!1){if(t.multiple){if(e==null)return;if(!pi(e))return Of();for(var o of t.options)o.selected=e.includes(Vl(o));return}for(o of t.options){var i=Vl(o);if(mu(i,e)){o.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function Gl(t){var e=new MutationObserver(()=>{ss(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ka(()=>{e.disconnect()})}function Vl(t){return"__value"in t?t.__value:t.value}const Ku=Symbol("is custom element"),Qu=Symbol("is html");function Ol(t,e){var r=ls(t);r.value===(r.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function Ju(t,e){var r=ls(t);r.checked!==(r.checked=e??void 0)&&(t.checked=e)}function W(t,e,r,o){var i=ls(t);i[e]!==(i[e]=r)&&(e==="loading"&&(t[wf]=r),r==null?t.removeAttribute(e):typeof r!="string"&&td(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function ls(t){return t.__attributes??(t.__attributes={[Ku]:t.nodeName.includes("-"),[Qu]:t.namespaceURI===vf})}var jl=new Map;function td(t){var e=t.getAttribute("is")||t.nodeName,r=jl.get(e);if(r)return r;jl.set(e,r=[]);for(var o,i=t,a=Element.prototype;a!==i;){o=Os(i);for(var s in o)o[s].set&&r.push(s);i=Ui(i)}return r}function ql(t,e){return t===e||(t==null?void 0:t[xr])===e}function no(t={},e,r,o){return ml(()=>{var i,a;return ra(()=>{i=a,a=[],aa(()=>{t!==r(...a)&&(e(t,...a),i&&ql(r(...i),t)&&e(null,...i))})}),()=>{Vo(()=>{a&&ql(r(...a),t)&&e(null,...a)})}}),t}function Vn(t,e,r,o){var i=o,a=!0,s=()=>(a&&(a=!1,i=o),i),c;c=t[e],c===void 0&&o!==void 0&&(c=s());var f;return f=()=>{var l=t[e];return l===void 0?s():(a=!0,l)},f}function wn(t,e){ra(()=>{const r=new Map,o=t(),i=pi(o)?o:o==null?[]:Array.from(o),a=i.length;for(let s=0;s<a;s++){const c=e(i[s],s);if(r.has(c)){const f=String(r.get(c)),l=String(s);let u=String(c);u.startsWith("[object ")&&(u=null),Nf(f,l,u)}r.set(c,s)}})}function Xl(t,...e){return aa(()=>{try{let r=!1;const o=[];for(const i of e)i&&typeof i=="object"&&xr in i?(o.push(Zf(i,!0)),r=!0):o.push(i);r&&(Bf(t),console.log("%c[snapshot]","color: grey",...o))}catch{}}),e}const ed="5";typeof window<"u"&&((of=window.__svelte??(window.__svelte={})).v??(of.v=new Set)).add(ed);function $l(t){var o,i;const e=((o=t==null?void 0:t.shapes)==null?void 0:o.lineWidth)??1.5,r=((i=t==null?void 0:t.colors)==null?void 0:i.intervalLine)??"#475569";return{width:Math.max(4,Math.round(e*3)),height:Math.max(6,Math.round(e*4)),color:r,opacity:1}}function la(t,e,r,o){const{width:i,height:a}=o,s=a/2;return t==="left"?`M ${e} ${r} L ${e+i} ${r-s} L ${e+i} ${r+s} Z`:`M ${e} ${r} L ${e-i} ${r-s} L ${e-i} ${r+s} Z`}const Ul=[1,5,2,2.5,4,3],Sr=[.001,.002,.005,.01,.02,.05,.1,.15,.2,.25,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.75,2,2.5,3,4,5,6,7,8,10,12,15,20,25,30,40,50,75,100,150,200,300,500,750,1e3];function ca(t,e){return e?nd(t):rd(t)}function nd(t){if(t[0]<=0||t[1]<=0)return[.1,10];if(t[0]>=t[1])return t;let e=Sr[0];for(const o of Sr)if(o<=t[0])e=o;else break;t[0]<Sr[0]&&(e=Math.pow(10,Math.floor(Math.log10(t[0]))));let r=Sr[Sr.length-1];for(let o=Sr.length-1;o>=0&&Sr[o]>=t[1];o--)r=Sr[o];return t[1]>Sr[Sr.length-1]&&(r=Math.pow(10,Math.ceil(Math.log10(t[1])))),[e,r]}function rd(t){const e=t[1]-t[0];if(e===0)return t;if(e<0)return[t[1],t[0]];const r=Math.pow(10,Math.floor(Math.log10(e)));let o=r,i=1/0;for(const c of Ul)for(const f of[.1,1,10]){const l=c*r*f;if(l<=0)continue;const u=Math.floor(t[0]/l)*l,g=(Math.ceil(t[1]/l)*l-u)/e-1;g>=0&&g<i&&(i=g,o=l)}const a=Math.floor(t[0]/o)*o,s=Math.ceil(t[1]/o)*o;return[Math.round(a*1e10)/1e10,Math.round(s*1e10)/1e10]}function Kn(t,e,r,o,i=!1){if(t&&r in t){const a=t[r];if(typeof a=="number"&&Number.isFinite(a)&&(!i||a>0))return a}return r===o&&e!=null&&Number.isFinite(e)&&(!i||e>0)?e:null}const Nn=12;function Yl(t){const{rows:e,config:r,scale:o,nullValue:i,forestWidth:a,pointSize:s,effects:c=[],pointCol:f,lowerCol:l,upperCol:u}=t,h=od(e,r,o,i,c,f,l,u),d=id(h,r,o,a,s),g=Zl(h,r,o,i);return{axisLimits:h,plotRegion:d,ticks:g}}function od(t,e,r,o,i=[],a,s,c){const f=e.rangeMin!=null,l=e.rangeMax!=null;if(f&&l)return[e.rangeMin,e.rangeMax];const u=[],h=r==="log",d=a||"point";for(const Y of t){const U=Kn(Y.metadata,void 0,d,"point",h);U!=null&&u.push(U);for(const lt of i){const J=Kn(Y.metadata,void 0,lt.pointCol,"point",h);J!=null&&u.push(J)}}if(u.length===0)return r==="log"?[.1,10]:[-1,1];let g=Math.min(...u),v=Math.max(...u);(e.includeNull??!0)&&(g=Math.min(g,o),v=Math.max(v,o));const _=g,x=v;let S;if(h){const Y=Math.max(g,.001),U=Math.max(v,.001);S=Math.log(U)-Math.log(Y)}else S=v-g;if(S===0||!Number.isFinite(S)){const Y=u[0];if(h)return ca([Y/2,Y*2],!0);{const U=Math.max(1,Math.abs(Y)*.1);return ca([Y-U,Y+U],!1)}}const[N,H]=ca([g,v],h),M=e.ciClipFactor??2;let k=N,w=H;const E=[],F=[],T=s||"lower",R=c||"upper";for(const Y of t){const U=Kn(Y.metadata,void 0,T,"lower",h);U!=null&&E.push(U);const lt=Kn(Y.metadata,void 0,R,"upper",h);lt!=null&&F.push(lt);for(const J of i){const et=Kn(Y.metadata,void 0,J.lowerCol,"lower",h);et!=null&&E.push(et);const ut=Kn(Y.metadata,void 0,J.upperCol,"upper",h);ut!=null&&F.push(ut)}}let C,L;if(h)C=k/M,L=w*M;else{const Y=w-k;C=k-Y*M,L=w+Y*M}let Z=!1,st=!1;for(const Y of E)Y>=C?k=Math.min(k,Y):Z=!0;for(const Y of F)Y<=L?w=Math.max(w,Y):st=!0;if(Z&&(k=Math.min(k,C)),st&&(w=Math.max(w,L)),e.symmetric===!0&&!f&&!l)if(r==="log"){const Y=Math.log(o),U=Math.max(Math.abs(Math.log(Math.max(_,.001))-Y),Math.abs(Math.log(x)-Y));k=Math.exp(Y-U),w=Math.exp(Y+U)}else{const Y=Math.max(Math.abs(_-o),Math.abs(x-o));k=o-Y,w=o+Y}let $=f?e.rangeMin:k,it=l?e.rangeMax:w;return ca([$,it],r==="log")}function id(t,e,r,o,i){if(!(e.markerMargin??!0)||o<=0)return t;const s=o-2*Nn;if(s<=0)return t;if(r==="log"){const l=Math.log(Math.max(t[0],.001)),u=Math.log(Math.max(t[1],.001)),h=u-l,d=i/2*(h/s),g=Math.min(d,.5);return[Math.exp(l-g),Math.exp(u+g)]}const c=t[1]-t[0],f=i/2*(c/s);return[t[0]-f,t[1]+f]}function Zl(t,e,r,o){const[i,a]=t,s=o>=i&&o<=a,c=(e.nullTick??!0)&&s;if(e.tickValues&&e.tickValues.length>0){let u=e.tickValues.filter(h=>h>=i&&h<=a);return c&&!u.includes(o)&&(u=[...u,o].sort((h,d)=>h-d)),u}const f=e.tickCount??5;let l=r==="log"?sd(t,f):ad(t,f);return c&&!l.includes(o)&&(l=[...l,o].sort((u,h)=>u-h)),l}function ad(t,e){const[r,o]=t,i=o-r;if(i===0)return[r];const a=i/Math.max(e-1,1),s=Math.pow(10,Math.floor(Math.log10(a)));let c=s,f=1/0;for(const h of Ul){const d=h*s,g=Math.floor(i/d)+1,v=Math.abs(g-e);v<f&&(f=v,c=d);const y=h*s/10;if(y>0){const _=Math.floor(i/y)+1,x=Math.abs(_-e);x<f&&(f=x,c=y)}}const l=Math.ceil(r/c)*c,u=[];for(let h=l;h<=o+c*.001;h+=c){const d=Math.round(h*1e10)/1e10;d>=r&&d<=o&&u.push(d)}return u.length<2&&(u.includes(r)||u.unshift(r),u.includes(o)||u.push(o)),u}function sd(t,e){const[r,o]=t,a=[.01,.02,.05,.1,.15,.2,.25,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.75,2,2.5,3,4,5,6,7,8,10,12,15,20,25,30,40,50,75,100,150,200,500,1e3].filter(f=>f>=r&&f<=o);if(a.length<=e)return a;const s=[1,.1,10,100,.5,2,5,.2,.25,1.5,3,4,20,50],c=[];for(const f of s)a.includes(f)&&c.length<e&&c.push(f);if(c.length<e){const f=a.filter(u=>!c.includes(u)),l=Math.max(1,Math.floor(f.length/(e-c.length)));for(let u=0;u<f.length&&c.length<e;u+=l)c.push(f[u])}return c.sort((f,l)=>f-l)}const ld=.05,cd=.12,fd=.16,ud=.22,Qn={RENDERING_BUFFER:4,DEFAULT_AXIS_GAP:12},Er={FONT_SCALE:.8,PADDING:4,GAP:6},kr={DEFAULT_COLUMN_WIDTH:100,AXIS_HEIGHT:32,AXIS_LABEL_HEIGHT:32,BOTTOM_MARGIN:16,MIN_FOREST_WIDTH:200,DEFAULT_WIDTH:800},Cr={TITLE_HEIGHT:28,SUBTITLE_HEIGHT:20,CAPTION_HEIGHT:16,FOOTNOTE_HEIGHT:14,DEFAULT_FONT_SIZE:14,REM_BASE:16,PT_TO_PX:96/72},Le={INDENT_PER_LEVEL:12,TEXT_PADDING:10,DEFAULT_TICK_COUNT:5},dd={OVERALL_ROW_HEIGHT_MULTIPLIER:1.5},Jn={MIN:60,MAX:600,LABEL_MAX:400,VISUAL_MIN:{sparkline:92,bar:100,stars:84,range:84,badge:74,forest:200,viz_bar:150,viz_boxplot:150,viz_violin:150}},ro={CHEVRON_WIDTH:12,GAP:6,SAFETY_MARGIN:8},Kl={SPACING:6},cs={EDGE_THRESHOLD:35,MIN_TICK_SPACING:50},Wi={success:"#16a34a",warning:"#d97706",error:"#dc2626",info:"#2563eb"};function Ql(t,e){return e<=1?0:-((e-1)*Kl.SPACING)/2+t*Kl.SPACING}qe[P]="src/components/forest/RowInterval.svelte";var hd=V(Rt('<polygon stroke-width="1" class="point-estimate svelte-1wct561"></polygon>'),qe[P],[[251,10]]),gd=V(Rt("<path></path>"),qe[P],[[276,12]]),vd=V(Rt("<line></line>"),qe[P],[[282,12]]),pd=V(Rt("<path></path>"),qe[P],[[293,12]]),md=V(Rt("<line></line>"),qe[P],[[299,12]]),yd=V(Rt('<circle class="point-estimate svelte-1wct561"></circle>'),qe[P],[[314,12]]),_d=V(Rt('<polygon class="point-estimate svelte-1wct561"></polygon>'),qe[P],[[329,12]]),xd=V(Rt('<polygon class="point-estimate svelte-1wct561"></polygon>'),qe[P],[[341,12]]),wd=V(Rt('<rect class="point-estimate svelte-1wct561"></rect>'),qe[P],[[349,12]]),bd=V(Rt("<line></line><!><!><!>",1),qe[P],[[266,10]]),Md=V(Rt('<g class="interval-row svelte-1wct561" role="button" tabindex="0"></g>'),qe[P],[[218,2]]);function qe(t,e){Ee(new.target),_e(e,!0,qe);let r=Vn(e,"weightCol",3,null),o=Vn(e,"isLog",3,!1),i=Vn(e,"forestColumnOptions",3,null);const a=p(m(()=>$l(e.theme)),"arrowConfig"),s=p(m(()=>{if(!i())return[];const w=b(i().scale,"log")||o();if(i().point&&i().lower&&i().upper){const E=e.row.metadata[i().point],F=e.row.metadata[i().lower],T=e.row.metadata[i().upper],R=!w||ge(E,null,!1)&&E>0?E:null,C=!w||ge(F,null,!1)&&F>0?F:null,L=!w||ge(T,null,!1)&&T>0?T:null;return[{id:"inline",pointCol:i().point,lowerCol:i().lower,upperCol:i().upper,label:null,color:null,shape:null,opacity:null,point:R,lower:C,upper:L}]}return i().effects&&i().effects.length>0?i().effects.map(E=>({...E,point:Kn(e.row.metadata,null,E.pointCol,"point",w),lower:Kn(e.row.metadata,null,E.lowerCol,"lower",w),upper:Kn(e.row.metadata,null,E.upperCol,"upper",w)})):[]}),"effectsToRender"),c=p(m(()=>n(s).some(w=>ge(w.point,null,!1)&&!Number.isNaN(w.point)&&ge(w.lower,null,!1)&&!Number.isNaN(w.lower)&&ge(w.upper,null,!1)&&!Number.isNaN(w.upper))),"hasAnyValidValues"),f=p(m(()=>{var w;return b((w=e.row.style)==null?void 0:w.type,"summary")}),"isSummaryRow");function l(w){return e.clipBounds?w<e.clipBounds[0]:e.xScale(w)<0}function u(w){return e.clipBounds?w>e.clipBounds[1]:e.xScale(w)>e.layout.forestWidth}function h(w){if(!e.clipBounds)return Math.max(0,Math.min(e.layout.forestWidth,e.xScale(w)));const E=Math.max(e.clipBounds[0],Math.min(e.clipBounds[1],w));return e.xScale(E)}const d=p(m(()=>e.clipBounds?e.xScale(e.clipBounds[0]):Nn),"leftArrowX"),g=p(m(()=>e.clipBounds?e.xScale(e.clipBounds[1]):e.layout.forestWidth-Nn),"rightArrowX"),v=p(m(()=>{var w;return((w=e.theme)==null?void 0:w.shapes.summaryHeight)??10}),"diamondHeight"),y=p(m(()=>n(v)/2),"halfDiamondHeight"),_=p(m(()=>{var w;return((w=e.theme)==null?void 0:w.shapes.pointSize)??6}),"basePointSize");function x(w){var F;if(w&&ge((F=e.row.markerStyle)==null?void 0:F.size,null,!1))return n(_)*e.row.markerStyle.size;const E=r()?e.row.metadata[r()]:void 0;if(E){const T=.5+Math.sqrt(E/100)*1.5;return Math.min(Math.max(n(_)*T,3),n(_)*2.5)}return n(_)}function S(w,E){var $,it,Y,U;const F=b(E,0),T=e.row.markerStyle,R=($=e.theme)==null?void 0:$.shapes.effectColors,C=(it=e.theme)==null?void 0:it.shapes.markerShapes,L=["square","circle","diamond","triangle"];let Z;F&&(T!=null&&T.color)?Z=T.color:w.color?Z=w.color:R&&R.length>0?Z=R[E%R.length]:Z=((Y=e.theme)==null?void 0:Y.colors.interval)??((U=e.theme)==null?void 0:U.colors.primary)??"#2563eb";let st;F&&(T!=null&&T.shape)?st=T.shape:w.shape?st=w.shape:C&&C.length>0?st=C[E%C.length]:st=L[E%L.length];let D;return F&&ge(T==null?void 0:T.opacity,null,!1)?D=T.opacity:ge(w.opacity,null,!1)?D=w.opacity:D=1,{color:Z,shape:st,opacity:D}}var N={...ke()},H=Ct(),M=yt(H);{var k=w=>{var E=Md();E.__click=function(...F){fr(()=>e.onRowClick,this,F,qe,[222,13])},E.__keydown=F=>{var T;return b(F.key,"Enter")&&((T=e.onRowClick)==null?void 0:T.call(e))},I(()=>He(E,21,()=>n(s),Zn,(F,T,R)=>{const C=p(m(()=>ge(n(T).point,null,!1)&&!Number.isNaN(n(T).point)&&ge(n(T).lower,null,!1)&&!Number.isNaN(n(T).lower)&&ge(n(T).upper,null,!1)&&!Number.isNaN(n(T).upper)),"hasValidEffect");n(C);var L=Ct(),Z=yt(L);{var st=D=>{const $=p(m(()=>e.yPosition+Ql(R,n(s).length)),"effectY");n($);const it=p(m(()=>e.xScale(n(T).lower)),"x1");n(it);const Y=p(m(()=>e.xScale(n(T).upper)),"x2");n(Y);const U=p(m(()=>e.xScale(n(T).point)),"cx");n(U);const lt=p(m(()=>S(n(T),R)),"style");n(lt);const J=p(m(()=>x(b(R,0))),"pointSize");n(J);const et=p(m(()=>{var xt;return((xt=e.theme)==null?void 0:xt.colors.intervalLine)??"#475569"}),"lineColor");n(et);var ut=Ct(),vt=yt(ut);{var Et=xt=>{const ue=p(m(()=>[`${n(it)},${n($)}`,`${n(U)},${n($)-n(y)}`,`${n(Y)},${n($)}`,`${n(U)},${n($)+n(y)}`].join(" ")),"summaryDiamondPoints");n(ue);var te=hd();tt(()=>{var Te;W(te,"points",n(ue)),W(te,"fill",n(lt).color),W(te,"fill-opacity",n(lt).opacity),W(te,"stroke",((Te=e.theme)==null?void 0:Te.colors.summaryBorder)??"#1d4ed8")}),z(xt,te)},bt=xt=>{const ue=p(m(()=>l(n(T).lower)),"clippedL");n(ue);const te=p(m(()=>u(n(T).upper)),"clippedR");n(te);const Te=p(m(()=>h(n(T).lower)),"clampedX1");n(Te);const de=p(m(()=>h(n(T).upper)),"clampedX2");n(de);const mt=p(m(()=>n(a).height/2),"whiskerHalfHeight");n(mt);const Ht=p(m(()=>h(n(T).point)),"clampedCx");n(Ht);var Zt=bd(),qt=yt(Zt),Ut=rt(qt);{var Ae=Xt=>{var Wt=gd();tt(De=>{W(Wt,"d",De),W(Wt,"fill",n(a).color),W(Wt,"fill-opacity",n(a).opacity)},[()=>la("left",n(d),n($),n(a))]),z(Xt,Wt)},Pt=Xt=>{var Wt=vd();tt(()=>{var De;W(Wt,"x1",n(Te)),W(Wt,"x2",n(Te)),W(Wt,"y1",n($)-n(mt)),W(Wt,"y2",n($)+n(mt)),W(Wt,"stroke",n(et)),W(Wt,"stroke-width",((De=e.theme)==null?void 0:De.shapes.lineWidth)??1.5)}),z(Xt,Wt)};I(()=>X(Ut,Xt=>{n(ue)?Xt(Ae):Xt(Pt,!1)}),"if",qe,275,10)}var Gt=rt(Ut);{var Ze=Xt=>{var Wt=pd();tt(De=>{W(Wt,"d",De),W(Wt,"fill",n(a).color),W(Wt,"fill-opacity",n(a).opacity)},[()=>la("right",n(g),n($),n(a))]),z(Xt,Wt)},Ye=Xt=>{var Wt=md();tt(()=>{var De;W(Wt,"x1",n(de)),W(Wt,"x2",n(de)),W(Wt,"y1",n($)-n(mt)),W(Wt,"y2",n($)+n(mt)),W(Wt,"stroke",n(et)),W(Wt,"stroke-width",((De=e.theme)==null?void 0:De.shapes.lineWidth)??1.5)}),z(Xt,Wt)};I(()=>X(Gt,Xt=>{n(te)?Xt(Ze):Xt(Ye,!1)}),"if",qe,292,10)}var be=rt(Gt);{var gn=Xt=>{var Wt=yd();tt(()=>{W(Wt,"cx",n(Ht)),W(Wt,"cy",n($)),W(Wt,"r",n(J)),W(Wt,"fill",n(lt).color),W(Wt,"fill-opacity",n(lt).opacity)}),z(Xt,Wt)},En=Xt=>{var Wt=Ct(),De=yt(Wt);{var qn=kn=>{const en=p(m(()=>[`${n(Ht)},${n($)-n(J)}`,`${n(Ht)+n(J)},${n($)}`,`${n(Ht)},${n($)+n(J)}`,`${n(Ht)-n(J)},${n($)}`].join(" ")),"diamondPts");n(en);var vn=_d();tt(()=>{W(vn,"points",n(en)),W(vn,"fill",n(lt).color),W(vn,"fill-opacity",n(lt).opacity)}),z(kn,vn)},mr=kn=>{var en=Ct(),vn=yt(en);{var $r=Oe=>{const cn=p(m(()=>[`${n(Ht)},${n($)-n(J)}`,`${n(Ht)+n(J)},${n($)+n(J)}`,`${n(Ht)-n(J)},${n($)+n(J)}`].join(" ")),"trianglePts");n(cn);var Pn=xd();tt(()=>{W(Pn,"points",n(cn)),W(Pn,"fill",n(lt).color),W(Pn,"fill-opacity",n(lt).opacity)}),z(Oe,Pn)},yr=Oe=>{var cn=wd();tt(()=>{W(cn,"x",n(Ht)-n(J)),W(cn,"y",n($)-n(J)),W(cn,"width",n(J)*2),W(cn,"height",n(J)*2),W(cn,"fill",n(lt).color),W(cn,"fill-opacity",n(lt).opacity)}),z(Oe,cn)};I(()=>X(vn,Oe=>{b(n(lt).shape,"triangle")?Oe($r):Oe(yr,!1)},!0),"if",qe,335,10)}z(kn,en)};I(()=>X(De,kn=>{b(n(lt).shape,"diamond")?kn(qn):kn(mr,!1)},!0),"if",qe,322,10)}z(Xt,Wt)};I(()=>X(be,Xt=>{b(n(lt).shape,"circle")?Xt(gn):Xt(En,!1)}),"if",qe,313,10)}tt(()=>{var Xt;W(qt,"x1",n(Te)),W(qt,"x2",n(de)),W(qt,"y1",n($)),W(qt,"y2",n($)),W(qt,"stroke",n(et)),W(qt,"stroke-width",((Xt=e.theme)==null?void 0:Xt.shapes.lineWidth)??1.5)}),z(xt,Zt)};I(()=>X(vt,xt=>{n(f)?xt(Et):xt(bt,!1)}),"if",qe,240,8)}z(D,ut)};I(()=>X(Z,D=>{n(C)&&D(st)}),"if",qe,231,6)}z(F,L)}),"each",qe,227,4),Gn("mouseenter",E,F=>{var T;return(T=e.onRowHover)==null?void 0:T.call(e,!0,F)}),Gn("mouseleave",E,F=>{var T;return(T=e.onRowHover)==null?void 0:T.call(e,!1,F)}),z(w,E)};I(()=>X(M,w=>{n(c)&&w(k)}),"if",qe,217,0)}return z(t,H),xe(N)}to(["click","keydown"]),Hn[P]="src/components/forest/EffectAxis.svelte";function Sd(t){return Math.abs(t)<.01?"0":Math.abs(t)>=100?t.toFixed(0):Math.abs(t)>=10?t.toFixed(1):t.toFixed(2)}var Ed=V(Rt('<line stroke="var(--wf-border, #e2e8f0)" stroke-width="1" opacity="0.5"></line>'),Hn[P],[[171,6]]),kd=V(Rt('<g><line stroke="var(--wf-border, #e2e8f0)" stroke-width="1"></line><text fill="var(--wf-secondary, #64748b)" font-size="var(--wf-font-size-sm, 0.75rem)" class="svelte-hf6bj6"> </text></g>'),Hn[P],[[187,4,[[188,6],[194,6]]]]),Cd=V(Rt('<text text-anchor="middle" fill="var(--wf-secondary, #64748b)" font-size="var(--wf-font-size-sm, 0.75rem)" font-weight="500" class="svelte-hf6bj6"> </text>'),Hn[P],[[208,4]]),Td=V(Rt('<g class="effect-axis svelte-hf6bj6"><line stroke="var(--wf-border, #e2e8f0)" stroke-width="1"></line><!><!><!></g>'),Hn[P],[[157,0,[[159,2]]]]);function Hn(t,e){Ee(new.target),_e(e,!0,Hn);let r=Vn(e,"position",3,"bottom"),o=Vn(e,"plotHeight",3,0);const i=p(m(()=>{var w;return(w=e.theme)==null?void 0:w.axis}),"axisConfig"),a=p(m(()=>{var w;return e.gridlines??((w=n(i))==null?void 0:w.gridlines)??!1}),"showGridlines"),s=p(m(()=>{var w;return((w=n(i))==null?void 0:w.gridlineStyle)??"dotted"}),"gridlineStyle"),c=35,f=p(m(()=>{var w;return((w=n(i))==null?void 0:w.nullTick)??!0}),"shouldIncludeNullTick"),l=p(m(()=>{var vt,Et;const[w,E]=e.xScale.domain(),F=e.layout.nullValue,T=F>=w&&F<=E;if((vt=n(i))!=null&&vt.tickValues&&n(i).tickValues.length>0){let bt=n(i).tickValues.filter(xt=>xt>=w&&xt<=E);return n(f)&&T&&!bt.includes(F)&&(bt=[...bt,F].sort((xt,ue)=>xt-ue)),bt}const R=50,C=Math.max(2,Math.floor(e.layout.forestWidth/R)),Z=((Et=n(i))==null?void 0:Et.tickCount)??null??Math.min(7,C),st=e.baseTicks&&e.baseTicks.length>0?e.baseTicks.filter(bt=>bt>=w&&bt<=E):e.xScale.ticks(Z);if(b(st.length,0))return n(f)&&T?[F]:[];const D=e.xScale(F),$=st.filter(bt=>bt<F).reverse(),it=st.filter(bt=>bt>F),Y=st.some(bt=>b(bt,F)),U=[];let lt=D;for(const bt of $){const xt=e.xScale(bt);lt-xt>=R&&(U.unshift(bt),lt=xt)}const J=[];let et=D;for(const bt of it){const xt=e.xScale(bt);xt-et>=R&&(J.push(bt),et=xt)}const ut=[...U];if((Y||n(f)&&T)&&ut.push(F),ut.push(...J),ut.length<2){const bt=new Set(ut);bt.has(w)||ut.unshift(w),ut.length<2&&!bt.has(E)&&ut.push(E)}return ut}),"ticks"),u=p(m(()=>b(r(),"bottom")?0:e.layout.headerHeight-8),"axisY"),h=p(m(()=>b(r(),"bottom")),"isBottom"),d=p(m(()=>b(n(s),"dashed")?"4,4":b(n(s),"dotted")?"2,2":"none"),"gridlineDashArray");function g(w){return w<c?"start":w>e.layout.forestWidth-c?"end":"middle"}function v(w){return w<c?2:w>e.layout.forestWidth-c?-2:0}var y={...ke()},_=Td(),x=K(_),S=rt(x);{var N=w=>{var E=Ct(),F=yt(E);wn(()=>n(l),T=>T),I(()=>He(F,16,()=>n(l),T=>T,(T,R)=>{var C=Ed();tt((L,Z)=>{W(C,"x1",L),W(C,"x2",Z),W(C,"y1",(n(h),n(u))),W(C,"y2",n(h)?-o():o()),W(C,"stroke-dasharray",n(d))},[()=>e.xScale(R),()=>e.xScale(R)]),z(T,C)}),"each",Hn,170,4),z(w,E)};I(()=>X(S,w=>{n(a)&&o()>0&&w(N)}),"if",Hn,169,2)}var H=rt(S);wn(()=>n(l),w=>w),I(()=>He(H,16,()=>n(l),w=>w,(w,E)=>{const F=p(m(()=>e.xScale(E)),"tickX");n(F);var T=kd(),R=K(T),C=rt(R),L=K(C,!0);tt((Z,st,D)=>{W(T,"transform",`translate(${n(F)??""}, 0)`),W(R,"y1",n(h)?n(u):n(u)-4),W(R,"y2",n(h)?n(u)+4:n(u)),W(C,"x",Z),W(C,"y",n(h)?n(u)+16:n(u)-8),W(C,"text-anchor",st),$t(L,D)},[()=>v(n(F)),()=>g(n(F)),()=>Sd(E)]),z(w,T)}),"each",Hn,185,2);var M=rt(H);{var k=w=>{var E=Cd(),F=K(E);tt(()=>{W(E,"x",e.layout.forestWidth/2),W(E,"y",n(h)?n(u)+28:n(u)-24),$t(F,e.axisLabel)}),z(w,E)};I(()=>X(M,w=>{e.axisLabel&&w(k)}),"if",Hn,207,2)}return tt((w,E)=>{W(x,"x1",w),W(x,"x2",E),W(x,"y1",n(u)),W(x,"y2",n(u))},[()=>e.xScale.range()[0],()=>e.xScale.range()[1]]),z(t,_),xe(y)}oo[P]="src/components/forest/SummaryDiamond.svelte";var Nd=V(Rt('<path fill="var(--wf-summary-fill, #2563eb)"></path>'),oo[P],[[58,4]]),Hd=V(Rt('<path fill="var(--wf-summary-fill, #2563eb)"></path>'),oo[P],[[66,4]]),Ad=V(Rt('<g class="summary-diamond svelte-1g0hzau"><polygon fill="var(--wf-summary-fill, #2563eb)" stroke="var(--wf-summary-border, #1d4ed8)" stroke-width="1" class="svelte-1g0hzau"></polygon><!><!></g>'),oo[P],[[47,0,[[49,2]]]]);function oo(t,e){Ee(new.target),_e(e,!0,oo);const r=p(m(()=>{var v;return((v=e.theme)==null?void 0:v.shapes.summaryHeight)??10}),"diamondHeight"),o=p(m(()=>n(r)/2),"halfHeight"),i=p(m(()=>{const v=e.xScale(e.lower),y=e.xScale(e.point),_=e.xScale(e.upper),x=0,S=e.layout.forestWidth,N=Math.max(x,v),H=Math.min(S,_);return[[N,e.yPosition].join(","),[y,e.yPosition-n(o)].join(","),[H,e.yPosition].join(","),[y,e.yPosition+n(o)].join(",")].join(" ")}),"points"),a=p(m(()=>e.xScale(e.lower)<0),"clippedLeft"),s=p(m(()=>e.xScale(e.upper)>e.layout.forestWidth),"clippedRight");var c={...ke()},f=Ad(),l=K(f),u=rt(l);{var h=v=>{var y=Nd();tt(()=>W(y,"d",`M 4 ${e.yPosition??""} L 10 ${e.yPosition-4} L 10 ${e.yPosition+4} Z`)),z(v,y)};I(()=>X(u,v=>{n(a)&&v(h)}),"if",oo,57,2)}var d=rt(u);{var g=v=>{var y=Hd();tt(()=>W(y,"d",`M ${e.layout.forestWidth-4} ${e.yPosition??""} L ${e.layout.forestWidth-10} ${e.yPosition-4} L ${e.layout.forestWidth-10} ${e.yPosition+4} Z`)),z(v,y)};I(()=>X(d,v=>{n(s)&&v(g)}),"if",oo,65,2)}return tt(()=>W(l,"points",n(i))),z(t,f),xe(c)}tr[P]="src/components/forest/PlotHeader.svelte";var Wd=V(ft('<h2 class="plot-title svelte-xpghc"> </h2>'),tr[P],[[17,8]]),Rd=V(ft('<p class="plot-subtitle svelte-xpghc"> </p>'),tr[P],[[20,8]]),Id=V(ft('<div class="controls-area svelte-xpghc"><!></div>'),tr[P],[[24,6]]),zd=V(ft('<div class="header-area svelte-xpghc"><div class="title-area svelte-xpghc"><!> <!></div> <!></div>'),tr[P],[[14,2,[[15,4]]]]);function tr(t,e){Ee(new.target),_e(e,!0,tr);var r={...ke()},o=Ct(),i=yt(o);{var a=s=>{var c=zd(),f=K(c),l=K(f);{var u=y=>{var _=Wd(),x=K(_);tt(()=>$t(x,e.title)),z(y,_)};I(()=>X(l,y=>{e.title&&y(u)}),"if",tr,16,6)}var h=rt(l,2);{var d=y=>{var _=Rd(),x=K(_);tt(()=>$t(x,e.subtitle)),z(y,_)};I(()=>X(h,y=>{e.subtitle&&y(d)}),"if",tr,19,6)}var g=rt(f,2);{var v=y=>{var _=Id(),x=K(_);I(()=>Ou(x,()=>e.controls),"render",tr,25,8),z(y,_)};I(()=>X(g,y=>{e.controls&&y(v)}),"if",tr,23,4)}z(s,c)};I(()=>X(i,s=>{(e.title||e.subtitle)&&s(a)}),"if",tr,13,0)}return z(t,o),xe(r)}Br[P]="src/components/forest/PlotFooter.svelte";var Fd=V(ft('<p class="plot-caption svelte-7xjsde"> </p>'),Br[P],[[13,6]]),Pd=V(ft('<p class="plot-footnote svelte-7xjsde"> </p>'),Br[P],[[16,6]]),Ld=V(ft('<div class="plot-footer svelte-7xjsde"><!> <!></div>'),Br[P],[[11,2]]);function Br(t,e){Ee(new.target),_e(e,!0,Br);var r={...ke()},o=Ct(),i=yt(o);{var a=s=>{var c=Ld(),f=K(c);{var l=d=>{var g=Fd(),v=K(g);tt(()=>$t(v,e.caption)),z(d,g)};I(()=>X(f,d=>{e.caption&&d(l)}),"if",Br,12,4)}var u=rt(f,2);{var h=d=>{var g=Pd(),v=K(g);tt(()=>$t(v,e.footnote)),z(d,g)};I(()=>X(u,d=>{e.footnote&&d(h)}),"if",Br,15,4)}z(s,c)};I(()=>X(i,s=>{(e.caption||e.footnote)&&s(a)}),"if",Br,10,0)}return z(t,o),xe(r)}Yo[P]="src/components/forest/GroupHeader.svelte";var Dd=V(ft('<span class="group-count svelte-16smacw"> </span>'),Yo[P],[[64,4]]),Bd=V(ft('<div><span><svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path d="M2 4L6 8L10 4" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg></span> <span class="group-label svelte-16smacw"> </span> <!></div>'),Yo[P],[[49,0,[[57,2,[[58,4,[[59,6]]]]],[62,2]]]]);function Yo(t,e){Ee(new.target),_e(e,!0,Yo);let r=Vn(e,"level",3,1);function o(y,_){const x=_==null?void 0:_.groupHeaders;return x?b(y,1)?{fontSize:x.level1FontSize,fontWeight:x.level1FontWeight,italic:x.level1Italic,borderBottom:x.level1BorderBottom}:b(y,2)?{fontSize:x.level2FontSize,fontWeight:x.level2FontWeight,italic:x.level2Italic,borderBottom:x.level2BorderBottom}:{fontSize:x.level3FontSize,fontWeight:x.level3FontWeight,italic:x.level3Italic,borderBottom:x.level3BorderBottom}:{fontSize:void 0,fontWeight:void 0,italic:!1,borderBottom:!1}}const i=p(m(()=>o(r(),e.theme)),"levelStyles");var a={...ke()},s=Bd();let c,f;var l=K(s);let u;var h=rt(l,2),d=K(h),g=rt(h,2);{var v=y=>{var _=Dd(),x=K(_);tt(()=>$t(x,`(${e.rowCount??""})`)),z(y,_)};I(()=>X(g,y=>{b(e.rowCount,void 0,!1)&&y(v)}),"if",Yo,63,2)}return tt(()=>{c=dn(s,1,"group-header svelte-16smacw",null,c,{"has-border":n(i).borderBottom,italic:n(i).italic}),W(s,"aria-expanded",!e.group.collapsed),f=Ce(s,"",f,{"font-size":n(i).fontSize,"font-weight":n(i).fontWeight}),u=dn(l,1,"group-chevron svelte-16smacw",null,u,{collapsed:e.group.collapsed}),$t(d,e.group.label)}),z(t,s),xe(a)}wo[P]="src/components/ui/Tooltip.svelte";var Gd=V(ft('<div class="tooltip-row svelte-c43bsi"><span class="tooltip-label svelte-c43bsi"> </span> <span class="tooltip-value svelte-c43bsi"> </span></div>'),wo[P],[[77,8,[[78,10],[79,10]]]]),Vd=V(ft('<div class="tabviz-tooltip svelte-c43bsi"><div class="tooltip-header svelte-c43bsi"> </div> <div class="tooltip-body svelte-c43bsi"><div class="tooltip-row tooltip-estimate svelte-c43bsi"><span class="tooltip-label svelte-c43bsi">Estimate</span> <span class="tooltip-value svelte-c43bsi"> </span></div> <!></div></div>'),wo[P],[[67,2,[[68,4],[69,4,[[70,6,[[71,8],[72,8]]]]]]]]);function wo(t,e){Ee(new.target),_e(e,!0,wo);let r=Vn(e,"fields",3,null),o=p(Mt(void 0),"tooltipEl");function i(d){return b(d,null)||b(d,void 0)?"—":b(typeof d,"number")?Number.isInteger(d)?d.toString():d.toFixed(3):String(d)}const a=p(m(()=>!e.row||!r()||b(r().length,0)?[]:Object.entries(e.row.metadata).filter(([g])=>r().includes(g))),"displayFields"),s=p(m(()=>{if(!e.position)return"";const d=220,g=100,v=10;let y=e.position.x+v,_=e.position.y-v;const x=b(typeof window,"undefined",!1)?window.innerWidth:1e3;return b(typeof window,"undefined",!1)&&window.innerHeight,y+d>x-v&&(y=e.position.x-d-v),_-g<v?(_=e.position.y+v,`left: ${y}px; top: ${_}px; transform: none;`):`left: ${y}px; top: ${_}px;`}),"positionStyle"),c=p(m(()=>e.row&&e.position&&r()&&r().length>0),"shouldShow");var f={...ke()},l=Ct(),u=yt(l);{var h=d=>{var g=Vd(),v=K(g),y=K(v),_=rt(v,2),x=K(_),S=rt(K(x),2),N=K(S),H=rt(x,2);wn(()=>n(a),([M,k])=>M),I(()=>He(H,17,()=>n(a),([M,k])=>M,(M,k)=>{var w=m(()=>Pa(n(k),2));let E=()=>n(w)[0];E();let F=()=>n(w)[1];F();var T=Gd(),R=K(T),C=K(R,!0);var L=rt(R,2),Z=K(L,!0);tt(st=>{$t(C,E()),$t(Z,st)},[()=>i(F())]),z(M,T)}),"each",wo,76,6),no(g,M=>at(o,M),()=>n(o)),tt((M,k,w)=>{Ce(g,n(s)),$t(y,e.row.label),$t(N,`${M??""} (${k??""}, ${w??""})`)},[()=>i(e.row.point),()=>i(e.row.lower),()=>i(e.row.upper)]),z(d,g)};I(()=>X(u,d=>{n(c)&&d(h)}),"if",wo,66,0)}return z(t,l),xe(f)}bo[P]="src/components/table/CellBar.svelte";var Od=V(ft('<span class="bar-label svelte-1l4k3z2"> </span>'),bo[P],[[39,6]]),jd=V(ft('<div class="cell-bar svelte-1l4k3z2"><div class="bar-track svelte-1l4k3z2"><div class="bar-fill svelte-1l4k3z2"></div></div> <!></div>'),bo[P],[[30,2,[[31,4,[[32,6]]]]]]);function bo(t,e){Ee(new.target),_e(e,!0,bo);let r=Vn(e,"maxValue",3,100);const o=p(m(()=>{var d;return((d=e.options)==null?void 0:d.maxValue)??r()}),"effectiveMax"),i=p(m(()=>{var d;return((d=e.options)==null?void 0:d.showLabel)??!0}),"showLabel"),a=p(m(()=>{var d;return((d=e.options)==null?void 0:d.color)??"var(--wf-primary, #2563eb)"}),"barColor"),s=p(m(()=>()=>b(e.value,void 0)||b(e.value,null)||n(o)<=0?0:Math.min(100,Math.max(0,e.value/n(o)*100))),"percentage"),c=p(m(()=>()=>b(e.value,void 0)||b(e.value,null)?"":e.value>=100?e.value.toFixed(0):e.value>=10?e.value.toFixed(1):e.value.toFixed(2)),"formattedValue");var f={...ke()},l=Ct(),u=yt(l);{var h=d=>{var g=jd(),v=K(g),y=K(v);let _;var x=rt(v,2);{var S=N=>{var H=Od(),M=K(H);tt(k=>$t(M,k),[()=>n(c)()]),z(N,H)};I(()=>X(x,N=>{n(i)&&N(S)}),"if",bo,38,4)}tt(N=>_=Ce(y,"",_,N),[()=>({width:`${n(s)()??""}%`,"background-color":n(a)})]),z(d,g)};I(()=>X(u,d=>{b(e.value,void 0,!1)&&b(e.value,null,!1)&&d(h)}),"if",bo,29,0)}return z(t,l),xe(f)}Zo[P]="src/components/table/CellPvalue.svelte";var qd=V(ft('<span class="pvalue-stars svelte-1hymfkc"> </span>'),Zo[P],[[99,4]]),Xd=V(ft('<span><span class="pvalue-number svelte-1hymfkc"> </span> <!></span>'),Zo[P],[[86,0,[[97,2]]]]);function Zo(t,e){Ee(new.target),_e(e,!0,Zo);const r=p(m(()=>{var C;return((C=e.cellStyle)==null?void 0:C.bold)??!1}),"isBold"),o=p(m(()=>{var C;return((C=e.cellStyle)==null?void 0:C.italic)??!1}),"isItalic"),i=p(m(()=>{var C;return((C=e.cellStyle)==null?void 0:C.color)??null}),"textColor"),a=p(m(()=>{var C;return((C=e.cellStyle)==null?void 0:C.bg)??null}),"bgColor"),s=p(m(()=>{var C;return((C=e.cellStyle)==null?void 0:C.emphasis)??!1}),"isEmphasis"),c=p(m(()=>{var C;return((C=e.cellStyle)==null?void 0:C.muted)??!1}),"isMuted"),f=p(m(()=>{var C;return((C=e.cellStyle)==null?void 0:C.accent)??!1}),"isAccent"),l={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻","+":"⁺"};function u(C){return C.split("").map(L=>l[L]??L).join("")}const h=p(m(()=>{var C;return((C=e.options)==null?void 0:C.stars)??!1}),"showStars"),d=p(m(()=>{var C;return((C=e.options)==null?void 0:C.thresholds)??[.05,.01,.001]}),"thresholds"),g=p(m(()=>{var C;return((C=e.options)==null?void 0:C.format)??"auto"}),"format"),v=p(m(()=>{var C;return((C=e.options)==null?void 0:C.digits)??2}),"digits"),y=p(m(()=>{var C;return((C=e.options)==null?void 0:C.expThreshold)??.001}),"expThreshold"),_=p(m(()=>{var C;return((C=e.options)==null?void 0:C.abbrevThreshold)??null}),"abbrevThreshold"),x=p(m(()=>{if(!n(h)||b(e.value,void 0)||b(e.value,null))return"";const[C,L,Z]=n(d);return e.value<Z?"***":e.value<L?"**":e.value<C?"*":""}),"stars"),S=p(m(()=>{if(b(e.value,void 0)||b(e.value,null))return"";if(b(n(_),null,!1)&&e.value<n(_))return`<${n(_)}`;if(b(n(g),"scientific")||b(n(g),"auto")&&e.value<n(y)){const C=Math.floor(Math.log10(e.value));return`${(e.value/Math.pow(10,C)).toPrecision(n(v))}×10${u(C.toString())}`}return e.value>=.1?e.value.toFixed(n(v)):e.value>=.01?e.value.toFixed(n(v)+1):e.value.toFixed(n(v)+2)}),"formattedValue"),N=p(m(()=>n(x).length>0),"isSignificant");var H={...ke()},M=Xd();let k,w;var E=K(M),F=K(E),T=rt(E,2);{var R=C=>{var L=qd(),Z=K(L);tt(()=>$t(Z,n(x))),z(C,L)};I(()=>X(T,C=>{n(x)&&C(R)}),"if",Zo,98,2)}return tt(()=>{k=dn(M,1,"cell-pvalue svelte-1hymfkc",null,k,{significant:n(N),"cell-bold":n(r),"cell-italic":n(o),"cell-emphasis":n(s),"cell-muted":n(c),"cell-accent":n(f)}),w=Ce(M,"",w,{color:n(i),"background-color":n(a)}),$t(F,n(S))}),z(t,M),xe(H)}function fa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $d(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Jl(t){let e,r,o;t.length!==2?(e=fa,r=(c,f)=>fa(t(c),f),o=(c,f)=>t(c)-f):(e=t===fa||t===$d?t:Ud,r=t,o=t);function i(c,f,l=0,u=c.length){if(l<u){if(e(f,f)!==0)return u;do{const h=l+u>>>1;r(c[h],f)<0?l=h+1:u=h}while(l<u)}return l}function a(c,f,l=0,u=c.length){if(l<u){if(e(f,f)!==0)return u;do{const h=l+u>>>1;r(c[h],f)<=0?l=h+1:u=h}while(l<u)}return l}function s(c,f,l=0,u=c.length){const h=i(c,f,l,u-1);return h>l&&o(c[h-1],f)>-o(c[h],f)?h-1:h}return{left:i,center:s,right:a}}function Ud(){return 0}function Yd(t){return t===null?NaN:+t}const Zd=Jl(fa).right;Jl(Yd).center;const Kd=Math.sqrt(50),Qd=Math.sqrt(10),Jd=Math.sqrt(2);function ua(t,e,r){const o=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(o)),a=o/Math.pow(10,i),s=a>=Kd?10:a>=Qd?5:a>=Jd?2:1;let c,f,l;return i<0?(l=Math.pow(10,-i)/s,c=Math.round(t*l),f=Math.round(e*l),c/l<t&&++c,f/l>e&&--f,l=-l):(l=Math.pow(10,i)*s,c=Math.round(t/l),f=Math.round(e/l),c*l<t&&++c,f*l>e&&--f),f<c&&.5<=r&&r<2?ua(t,e,r*2):[c,f,l]}function fs(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const o=e<t,[i,a,s]=o?ua(e,t,r):ua(t,e,r);if(!(a>=i))return[];const c=a-i+1,f=new Array(c);if(o)if(s<0)for(let l=0;l<c;++l)f[l]=(a-l)/-s;else for(let l=0;l<c;++l)f[l]=(a-l)*s;else if(s<0)for(let l=0;l<c;++l)f[l]=(i+l)/-s;else for(let l=0;l<c;++l)f[l]=(i+l)*s;return f}function us(t,e,r){return e=+e,t=+t,r=+r,ua(t,e,r)[2]}function th(t,e,r){e=+e,t=+t,r=+r;const o=e<t,i=o?us(e,t,r):us(t,e,r);return(o?-1:1)*(i<0?1/-i:i)}function tc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ds(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function ec(t,e){var r=Object.create(t.prototype);for(var o in e)r[o]=e[o];return r}function Ri(){}var Ii=.7,da=1/Ii,Ko="\\s*([+-]?\\d+)\\s*",zi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eh=/^#([0-9a-f]{3,8})$/,nh=new RegExp(`^rgb\\(${Ko},${Ko},${Ko}\\)$`),rh=new RegExp(`^rgb\\(${Tr},${Tr},${Tr}\\)$`),oh=new RegExp(`^rgba\\(${Ko},${Ko},${Ko},${zi}\\)$`),ih=new RegExp(`^rgba\\(${Tr},${Tr},${Tr},${zi}\\)$`),ah=new RegExp(`^hsl\\(${zi},${Tr},${Tr}\\)$`),sh=new RegExp(`^hsla\\(${zi},${Tr},${Tr},${zi}\\)$`),nc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ds(Ri,Fi,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:rc,formatHex:rc,formatHex8:lh,formatHsl:ch,formatRgb:oc,toString:oc});function rc(){return this.rgb().formatHex()}function lh(){return this.rgb().formatHex8()}function ch(){return cc(this).formatHsl()}function oc(){return this.rgb().formatRgb()}function Fi(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=eh.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?ic(e):r===3?new An(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?ha(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?ha(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=nh.exec(t))?new An(e[1],e[2],e[3],1):(e=rh.exec(t))?new An(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=oh.exec(t))?ha(e[1],e[2],e[3],e[4]):(e=ih.exec(t))?ha(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ah.exec(t))?lc(e[1],e[2]/100,e[3]/100,1):(e=sh.exec(t))?lc(e[1],e[2]/100,e[3]/100,e[4]):nc.hasOwnProperty(t)?ic(nc[t]):t==="transparent"?new An(NaN,NaN,NaN,0):null}function ic(t){return new An(t>>16&255,t>>8&255,t&255,1)}function ha(t,e,r,o){return o<=0&&(t=e=r=NaN),new An(t,e,r,o)}function fh(t){return t instanceof Ri||(t=Fi(t)),t?(t=t.rgb(),new An(t.r,t.g,t.b,t.opacity)):new An}function hs(t,e,r,o){return arguments.length===1?fh(t):new An(t,e,r,o??1)}function An(t,e,r,o){this.r=+t,this.g=+e,this.b=+r,this.opacity=+o}ds(An,hs,ec(Ri,{brighter(t){return t=t==null?da:Math.pow(da,t),new An(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ii:Math.pow(Ii,t),new An(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new An(Mo(this.r),Mo(this.g),Mo(this.b),ga(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ac,formatHex:ac,formatHex8:uh,formatRgb:sc,toString:sc}));function ac(){return`#${So(this.r)}${So(this.g)}${So(this.b)}`}function uh(){return`#${So(this.r)}${So(this.g)}${So(this.b)}${So((isNaN(this.opacity)?1:this.opacity)*255)}`}function sc(){const t=ga(this.opacity);return`${t===1?"rgb(":"rgba("}${Mo(this.r)}, ${Mo(this.g)}, ${Mo(this.b)}${t===1?")":`, ${t})`}`}function ga(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Mo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function So(t){return t=Mo(t),(t<16?"0":"")+t.toString(16)}function lc(t,e,r,o){return o<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ur(t,e,r,o)}function cc(t){if(t instanceof ur)return new ur(t.h,t.s,t.l,t.opacity);if(t instanceof Ri||(t=Fi(t)),!t)return new ur;if(t instanceof ur)return t;t=t.rgb();var e=t.r/255,r=t.g/255,o=t.b/255,i=Math.min(e,r,o),a=Math.max(e,r,o),s=NaN,c=a-i,f=(a+i)/2;return c?(e===a?s=(r-o)/c+(r<o)*6:r===a?s=(o-e)/c+2:s=(e-r)/c+4,c/=f<.5?a+i:2-a-i,s*=60):c=f>0&&f<1?0:s,new ur(s,c,f,t.opacity)}function dh(t,e,r,o){return arguments.length===1?cc(t):new ur(t,e,r,o??1)}function ur(t,e,r,o){this.h=+t,this.s=+e,this.l=+r,this.opacity=+o}ds(ur,dh,ec(Ri,{brighter(t){return t=t==null?da:Math.pow(da,t),new ur(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ii:Math.pow(Ii,t),new ur(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,o=r+(r<.5?r:1-r)*e,i=2*r-o;return new An(gs(t>=240?t-240:t+120,i,o),gs(t,i,o),gs(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new ur(fc(this.h),va(this.s),va(this.l),ga(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ga(this.opacity);return`${t===1?"hsl(":"hsla("}${fc(this.h)}, ${va(this.s)*100}%, ${va(this.l)*100}%${t===1?")":`, ${t})`}`}}));function fc(t){return t=(t||0)%360,t<0?t+360:t}function va(t){return Math.max(0,Math.min(1,t||0))}function gs(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const vs=t=>()=>t;function hh(t,e){return function(r){return t+r*e}}function gh(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(o){return Math.pow(t+o*e,r)}}function vh(t){return(t=+t)==1?uc:function(e,r){return r-e?gh(e,r,t):vs(isNaN(e)?r:e)}}function uc(t,e){var r=e-t;return r?hh(t,r):vs(isNaN(t)?e:t)}const dc=(function t(e){var r=vh(e);function o(i,a){var s=r((i=hs(i)).r,(a=hs(a)).r),c=r(i.g,a.g),f=r(i.b,a.b),l=uc(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=c(u),i.b=f(u),i.opacity=l(u),i+""}}return o.gamma=t,o})(1);function ph(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(a){for(i=0;i<r;++i)o[i]=t[i]*(1-a)+e[i]*a;return o}}function mh(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yh(t,e){var r=e?e.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r),s;for(s=0;s<o;++s)i[s]=ys(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(c){for(s=0;s<o;++s)a[s]=i[s](c);return a}}function _h(t,e){var r=new Date;return t=+t,e=+e,function(o){return r.setTime(t*(1-o)+e*o),r}}function pa(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function xh(t,e){var r={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=ys(t[i],e[i]):o[i]=e[i];return function(a){for(i in r)o[i]=r[i](a);return o}}var ps=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ms=new RegExp(ps.source,"g");function wh(t){return function(){return t}}function bh(t){return function(e){return t(e)+""}}function Mh(t,e){var r=ps.lastIndex=ms.lastIndex=0,o,i,a,s=-1,c=[],f=[];for(t=t+"",e=e+"";(o=ps.exec(t))&&(i=ms.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),c[s]?c[s]+=a:c[++s]=a),(o=o[0])===(i=i[0])?c[s]?c[s]+=i:c[++s]=i:(c[++s]=null,f.push({i:s,x:pa(o,i)})),r=ms.lastIndex;return r<e.length&&(a=e.slice(r),c[s]?c[s]+=a:c[++s]=a),c.length<2?f[0]?bh(f[0].x):wh(e):(e=f.length,function(l){for(var u=0,h;u<e;++u)c[(h=f[u]).i]=h.x(l);return c.join("")})}function ys(t,e){var r=typeof e,o;return e==null||r==="boolean"?vs(e):(r==="number"?pa:r==="string"?(o=Fi(e))?(e=o,dc):Mh:e instanceof Fi?dc:e instanceof Date?_h:mh(e)?ph:Array.isArray(e)?yh:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?xh:pa)(t,e)}function Sh(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Eh(t){return function(){return t}}function kh(t){return+t}var hc=[0,1];function Qo(t){return t}function _s(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Eh(isNaN(e)?NaN:.5)}function Ch(t,e){var r;return t>e&&(r=t,t=e,e=r),function(o){return Math.max(t,Math.min(e,o))}}function Th(t,e,r){var o=t[0],i=t[1],a=e[0],s=e[1];return i<o?(o=_s(i,o),a=r(s,a)):(o=_s(o,i),a=r(a,s)),function(c){return a(o(c))}}function Nh(t,e,r){var o=Math.min(t.length,e.length)-1,i=new Array(o),a=new Array(o),s=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<o;)i[s]=_s(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(c){var f=Zd(t,c,1,o)-1;return a[f](i[f](c))}}function gc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function vc(){var t=hc,e=hc,r=ys,o,i,a,s=Qo,c,f,l;function u(){var d=Math.min(t.length,e.length);return s!==Qo&&(s=Ch(t[0],t[d-1])),c=d>2?Nh:Th,f=l=null,h}function h(d){return d==null||isNaN(d=+d)?a:(f||(f=c(t.map(o),e,r)))(o(s(d)))}return h.invert=function(d){return s(i((l||(l=c(e,t.map(o),pa)))(d)))},h.domain=function(d){return arguments.length?(t=Array.from(d,kh),u()):t.slice()},h.range=function(d){return arguments.length?(e=Array.from(d),u()):e.slice()},h.rangeRound=function(d){return e=Array.from(d),r=Sh,u()},h.clamp=function(d){return arguments.length?(s=d?!0:Qo,u()):s!==Qo},h.interpolate=function(d){return arguments.length?(r=d,u()):r},h.unknown=function(d){return arguments.length?(a=d,h):a},function(d,g){return o=d,i=g,u()}}function Hh(){return vc()(Qo,Qo)}function Ah(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ma(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,o=t.slice(0,r);return[o.length>1?o[0]+o.slice(2):o,+t.slice(r+1)]}function Jo(t){return t=ma(Math.abs(t)),t?t[1]:NaN}function Wh(t,e){return function(r,o){for(var i=r.length,a=[],s=0,c=t[0],f=0;i>0&&c>0&&(f+c+1>o&&(c=Math.max(1,o-f)),a.push(r.substring(i-=c,i+c)),!((f+=c+1)>o));)c=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Rh(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Ih=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pi(t){if(!(e=Ih.exec(t)))throw new Error("invalid format: "+t);var e;return new xs({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Pi.prototype=xs.prototype;function xs(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}xs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zh(t){t:for(var e=t.length,r=1,o=-1,i;r<e;++r)switch(t[r]){case".":o=i=r;break;case"0":o===0&&(o=r),i=r;break;default:if(!+t[r])break t;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var pc;function Fh(t,e){var r=ma(t,e);if(!r)return t+"";var o=r[0],i=r[1],a=i-(pc=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=o.length;return a===s?o:a>s?o+new Array(a-s+1).join("0"):a>0?o.slice(0,a)+"."+o.slice(a):"0."+new Array(1-a).join("0")+ma(t,Math.max(0,e+a-1))[0]}function mc(t,e){var r=ma(t,e);if(!r)return t+"";var o=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const yc={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ah,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>mc(t*100,e),r:mc,s:Fh,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function _c(t){return t}var xc=Array.prototype.map,wc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ph(t){var e=t.grouping===void 0||t.thousands===void 0?_c:Wh(xc.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?_c:Rh(xc.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function l(h){h=Pi(h);var d=h.fill,g=h.align,v=h.sign,y=h.symbol,_=h.zero,x=h.width,S=h.comma,N=h.precision,H=h.trim,M=h.type;M==="n"?(S=!0,M="g"):yc[M]||(N===void 0&&(N=12),H=!0,M="g"),(_||d==="0"&&g==="=")&&(_=!0,d="0",g="=");var k=y==="$"?r:y==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",w=y==="$"?o:/[%p]/.test(M)?s:"",E=yc[M],F=/[defgprs%]/.test(M);N=N===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function T(R){var C=k,L=w,Z,st,D;if(M==="c")L=E(R)+L,R="";else{R=+R;var $=R<0||1/R<0;if(R=isNaN(R)?f:E(Math.abs(R),N),H&&(R=zh(R)),$&&+R==0&&v!=="+"&&($=!1),C=($?v==="("?v:c:v==="-"||v==="("?"":v)+C,L=(M==="s"?wc[8+pc/3]:"")+L+($&&v==="("?")":""),F){for(Z=-1,st=R.length;++Z<st;)if(D=R.charCodeAt(Z),48>D||D>57){L=(D===46?i+R.slice(Z+1):R.slice(Z))+L,R=R.slice(0,Z);break}}}S&&!_&&(R=e(R,1/0));var it=C.length+R.length+L.length,Y=it<x?new Array(x-it+1).join(d):"";switch(S&&_&&(R=e(Y+R,Y.length?x-L.length:1/0),Y=""),g){case"<":R=C+R+L+Y;break;case"=":R=C+Y+R+L;break;case"^":R=Y.slice(0,it=Y.length>>1)+C+R+L+Y.slice(it);break;default:R=Y+C+R+L;break}return a(R)}return T.toString=function(){return h+""},T}function u(h,d){var g=l((h=Pi(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(Jo(d)/3)))*3,y=Math.pow(10,-v),_=wc[8+v/3];return function(x){return g(y*x)+_}}return{format:l,formatPrefix:u}}var ya,ws,bc;Lh({thousands:",",grouping:[3],currency:["$",""]});function Lh(t){return ya=Ph(t),ws=ya.format,bc=ya.formatPrefix,ya}function Dh(t){return Math.max(0,-Jo(Math.abs(t)))}function Bh(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jo(e)/3)))*3-Jo(Math.abs(t)))}function Gh(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Jo(e)-Jo(t))+1}function Vh(t,e,r,o){var i=th(t,e,r),a;switch(o=Pi(o??",f"),o.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(a=Bh(i,s))&&(o.precision=a),bc(o,s)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(a=Gh(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=a-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(a=Dh(i))&&(o.precision=a-(o.type==="%")*2);break}}return ws(o)}function Oh(t){var e=t.domain;return t.ticks=function(r){var o=e();return fs(o[0],o[o.length-1],r??10)},t.tickFormat=function(r,o){var i=e();return Vh(i[0],i[i.length-1],r??10,o)},t.nice=function(r){r==null&&(r=10);var o=e(),i=0,a=o.length-1,s=o[i],c=o[a],f,l,u=10;for(c<s&&(l=s,s=c,c=l,l=i,i=a,a=l);u-- >0;){if(l=us(s,c,r),l===f)return o[i]=s,o[a]=c,e(o);if(l>0)s=Math.floor(s/l)*l,c=Math.ceil(c/l)*l;else if(l<0)s=Math.ceil(s*l)/l,c=Math.floor(c*l)/l;else break;f=l}return t},t}function er(){var t=Hh();return t.copy=function(){return gc(t,er())},tc.apply(t,arguments),Oh(t)}function jh(t,e){t=t.slice();var r=0,o=t.length-1,i=t[r],a=t[o],s;return a<i&&(s=r,r=o,o=s,s=i,i=a,a=s),t[r]=e.floor(i),t[o]=e.ceil(a),t}function Mc(t){return Math.log(t)}function Sc(t){return Math.exp(t)}function qh(t){return-Math.log(-t)}function Xh(t){return-Math.exp(-t)}function $h(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Uh(t){return t===10?$h:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Yh(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Ec(t){return(e,r)=>-t(-e,r)}function Zh(t){const e=t(Mc,Sc),r=e.domain;let o=10,i,a;function s(){return i=Yh(o),a=Uh(o),r()[0]<0?(i=Ec(i),a=Ec(a),t(qh,Xh)):t(Mc,Sc),e}return e.base=function(c){return arguments.length?(o=+c,s()):o},e.domain=function(c){return arguments.length?(r(c),s()):r()},e.ticks=c=>{const f=r();let l=f[0],u=f[f.length-1];const h=u<l;h&&([l,u]=[u,l]);let d=i(l),g=i(u),v,y;const _=c==null?10:+c;let x=[];if(!(o%1)&&g-d<_){if(d=Math.floor(d),g=Math.ceil(g),l>0){for(;d<=g;++d)for(v=1;v<o;++v)if(y=d<0?v/a(-d):v*a(d),!(y<l)){if(y>u)break;x.push(y)}}else for(;d<=g;++d)for(v=o-1;v>=1;--v)if(y=d>0?v/a(-d):v*a(d),!(y<l)){if(y>u)break;x.push(y)}x.length*2<_&&(x=fs(l,u,_))}else x=fs(d,g,Math.min(g-d,_)).map(a);return h?x.reverse():x},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=o===10?"s":","),typeof f!="function"&&(!(o%1)&&(f=Pi(f)).precision==null&&(f.trim=!0),f=ws(f)),c===1/0)return f;const l=Math.max(1,o*c/e.ticks().length);return u=>{let h=u/a(Math.round(i(u)));return h*o<o-.5&&(h*=o),h<=l?f(u):""}},e.nice=()=>r(jh(r(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function Gr(){const t=Zh(vc()).domain([1,10]);return t.copy=()=>gc(t,Gr()).base(t.base()),tc.apply(t,arguments),t}function an(t){return function(){return t}}const kc=1e-12,bs=Math.PI,Ms=2*bs,Eo=1e-6,Kh=Ms-Eo;function Cc(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Qh(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Cc;const r=10**e;return function(o){this._+=o[0];for(let i=1,a=o.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+o[i]}}class Jh{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Cc:Qh(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,o,i){this._append`Q${+e},${+r},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,r,o,i,a,s){this._append`C${+e},${+r},${+o},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,o,i,a){if(e=+e,r=+r,o=+o,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,c=this._y1,f=o-e,l=i-r,u=s-e,h=c-r,d=u*u+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(d>Eo)if(!(Math.abs(h*f-l*u)>Eo)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let g=o-s,v=i-c,y=f*f+l*l,_=g*g+v*v,x=Math.sqrt(y),S=Math.sqrt(d),N=a*Math.tan((bs-Math.acos((y+d-_)/(2*x*S)))/2),H=N/S,M=N/x;Math.abs(H-1)>Eo&&this._append`L${e+H*u},${r+H*h}`,this._append`A${a},${a},0,0,${+(h*g>u*v)},${this._x1=e+M*f},${this._y1=r+M*l}`}}arc(e,r,o,i,a,s){if(e=+e,r=+r,o=+o,s=!!s,o<0)throw new Error(`negative radius: ${o}`);let c=o*Math.cos(i),f=o*Math.sin(i),l=e+c,u=r+f,h=1^s,d=s?i-a:a-i;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>Eo||Math.abs(this._y1-u)>Eo)&&this._append`L${l},${u}`,o&&(d<0&&(d=d%Ms+Ms),d>Kh?this._append`A${o},${o},0,1,${h},${e-c},${r-f}A${o},${o},0,1,${h},${this._x1=l},${this._y1=u}`:d>Eo&&this._append`A${o},${o},0,${+(d>=bs)},${h},${this._x1=e+o*Math.cos(a)},${this._y1=r+o*Math.sin(a)}`)}rect(e,r,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function Tc(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const o=Math.floor(r);if(!(o>=0))throw new RangeError(`invalid digits: ${r}`);e=o}return t},()=>new Jh(e)}function Nc(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Hc(t){this._context=t}Hc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ac(t){return new Hc(t)}function Wc(t){return t[0]}function Rc(t){return t[1]}function Ic(t,e){var r=an(!0),o=null,i=Ac,a=null,s=Tc(c);t=typeof t=="function"?t:t===void 0?Wc:an(t),e=typeof e=="function"?e:e===void 0?Rc:an(e);function c(f){var l,u=(f=Nc(f)).length,h,d=!1,g;for(o==null&&(a=i(g=s())),l=0;l<=u;++l)!(l<u&&r(h=f[l],l,f))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(h,l,f),+e(h,l,f));if(g)return a=null,g+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:an(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:an(+f),c):e},c.defined=function(f){return arguments.length?(r=typeof f=="function"?f:an(!!f),c):r},c.curve=function(f){return arguments.length?(i=f,o!=null&&(a=i(o)),c):i},c.context=function(f){return arguments.length?(f==null?o=a=null:a=i(o=f),c):o},c}function tg(t,e,r){var o=null,i=an(!0),a=null,s=Ac,c=null,f=Tc(l);t=typeof t=="function"?t:t===void 0?Wc:an(+t),e=typeof e=="function"?e:an(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Rc:an(+r);function l(h){var d,g,v,y=(h=Nc(h)).length,_,x=!1,S,N=new Array(y),H=new Array(y);for(a==null&&(c=s(S=f())),d=0;d<=y;++d){if(!(d<y&&i(_=h[d],d,h))===x)if(x=!x)g=d,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),v=d-1;v>=g;--v)c.point(N[v],H[v]);c.lineEnd(),c.areaEnd()}x&&(N[d]=+t(_,d,h),H[d]=+e(_,d,h),c.point(o?+o(_,d,h):N[d],r?+r(_,d,h):H[d]))}if(S)return c=null,S+""||null}function u(){return Ic().defined(i).curve(s).context(a)}return l.x=function(h){return arguments.length?(t=typeof h=="function"?h:an(+h),o=null,l):t},l.x0=function(h){return arguments.length?(t=typeof h=="function"?h:an(+h),l):t},l.x1=function(h){return arguments.length?(o=h==null?null:typeof h=="function"?h:an(+h),l):o},l.y=function(h){return arguments.length?(e=typeof h=="function"?h:an(+h),r=null,l):e},l.y0=function(h){return arguments.length?(e=typeof h=="function"?h:an(+h),l):e},l.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:an(+h),l):r},l.lineX0=l.lineY0=function(){return u().x(t).y(e)},l.lineY1=function(){return u().x(t).y(r)},l.lineX1=function(){return u().x(o).y(e)},l.defined=function(h){return arguments.length?(i=typeof h=="function"?h:an(!!h),l):i},l.curve=function(h){return arguments.length?(s=h,a!=null&&(c=s(a)),l):s},l.context=function(h){return arguments.length?(h==null?a=c=null:c=s(a=h),l):a},l}function zc(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function Ss(t,e){this._context=t,this._k=(1-e)/6}Ss.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:zc(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:zc(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},(function t(e){function r(o){return new Ss(o,e)}return r.tension=function(o){return t(+o)},r})(0);function eg(t,e,r){var o=t._x1,i=t._y1,a=t._x2,s=t._y2;if(t._l01_a>kc){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,f=3*t._l01_a*(t._l01_a+t._l12_a);o=(o*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/f,i=(i*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/f}if(t._l23_a>kc){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*l+t._x1*t._l23_2a-e*t._l12_2a)/u,s=(s*l+t._y1*t._l23_2a-r*t._l12_2a)/u}t._context.bezierCurveTo(o,i,a,s,t._x2,t._y2)}function Fc(t,e){this._context=t,this._alpha=e}Fc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,o=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+o*o,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:eg(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Pc=(function t(e){function r(o){return e?new Fc(o,e):new Ss(o,0)}return r.alpha=function(o){return t(+o)},r})(.5);Wn[P]="src/components/table/CellSparkline.svelte";var ng=V(Rt('<rect opacity="0.8"></rect>'),Wn[P],[[72,8]]),rg=V(Rt('<path opacity="0.3"></path><path fill="none" stroke-width="1.5"></path>',1),Wn[P],[[82,6],[83,6]]),og=V(Rt('<circle r="2"></circle>'),Wn[P],[[89,8]]),ig=V(Rt('<path fill="none" stroke-width="1.5"></path><!>',1),Wn[P],[[85,6]]),ag=V(Rt('<text text-anchor="middle" dominant-baseline="middle" fill="var(--wf-muted, #94a3b8)" font-size="8">--</text>'),Wn[P],[[93,4]]),sg=V(Rt('<svg class="cell-sparkline svelte-hfafss"><!></svg>'),Wn[P],[[68,0]]);function Wn(t,e){Ee(new.target),_e(e,!0,Wn);const r=p(m(()=>{var _;return((_=e.options)==null?void 0:_.type)??"line"}),"chartType"),o=p(m(()=>{var _;return((_=e.options)==null?void 0:_.height)??20}),"chartHeight"),i=p(m(()=>{var _;return((_=e.options)==null?void 0:_.color)??"var(--wf-primary, #2563eb)"}),"chartColor"),a=60,s=p(m(()=>!e.data||!Array.isArray(e.data)||b(e.data.length,0)?[]:Array.isArray(e.data[0])?e.data[0]:e.data),"normalizedData"),c=p(m(()=>{if(b(n(s).length,0))return[];const _=Math.min(...n(s)),x=Math.max(...n(s)),S=(x-_)*.1||1,N=er().domain([0,n(s).length-1]).range([2,a-2]),H=er().domain([_-S,x+S]).range([n(o)-2,2]);return n(s).map((M,k)=>[N(k),H(M)])}),"points"),f=p(m(()=>b(n(c).length,0)?"":Ic().x(x=>x[0]).y(x=>x[1]).curve(Pc.alpha(.5))(n(c))??""),"linePath"),l=p(m(()=>b(n(c).length,0)?"":tg().x(x=>x[0]).y0(n(o)-2).y1(x=>x[1]).curve(Pc.alpha(.5))(n(c))??""),"areaPath"),u=p(m(()=>n(c).length>0?(a-8)/n(c).length-1:0),"barWidth");var h={...ke()},d=sg();W(d,"width",a);var g=K(d);{var v=_=>{var x=Ct(),S=yt(x);{var N=M=>{var k=Ct(),w=yt(k);I(()=>He(w,17,()=>n(c),Zn,(E,F)=>{var T=m(()=>Pa(n(F),2));let R=()=>n(T)[0];R();let C=()=>n(T)[1];C();var L=ng();tt(()=>{W(L,"x",R()-n(u)/2),W(L,"y",C()),W(L,"width",n(u)),W(L,"height",n(o)-2-C()),W(L,"fill",n(i))}),z(E,L)}),"each",Wn,71,6),z(M,k)},H=M=>{var k=Ct(),w=yt(k);{var E=T=>{var R=rg(),C=yt(R),L=rt(C);tt(()=>{W(C,"d",n(l)),W(C,"fill",n(i)),W(L,"d",n(f)),W(L,"stroke",n(i))}),z(T,R)},F=T=>{var R=ig(),C=yt(R),L=rt(C);{var Z=st=>{const D=p(m(()=>n(c)[n(c).length-1]),"lastPoint");n(D);var $=og();tt(()=>{W($,"cx",n(D)[0]),W($,"cy",n(D)[1]),W($,"fill",n(i))}),z(st,$)};I(()=>X(L,st=>{n(c).length>0&&st(Z)}),"if",Wn,87,6)}tt(()=>{W(C,"d",n(f)),W(C,"stroke",n(i))}),z(T,R)};I(()=>X(w,T=>{b(n(r),"area")?T(E):T(F,!1)},!0),"if",Wn,81,4)}z(M,k)};I(()=>X(S,M=>{b(n(r),"bar")?M(N):M(H,!1)}),"if",Wn,70,4)}z(_,x)},y=_=>{var x=ag();W(x,"x",a/2),tt(()=>W(x,"y",n(o)/2)),z(_,x)};I(()=>X(g,_=>{n(c).length>0?_(v):_(y,!1)}),"if",Wn,69,2)}return tt(()=>{W(d,"height",n(o)),W(d,"viewBox",`0 0 60 ${n(o)??""}`)}),z(t,d),xe(h)}dr[P]="src/components/table/CellContent.svelte";var lg=V(ft('<span class="cell-icon svelte-mxyczy"> </span>'),dr[P],[[34,15]]),cg=V(ft('<span class="cell-badge svelte-mxyczy"> </span>'),dr[P],[[36,16]]),fg=V(ft('<span><!> <span class="cell-value"> </span> <!></span>'),dr[P],[[23,0,[[35,2]]]]);function dr(t,e){Ee(new.target),_e(e,!0,dr);const r=p(m(()=>{var M;return!!((M=e.cellStyle)!=null&&M.badge)}),"hasBadge"),o=p(m(()=>{var M;return!!((M=e.cellStyle)!=null&&M.icon)}),"hasIcon"),i=p(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.bold)??!1}),"isBold"),a=p(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.italic)??!1}),"isItalic"),s=p(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.color)??null}),"textColor"),c=p(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.bg)??null}),"bgColor"),f=p(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.emphasis)??!1}),"isEmphasis"),l=p(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.muted)??!1}),"isMuted"),u=p(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.accent)??!1}),"isAccent");var h={...ke()},d=fg();let g,v;var y=K(d);{var _=M=>{var k=lg(),w=K(k);tt(()=>{var E;return $t(w,(E=e.cellStyle)==null?void 0:E.icon)}),z(M,k)};I(()=>X(y,M=>{n(o)&&M(_)}),"if",dr,34,2)}var x=rt(y,2),S=K(x),N=rt(x,2);{var H=M=>{var k=cg(),w=K(k);tt(()=>{var E;return $t(w,(E=e.cellStyle)==null?void 0:E.badge)}),z(M,k)};I(()=>X(N,M=>{n(r)&&M(H)}),"if",dr,36,2)}return tt(M=>{g=dn(d,1,"cell-content svelte-mxyczy",null,g,{"cell-bold":n(i),"cell-italic":n(a),"cell-emphasis":n(f),"cell-muted":n(l),"cell-accent":n(u)}),W(d,"title",M),v=Ce(d,"",v,{color:n(s),"background-color":n(c)}),$t(S,e.value??"")},[()=>String(e.value??"")]),z(t,d),xe(h)}Li[P]="src/components/table/CellIcon.svelte";var ug=V(ft("<span> </span>"),Li[P],[[32,2]]);function Li(t,e){Ee(new.target),_e(e,!0,Li);const r=p(m(()=>{var h;return((h=e.options)==null?void 0:h.mapping)??{}}),"mapping"),o=p(m(()=>{var h;return((h=e.options)==null?void 0:h.size)??"base"}),"size"),i=p(m(()=>{var h;return(h=e.options)==null?void 0:h.color}),"color"),a=p(m(()=>{if(b(e.value,void 0)||b(e.value,null))return"";const h=String(e.value);return n(r)&&h in n(r)?n(r)[h]:h}),"displayValue"),s=p(m(()=>b(n(o),"sm")?"icon-sm":b(n(o),"lg")?"icon-lg":"icon-base"),"sizeClass");var c={...ke()},f=Ct(),l=yt(f);{var u=h=>{var d=ug();let g;var v=K(d);tt(y=>{dn(d,1,`cell-icon ${n(s)??""}`,"svelte-weao3c"),W(d,"title",y),g=Ce(d,"",g,{color:n(i)}),$t(v,n(a))},[()=>String(e.value??"")]),z(h,d)};I(()=>X(l,h=>{n(a)&&h(u)}),"if",Li,31,0)}return z(t,f),xe(c)}Di[P]="src/components/table/CellBadge.svelte";var dg=V(ft("<span> </span>"),Di[P],[[56,2]]);function Di(t,e){Ee(new.target),_e(e,!0,Di);const r=p(m(()=>{var d;return((d=e.options)==null?void 0:d.variants)??{}}),"variants"),o=p(m(()=>{var d;return((d=e.options)==null?void 0:d.colors)??{}}),"colors"),i=p(m(()=>{var d;return((d=e.options)==null?void 0:d.size)??"base"}),"size"),a=p(m(()=>b(e.value,void 0)||b(e.value,null)?"":String(e.value)),"displayValue"),s=p(m(()=>{const d=String(e.value??"");if(n(o)&&d in n(o))return n(o)[d];if(n(r)&&d in n(r))switch(n(r)[d]){case"success":return"var(--wf-badge-success, #16a34a)";case"warning":return"var(--wf-badge-warning, #f59e0b)";case"error":return"var(--wf-badge-error, #dc2626)";case"info":return"var(--wf-badge-info, #2563eb)";case"muted":return"var(--wf-badge-muted, var(--wf-muted, #64748b))";default:return"var(--wf-primary, #2563eb)"}return"var(--wf-primary, #2563eb)"}),"badgeColor"),c=p(m(()=>b(n(i),"sm")?"badge-sm":"badge-base"),"sizeClass");var f={...ke()},l=Ct(),u=yt(l);{var h=d=>{var g=dg();let v;var y=K(g);tt(()=>{dn(g,1,`cell-badge ${n(c)??""}`,"svelte-16nh7k4"),v=Ce(g,"",v,{"background-color":`color-mix(in srgb, ${n(s)??""} 15%, var(--wf-bg, #fff))`,color:n(s)}),$t(y,n(a))}),z(d,g)};I(()=>X(u,d=>{n(a)&&d(h)}),"if",Di,55,0)}return z(t,l),xe(f)}ko[P]="src/components/table/CellStars.svelte";var hg=V(ft("<span> </span>"),ko[P],[[44,6]]),gg=V(ft('<span class="cell-stars svelte-8zr88i"></span>'),ko[P],[[42,2]]);function ko(t,e){Ee(new.target),_e(e,!0,ko);const r=p(m(()=>{var v;return((v=e.options)==null?void 0:v.maxStars)??5}),"maxStars"),o=p(m(()=>{var v;return((v=e.options)==null?void 0:v.color)??"#f59e0b"}),"filledColor"),i=p(m(()=>{var v;return((v=e.options)==null?void 0:v.emptyColor)??"#d1d5db"}),"emptyColor"),a=p(m(()=>{var v;return((v=e.options)==null?void 0:v.halfStars)??!1}),"halfStars"),s="★",c="☆",f="⯪",l=p(m(()=>{if(b(e.value,void 0)||b(e.value,null))return"";const v=Math.max(0,Math.min(n(r),e.value)),y=[];for(let _=1;_<=n(r);_++)_<=v?y.push({char:s,filled:"full"}):n(a)&&_-.5<=v?y.push({char:f,filled:"half"}):y.push({char:c,filled:"empty"});return y}),"starDisplay");var u={...ke()},h=Ct(),d=yt(h);{var g=v=>{var y=gg();I(()=>He(y,21,()=>n(l),Zn,(_,x)=>{var S=hg();let N,H;var M=K(S,!0);tt(()=>{N=dn(S,1,"star svelte-8zr88i",null,N,{filled:b(n(x).filled,"full"),half:b(n(x).filled,"half")}),H=Ce(S,"",H,{color:b(n(x).filled,"empty")?n(i):n(o)}),$t(M,n(x).char)}),z(_,S)}),"each",ko,43,4),tt(()=>W(y,"title",`${e.value??""} / ${n(r)??""}`)),z(v,y)};I(()=>X(d,v=>{b(e.value,void 0,!1)&&b(e.value,null,!1)&&v(g)}),"if",ko,41,0)}return z(t,h),xe(u)}Co[P]="src/components/table/CellImg.svelte";var vg=V(ft('<img alt="" loading="lazy"/>'),Co[P],[[28,2]]),pg=V(ft('<span class="cell-img-fallback svelte-1rifgp8" title="Image not available"> </span>'),Co[P],[[38,2]]);function Co(t,e){Ee(new.target),_e(e,!0,Co);const r=p(m(()=>{var v;return(v=e.options)==null?void 0:v.height}),"imgHeight"),o=p(m(()=>{var v;return(v=e.options)==null?void 0:v.maxWidth}),"maxWidth"),i=p(m(()=>{var v;return((v=e.options)==null?void 0:v.fallback)??"📷"}),"fallback"),a=p(m(()=>{var v;return((v=e.options)==null?void 0:v.shape)??"square"}),"shape");let s=p(Mt(!1),"hasError");const c=p(m(()=>b(n(a),"circle")?"shape-circle":b(n(a),"rounded")?"shape-rounded":""),"shapeClass");function f(){at(s,!0)}var l={...ke()},u=Ct(),h=yt(u);{var d=v=>{var y=vg();let _;tt(()=>{dn(y,1,`cell-img ${n(c)??""}`,"svelte-1rifgp8"),W(y,"src",e.value),_=Ce(y,"",_,{height:n(r)?`${n(r)}px`:"calc(var(--wf-row-height, 28px) - 4px)","max-width":n(o)?`${n(o)}px`:"100%"})}),Gn("error",y,f),z(v,y)},g=v=>{var y=Ct(),_=yt(y);{var x=S=>{var N=pg(),H=K(N);tt(()=>$t(H,n(i))),z(S,N)};I(()=>X(_,S=>{n(i)&&S(x)},!0),"if",Co,37,0)}z(v,y)};I(()=>X(h,v=>{e.value&&!n(s)?v(d):v(g,!1)}),"if",Co,27,0)}return z(t,u),xe(l)}Vr[P]="src/components/table/CellReference.svelte";var mg=V(ft('<span class="reference-icon svelte-186gxpi">↗</span>'),Vr[P],[[44,8]]),yg=V(ft('<a class="cell-reference svelte-186gxpi" target="_blank" rel="noopener noreferrer"><span class="reference-text svelte-186gxpi"> </span> <!></a>'),Vr[P],[[35,4,[[42,6]]]]),_g=V(ft('<span class="cell-reference svelte-186gxpi"> </span>'),Vr[P],[[48,4]]);function Vr(t,e){Ee(new.target),_e(e,!0,Vr);const r=p(m(()=>{var g;return((g=e.options)==null?void 0:g.maxChars)??30}),"maxChars"),o=p(m(()=>{var g;return((g=e.options)==null?void 0:g.showIcon)??!0}),"showIcon"),i=p(m(()=>{var g;return(g=e.options)==null?void 0:g.hrefField}),"hrefField"),a=p(m(()=>{if(!n(i))return null;const g=e.metadata[n(i)];return b(typeof g,"string")?g:null}),"href"),s=p(m(()=>{if(b(e.value,void 0)||b(e.value,null))return"";const g=String(e.value);return g.length<=n(r)?g:g.substring(0,n(r))+"..."}),"displayValue"),c=p(m(()=>e.value?String(e.value):""),"fullValue"),f=p(m(()=>n(c).length>n(r)),"isTruncated");var l={...ke()},u=Ct(),h=yt(u);{var d=g=>{var v=Ct(),y=yt(v);{var _=S=>{var N=yg(),H=K(N),M=K(H),k=rt(H,2);{var w=E=>{var F=mg();z(E,F)};I(()=>X(k,E=>{n(o)&&E(w)}),"if",Vr,43,6)}tt(()=>{W(N,"href",n(a)),W(N,"title",n(f)?n(c):void 0),$t(M,n(s))}),z(S,N)},x=S=>{var N=_g(),H=K(N);tt(()=>{W(N,"title",n(f)?n(c):void 0),$t(H,n(s))}),z(S,N)};I(()=>X(y,S=>{n(a)?S(_):S(x,!1)}),"if",Vr,34,2)}z(g,v)};I(()=>X(h,g=>{e.value&&g(d)}),"if",Vr,33,0)}return z(t,u),xe(l)}Bi[P]="src/components/table/CellRange.svelte";var xg=V(ft('<span class="cell-range svelte-jzelx2"> </span>'),Bi[P],[[51,2]]);function Bi(t,e){Ee(new.target),_e(e,!0,Bi);const r=p(m(()=>{var y;return((y=e.options)==null?void 0:y.separator)??" – "}),"separator"),o=p(m(()=>{var y;return(y=e.options)==null?void 0:y.decimals}),"decimals"),i=p(m(()=>{var y;return((y=e.options)==null?void 0:y.minField)??""}),"minField"),a=p(m(()=>{var y;return((y=e.options)==null?void 0:y.maxField)??""}),"maxField"),s=p(m(()=>{if(!n(i))return null;const y=e.metadata[n(i)];return b(typeof y,"number")?y:null}),"minValue"),c=p(m(()=>{if(!n(a))return null;const y=e.metadata[n(a)];return b(typeof y,"number")?y:null}),"maxValue");function f(y){return b(y,null)?"":b(n(o),null)||b(n(o),void 0)?Number.isInteger(y)?String(y):y.toFixed(1):y.toFixed(n(o))}const l=p(m(()=>b(n(s),null)&&b(n(c),null)?"":b(n(s),null)?f(n(c)):b(n(c),null)?f(n(s)):`${f(n(s))}${n(r)}${f(n(c))}`),"displayValue"),u=p(m(()=>b(n(s),null,!1)||b(n(c),null,!1)),"hasRange");var h={...ke()},d=Ct(),g=yt(d);{var v=y=>{var _=xg(),x=K(_);tt((S,N)=>{W(_,"title",`${S??""} to ${N??""}`),$t(x,n(l))},[()=>f(n(s)),()=>f(n(c))]),z(y,_)};I(()=>X(g,y=>{n(u)&&y(v)}),"if",Bi,50,0)}return z(t,d),xe(h)}const wg=["default","minimal","dark","jama","lancet","modern","presentation","cochrane","nature"],It={name:"default",colors:{background:"#ffffff",foreground:"#333333",primary:"#0891b2",secondary:"#64748b",accent:"#8b5cf6",muted:"#94a3b8",border:"#e2e8f0",rowBg:"#ffffff",altBg:"#f8fafc",interval:"#0891b2",intervalPositive:"#0891b2",intervalNegative:"#dc2626",intervalNeutral:"#64748b",intervalLine:"#475569",summaryFill:"#0891b2",summaryBorder:"#0e7490"},typography:{fontFamily:"system-ui, -apple-system, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5,headerFontScale:1.05},spacing:{rowHeight:28,headerHeight:36,sectionGap:16,padding:12,containerPadding:0,cellPaddingX:10,cellPaddingY:4,axisGap:12,groupPadding:8},shapes:{pointSize:6,summaryHeight:10,lineWidth:1.5,borderRadius:2},axis:{rangeMin:null,rangeMax:null,tickCount:null,tickValues:null,gridlines:!1,gridlineStyle:"dotted",ciClipFactor:2,includeNull:!0,symmetric:null,nullTick:!0,markerMargin:!0},layout:{plotPosition:"right",tableWidth:"auto",plotWidth:"auto",containerBorder:!1,containerBorderRadius:8,banding:!0},groupHeaders:{level1FontSize:"1rem",level1FontWeight:700,level1Italic:!1,level1Background:null,level1BorderBottom:!1,level2FontSize:"0.9375rem",level2FontWeight:500,level2Italic:!0,level2Background:null,level2BorderBottom:!1,level3FontSize:"0.875rem",level3FontWeight:400,level3Italic:!1,level3Background:null,level3BorderBottom:!1,indentPerLevel:16}},bg={...It,name:"minimal",colors:{...It.colors,background:"#ffffff",foreground:"#000000",primary:"#000000",secondary:"#333333",accent:"#000000",muted:"#666666",border:"#000000",rowBg:"#ffffff",altBg:"#fafafa",interval:"#000000",intervalPositive:"#000000",intervalNegative:"#000000",intervalNeutral:"#666666",intervalLine:"#000000",summaryFill:"#000000",summaryBorder:"#000000"},typography:{...It.typography,fontFamily:"Georgia, 'Times New Roman', serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.4},spacing:{...It.spacing,rowHeight:24,headerHeight:30,sectionGap:12,padding:10},shapes:{...It.shapes,pointSize:5,summaryHeight:8,lineWidth:1,borderRadius:0},layout:{...It.layout,containerBorder:!1,containerBorderRadius:0}},Mg={...It,name:"dark",colors:{...It.colors,background:"#1e1e2e",foreground:"#cdd6f4",primary:"#89b4fa",secondary:"#a6adc8",accent:"#f5c2e7",muted:"#6c7086",border:"#313244",rowBg:"#1e1e2e",altBg:"#232334",interval:"#89b4fa",intervalPositive:"#a6e3a1",intervalNegative:"#f38ba8",intervalNeutral:"#6c7086",intervalLine:"#9399b2",summaryFill:"#89b4fa",summaryBorder:"#74c7ec"},typography:{...It.typography,fontFamily:"system-ui, -apple-system, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5},spacing:{...It.spacing,rowHeight:30,headerHeight:38,sectionGap:18,padding:14},shapes:{...It.shapes,pointSize:6,summaryHeight:10,lineWidth:1.5,borderRadius:4},layout:{...It.layout,containerBorder:!1,containerBorderRadius:8}},Sg={...It,name:"jama",colors:{...It.colors,background:"#ffffff",foreground:"#000000",primary:"#000000",secondary:"#333333",accent:"#000000",muted:"#555555",border:"#000000",rowBg:"#ffffff",altBg:"#f9fafb",interval:"#000000",intervalPositive:"#000000",intervalNegative:"#000000",intervalNeutral:"#555555",intervalLine:"#000000",summaryFill:"#000000",summaryBorder:"#000000"},typography:{...It.typography,fontFamily:"Arial, Helvetica, sans-serif",fontSizeSm:"8pt",fontSizeBase:"9pt",fontSizeLg:"10pt",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.2},spacing:{...It.spacing,rowHeight:18,headerHeight:24,sectionGap:8,padding:6,cellPaddingX:8,cellPaddingY:2},shapes:{...It.shapes,pointSize:4,summaryHeight:7,lineWidth:1.25,borderRadius:0},layout:{...It.layout,containerBorder:!1,containerBorderRadius:0}},Eg={...It,name:"lancet",colors:{...It.colors,background:"#fdfcfb",foreground:"#1e3a5f",primary:"#00407a",secondary:"#3d5a80",accent:"#b8860b",muted:"#6b7c93",border:"#d4dce6",rowBg:"#fdfcfb",altBg:"#f8f7f6",interval:"#00407a",intervalPositive:"#00407a",intervalNegative:"#9d2933",intervalNeutral:"#3d5a80",intervalLine:"#1e3a5f",summaryFill:"#00407a",summaryBorder:"#002d54"},typography:{...It.typography,fontFamily:"Georgia, 'Times New Roman', serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.5},spacing:{...It.spacing,rowHeight:26,headerHeight:34,sectionGap:16,padding:12,cellPaddingX:12,cellPaddingY:5},shapes:{...It.shapes,pointSize:5,summaryHeight:9,lineWidth:1.25,borderRadius:0},layout:{...It.layout,containerBorder:!1,containerBorderRadius:0}},kg={...It,name:"modern",colors:{...It.colors,background:"#fafafa",foreground:"#18181b",primary:"#3b82f6",secondary:"#52525b",accent:"#8b5cf6",muted:"#a1a1aa",border:"#d4d4d8",rowBg:"#fafafa",altBg:"#f4f4f5",interval:"#3b82f6",intervalPositive:"#22c55e",intervalNegative:"#ef4444",intervalNeutral:"#71717a",intervalLine:"#27272a",summaryFill:"#3b82f6",summaryBorder:"#2563eb"},typography:{...It.typography,fontFamily:"Inter, system-ui, -apple-system, sans-serif",fontSizeSm:"0.8125rem",fontSizeBase:"0.9375rem",fontSizeLg:"1.0625rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5},spacing:{...It.spacing,rowHeight:36,headerHeight:44,sectionGap:24,padding:16,cellPaddingX:12,cellPaddingY:6},shapes:{...It.shapes,pointSize:8,summaryHeight:12,lineWidth:1.75,borderRadius:8},layout:{...It.layout,containerBorder:!1,containerBorderRadius:12}},Cg={...It,name:"presentation",colors:{...It.colors,background:"#ffffff",foreground:"#0f172a",primary:"#0369a1",secondary:"#334155",accent:"#ea580c",muted:"#64748b",border:"#94a3b8",rowBg:"#ffffff",altBg:"#f8fafc",interval:"#0369a1",intervalPositive:"#047857",intervalNegative:"#be123c",intervalNeutral:"#334155",intervalLine:"#0f172a",summaryFill:"#0369a1",summaryBorder:"#0c4a6e"},typography:{...It.typography,fontFamily:"'Source Sans Pro', 'Segoe UI', Roboto, sans-serif",fontSizeSm:"1rem",fontSizeBase:"1.125rem",fontSizeLg:"1.25rem",fontWeightNormal:400,fontWeightMedium:600,fontWeightBold:700,lineHeight:1.4},spacing:{...It.spacing,rowHeight:44,headerHeight:52,sectionGap:28,padding:20,cellPaddingX:14,cellPaddingY:6},shapes:{...It.shapes,pointSize:12,summaryHeight:16,lineWidth:2.5,borderRadius:4},layout:{...It.layout,containerBorder:!1,containerBorderRadius:6}},Tg={...It,name:"cochrane",colors:{...It.colors,background:"#ffffff",foreground:"#2c2c2c",primary:"#0099cc",secondary:"#555555",accent:"#006699",muted:"#888888",border:"#b3b3b3",rowBg:"#ffffff",altBg:"#f5f5f5",interval:"#0099cc",intervalPositive:"#0099cc",intervalNegative:"#cc3333",intervalNeutral:"#555555",intervalLine:"#2c2c2c",summaryFill:"#0099cc",summaryBorder:"#006699"},typography:{...It.typography,fontFamily:"Arial, Helvetica, sans-serif",fontSizeSm:"0.6875rem",fontSizeBase:"0.75rem",fontSizeLg:"0.8125rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.25},spacing:{...It.spacing,rowHeight:20,headerHeight:26,sectionGap:8,padding:6,cellPaddingX:6,cellPaddingY:2},shapes:{...It.shapes,pointSize:4,summaryHeight:7,lineWidth:1,borderRadius:0},layout:{...It.layout,containerBorder:!1,containerBorderRadius:0}},Ng={...It,name:"nature",colors:{...It.colors,background:"#ffffff",foreground:"#1a1a1a",primary:"#1976d2",secondary:"#424242",accent:"#c62828",muted:"#616161",border:"#bdbdbd",rowBg:"#ffffff",altBg:"#fafafa",interval:"#1976d2",intervalPositive:"#1976d2",intervalNegative:"#c62828",intervalNeutral:"#616161",intervalLine:"#1a1a1a",summaryFill:"#1976d2",summaryBorder:"#0d47a1"},typography:{...It.typography,fontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.8125rem",fontSizeLg:"0.9375rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.35},spacing:{...It.spacing,rowHeight:24,headerHeight:32,sectionGap:12,padding:10,cellPaddingX:10,cellPaddingY:4},shapes:{...It.shapes,pointSize:5,summaryHeight:8,lineWidth:1.25,borderRadius:1},layout:{...It.layout,containerBorder:!1,containerBorderRadius:2},axis:{...It.axis,gridlines:!1,nullTick:!0}},Hg={default:It,minimal:bg,dark:Mg,jama:Sg,lancet:Eg,modern:kg,presentation:Cg,cochrane:Tg,nature:Ng},Lc={default:"Default",minimal:"Minimal",dark:"Dark",jama:"JAMA",lancet:"Lancet",modern:"Modern",presentation:"Presentation",cochrane:"Cochrane",nature:"Nature"};function Ag(t,e,r={}){const{gap:o=4,viewportPadding:i=8,preferredPosition:a="below",align:s="end"}=r,c=window.innerHeight,f=window.innerWidth,l=c-t.bottom-o-i,u=t.top-o-i;let h,d;a==="below"?l>=e.height?h="below":u>=e.height?h="above":(h=l>=u?"below":"above",d=Math.max(h==="below"?l:u,100)):u>=e.height?h="above":l>=e.height?h="below":(h=u>=l?"above":"below",d=Math.max(h==="above"?u:l,100));const g={};return h==="below"?g.top=t.bottom+o:g.bottom=c-t.top+o,s==="end"?t.right-e.width<i?g.left=Math.max(t.left,i):g.right=f-t.right:t.left+e.width>f-i?g.right=Math.max(f-t.right,i):g.left=t.left,d&&(g.maxHeight=d),g}function Or(t,e){function r(){if(!e.triggerEl)return;const i=e.triggerEl.getBoundingClientRect(),a=t.getBoundingClientRect(),s=Ag(i,{width:a.width,height:a.height},{gap:e.gap??4,align:e.align??"end"});t.style.position="fixed",t.style.top="",t.style.bottom="",t.style.left="",t.style.right="",s.top!==void 0&&(t.style.top=`${s.top}px`),s.bottom!==void 0&&(t.style.bottom=`${s.bottom}px`),s.left!==void 0&&(t.style.left=`${s.left}px`),s.right!==void 0&&(t.style.right=`${s.right}px`),s.maxHeight?(t.style.maxHeight=`${s.maxHeight}px`,t.style.overflowY="auto"):(t.style.maxHeight="",t.style.overflowY="")}function o(i){e=i,requestAnimationFrame(r)}return o(e),{update:o,destroy(){}}}hr[P]="src/components/ui/ThemeSwitcher.svelte";var Wg=V(Rt('<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-35mgh1"><polyline points="20 6 9 17 4 12"></polyline></svg>'),hr[P],[[93,12,[[94,14]]]]),Rg=V(ft('<span class="spacer svelte-35mgh1"></span>'),hr[P],[[97,12]]),Ig=V(ft("<button><!> <span> </span></button>"),hr[P],[[87,8,[[99,10]]]]),zg=V(ft('<div class="theme-dropdown svelte-35mgh1"></div>'),hr[P],[[85,4]]),Fg=V(ft('<div class="theme-switcher-wrapper svelte-35mgh1"><button class="theme-btn svelte-35mgh1" aria-label="Switch theme"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path></svg></button> <!></div>'),hr[P],[[70,0,[[71,2,[[78,4,[[79,6],[80,6]]]]]]]]);function hr(t,e){Ee(new.target),_e(e,!0,hr);let r=p(Mt(!1),"dropdownOpen"),o=p(Mt(null),"triggerEl");const i=p(m(()=>{var v,y;return((y=(v=e.store.spec)==null?void 0:v.theme)==null?void 0:y.name)??"default"}),"currentTheme"),a=p(m(()=>b(e.availableThemes,void 0)||b(e.availableThemes,null)?wg.map(v=>[v,Lc[v]]):Object.entries(e.availableThemes).map(([v,y])=>{const _=y.name?Lc[y.name]??y.name:v;return[v,_]})),"themeEntries");function s(){at(r,!1)}function c(v){if(e.onThemeChange)e.onThemeChange(v);else if(e.availableThemes&&v in e.availableThemes){const y=e.availableThemes[v];e.store.spec&&e.store.setSpec({...e.store.spec,theme:y})}else e.store.setTheme(v);s()}function f(v){v.target.closest(".theme-switcher-wrapper")||s()}var l={...ke()},u=Fg();Gn("click",Xo,f);var h=K(u);h.__click=()=>at(r,!n(r)),no(h,v=>at(o,v),()=>n(o));var d=rt(h,2);{var g=v=>{var y=zg();I(()=>He(y,21,()=>n(a),Zn,(_,x)=>{var S=m(()=>Pa(n(x),2));let N=()=>n(S)[0];N();let H=()=>n(S)[1];H();var M=Ig();let k;M.__click=()=>c(N());var w=K(M);{var E=C=>{var L=Wg();z(C,L)},F=C=>{var L=Rg();z(C,L)};I(()=>X(w,C=>{b(n(i),N())?C(E):C(F,!1)}),"if",hr,92,10)}var T=rt(w,2),R=K(T,!0);tt(()=>{k=dn(M,1,"dropdown-item svelte-35mgh1",null,k,{active:b(n(i),N())}),$t(R,H())}),z(_,M)}),"each",hr,86,6),sa(y,(_,x)=>Or==null?void 0:Or(_,x),()=>({triggerEl:n(o)})),z(v,y)};I(()=>X(d,v=>{n(r)&&v(g)}),"if",hr,84,2)}return tt(()=>W(h,"aria-expanded",n(r))),z(t,u),xe(l)}to(["click"]),To[P]="src/components/ui/ViewToggle.svelte";var Pg=V(Rt('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="10" y2="6"></line><line x1="3" y1="12" x2="10" y2="12"></line><line x1="3" y1="18" x2="10" y2="18"></line><line x1="14" y1="12" x2="21" y2="12"></line><circle cx="17" cy="12" r="2" fill="currentColor"></circle></svg>'),To[P],[[21,4,[[23,6],[24,6],[25,6],[27,6],[28,6]]]]),Lg=V(Rt('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>'),To[P],[[32,4,[[33,6],[34,6],[35,6]]]]),Dg=V(ft('<button class="view-toggle-btn svelte-1u54q0q"><!></button>'),To[P],[[13,0]]);function To(t,e){Ee(new.target),_e(e,!0,To);const r=p(m(()=>{var f,l;return((l=(f=e.store.spec)==null?void 0:f.data)==null?void 0:l.includeForest)??!0}),"includeForest");var o={...ke()},i=Dg();i.__click=()=>e.store.toggleForestView();var a=K(i);{var s=f=>{var l=Pg();z(f,l)},c=f=>{var l=Lg();z(f,l)};I(()=>X(a,f=>{n(r)?f(s):f(c,!1)}),"if",To,19,2)}return tt(()=>{W(i,"aria-label",n(r)?"Show table only":"Show forest plot"),W(i,"title",n(r)?"Show table only":"Show forest plot")}),z(t,i),xe(o)}to(["click"]);function _a(t,e){const r=t.split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,e),r.join(".")}function Es(t){const e=Math.abs(t),r=t<0?"-":"";if(e>=1e12)throw new Error(`Cannot abbreviate value >= 1 trillion: ${t}`);if(e>=1e9){const o=e/1e9;return r+ks(o)+"B"}if(e>=1e6){const o=e/1e6;return r+ks(o)+"M"}if(e>=1e3){const o=e/1e3;return r+ks(o)+"K"}return r+Math.round(e).toString()}function ks(t){const e=Math.round(t*10)/10;return e===Math.floor(e)?e.toFixed(0):e.toFixed(1)}const Bg={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻","+":"⁺"};function Gg(t){return t.split("").map(e=>Bg[e]??e).join("")}function ti(t,e){var c,f,l,u,h;if(t==null||Number.isNaN(t))return(e==null?void 0:e.naText)??"";if(e!=null&&e.percent){const{decimals:d,digits:g,multiply:v=!0,symbol:y=!0}=e.percent,_=v?t*100:t,x=g!=null?_.toPrecision(g):_.toFixed(d??1);return y?`${x}%`:x}if(((c=e==null?void 0:e.numeric)==null?void 0:c.abbreviate)&&Math.abs(t)>=1e3)return Es(t);const o=(f=e==null?void 0:e.numeric)==null?void 0:f.digits;if(o!=null){const d=t.toPrecision(o),g=(l=e==null?void 0:e.numeric)==null?void 0:l.thousandsSep;return g&&typeof g=="string"?_a(d,g):d}const i=(u=e==null?void 0:e.numeric)==null?void 0:u.decimals,a=(h=e==null?void 0:e.numeric)==null?void 0:h.thousandsSep;let s;return i!==void 0?s=t.toFixed(i):Number.isInteger(t)||Math.abs(t-Math.round(t))<1e-4?s=Math.round(t).toString():s=t.toFixed(2),a&&typeof a=="string"&&(s=_a(s,a)),s}function Cs(t,e){const{eventsField:r,nField:o,separator:i="/",showPct:a=!1,thousandsSep:s,abbreviate:c}=e.events,f=t.metadata[r],l=t.metadata[o];if(f==null||l===void 0||l===null)return e.naText??"";const u=Number(f),h=Number(l);let d,g;c&&(u>=1e3||h>=1e3)?(d=u>=1e3?Es(u):String(u),g=h>=1e3?Es(h):String(h)):(d=String(u),g=String(h),s&&typeof s=="string"&&(d=_a(d,s),g=_a(g,s)));let v=`${d}${i}${g}`;if(a&&h>0){const y=(u/h*100).toFixed(1);v+=` (${y}%)`}return v}function Ts(t,e,r,o){var c,f,l;if(t==null||Number.isNaN(t))return"";const i=((c=o==null?void 0:o.interval)==null?void 0:c.decimals)??2,a=((f=o==null?void 0:o.interval)==null?void 0:f.sep)??" ",s=(l=o==null?void 0:o.interval)==null?void 0:l.impreciseThreshold;return e==null||r===void 0||r===null||Number.isNaN(e)||Number.isNaN(r)?t.toFixed(i):s!=null&&e>0&&r/e>s?"—":`${t.toFixed(i)}${a}(${e.toFixed(i)}, ${r.toFixed(i)})`}function Dc(t,e){if(t==null||Number.isNaN(t))return(e==null?void 0:e.naText)??"";const r=e==null?void 0:e.pvalue,o=(r==null?void 0:r.digits)??2,i=(r==null?void 0:r.expThreshold)??.001,a=(r==null?void 0:r.abbrevThreshold)??null,s=(r==null?void 0:r.format)??"auto",c=(r==null?void 0:r.stars)??!1,f=(r==null?void 0:r.thresholds)??[.05,.01,.001];let l="";if(c&&(t<f[2]?l="***":t<f[1]?l="**":t<f[0]&&(l="*")),a!==null&&t<a)return`<${a}${l}`;if(s==="scientific"||s==="auto"&&t<i){const h=Math.floor(Math.log10(t));return`${(t/Math.pow(10,h)).toPrecision(o)}×10${Gg(h.toString())}${l}`}let u;return t>=.1?u=t.toFixed(o):t>=.01?u=t.toFixed(o+1):u=t.toFixed(o+2),`${u}${l}`}function Bc(t,e){var a,s,c,f;const{type:r,field:o,options:i}=e;switch(r){case"interval":{const l=(a=i==null?void 0:i.interval)!=null&&a.point?t.metadata[i.interval.point]:t.point,u=(s=i==null?void 0:i.interval)!=null&&s.lower?t.metadata[i.interval.lower]:t.lower,h=(c=i==null?void 0:i.interval)!=null&&c.upper?t.metadata[i.interval.upper]:t.upper;return Ts(l,u,h,i)}case"custom":return i!=null&&i.events?Cs(t,i):String(t.metadata[o]??"");case"pvalue":return Dc(t.metadata[o],i);case"numeric":return ti(t.metadata[o],i);case"percent":return ti(t.metadata[o],i);case"sparkline":case"icon":case"stars":case"img":case"range":return"";case"badge":{const l=t.metadata[o];return l==null?"":`  ${String(l)}  `}case"bar":{if(((f=i==null?void 0:i.bar)==null?void 0:f.showLabel)===!1)return"";const l=t.metadata[o];return l==null?"":l>=100?l.toFixed(0):l>=10?l.toFixed(1):l.toFixed(2)}case"text":default:return String(t.metadata[o]??"")}}function gr(t,e){const r="⁰¹²³⁴⁵⁶⁷⁸⁹⁺⁻",o="ilI1.,;:|!()[]{}' -",i="mwMW@%",a="ABCDEFGHJKLNOPQRSTUVXYZ";let s=0;for(const c of t)r.includes(c)?s+=e*.3:o.includes(c)?s+=e*.35:"×−".includes(c)?s+=e*.5:i.includes(c)?s+=e*.85:c>="0"&&c<="9"?s+=e*.6:a.includes(c)?s+=e*.68:s+=e*.55;return s}function Vg(t,e,r,o=400){if(typeof document>"u")return null;const a=document.createElement("canvas").getContext("2d");return a?(a.font=`${o} ${e} ${r}`,a.measureText(t).width):null}function Gc(t){if(!t||t.length===0)return{min:NaN,q1:NaN,median:NaN,q3:NaN,max:NaN};const e=t.filter(i=>i!=null&&!Number.isNaN(i)).sort((i,a)=>i-a);if(e.length===0)return{min:NaN,q1:NaN,median:NaN,q3:NaN,max:NaN};const r=e.length,o=i=>{if(r===1)return e[0];const a=(r-1)*i,s=Math.floor(a),c=Math.ceil(a);return s===c?e[s]:e[s]+(a-s)*(e[c]-e[s])};return{min:e[0],q1:o(.25),median:o(.5),q3:o(.75),max:e[r-1]}}function Og(t,e,r){if(!t||t.length===0||Number.isNaN(e)||Number.isNaN(r))return[];const o=r-e,i=e-1.5*o,a=r+1.5*o;return t.filter(s=>s!=null&&!Number.isNaN(s)&&(s<i||s>a))}function xa(t){const e=Gc(t),r=Og(t,e.q1,e.q3);return{...e,outliers:r}}function jg(t){if(!t||t.length<2)return 1;const e=t.filter(g=>g!=null&&!Number.isNaN(g)).sort((g,v)=>g-v);if(e.length<2)return 1;const r=e.length,o=e.reduce((g,v)=>g+v,0)/r,i=e.reduce((g,v)=>g+(v-o)**2,0)/(r-1),a=Math.sqrt(i),s=Math.floor((r-1)*.25),c=Math.floor((r-1)*.75),f=e[s],u=e[c]-f,d=.9*Math.min(a,u/1.34)*Math.pow(r,-.2);return Math.max(d,.001)}function qg(t){return Math.exp(-.5*t*t)/Math.sqrt(2*Math.PI)}function Vc(t,e,r=128){if(!t||t.length===0)return{x:[],y:[]};const o=t.filter(g=>g!=null&&!Number.isNaN(g));if(o.length===0)return{x:[],y:[]};const i=e??jg(o),a=Math.min(...o),s=Math.max(...o),c=3*i,f=a-c,u=(s+c-f)/(r-1),h=[],d=[];for(let g=0;g<r;g++){const v=f+g*u;h.push(v);let y=0;for(const _ of o)y+=qg((v-_)/i);y/=o.length*i,d.push(y)}return{x:h,y:d}}function Oc(t,e){if(t.y.length===0)return t;const r=Math.max(...t.y);if(r===0)return t;const o=t.y.map(i=>i/r*e);return{x:t.x,y:o}}function wa(t,e,r,o=400){const i=Vg(t,`${e}px`,r,o);if(i!==null)return i;const a=1+Math.max(0,(o-400)/100)*.02;return gr(t,e)*a}function Xg(t,e){var l,u;const r=new Map,o=Rn(t.theme.typography.fontSizeBase),i=t.theme.typography.headerFontScale??1.05,a=Math.round(o*i*100)/100,s=t.data.rows,c=(t.theme.spacing.cellPaddingX??10)*2,f=(t.theme.spacing.groupPadding??8)*2;for(const h of e){if(h.width!=="auto"&&h.width!==null&&h.width!==void 0)continue;let d=0;h.header&&(d=Math.max(d,gr(h.header,a)));for(const y of s){if(((l=y.style)==null?void 0:l.type)==="header"||((u=y.style)==null?void 0:u.type)==="spacer")continue;const _=Bc(y,h);_&&(d=Math.max(d,gr(_,o)))}const g=Jn.VISUAL_MIN[h.type]??Jn.MIN,v=Math.ceil(d+c+Qn.RENDERING_BUFFER);r.set(h.id,Math.min(Jn.MAX,Math.max(g,v)))}return $g(t.columns,r,a,f,Qn.RENDERING_BUFFER),r}function $g(t,e,r,o,i){function a(f){return f.isGroup?f.columns.flatMap(a):[f]}function s(f){const l=e.get(f.id);return l!==void 0?l:typeof f.width=="number"?f.width:Jn.MIN}function c(f){if(f.isGroup){for(const l of f.columns)c(l);if(f.header){const l=gr(f.header,r)+o+i,u=a(f),h=u.reduce((d,g)=>d+s(g),0);if(l>h&&u.length>0){const d=Math.ceil((l-h)/u.length);for(const g of u)e.set(g.id,s(g)+d)}}}}for(const f of t)c(f)}function jc(t,e,r){let o=r.filter(a=>a.groupId===t).length;const i=e.filter(a=>a.parentId===t);for(const a of i)o+=jc(a.id,e,r);return o}function qc(t){var f,l;const e=Rn(t.theme.typography.fontSizeBase),r=(t.theme.spacing.cellPaddingX??10)*2;let o=0;const i=new Map,a=Array.isArray(t.data.groups)?t.data.groups:[];for(const u of a)i.set(u.id,u.depth);const s=u=>u?(i.get(u)??0)+1:0;t.data.labelHeader&&(o=Math.max(o,gr(t.data.labelHeader,e)));for(const u of t.data.rows)if(u.label){const h=s(u.groupId),d=((f=u.style)==null?void 0:f.indent)??0,v=(h+d)*Le.INDENT_PER_LEVEL;let y=gr(u.label,e)+v;if((l=u.style)!=null&&l.badge){const _=String(u.style.badge),x=e*Er.FONT_SCALE,N=gr(_,x)+Er.PADDING*2;y+=Er.GAP+N}o=Math.max(o,y)}for(const u of a)if(u.label){const h=u.depth*Le.INDENT_PER_LEVEL,d=gr(u.label,e),v=`(${jc(u.id,a,t.data.rows)})`,y=e*.75,_=gr(v,y),x=h+ro.CHEVRON_WIDTH+ro.GAP+d+ro.GAP+_+ro.SAFETY_MARGIN;o=Math.max(o,x)}const c=Math.ceil(o+r+Qn.RENDERING_BUFFER);return Math.min(Jn.LABEL_MAX,Math.max(Jn.MIN,c))}function Ns(t,e){const r=e.get(t.id);return r!==void 0?r:typeof t.width=="number"?t.width:kr.DEFAULT_COLUMN_WIDTH}function Ug(t,e,r=0){var de,mt,Ht,Zt,qt;const o=t.theme,i=o.spacing.rowHeight,a=o.spacing.padding,s=o.spacing.columnGap??8,c=Array.isArray(t.columns)?t.columns:[],f=$c(c,"left"),l=$c(c,"right"),u=ba(f)||ba(l)||ba(c),h=u?2:1,d=o.spacing.cellPaddingY??4,y=(o.spacing.headerHeight/h+(u?d*2:0))*h,_=!!((de=t.labels)!=null&&de.title),x=!!((mt=t.labels)!=null&&mt.subtitle),S=!!((Ht=t.labels)!=null&&Ht.caption),N=!!((Zt=t.labels)!=null&&Zt.footnote),H=_?Cr.TITLE_HEIGHT:0,M=x?Cr.SUBTITLE_HEIGHT:0,k=H+M+(_||x?a:0),w=S?Cr.CAPTION_HEIGHT:0,E=N?Cr.FOOTNOTE_HEIGHT:0,F=w+E+(S||N?a:0),T=Xc(t),R=!!t.data.overall;let C=0;for(const Ut of T){const Ae=Ut.type==="data"&&((qt=Ut.row.style)==null?void 0:qt.type)==="spacer";C+=Ae?i/2:i}R&&(C+=i*dd.OVERALL_ROW_HEIGHT_MULTIPLIER);const L=Ws(c,"left"),Z=Ws(c,"right"),st=As(c).filter(Ut=>Ut.position===void 0),D=[...L,...Z,...st];let $,it;if(e.columnWidths){$=new Map;for(const[Ut,Ae]of Object.entries(e.columnWidths))Ut!=="__label__"&&$.set(Ut,Ae);it=e.columnWidths.__label__??qc(t)}else $=Xg(t,D),it=qc(t);const Y=it+L.reduce((Ut,Ae)=>Ut+Ns(Ae,$),0),U=Z.reduce((Ut,Ae)=>Ut+Ns(Ae,$),0),lt=st.filter(Ut=>Ut.type!=="forest").reduce((Ut,Ae)=>Ut+Ns(Ae,$),0),J=e.width??kr.DEFAULT_WIDTH,ut=D.some(Ut=>Ut.type==="forest")||t.data.includeForest,vt=Y+U+lt;let Et;if(!ut)Et=0;else if(typeof e.forestWidth=="number")Et=e.forestWidth;else if(typeof t.layout.plotWidth=="number")Et=t.layout.plotWidth;else{const Ut=J-vt-s*2-a*2;Et=Math.max(Ut,kr.MIN_FOREST_WIDTH)}const bt=a*2+vt+Et+s*2,xt=Math.max(e.width??J,bt);ut&&xt>bt&&typeof e.forestWidth!="number"&&typeof t.layout.plotWidth!="number"&&(Et=xt-vt-a*2-s*2);const te=(o.spacing.axisGap??12)+kr.AXIS_HEIGHT+kr.AXIS_LABEL_HEIGHT,Te=k+a+y+C+te+F+kr.BOTTOM_MARGIN;return{totalWidth:xt,totalHeight:e.height??Te,tableWidth:Y+U,forestWidth:Et,headerHeight:y,rowHeight:i,plotHeight:C,axisHeight:kr.AXIS_HEIGHT,nullValue:r,summaryYPosition:C-i,showOverallSummary:R,headerTextHeight:k,footerTextHeight:F,titleY:a+Cr.TITLE_HEIGHT-4,subtitleY:a+H+Cr.SUBTITLE_HEIGHT-4,mainY:k+a,footerY:k+a+y+C+te+8,autoWidths:$,labelWidth:it}}function Xc(t){var h;const e=t.data.rows,r=Array.isArray(t.data.groups)?t.data.groups:[];if(r.length===0)return e.map(d=>({type:"data",row:d,depth:0}));const o=new Map;for(const d of r)o.set(d.id,d);const i=new Map;for(const d of e){const g=d.groupId??null;i.has(g)||i.set(g,[]),i.get(g).push(d)}const a=new Set;for(const d of i.keys()){if(!d)continue;let g=d;for(;g;)a.add(g),g=(h=o.get(g))==null?void 0:h.parentId}function s(d){return r.filter(g=>(g.parentId??null)===d&&a.has(g.id))}function c(d){if(!d)return 0;const g=o.get(d);return g?g.depth+1:0}function f(d){var v;let g=((v=i.get(d))==null?void 0:v.length)??0;for(const y of s(d))g+=f(y.id);return g}const l=[];function u(d){if(d){const v=o.get(d);if(!v)return;const y=f(d);l.push({type:"group_header",groupId:v.id,label:v.label,depth:v.depth,rowCount:y})}for(const v of s(d))u(v.id);const g=i.get(d)??[];for(const v of g)l.push({type:"data",row:v,depth:c(v.groupId)})}return u(null),l}function Hs(t){const e=[];for(const r of t)r.isGroup?e.push(...Hs(r.columns)):e.push(r);return e}function As(t){const e=[];for(const r of t)r.isGroup?e.push(...Hs(r.columns)):e.push(r);return e}function Ws(t,e){if(e===void 0)return As(t);const r=[];for(const o of t)o.position===e&&(o.isGroup?r.push(...Hs(o.columns)):r.push(o));return r}function $c(t,e){return t.filter(r=>r.position===e)}function ba(t){return t.some(e=>e.isGroup)}function Rn(t){let e;return t.endsWith("rem")?e=parseFloat(t)*Cr.REM_BASE:t.endsWith("px")?e=parseFloat(t):t.endsWith("pt")?e=parseFloat(t)*Cr.PT_TO_PX:e=Cr.DEFAULT_FONT_SIZE,Math.round(e*100)/100}function Ma(t,e,r){return r==="right"?{textX:t+e-Le.TEXT_PADDING,anchor:"end"}:r==="center"?{textX:t+e/2,anchor:"middle"}:{textX:t+Le.TEXT_PADDING,anchor:"start"}}function sn(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function Uc(t,e,r,o=0){const i=e-o*2;if(gr(t,r)<=i)return t;const s="…",c=r*.55;let f=0,l=t.length;for(;f<l;){const u=Math.ceil((f+l)/2),h=t.slice(0,u);gr(h,r)+c<=i?f=u:l=u-1}return f===0?s:t.slice(0,f)+s}function Yg(t){return Math.abs(t)<.01?"0":Math.abs(t)>=100?t.toFixed(0):Math.abs(t)>=10?t.toFixed(1):t.toFixed(2)}function Gi(t,e){const[r,o]=t,[i,a]=e,s=(a-i)/(o-r),c=f=>i+(f-r)*s;return c.domain=()=>t,c.range=()=>e,c.ticks=f=>{const l=(o-r)/(f-1),u=[];for(let h=0;h<f;h++)u.push(r+l*h);return u},c}function Vi(t,e){const[r,o]=t.map(u=>Math.max(u,.001)),[i,a]=e,s=Math.log10(r),c=Math.log10(o),f=(a-i)/(c-s),l=u=>{const h=Math.log10(Math.max(u,.001));return i+(h-s)*f};return l.domain=()=>[r,o],l.range=()=>e,l.ticks=u=>{const h=[],d=Math.floor(Math.log10(r)),g=Math.ceil(Math.log10(o));for(let v=d;v<=g;v++){const y=Math.pow(10,v);for(const _ of[1,2,5]){const x=y*_;x>=r&&x<=o&&h.push(x)}}return h.length>0?h:[r,o]},l}function Zg(t,e,r,o){const i=r.scale==="log",a=Nn,s=Math.max(e-Nn,a+50);if(o!=null&&o.xDomain){const h=o.xDomain,d=o.clipBounds??h,g=Zl(d,t.theme.axis,r.scale,r.nullValue);return i?{scale:Vi([Math.max(h[0],.01),Math.max(h[1],.02)],[a,s]),clipBounds:d,ticks:g}:{scale:Gi(h,[a,s]),clipBounds:d,ticks:g}}const c=Yl({rows:t.data.rows,config:t.theme.axis,scale:r.scale,nullValue:r.nullValue,forestWidth:e,pointSize:t.theme.shapes.pointSize,effects:r.effects,pointCol:r.pointCol,lowerCol:r.lowerCol,upperCol:r.upperCol}),{plotRegion:f,axisLimits:l,ticks:u}=c;return i?{scale:Vi([Math.max(f[0],.01),Math.max(f[1],.02)],[a,s]),clipBounds:l,ticks:u}:{scale:Gi(f,[a,s]),clipBounds:l,ticks:u}}function Kg(t,e,r){var a,s;const o=[],i=r.spacing.padding;if((a=t.labels)!=null&&a.title){const c=Rn(r.typography.fontSizeLg);o.push(`<text x="${i}" y="${e.titleY}"
      font-family="${r.typography.fontFamily}"
      font-size="${c}px"
      font-weight="${r.typography.fontWeightBold}"
      fill="${r.colors.foreground}">${sn(t.labels.title)}</text>`)}if((s=t.labels)!=null&&s.subtitle){const c=Rn(r.typography.fontSizeBase);o.push(`<text x="${i}" y="${e.subtitleY}"
      font-family="${r.typography.fontFamily}"
      font-size="${c}px"
      font-weight="${r.typography.fontWeightNormal}"
      fill="${r.colors.secondary}">${sn(t.labels.subtitle)}</text>`)}return o.join(`
`)}function Qg(t,e,r){var c,f,l,u;const o=[],i=r.spacing.padding;let a=e.footerY;if(!!((c=t.labels)!=null&&c.caption)||!!((f=t.labels)!=null&&f.footnote)){const h=e.footerY-8;o.push(`<line x1="${i}" x2="${e.totalWidth-i}"
      y1="${h}" y2="${h}"
      stroke="${r.colors.border}" stroke-width="1"/>`)}if((l=t.labels)!=null&&l.caption){const h=Rn(r.typography.fontSizeSm);o.push(`<text x="${i}" y="${a}"
      font-family="${r.typography.fontFamily}"
      font-size="${h}px"
      font-weight="${r.typography.fontWeightNormal}"
      fill="${r.colors.secondary}">${sn(t.labels.caption)}</text>`),a+=Cr.CAPTION_HEIGHT}if((u=t.labels)!=null&&u.footnote){const h=Rn(r.typography.fontSizeSm);o.push(`<text x="${i}" y="${a}"
      font-family="${r.typography.fontFamily}"
      font-size="${h}px"
      font-weight="${r.typography.fontWeightNormal}"
      font-style="italic"
      fill="${r.colors.muted}">${sn(t.labels.footnote)}</text>`)}return o.join(`
`)}function Jg(t,e,r,o,i,a,s,c){const f=[],l=e+1,u=c.groupHeaders;let h,d,g,v,y;if(l===1?(h=Rn((u==null?void 0:u.level1FontSize)??c.typography.fontSizeBase),d=(u==null?void 0:u.level1FontWeight)??c.typography.fontWeightBold,g=(u==null?void 0:u.level1Italic)??!1,v=(u==null?void 0:u.level1Background)??null,y=(u==null?void 0:u.level1BorderBottom)??!1):l===2?(h=Rn((u==null?void 0:u.level2FontSize)??c.typography.fontSizeBase),d=(u==null?void 0:u.level2FontWeight)??c.typography.fontWeightMedium,g=(u==null?void 0:u.level2Italic)??!0,v=(u==null?void 0:u.level2Background)??null,y=(u==null?void 0:u.level2BorderBottom)??!1):(h=Rn((u==null?void 0:u.level3FontSize)??c.typography.fontSizeBase),d=(u==null?void 0:u.level3FontWeight)??c.typography.fontWeightNormal,g=(u==null?void 0:u.level3Italic)??!1,v=(u==null?void 0:u.level3Background)??null,y=(u==null?void 0:u.level3BorderBottom)??!1),!v){const H=c.colors.primary,M=l===1?.15:l===2?.1:.06,k=H.replace("#",""),w=parseInt(k.substring(0,2),16),E=parseInt(k.substring(2,4),16),F=parseInt(k.substring(4,6),16);v=`rgba(${w}, ${E}, ${F}, ${M})`}const _=i+a/2,x=e*((u==null?void 0:u.indentPerLevel)??Le.INDENT_PER_LEVEL);f.push(`<rect x="${o}" y="${i}"
    width="${s}" height="${a}"
    fill="${v}"/>`),y&&f.push(`<line x1="${o}" x2="${o+s}" y1="${i+a}" y2="${i+a}"
      stroke="${c.colors.border}" stroke-width="1" opacity="0.5"/>`);const S=g?' font-style="italic"':"",N=o+Le.TEXT_PADDING+x;if(f.push(`<text class="cell-text" x="${N}" y="${_}"
    font-family="${c.typography.fontFamily}"
    font-size="${h}px"
    font-weight="${d}"${S}
    fill="${c.colors.foreground}">${sn(t)}</text>`),r>0){const H=wa(t,h,c.typography.fontFamily,d),M=N+H+6,k=Rn(c.typography.fontSizeSm??"0.75rem");f.push(`<text class="cell-text" x="${M}" y="${_}"
      font-family="${c.typography.fontFamily}"
      font-size="${k}px"
      font-weight="${c.typography.fontWeightNormal}"
      fill="${c.colors.muted}">(${r})</text>`)}return f.join(`
`)}function tv(t,e){const r=new Map;for(const o of e)if(o.type==="bar"){let i=0;for(const a of t){const s=a.metadata[o.field];typeof s=="number"&&s>i&&(i=s)}r.set(o.field,i>0?i:1)}return r}function ev(t,e){var o,i,a,s,c,f,l,u,h,d,g,v,y,_,x,S,N,H,M;if(e.type==="interval"){const k=(i=(o=e.options)==null?void 0:o.interval)!=null&&i.point?t.metadata[e.options.interval.point]:t.point,w=(s=(a=e.options)==null?void 0:a.interval)!=null&&s.lower?t.metadata[e.options.interval.lower]:t.lower,E=(f=(c=e.options)==null?void 0:c.interval)!=null&&f.upper?t.metadata[e.options.interval.upper]:t.upper;return Ts(k,w,E,e.options)}if(e.type==="numeric"){const k=t.metadata[e.field];return typeof k=="number"?ti(k,e.options):((l=e.options)==null?void 0:l.naText)??""}if(e.type==="custom"&&((u=e.options)!=null&&u.events))return Cs(t,e.options);if(e.type==="pvalue"){const k=t.metadata[e.field];return typeof k!="number"?((h=e.options)==null?void 0:h.naText)??"":Dc(k,e.options)}if(e.type==="icon"){const k=t.metadata[e.field];if(k==null)return"";const w=String(k),E=(g=(d=e.options)==null?void 0:d.icon)==null?void 0:g.mapping;return E&&w in E?E[w]:w}if(e.type==="badge"){const k=t.metadata[e.field];return k!=null?String(k):""}if(e.type==="stars"){const k=t.metadata[e.field];if(typeof k!="number")return"";const w=((y=(v=e.options)==null?void 0:v.stars)==null?void 0:y.maxStars)??5,E=Math.max(0,Math.min(w,k)),F=Math.floor(E),T=w-F;return"★".repeat(F)+"☆".repeat(T)}if(e.type==="img")return((x=(_=e.options)==null?void 0:_.img)==null?void 0:x.fallback)??"[IMG]";if(e.type==="reference"){const k=t.metadata[e.field];if(k==null)return"";const w=String(k),E=((N=(S=e.options)==null?void 0:S.reference)==null?void 0:N.maxChars)??30;return w.length<=E?w:w.substring(0,E)+"..."}if(e.type==="range"){const k=(H=e.options)==null?void 0:H.range;if(!k)return"";const w=t.metadata[k.minField],E=t.metadata[k.maxField],F=k.separator??" – ",T=k.decimals,R=C=>typeof C!="number"?"":T==null?Number.isInteger(C)?String(C):C.toFixed(1):C.toFixed(T);return w===null&&E===null?"":w===null?R(E):E===null?R(w):`${R(w)}${F}${R(E)}`}const r=t.metadata[e.field];return r!=null?String(r):((M=e.options)==null?void 0:M.naText)??""}function nv(t,e,r,o,i){const a=t.filter(u=>Number.isFinite(u));if(a.length===0)return"";if(a.length===1){const u=e+o/2,h=r+i/2;return`M${u.toFixed(1)},${h.toFixed(1)}`}const s=Math.min(...a),f=Math.max(...a)-s||1;return`M${a.map((u,h)=>{const d=e+h/(a.length-1)*o,g=r+i-(u-s)/f*i;return`${d.toFixed(1)},${g.toFixed(1)}`}).join("L")}`}function rv(t,e,r,o,i,a=[],s,c=0,f=1/0,l,u=!1){var w;let h;if(a.length===0){const E=!u||t.point!=null&&t.point>0?t.point:null,F=!u||t.lower!=null&&t.lower>0?t.lower:null,T=!u||t.upper!=null&&t.upper>0?t.upper:null;h=[{point:E,lower:F,upper:T,color:null,shape:null,opacity:null}]}else h=a.map(E=>({point:Kn(t.metadata,t.point,E.pointCol,"point",u),lower:Kn(t.metadata,t.lower,E.lowerCol,"lower",u),upper:Kn(t.metadata,t.upper,E.upperCol,"upper",u),color:E.color??null,shape:E.shape??null,opacity:E.opacity??null}));const d=h.filter(E=>E.point!=null&&!Number.isNaN(E.point)&&E.lower!=null&&!Number.isNaN(E.lower)&&E.upper!=null&&!Number.isNaN(E.upper));if(d.length===0)return"";const g=o.shapes.pointSize,v=o.shapes.lineWidth,y=o.colors.intervalLine,_=((w=t.style)==null?void 0:w.type)==="summary",S=o.shapes.summaryHeight/2;function N(E){var T;if(E&&((T=t.markerStyle)==null?void 0:T.size)!=null)return g*t.markerStyle.size;const F=s?t.metadata[s]:void 0;if(F){const R=.5+Math.sqrt(F/100)*1.5;return Math.min(Math.max(g*R,3),g*2.5)}return g}function H(E,F){const T=F===0,R=t.markerStyle,C=o.shapes.effectColors,L=o.shapes.markerShapes,Z=["square","circle","diamond","triangle"];let st;T&&(R!=null&&R.color)?st=R.color:E.color?st=E.color:C&&C.length>0?st=C[F%C.length]:st=o.colors.interval??o.colors.primary??"#2563eb";let D;T&&(R!=null&&R.shape)?D=R.shape:E.shape?D=E.shape:L&&L.length>0?D=L[F%L.length]:D=Z[F%Z.length];let $;return T&&(R==null?void 0:R.opacity)!=null?$=R.opacity:E.opacity!=null?$=E.opacity:$=1,{color:st,shape:D,opacity:$}}function M(E,F,T,R){const{color:C,shape:L,opacity:Z}=R,st=Z<1?` fill-opacity="${Z}"`:"";switch(L){case"circle":return`<circle cx="${E}" cy="${F}" r="${T}" fill="${C}"${st}/>`;case"diamond":return`<polygon points="${[`${E},${F-T}`,`${E+T},${F}`,`${E},${F+T}`,`${E-T},${F}`].join(" ")}" fill="${C}"${st}/>`;case"triangle":return`<polygon points="${[`${E},${F-T}`,`${E+T},${F+T}`,`${E-T},${F+T}`].join(" ")}" fill="${C}"${st}/>`;default:return`<rect x="${E-T}" y="${F-T}" width="${T*2}" height="${T*2}" fill="${C}"${st}/>`}}const k=[];return d.forEach((E,F)=>{const T=e+Ql(F,d.length),R=r(E.lower),C=r(E.upper),L=r(E.point),Z=H(E,F),st=N(F===0),D=y;if(_){const $=Z.opacity<1?` fill-opacity="${Z.opacity}"`:"",it=[`${R},${T}`,`${L},${T-S}`,`${C},${T}`,`${L},${T+S}`].join(" ");k.push(`
        <g class="interval effect-${F} summary">
          <polygon points="${it}"
            fill="${Z.color}"${$} stroke="${o.colors.summaryBorder}" stroke-width="1"/>
        </g>`)}else{const $=c+Nn,it=c+f-Nn,Y=l?E.lower<l[0]:R<$,U=l?E.upper>l[1]:C>it;let lt,J;if(l){const te=Math.max(l[0],Math.min(l[1],E.lower)),Te=Math.max(l[0],Math.min(l[1],E.upper));lt=r(te),J=r(Te)}else lt=Math.max($,Math.min(it,R)),J=Math.max($,Math.min(it,C));const et=$l(o),ut=et.height/2,vt=l?r(l[0]):$,Et=l?r(l[1]):it;let bt="";if(Y){const te=et.opacity<1?` fill-opacity="${et.opacity}"`:"";bt=`<path d="${la("left",vt,T,et)}" fill="${et.color}"${te}/>`}else bt=`<line x1="${lt}" x2="${lt}" y1="${T-ut}" y2="${T+ut}" stroke="${D}" stroke-width="${v}"/>`;let xt="";if(U){const te=et.opacity<1?` fill-opacity="${et.opacity}"`:"";xt=`<path d="${la("right",Et,T,et)}" fill="${et.color}"${te}/>`}else xt=`<line x1="${J}" x2="${J}" y1="${T-ut}" y2="${T+ut}" stroke="${D}" stroke-width="${v}"/>`;const ue=l?r(Math.max(l[0],Math.min(l[1],E.point))):Math.max($,Math.min(it,L));k.push(`
        <g class="interval effect-${F}">
          <line x1="${lt}" x2="${J}" y1="${T}" y2="${T}"
            stroke="${D}" stroke-width="${v}"/>
          ${bt}
          ${xt}
          ${M(ue,T,st,Z)}
        </g>`)}}),k.join("")}function ov(t,e,r,o,i,a,s,c){const l=c.shapes.summaryHeight/2,[u,h]=i.domain().map(M=>i(M)),d=Math.min(u,h),g=Math.max(u,h),v=i(e),y=i(t),_=i(r),x=a+Math.max(d,Math.min(g,v)),S=a+Math.max(d,Math.min(g,y)),N=a+Math.max(d,Math.min(g,_));return`<polygon points="${[`${x},${o}`,`${S},${o-l}`,`${N},${o}`,`${S},${o+l}`].join(" ")}"
    fill="${c.colors.summaryFill}"
    stroke="${c.colors.summaryBorder}"
    stroke-width="1"/>`}function iv(t,e,r,o,i,a,s,c){const f=[],l=a.effects,u=l.length;if(!l.some(x=>{const S=t.metadata[x.value];return S!=null&&!Number.isNaN(S)}))return"";const d=r*.7,g=u>1?2:0,v=(d-g*(u-1))/u,y=Math.max(4,v),_=c.shapes.effectColors??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"];return l.forEach((x,S)=>{const N=t.metadata[x.value];if(N==null||Number.isNaN(N))return;const H=e-d/2+S*(y+g),M=o+s(Math.min(0,N)),k=Math.abs(s(N)-s(0)),w=x.color??_[S%_.length],E=x.opacity??.85;f.push(`<rect
      x="${M}" y="${H}"
      width="${Math.max(1,k)}" height="${y}"
      fill="${w}" fill-opacity="${E}" rx="2"
      class="viz-bar-segment"/>`)}),f.join(`
`)}function av(t,e,r,o,i,a,s,c){const f=[],l=a.effects,u=l.length,h=l.map(S=>{if(S.data){const N=t.metadata[S.data];return!N||!Array.isArray(N)||N.length===0?null:xa(N)}if(S.min&&S.q1&&S.median&&S.q3&&S.max){const N=t.metadata[S.min],H=t.metadata[S.q1],M=t.metadata[S.median],k=t.metadata[S.q3],w=t.metadata[S.max];if([N,H,M,k,w].some(F=>F==null||Number.isNaN(F)))return null;let E=[];if(S.outliers){const F=t.metadata[S.outliers];F&&Array.isArray(F)&&(E=F)}return{min:N,q1:H,median:M,q3:k,max:w,outliers:E}}return null});if(!h.some(S=>S!==null))return"";const g=r*.7,v=u>1?2:0,y=Math.max(8,(g-(u-1)*v)/u),_=c.shapes.effectColors??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"],x=c.colors.foreground??"#1a1a1a";return l.forEach((S,N)=>{const H=h[N];if(!H)return;const M=e-g/2+N*(y+v),k=M+y/2,w=S.color??_[N%_.length],E=S.fillOpacity??.7;f.push(`<line
      x1="${o+s(H.min)}" x2="${o+s(H.q1)}"
      y1="${k}" y2="${k}"
      stroke="${x}" stroke-width="1"/>`),f.push(`<line
      x1="${o+s(H.min)}" x2="${o+s(H.min)}"
      y1="${k-y/4}" y2="${k+y/4}"
      stroke="${x}" stroke-width="1"/>`),f.push(`<line
      x1="${o+s(H.q3)}" x2="${o+s(H.max)}"
      y1="${k}" y2="${k}"
      stroke="${x}" stroke-width="1"/>`),f.push(`<line
      x1="${o+s(H.max)}" x2="${o+s(H.max)}"
      y1="${k-y/4}" y2="${k+y/4}"
      stroke="${x}" stroke-width="1"/>`);const F=Math.max(2,s(H.q3)-s(H.q1));if(f.push(`<rect
      x="${o+s(H.q1)}" y="${M}"
      width="${F}" height="${y}"
      fill="${w}" fill-opacity="${E}"
      stroke="${x}" stroke-width="1"/>`),f.push(`<line
      x1="${o+s(H.median)}" x2="${o+s(H.median)}"
      y1="${M}" y2="${M+y}"
      stroke="${x}" stroke-width="2"/>`),a.showOutliers!==!1&&H.outliers.length>0)for(const T of H.outliers)f.push(`<circle
          cx="${o+s(T)}" cy="${k}"
          r="2.5"
          fill="none" stroke="${w}" stroke-width="1.5"/>`)}),f.join(`
`)}function sv(t,e,r,o,i,a,s,c){const f=[],l=a.effects,u=l.length,h=l.map(H=>{const M=t.metadata[H.data];return!M||!Array.isArray(M)||M.length<2?null:Vc(M,a.bandwidth)}),d=l.map(H=>{const M=t.metadata[H.data];if(!M||!Array.isArray(M)||M.length<2)return null;const k=M.filter(F=>F!=null&&!Number.isNaN(F)).sort((F,T)=>F-T);if(k.length===0)return null;const w=k.length,E=F=>{if(w===1)return k[0];const T=(w-1)*F,R=Math.floor(T),C=Math.ceil(T);return R===C?k[R]:k[R]+(T-R)*(k[C]-k[R])};return{q1:E(.25),median:E(.5),q3:E(.75)}});if(!h.some(H=>H!==null))return"";const v=r*.8,y=u>1?2:0,_=Math.max(10,(v-(u-1)*y)/u),x=_/2,S=c.shapes.effectColors??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"],N=c.colors.foreground??"#1a1a1a";return l.forEach((H,M)=>{const k=h[M],w=d[M];if(!k||k.x.length<2)return;const E=e-v/2+_/2+M*(_+y),F=H.color??S[M%S.length],T=H.fillOpacity??.5,R=Oc(k,x),C=[];for(let L=0;L<R.x.length;L++){const Z=o+s(R.x[L]),st=E-R.y[L];C.push(L===0?`M ${Z} ${st}`:`L ${Z} ${st}`)}for(let L=R.x.length-1;L>=0;L--){const Z=o+s(R.x[L]),st=E+R.y[L];C.push(`L ${Z} ${st}`)}if(C.push("Z"),f.push(`<path
      d="${C.join(" ")}"
      fill="${F}" fill-opacity="${T}"
      stroke="${N}" stroke-width="0.5"/>`),a.showMedian!==!1&&w){const L=o+s(w.median);f.push(`<line
        x1="${L}" x2="${L}"
        y1="${E-x*.6}" y2="${E+x*.6}"
        stroke="${N}" stroke-width="2"/>`)}if(a.showQuartiles&&w){const L=o+s(w.q1),Z=o+s(w.q3);f.push(`<line
        x1="${L}" x2="${L}"
        y1="${E-x*.4}" y2="${E+x*.4}"
        stroke="${N}" stroke-width="1" stroke-dasharray="2,2"/>`),f.push(`<line
        x1="${Z}" x2="${Z}"
        y1="${E-x*.4}" y2="${E+x*.4}"
        stroke="${N}" stroke-width="1" stroke-dasharray="2,2"/>`)}}),f.join(`
`)}function lv(t,e,r){var c,f;const o=e.scale==="log",i=Nn;let a=(c=e.axisRange)==null?void 0:c[0],s=(f=e.axisRange)==null?void 0:f[1];if(a==null||s==null){const l=[];for(const u of t)for(const h of e.effects){const d=u.metadata[h.value];d!=null&&!Number.isNaN(d)&&l.push(d)}l.length>0?(a=a??Math.min(0,...l),s=s??Math.max(...l)*1.1):(a=a??0,s=s??100)}return o?Vi([Math.max(.01,a),s],[i,r-i]):Gi([a,s],[i,r-i])}function cv(t,e,r){var c,f;const o=e.scale==="log",i=Nn;let a=(c=e.axisRange)==null?void 0:c[0],s=(f=e.axisRange)==null?void 0:f[1];if(a==null||s==null){const l=[];for(const u of t)for(const h of e.effects)if(h.data){const d=u.metadata[h.data];if(d&&Array.isArray(d)){const g=xa(d);l.push(g.min,g.max),e.showOutliers!==!1&&l.push(...g.outliers)}}else if(h.min&&h.max){const d=u.metadata[h.min],g=u.metadata[h.max];d!=null&&!Number.isNaN(d)&&l.push(d),g!=null&&!Number.isNaN(g)&&l.push(g)}if(l.length>0){const u=Math.min(...l),h=Math.max(...l),d=h-u;a=a??u-d*.05,s=s??h+d*.05}else a=a??0,s=s??100}return o?Vi([Math.max(.01,a),s],[i,r-i]):Gi([a,s],[i,r-i])}function fv(t,e,r){var c,f;const o=e.scale==="log",i=Nn;let a=(c=e.axisRange)==null?void 0:c[0],s=(f=e.axisRange)==null?void 0:f[1];if(a==null||s==null){const l=[];for(const u of t)for(const h of e.effects){const d=u.metadata[h.data];d&&Array.isArray(d)&&l.push(...d.filter(g=>g!=null&&!Number.isNaN(g)))}if(l.length>0){a=a??Math.min(...l),s=s??Math.max(...l);const u=(s??0)-(a??0);a=(a??0)-u*.1,s=(s??0)+u*.1}else a=a??0,s=s??100}return o?Vi([Math.max(.01,a),s],[i,r-i]):Gi([a,s],[i,r-i])}function Rs(t,e,r,o,i,a,s){const c=[],f=Rn(r.typography.fontSizeSm),l=cs.EDGE_THRESHOLD,u=_=>_<l?"start":_>a-l?"end":"middle",h=_=>_<l?2:_>a-l?-2:0;c.push(`<line x1="${i}" x2="${i+a}"
    y1="0" y2="0" stroke="${r.colors.border}" stroke-width="1"/>`);const d=t.domain(),g=5,v=[],y=d[1]-d[0];for(let _=0;_<=g;_++)v.push(d[0]+y*_/g);for(const _ of v){const x=t(_),S=i+x,N=u(x),H=h(x),M=ti(_);c.push(`<line x1="${S}" x2="${S}" y1="0" y2="4" stroke="${r.colors.border}" stroke-width="1"/>`),c.push(`<text x="${S+H}" y="14"
      text-anchor="${N}"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      font-weight="${r.typography.fontWeightNormal}"
      fill="${r.colors.foreground}">${M}</text>`)}return o&&c.push(`<text x="${i+a/2}" y="28"
      text-anchor="middle"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      font-weight="${r.typography.fontWeightMedium}"
      fill="${r.colors.foreground}">${sn(o)}</text>`),c.join(`
`)}function uv(t,e,r,o,i,a,s=1,c){const f=[],l=typeof r.axis.tickCount=="number"?r.axis.tickCount:Le.DEFAULT_TICK_COUNT,u=gv(t,l,r,s,a,c),h=Rn(r.typography.fontSizeSm),d=cs.EDGE_THRESHOLD,g=y=>y<d?"start":y>a-d?"end":"middle",v=y=>y<d?2:y>a-d?-2:0;f.push(`<line x1="${i}" x2="${i+a}"
    y1="0" y2="0" stroke="${r.colors.border}" stroke-width="1"/>`);for(const y of u){const _=t(y),x=i+_,S=g(_),N=v(_);f.push(`<line x1="${x}" x2="${x}" y1="0" y2="4"
      stroke="${r.colors.border}" stroke-width="1"/>`),f.push(`<text x="${x+N}" y="16" text-anchor="${S}"
      font-family="${r.typography.fontFamily}"
      font-size="${h}px"
      font-weight="${r.typography.fontWeightNormal}"
      fill="${r.colors.secondary}">${Yg(y)}</text>`)}return o&&f.push(`<text x="${i+a/2}" y="28"
      text-anchor="middle"
      font-family="${r.typography.fontFamily}"
      font-size="${h}px"
      font-weight="${r.typography.fontWeightMedium}"
      fill="${r.colors.secondary}">${sn(o)}</text>`),`<g transform="translate(0, ${e.mainY+e.headerHeight+e.plotHeight})">${f.join(`
`)}</g>`}function dv(t,e,r,o,i,a,s,c,f,l){const u=[],h=Rn(a.typography.fontSizeBase),d=a.typography.headerFontScale??1.05,g=Math.round(h*d*100)/100,v=a.typography.fontWeightBold,y=a.typography.fontWeightBold,_=ba(t),x=(S,N)=>S+N/2;if(_){const S=i/2,N=i/2;let H=r;u.push(`<text class="cell-text" x="${H+Le.TEXT_PADDING}" y="${x(o,i)}"
      font-family="${a.typography.fontFamily}"
      font-size="${g}px"
      font-weight="${v}"
      fill="${a.colors.foreground}">${sn(s)}</text>`),H+=c;const M=[];for(const k of t)if(k.isGroup){const w=k.columns.reduce((F,T)=>T.isGroup?F+T.columns.reduce((R,C)=>R+l(C),0):F+l(T),0),E=H+w/2;u.push(`<text class="cell-text" x="${E}" y="${x(o,S)}"
          font-family="${a.typography.fontFamily}"
          font-size="${g}px"
          font-weight="${y}"
          text-anchor="middle"
          fill="${a.colors.foreground}">${sn(k.header)}</text>`),M.push({x1:H,x2:H+w}),H+=w}else{const w=l(k),E=k.headerAlign??k.align,{textX:F,anchor:T}=Ma(H,w,E),R=Uc(k.header,w,g,Le.TEXT_PADDING);u.push(`<text class="cell-text" x="${F}" y="${x(o,i)}"
          font-family="${a.typography.fontFamily}"
          font-size="${g}px"
          font-weight="${v}"
          text-anchor="${T}"
          fill="${a.colors.foreground}">${sn(R)}</text>`),H+=w}for(const k of M)u.push(`<line x1="${k.x1}" x2="${k.x2}"
        y1="${o+S}" y2="${o+S}"
        stroke="${a.colors.border}" stroke-width="1"/>`);H=r+c;for(const k of t)if(k.isGroup){for(const w of k.columns)if(!w.isGroup){const E=l(w),F=w.headerAlign??w.align,{textX:T,anchor:R}=Ma(H,E,F);u.push(`<text class="cell-text" x="${T}" y="${x(o+S,N)}"
              font-family="${a.typography.fontFamily}"
              font-size="${g}px"
              font-weight="${v}"
              text-anchor="${R}"
              fill="${a.colors.foreground}">${sn(w.header)}</text>`),H+=E}}else H+=l(k)}else{let S=r;u.push(`<text class="cell-text" x="${S+Le.TEXT_PADDING}" y="${x(o,i)}"
      font-family="${a.typography.fontFamily}"
      font-size="${g}px"
      font-weight="${v}"
      fill="${a.colors.foreground}">${sn(s)}</text>`),S+=c;for(const N of e){const H=l(N),M=N.headerAlign??N.align,{textX:k,anchor:w}=Ma(S,H,M),E=Uc(N.header,H,g,Le.TEXT_PADDING);u.push(`<text class="cell-text" x="${k}" y="${x(o,i)}"
        font-family="${a.typography.fontFamily}"
        font-size="${g}px"
        font-weight="${v}"
        text-anchor="${w}"
        fill="${a.colors.foreground}">${sn(E)}</text>`),S+=H}}return u.join(`
`)}function hv(t,e,r,o,i,a,s,c,f,l,u,h){var N,H,M,k,w,E,F,T,R,C,L,Z,st,D,$,it,Y,U,lt,J,et,ut,vt,Et,bt,xt,ue,te,Te;const d=[],g=Rn(a.typography.fontSizeBase),v=o+i/2,y=c*Le.INDENT_PER_LEVEL+(((N=t.style)==null?void 0:N.indent)??0)*Le.INDENT_PER_LEVEL,_=(H=t.style)!=null&&H.bold||(M=t.style)!=null&&M.emphasis?a.typography.fontWeightBold:a.typography.fontWeightNormal,x=(k=t.style)!=null&&k.italic?"italic":"normal";let S=a.colors.foreground;if((w=t.style)!=null&&w.color?S=t.style.color:(E=t.style)!=null&&E.muted?S=a.colors.muted:(F=t.style)!=null&&F.accent&&(S=a.colors.accent),d.push(`<text class="cell-text" x="${r+Le.TEXT_PADDING+y}" y="${v}"
    font-family="${a.typography.fontFamily}"
    font-size="${g}px"
    font-weight="${_}"
    font-style="${x}"
    fill="${S}">${sn(t.label)}</text>`),(T=t.style)!=null&&T.badge){const de=String(t.style.badge),mt=g*Er.FONT_SCALE,Ht=mt+Er.PADDING*2,Zt=wa(t.label,g,a.typography.fontFamily,_),qt=r+Le.TEXT_PADDING+y+Zt+Er.GAP,Ae=wa(de,mt,a.typography.fontFamily,a.typography.fontWeightBold)+Er.PADDING*2,Pt=o+(i-Ht)/2;d.push(`<rect x="${qt}" y="${Pt}" width="${Ae}" height="${Ht}"
      rx="3" fill="${a.colors.primary}" opacity="0.15"/>`),d.push(`<text class="cell-text" x="${qt+Ae/2}" y="${Pt+Ht/2}"
      text-anchor="middle"
      font-family="${a.typography.fontFamily}"
      font-size="${mt}px"
      font-weight="${a.typography.fontWeightBold}"
      fill="${a.colors.primary}">${sn(de)}</text>`)}for(let de=0;de<e.length;de++){const mt=e[de],Ht=h[de],Zt=u(mt);if(mt.type==="forest"||mt.type==="viz_bar"||mt.type==="viz_boxplot"||mt.type==="viz_violin")continue;const qt=ev(t,mt),{textX:Ut,anchor:Ae}=Ma(Ht,Zt,mt.align);if(mt.type==="bar"&&typeof t.metadata[mt.field]=="number"){const Pt=t.metadata[mt.field],Gt=f.get(mt.field),Ze=((C=(R=mt.options)==null?void 0:R.bar)==null?void 0:C.maxValue)??Gt??100,Ye=((Z=(L=mt.options)==null?void 0:L.bar)==null?void 0:Z.color)??a.colors.primary,be=a.shapes.pointSize*2,En=Zt-Le.TEXT_PADDING*2-50,Xt=Math.min(Pt/Ze*En,En),Wt=t.style,De=Wt!=null&&Wt.bold||Wt!=null&&Wt.emphasis?a.typography.fontWeightBold:a.typography.fontWeightNormal;d.push(`<rect x="${Ht+Le.TEXT_PADDING}" y="${o+i/2-be/2}"
        width="${Math.max(0,Xt)}" height="${be}"
        fill="${Ye}" opacity="0.7" rx="2"/>`),d.push(`<text class="cell-text" x="${Ht+Zt-Le.TEXT_PADDING}" y="${v}"
        font-family="${a.typography.fontFamily}"
        font-size="${g}px"
        font-weight="${De}"
        text-anchor="end"
        fill="${a.colors.foreground}">${ti(Pt)}</text>`)}else if(mt.type==="sparkline"&&Array.isArray(t.metadata[mt.field])){let Pt=t.metadata[mt.field];Array.isArray(Pt[0])&&(Pt=Pt[0]);const Gt=((D=(st=mt.options)==null?void 0:st.sparkline)==null?void 0:D.height)??16,Ze=((it=($=mt.options)==null?void 0:$.sparkline)==null?void 0:it.color)??a.colors.primary,Ye=Le.TEXT_PADDING*2,be=nv(Pt,Ht+Le.TEXT_PADDING,o+i/2-Gt/2,Zt-Ye,Gt);d.push(`<path d="${be}" fill="none" stroke="${Ze}" stroke-width="1.5"/>`)}else if(mt.type==="badge"){const Pt=t.metadata[mt.field];if(Pt!=null){const Gt=String(Pt),Ze=g*.85,Ye=Ze+8,be=(U=(Y=mt.options)==null?void 0:Y.badge)==null?void 0:U.variants,gn=(J=(lt=mt.options)==null?void 0:lt.badge)==null?void 0:J.colors;let En=a.colors.primary,Xt=a.colors.primary;if(gn&&Gt in gn)En=gn[Gt],Xt=gn[Gt];else if(be&&Gt in be){const kn=be[Gt];En={default:a.colors.primary,...Wi,muted:a.colors.muted}[kn]??a.colors.primary,Xt=En}const De=wa(Gt,Ze,a.typography.fontFamily,a.typography.fontWeightBold)+12,qn=mt.align==="right"?Ht+Zt-Le.TEXT_PADDING-De:mt.align==="center"?Ht+(Zt-De)/2:Ht+Le.TEXT_PADDING,mr=o+(i-Ye)/2;d.push(`<rect x="${qn}" y="${mr}" width="${De}" height="${Ye}"
          rx="${Ye/2}" fill="${En}" opacity="0.15"/>`),d.push(`<text class="cell-text" x="${qn+De/2}" y="${mr+Ye/2}"
          text-anchor="middle"
          font-family="${a.typography.fontFamily}"
          font-size="${Ze}px"
          font-weight="${a.typography.fontWeightBold}"
          fill="${Xt}">${sn(Gt)}</text>`)}}else if(mt.type==="stars"){const Pt=t.metadata[mt.field];if(typeof Pt=="number"){const Gt=((ut=(et=mt.options)==null?void 0:et.stars)==null?void 0:ut.maxStars)??5,Ze=((Et=(vt=mt.options)==null?void 0:vt.stars)==null?void 0:Et.color)??"#f59e0b",Ye=((xt=(bt=mt.options)==null?void 0:bt.stars)==null?void 0:xt.emptyColor)??"#d1d5db",be=Math.max(0,Math.min(Gt,Pt)),gn=Math.floor(be),En=((te=(ue=mt.options)==null?void 0:ue.stars)==null?void 0:te.halfStars)&&be-gn>=.5,Xt=12,Wt=2,De=Gt*Xt+(Gt-1)*Wt;let qn=mt.align==="right"?Ht+Zt-Le.TEXT_PADDING-De:mt.align==="center"?Ht+(Zt-De)/2:Ht+Le.TEXT_PADDING;const mr=o+(i-Xt)/2,kn=(en,vn,$r)=>{const yr=$r/2,Oe=yr*.4;let cn="";for(let Pn=0;Pn<5;Pn++){const ii=(Pn*72-90)*Math.PI/180,O=(Pn*72+36-90)*Math.PI/180,A=en+yr*Math.cos(ii),B=vn+yr*Math.sin(ii),j=en+Oe*Math.cos(O),ht=vn+Oe*Math.sin(O);cn+=(Pn===0?`M${A},${B}`:`L${A},${B}`)+`L${j},${ht}`}return cn+"Z"};for(let en=0;en<Gt;en++){const vn=qn+Xt/2,$r=mr+Xt/2,Oe=en<gn||en===gn&&En?Ze:Ye;d.push(`<path d="${kn(vn,$r,Xt)}" fill="${Oe}"/>`),qn+=Xt+Wt}}}else{const Pt=(Te=t.cellStyles)==null?void 0:Te[mt.field],Gt=t.style;let Ze=a.typography.fontWeightNormal;(Pt!=null&&Pt.bold||Pt!=null&&Pt.emphasis||Gt!=null&&Gt.bold||Gt!=null&&Gt.emphasis)&&(Ze=a.typography.fontWeightBold);let Ye="normal";(Pt!=null&&Pt.italic||Gt!=null&&Gt.italic)&&(Ye="italic");let be=a.colors.foreground;Pt!=null&&Pt.color?be=Pt.color:Pt!=null&&Pt.muted?be=a.colors.muted:Pt!=null&&Pt.accent?be=a.colors.accent:Gt!=null&&Gt.color?be=Gt.color:Gt!=null&&Gt.muted?be=a.colors.muted:Gt!=null&&Gt.accent&&(be=a.colors.accent),d.push(`<text class="cell-text" x="${Ut}" y="${v}"
        font-family="${a.typography.fontFamily}"
        font-size="${g}px"
        font-weight="${Ze}"
        font-style="${Ye}"
        text-anchor="${Ae}"
        fill="${be}">${sn(qt)}</text>`)}}return d.join(`
`)}function gv(t,e,r,o,i,a){if(Array.isArray(r.axis.tickValues)&&r.axis.tickValues.length>0){const[w,E]=t.domain();let F=r.axis.tickValues.filter(C=>C>=w&&C<=E);const T=r.axis.nullTick!==!1,R=o>=w&&o<=E;return T&&R&&!F.includes(o)&&(F=[...F,o].sort((C,L)=>C-L)),F}const[s,c]=t.domain(),f=r.axis.nullTick!==!1,l=o>=s&&o<=c,u=cs.MIN_TICK_SPACING,h=Math.max(2,Math.floor(i/u)),d=Math.min(e,Math.min(7,h)),g=a&&a.length>0?a.filter(w=>w>=s&&w<=c):t.ticks(d);if(g.length===0)return f&&l?[o]:[];const v=t(o),y=g.filter(w=>w<o).reverse(),_=g.filter(w=>w>o),x=g.some(w=>w===o),S=[];let N=v;for(const w of y){const E=t(w);N-E>=u&&(S.unshift(w),N=E)}const H=[];let M=v;for(const w of _){const E=t(w);E-M>=u&&(H.push(w),M=E)}const k=[...S];if((x||f&&l)&&k.push(o),k.push(...H),k.length<2){const w=new Set(k);w.has(s)||k.unshift(s),k.length<2&&!w.has(c)&&k.push(c)}return k}function Is(t,e,r,o,i,a,s,c=1,f=.6){let u=`<line x1="${t}" x2="${t}" y1="${e}" y2="${r}"
    stroke="${i}" stroke-width="${c}" stroke-opacity="${f}" stroke-dasharray="${o==="dashed"?"6,4":o==="dotted"?"2,2":"none"}"/>`;if(s){const h=a.colors.secondary;u+=`<text x="${t}" y="${e-4}" text-anchor="middle"
      font-family="${a.typography.fontFamily}"
      font-size="${a.typography.fontSizeSm}"
      font-weight="${a.typography.fontWeightMedium}"
      fill="${h}">${sn(s)}</text>`}return u}class No extends Error{constructor(e){super(`SVG Generator: ${e}`),this.name="SVGGeneratorError"}}function vv(t){if(!t||typeof t!="object")throw new No("Invalid spec: expected an object");const e=t;if(!e.data||typeof e.data!="object")throw new No("Invalid spec: missing or invalid 'data' property");const r=e.data;if(!Array.isArray(r.rows))throw new No("Invalid spec: 'data.rows' must be an array");if(!e.theme||typeof e.theme!="object")throw new No("Invalid spec: missing or invalid 'theme' property");const o=e.theme;if(!o.colors||typeof o.colors!="object")throw new No("Invalid spec: missing or invalid 'theme.colors'");if(!o.typography||typeof o.typography!="object")throw new No("Invalid spec: missing or invalid 'theme.typography'");if(!o.spacing||typeof o.spacing!="object")throw new No("Invalid spec: missing or invalid 'theme.spacing'")}function pv(t){var a;const r=Ws(t.columns,void 0).find(s=>s.type==="forest");if(!r||!((a=r.options)!=null&&a.forest))return{scale:"linear",nullValue:0,effects:[],axisLabel:"Effect",pointCol:null,lowerCol:null,upperCol:null};const o=r.options.forest,i=o.scale??"linear";return{scale:i,nullValue:o.nullValue??(i==="log"?1:0),effects:o.effects??[],axisLabel:o.axisLabel??"Effect",pointCol:o.point??null,lowerCol:o.lower??null,upperCol:o.upper??null}}function Yc(t,e={}){var T,R,C,L,Z,st;vv(t);const r=t.theme,o=r.spacing.padding,i=Array.isArray(t.columns)?t.columns:[],a=As(i),s=[];for(let D=0;D<a.length;D++)a[D].type==="forest"&&s.push(D);s.length>0;const c=[];for(let D=0;D<a.length;D++){const $=a[D];($.type==="viz_bar"||$.type==="viz_boxplot"||$.type==="viz_violin")&&c.push({index:D,type:$.type,column:$})}const f=pv(t),l=Ug(t,e,f.nullValue),u=l.autoWidths,h=D=>{var it,Y,U,lt,J,et,ut,vt;if(D.type==="forest"){const Et=u.get(D.id);return Et!==void 0?Et:typeof D.width=="number"?D.width:((Y=(it=D.options)==null?void 0:it.forest)==null?void 0:Y.width)??l.forestWidth}if(D.type==="viz_bar"){const Et=u.get(D.id);return Et!==void 0?Et:typeof D.width=="number"?D.width:((lt=(U=D.options)==null?void 0:U.vizBar)==null?void 0:lt.width)??l.forestWidth}if(D.type==="viz_boxplot"){const Et=u.get(D.id);return Et!==void 0?Et:typeof D.width=="number"?D.width:((et=(J=D.options)==null?void 0:J.vizBoxplot)==null?void 0:et.width)??l.forestWidth}if(D.type==="viz_violin"){const Et=u.get(D.id);return Et!==void 0?Et:typeof D.width=="number"?D.width:((vt=(ut=D.options)==null?void 0:ut.vizViolin)==null?void 0:vt.width)??l.forestWidth}const $=u.get(D.id);return $!==void 0?$:typeof D.width=="number"?D.width:kr.DEFAULT_COLUMN_WIDTH},d=[];let g=o+l.labelWidth;for(const D of a)d.push(g),g+=h(D);const v=[];v.push(`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg"
  width="${l.totalWidth}" height="${l.totalHeight}"
  viewBox="0 0 ${l.totalWidth} ${l.totalHeight}">
<style>
  text {
    font-variant-numeric: tabular-nums;
  }
  /* Use dominant-baseline for cell text to match CSS flex centering */
  .cell-text { dominant-baseline: central; }
</style>`);const y=e.backgroundColor??r.colors.background;if(v.push(`<rect width="100%" height="100%" fill="${y}"/>`),r.layout.containerBorder!==!1){const D=r.layout.containerBorderRadius??8;v.push(`<rect x="0.5" y="0.5"
      width="${l.totalWidth-1}" height="${l.totalHeight-1}"
      fill="none" stroke="${r.colors.border}" stroke-width="1"
      rx="${D}" ry="${D}"/>`)}v.push(Kg(t,l,r)),!!((T=t.labels)!=null&&T.subtitle)&&v.push(`<line x1="${o}" x2="${l.totalWidth-o}"
      y1="${l.mainY}" y2="${l.mainY}"
      stroke="${r.colors.border}" stroke-width="2"/>`);const x=l.mainY;v.push(dv(i,a,o,x,l.headerHeight,r,t.data.labelHeader??"Study",l.labelWidth,u,h)),v.push(`<line x1="${o}" x2="${l.totalWidth-o}"
    y1="${x+l.headerHeight}" y2="${x+l.headerHeight}"
    stroke="${r.colors.border}" stroke-width="2"/>`);const S=Xc(t),N=[],H=[];let M=0;for(const D of S){const it=D.type==="data"&&((R=D.row.style)==null?void 0:R.type)==="spacer"?l.rowHeight/2:l.rowHeight;N.push(M),H.push(it),M+=it}const k=l.mainY+l.headerHeight;S.forEach((D,$)=>{var it,Y,U,lt;if(D.type==="data"){const J=D.row,et=k+N[$],ut=H[$];if((it=J.style)!=null&&it.bg)v.push(`<rect x="${o}" y="${et}"
          width="${l.totalWidth-o*2}" height="${ut}"
          fill="${J.style.bg}"/>`);else if(((Y=J.style)==null?void 0:Y.type)==="header")v.push(`<rect x="${o}" y="${et}"
          width="${l.totalWidth-o*2}" height="${ut}"
          fill="${r.colors.muted}" fill-opacity="0.1"/>`);else if(r.layout.banding&&!(((U=J.style)==null?void 0:U.type)==="summary"||((lt=J.style)==null?void 0:lt.type)==="spacer")){const bt=$%2===1?r.colors.altBg:r.colors.rowBg;bt!==r.colors.background&&v.push(`<rect x="${o}" y="${et}"
              width="${l.totalWidth-o*2}" height="${ut}"
              fill="${bt}"/>`)}}});for(const D of s){const $=a[D],it=d[D],Y=h($),U=(C=$.options)==null?void 0:C.forest,lt=(U==null?void 0:U.scale)??"linear",J=(U==null?void 0:U.nullValue)??(lt==="log"?1:0),et=(U==null?void 0:U.axisLabel)??"Effect",ut=lt==="log";let vt=(U==null?void 0:U.effects)??[];const Et=(U==null?void 0:U.point)??null,bt=(U==null?void 0:U.lower)??null,xt=(U==null?void 0:U.upper)??null;vt.length===0&&(Et||bt||xt)&&(vt=[{pointCol:Et,lowerCol:bt,upperCol:xt}]);const ue={scale:lt,nullValue:J,effects:vt,pointCol:(U==null?void 0:U.point)??null,lowerCol:(U==null?void 0:U.lower)??null,upperCol:(U==null?void 0:U.upper)??null},{scale:te,clipBounds:Te,ticks:de}=Zg(t,Y,ue,e),mt=it+te(J);v.push(Is(mt,k,k+l.plotHeight,"dashed",r.colors.muted,r));const Ht=(U==null?void 0:U.annotations)??[];for(const qt of Ht)if(qt.type==="reference_line"){const Ut=it+te(qt.x);v.push(Is(Ut,k,k+l.plotHeight,qt.style,qt.color??r.colors.accent,r,qt.label,qt.width??1,qt.opacity??.6))}const Zt=Array.isArray(t.annotations)?t.annotations:[];for(const qt of Zt)if(qt.type==="reference_line"){const Ut=it+te(qt.x);v.push(Is(Ut,k,k+l.plotHeight,qt.style,qt.color??r.colors.accent,r,qt.label,qt.width??1,qt.opacity??.6))}if(S.forEach((qt,Ut)=>{if(qt.type==="data"){const Ae=k+N[Ut]+H[Ut]/2;v.push(rv(qt.row,Ae,Pt=>it+te(Pt),r,J,vt,t.data.weightCol,it,Y,Te,ut))}}),t.data.overall&&l.showOverallSummary&&typeof t.data.overall.point=="number"&&!Number.isNaN(t.data.overall.point)&&typeof t.data.overall.lower=="number"&&!Number.isNaN(t.data.overall.lower)&&typeof t.data.overall.upper=="number"&&!Number.isNaN(t.data.overall.upper)){const qt=k+l.summaryYPosition;v.push(ov(t.data.overall.point,t.data.overall.lower,t.data.overall.upper,qt,te,it,Y,r))}v.push(uv(te,l,r,et,it,Y,J,de))}const w=t.data.rows;for(const D of c){const $=D.column,it=d[D.index],Y=h($);if(D.type==="viz_bar"){const U=(L=$.options)==null?void 0:L.vizBar;if(!U)continue;const lt=lv(w,U,Y);S.forEach((J,et)=>{if(J.type==="data"){const ut=k+N[et]+H[et]/2,vt=H[et];v.push(iv(J.row,ut,vt,it,Y,U,lt,r))}}),U.showAxis!==!1&&(v.push(`<g transform="translate(0, ${k+l.plotHeight})">`),v.push(Rs(lt,l,r,U.axisLabel,it,Y,U.nullValue)),v.push("</g>"))}else if(D.type==="viz_boxplot"){const U=(Z=$.options)==null?void 0:Z.vizBoxplot;if(!U)continue;const lt=cv(w,U,Y);S.forEach((J,et)=>{if(J.type==="data"){const ut=k+N[et]+H[et]/2,vt=H[et];v.push(av(J.row,ut,vt,it,Y,U,lt,r))}}),U.showAxis!==!1&&(v.push(`<g transform="translate(0, ${k+l.plotHeight})">`),v.push(Rs(lt,l,r,U.axisLabel,it,Y,U.nullValue)),v.push("</g>"))}else if(D.type==="viz_violin"){const U=(st=$.options)==null?void 0:st.vizViolin;if(!U)continue;const lt=fv(w,U,Y);S.forEach((J,et)=>{if(J.type==="data"){const ut=k+N[et]+H[et]/2,vt=H[et];v.push(sv(J.row,ut,vt,it,Y,U,lt,r))}}),U.showAxis!==!1&&(v.push(`<g transform="translate(0, ${k+l.plotHeight})">`),v.push(Rs(lt,l,r,U.axisLabel,it,Y,U.nullValue)),v.push("</g>"))}}const E=l.mainY+l.headerHeight,F=tv(w,a);return S.forEach((D,$)=>{var U,lt,J;const it=E+N[$],Y=H[$];if(D.type==="group_header")v.push(Jg(D.label,D.depth,D.rowCount,o,it,Y,l.totalWidth-o*2,r));else{const et=D.row,ut=D.depth;((U=et.style)==null?void 0:U.type)==="spacer"||v.push(hv(et,a,o,it,Y,r,l.labelWidth,ut,F,u,h,d))}if(D.type==="data"){const et=D.row,ut=((lt=et.style)==null?void 0:lt.type)==="summary",vt=((J=et.style)==null?void 0:J.type)==="spacer";ut&&v.push(`<line x1="${o}" x2="${l.totalWidth-o}"
          y1="${it}" y2="${it}"
          stroke="${r.colors.border}" stroke-width="2"/>`),vt||v.push(`<line x1="${o}" x2="${l.totalWidth-o}"
          y1="${it+Y}" y2="${it+Y}"
          stroke="${r.colors.border}" stroke-width="1"/>`)}else v.push(`<line x1="${o}" x2="${l.totalWidth-o}"
        y1="${it+Y}" y2="${it+Y}"
        stroke="${r.colors.border}" stroke-width="1"/>`)}),v.push(Qg(t,l,r)),v.push("</svg>"),v.join(`
`)}async function mv(t,e=2){return new Promise((r,o)=>{const i=new Image,a=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),s=URL.createObjectURL(a);i.onload=()=>{const c=document.createElement("canvas"),f=c.getContext("2d");if(!f){URL.revokeObjectURL(s),o(new Error("Failed to get canvas context"));return}c.width=i.width*e,c.height=i.height*e,f.scale(e,e),f.drawImage(i,0,0),c.toBlob(l=>{URL.revokeObjectURL(s),l?r(l):o(new Error("Failed to create PNG blob"))},"image/png",1)},i.onerror=()=>{URL.revokeObjectURL(s),o(new Error("Failed to load SVG image"))},i.src=s})}function yv(t,e){return Yc(t,e)}async function _v(t,e,r=2){const o=Yc(t,e);return mv(o,r)}function Zc(t,e){const r=URL.createObjectURL(t),o=document.createElement("a");o.href=r,o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)}function Kc(t){return`forest_plot_${new Date().toISOString().slice(0,19).replace(/[:-]/g,"")}.${t}`}jr[P]="src/components/ui/DownloadButton.svelte";var xv=V(Rt('<svg width="16" height="16" viewBox="0 0 24 24" class="spin svelte-15gslqv"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="31.4" stroke-dashoffset="10"></circle></svg>'),jr[P],[[76,6,[[77,8]]]]),wv=V(Rt('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>'),jr[P],[[80,6,[[81,8],[82,8],[83,8]]]]),bv=V(ft('<div class="download-dropdown svelte-15gslqv"><button class="dropdown-item svelte-15gslqv"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-15gslqv"><rect x="3" y="3" width="18" height="18" rx="2"></rect><text x="12" y="15" text-anchor="middle" font-size="8" fill="currentColor" stroke="none">SVG</text></svg> <span>Download SVG</span></button> <button class="dropdown-item svelte-15gslqv"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-15gslqv"><rect x="3" y="3" width="18" height="18" rx="2"></rect><circle cx="8.5" cy="8.5" r="1.5" fill="currentColor"></circle><path d="M21 15l-5-5L5 21"></path></svg> <span>Download PNG</span></button></div>'),jr[P],[[89,4,[[90,6,[[91,8,[[92,10],[93,10]]],[95,8]]],[97,6,[[98,8,[[99,10],[100,10],[101,10]]],[103,8]]]]]]),Mv=V(ft('<div class="download-button-wrapper svelte-15gslqv"><button class="download-btn svelte-15gslqv" aria-label="Download plot"><!></button> <!></div>'),jr[P],[[66,0,[[67,2]]]]);function jr(t,e){Ee(new.target),_e(e,!0,jr);let r=p(Mt(!1),"dropdownOpen"),o=p(Mt(!1),"isExporting"),i=p(Mt(null),"triggerEl");function a(){at(r,!1)}async function s(){if(e.store.spec)try{at(o,!0);const x=e.store.getExportDimensions(),S=yv(e.store.spec,x),N=new Blob([S],{type:"image/svg+xml;charset=utf-8"});Zc(N,Kc("svg"))}catch(x){console.error(...Xl("error","Failed to export SVG:",x))}finally{at(o,!1),a()}}async function c(){if(e.store.spec)try{at(o,!0);const x=e.store.getExportDimensions(),S=(await cu(_v(e.store.spec,x,2)))();Zc(S,Kc("png"))}catch(x){console.error(...Xl("error","Failed to export PNG:",x))}finally{at(o,!1),a()}}function f(x){x.target.closest(".download-button-wrapper")||a()}var l={...ke()},u=Mv();Gn("click",Xo,f);var h=K(u);h.__click=()=>at(r,!n(r));var d=K(h);{var g=x=>{var S=xv();z(x,S)},v=x=>{var S=wv();z(x,S)};I(()=>X(d,x=>{n(o)?x(g):x(v,!1)}),"if",jr,75,4)}no(h,x=>at(i,x),()=>n(i));var y=rt(h,2);{var _=x=>{var S=bv(),N=K(S);N.__click=s;var H=rt(N,2);H.__click=c,sa(S,(M,k)=>Or==null?void 0:Or(M,k),()=>({triggerEl:n(i)})),tt(()=>{N.disabled=n(o),H.disabled=n(o)}),z(x,S)};I(()=>X(y,x=>{n(r)&&x(_)}),"if",jr,88,2)}return tt(()=>{W(h,"aria-expanded",n(r)),h.disabled=n(o)}),z(t,u),xe(l)}to(["click"]),Sa[P]="src/components/ui/ResetButton.svelte";var Sv=V(ft('<button class="reset-btn svelte-uej7wa" title="Reset view" aria-label="Reset view to default settings"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button>'),Sa[P],[[15,0,[[21,2,[[22,4],[23,4]]]]]]);function Sa(t,e){Ee(new.target),_e(e,!0,Sa);function r(){e.store.resetState()}var o={...ke()},i=Sv();return i.__click=r,z(t,i),xe(o)}to(["click"]),In[P]="src/components/ui/ZoomControls.svelte";var Ev=V(ft('<div class="clamped-note svelte-19w48ay"> </div>'),In[P],[[140,8]]),kv=V(ft('<button class="action-btn svelte-19w48ay" title="Reset to 100% (Cmd 0)"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-19w48ay"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg> Reset to 100%</button>'),In[P],[[147,8,[[152,10,[[153,12],[154,12]]]]]]),Cv=V(ft("<option> </option>"),In[P],[[198,14]]),Tv=V(ft("<option> </option>"),In[P],[[212,14]]),Nv=V(ft('<div class="zoom-dropdown svelte-19w48ay"><div class="zoom-row svelte-19w48ay"><button class="zoom-btn svelte-19w48ay" title="Zoom out (Cmd -)" aria-label="Zoom out"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="5" y1="12" x2="19" y2="12"></line></svg></button> <input type="range" class="zoom-slider svelte-19w48ay" min="50" max="200" step="5" title="Zoom level" aria-label="Zoom level"/> <button class="zoom-btn svelte-19w48ay" title="Zoom in (Cmd +)" aria-label="Zoom in"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg></button> <span class="zoom-value svelte-19w48ay"> </span></div> <!> <!> <div class="divider svelte-19w48ay"></div> <button class="action-btn svelte-19w48ay" title="Fit to container width (Cmd 1)"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-19w48ay"><path d="M21 12H3M21 12l-4-4m4 4l-4 4M3 12l4-4m-4 4l4 4"></path></svg> Fit to width</button> <label class="checkbox-row svelte-19w48ay"><input type="checkbox" class="svelte-19w48ay"/> <span>Auto-fit</span> <span class="checkbox-hint svelte-19w48ay">Shrink if too large</span></label> <div class="divider svelte-19w48ay"></div> <div class="section-label svelte-19w48ay">Max Size</div> <div class="select-row svelte-19w48ay"><label class="svelte-19w48ay"><span class="select-label svelte-19w48ay">Width</span> <select class="svelte-19w48ay"></select></label></div> <div class="select-row svelte-19w48ay"><label class="svelte-19w48ay"><span class="select-label svelte-19w48ay">Height</span> <select class="svelte-19w48ay"></select></label></div></div>'),In[P],[[97,4,[[99,6,[[100,8,[[106,10,[[107,12]]]]],[111,8],[123,8,[[129,10,[[130,12],[131,12]]]]],[135,8]]],[160,6],[163,6,[[168,8,[[169,10]]]]],[175,6,[[176,8],[181,8],[182,8]]],[185,6],[188,6],[190,6,[[191,8,[[192,10],[193,10]]]]],[204,6,[[205,8,[[206,10],[207,10]]]]]]]]),Hv=V(ft('<div class="zoom-controls-wrapper svelte-19w48ay"><button class="zoom-trigger-btn svelte-19w48ay" aria-label="Zoom and display options"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path><path d="M11 8v6"></path><path d="M8 11h6"></path></svg> <span class="zoom-text svelte-19w48ay"> </span></button> <!></div>'),In[P],[[76,0,[[78,2,[[87,4,[[88,6],[89,6],[90,6],[91,6]]],[93,4]]]]]]);function In(t,e){Ee(new.target),_e(e,!0,In);let r=p(Mt(!1),"dropdownOpen"),o=p(Mt(null),"triggerEl");const i=p(m(()=>e.store.zoom),"zoom"),a=p(m(()=>e.store.autoFit),"autoFit"),s=p(m(()=>e.store.actualScale),"actualScale"),c=p(m(()=>e.store.isClamped),"isClamped"),f=p(m(()=>e.store.maxWidth),"maxWidth"),l=p(m(()=>e.store.maxHeight),"maxHeight"),u=p(m(()=>Math.round(n(s)*100)),"displayPercent"),h=p(m(()=>Math.round(n(i)*100)),"zoomPercent"),d=[{value:null,label:"None"},{value:600,label:"600px"},{value:800,label:"800px"},{value:1e3,label:"1000px"},{value:1200,label:"1200px"}],g=[{value:null,label:"None"},{value:400,label:"400px"},{value:600,label:"600px"},{value:800,label:"800px"}];function v(){at(r,!1)}function y(T){const R=T.target;e.store.setZoom(parseFloat(R.value)/100)}function _(T){const R=T.target,C=b(R.value,"null")?null:parseInt(R.value);e.store.setMaxWidth(C)}function x(T){const R=T.target,C=b(R.value,"null")?null:parseInt(R.value);e.store.setMaxHeight(C)}function S(T){T.target.closest(".zoom-controls-wrapper")||v()}var N={...ke()},H=Hv();Gn("click",Xo,S);var M=K(H);M.__click=()=>at(r,!n(r));var k=rt(K(M),2),w=K(k);no(M,T=>at(o,T),()=>n(o));var E=rt(M,2);{var F=T=>{var R=Nv(),C=K(R),L=K(C);L.__click=()=>e.store.zoomOut();var Z=rt(L,2);Z.__change=y;var st=rt(Z,2);st.__click=()=>e.store.zoomIn();var D=rt(st,2),$=K(D),it=rt(C,2);{var Y=mt=>{var Ht=Ev(),Zt=K(Ht);tt(()=>$t(Zt,`Showing ${n(u)??""}% (auto-fit)`)),z(mt,Ht)};I(()=>X(it,mt=>{n(c)&&mt(Y)}),"if",In,139,6)}var U=rt(it,2);{var lt=mt=>{var Ht=kv();Ht.__click=()=>e.store.resetZoom(),z(mt,Ht)};I(()=>X(U,mt=>{b(n(i),1,!1)&&mt(lt)}),"if",In,146,6)}var J=rt(U,4);J.__click=()=>e.store.fitToWidth();var et=rt(J,2),ut=K(et);ut.__change=mt=>e.store.setAutoFit(mt.target.checked);var vt=rt(et,6),Et=K(vt),bt=rt(K(Et),2);bt.__change=_,I(()=>He(bt,21,()=>d,Zn,(mt,Ht)=>{var Zt=Cv(),qt=K(Zt,!0);var Ut={};tt(()=>{$t(qt,n(Ht).label),Ut!==(Ut=b(n(Ht).value,null)?"null":n(Ht).value)&&(Zt.value=(Zt.__value=b(n(Ht).value,null)?"null":n(Ht).value)??"")}),z(mt,Zt)}),"each",In,197,12);var xt;Gl(bt);var ue=rt(vt,2),te=K(ue),Te=rt(K(te),2);Te.__change=x,I(()=>He(Te,21,()=>g,Zn,(mt,Ht)=>{var Zt=Tv(),qt=K(Zt,!0);var Ut={};tt(()=>{$t(qt,n(Ht).label),Ut!==(Ut=b(n(Ht).value,null)?"null":n(Ht).value)&&(Zt.value=(Zt.__value=b(n(Ht).value,null)?"null":n(Ht).value)??"")}),z(mt,Zt)}),"each",In,211,12);var de;Gl(Te),sa(R,(mt,Ht)=>Or==null?void 0:Or(mt,Ht),()=>({triggerEl:n(o)})),tt(()=>{Ol(Z,n(h)),$t($,`${n(h)??""}%`),Ju(ut,n(a)),xt!==(xt=b(n(f),null)?"null":n(f))&&(bt.value=(bt.__value=b(n(f),null)?"null":n(f))??"",ss(bt,b(n(f),null)?"null":n(f))),de!==(de=b(n(l),null)?"null":n(l))&&(Te.value=(Te.__value=b(n(l),null)?"null":n(l))??"",ss(Te,b(n(l),null)?"null":n(l)))}),z(T,R)};I(()=>X(E,T=>{n(r)&&T(F)}),"if",In,96,2)}return tt(()=>{W(M,"aria-expanded",n(r)),W(M,"title",`Zoom: ${n(u)??""}%`),$t(w,`${n(u)??""}%`)}),z(t,H),xe(N)}to(["click","change"]),zn[P]="src/components/ui/ControlToolbar.svelte";var Av=V(ft('<div class="control-toolbar svelte-rjvd17"><!> <!> <!> <!> <!></div>'),zn[P],[[37,0]]);function zn(t,e){Ee(new.target),_e(e,!0,zn);let r=Vn(e,"enableExport",3,!0),o=Vn(e,"enableThemes",3,void 0),i=Vn(e,"enableViewToggle",3,!0),a=Vn(e,"enableZoomControls",3,!0),s=Vn(e,"enableReset",3,!0);const c=p(m(()=>a()&&e.store.showZoomControls),"showZoomControls"),f=p(m(()=>b(o(),null,!1)),"showThemeSwitcher");var l={...ke()},u=Av(),h=K(u);{var d=M=>{I(()=>In(M,{get store(){return e.store}}),"component",zn,39,4,{componentTag:"ZoomControls"})};I(()=>X(h,M=>{n(c)&&M(d)}),"if",zn,38,2)}var g=rt(h,2);{var v=M=>{I(()=>hr(M,{get store(){return e.store},get availableThemes(){return o()},get onThemeChange(){return e.onThemeChange}}),"component",zn,42,4,{componentTag:"ThemeSwitcher"})};I(()=>X(g,M=>{n(f)&&M(v)}),"if",zn,41,2)}var y=rt(g,2);{var _=M=>{I(()=>To(M,{get store(){return e.store}}),"component",zn,45,4,{componentTag:"ViewToggle"})};I(()=>X(y,M=>{i()&&M(_)}),"if",zn,44,2)}var x=rt(y,2);{var S=M=>{I(()=>Sa(M,{get store(){return e.store}}),"component",zn,48,4,{componentTag:"ResetButton"})};I(()=>X(x,M=>{s()&&M(S)}),"if",zn,47,2)}var N=rt(x,2);{var H=M=>{I(()=>jr(M,{get store(){return e.store}}),"component",zn,51,4,{componentTag:"DownloadButton"})};I(()=>X(N,M=>{r()&&M(H)}),"if",zn,50,2)}return z(t,u),xe(l)}io[P]="src/components/viz/VizBar.svelte";var Wv=V(Rt('<rect rx="2" class="bar-segment svelte-1pgs700"></rect>'),io[P],[[107,8]]),Rv=V(Rt('<g class="viz-bar-row svelte-1pgs700"></g>'),io[P],[[96,2]]);function io(t,e){Ee(new.target),_e(e,!0,io);const r=p(m(()=>{var _,x,S,N;if(e.sharedScale)return e.sharedScale;const d=b(e.options.scale,"log"),g=((x=(_=e.theme)==null?void 0:_.spacing)==null?void 0:x.padding)??12;let v=((S=e.options.axisRange)==null?void 0:S[0])??0,y=((N=e.options.axisRange)==null?void 0:N[1])??100;if(!e.options.axisRange){const H=[];for(const M of e.options.effects){const k=e.row.metadata[M.value];ge(k,null,!1)&&!Number.isNaN(k)&&H.push(k)}H.length>0&&(v=Math.min(0,...H),y=Math.max(...H)*1.1)}return d?Gr().domain([Math.max(.01,v),y]).range([g,e.width-g]):er().domain([v,y]).range([g,e.width-g])}),"xScale"),o=p(m(()=>{const d=e.options.effects.length,g=e.rowHeight*.7,v=d>1?2:0,y=(g-v*(d-1))/d;return{barHeight:Math.max(4,y),barGap:v,totalHeight:g}}),"barConfig"),i=p(m(()=>{var d,g;return((g=(d=e.theme)==null?void 0:d.shapes)==null?void 0:g.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function a(d,g){return d.color??n(i)[g%n(i).length]}function s(d){return d.opacity??.85}const c=p(m(()=>e.options.effects.some(d=>{const g=e.row.metadata[d.value];return ge(g,null,!1)&&!Number.isNaN(g)})),"hasValidData");var f={...ke()},l=Ct(),u=yt(l);{var h=d=>{var g=Rv();I(()=>He(g,21,()=>e.options.effects,Zn,(v,y,_)=>{const x=p(m(()=>e.row.metadata[n(y).value]),"value");n(x);var S=Ct(),N=yt(S);{var H=M=>{const k=p(m(()=>e.yPosition-n(o).totalHeight/2+_*(n(o).barHeight+n(o).barGap)),"barY");n(k);const w=p(m(()=>n(r)(Math.min(0,n(x)))),"barX");n(w);const E=p(m(()=>Math.abs(n(r)(n(x))-n(r)(0))),"barWidth");n(E);const F=p(m(()=>a(n(y),_)),"color");n(F);const T=p(m(()=>s(n(y))),"opacity");n(T);var R=Wv();tt(C=>{W(R,"x",n(w)),W(R,"y",n(k)),W(R,"width",C),W(R,"height",n(o).barHeight),W(R,"fill",n(F)),W(R,"fill-opacity",n(T))},[()=>Math.max(1,n(E))]),z(M,R)};I(()=>X(N,M=>{ge(n(x),null,!1)&&!Number.isNaN(n(x))&&M(H)}),"if",io,100,6)}z(v,S)}),"each",io,98,4),z(d,g)};I(()=>X(u,d=>{n(c)&&d(h)}),"if",io,95,0)}return z(t,l),xe(f)}vr[P]="src/components/viz/VizBoxplot.svelte";var Iv=V(Rt('<circle r="2.5" fill="none" stroke-width="1.5" class="outlier svelte-5apth9"></circle>'),vr[P],[[210,12]]),zv=V(Rt('<line stroke-width="1"></line><line stroke-width="1"></line><line stroke-width="1"></line><line stroke-width="1"></line><rect stroke-width="1" class="box-rect svelte-5apth9"></rect><line stroke-width="2"></line><!>',1),vr[P],[[147,10],[156,10],[166,10],[175,10],[185,8],[198,8]]),Fv=V(Rt('<g class="viz-boxplot-row svelte-5apth9"></g>'),vr[P],[[135,2]]);function vr(t,e){Ee(new.target),_e(e,!0,vr);const r=p(m(()=>e.options.effects.map(g=>{if(g.data){const v=e.row.metadata[g.data];return!v||!Array.isArray(v)||b(v.length,0)?null:xa(v)}if(g.min&&g.q1&&g.median&&g.q3&&g.max){const v=e.row.metadata[g.min],y=e.row.metadata[g.q1],_=e.row.metadata[g.median],x=e.row.metadata[g.q3],S=e.row.metadata[g.max];if([v,y,_,x,S].some(H=>ge(H,null)||Number.isNaN(H)))return null;let N=[];if(g.outliers){const H=e.row.metadata[g.outliers];H&&Array.isArray(H)&&(N=H)}return{min:v,q1:y,median:_,q3:x,max:S,outliers:N}}return null})),"effectStats"),o=p(m(()=>n(r).some(g=>b(g,null,!1))),"hasValidData"),i=p(m(()=>{var x,S,N,H;if(e.sharedScale)return e.sharedScale;const g=b(e.options.scale,"log"),v=((S=(x=e.theme)==null?void 0:x.spacing)==null?void 0:S.padding)??12;let y=(N=e.options.axisRange)==null?void 0:N[0],_=(H=e.options.axisRange)==null?void 0:H[1];if(ge(y,null)||ge(_,null)){const M=[];for(const k of n(r))k&&(M.push(k.min,k.max),b(e.options.showOutliers,!1,!1)&&M.push(...k.outliers));if(M.length>0){const k=Math.min(...M),w=Math.max(...M),E=w-k;y=y??k-E*.05,_=_??w+E*.05}else y=y??0,_=_??100}return g?Gr().domain([Math.max(.01,y),_]).range([v,e.width-v]):er().domain([y,_]).range([v,e.width-v])}),"xScale"),a=p(m(()=>{const g=e.options.effects.length,v=e.rowHeight*.7,y=(v-(g-1)*2)/g;return{boxHeight:Math.max(8,y),boxGap:g>1?2:0,totalHeight:v}}),"boxConfig"),s=p(m(()=>{var g,v;return((v=(g=e.theme)==null?void 0:g.shapes)==null?void 0:v.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function c(g,v){return g.color??n(s)[v%n(s).length]}function f(g){return g.fillOpacity??.7}var l={...ke()},u=Ct(),h=yt(u);{var d=g=>{var v=Fv();I(()=>He(v,21,()=>e.options.effects,Zn,(y,_,x)=>{const S=p(m(()=>n(r)[x]),"stats");n(S);var N=Ct(),H=yt(N);{var M=k=>{const w=p(m(()=>e.yPosition-n(a).totalHeight/2+x*(n(a).boxHeight+n(a).boxGap)),"boxY");n(w);const E=p(m(()=>n(w)+n(a).boxHeight/2),"boxCenterY");n(E);const F=p(m(()=>c(n(_),x)),"color");n(F);const T=p(m(()=>f(n(_))),"opacity");n(T);const R=p(m(()=>{var lt;return((lt=e.theme)==null?void 0:lt.colors.foreground)??"#1a1a1a"}),"lineColor");n(R);var C=zv(),L=yt(C),Z=rt(L),st=rt(Z),D=rt(st),$=rt(D),it=rt($),Y=rt(it);{var U=lt=>{var J=Ct(),et=yt(J);I(()=>He(et,17,()=>n(S).outliers,Zn,(ut,vt)=>{var Et=Iv();tt(bt=>{W(Et,"cx",bt),W(Et,"cy",n(E)),W(Et,"stroke",n(F))},[()=>n(i)(n(vt))]),z(ut,Et)}),"each",vr,209,10),z(lt,J)};I(()=>X(Y,lt=>{b(e.options.showOutliers,!1,!1)&&n(S).outliers.length>0&&lt(U)}),"if",vr,208,8)}tt((lt,J,et,ut,vt,Et,bt,xt,ue,te,Te,de)=>{W(L,"x1",lt),W(L,"x2",J),W(L,"y1",n(E)),W(L,"y2",n(E)),W(L,"stroke",n(R)),W(Z,"x1",et),W(Z,"x2",ut),W(Z,"y1",n(E)-n(a).boxHeight/4),W(Z,"y2",n(E)+n(a).boxHeight/4),W(Z,"stroke",n(R)),W(st,"x1",vt),W(st,"x2",Et),W(st,"y1",n(E)),W(st,"y2",n(E)),W(st,"stroke",n(R)),W(D,"x1",bt),W(D,"x2",xt),W(D,"y1",n(E)-n(a).boxHeight/4),W(D,"y2",n(E)+n(a).boxHeight/4),W(D,"stroke",n(R)),W($,"x",ue),W($,"y",n(w)),W($,"width",te),W($,"height",n(a).boxHeight),W($,"fill",n(F)),W($,"fill-opacity",n(T)),W($,"stroke",n(R)),W(it,"x1",Te),W(it,"x2",de),W(it,"y1",n(w)),W(it,"y2",n(w)+n(a).boxHeight),W(it,"stroke",n(R))},[()=>n(i)(n(S).min),()=>n(i)(n(S).q1),()=>n(i)(n(S).min),()=>n(i)(n(S).min),()=>n(i)(n(S).q3),()=>n(i)(n(S).max),()=>n(i)(n(S).max),()=>n(i)(n(S).max),()=>n(i)(n(S).q1),()=>Math.max(2,n(i)(n(S).q3)-n(i)(n(S).q1)),()=>n(i)(n(S).median),()=>n(i)(n(S).median)]),z(k,C)};I(()=>X(H,k=>{n(S)&&k(M)}),"if",vr,138,6)}z(y,N)}),"each",vr,136,4),z(g,v)};I(()=>X(h,g=>{n(o)&&g(d)}),"if",vr,134,0)}return z(t,u),xe(l)}nr[P]="src/components/viz/VizViolin.svelte";var Pv=V(Rt('<line stroke-width="2"></line>'),nr[P],[[165,10]]),Lv=V(Rt('<line stroke-width="1" stroke-dasharray="2,2"></line><line stroke-width="1" stroke-dasharray="2,2"></line>',1),nr[P],[[179,10],[188,10]]),Dv=V(Rt('<path stroke-width="0.5" class="violin-path svelte-1ywbnva"></path><!><!>',1),nr[P],[[153,8]]),Bv=V(Rt('<g class="viz-violin-row svelte-1ywbnva"></g>'),nr[P],[[140,2]]);function nr(t,e){Ee(new.target),_e(e,!0,nr);const r=p(m(()=>e.options.effects.map(y=>{const _=e.row.metadata[y.data];return!_||!Array.isArray(_)||_.length<2?null:Vc(_,e.options.bandwidth)})),"effectKDEs"),o=p(m(()=>e.options.effects.map(y=>{const _=e.row.metadata[y.data];return!_||!Array.isArray(_)||_.length<2?null:Gc(_)})),"effectQuartiles"),i=p(m(()=>n(r).some(y=>b(y,null,!1))),"hasValidData"),a=p(m(()=>{var N,H,M,k;if(e.sharedScale)return e.sharedScale;const y=b(e.options.scale,"log"),_=((H=(N=e.theme)==null?void 0:N.spacing)==null?void 0:H.padding)??12;let x=(M=e.options.axisRange)==null?void 0:M[0],S=(k=e.options.axisRange)==null?void 0:k[1];if(ge(x,null)||ge(S,null)){const w=[];for(const E of n(r))E&&E.x.length>0&&w.push(...E.x);w.length>0?(x=x??Math.min(...w),S=S??Math.max(...w)):(x=x??0,S=S??100)}return y?Gr().domain([Math.max(.01,x),S]).range([_,e.width-_]):er().domain([x,S]).range([_,e.width-_])}),"xScale"),s=p(m(()=>{const y=e.options.effects.length,_=e.rowHeight*.8,x=(_-(y-1)*2)/y;return{maxWidth:x/2,violinHeight:Math.max(10,x),gap:y>1?2:0,totalHeight:_}}),"violinConfig"),c=p(m(()=>{var y,_;return((_=(y=e.theme)==null?void 0:y.shapes)==null?void 0:_.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function f(y,_){return y.color??n(c)[_%n(c).length]}function l(y){return y.fillOpacity??.5}function u(y,_,x){if(y.x.length<2)return"";const S=Oc(y,x),N=[];for(let H=0;H<S.x.length;H++){const M=n(a)(S.x[H]),k=_-S.y[H];N.push(b(H,0)?`M ${M} ${k}`:`L ${M} ${k}`)}for(let H=S.x.length-1;H>=0;H--){const M=n(a)(S.x[H]),k=_+S.y[H];N.push(`L ${M} ${k}`)}return N.push("Z"),N.join(" ")}var h={...ke()},d=Ct(),g=yt(d);{var v=y=>{var _=Bv();I(()=>He(_,21,()=>e.options.effects,Zn,(x,S,N)=>{const H=p(m(()=>n(r)[N]),"kde");n(H);const M=p(m(()=>n(o)[N]),"quartiles");n(M);var k=Ct(),w=yt(k);{var E=F=>{const T=p(m(()=>e.yPosition-n(s).totalHeight/2+n(s).violinHeight/2+N*(n(s).violinHeight+n(s).gap)),"violinCenterY");n(T);const R=p(m(()=>f(n(S),N)),"color");n(R);const C=p(m(()=>l(n(S))),"opacity");n(C);const L=p(m(()=>u(n(H),n(T),n(s).maxWidth)),"path");n(L);const Z=p(m(()=>{var lt;return((lt=e.theme)==null?void 0:lt.colors.foreground)??"#1a1a1a"}),"lineColor");n(Z);var st=Dv(),D=yt(st),$=rt(D);{var it=lt=>{const J=p(m(()=>n(a)(n(M).median)),"medianX");n(J);var et=Pv();tt(()=>{W(et,"x1",n(J)),W(et,"x2",n(J)),W(et,"y1",n(T)-n(s).maxWidth*.6),W(et,"y2",n(T)+n(s).maxWidth*.6),W(et,"stroke",n(Z))}),z(lt,et)};I(()=>X($,lt=>{b(e.options.showMedian,!1,!1)&&n(M)&&lt(it)}),"if",nr,163,8)}var Y=rt($);{var U=lt=>{const J=p(m(()=>n(a)(n(M).q1)),"q1X");n(J);const et=p(m(()=>n(a)(n(M).q3)),"q3X");n(et);var ut=Lv(),vt=yt(ut),Et=rt(vt);tt(()=>{W(vt,"x1",n(J)),W(vt,"x2",n(J)),W(vt,"y1",n(T)-n(s).maxWidth*.4),W(vt,"y2",n(T)+n(s).maxWidth*.4),W(vt,"stroke",n(Z)),W(Et,"x1",n(et)),W(Et,"x2",n(et)),W(Et,"y1",n(T)-n(s).maxWidth*.4),W(Et,"y2",n(T)+n(s).maxWidth*.4),W(Et,"stroke",n(Z))}),z(lt,ut)};I(()=>X(Y,lt=>{e.options.showQuartiles&&n(M)&&lt(U)}),"if",nr,176,8)}tt(()=>{W(D,"d",n(L)),W(D,"fill",n(R)),W(D,"fill-opacity",n(C)),W(D,"stroke",n(Z))}),z(F,st)};I(()=>X(w,F=>{n(H)&&n(H).x.length>=2&&F(E)}),"if",nr,144,6)}z(x,k)}),"each",nr,141,4),z(y,_)};I(()=>X(g,y=>{n(i)&&y(v)}),"if",nr,139,0)}return z(t,d),xe(h)}G[P]="src/lib/ForestPlot.svelte";function Gv(t,e){var o,i;if((i=(o=e.options)==null?void 0:o.bar)!=null&&i.maxValue)return e.options.bar.maxValue;let r=0;for(const a of t){const s=a.metadata[e.field];b(typeof s,"number")&&s>r&&(r=s)}return r||100}function Vv(t,e,r){const o=[],i=b(t==null?void 0:t.type,"header")||b(t==null?void 0:t.type,"summary")||b(t==null?void 0:t.type,"spacer");return b(t==null?void 0:t.type,"header")&&o.push("row-header"),b(t==null?void 0:t.type,"summary")&&o.push("row-summary"),t!=null&&t.bold&&o.push("row-bold"),t!=null&&t.italic&&o.push("row-italic"),t!=null&&t.emphasis&&o.push("row-emphasis"),t!=null&&t.muted&&o.push("row-muted"),t!=null&&t.accent&&o.push("row-accent"),!i&&r&&b(e,void 0,!1)&&b(e%2,1)&&o.push("row-odd"),o.join(" ")}function Ov(t,e){const r=[];return t!=null&&t.color&&r.push(`color: ${t.color}`),t!=null&&t.bg&&r.push(`background-color: ${t.bg}`),t!=null&&t.indent&&r.push(`--row-indent: ${t.indent}`),!(t!=null&&t.indent)&&e&&e>0&&r.push(`--row-indent: ${e}`),r.join("; ")}function jv(t,e){var r;if((r=t.cellStyles)!=null&&r[e.field])return t.cellStyles[e.field];if(e.styleMapping){const o={},i=t.metadata;if(e.styleMapping.bold&&i[e.styleMapping.bold]&&(o.bold=!!i[e.styleMapping.bold]),e.styleMapping.italic&&i[e.styleMapping.italic]&&(o.italic=!!i[e.styleMapping.italic]),e.styleMapping.color&&i[e.styleMapping.color]&&(o.color=String(i[e.styleMapping.color])),e.styleMapping.bg&&i[e.styleMapping.bg]&&(o.bg=String(i[e.styleMapping.bg])),e.styleMapping.badge&&i[e.styleMapping.badge]&&(o.badge=String(i[e.styleMapping.badge])),e.styleMapping.icon&&i[e.styleMapping.icon]&&(o.icon=String(i[e.styleMapping.icon])),Object.keys(o).length>0)return o}}var qv=V(ft('<div class="resize-handle svelte-14l8yxx"></div>'),G[P],[[943,12]]),Xv=V(ft('<div class="grid-cell header-cell column-group-header svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span></div>'),G[P],[[954,12,[[959,14]]]]),$v=V(ft('<span class="header-text svelte-14l8yxx"> </span>'),G[P],[[980,16]]),Uv=V(ft('<div class="resize-handle svelte-14l8yxx"></div>'),G[P],[[984,16]]),Yv=V(ft('<div class="grid-cell header-cell plot-header svelte-14l8yxx"><!> <!></div>'),G[P],[[973,12]]),Zv=V(ft('<div class="resize-handle svelte-14l8yxx"></div>'),G[P],[[1002,16]]),Kv=V(ft('<div class="grid-cell header-cell svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span> <!></div>'),G[P],[[993,12,[[999,14]]]]),Qv=V(ft('<span class="row-icon svelte-14l8yxx"> </span>'),G[P],[[1049,35]]),Jv=V(ft('<span class="row-badge svelte-14l8yxx"> </span>'),G[P],[[1051,36]]),tp=V(ft("<!> <!>",1),G[P],[]),ep=V(ft("<div></div>"),G[P],[[1059,14]]),np=V(ft("<div><!></div>"),G[P],[[1074,14]]),rp=V(ft("<div><!></div> <!>",1),G[P],[[1024,10]]),op=V(ft('<div class="grid-cell axis-cell svelte-14l8yxx"></div>'),G[P],[[1102,14]]),ip=V(ft('<div class="grid-cell axis-spacer svelte-14l8yxx"></div>'),G[P],[[1104,14]]),ap=V(ft('<!> <div class="grid-cell axis-spacer svelte-14l8yxx"></div>',1),G[P],[[1108,10]]),sp=V(Rt('<text text-anchor="middle" font-size="var(--wf-font-size-sm)" font-weight="500" class="svelte-14l8yxx"> </text>'),G[P],[[1159,18]]),lp=V(Rt('<line class="svelte-14l8yxx"></line><!>',1),G[P],[[1147,16]]),cp=V(Rt('<g class="svelte-14l8yxx"><!></g>'),G[P],[[1220,14]]),fp=V(Rt('<svg class="plot-overlay svelte-14l8yxx"><line stroke="var(--wf-muted)" stroke-width="1" stroke-dasharray="4,4" class="svelte-14l8yxx"></line><!><!><!><!></svg>'),G[P],[[1122,10,[[1131,12]]]]),up=V(Rt('<g class="svelte-14l8yxx"><!></g>'),G[P],[[1263,16]]),dp=V(Rt('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),G[P],[[1236,12]]),hp=V(Rt('<g class="svelte-14l8yxx"><!></g>'),G[P],[[1316,16]]),gp=V(Rt('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),G[P],[[1289,12]]),vp=V(Rt('<g class="svelte-14l8yxx"><!></g>'),G[P],[[1369,16]]),pp=V(Rt('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),G[P],[[1342,12]]),mp=V(ft('<!> <div class="tabviz-scalable svelte-14l8yxx"><!>  <div><div class="grid-cell header-cell label-header svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span> <!></div> <!> <!> <!> <!> <!> <!> <!></div> <!></div> <!>',1),G[P],[[857,4,[[932,6,[[935,8,[[940,10]]]]]]]]),yp=V(ft('<div class="tabviz-empty svelte-14l8yxx">No data</div>'),G[P],[[1394,4]]),_p=V(ft("<div><!></div>"),G[P],[[842,0]]);function G(t,e){Ee(new.target),_e(e,!0,G);const r=p(m(()=>e.store.spec),"spec"),o=p(m(()=>e.store.visibleRows),"visibleRows"),i=p(m(()=>e.store.displayRows),"displayRows"),a=p(m(()=>e.store.layout),"layout"),s=p(m(()=>e.store.xScale),"xScale"),c=p(m(()=>e.store.axisComputation),"axisComputation"),f=p(m(()=>n(c).axisLimits),"clipBounds"),l=p(m(()=>{var A;return(A=n(r))==null?void 0:A.theme}),"theme"),u=p(m(()=>{var A,B;return((B=(A=n(l))==null?void 0:A.layout)==null?void 0:B.banding)??!1}),"bandingEnabled"),h=p(m(()=>e.store.allColumns),"allColumns"),d=p(m(()=>e.store.allColumnDefs),"allColumnDefs"),g=p(m(()=>e.store.forestColumns),"forestColumns");p(m(()=>n(g).length>0),"hasForestColumns");const v=p(m(()=>e.store.vizColumns),"vizColumns"),y=p(m(()=>n(v).length>0),"hasVizColumns"),_=p(m(()=>{var A;return((A=n(r))==null?void 0:A.data.labelHeader)||"Study"}),"labelHeader"),x=p(m(()=>{var A,B,j,ht;return!!((B=(A=n(r))==null?void 0:A.labels)!=null&&B.title)||!!((ht=(j=n(r))==null?void 0:j.labels)!=null&&ht.subtitle)}),"hasPlotHeader"),S=p(m(()=>{var A,B;return!!((B=(A=n(r))==null?void 0:A.labels)!=null&&B.subtitle)}),"hasSubtitle");p(m(()=>n(d).some(A=>A.isGroup)),"hasColumnGroups");const N=p(m(()=>e.store.tooltipRow),"tooltipRow"),H=p(m(()=>e.store.tooltipPosition),"tooltipPosition"),M=p(m(()=>e.store.selectedRowIds),"selectedRowIds"),k=p(m(()=>e.store.hoveredRowId),"hoveredRowId"),w=p(m(()=>e.store.zoom),"zoom"),E=p(m(()=>e.store.autoFit),"autoFit"),F=p(m(()=>e.store.actualScale),"actualScale"),T=p(m(()=>e.store.maxWidth),"maxWidth"),R=p(m(()=>e.store.maxHeight),"maxHeight");p(m(()=>e.store.showZoomControls),"showZoomControls");const C=p(m(()=>({...e.store.columnWidths})),"columnWidthsSnapshot");let L=p(Mt(void 0),"containerRef"),Z=p(Mt(void 0),"scalableRef"),st=p(Mt(0),"containerContentWidth"),D=p(Mt(0),"scalableNaturalWidth"),$=p(Mt(0),"scalableNaturalHeight");p(m(()=>e.store.naturalContentWidth),"naturalContentWidth");const it=p(m(()=>n(D)*n(F)),"scaledWidth"),Y=p(m(()=>n($)*n(F)),"scaledHeight"),U=p(m(()=>{if(!n(E)||n(st)<=0||n(it)<=0)return 0;const A=(n(st)-n(it))/2;return Math.max(0,A)}),"centeringMargin");Si(()=>{if(!n(L)||!n(Z))return;n(L).id&&e.store.setContainerElementId(n(L).id);const A=new ResizeObserver(B=>{for(const j of B)b(j.target,n(L))?(at(st,j.contentRect.width,!0),e.store.setContainerDimensions(j.contentRect.width,j.contentRect.height)):b(j.target,n(Z))&&(at(D,j.contentRect.width,!0),at($,j.contentRect.height,!0),e.store.setScalableNaturalDimensions(j.contentRect.width,j.contentRect.height))});return A.observe(n(L)),A.observe(n(Z)),()=>{A.disconnect()}});const lt=p(m(()=>{var A,B;return b((B=(A=n(r))==null?void 0:A.interaction)==null?void 0:B.enableExport,!1,!1)}),"enableExport"),J=p(m(()=>{var A,B;return(B=(A=n(r))==null?void 0:A.interaction)==null?void 0:B.enableThemes}),"enableThemes");function et(A){var B;if(!(!A.metaKey&&!A.ctrlKey)&&!b((B=A.target)==null?void 0:B.tagName,"INPUT"))switch(A.key){case"=":case"+":A.preventDefault(),e.store.zoomIn();break;case"-":A.preventDefault(),e.store.zoomOut();break;case"0":A.preventDefault(),e.store.resetZoom();break;case"1":A.preventDefault(),e.store.fitToWidth();break}}const ut=p(m(()=>{var ht;const A=[],B=[];let j=0;for(const Dt of n(i)){const Tt=b(Dt.type,"data")&&b((ht=Dt.row.style)==null?void 0:ht.type,"spacer")?n(a).rowHeight/2:n(a).rowHeight;A.push(j),B.push(Tt),j+=Tt}return{positions:A,heights:B,totalHeight:j}}),"rowLayout"),vt=p(m(()=>n(ut).totalHeight),"rowsAreaHeight");function Et(A){const B=A.filter(Tt=>b(Tt.type,"reference_line")&&Tt.label).map(Tt=>({id:Tt.id,x:n(s)(Tt.x),label:Tt.label})).sort((Tt,At)=>Tt.x-At.x),j={},ht=120,Dt=-18;for(let Tt=0;Tt<B.length;Tt++){const At=B[Tt];if(j[At.id]=0,Tt>0){const St=B[Tt-1];At.x-St.x<ht&&(j[At.id]=b(j[St.id],0)?Dt:0)}}return j}function bt(A){return n(M).has(A)}function xt(A,B){return b(A.type,"group_header")?`group_${A.group.id}`:A.row.id}function ue(A){return A.isGroup?A.columns.reduce((B,j)=>B+ue(j),0):1}function te(A){let B=0;for(const j of A)if(j.isGroup){const ht=1+te(j.columns);B=Math.max(B,ht)}return B}function Te(A,B){var ie,ee;const j=B==null?void 0:B.groupHeaders,ht=((ie=B==null?void 0:B.colors)==null?void 0:ie.primary)??"#0891b2",Dt=((ee=B==null?void 0:B.colors)==null?void 0:ee.background)??"#ffffff";if(b(A,1)&&(j!=null&&j.level1Background))return j.level1Background;if(b(A,2)&&(j!=null&&j.level2Background))return j.level2Background;if(A>=3&&(j!=null&&j.level3Background))return j.level3Background;const At=[.15,.1,.06][Math.min(A-1,2)],St=le=>{const ct=le.replace("#","");return{r:parseInt(ct.substring(0,2),16),g:parseInt(ct.substring(2,4),16),b:parseInt(ct.substring(4,6),16)}},Vt=St(ht),re=St(Dt),Kt=(le,ct)=>Math.round(le*At+ct*(1-At)),Xe=Kt(Vt.r,re.r),jt=Kt(Vt.g,re.g),$e=Kt(Vt.b,re.b);return`rgb(${Xe}, ${jt}, ${$e})`}const de=p(m(()=>Math.max(1,1+te(n(d)))),"headerDepth"),mt=p(m(()=>{const A=[];let B=2;function j(ht,Dt){const Tt=ue(ht),At=B;if(ht.isGroup){A.push({col:ht,gridColumnStart:At,colspan:Tt,rowStart:Dt+1,rowSpan:1,isGroupHeader:!0,isForest:!1});for(const St of ht.columns)j(St,Dt+1)}else{const St=!ht.isGroup&&Zt.includes(ht.type);A.push({col:ht,gridColumnStart:At,colspan:1,rowStart:Dt+1,rowSpan:n(de)-Dt,isGroupHeader:!1,isForest:St}),B++}}for(const ht of n(d))j(ht,0);return A}),"headerCells");function Ht(A){const B=n(C)[A.id];return b(typeof B,"number")?`${B}px`:b(typeof A.width,"number")?`${A.width}px`:"max-content"}const Zt=["forest","viz_bar","viz_boxplot","viz_violin"],qt=p(m(()=>{var j,ht,Dt,Tt,At,St,Vt,re;const A=[],B=n(C).__label__;A.push(B?`${B}px`:"max-content");for(const Kt of n(h))if(Zt.includes(Kt.type)){const Xe=n(C)[Kt.id];let jt;b(typeof Xe,"number")?jt=Xe:b(typeof Kt.width,"number")?jt=Kt.width:b(Kt.type,"forest")?jt=((ht=(j=Kt.options)==null?void 0:j.forest)==null?void 0:ht.width)??n(a).forestWidth:b(Kt.type,"viz_bar")?jt=((Tt=(Dt=Kt.options)==null?void 0:Dt.vizBar)==null?void 0:Tt.width)??n(a).forestWidth:b(Kt.type,"viz_boxplot")?jt=((St=(At=Kt.options)==null?void 0:At.vizBoxplot)==null?void 0:St.width)??n(a).forestWidth:b(Kt.type,"viz_violin")?jt=((re=(Vt=Kt.options)==null?void 0:Vt.vizViolin)==null?void 0:re.width)??n(a).forestWidth:jt=n(a).forestWidth,A.push(`${jt}px`)}else A.push(Ht(Kt));return A.join(" ")}),"gridTemplateColumns");p(m(()=>1+n(h).length),"totalColumns");const Ut=p(m(()=>{const A=[];for(let B=0;B<n(h).length;B++)Zt.includes(n(h)[B].type)&&A.push({gridCol:2+B,column:n(h)[B]});return A}),"vizColumnGridIndices");n(Ut);let Ae=p(Mt(lr(new Map)),"forestColumnRefs"),Pt=p(Mt(lr(new Map)),"forestColumnPositions"),Gt=p(Mt(void 0),"labelHeaderRef"),Ze=p(Mt(0),"measuredHeaderHeight");Si(()=>{n(C),n(a).forestWidth,n(de),Wu().then(()=>{const A=new Map;for(const[B,j]of n(Ae))j&&A.set(B,j.offsetLeft);at(Pt,A,!0),n(Gt)&&at(Ze,n(Gt).offsetHeight,!0)})});function Ye(A,B){return n(Ae).set(B,A),at(Ae,new Map(n(Ae)),!0),{destroy(){n(Ae).delete(B),at(Ae,new Map(n(Ae)),!0)}}}const be=p(m(()=>n(Ze)>0?n(Ze):n(a).headerHeight),"actualHeaderHeight"),gn=p(m(()=>{var j,ht,Dt,Tt,At,St,Vt,re,Kt;const A=new Map,B=Nn;for(const Xe of n(v)){const jt=Xe.column,$e=B;if(b(jt.type,"viz_bar")){const ie=(j=jt.options)==null?void 0:j.vizBar;if(!ie)continue;const ee=n(C)[jt.id],le=b(typeof ee,"number")?ee:b(typeof jt.width,"number")?jt.width:ie.width??n(a).forestWidth;let ct=(ht=ie.axisRange)==null?void 0:ht[0],Nt=(Dt=ie.axisRange)==null?void 0:Dt[1];if(ge(ct,null)||ge(Nt,null)){const We=[];for(const Re of n(i))if(b(Re.type,"data"))for(const je of ie.effects){const Ot=Re.row.metadata[je.value];ge(Ot,null,!1)&&!Number.isNaN(Ot)&&We.push(Ot)}We.length>0?(ct=ct??Math.min(0,...We),Nt=Nt??Math.max(...We)*1.1):(ct=ct??0,Nt=Nt??100)}const Ke=b(ie.scale,"log")?Gr().domain([Math.max(.01,ct),Nt]).range([$e,le-$e]):er().domain([ct,Nt]).range([$e,le-$e]);A.set(jt.id,Ke)}else if(b(jt.type,"viz_boxplot")){const ie=(Tt=jt.options)==null?void 0:Tt.vizBoxplot;if(!ie)continue;const ee=n(C)[jt.id],le=b(typeof ee,"number")?ee:b(typeof jt.width,"number")?jt.width:ie.width??n(a).forestWidth;let ct=(At=ie.axisRange)==null?void 0:At[0],Nt=(St=ie.axisRange)==null?void 0:St[1];if(ge(ct,null)||ge(Nt,null)){const We=[];for(const Re of n(i))if(b(Re.type,"data")){for(const je of ie.effects)if(je.data){const Ot=Re.row.metadata[je.data];if(Ot&&Array.isArray(Ot)){const Ie=xa(Ot);We.push(Ie.min,Ie.max),b(ie.showOutliers,!1,!1)&&We.push(...Ie.outliers)}}else if(je.min&&je.max){const Ot=Re.row.metadata[je.min],Ie=Re.row.metadata[je.max];ge(Ot,null,!1)&&!Number.isNaN(Ot)&&We.push(Ot),ge(Ie,null,!1)&&!Number.isNaN(Ie)&&We.push(Ie)}}if(We.length>0){const Re=Math.min(...We),je=Math.max(...We),Ot=je-Re;ct=ct??Re-Ot*.05,Nt=Nt??je+Ot*.05}else ct=ct??0,Nt=Nt??100}const Ke=b(ie.scale,"log")?Gr().domain([Math.max(.01,ct),Nt]).range([$e,le-$e]):er().domain([ct,Nt]).range([$e,le-$e]);A.set(jt.id,Ke)}else if(b(jt.type,"viz_violin")){const ie=(Vt=jt.options)==null?void 0:Vt.vizViolin;if(!ie)continue;const ee=n(C)[jt.id],le=b(typeof ee,"number")?ee:b(typeof jt.width,"number")?jt.width:ie.width??n(a).forestWidth;let ct=(re=ie.axisRange)==null?void 0:re[0],Nt=(Kt=ie.axisRange)==null?void 0:Kt[1];if(ge(ct,null)||ge(Nt,null)){const We=[];for(const Re of n(i))if(b(Re.type,"data"))for(const je of ie.effects){const Ot=Re.row.metadata[je.data];Ot&&Array.isArray(Ot)&&We.push(...Ot.filter(Ie=>ge(Ie,null,!1)&&!Number.isNaN(Ie)))}if(We.length>0){ct=ct??Math.min(...We),Nt=Nt??Math.max(...We);const Re=Nt-ct;ct=ct-Re*.1,Nt=Nt+Re*.1}else ct=ct??0,Nt=Nt??100}const Ke=b(ie.scale,"log")?Gr().domain([Math.max(.01,ct),Nt]).range([$e,le-$e]):er().domain([ct,Nt]).range([$e,le-$e]);A.set(jt.id,Ke)}}return A}),"vizColumnScales"),En=p(m(()=>{var j;const A=new Map,B=Nn;for(const ht of n(g)){const Dt=ht.column,Tt=(j=Dt.options)==null?void 0:j.forest,At=n(C)[Dt.id],St=b(typeof At,"number")?At:b(typeof Dt.width,"number")?Dt.width:(Tt==null?void 0:Tt.width)??n(a).forestWidth,Vt=b(Tt==null?void 0:Tt.scale,"log"),re=n(c).axisLimits,Kt=B,Xe=Math.max(St-B,Kt+50);if(Vt){const jt=[Math.max(re[0],.01),Math.max(re[1],.02)];A.set(Dt.id,Gr().domain(jt).range([Kt,Xe]))}else A.set(Dt.id,er().domain(re).range([Kt,Xe]))}return A}),"forestColumnScales");p(Mt(!1),"resizingPlot");let Xt=p(Mt(null),"resizingColumn"),Wt=0,De=0;function qn(A,B,j){var ht;(ht=n(r))!=null&&ht.interaction.enableResize&&(A.preventDefault(),A.stopPropagation(),at(Xt,B,!0),Wt=A.clientX,De=j,document.addEventListener("pointermove",mr),document.addEventListener("pointerup",kn))}function mr(A){if(!n(Xt))return;const B=A.clientX-Wt,j=Math.max(40,De+B);e.store.setColumnWidth(n(Xt),j)}function kn(){at(Xt,null),document.removeEventListener("pointermove",mr),document.removeEventListener("pointerup",kn)}function en(A,B){e.store.setHovered(A),e.store.setTooltip(A,{x:B.clientX,y:B.clientY})}function vn(){e.store.setHovered(null),e.store.setTooltip(null,null)}const $r=p(m(()=>n(l)?`
      --wf-max-width: ${n(T)?`${n(T)}px`:"none"};
      --wf-max-height: ${n(R)?`${n(R)}px`:"none"};
      --wf-bg: ${n(l).colors.background};
      --wf-fg: ${n(l).colors.foreground};
      --wf-primary: ${n(l).colors.primary};
      --wf-secondary: ${n(l).colors.secondary};
      --wf-muted: ${n(l).colors.muted};
      --wf-border: ${n(l).colors.border};
      --wf-row-bg: ${n(l).colors.rowBg};
      --wf-alt-bg: ${n(l).colors.altBg};
      --wf-interval-line: ${n(l).colors.intervalLine};
      --wf-interval-positive: ${n(l).colors.intervalPositive};
      --wf-interval-negative: ${n(l).colors.intervalNegative};
      --wf-summary-fill: ${n(l).colors.summaryFill};
      --wf-summary-border: ${n(l).colors.summaryBorder};
      --wf-accent: ${n(l).colors.accent};
      --wf-badge-success: ${Wi.success};
      --wf-badge-warning: ${Wi.warning};
      --wf-badge-error: ${Wi.error};
      --wf-badge-info: ${Wi.info};
      --wf-badge-muted: ${n(l).colors.muted};
      --wf-font-family: ${n(l).typography.fontFamily};
      --wf-font-size-sm: ${n(l).typography.fontSizeSm};
      --wf-font-size-base: ${n(l).typography.fontSizeBase};
      --wf-font-size-lg: ${n(l).typography.fontSizeLg};
      --wf-font-weight-normal: ${n(l).typography.fontWeightNormal};
      --wf-font-weight-medium: ${n(l).typography.fontWeightMedium};
      --wf-font-weight-bold: ${n(l).typography.fontWeightBold};
      --wf-line-height: ${n(l).typography.lineHeight};
      --wf-header-font-scale: ${n(l).typography.headerFontScale??1.05};
      --wf-row-height: ${n(l).spacing.rowHeight}px;
      --wf-header-height: ${n(l).spacing.headerHeight}px;
      --wf-header-row-height: ${n(l).spacing.headerHeight/n(de)}px;
      --wf-header-depth: ${n(de)};
      --wf-padding: ${n(l).spacing.padding}px;
      --wf-container-padding: ${n(l).spacing.containerPadding}px;
      --wf-cell-padding-x: ${n(l).spacing.cellPaddingX}px;
      --wf-cell-padding-y: ${n(l).spacing.cellPaddingY}px;
      --wf-axis-gap: ${n(l).spacing.axisGap??Qn.DEFAULT_AXIS_GAP}px;
      --wf-axis-height: ${n(a).axisHeight}px;
      --wf-group-padding: ${n(l).spacing.groupPadding??8}px;
      --wf-column-gap: ${n(l).spacing.columnGap??8}px;
      --wf-plot-width: ${n(a).forestWidth}px;
      --wf-point-size: ${n(l).shapes.pointSize}px;
      --wf-line-width: ${n(l).shapes.lineWidth}px;
      --wf-border-radius: ${n(l).shapes.borderRadius}px;
      --wf-container-border: ${n(l).layout.containerBorder?"1px solid var(--wf-border)":"none"};
      --wf-container-border-radius: ${n(l).layout.containerBorderRadius}px;
      --wf-group-header-opacity: ${ld};
      --wf-row-hover-opacity: ${cd};
      --wf-row-selected-opacity: ${fd};
      --wf-row-selected-hover-opacity: ${ud};
      --wf-actual-scale: ${n(F)};
      --wf-zoom: ${n(w)};
    `.trim():""),"cssVars");var yr={...ke()},Oe=_p();Gn("keydown",Xo,et);let cn;var Pn=K(Oe);{var ii=A=>{var B=mp(),j=yt(B);I(()=>zn(j,{get store(){return e.store},get enableExport(){return n(lt)},get enableThemes(){return n(J)},get onThemeChange(){return e.onThemeChange}}),"component",G,854,4,{componentTag:"ControlToolbar"});var ht=rt(j,2);let Dt;{const Ot=zl(G,function(pt,nt=mi,Q=mi){Pl(...arguments);const zt=p(m(()=>jv(nt(),Q())),"cellStyle");n(zt);var gt=Ct(),Pe=yt(gt);{var ve=pe=>{{let Be=m(()=>Gv(n(o),Q())),Me=m(()=>{var wt;return(wt=Q().options)==null?void 0:wt.bar});I(()=>bo(pe,{get value(){return nt().metadata[Q().field]},get maxValue(){return n(Be)},get options(){return n(Me)}}),"component",G,867,10,{componentTag:"CellBar"})}},ae=pe=>{var Be=Ct(),Me=yt(Be);{var wt=Bt=>{{let se=m(()=>{var ze;return(ze=Q().options)==null?void 0:ze.pvalue});I(()=>Zo(Bt,{get value(){return nt().metadata[Q().field]},get options(){return n(se)},get cellStyle(){return n(zt)}}),"component",G,873,10,{componentTag:"CellPvalue"})}},kt=Bt=>{var se=Ct(),ze=yt(se);{var pn=Ft=>{{let he=m(()=>{var _t;return(_t=Q().options)==null?void 0:_t.sparkline});I(()=>Wn(Ft,{get data(){return nt().metadata[Q().field]},get options(){return n(he)}}),"component",G,879,10,{componentTag:"CellSparkline"})}},Qt=Ft=>{var he=Ct(),_t=yt(he);{var ot=ne=>{{let Se=m(()=>{var Fe;return(Fe=Q().options)==null?void 0:Fe.icon});I(()=>Li(ne,{get value(){return nt().metadata[Q().field]},get options(){return n(Se)}}),"component",G,884,10,{componentTag:"CellIcon"})}},Lt=ne=>{var Se=Ct(),Fe=yt(Se);{var me=Qe=>{{let mn=m(()=>{var fn;return(fn=Q().options)==null?void 0:fn.badge});I(()=>Di(Qe,{get value(){return nt().metadata[Q().field]},get options(){return n(mn)}}),"component",G,889,10,{componentTag:"CellBadge"})}},Jt=Qe=>{var mn=Ct(),fn=yt(mn);{var rn=Ge=>{{let ai=m(()=>{var si;return(si=Q().options)==null?void 0:si.stars});I(()=>ko(Ge,{get value(){return nt().metadata[Q().field]},get options(){return n(ai)}}),"component",G,894,10,{componentTag:"CellStars"})}},ye=Ge=>{var ai=Ct(),si=yt(ai);{var Fo=Xn=>{{let ci=m(()=>{var fi;return(fi=Q().options)==null?void 0:fi.img});I(()=>Co(Xn,{get value(){return nt().metadata[Q().field]},get options(){return n(ci)}}),"component",G,899,10,{componentTag:"CellImg"})}},li=Xn=>{var ci=Ct(),fi=yt(ci);{var Bp=ui=>{{let Na=m(()=>{var Ha;return(Ha=Q().options)==null?void 0:Ha.reference});I(()=>Vr(ui,{get value(){return nt().metadata[Q().field]},get metadata(){return nt().metadata},get options(){return n(Na)}}),"component",G,904,10,{componentTag:"CellReference"})}},Gp=ui=>{var Na=Ct(),Ha=yt(Na);{var Vp=di=>{{let Aa=m(()=>{var Wa;return(Wa=Q().options)==null?void 0:Wa.range});I(()=>Bi(di,{get value(){return nt().metadata[Q().field]},get metadata(){return nt().metadata},get options(){return n(Aa)}}),"component",G,910,10,{componentTag:"CellRange"})}},Op=di=>{var Aa=Ct(),Wa=yt(Aa);{var jp=hi=>{{let Ra=m(()=>ti(nt().metadata[Q().field],Q().options));I(()=>dr(hi,{get value(){return n(Ra)},get cellStyle(){return n(zt)}}),"component",G,916,10,{componentTag:"CellContent"})}},qp=hi=>{var Ra=Ct(),Xp=yt(Ra);{var $p=gi=>{{let Po=m(()=>Cs(nt(),Q().options));I(()=>dr(gi,{get value(){return n(Po)},get cellStyle(){return n(zt)}}),"component",G,918,10,{componentTag:"CellContent"})}},Up=gi=>{var Po=Ct(),Yp=yt(Po);{var Zp=vi=>{{let Fs=m(()=>{var af,sf,lf,cf,ff,uf;return Ts((sf=(af=Q().options)==null?void 0:af.interval)!=null&&sf.point?nt().metadata[Q().options.interval.point]:void 0,(cf=(lf=Q().options)==null?void 0:lf.interval)!=null&&cf.lower?nt().metadata[Q().options.interval.lower]:void 0,(uf=(ff=Q().options)==null?void 0:ff.interval)!=null&&uf.upper?nt().metadata[Q().options.interval.upper]:void 0,Q().options)});I(()=>dr(vi,{get value(){return n(Fs)},get cellStyle(){return n(zt)}}),"component",G,920,10,{componentTag:"CellContent"})}},Kp=vi=>{{let Fs=m(()=>nt().metadata[Q().field]??"");I(()=>dr(vi,{get value(){return n(Fs)},get cellStyle(){return n(zt)}}),"component",G,927,10,{componentTag:"CellContent"})}};I(()=>X(Yp,vi=>{b(Q().type,"interval")?vi(Zp):vi(Kp,!1)},!0),"if",G,919,8)}z(gi,Po)};I(()=>X(Xp,gi=>{var Po;b(Q().type,"custom")&&((Po=Q().options)!=null&&Po.events)?gi($p):gi(Up,!1)},!0),"if",G,917,8)}z(hi,Ra)};I(()=>X(Wa,hi=>{b(Q().type,"numeric")?hi(jp):hi(qp,!1)},!0),"if",G,915,8)}z(di,Aa)};I(()=>X(Ha,di=>{b(Q().type,"range")?di(Vp):di(Op,!1)},!0),"if",G,909,8)}z(ui,Na)};I(()=>X(fi,ui=>{b(Q().type,"reference")?ui(Bp):ui(Gp,!1)},!0),"if",G,903,8)}z(Xn,ci)};I(()=>X(si,Xn=>{b(Q().type,"img")?Xn(Fo):Xn(li,!1)},!0),"if",G,898,8)}z(Ge,ai)};I(()=>X(fn,Ge=>{b(Q().type,"stars")?Ge(rn):Ge(ye,!1)},!0),"if",G,893,8)}z(Qe,mn)};I(()=>X(Fe,Qe=>{b(Q().type,"badge")?Qe(me):Qe(Jt,!1)},!0),"if",G,888,8)}z(ne,Se)};I(()=>X(_t,ne=>{b(Q().type,"icon")?ne(ot):ne(Lt,!1)},!0),"if",G,883,8)}z(Ft,he)};I(()=>X(ze,Ft=>{b(Q().type,"sparkline")?Ft(pn):Ft(Qt,!1)},!0),"if",G,878,8)}z(Bt,se)};I(()=>X(Me,Bt=>{b(Q().type,"pvalue")?Bt(wt):Bt(kt,!1)},!0),"if",G,872,8)}z(pe,Be)};I(()=>X(Pe,pe=>{b(Q().type,"bar")?pe(ve):pe(ae,!1)}),"if",G,866,8)}z(pt,gt)});var Tt=K(ht);{var At=pt=>{{let nt=m(()=>{var zt;return(zt=n(r).labels)==null?void 0:zt.title}),Q=m(()=>{var zt;return(zt=n(r).labels)==null?void 0:zt.subtitle});I(()=>tr(pt,{get title(){return n(nt)},get subtitle(){return n(Q)}}),"component",G,860,8,{componentTag:"PlotHeader"})}};I(()=>X(Tt,pt=>{n(x)&&pt(At)}),"if",G,859,6)}var St=rt(Tt,2);let Ie,Ln;var Vt=K(St);let Ta;var re=K(Vt),Kt=K(re),Xe=rt(re,2);{var jt=pt=>{var nt=qv();nt.__pointerdown=Q=>qn(Q,"__label__",n(C).__label__??150),z(pt,nt)};I(()=>X(Xe,pt=>{var nt;(nt=n(r))!=null&&nt.interaction.enableResize&&pt(jt)}),"if",G,941,10)}no(Vt,pt=>at(Gt,pt),()=>n(Gt));var $e=rt(Vt,2);wn(()=>n(mt),pt=>pt.col.id),I(()=>He($e,17,()=>n(mt),pt=>pt.col.id,(pt,nt)=>{var Q=Ct(),zt=yt(Q);{var gt=ve=>{var ae=Xv();let pe;var Be=K(ae),Me=K(Be,!0);tt(()=>{pe=Ce(ae,"",pe,{"grid-column":`${n(nt).gridColumnStart??""} / span ${n(nt).colspan??""}`,"grid-row":`${n(nt).rowStart??""} / span ${n(nt).rowSpan??""}`}),$t(Me,n(nt).col.header)}),z(ve,ae)},Pe=ve=>{var ae=Ct(),pe=yt(ae);{var Be=wt=>{const kt=p(m(()=>n(nt).col),"column");n(kt);const Bt=p(m(()=>{var _t,ot,Lt,ne,Se,Fe,me,Jt;return b(n(kt).type,"forest")?((ot=(_t=n(kt).options)==null?void 0:_t.forest)==null?void 0:ot.width)??n(a).forestWidth:b(n(kt).type,"viz_bar")?((ne=(Lt=n(kt).options)==null?void 0:Lt.vizBar)==null?void 0:ne.width)??n(a).forestWidth:b(n(kt).type,"viz_boxplot")?((Fe=(Se=n(kt).options)==null?void 0:Se.vizBoxplot)==null?void 0:Fe.width)??n(a).forestWidth:b(n(kt).type,"viz_violin")?((Jt=(me=n(kt).options)==null?void 0:me.vizViolin)==null?void 0:Jt.width)??n(a).forestWidth:n(a).forestWidth}),"vizDefaultWidth");n(Bt);var se=Yv();let ze;var pn=K(se);{var Qt=_t=>{var ot=$v(),Lt=K(ot,!0);tt(()=>$t(Lt,n(kt).header)),z(_t,ot)};I(()=>X(pn,_t=>{n(kt).header&&_t(Qt)}),"if",G,979,14)}var Ft=rt(pn,2);{var he=_t=>{var ot=Uv();ot.__pointerdown=Lt=>qn(Lt,n(kt).id,n(C)[n(kt).id]??n(Bt)),z(_t,ot)};I(()=>X(Ft,_t=>{var ot;(ot=n(r))!=null&&ot.interaction.enableResize&&_t(he)}),"if",G,982,14)}sa(se,(_t,ot)=>Ye==null?void 0:Ye(_t,ot),()=>n(kt).id),tt(()=>ze=Ce(se,"",ze,{"grid-column":n(nt).gridColumnStart,"grid-row":`${n(nt).rowStart??""} / span ${n(nt).rowSpan??""}`})),z(wt,se)},Me=wt=>{const kt=p(m(()=>n(nt).col),"column");n(kt);var Bt=Kv();let se;var ze=K(Bt),pn=K(ze,!0);var Qt=rt(ze,2);{var Ft=he=>{var _t=Zv();_t.__pointerdown=ot=>qn(ot,n(kt).id,n(C)[n(kt).id]??(b(typeof n(kt).width,"number")?n(kt).width:80)),z(he,_t)};I(()=>X(Qt,he=>{var _t;(_t=n(r))!=null&&_t.interaction.enableResize&&he(Ft)}),"if",G,1e3,14)}tt(()=>{se=Ce(Bt,"",se,{"grid-column":n(nt).gridColumnStart,"grid-row":`${n(nt).rowStart??""} / span ${n(nt).rowSpan??""}`,"text-align":n(kt).headerAlign??n(kt).align}),$t(pn,n(kt).header)}),z(wt,Bt)};I(()=>X(pe,wt=>{n(nt).isForest?wt(Be):wt(Me,!1)},!0),"if",G,961,10)}z(ve,ae)};I(()=>X(zt,ve=>{n(nt).isGroupHeader?ve(gt):ve(Pe,!1)}),"if",G,952,10)}z(pt,Q)}),"each",G,951,8);var ie=rt($e,2);wn(()=>n(i),(pt,nt)=>xt(pt)),I(()=>He(ie,19,()=>n(i),(pt,nt)=>xt(pt,nt),(pt,nt,Q)=>{const zt=p(m(()=>b(n(nt).type,"group_header")),"isGroupHeader");n(zt);const gt=p(m(()=>n(zt)?null:n(nt).row),"row");n(gt);const Pe=p(m(()=>n(nt).depth),"rowDepth");n(Pe);const ve=p(m(()=>n(gt)?bt(n(gt).id):!1),"selected");n(ve);const ae=p(m(()=>n(gt)?Vv(n(gt).style,n(Q),n(u)):""),"rowClasses");n(ae);const pe=p(m(()=>n(gt)?Ov(n(gt).style,n(Pe)):""),"rowStyles");n(pe);const Be=p(m(()=>{var _t,ot;return b((ot=(_t=n(gt))==null?void 0:_t.style)==null?void 0:ot.type,"spacer")}),"isSpacerRow");n(Be);const Me=p(m(()=>n(de)+1+n(Q)),"gridRow");n(Me);const wt=p(m(()=>n(zt)?Te(n(Pe)+1,n(l)):void 0),"groupBg");n(wt);var kt=rp(),Bt=yt(kt);let se,ze;Bt.__click=function(..._t){fr(()=>n(zt)?()=>e.store.toggleGroup(n(nt).group.id):n(gt)?()=>e.store.selectRow(n(gt).id):void 0,this,_t,G,[1036,21])},Bt.__keydown=function(..._t){fr(()=>n(zt)?ot=>(b(ot.key,"Enter")||b(ot.key," "))&&e.store.toggleGroup(n(nt).group.id):void 0,this,_t,G,[1037,23])};var pn=K(Bt);{var Qt=_t=>{{let ot=m(()=>n(nt).depth+1);I(()=>Yo(_t,{get group(){return n(nt).group},get rowCount(){return n(nt).rowCount},get level(){return n(ot)},get theme(){return n(l)}}),"component",G,1042,14,{componentTag:"GroupHeader"})}},Ft=_t=>{var ot=Ct(),Lt=yt(ot);{var ne=Se=>{var Fe=tp(),me=yt(Fe);{var Jt=rn=>{var ye=Qv(),Ge=K(ye,!0);tt(()=>$t(Ge,n(gt).style.icon)),z(rn,ye)};I(()=>X(me,rn=>{var ye;(ye=n(gt).style)!=null&&ye.icon&&rn(Jt)}),"if",G,1049,14)}var Qe=rt(me),mn=rt(Qe);{var fn=rn=>{var ye=Jv(),Ge=K(ye,!0);tt(()=>$t(Ge,n(gt).style.badge)),z(rn,ye)};I(()=>X(mn,rn=>{var ye;(ye=n(gt).style)!=null&&ye.badge&&rn(fn)}),"if",G,1051,14)}tt(()=>$t(Qe,` ${n(gt).label??""} `)),z(Se,Fe)};I(()=>X(Lt,Se=>{n(gt)&&Se(ne)},!0),"if",G,1048,12)}z(_t,ot)};I(()=>X(pn,_t=>{n(zt)?_t(Qt):_t(Ft,!1)}),"if",G,1041,12)}var he=rt(Bt,2);wn(()=>n(h),_t=>_t.id),I(()=>He(he,17,()=>n(h),_t=>_t.id,(_t,ot)=>{var Lt=Ct(),ne=yt(Lt);{var Se=me=>{var Jt=ep();let Qe,mn;Jt.__click=function(...fn){fr(()=>n(gt)?()=>e.store.selectRow(n(gt).id):void 0,this,fn,G,[1070,25])},tt(()=>{Qe=dn(Jt,1,`grid-cell data-cell plot-cell ${n(ae)??""}`,"svelte-14l8yxx",Qe,{"group-row":n(zt),selected:n(ve),hovered:n(gt)&&b(n(k),n(gt).id),"spacer-row":n(Be)}),mn=Ce(Jt,n(pe)||void 0,mn,{"grid-row":n(Me),"background-color":n(wt)})}),Gn("mouseenter",Jt,function(...fn){fr(()=>n(gt)?rn=>en(n(gt).id,rn):void 0,this,fn,G,[1068,30])}),Gn("mouseleave",Jt,function(...fn){fr(()=>n(gt)?()=>vn():void 0,this,fn,G,[1069,30])}),z(me,Jt)},Fe=me=>{var Jt=np();let Qe,mn;Jt.__click=function(...ye){fr(()=>n(gt)?()=>e.store.selectRow(n(gt).id):void 0,this,ye,G,[1087,25])};var fn=K(Jt);{var rn=ye=>{I(()=>Ot(ye,()=>n(gt),()=>n(ot)),"render",G,1090,18)};I(()=>X(fn,ye=>{n(gt)&&ye(rn)}),"if",G,1089,16)}tt(()=>{Qe=dn(Jt,1,`grid-cell data-cell ${n(ae)??""}`,"svelte-14l8yxx",Qe,{"group-row":n(zt),selected:n(ve),hovered:n(gt)&&b(n(k),n(gt).id),"spacer-row":n(Be),"wrap-enabled":n(ot).wrap}),mn=Ce(Jt,n(pe)||void 0,mn,{"grid-row":n(Me),"background-color":n(wt),"text-align":n(ot).align})}),Gn("mouseenter",Jt,function(...ye){fr(()=>n(gt)?Ge=>en(n(gt).id,Ge):void 0,this,ye,G,[1085,30])}),Gn("mouseleave",Jt,function(...ye){fr(()=>n(gt)?()=>vn():void 0,this,ye,G,[1086,30])}),z(me,Jt)};I(()=>X(ne,me=>{Zt.includes(n(ot).type)?me(Se):me(Fe,!1)}),"if",G,1057,12)}z(_t,Lt)}),"each",G,1056,10),tt(()=>{var _t,ot,Lt,ne;se=dn(Bt,1,`grid-cell data-cell label-cell ${n(ae)??""}`,"svelte-14l8yxx",se,{"group-row":n(zt),selected:n(ve),hovered:n(gt)&&b(n(k),n(gt).id),"spacer-row":n(Be)}),ze=Ce(Bt,n(pe)||void 0,ze,{"grid-row":n(Me),"background-color":n(wt),"padding-left":n(zt)?`${n(Pe)*12}px`:((ot=(_t=n(gt))==null?void 0:_t.style)==null?void 0:ot.indent)??n(Pe)?`${(((ne=(Lt=n(gt))==null?void 0:Lt.style)==null?void 0:ne.indent)??n(Pe))*12}px`:void 0}),W(Bt,"role",n(zt)?"button":void 0),W(Bt,"tabindex",n(zt)?0:void 0)}),Gn("mouseenter",Bt,function(..._t){fr(()=>n(gt)?ot=>en(n(gt).id,ot):void 0,this,_t,G,[1038,26])}),Gn("mouseleave",Bt,function(..._t){fr(()=>n(gt)?()=>vn():void 0,this,_t,G,[1039,26])}),z(pt,kt)}),"each",G,1012,8);var ee=rt(ie,2);{var le=pt=>{const nt=p(m(()=>n(de)+1+n(i).length),"axisRowNum");n(nt);var Q=ap(),zt=yt(Q);wn(()=>n(h),ve=>ve.id),I(()=>He(zt,19,()=>n(h),ve=>ve.id,(ve,ae,pe)=>{var Be=Ct(),Me=yt(Be);{var wt=Bt=>{var se=op();let ze;tt(()=>ze=Ce(se,"",ze,{"grid-column":2+n(pe),"grid-row":n(nt)})),z(Bt,se)},kt=Bt=>{var se=ip();let ze;tt(()=>ze=Ce(se,"",ze,{"grid-column":2+n(pe),"grid-row":n(nt)})),z(Bt,se)};I(()=>X(Me,Bt=>{Zt.includes(n(ae).type)?Bt(wt):Bt(kt,!1)}),"if",G,1101,12)}z(ve,Be)}),"each",G,1100,10);var gt=rt(zt,2);let Pe;tt(()=>Pe=Ce(gt,"",Pe,{"grid-column":"1","grid-row":n(nt)})),z(pt,Q)};I(()=>X(ee,pt=>{n(y)&&pt(le)}),"if",G,1098,8)}var ct=rt(ee,2);wn(()=>n(g),pt=>pt.column.id),I(()=>He(ct,17,()=>n(g),pt=>pt.column.id,(pt,nt)=>{const Q=p(m(()=>{var ot;return(ot=n(nt).column.options)==null?void 0:ot.forest}),"forestOpts");n(Q);const zt=p(m(()=>n(C)[n(nt).column.id]),"dynamicForestWidth");n(zt);const gt=p(m(()=>{var ot;return b(typeof n(zt),"number")?n(zt):b(typeof n(nt).column.width,"number")?n(nt).column.width:((ot=n(Q))==null?void 0:ot.width)??n(a).forestWidth}),"forestWidth");n(gt);const Pe=p(m(()=>n(Pt).get(n(nt).column.id)??0),"forestLeft");n(Pe);const ve=p(m(()=>{var ot;return((ot=n(l))==null?void 0:ot.spacing.axisGap)??Qn.DEFAULT_AXIS_GAP}),"axisGap");n(ve);const ae=p(m(()=>{var ot;return((ot=n(Q))==null?void 0:ot.nullValue)??n(a).nullValue}),"nullValue");n(ae);const pe=p(m(()=>{var ot;return((ot=n(Q))==null?void 0:ot.axisLabel)??"Effect"}),"axisLabel");n(pe);const Be=p(m(()=>{var ot;return b((ot=n(Q))==null?void 0:ot.scale,"log")}),"isLog");n(Be);const Me=p(m(()=>n(En).get(n(nt).column.id)??n(s)),"colScale");n(Me);var wt=fp();let kt;var Bt=K(wt);W(Bt,"y1",0);var se=rt(Bt);{var ze=ot=>{const Lt=p(m(()=>{var me;return[...n(r).annotations??[],...((me=n(Q))==null?void 0:me.annotations)??[]]}),"allAnnotations");n(Lt);const ne=p(m(()=>Et(n(Lt))),"annotationLabelOffsets");n(ne);var Se=Ct(),Fe=yt(Se);wn(()=>n(Lt),me=>me.id),I(()=>He(Fe,17,()=>n(Lt),me=>me.id,(me,Jt)=>{var Qe=Ct(),mn=yt(Qe);{var fn=rn=>{var ye=lp(),Ge=yt(ye);W(Ge,"y1",0);var ai=rt(Ge);{var si=Fo=>{const li=p(m(()=>n(ne)[n(Jt).id]??0),"yOffset");n(li);var Xn=sp(),ci=K(Xn,!0);tt(fi=>{W(Xn,"x",fi),W(Xn,"y",-4+n(li)),W(Xn,"fill",n(Jt).color??"var(--wf-secondary)"),$t(ci,n(Jt).label)},[()=>n(Me)(n(Jt).x)]),z(Fo,Xn)};I(()=>X(ai,Fo=>{n(Jt).label&&Fo(si)}),"if",G,1157,16)}tt((Fo,li)=>{W(Ge,"x1",Fo),W(Ge,"x2",li),W(Ge,"y2",n(vt)),W(Ge,"stroke",n(Jt).color??"var(--wf-accent)"),W(Ge,"stroke-width",n(Jt).width??1.5),W(Ge,"stroke-opacity",n(Jt).opacity??.6),W(Ge,"stroke-dasharray",b(n(Jt).style,"dashed")?"6,4":b(n(Jt).style,"dotted")?"2,2":"none")},[()=>n(Me)(n(Jt).x),()=>n(Me)(n(Jt).x)]),z(rn,ye)};I(()=>X(mn,rn=>{b(n(Jt).type,"reference_line")&&rn(fn)}),"if",G,1146,14)}z(me,Qe)}),"each",G,1145,14),z(ot,Se)};I(()=>X(se,ot=>{ot(ze)}),"if",G,1142,12)}var pn=rt(se);wn(()=>n(i),(ot,Lt)=>xt(ot,Lt)),I(()=>He(pn,19,()=>n(i),(ot,Lt)=>xt(ot,Lt),(ot,Lt,ne)=>{var Se=Ct(),Fe=yt(Se);{var me=Jt=>{const Qe=p(m(()=>n(ut).positions[n(ne)]??n(ne)*n(a).rowHeight),"rowY");n(Qe);const mn=p(m(()=>n(ut).heights[n(ne)]??n(a).rowHeight),"rowH");n(mn);{let fn=m(()=>n(Qe)+n(mn)/2),rn=m(()=>({...n(a),forestWidth:n(gt)}));I(()=>qe(Jt,{get row(){return n(Lt).row},get yPosition(){return n(fn)},get xScale(){return n(Me)},get layout(){return n(rn)},get theme(){return n(l)},get clipBounds(){return n(f)},get isLog(){return n(Be)},get weightCol(){return n(r).data.weightCol},get forestColumnOptions(){return n(Q)},onRowClick:()=>e.store.selectRow(n(Lt).row.id),onRowHover:(ye,Ge)=>{e.store.setHovered(ye?n(Lt).row.id:null),ye&&Ge?e.store.setTooltip(n(Lt).row.id,{x:Ge.clientX,y:Ge.clientY}):e.store.setTooltip(null,null)}}),"component",G,1179,16,{componentTag:"RowInterval"})}};I(()=>X(Fe,Jt=>{b(n(Lt).type,"data")&&Jt(me)}),"if",G,1176,14)}z(ot,Se)}),"each",G,1175,12);var Qt=rt(pn);{var Ft=ot=>{{let Lt=m(()=>n(vt)+n(a).rowHeight/2),ne=m(()=>({...n(a),forestWidth:n(gt)}));I(()=>oo(ot,{get point(){return n(r).data.overall.point},get lower(){return n(r).data.overall.lower},get upper(){return n(r).data.overall.upper},get yPosition(){return n(Lt)},get xScale(){return n(Me)},get layout(){return n(ne)},get theme(){return n(l)}}),"component",G,1207,14,{componentTag:"SummaryDiamond"})}};I(()=>X(Qt,ot=>{n(r).data.overall&&n(a).showOverallSummary&&b(typeof n(r).data.overall.point,"number")&&!Number.isNaN(n(r).data.overall.point)&&b(typeof n(r).data.overall.lower,"number")&&!Number.isNaN(n(r).data.overall.lower)&&b(typeof n(r).data.overall.upper,"number")&&!Number.isNaN(n(r).data.overall.upper)&&ot(Ft)}),"if",G,1203,12)}var he=rt(Qt);{var _t=ot=>{var Lt=cp(),ne=K(Lt);{let Se=m(()=>({...n(a),forestWidth:n(gt)}));I(()=>Hn(ne,{get xScale(){return n(Me)},get layout(){return n(Se)},get theme(){return n(l)},get axisLabel(){return n(pe)},position:"bottom",get plotHeight(){return n(a).plotHeight},get baseTicks(){return n(c).ticks}}),"component",G,1221,16,{componentTag:"EffectAxis"})}tt(()=>W(Lt,"transform",`translate(0, ${n(vt)+n(ve)})`)),z(ot,Lt)};I(()=>X(he,ot=>{var Lt;b((Lt=n(Q))==null?void 0:Lt.showAxis,!1,!1)&&ot(_t)}),"if",G,1219,12)}tt((ot,Lt)=>{W(wt,"width",n(gt)),W(wt,"height",n(vt)+n(a).axisHeight),W(wt,"viewBox",`0 0 ${n(gt)??""} ${n(vt)+n(a).axisHeight}`),kt=Ce(wt,"",kt,{top:`${n(be)??""}px`,left:`${n(Pe)??""}px`}),W(Bt,"x1",ot),W(Bt,"x2",Lt),W(Bt,"y2",n(vt))},[()=>n(Me)(n(ae)),()=>n(Me)(n(ae))]),z(pt,wt)}),"each",G,1112,8);var Nt=rt(ct,2);wn(()=>n(v).filter(pt=>b(pt.column.type,"viz_bar")),pt=>pt.column.id),I(()=>He(Nt,17,()=>n(v).filter(pt=>b(pt.column.type,"viz_bar")),pt=>pt.column.id,(pt,nt)=>{const Q=p(m(()=>{var wt;return(wt=n(nt).column.options)==null?void 0:wt.vizBar}),"vizOpts");n(Q);const zt=p(m(()=>n(C)[n(nt).column.id]),"dynamicVizWidth");n(zt);const gt=p(m(()=>{var wt;return b(typeof n(zt),"number")?n(zt):n(nt).column.width??((wt=n(Q))==null?void 0:wt.width)??n(a).forestWidth}),"vizWidth");n(gt);const Pe=p(m(()=>n(Pt).get(n(nt).column.id)??0),"vizLeft");n(Pe);const ve=p(m(()=>{var wt;return((wt=n(l))==null?void 0:wt.spacing.axisGap)??Qn.DEFAULT_AXIS_GAP}),"axisGap");n(ve);const ae=p(m(()=>n(gn).get(n(nt).column.id)),"sharedScale");n(ae);var pe=Ct(),Be=yt(pe);{var Me=wt=>{var kt=dp();let Bt;var se=K(kt);wn(()=>n(i),(Qt,Ft)=>xt(Qt,Ft)),I(()=>He(se,19,()=>n(i),(Qt,Ft)=>xt(Qt,Ft),(Qt,Ft,he)=>{var _t=Ct(),ot=yt(_t);{var Lt=ne=>{const Se=p(m(()=>n(ut).positions[n(he)]??n(he)*n(a).rowHeight),"rowY");n(Se);const Fe=p(m(()=>n(ut).heights[n(he)]??n(a).rowHeight),"rowH");n(Fe);{let me=m(()=>n(Se)+n(Fe)/2);I(()=>io(ne,{get row(){return n(Ft).row},get yPosition(){return n(me)},get rowHeight(){return n(Fe)},get width(){return n(gt)},get options(){return n(Q)},get theme(){return n(l)},get sharedScale(){return n(ae)}}),"component",G,1249,18,{componentTag:"VizBar"})}};I(()=>X(ot,ne=>{b(n(Ft).type,"data")&&ne(Lt)}),"if",G,1246,16)}z(Qt,_t)}),"each",G,1245,14);var ze=rt(se);{var pn=Qt=>{var Ft=up(),he=K(Ft);{let _t=m(()=>({...n(a),forestWidth:n(gt),nullValue:0})),ot=m(()=>n(Q).axisLabel??"Value");I(()=>Hn(he,{get xScale(){return n(ae)},get layout(){return n(_t)},get theme(){return n(l)},get axisLabel(){return n(ot)},position:"bottom",get plotHeight(){return n(vt)},get baseTicks(){return n(Q).axisTicks},get gridlines(){return n(Q).axisGridlines}}),"component",G,1264,18,{componentTag:"EffectAxis"})}tt(()=>W(Ft,"transform",`translate(0, ${n(vt)+n(ve)})`)),z(Qt,Ft)};I(()=>X(ze,Qt=>{b(n(Q).showAxis,!1,!1)&&n(ae)&&Qt(pn)}),"if",G,1262,14)}tt(()=>{W(kt,"width",n(gt)),W(kt,"height",n(vt)+n(a).axisHeight),W(kt,"viewBox",`0 0 ${n(gt)??""} ${n(vt)+n(a).axisHeight}`),Bt=Ce(kt,"",Bt,{top:`${n(be)??""}px`,left:`${n(Pe)??""}px`})}),z(wt,kt)};I(()=>X(Be,wt=>{n(Q)&&wt(Me)}),"if",G,1235,10)}z(pt,pe)}),"each",G,1228,8);var Ke=rt(Nt,2);wn(()=>n(v).filter(pt=>b(pt.column.type,"viz_boxplot")),pt=>pt.column.id),I(()=>He(Ke,17,()=>n(v).filter(pt=>b(pt.column.type,"viz_boxplot")),pt=>pt.column.id,(pt,nt)=>{const Q=p(m(()=>{var wt;return(wt=n(nt).column.options)==null?void 0:wt.vizBoxplot}),"vizOpts");n(Q);const zt=p(m(()=>n(C)[n(nt).column.id]),"dynamicVizWidth");n(zt);const gt=p(m(()=>{var wt;return b(typeof n(zt),"number")?n(zt):n(nt).column.width??((wt=n(Q))==null?void 0:wt.width)??n(a).forestWidth}),"vizWidth");n(gt);const Pe=p(m(()=>n(Pt).get(n(nt).column.id)??0),"vizLeft");n(Pe);const ve=p(m(()=>{var wt;return((wt=n(l))==null?void 0:wt.spacing.axisGap)??Qn.DEFAULT_AXIS_GAP}),"axisGap");n(ve);const ae=p(m(()=>n(gn).get(n(nt).column.id)),"sharedScale");n(ae);var pe=Ct(),Be=yt(pe);{var Me=wt=>{var kt=gp();let Bt;var se=K(kt);wn(()=>n(i),(Qt,Ft)=>xt(Qt,Ft)),I(()=>He(se,19,()=>n(i),(Qt,Ft)=>xt(Qt,Ft),(Qt,Ft,he)=>{var _t=Ct(),ot=yt(_t);{var Lt=ne=>{const Se=p(m(()=>n(ut).positions[n(he)]??n(he)*n(a).rowHeight),"rowY");n(Se);const Fe=p(m(()=>n(ut).heights[n(he)]??n(a).rowHeight),"rowH");n(Fe);{let me=m(()=>n(Se)+n(Fe)/2);I(()=>vr(ne,{get row(){return n(Ft).row},get yPosition(){return n(me)},get rowHeight(){return n(Fe)},get width(){return n(gt)},get options(){return n(Q)},get theme(){return n(l)},get sharedScale(){return n(ae)}}),"component",G,1302,18,{componentTag:"VizBoxplot"})}};I(()=>X(ot,ne=>{b(n(Ft).type,"data")&&ne(Lt)}),"if",G,1299,16)}z(Qt,_t)}),"each",G,1298,14);var ze=rt(se);{var pn=Qt=>{var Ft=hp(),he=K(Ft);{let _t=m(()=>({...n(a),forestWidth:n(gt),nullValue:0})),ot=m(()=>n(Q).axisLabel??"Value");I(()=>Hn(he,{get xScale(){return n(ae)},get layout(){return n(_t)},get theme(){return n(l)},get axisLabel(){return n(ot)},position:"bottom",get plotHeight(){return n(vt)},get baseTicks(){return n(Q).axisTicks},get gridlines(){return n(Q).axisGridlines}}),"component",G,1317,18,{componentTag:"EffectAxis"})}tt(()=>W(Ft,"transform",`translate(0, ${n(vt)+n(ve)})`)),z(Qt,Ft)};I(()=>X(ze,Qt=>{b(n(Q).showAxis,!1,!1)&&n(ae)&&Qt(pn)}),"if",G,1315,14)}tt(()=>{W(kt,"width",n(gt)),W(kt,"height",n(vt)+n(a).axisHeight),W(kt,"viewBox",`0 0 ${n(gt)??""} ${n(vt)+n(a).axisHeight}`),Bt=Ce(kt,"",Bt,{top:`${n(be)??""}px`,left:`${n(Pe)??""}px`})}),z(wt,kt)};I(()=>X(Be,wt=>{n(Q)&&wt(Me)}),"if",G,1288,10)}z(pt,pe)}),"each",G,1281,8);var We=rt(Ke,2);wn(()=>n(v).filter(pt=>b(pt.column.type,"viz_violin")),pt=>pt.column.id),I(()=>He(We,17,()=>n(v).filter(pt=>b(pt.column.type,"viz_violin")),pt=>pt.column.id,(pt,nt)=>{const Q=p(m(()=>{var wt;return(wt=n(nt).column.options)==null?void 0:wt.vizViolin}),"vizOpts");n(Q);const zt=p(m(()=>n(C)[n(nt).column.id]),"dynamicVizWidth");n(zt);const gt=p(m(()=>{var wt;return b(typeof n(zt),"number")?n(zt):n(nt).column.width??((wt=n(Q))==null?void 0:wt.width)??n(a).forestWidth}),"vizWidth");n(gt);const Pe=p(m(()=>n(Pt).get(n(nt).column.id)??0),"vizLeft");n(Pe);const ve=p(m(()=>{var wt;return((wt=n(l))==null?void 0:wt.spacing.axisGap)??Qn.DEFAULT_AXIS_GAP}),"axisGap");n(ve);const ae=p(m(()=>n(gn).get(n(nt).column.id)),"sharedScale");n(ae);var pe=Ct(),Be=yt(pe);{var Me=wt=>{var kt=pp();let Bt;var se=K(kt);wn(()=>n(i),(Qt,Ft)=>xt(Qt,Ft)),I(()=>He(se,19,()=>n(i),(Qt,Ft)=>xt(Qt,Ft),(Qt,Ft,he)=>{var _t=Ct(),ot=yt(_t);{var Lt=ne=>{const Se=p(m(()=>n(ut).positions[n(he)]??n(he)*n(a).rowHeight),"rowY");n(Se);const Fe=p(m(()=>n(ut).heights[n(he)]??n(a).rowHeight),"rowH");n(Fe);{let me=m(()=>n(Se)+n(Fe)/2);I(()=>nr(ne,{get row(){return n(Ft).row},get yPosition(){return n(me)},get rowHeight(){return n(Fe)},get width(){return n(gt)},get options(){return n(Q)},get theme(){return n(l)},get sharedScale(){return n(ae)}}),"component",G,1355,18,{componentTag:"VizViolin"})}};I(()=>X(ot,ne=>{b(n(Ft).type,"data")&&ne(Lt)}),"if",G,1352,16)}z(Qt,_t)}),"each",G,1351,14);var ze=rt(se);{var pn=Qt=>{var Ft=vp(),he=K(Ft);{let _t=m(()=>({...n(a),forestWidth:n(gt),nullValue:0})),ot=m(()=>n(Q).axisLabel??"Value");I(()=>Hn(he,{get xScale(){return n(ae)},get layout(){return n(_t)},get theme(){return n(l)},get axisLabel(){return n(ot)},position:"bottom",get plotHeight(){return n(vt)},get baseTicks(){return n(Q).axisTicks},get gridlines(){return n(Q).axisGridlines}}),"component",G,1370,18,{componentTag:"EffectAxis"})}tt(()=>W(Ft,"transform",`translate(0, ${n(vt)+n(ve)})`)),z(Qt,Ft)};I(()=>X(ze,Qt=>{b(n(Q).showAxis,!1,!1)&&n(ae)&&Qt(pn)}),"if",G,1368,14)}tt(()=>{W(kt,"width",n(gt)),W(kt,"height",n(vt)+n(a).axisHeight),W(kt,"viewBox",`0 0 ${n(gt)??""} ${n(vt)+n(a).axisHeight}`),Bt=Ce(kt,"",Bt,{top:`${n(be)??""}px`,left:`${n(Pe)??""}px`})}),z(wt,kt)};I(()=>X(Be,wt=>{n(Q)&&wt(Me)}),"if",G,1341,10)}z(pt,pe)}),"each",G,1334,8);var Re=rt(St,2);{let pt=m(()=>{var Q;return(Q=n(r).labels)==null?void 0:Q.caption}),nt=m(()=>{var Q;return(Q=n(r).labels)==null?void 0:Q.footnote});I(()=>Br(Re,{get caption(){return n(pt)},get footnote(){return n(nt)}}),"component",G,1388,6,{componentTag:"PlotFooter"})}no(ht,pt=>at(Z,pt),()=>n(Z)),tt(()=>{Ie=dn(St,1,"tabviz-main svelte-14l8yxx",null,Ie,{"has-header":n(S)}),Ln=Ce(St,"",Ln,{"grid-template-columns":n(qt)}),Ta=Ce(Vt,"",Ta,{"grid-row":`1 / span ${n(de)??""}`}),$t(Kt,n(_))})}var je=rt(ht,2);{let Ot=m(()=>{var Ie,Ln;return(Ln=(Ie=n(r))==null?void 0:Ie.interaction)==null?void 0:Ln.tooltipFields});I(()=>wo(je,{get row(){return n(N)},get position(){return n(H)},get fields(){return n(Ot)},get theme(){return n(l)}}),"component",G,1392,4,{componentTag:"Tooltip"})}tt(()=>Dt=Ce(ht,"",Dt,{"margin-left":`${n(U)??""}px`})),z(A,B)},O=A=>{var B=yp();z(A,B)};I(()=>X(Pn,A=>{n(r)?A(ii):A(O,!1)}),"if",G,852,2)}return no(Oe,A=>at(L,A),()=>n(L)),tt(A=>{cn=dn(Oe,1,"tabviz-container svelte-14l8yxx",null,cn,{"auto-fit":n(E),"has-max-width":b(n(T),null,!1),"has-max-height":b(n(R),null,!1),zoomed:b(n(w),1,!1)}),W(Oe,"data-zoom",`${A??""}%`),Ce(Oe,`${n($r)??""}; ${n(E)&&n(Y)>0?`height: ${n(Y)}px`:""}`)},[()=>Math.round(n(F)*100)]),z(t,Oe),xe(yr)}to(["pointerdown","click","keydown"]),Ve[P]="src/components/split/SplitSidebar.svelte";var xp=V(ft('<span class="tree-line svelte-1c2ts73"></span>'),Ve[P],[[101,8]]),wp=V(Rt('<svg width="12" height="12" viewBox="0 0 12 12" fill="none"><rect x="1" y="1" width="10" height="10" rx="2" stroke="currentColor" stroke-width="1.2"></rect><line x1="3" y1="6" x2="9" y2="6" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"></line></svg>'),Ve[P],[[119,14,[[120,16],[121,16]]]]),bp=V(Rt('<svg width="12" height="12" viewBox="0 0 12 12" fill="none"><rect x="1" y="1" width="10" height="10" rx="2" stroke="currentColor" stroke-width="1.2"></rect><line x1="6" y1="3" x2="6" y2="9" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"></line><line x1="3" y1="6" x2="9" y2="6" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"></line></svg>'),Ve[P],[[124,14,[[125,16],[126,16],[127,16]]]]),Mp=V(ft("<span><!></span>"),Ve[P],[[117,10]]),Sp=V(ft('<div class="section-header nested svelte-1c2ts73"> </div>'),Ve[P],[[139,10]]),Ep=V(ft('<div class="children-wrapper svelte-1c2ts73"><!> <ul class="tree-list nested svelte-1c2ts73"></ul></div>'),Ve[P],[[137,6,[[141,8]]]]),kp=V(ft('<li><div class="tree-row svelte-1c2ts73"><!> <button><!> <span class="label svelte-1c2ts73"> </span></button></div> <!></li>'),Ve[P],[[98,2,[[99,4,[[103,6,[[132,8]]]]]]]]),Cp=V(ft('<div class="sidebar-collapsed svelte-1c2ts73"><button class="toggle-btn svelte-1c2ts73" title="Expand navigation"><svg width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M7 4L12 9L7 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div>'),Ve[P],[[41,2,[[42,4,[[47,6,[[48,8]]]]]]]]),Tp=V(ft('<div class="section-header svelte-1c2ts73"> </div>'),Ve[P],[[80,8]]),Np=V(ft('<aside class="split-sidebar svelte-1c2ts73" role="navigation" aria-label="Subgroup navigation"><div class="sidebar-header svelte-1c2ts73"><span class="sidebar-title svelte-1c2ts73">Subgroups</span> <button class="toggle-btn svelte-1c2ts73" title="Collapse navigation"><svg width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M11 4L6 9L11 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div> <div class="sidebar-search svelte-1c2ts73"><input type="text" placeholder="Search..." class="search-input svelte-1c2ts73"/></div> <nav class="sidebar-nav svelte-1c2ts73"><!> <ul class="tree-list svelte-1c2ts73"></ul></nav></aside>'),Ve[P],[[53,2,[[54,4,[[55,6],[56,6,[[61,8,[[62,10]]]]]]],[67,4,[[68,6]]],[78,4,[[83,6]]]]]]);function Ve(t,e){Ee(new.target),_e(e,!0,Ve);const r=zl(Ve,function(x,S=mi,N=mi,H=mi){Pl(...arguments);const M=p(m(()=>S().children&&S().children.length>0),"hasChildren");n(M);const k=p(m(()=>n(a).has(S().key)),"isExpanded");n(k);const w=p(m(()=>b(n(i),S().key)),"isActive");n(w);const E=p(m(()=>!n(M)),"isLeaf");n(E);var F=kp();let T;var R=K(F),C=K(R);{var L=J=>{var et=xp();z(J,et)};I(()=>X(C,J=>{N()>0&&J(L)}),"if",Ve,100,6)}var Z=rt(C,2);let st;Z.__click=()=>{n(E)?e.store.selectSpec(S().key):e.store.toggleExpanded(S().key)},Z.__keydown=u;var D=K(Z);{var $=J=>{var et=Mp();let ut;var vt=K(et);{var Et=xt=>{var ue=wp();z(xt,ue)},bt=xt=>{var ue=bp();z(xt,ue)};I(()=>X(vt,xt=>{n(k)?xt(Et):xt(bt,!1)}),"if",Ve,118,12)}tt(()=>ut=dn(et,1,"tree-toggle svelte-1c2ts73",null,ut,{expanded:n(k)})),z(J,et)};I(()=>X(D,J=>{n(M)&&J($)}),"if",Ve,116,8)}var it=rt(D,2),Y=K(it,!0);var U=rt(R,2);{var lt=J=>{var et=Ep(),ut=K(et);{var vt=bt=>{var xt=Sp(),ue=K(xt,!0);tt(te=>{Ce(xt,`--depth: ${N()??""}`),$t(ue,te)},[()=>h(n(c)[N()+1])]),z(bt,xt)};I(()=>X(ut,bt=>{n(c).length>N()+1&&bt(vt)}),"if",Ve,138,8)}var Et=rt(ut,2);I(()=>He(Et,21,()=>S().children,Zn,(bt,xt,ue)=>{I(()=>r(bt,()=>n(xt),()=>N()+1,()=>b(ue,S().children.length-1)),"render",Ve,143,12)}),"each",Ve,142,10),z(J,et)};I(()=>X(U,J=>{n(M)&&n(k)&&J(lt)}),"if",Ve,136,4)}tt(()=>{T=dn(F,1,"tree-item svelte-1c2ts73",null,T,{"is-last":H()}),Ce(R,`--depth: ${N()??""}`),st=dn(Z,1,"node-btn svelte-1c2ts73",null,st,{active:n(w),parent:n(M)}),$t(Y,S().label)}),z(x,F)}),o=p(m(()=>e.store.navTree),"navTree"),i=p(m(()=>e.store.activeKey),"activeKey"),a=p(m(()=>e.store.expandedNodes),"expandedNodes"),s=p(m(()=>e.store.searchQuery),"searchQuery"),c=p(m(()=>e.store.splitVars),"splitVars"),f=p(m(()=>e.store.sidebarCollapsed),"collapsed");function l(x){const S=x.target;e.store.setSearch(S.value)}function u(x){b(x.key,"ArrowDown")?(x.preventDefault(),e.store.selectNext()):b(x.key,"ArrowUp")&&(x.preventDefault(),e.store.selectPrevious())}function h(x){return x.replace(/_/g," ").replace(/\b\w/g,S=>S.toUpperCase())}var d={...ke()},g=Ct(),v=yt(g);{var y=x=>{var S=Cp(),N=K(S);N.__click=()=>e.store.toggleSidebar(),z(x,S)},_=x=>{var S=Np(),N=K(S),H=rt(K(N),2);H.__click=()=>e.store.toggleSidebar();var M=rt(N,2),k=K(M);k.__input=l,k.__keydown=u;var w=rt(M,2),E=K(w);{var F=R=>{var C=Tp(),L=K(C);tt(Z=>$t(L,Z),[()=>h(n(c)[0])]),z(R,C)};I(()=>X(E,R=>{n(c).length>0&&R(F)}),"if",Ve,79,6)}var T=rt(E,2);I(()=>He(T,21,()=>n(o),Zn,(R,C,L)=>{I(()=>r(R,()=>n(C),()=>0,()=>b(L,n(o).length-1)),"render",Ve,85,10)}),"each",Ve,84,8),tt(()=>Ol(k,n(s))),z(x,S)};I(()=>X(v,x=>{n(f)?x(y):x(_,!1)}),"if",Ve,40,0)}return z(t,g),xe(d)}to(["click","keydown","input"]),On[P]="src/lib/SplitForestPlot.svelte";var Hp=V(ft('<div class="split-forest-empty svelte-1y0d7q9">Select a plot from the sidebar</div>'),On[P],[[57,8]]),Ap=V(ft('<!> <div class="split-forest-main svelte-1y0d7q9"><!></div>',1),On[P],[[51,4]]),Wp=V(ft('<div class="split-forest-loading svelte-1y0d7q9">Loading...</div>'),On[P],[[63,4]]),Rp=V(ft('<div class="split-forest-container svelte-1y0d7q9"><!></div>'),On[P],[[45,0]]);function On(t,e){Ee(new.target),_e(e,!0,On);const r=p(m(()=>e.store.activeStore),"activeStore"),o=p(m(()=>e.store.activeKey),"activeKey"),i=p(m(()=>e.store.payload),"payload"),a=p(m(()=>e.store.sidebarWidth),"sidebarWidth");function s(v){e.store.setTheme(v)}let c=p(Mt(void 0),"containerRef");Si(()=>{if(!n(c))return;const v=new ResizeObserver(y=>{for(const _ of y){const{width:x,height:S}=_.contentRect;e.store.setDimensions(x,S)}});return v.observe(n(c)),()=>{v.disconnect()}});var f={...ke()},l=Rp();let u;var h=K(l);{var d=v=>{var y=Ap(),_=yt(y);I(()=>Ve(_,{get store(){return e.store}}),"component",On,48,4,{componentTag:"SplitSidebar"});var x=rt(_,2),S=K(x);{var N=M=>{var k=Ct(),w=yt(k);I(()=>qu(w,()=>n(o),E=>{I(()=>G(E,{get store(){return n(r)},onThemeChange:s}),"component",On,54,10,{componentTag:"ForestPlot"})}),"key",On,53,8),z(M,k)},H=M=>{var k=Hp();z(M,k)};I(()=>X(S,M=>{n(r).spec?M(N):M(H,!1)}),"if",On,52,6)}z(v,y)},g=v=>{var y=Wp();z(v,y)};I(()=>X(h,v=>{n(i)?v(d):v(g,!1)}),"if",On,46,2)}return no(l,v=>at(c,v),()=>n(c)),tt(()=>u=Ce(l,"",u,{"--sidebar-width":`${n(a)??""}px`})),z(t,l),xe(f)}function Ip(){let t=p(Mt(null),"spec"),e=p(Mt(800),"initialWidth"),r=p(Mt(400),"initialHeight"),o=p(Mt(lr(new Set)),"selectedRowIds"),i=p(Mt(lr(new Set)),"collapsedGroups"),a=p(Mt(null),"sortConfig"),s=p(Mt(null),"filterConfig"),c=p(Mt(null),"hoveredRowId"),f=p(Mt(null),"tooltipRowId"),l=p(Mt(null),"tooltipPosition"),u=p(Mt(lr({})),"columnWidths"),h=p(Mt(null),"plotWidthOverride"),d=p(Mt(1),"zoom"),g=p(Mt(!0),"autoFit"),v=p(Mt(null),"maxWidth"),y=p(Mt(null),"maxHeight"),_=p(Mt(!0),"showZoomControls"),x=p(Mt(0),"containerWidth"),S=p(Mt(0),"containerHeight"),N=p(Mt(0),"scalableNaturalWidth"),H=p(Mt(0),"scalableNaturalHeight"),M=p(Mt(null),"containerElementId");const k=p(m(()=>n(x)>0?n(x):n(e)),"effectiveWidth"),w=p(m(()=>n(S)>0?n(S):n(r)),"effectiveHeight"),E=p(m(()=>{if(!n(t))return[];let O=[...n(t).data.rows];return n(s)&&(O=zp(O,n(s))),n(a)&&(O=Fp(O,n(a))),O}),"visibleRows"),F=p(m(()=>{var Kt,Xe;if(!n(t))return{axisLimits:[0,1],plotRegion:[0,1],ticks:[0,.5,1]};const O=(Kt=n(Z)[0])==null?void 0:Kt.column,B=n(Z).length>0?n(h)??Math.max(n(k)*.25,200):0,j=(Xe=O==null?void 0:O.options)==null?void 0:Xe.forest,ht=(j==null?void 0:j.scale)??"linear",Dt=(j==null?void 0:j.nullValue)??(b(ht,"log")?1:0),Tt=(j==null?void 0:j.effects)??[],At=(j==null?void 0:j.point)??null,St=(j==null?void 0:j.lower)??null,Vt=(j==null?void 0:j.upper)??null,re={...n(t).theme.axis};return j!=null&&j.axisRange&&Array.isArray(j.axisRange)&&b(j.axisRange.length,2)&&(re.rangeMin=j.axisRange[0],re.rangeMax=j.axisRange[1]),j!=null&&j.axisTicks&&Array.isArray(j.axisTicks)&&(re.tickValues=j.axisTicks),Yl({rows:n(t).data.rows,config:re,scale:ht,nullValue:Dt,forestWidth:B,pointSize:n(t).theme.shapes.pointSize,effects:Tt,pointCol:At,lowerCol:St,upperCol:Vt})}),"axisComputation"),T=p(m(()=>{var St,Vt;if(!n(t))return er().domain([0,1]).range([0,100]);const O=(St=n(Z)[0])==null?void 0:St.column,A=(Vt=O==null?void 0:O.options)==null?void 0:Vt.forest,B=b((A==null?void 0:A.scale)??"linear","log"),{plotRegion:j}=n(F),Dt=n(Z).length>0?n(h)??Math.max(n(k)*.25,200):0,Tt=Nn,At=Math.max(Dt-Nn,Tt+50);if(B){const re=[Math.max(j[0],.01),Math.max(j[1],.02)];return Gr().domain(re).range([Tt,At])}return er().domain(j).range([Tt,At])}),"xScale");function R(O){const A=[];for(const B of O)B.isGroup?A.push(...R(B.columns)):A.push(B);return A}const C=p(m(()=>n(t)?R(n(t).columns):[]),"allColumns"),L=p(m(()=>n(t)?n(t).columns:[]),"allColumnDefs"),Z=p(m(()=>{if(!n(t))return[];const O=[],A=n(C);for(let B=0;B<A.length;B++)b(A[B].type,"forest")&&O.push({index:B,column:A[B]});return O}),"forestColumns"),st=p(m(()=>n(Z).length>0),"hasExplicitForestColumns"),D=p(m(()=>{if(!n(t))return[];const O=[],A=n(C),B=["forest","viz_bar","viz_boxplot","viz_violin"];for(let j=0;j<A.length;j++)B.includes(A[j].type)&&O.push({index:j,column:A[j]});return O}),"vizColumns"),$=p(m(()=>n(D).length>0),"hasVizColumns"),it=p(m(()=>{const O=new Map;if(!n(t))return O;for(const A of n(t).data.groups)O.set(A.id,A);return O}),"groupMap"),Y=p(m(()=>{const O=new Map;if(!n(t))return O;for(const A of n(t).data.groups)O.set(A.id,A.depth);return O}),"groupDepthMap");function U(O){return O?(n(Y).get(O)??0)+1:0}function lt(O){if(!O)return!1;let A=O;for(;A;){const B=n(it).get(A);if(!B)break;if(B.parentId&&n(i).has(B.parentId))return!0;A=B.parentId}return!1}const J=p(m(()=>{var Tt;if(!n(t))return[];const O=[],A=new Map;for(const At of n(E)){const St=At.groupId??null;A.has(St)||A.set(St,[]),A.get(St).push(At)}const B=new Set;for(const At of A.keys()){if(!At)continue;let St=At;for(;St;)B.add(St),St=(Tt=n(it).get(St))==null?void 0:Tt.parentId}function j(At){return n(t).data.groups.filter(St=>b(St.parentId??null,At)&&B.has(St.id))}function ht(At){var Vt;let St=((Vt=A.get(At))==null?void 0:Vt.length)??0;for(const re of j(At))St+=ht(re.id);return St}function Dt(At){if(At){const Vt=n(it).get(At);if(!Vt||lt(At))return;const re=n(i).has(Vt.id),Kt=ht(At);if(O.push({type:"group_header",group:{...Vt,collapsed:re},rowCount:Kt,depth:Vt.depth}),re)return}for(const Vt of j(At))Dt(Vt.id);const St=A.get(At)??[];for(const Vt of St)O.push({type:"data",row:Vt,depth:U(Vt.groupId)})}return Dt(null),O}),"displayRows"),et=p(m(()=>{var ee,le,ct;if(!n(t))return{totalWidth:n(k),totalHeight:n(w),tableWidth:300,forestWidth:400,headerHeight:36,rowHeight:28,plotHeight:300,axisHeight:32,nullValue:0,summaryYPosition:0,showOverallSummary:!1,rowPositions:[],rowHeights:[]};const O=n(t).theme.spacing.rowHeight,A=n(t).theme.spacing.headerHeight,j=(n(t).theme.spacing.axisGap??Qn.DEFAULT_AXIS_GAP)+kr.AXIS_HEIGHT+kr.AXIS_LABEL_HEIGHT,Dt=n(Z).length>0?n(h)??Math.max(n(k)*.25,200):0,Tt=n(k)-Dt,At=!!n(t).data.overall,St=[];for(const Nt of n(J))b(Nt.type,"data")&&b((ee=Nt.row.style)==null?void 0:ee.type,"spacer")?St.push(O/2):St.push(O);const Vt=[];let re=0;for(const Nt of St)Vt.push(re),re+=Nt;const Kt=re+(At?O*1.5:0),Xe=(le=n(Z)[0])==null?void 0:le.column,jt=(ct=Xe==null?void 0:Xe.options)==null?void 0:ct.forest,$e=(jt==null?void 0:jt.scale)??"linear",ie=(jt==null?void 0:jt.nullValue)??(b($e,"log")?1:0);return{totalWidth:n(k),totalHeight:Math.max(n(w),Kt+A+j+n(t).theme.spacing.padding*2),tableWidth:Tt,forestWidth:Dt,headerHeight:A,rowHeight:O,plotHeight:Kt,axisHeight:j,nullValue:ie,summaryYPosition:Kt-O,showOverallSummary:At,rowPositions:Vt,rowHeights:St}}),"layout"),ut=p(m(()=>{if(!n(t))return 800;const O=100,A=150;let B=0;for(const Dt of n(C)){if(b(Dt.type,"forest"))continue;const Tt=n(u)[Dt.id]??(b(typeof Dt.width,"number")?Dt.width:null)??O;B+=Tt}B+=n(u).__label__??A;const j=n(et).forestWidth,ht=n(t).theme.spacing.padding*2;return B+j+ht}),"naturalContentWidth"),vt=p(m(()=>{if(n(x)<=0||n(N)<=0)return 1;const O=n(N)*n(d);return O>n(x)?n(x)/O:1}),"fitScale"),Et=p(m(()=>n(g)?Math.max(.5,n(d)*n(vt)):Math.max(.5,Math.min(2,n(d)))),"actualScale"),bt=p(m(()=>n(g)&&n(vt)<1),"isClamped");function xt(O){at(t,{...O},!0),at(i,new Set(O.data.groups.filter(A=>A.collapsed).map(A=>A.id)),!0),ue()}function ue(){if(!n(t)||b(typeof document,"undefined"))return;const O=n(t).theme.typography.fontFamily;let A=n(t).theme.typography.fontSizeBase;if(b(typeof A,"string")&&(A.endsWith("rem")||A.endsWith("em"))){const B=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;A=`${parseFloat(A)*B}px`}te(A,O),document.fonts&&document.fonts.ready&&document.fonts.ready.then(()=>{te(A,O,!0)})}function te(O,A,B=!1){var ee,le;if(!n(t))return;const ht=document.createElement("canvas").getContext("2d");if(!ht)return;const Dt=n(t).theme.typography.headerFontScale??1.05;let Tt=O;if(b(typeof O,"string")){const ct=O.match(/^([\d.]+)(px|rem|em)$/);ct&&(Tt=`${parseFloat(ct[1])*Dt}${ct[2]}`)}const St=`${n(t).theme.typography.fontWeightBold??600} ${Tt} ${A}`,Vt=`${O} ${A}`,re=(n(t).theme.spacing.cellPaddingX??10)*2,Kt=(n(t).theme.spacing.groupPadding??8)*2;function Xe(ct){return ct.isGroup?ct.columns.flatMap(Xe):[ct]}function jt(ct){return b(n(u)[ct.id],void 0,!1)?n(u)[ct.id]:b(typeof ct.width,"number")?ct.width:Jn.MIN}function $e(ct){var Re,je;if(b(typeof ct.width,"number")||ge(ct.width,null,!1)&&b(ct.width,"auto",!1))return;let Nt=0;ct.header&&(ht.font=St,Nt=Math.max(Nt,ht.measureText(ct.header).width)),ht.font=Vt;for(const Ot of n(t).data.rows){if(b((Re=Ot.style)==null?void 0:Re.type,"header")||b((je=Ot.style)==null?void 0:je.type,"spacer"))continue;const Ie=Bc(Ot,ct);Ie&&(Nt=Math.max(Nt,ht.measureText(Ie).width))}const Ke=Jn.VISUAL_MIN[ct.type]??Jn.MIN,We=Math.min(Jn.MAX,Math.max(Ke,Math.ceil(Nt+re+Qn.RENDERING_BUFFER)));n(u)[ct.id]=We}function ie(ct){if(ct.isGroup){for(const Nt of ct.columns)ie(Nt);if(ct.header){ht.font=St;const Nt=ht.measureText(ct.header).width+Kt+Qn.RENDERING_BUFFER,Ke=Xe(ct),We=Ke.reduce((Re,je)=>Re+jt(je),0);if(Nt>We&&Ke.length>0){const Re=Math.ceil((Nt-We)/Ke.length);for(const je of Ke)n(u)[je.id]=jt(je)+Re}}return}$e(ct)}for(const ct of n(t).columns)ie(ct);if(n(t).data.labelCol){let ct=function(Ot){let Ie=0;for(const Ln of n(t).data.rows)b(Ln.groupId,Ot)&&Ie++;for(const Ln of n(t).data.groups)b(Ln.parentId,Ot)&&(Ie+=ct(Ln.id));return Ie},Nt=0;const Ke=new Map;for(const Ot of n(t).data.groups)Ke.set(Ot.id,Ot.depth);const We=Ot=>Ot?(Ke.get(Ot)??0)+1:0;n(t).data.labelHeader&&(ht.font=St,Nt=Math.max(Nt,ht.measureText(n(t).data.labelHeader).width)),ht.font=Vt;const Re=parseFloat(O);for(const Ot of n(t).data.rows)if(Ot.label){const Ie=We(Ot.groupId),Ln=((ee=Ot.style)==null?void 0:ee.indent)??0,pt=(Ie+Ln)*Le.INDENT_PER_LEVEL;let nt=ht.measureText(Ot.label).width+pt;if((le=Ot.style)!=null&&le.badge){const Q=String(Ot.style.badge),zt=Re*Er.FONT_SCALE;ht.font=`${zt}px ${A}`;const Pe=ht.measureText(Q).width+Er.PADDING*2;nt+=Er.GAP+Pe,ht.font=Vt}Nt=Math.max(Nt,nt)}ht.font=St;for(const Ot of n(t).data.groups)if(Ot.label){const Ie=Ot.depth*Le.INDENT_PER_LEVEL,Ln=ht.measureText(Ot.label).width,pt=`(${ct(Ot.id)})`,nt=Re*.75;ht.font=`${nt}px ${A}`;const Q=ht.measureText(pt).width;ht.font=St;const zt=Ie+ro.CHEVRON_WIDTH+ro.GAP+Ln+ro.GAP+Q+ro.SAFETY_MARGIN;Nt=Math.max(Nt,zt)}const je=Math.min(Jn.LABEL_MAX,Math.max(Jn.MIN,Math.ceil(Nt+re+Qn.RENDERING_BUFFER)));n(u).__label__=je}}function Te(O,A){at(e,O,!0),at(r,A,!0)}function de(O){const A=new Set(n(o));A.has(O)?A.delete(O):A.add(O),at(o,A,!0)}function mt(O,A){const B=new Set(n(i));A??!B.has(O)?B.add(O):B.delete(O),at(i,B,!0)}function Ht(O,A){at(a,b(A,"none")?null:{column:O,direction:A},!0)}function Zt(O){at(s,O,!0)}function qt(O){at(c,O,!0)}function Ut(O,A){at(f,O,!0),at(l,A,!0)}function Ae(O,A){n(u)[O]=Math.max(40,A)}function Pt(O){return n(u)[O]}function Gt(O){at(h,b(O,null)?null:Math.max(100,O),!0)}function Ze(){return n(h)}function Ye(O){const A=Hg[O];!n(t)||!A||at(t,{...n(t),theme:A},!0)}function be(O){at(d,Math.max(.5,Math.min(2,O)),!0),Oe()}function gn(){at(d,1),Oe()}function En(){be(n(d)*1.1)}function Xt(){be(n(d)/1.1)}function Wt(O){at(g,O,!0),Oe()}function De(){!n(x)||!n(N)||(at(d,Math.min(2,Math.max(.5,n(x)/n(N))),!0),Oe())}function qn(O){at(v,O,!0),Oe()}function mr(O){at(y,O,!0),Oe()}function kn(O){at(_,O,!0)}function en(O,A){at(x,O,!0),at(S,A,!0)}function vn(O,A){at(N,O,!0),at(H,A,!0)}function $r(O){at(M,O,!0),O&&cn()}function yr(){return n(M)?`tabviz_zoom_${n(M)}`:null}function Oe(){const O=yr();if(O)try{const A={zoom:n(d),autoFit:n(g),maxWidth:n(v),maxHeight:n(y),version:2};localStorage.setItem(O,JSON.stringify(A))}catch{}}function cn(){const O=yr();if(O)try{const A=localStorage.getItem(O);if(A){const B=JSON.parse(A);b(B.version,2)&&(at(d,B.zoom??1,!0),at(g,B.autoFit??!0,!0),at(v,B.maxWidth??null,!0),at(y,B.maxHeight??null,!0))}}catch{}}function Pn(){at(o,new Set,!0),at(i,new Set,!0),at(a,null),at(s,null),at(u,{},!0),at(h,null),at(d,1),at(g,!0),at(v,null),at(y,null),at(c,null),at(f,null),at(l,null)}const ii=p(m(()=>!n(f)||!n(t)?null:n(t).data.rows.find(O=>b(O.id,n(f)))??null),"tooltipRow");return{get spec(){return n(t)},get width(){return n(k)},get height(){return n(w)},get visibleRows(){return n(E)},get xScale(){return n(T)},get axisComputation(){return n(F)},get layout(){return n(et)},get selectedRowIds(){return n(o)},get collapsedGroups(){return n(i)},get hoveredRowId(){return n(c)},get allColumns(){return n(C)},get allColumnDefs(){return n(L)},get forestColumns(){return n(Z)},get hasExplicitForestColumns(){return n(st)},get vizColumns(){return n(D)},get hasVizColumns(){return n($)},get displayRows(){return n(J)},get tooltipRow(){return n(ii)},get tooltipPosition(){return n(l)},get columnWidths(){return n(u)},get zoom(){return n(d)},get autoFit(){return n(g)},get actualScale(){return n(Et)},get isClamped(){return n(bt)},get maxWidth(){return n(v)},get maxHeight(){return n(y)},get showZoomControls(){return n(_)},get naturalContentWidth(){return n(ut)},getRowDepth:U,getColumnWidth:Pt,getPlotWidth:Ze,getExportDimensions(){var Kt,Xe,jt,$e,ie;const O=n(T).domain(),A=[],B={},j={},ht=n(u).__label__??150;j.__label__=ht;let Dt=ht;for(const ee of n(C)){A.push(ee.id),B[ee.id]=Dt;let le;b(ee.type,"forest")?le=n(u)[ee.id]??(b(typeof ee.width,"number")?ee.width:null)??((Xe=(Kt=ee.options)==null?void 0:Kt.forest)==null?void 0:Xe.width)??n(et).forestWidth:le=n(u)[ee.id]??(b(typeof ee.width,"number")?ee.width:100),j[ee.id]=le,Dt+=le}const Tt=[];for(const ee of n(Z)){const le=ee.column,ct=(jt=le.options)==null?void 0:jt.forest,Nt=j[le.id]??n(et).forestWidth,Ke=(ct==null?void 0:ct.scale)??"linear",We=(ct==null?void 0:ct.nullValue)??(b(Ke,"log")?1:0);Tt.push({columnId:le.id,xPosition:B[le.id],width:Nt,xDomain:O,clipBounds:n(F).axisLimits,ticks:n(F).ticks,scale:Ke,nullValue:We,axisLabel:(ct==null?void 0:ct.axisLabel)??"Effect"})}const At=[],St=[];let Vt=0;for(const ee of n(J)){const le=b(ee.type,"data")&&b(($e=ee.row.style)==null?void 0:$e.type,"spacer")?n(et).rowHeight/2:n(et).rowHeight;St.push(Vt),At.push(le),Vt+=le}const re=n(L).some(ee=>ee.isGroup)?2:1;return{columnOrder:A,columnWidths:j,columnPositions:B,forestColumns:Tt,rowHeights:At,rowPositions:St,totalRowsHeight:Vt,headerHeight:n(et).headerHeight,headerDepth:re,width:n(ut)*n(d),height:(n(H)||400)*n(d),naturalWidth:Dt,naturalHeight:Vt+n(et).headerHeight+n(et).axisHeight,forestWidth:(((ie=Tt[0])==null?void 0:ie.width)??n(et).forestWidth)*n(d),xDomain:O,clipBounds:n(F).axisLimits,scale:n(d)}},setSpec:xt,setDimensions:Te,selectRow:de,toggleGroup:mt,sortBy:Ht,setFilter:Zt,setHovered:qt,setTooltip:Ut,setColumnWidth:Ae,setPlotWidth:Gt,setTheme:Ye,setZoom:be,resetZoom:gn,zoomIn:En,zoomOut:Xt,setAutoFit:Wt,fitToWidth:De,setMaxWidth:qn,setMaxHeight:mr,setShowZoomControls:kn,setContainerDimensions:en,setScalableNaturalDimensions:vn,setContainerElementId:$r,resetState:Pn}}function zp(t,e){return t.filter(r=>{const o=r.metadata[e.field]??r[e.field];switch(e.operator){case"eq":return b(o,e.value);case"neq":return b(o,e.value,!1);case"gt":return b(typeof o,"number")&&o>e.value;case"lt":return b(typeof o,"number")&&o<e.value;case"contains":return b(typeof o,"string")&&o.toLowerCase().includes(e.value.toLowerCase());default:return!0}})}function Fp(t,e){const r=[...t],{column:o,direction:i}=e;return r.sort((a,s)=>{const c=a.metadata[o]??a[o],f=s.metadata[o]??s[o];let l=0;return b(typeof c,"number")&&b(typeof f,"number")?l=c-f:b(typeof c,"string")&&b(typeof f,"string")&&(l=c.localeCompare(f)),b(i,"desc")?-l:l}),r}function Qc(){let t=p(Mt(null),"payload"),e=p(Mt(null),"activeKey"),r=p(Mt(""),"searchQuery"),o=p(Mt(lr(new Set)),"expandedNodes"),i=p(Mt(!1),"sidebarCollapsed"),a=p(Mt(null),"userTheme"),s=p(Mt(800),"containerWidth"),c=p(Mt(600),"containerHeight");const f=216,l=44,u=Ip(),h=p(m(()=>n(t)?n(r).trim()?Jc(n(t).navTree,n(r).toLowerCase()):n(t).navTree:[]),"filteredNavTree"),d=p(m(()=>!n(e)||!n(t)?null:n(t).specs[n(e)]??null),"activeSpec"),g=p(m(()=>n(t)?Pp(n(t).navTree):[]),"allLeafKeys"),v=p(m(()=>n(e)?n(g).indexOf(n(e)):-1),"currentIndex"),y=p(m(()=>{var C;return((C=n(t))==null?void 0:C.splitVars)??[]}),"splitVars"),_=p(m(()=>n(i)?l:f),"effectiveSidebarWidth");function x(C){at(t,C,!0);const L=tf(C.navTree);L&&S(L)}function S(C){if(!n(t))return;at(e,C,!0);const L=n(t).specs[C];L&&(u.setSpec(L),n(a)&&u.setTheme(n(a)),u.setDimensions(n(s)-n(_),n(c))),w(C)}function N(C,L){at(s,C,!0),at(c,L,!0),u.setDimensions(C-n(_),L)}function H(){at(i,!n(i)),u.setDimensions(n(s)-n(_),n(c))}function M(C){at(r,C,!0)}function k(C){const L=new Set(n(o));L.has(C)?L.delete(C):L.add(C),at(o,L,!0)}function w(C){const L=C.split("__"),Z=new Set;let st="";for(let D=0;D<L.length-1;D++)st=st?`${st}__${L[D]}`:L[D],Z.add(st);at(o,Z,!0)}function E(){n(v)>=0&&n(v)<n(g).length-1&&S(n(g)[n(v)+1])}function F(){n(v)>0&&S(n(g)[n(v)-1])}function T(C){at(a,C,!0),u.setTheme(C)}function R(){if(at(a,null),n(e)&&n(t)){const C=n(t).specs[n(e)];C&&(u.setSpec(C),u.setDimensions(n(s)-n(_),n(c)))}}return{get payload(){return n(t)},get activeKey(){return n(e)},get activeSpec(){return n(d)},get activeStore(){return u},get navTree(){return n(h)},get searchQuery(){return n(r)},get expandedNodes(){return n(o)},get splitVars(){return n(y)},get sidebarWidth(){return n(_)},get sidebarCollapsed(){return n(i)},get userTheme(){return n(a)},setPayload:x,selectSpec:S,setDimensions:N,setSearch:M,toggleExpanded:k,toggleSidebar:H,selectNext:E,selectPrevious:F,setTheme:T,resetTheme:R}}function Jc(t,e){const r=[];for(const o of t){const i=o.label.toLowerCase().includes(e);if(o.children&&o.children.length>0){const a=Jc(o.children,e);(a.length>0||i)&&r.push({...o,children:a.length>0?a:o.children})}else i&&r.push(o)}return r}function tf(t){for(const e of t){if(!e.children||b(e.children.length,0))return e.key;const r=tf(e.children);if(r)return r}return null}function Pp(t){const e=[];function r(o){for(const i of o)!i.children||b(i.children.length,0)?e.push(i.key):r(i.children)}return r(t),e}const ef=new Map,Lp={name:"tabviz_split",type:"output",factory:(t,e,r)=>{let o=null;const i=Qc();return t.id&&ef.set(t.id,i),{renderValue:a=>{i.setPayload(a),i.setDimensions(e,r),t.style.height="100%",t.style.minHeight="400px",o&&Gu(o),o=Du(On,{target:t,props:{store:i}}),window.Shiny&&t.id&&Dp(t.id,i)},resize:(a,s)=>{i.setDimensions(a,s)}}}};function Dp(t,e){Eu(()=>{Si(()=>{var o;const r=e.activeKey;(o=window.Shiny)==null||o.setInputValue(`${t}_active_plot`,r,{priority:"event"})}),Si(()=>{var o;const r=e.activeStore.selectedRowIds;(o=window.Shiny)==null||o.setInputValue(`${t}_selected`,Array.from(r),{priority:"event"})})})}return b(typeof window,"undefined",!1)&&window.HTMLWidgets&&window.HTMLWidgets.widget(Lp),b(typeof window,"undefined",!1)&&window.Shiny&&window.Shiny.addCustomMessageHandler("tabviz-split-proxy",t=>{const e=ef.get(t.id);e&&b(t.method,"selectPlot")&&b(typeof t.args.key,"string")&&e.selectSpec(t.args.key)}),Ne.SplitForestPlot=On,Ne.createSplitForestStore=Qc,Object.defineProperty(Ne,Symbol.toStringTag,{value:"Module"}),Ne})({});
