var tabviz_split=(function(Ne){"use strict";var Zp=Object.defineProperty;var ff=Ne=>{throw TypeError(Ne)};var Kp=(Ne,qe,nn)=>qe in Ne?Zp(Ne,qe,{enumerable:!0,configurable:!0,writable:!0,value:nn}):Ne[qe]=nn;var Wr=(Ne,qe,nn)=>Kp(Ne,typeof qe!="symbol"?qe+"":qe,nn),Is=(Ne,qe,nn)=>qe.has(Ne)||ff("Cannot "+nn);var j=(Ne,qe,nn)=>(Is(Ne,qe,"read from private field"),nn?nn.call(Ne):qe.get(Ne)),le=(Ne,qe,nn)=>qe.has(Ne)?ff("Cannot add the same private member more than once"):qe instanceof WeakSet?qe.add(Ne):qe.set(Ne,nn),jt=(Ne,qe,nn,Ia)=>(Is(Ne,qe,"write to private field"),Ia?Ia.call(Ne,nn):qe.set(Ne,nn),nn),Ke=(Ne,qe,nn)=>(Is(Ne,qe,"access private method"),nn);var tf,ef,Ji,to,Ti,Ni,Vo,eo,no,un,zs,qo,Fs,uf,df,nr,rr,Ws,Tr,Hi,Nr,ir,Pn,Hr,jr,oi,Ai,ai,Wi,qr,Ea,an,Qp,Jp,Ps,Wa,Ra,Ls,pr,Ar,jn,Ri,Oo,jo,ka,nf;const mn=Symbol(),D=Symbol("filename"),hf="http://www.w3.org/1999/xhtml",Ds=(ef=(tf=globalThis.process)==null?void 0:tf.env)==null?void 0:ef.NODE_ENV,vt=Ds&&!Ds.toLowerCase().startsWith("prod");var vo=Array.isArray,gf=Array.prototype.indexOf,Xo=Array.from,si=Object.defineProperty,Fi=Object.getOwnPropertyDescriptor,Bs=Object.getOwnPropertyDescriptors,Gs=Object.prototype,vf=Array.prototype,$o=Object.getPrototypeOf,Vs=Object.isExtensible;const po=()=>{};function pf(t){for(var e=0;e<t.length;e++)t[e]()}function Os(){var t,e,r=new Promise((i,o)=>{t=i,e=o});return{promise:r,resolve:t,reject:e}}function za(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const r=[];for(const i of t)if(r.push(i),r.length===e)break;return r}const cn=2,Fa=4,Pa=8,mf=1<<24,Rr=16,Ir=32,$r=64,Uo=128,ar=512,yn=1024,Nn=2048,yr=4096,Dn=8192,Ur=16384,La=32768,li=65536,Yo=1<<17,js=1<<18,ci=1<<19,yf=1<<20,zr=1<<25,Yr=32768,Da=1<<21,Zo=1<<22,Zr=1<<23,_r=Symbol("$state"),_f=Symbol(""),qs=Symbol("proxy path"),Pi=new class extends Error{constructor(){super(...arguments);Wr(this,"name","StaleReactionError");Wr(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}},xf=1,wf=11;function Xs(){if(vt){const t=new Error("invalid_snippet_arguments\nA snippet function was passed invalid arguments. Snippets should only be instantiated via `{@render ...}`\nhttps://svelte.dev/e/invalid_snippet_arguments");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/invalid_snippet_arguments")}function bf(){if(vt){const t=new Error("snippet_without_render_tag\nAttempted to render a snippet without a `{@render}` block. This would cause the snippet code to be stringified instead of its content being rendered to the DOM. To fix this, change `{snippet}` to `{@render snippet()}`.\nhttps://svelte.dev/e/snippet_without_render_tag");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/snippet_without_render_tag")}function Mf(){if(vt){const t=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/async_derived_orphan")}function Sf(t,e){if(vt){const r=new Error(`component_api_changed
Calling \`${t}\` on a component instance (of ${e}) is no longer valid in Svelte 5
https://svelte.dev/e/component_api_changed`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/component_api_changed")}function Ef(t,e){if(vt){const r=new Error(`component_api_invalid_new
Attempted to instantiate ${t} with \`new ${e}\`, which is no longer valid in Svelte 5. If this component is not under your control, set the \`compatibility.componentApi\` compiler option to \`4\` to keep it working.
https://svelte.dev/e/component_api_invalid_new`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/component_api_invalid_new")}function kf(){if(vt){const t=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/derived_references_self")}function Cf(t,e,r){if(vt){const i=new Error(`each_key_duplicate
${r?`Keyed each block has duplicate key \`${r}\` at indexes ${t} and ${e}`:`Keyed each block has duplicate key at indexes ${t} and ${e}`}
https://svelte.dev/e/each_key_duplicate`);throw i.name="Svelte error",i}else throw new Error("https://svelte.dev/e/each_key_duplicate")}function Tf(t){if(vt){const e=new Error(`effect_in_teardown
\`${t}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function Nf(){if(vt){const t=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Hf(t){if(vt){const e=new Error(`effect_orphan
\`${t}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_orphan")}function Af(){if(vt){const t=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Wf(){if(vt){const t=new Error("invalid_snippet\nCould not `{@render}` snippet due to the expression being `null` or `undefined`. Consider using optional chaining `{@render snippet?.()}`\nhttps://svelte.dev/e/invalid_snippet");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/invalid_snippet")}function Rf(t){if(vt){const e=new Error(`rune_outside_svelte
The \`${t}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function If(){if(vt){const t=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function zf(){if(vt){const t=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ff(){if(vt){const t=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Pf(){if(vt){const t=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}var fi="font-weight: bold",ui="font-weight: normal";function Lf(t){vt?console.warn(`%c[svelte] console_log_state
%cYour \`console.${t}\` contained \`$state\` proxies. Consider using \`$inspect(...)\` or \`$state.snapshot(...)\` instead
https://svelte.dev/e/console_log_state`,fi,ui):console.warn("https://svelte.dev/e/console_log_state")}function Df(t,e){vt?console.warn(`%c[svelte] event_handler_invalid
%c${t} should be a function. Did you mean to ${e}?
https://svelte.dev/e/event_handler_invalid`,fi,ui):console.warn("https://svelte.dev/e/event_handler_invalid")}function Bf(){vt?console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,fi,ui):console.warn("https://svelte.dev/e/lifecycle_double_unmount")}function Gf(){vt?console.warn("%c[svelte] select_multiple_invalid_value\n%cThe `value` property of a `<select multiple>` element should be an array, but it received a non-array value. The selection will be kept as is.\nhttps://svelte.dev/e/select_multiple_invalid_value",fi,ui):console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function mo(t){vt?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${t}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,fi,ui):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}function Vf(){vt?console.warn(`%c[svelte] state_proxy_unmount
%cTried to unmount a state proxy, rather than a component
https://svelte.dev/e/state_proxy_unmount`,fi,ui):console.warn("https://svelte.dev/e/state_proxy_unmount")}function Of(){vt?console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",fi,ui):console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function i0(t){}function $s(t){return t===this.v}function Us(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Ys(t){return!Us(t,this.v)}let jf=!1;var qf="font-weight: bold",Xf="font-weight: normal";function Zs(t){vt?console.warn(`%c[svelte] state_snapshot_uncloneable
%c${t?`The following properties cannot be cloned with \`$state.snapshot\` — the return value contains the originals:

${t}`:"Value cannot be cloned with `$state.snapshot` — the original value was returned"}
https://svelte.dev/e/state_snapshot_uncloneable`,qf,Xf):console.warn("https://svelte.dev/e/state_snapshot_uncloneable")}const $f=[];function Uf(t,e=!1,r=!1){if(vt&&!e){const i=[],o=yo(t,new Map,"",i,null,r);if(i.length===1&&i[0]==="")Zs();else if(i.length>0){const a=i.length>10?i.slice(0,7):i.slice(0,10),s=i.length-a.length;let c=a.map(f=>`- <value>${f}`).join(`
`);s>0&&(c+=`
- ...and ${s} more`),Zs(c)}return o}return yo(t,new Map,"",$f,null,r)}function yo(t,e,r,i,o=null,a=!1){if(typeof t=="object"&&t!==null){var s=e.get(t);if(s!==void 0)return s;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(vo(t)){var c=Array(t.length);e.set(t,c),o!==null&&e.set(o,c);for(var f=0;f<t.length;f+=1){var l=t[f];f in t&&(c[f]=yo(l,e,vt?`${r}[${f}]`:r,i,null,a))}return c}if($o(t)===Gs){c={},e.set(t,c),o!==null&&e.set(o,c);for(var u in t)c[u]=yo(t[u],e,vt?`${r}.${u}`:r,i,null,a);return c}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function"&&!a)return yo(t.toJSON(),e,vt?`${r}.toJSON()`:r,i,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return vt&&i.push(r),t}}function p(t,e){return t.label=e,Ks(t.v,e),t}function Ks(t,e){var r;return(r=t==null?void 0:t[qs])==null||r.call(t,e),t}function Yf(t){const e=new Error,r=Zf();return r.length===0?null:(r.unshift(`
`),si(e,"stack",{value:r.join(`
`)}),si(e,"name",{value:t}),e)}function Zf(){const t=Error.stackTraceLimit;Error.stackTraceLimit=1/0;const e=new Error().stack;if(Error.stackTraceLimit=t,!e)return[];const r=e.split(`
`),i=[];for(let o=0;o<r.length;o++){const a=r[o],s=a.replaceAll("\\","/");if(a.trim()!=="Error"){if(a.includes("validate_each_keys"))return[];s.includes("svelte/src/internal")||s.includes("node_modules/.vite")||i.push(a)}}return i}let tn=null;function Li(t){tn=t}let Fr=null;function Ko(t){Fr=t}function I(t,e,r,i,o,a){const s=Fr;Fr={type:e,file:r[D],line:i,column:o,parent:s,...a};try{return t()}finally{Fr=s}}let Di=null;function Qo(t){Di=t}function ye(t,e=!1,r){tn={p:tn,i:!1,c:null,e:null,s:t,x:null,l:null},vt&&(tn.function=r,Di=r)}function _e(t){var e=tn,r=e.e;if(r!==null){e.e=null;for(var i of r)hl(i)}return t!==void 0&&(e.x=t),e.i=!0,tn=e.p,vt&&(Di=(tn==null?void 0:tn.function)??null),t??{}}function Qs(){return!0}let di=[];function Js(){var t=di;di=[],pf(t)}function Bi(t){if(di.length===0&&!_o){var e=di;queueMicrotask(()=>{e===di&&Js()})}di.push(t)}function Kf(){for(;di.length>0;)Js()}const Ba=new WeakMap;function tl(t){var e=xe;if(e===null)return ne.f|=Zr,t;if(vt&&t instanceof Error&&!Ba.has(t)&&Ba.set(t,Qf(t,e)),(e.f&La)===0){if((e.f&Uo)===0)throw vt&&!e.parent&&t instanceof Error&&el(t),t;e.b.error(t)}else Gi(t,e)}function Gi(t,e){for(;e!==null;){if((e.f&Uo)!==0)try{e.b.error(t);return}catch(r){t=r}e=e.parent}throw vt&&t instanceof Error&&el(t),t}function Qf(t,e){var s,c,f;const r=Fi(t,"message");if(!(r&&!r.configurable)){for(var i=$a?"  ":"	",o=`
${i}in ${((s=e.fn)==null?void 0:s.name)||"<unknown>"}`,a=e.ctx;a!==null;)o+=`
${i}in ${(c=a.function)==null?void 0:c[D].split("/").pop()}`,a=a.p;return{message:t.message+`
${o}
`,stack:(f=t.stack)==null?void 0:f.split(`
`).filter(l=>!l.includes("svelte/src/internal")).join(`
`)}}}function el(t){const e=Ba.get(t);e&&(si(t,"message",{value:e.message}),si(t,"stack",{value:e.stack}))}const Jo=new Set;let ce=null,Qe=null,Xn=[],ta=null,Ga=!1,_o=!1;const Sa=class Sa{constructor(){le(this,un);Wr(this,"committed",!1);Wr(this,"current",new Map);Wr(this,"previous",new Map);le(this,Ji,new Set);le(this,to,new Set);le(this,Ti,0);le(this,Ni,0);le(this,Vo,null);le(this,eo,new Set);le(this,no,new Set);Wr(this,"skipped_effects",new Set);Wr(this,"is_fork",!1)}is_deferred(){return this.is_fork||j(this,Ni)>0}process(e){var i;Xn=[],this.apply();var r={parent:null,effect:null,effects:[],render_effects:[]};for(const o of e)Ke(this,un,zs).call(this,o,r);this.is_fork||Ke(this,un,uf).call(this),this.is_deferred()?(Ke(this,un,qo).call(this,r.effects),Ke(this,un,qo).call(this,r.render_effects)):(ce=null,rl(r.render_effects),rl(r.effects),(i=j(this,Vo))==null||i.resolve()),Qe=null}capture(e,r){this.previous.has(e)||this.previous.set(e,r),(e.f&Zr)===0&&(this.current.set(e,e.v),Qe==null||Qe.set(e,e.v))}activate(){ce=this,this.apply()}deactivate(){ce===this&&(ce=null,Qe=null)}flush(){if(this.activate(),Xn.length>0){if(nl(),ce!==null&&ce!==this)return}else j(this,Ti)===0&&this.process([]);this.deactivate()}discard(){for(const e of j(this,to))e(this);j(this,to).clear()}increment(e){jt(this,Ti,j(this,Ti)+1),e&&jt(this,Ni,j(this,Ni)+1)}decrement(e){jt(this,Ti,j(this,Ti)-1),e&&jt(this,Ni,j(this,Ni)-1),this.revive()}revive(){for(const e of j(this,eo))j(this,no).delete(e),_n(e,Nn),hi(e);for(const e of j(this,no))_n(e,yr),hi(e);this.flush()}oncommit(e){j(this,Ji).add(e)}ondiscard(e){j(this,to).add(e)}settled(){return(j(this,Vo)??jt(this,Vo,Os())).promise}static ensure(){if(ce===null){const e=ce=new Sa;Jo.add(ce),_o||Sa.enqueue(()=>{ce===e&&e.flush()})}return ce}static enqueue(e){Bi(e)}apply(){}};Ji=new WeakMap,to=new WeakMap,Ti=new WeakMap,Ni=new WeakMap,Vo=new WeakMap,eo=new WeakMap,no=new WeakMap,un=new WeakSet,zs=function(e,r){var u;e.f^=yn;for(var i=e.first;i!==null;){var o=i.f,a=(o&(Ir|$r))!==0,s=a&&(o&yn)!==0,c=s||(o&Dn)!==0||this.skipped_effects.has(i);if((i.f&Uo)!==0&&((u=i.b)!=null&&u.is_pending())&&(r={parent:r,effect:i,effects:[],render_effects:[]}),!c&&i.fn!==null){a?i.f^=yn:(o&Fa)!==0?r.effects.push(i):ko(i)&&((i.f&Rr)!==0&&j(this,eo).add(i),Co(i));var f=i.first;if(f!==null){i=f;continue}}var l=i.parent;for(i=i.next;i===null&&l!==null;)l===r.effect&&(Ke(this,un,qo).call(this,r.effects),Ke(this,un,qo).call(this,r.render_effects),r=r.parent),i=l.next,l=l.parent}},qo=function(e){for(const r of e)(r.f&Nn)!==0?j(this,eo).add(r):(r.f&yr)!==0&&j(this,no).add(r),Ke(this,un,Fs).call(this,r.deps),_n(r,yn)},Fs=function(e){if(e!==null)for(const r of e)(r.f&cn)===0||(r.f&Yr)===0||(r.f^=Yr,Ke(this,un,Fs).call(this,r.deps))},uf=function(){if(j(this,Ni)===0){for(const e of j(this,Ji))e();j(this,Ji).clear()}j(this,Ti)===0&&Ke(this,un,df).call(this)},df=function(){var a;if(Jo.size>1){this.previous.clear();var e=Qe,r=!0,i={parent:null,effect:null,effects:[],render_effects:[]};for(const s of Jo){if(s===this){r=!1;continue}const c=[];for(const[l,u]of this.current){if(s.current.has(l))if(r&&u!==s.current.get(l))s.current.set(l,u);else continue;c.push(l)}if(c.length===0)continue;const f=[...s.current.keys()].filter(l=>!this.current.has(l));if(f.length>0){var o=Xn;Xn=[];const l=new Set,u=new Map;for(const h of c)il(h,f,l,u);if(Xn.length>0){ce=s,s.apply();for(const h of Xn)Ke(a=s,un,zs).call(a,h,i);s.deactivate()}Xn=o}}ce=null,Qe=e}this.committed=!0,Jo.delete(this)};let xr=Sa;function Jf(t){var e=_o;_o=!0;try{for(var r;;){if(Kf(),Xn.length===0&&(ce==null||ce.flush(),Xn.length===0))return ta=null,r;nl()}}finally{_o=e}}function nl(){var t=mi;Ga=!0;var e=vt?new Set:null;try{var r=0;for(ra(!0);Xn.length>0;){var i=xr.ensure();if(r++>1e3){if(vt){var o=new Map;for(const s of i.current.keys())for(const[c,f]of s.updated??[]){var a=o.get(c);a||(a={error:f.error,count:0},o.set(c,a)),a.count+=f.count}for(const s of o.values())s.error&&console.error(s.error)}tu()}if(i.process(Xn),Kr.clear(),vt)for(const s of i.current.keys())e.add(s)}}finally{if(Ga=!1,ra(t),ta=null,vt)for(const s of e)s.updated=null}}function tu(){try{Af()}catch(t){vt&&si(t,"stack",{value:""}),Gi(t,ta)}}let sr=null;function rl(t){var e=t.length;if(e!==0){for(var r=0;r<e;){var i=t[r++];if((i.f&(Ur|Dn))===0&&ko(i)&&(sr=new Set,Co(i),i.deps===null&&i.first===null&&i.nodes===null&&(i.teardown===null&&i.ac===null?ml(i):i.fn=null),(sr==null?void 0:sr.size)>0)){Kr.clear();for(const o of sr){if((o.f&(Ur|Dn))!==0)continue;const a=[o];let s=o.parent;for(;s!==null;)sr.has(s)&&(sr.delete(s),a.push(s)),s=s.parent;for(let c=a.length-1;c>=0;c--){const f=a[c];(f.f&(Ur|Dn))===0&&Co(f)}}sr.clear()}}sr=null}}function il(t,e,r,i){if(!r.has(t)&&(r.add(t),t.reactions!==null))for(const o of t.reactions){const a=o.f;(a&cn)!==0?il(o,e,r,i):(a&(Zo|Rr))!==0&&(a&Nn)===0&&ol(o,e,i)&&(_n(o,Nn),hi(o))}}function ol(t,e,r){const i=r.get(t);if(i!==void 0)return i;if(t.deps!==null)for(const o of t.deps){if(e.includes(o))return!0;if((o.f&cn)!==0&&ol(o,e,r))return r.set(o,!0),!0}return r.set(t,!1),!1}function hi(t){for(var e=ta=t;e.parent!==null;){e=e.parent;var r=e.f;if(Ga&&e===xe&&(r&Rr)!==0&&(r&js)===0)return;if((r&($r|Ir))!==0){if((r&yn)===0)return;e.f^=yn}}Xn.push(e)}function eu(t){let e=0,r=gi(0),i;return vt&&p(r,"createSubscriber version"),()=>{bo()&&(n(r),na(()=>(e===0&&(i=oa(()=>t(()=>xo(r)))),e+=1,()=>{Bi(()=>{e-=1,e===0&&(i==null||i(),i=void 0,xo(r))})})))}}var nu=li|ci|Uo;function ru(t,e,r){new iu(t,e,r)}class iu{constructor(e,r,i){le(this,an);Wr(this,"parent");le(this,nr,!1);le(this,rr);le(this,Ws,null);le(this,Tr);le(this,Hi);le(this,Nr);le(this,ir,null);le(this,Pn,null);le(this,Hr,null);le(this,jr,null);le(this,oi,null);le(this,Ai,0);le(this,ai,0);le(this,Wi,!1);le(this,qr,null);le(this,Ea,eu(()=>(jt(this,qr,gi(j(this,Ai))),vt&&p(j(this,qr),"$effect.pending()"),()=>{jt(this,qr,null)})));jt(this,rr,e),jt(this,Tr,r),jt(this,Hi,i),this.parent=xe.b,jt(this,nr,!!j(this,Tr).pending),jt(this,Nr,So(()=>{xe.b=this;{var o=Ke(this,an,Ps).call(this);try{jt(this,ir,$n(()=>i(o)))}catch(a){this.error(a)}j(this,ai)>0?Ke(this,an,Ra).call(this):jt(this,nr,!1)}return()=>{var a;(a=j(this,oi))==null||a.remove()}},nu))}is_pending(){return j(this,nr)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!j(this,Tr).pending}update_pending_count(e){Ke(this,an,Ls).call(this,e),jt(this,Ai,j(this,Ai)+e),j(this,qr)&&Oi(j(this,qr),j(this,Ai))}get_effect_pending(){return j(this,Ea).call(this),n(j(this,qr))}error(e){var r=j(this,Tr).onerror;let i=j(this,Tr).failed;if(j(this,Wi)||!r&&!i)throw e;j(this,ir)&&(Mn(j(this,ir)),jt(this,ir,null)),j(this,Pn)&&(Mn(j(this,Pn)),jt(this,Pn,null)),j(this,Hr)&&(Mn(j(this,Hr)),jt(this,Hr,null));var o=!1,a=!1;const s=()=>{if(o){Of();return}o=!0,a&&Pf(),xr.ensure(),jt(this,Ai,0),j(this,Hr)!==null&&pi(j(this,Hr),()=>{jt(this,Hr,null)}),jt(this,nr,this.has_pending_snippet()),jt(this,ir,Ke(this,an,Wa).call(this,()=>(jt(this,Wi,!1),$n(()=>j(this,Hi).call(this,j(this,rr)))))),j(this,ai)>0?Ke(this,an,Ra).call(this):jt(this,nr,!1)};var c=ne;try{Hn(null),a=!0,r==null||r(e,s),a=!1}catch(f){Gi(f,j(this,Nr)&&j(this,Nr).parent)}finally{Hn(c)}i&&Bi(()=>{jt(this,Hr,Ke(this,an,Wa).call(this,()=>{xr.ensure(),jt(this,Wi,!0);try{return $n(()=>{i(j(this,rr),()=>e,()=>s)})}catch(f){return Gi(f,j(this,Nr).parent),null}finally{jt(this,Wi,!1)}}))})}}nr=new WeakMap,rr=new WeakMap,Ws=new WeakMap,Tr=new WeakMap,Hi=new WeakMap,Nr=new WeakMap,ir=new WeakMap,Pn=new WeakMap,Hr=new WeakMap,jr=new WeakMap,oi=new WeakMap,Ai=new WeakMap,ai=new WeakMap,Wi=new WeakMap,qr=new WeakMap,Ea=new WeakMap,an=new WeakSet,Qp=function(){try{jt(this,ir,$n(()=>j(this,Hi).call(this,j(this,rr))))}catch(e){this.error(e)}jt(this,nr,!1)},Jp=function(){const e=j(this,Tr).pending;e&&(jt(this,Pn,$n(()=>e(j(this,rr)))),xr.enqueue(()=>{var r=Ke(this,an,Ps).call(this);jt(this,ir,Ke(this,an,Wa).call(this,()=>(xr.ensure(),$n(()=>j(this,Hi).call(this,r))))),j(this,ai)>0?Ke(this,an,Ra).call(this):(pi(j(this,Pn),()=>{jt(this,Pn,null)}),jt(this,nr,!1))}))},Ps=function(){var e=j(this,rr);return j(this,nr)&&(jt(this,oi,Qr()),j(this,rr).before(j(this,oi)),e=j(this,oi)),e},Wa=function(e){var r=xe,i=ne,o=tn;cr(j(this,Nr)),Hn(j(this,Nr)),Li(j(this,Nr).ctx);try{return e()}catch(a){return tl(a),null}finally{cr(r),Hn(i),Li(o)}},Ra=function(){const e=j(this,Tr).pending;j(this,ir)!==null&&(jt(this,jr,document.createDocumentFragment()),j(this,jr).append(j(this,oi)),xl(j(this,ir),j(this,jr))),j(this,Pn)===null&&jt(this,Pn,$n(()=>e(j(this,rr))))},Ls=function(e){var r;if(!this.has_pending_snippet()){this.parent&&Ke(r=this.parent,an,Ls).call(r,e);return}jt(this,ai,j(this,ai)+e),j(this,ai)===0&&(jt(this,nr,!1),j(this,Pn)&&pi(j(this,Pn),()=>{jt(this,Pn,null)}),j(this,jr)&&(j(this,rr).before(j(this,jr)),jt(this,jr,null)))};function ou(t,e,r,i){const o=Va;if(r.length===0&&t.length===0){i(e.map(o));return}var a=ce,s=xe,c=au();function f(){Promise.all(r.map(l=>cu(l))).then(l=>{c();try{i([...e.map(o),...l])}catch(u){(s.f&Ur)===0&&Gi(u,s)}a==null||a.deactivate(),ea()}).catch(l=>{Gi(l,s)})}t.length>0?Promise.all(t).then(()=>{c();try{return f()}finally{a==null||a.deactivate(),ea()}}):f()}function au(){var t=xe,e=ne,r=tn,i=ce;if(vt)var o=Fr;return function(s=!0){cr(t),Hn(e),Li(r),s&&(i==null||i.activate()),vt&&Ko(o)}}async function su(t){var e=await t;return()=>e}function ea(){cr(null),Hn(null),Li(null),vt&&Ko(null)}const lu=new Set;function Va(t){var e=cn|Nn,r=ne!==null&&(ne.f&cn)!==0?ne:null;return xe!==null&&(xe.f|=ci),{ctx:tn,deps:null,effects:null,equals:$s,f:e,fn:t,reactions:null,rv:0,v:mn,wv:0,parent:r??xe,ac:null}}function cu(t,e){let r=xe;r===null&&Mf();var i=r.b,o=void 0,a=gi(mn),s=!ne,c=new Map;return Eu(()=>{var d;var f=Os();o=f.promise;try{Promise.resolve(t()).then(f.resolve,f.reject).then(()=>{l===ce&&l.committed&&l.deactivate(),ea()})}catch(g){f.reject(g),ea()}var l=ce;if(s){var u=!i.is_pending();i.update_pending_count(1),l.increment(u),(d=c.get(l))==null||d.reject(Pi),c.delete(l),c.set(l,f)}const h=(g,v=void 0)=>{if(l.activate(),v)v!==Pi&&(a.f|=Zr,Oi(a,v));else{(a.f&Zr)!==0&&(a.f^=Zr),Oi(a,g);for(const[y,_]of c){if(c.delete(y),y===l)break;_.reject(Pi)}}s&&(i.update_pending_count(-1),l.decrement(u))};f.promise.then(h,g=>h(null,g||"unknown"))}),Ya(()=>{for(const f of c.values())f.reject(Pi)}),vt&&(a.f|=Zo),new Promise(f=>{function l(u){function h(){u===o?f(a):l(o)}u.then(h,h)}l(o)})}function m(t){const e=Va(t);return bl(e),e}function fu(t){const e=Va(t);return e.equals=Ys,e}function Oa(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)Mn(e[r])}}let ja=[];function uu(t){for(var e=t.parent;e!==null;){if((e.f&cn)===0)return(e.f&Ur)===0?e:null;e=e.parent}return null}function qa(t){var e,r=xe;if(cr(uu(t)),vt){let i=Vi;sl(new Set);try{ja.includes(t)&&kf(),ja.push(t),t.f&=~Yr,Oa(t),e=Ka(t)}finally{cr(r),sl(i),ja.pop()}}else try{t.f&=~Yr,Oa(t),e=Ka(t)}finally{cr(r)}return e}function al(t){var e=qa(t);if(t.equals(e)||(ce!=null&&ce.is_fork||(t.v=e),t.wv=El()),!qi)if(Qe!==null)(bo()||ce!=null&&ce.is_fork)&&Qe.set(t,e);else{var r=(t.f&ar)===0?yr:yn;_n(t,r)}}let Vi=new Set;const Kr=new Map;function sl(t){Vi=t}let Xa=!1;function du(){Xa=!0}function gi(t,e){var r={f:0,v:t,reactions:null,equals:$s,rv:0,wv:0};return r}function St(t,e){const r=gi(t);return bl(r),r}function hu(t,e=!1,r=!0){const i=gi(t);return e||(i.equals=Ys),i}function st(t,e,r=!1){ne!==null&&(!br||(ne.f&Yo)!==0)&&Qs()&&(ne.f&(cn|Rr|Zo|Yo))!==0&&!(Sn!=null&&Sn.includes(t))&&Ff();let i=r?lr(e):e;return vt&&Ks(i,t.label),Oi(t,i)}function Oi(t,e){var o;if(!t.equals(e)){var r=t.v;qi?Kr.set(t,e):Kr.set(t,r),t.v=e;var i=xr.ensure();if(i.capture(t,r),vt){if(xe!==null){t.updated??(t.updated=new Map);const a=(((o=t.updated.get(""))==null?void 0:o.count)??0)+1;if(t.updated.set("",{error:null,count:a}),a>5){const s=Yf("updated at");if(s!==null){let c=t.updated.get(s.stack);c||(c={error:s,count:0},t.updated.set(s.stack,c)),c.count++}}}xe!==null&&(t.set_during_effect=!0)}(t.f&cn)!==0&&((t.f&Nn)!==0&&qa(t),_n(t,(t.f&ar)!==0?yn:yr)),t.wv=El(),cl(t,Nn),xe!==null&&(xe.f&yn)!==0&&(xe.f&(Ir|$r))===0&&(Un===null?Tu([t]):Un.push(t)),!i.is_fork&&Vi.size>0&&!Xa&&ll()}return e}function ll(){Xa=!1;var t=mi;ra(!0);const e=Array.from(Vi);try{for(const r of e)(r.f&yn)!==0&&_n(r,yr),ko(r)&&Co(r)}finally{ra(t)}Vi.clear()}function xo(t){st(t,t.v+1)}function cl(t,e){var r=t.reactions;if(r!==null)for(var i=r.length,o=0;o<i;o++){var a=r[o],s=a.f;if(vt&&(s&Yo)!==0){Vi.add(a);continue}var c=(s&Nn)===0;if(c&&_n(a,e),(s&cn)!==0){var f=a;Qe==null||Qe.delete(f),(s&Yr)===0&&(s&ar&&(a.f|=Yr),cl(f,yr))}else c&&((s&Rr)!==0&&sr!==null&&sr.add(a),hi(a))}}const gu=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function lr(t){if(typeof t!="object"||t===null||_r in t)return t;const e=$o(t);if(e!==Gs&&e!==vf)return t;var r=new Map,i=vo(t),o=St(0),a=yi,s=u=>{if(yi===a)return u();var h=ne,d=yi;Hn(null),Sl(a);var g=u();return Hn(h),Sl(d),g};i&&(r.set("length",St(t.length)),vt&&(t=mu(t)));var c="";let f=!1;function l(u){if(!f){f=!0,c=u,p(o,`${c} version`);for(const[h,d]of r)p(d,vi(c,h));f=!1}}return new Proxy(t,{defineProperty(u,h,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&If();var g=r.get(h);return g===void 0?g=s(()=>{var v=St(d.value);return r.set(h,v),vt&&typeof h=="string"&&p(v,vi(c,h)),v}):st(g,d.value,!0),!0},deleteProperty(u,h){var d=r.get(h);if(d===void 0){if(h in u){const g=s(()=>St(mn));r.set(h,g),xo(o),vt&&p(g,vi(c,h))}}else st(d,mn),xo(o);return!0},get(u,h,d){var _;if(h===_r)return t;if(vt&&h===qs)return l;var g=r.get(h),v=h in u;if(g===void 0&&(!v||(_=Fi(u,h))!=null&&_.writable)&&(g=s(()=>{var x=lr(v?u[h]:mn),M=St(x);return vt&&p(M,vi(c,h)),M}),r.set(h,g)),g!==void 0){var y=n(g);return y===mn?void 0:y}return Reflect.get(u,h,d)},getOwnPropertyDescriptor(u,h){var d=Reflect.getOwnPropertyDescriptor(u,h);if(d&&"value"in d){var g=r.get(h);g&&(d.value=n(g))}else if(d===void 0){var v=r.get(h),y=v==null?void 0:v.v;if(v!==void 0&&y!==mn)return{enumerable:!0,configurable:!0,value:y,writable:!0}}return d},has(u,h){var y;if(h===_r)return!0;var d=r.get(h),g=d!==void 0&&d.v!==mn||Reflect.has(u,h);if(d!==void 0||xe!==null&&(!g||(y=Fi(u,h))!=null&&y.writable)){d===void 0&&(d=s(()=>{var _=g?lr(u[h]):mn,x=St(_);return vt&&p(x,vi(c,h)),x}),r.set(h,d));var v=n(d);if(v===mn)return!1}return g},set(u,h,d,g){var C;var v=r.get(h),y=h in u;if(i&&h==="length")for(var _=d;_<v.v;_+=1){var x=r.get(_+"");x!==void 0?st(x,mn):_ in u&&(x=s(()=>St(mn)),r.set(_+"",x),vt&&p(x,vi(c,_)))}if(v===void 0)(!y||(C=Fi(u,h))!=null&&C.writable)&&(v=s(()=>St(void 0)),vt&&p(v,vi(c,h)),st(v,lr(d)),r.set(h,v));else{y=v.v!==mn;var M=s(()=>lr(d));st(v,M)}var N=Reflect.getOwnPropertyDescriptor(u,h);if(N!=null&&N.set&&N.set.call(g,d),!y){if(i&&typeof h=="string"){var R=r.get("length"),w=Number(h);Number.isInteger(w)&&w>=R.v&&st(R,w+1)}xo(o)}return!0},ownKeys(u){n(o);var h=Reflect.ownKeys(u).filter(v=>{var y=r.get(v);return y===void 0||y.v!==mn});for(var[d,g]of r)g.v!==mn&&!(d in u)&&h.push(d);return h},setPrototypeOf(){zf()}})}function vi(t,e){return typeof e=="symbol"?`${t}[Symbol(${e.description??""})]`:gu.test(e)?`${t}.${e}`:/^\d+$/.test(e)?`${t}[${e}]`:`${t}['${e}']`}function Pr(t){try{if(t!==null&&typeof t=="object"&&_r in t)return t[_r]}catch{}return t}function vu(t,e){return Object.is(Pr(t),Pr(e))}const pu=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function mu(t){return new Proxy(t,{get(e,r,i){var o=Reflect.get(e,r,i);return pu.has(r)?function(...a){du();var s=o.apply(this,a);return ll(),s}:o}})}function yu(){const t=Array.prototype,e=Array.__svelte_cleanup;e&&e();const{indexOf:r,lastIndexOf:i,includes:o}=t;t.indexOf=function(a,s){const c=r.call(this,a,s);if(c===-1){for(let f=s??0;f<this.length;f+=1)if(Pr(this[f])===a){mo("array.indexOf(...)");break}}return c},t.lastIndexOf=function(a,s){const c=i.call(this,a,s??this.length-1);if(c===-1){for(let f=0;f<=(s??this.length-1);f+=1)if(Pr(this[f])===a){mo("array.lastIndexOf(...)");break}}return c},t.includes=function(a,s){const c=o.call(this,a,s);if(!c){for(let f=0;f<this.length;f+=1)if(Pr(this[f])===a){mo("array.includes(...)");break}}return c},Array.__svelte_cleanup=()=>{t.indexOf=r,t.lastIndexOf=i,t.includes=o}}function S(t,e,r=!0){try{t===e!=(Pr(t)===Pr(e))&&mo(r?"===":"!==")}catch{}return t===e===r}function ge(t,e,r=!0){return t==e!=(Pr(t)==Pr(e))&&mo(r?"==":"!="),t==e===r}var ji,$a,fl,ul;function _u(){if(ji===void 0){ji=window,$a=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;fl=Fi(e,"firstChild").get,ul=Fi(e,"nextSibling").get,Vs(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Vs(r)&&(r.__t=void 0),vt&&(t.__svelte_meta=null,yu())}}function Qr(t=""){return document.createTextNode(t)}function Lr(t){return fl.call(t)}function wo(t){return ul.call(t)}function Z(t,e){return Lr(t)}function mt(t,e=!1){{var r=Lr(t);return r instanceof Comment&&r.data===""?wo(r):r}}function nt(t,e=1,r=!1){let i=t;for(;e--;)i=wo(i);return i}function xu(t){t.textContent=""}function dl(){return!1}function Ua(t){var e=ne,r=xe;Hn(null),cr(null);try{return t()}finally{Hn(e),cr(r)}}function wu(t){xe===null&&(ne===null&&Hf(t),Nf()),qi&&Tf(t)}function bu(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function wr(t,e,r){var i=xe;if(vt)for(;i!==null&&(i.f&Yo)!==0;)i=i.parent;i!==null&&(i.f&Dn)!==0&&(t|=Dn);var o={ctx:tn,deps:null,nodes:null,f:t|Nn|ar,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,wv:0,ac:null};if(vt&&(o.component_function=Di),r)try{Co(o),o.f|=La}catch(c){throw Mn(o),c}else e!==null&&hi(o);var a=o;if(r&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&ci)===0&&(a=a.first,(t&Rr)!==0&&(t&li)!==0&&a!==null&&(a.f|=li)),a!==null&&(a.parent=i,i!==null&&bu(a,i),ne!==null&&(ne.f&cn)!==0&&(t&$r)===0)){var s=ne;(s.effects??(s.effects=[])).push(a)}return o}function bo(){return ne!==null&&!br}function Ya(t){const e=wr(Pa,null,!1);return _n(e,yn),e.teardown=t,e}function Mo(t){wu("$effect"),vt&&si(t,"name",{value:"$effect"});var e=xe.f,r=!ne&&(e&Ir)!==0&&(e&La)===0;if(r){var i=tn;(i.e??(i.e=[])).push(t)}else return hl(t)}function hl(t){return wr(Fa|yf,t,!1)}function Mu(t){xr.ensure();const e=wr($r|ci,t,!0);return()=>{Mn(e)}}function Su(t){xr.ensure();const e=wr($r|ci,t,!0);return(r={})=>new Promise(i=>{r.outro?pi(e,()=>{Mn(e),i(void 0)}):(Mn(e),i(void 0))})}function gl(t){return wr(Fa,t,!1)}function Eu(t){return wr(Zo|ci,t,!0)}function na(t,e=0){return wr(Pa|e,t,!0)}function J(t,e=[],r=[],i=[]){ou(i,e,r,o=>{wr(Pa,()=>t(...o.map(n)),!0)})}function So(t,e=0){var r=wr(Rr|e,t,!0);return vt&&(r.dev_stack=Fr),r}function $n(t){return wr(Ir|ci,t,!0)}function vl(t){var e=t.teardown;if(e!==null){const r=qi,i=ne;wl(!0),Hn(null);try{e.call(null)}finally{wl(r),Hn(i)}}}function pl(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){const o=r.ac;o!==null&&Ua(()=>{o.abort(Pi)});var i=r.next;(r.f&$r)!==0?r.parent=null:Mn(r,e),r=i}}function ku(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&Ir)===0&&Mn(e),e=r}}function Mn(t,e=!0){var r=!1;(e||(t.f&js)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(Cu(t.nodes.start,t.nodes.end),r=!0),pl(t,e&&!r),ia(t,0),_n(t,Ur);var i=t.nodes&&t.nodes.t;if(i!==null)for(const a of i)a.stop();vl(t);var o=t.parent;o!==null&&o.first!==null&&ml(t),vt&&(t.component_function=null),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function Cu(t,e){for(;t!==null;){var r=t===e?null:wo(t);t.remove(),t=r}}function ml(t){var e=t.parent,r=t.prev,i=t.next;r!==null&&(r.next=i),i!==null&&(i.prev=r),e!==null&&(e.first===t&&(e.first=i),e.last===t&&(e.last=r))}function pi(t,e,r=!0){var i=[];yl(t,i,!0);var o=()=>{r&&Mn(t),e&&e()},a=i.length;if(a>0){var s=()=>--a||o();for(var c of i)c.out(s)}else o()}function yl(t,e,r){if((t.f&Dn)===0){t.f^=Dn;var i=t.nodes&&t.nodes.t;if(i!==null)for(const c of i)(c.is_global||r)&&e.push(c);for(var o=t.first;o!==null;){var a=o.next,s=(o.f&li)!==0||(o.f&Ir)!==0&&(t.f&Rr)!==0;yl(o,e,s?r:!1),o=a}}}function Za(t){_l(t,!0)}function _l(t,e){if((t.f&Dn)!==0){t.f^=Dn,(t.f&yn)===0&&(_n(t,Nn),hi(t));for(var r=t.first;r!==null;){var i=r.next,o=(r.f&li)!==0||(r.f&Ir)!==0;_l(r,o?e:!1),r=i}var a=t.nodes&&t.nodes.t;if(a!==null)for(const s of a)(s.is_global||e)&&s.in()}}function xl(t,e){if(t.nodes)for(var r=t.nodes.start,i=t.nodes.end;r!==null;){var o=r===i?null:wo(r);e.append(r),r=o}}let mi=!1;function ra(t){mi=t}let qi=!1;function wl(t){qi=t}let ne=null,br=!1;function Hn(t){ne=t}let xe=null;function cr(t){xe=t}let Sn=null;function bl(t){ne!==null&&(Sn===null?Sn=[t]:Sn.push(t))}let En=null,Bn=0,Un=null;function Tu(t){Un=t}let Ml=1,Eo=0,yi=Eo;function Sl(t){yi=t}function El(){return++Ml}function ko(t){var e=t.f;if((e&Nn)!==0)return!0;if(e&cn&&(t.f&=~Yr),(e&yr)!==0){var r=t.deps;if(r!==null)for(var i=r.length,o=0;o<i;o++){var a=r[o];if(ko(a)&&al(a),a.wv>t.wv)return!0}(e&ar)!==0&&Qe===null&&_n(t,yn)}return!1}function kl(t,e,r=!0){var i=t.reactions;if(i!==null&&!(Sn!=null&&Sn.includes(t)))for(var o=0;o<i.length;o++){var a=i[o];(a.f&cn)!==0?kl(a,e,!1):e===a&&(r?_n(a,Nn):(a.f&yn)!==0&&_n(a,yr),hi(a))}}function Ka(t){var v;var e=En,r=Bn,i=Un,o=ne,a=Sn,s=tn,c=br,f=yi,l=t.f;En=null,Bn=0,Un=null,ne=(l&(Ir|$r))===0?t:null,Sn=null,Li(t.ctx),br=!1,yi=++Eo,t.ac!==null&&(Ua(()=>{t.ac.abort(Pi)}),t.ac=null);try{t.f|=Da;var u=t.fn,h=u(),d=t.deps;if(En!==null){var g;if(ia(t,Bn),d!==null&&Bn>0)for(d.length=Bn+En.length,g=0;g<En.length;g++)d[Bn+g]=En[g];else t.deps=d=En;if(bo()&&(t.f&ar)!==0)for(g=Bn;g<d.length;g++)((v=d[g]).reactions??(v.reactions=[])).push(t)}else d!==null&&Bn<d.length&&(ia(t,Bn),d.length=Bn);if(Qs()&&Un!==null&&!br&&d!==null&&(t.f&(cn|yr|Nn))===0)for(g=0;g<Un.length;g++)kl(Un[g],t);return o!==null&&o!==t&&(Eo++,Un!==null&&(i===null?i=Un:i.push(...Un))),(t.f&Zr)!==0&&(t.f^=Zr),h}catch(y){return tl(y)}finally{t.f^=Da,En=e,Bn=r,Un=i,ne=o,Sn=a,Li(s),br=c,yi=f}}function Nu(t,e){let r=e.reactions;if(r!==null){var i=gf.call(r,t);if(i!==-1){var o=r.length-1;o===0?r=e.reactions=null:(r[i]=r[o],r.pop())}}r===null&&(e.f&cn)!==0&&(En===null||!En.includes(e))&&(_n(e,yr),(e.f&ar)!==0&&(e.f^=ar,e.f&=~Yr),Oa(e),ia(e,0))}function ia(t,e){var r=t.deps;if(r!==null)for(var i=e;i<r.length;i++)Nu(t,r[i])}function Co(t){var e=t.f;if((e&Ur)===0){_n(t,yn);var r=xe,i=mi;if(xe=t,mi=!0,vt){var o=Di;Qo(t.component_function);var a=Fr;Ko(t.dev_stack??Fr)}try{(e&(Rr|mf))!==0?ku(t):pl(t),vl(t);var s=Ka(t);t.teardown=typeof s=="function"?s:null,t.wv=Ml;var c;vt&&jf&&(t.f&Nn)!==0&&t.deps}finally{mi=i,xe=r,vt&&(Qo(o),Ko(a))}}}async function Hu(){await Promise.resolve(),Jf()}function n(t){var e=t.f,r=(e&cn)!==0;if(ne!==null&&!br){var i=xe!==null&&(xe.f&Ur)!==0;if(!i&&!(Sn!=null&&Sn.includes(t))){var o=ne.deps;if((ne.f&Da)!==0)t.rv<Eo&&(t.rv=Eo,En===null&&o!==null&&o[Bn]===t?Bn++:En===null?En=[t]:En.includes(t)||En.push(t));else{(ne.deps??(ne.deps=[])).push(t);var a=t.reactions;a===null?t.reactions=[ne]:a.includes(ne)||a.push(ne)}}}if(vt&&lu.delete(t),qi){if(Kr.has(t))return Kr.get(t);if(r){var s=t,c=s.v;return((s.f&yn)===0&&s.reactions!==null||Tl(s))&&(c=qa(s)),Kr.set(s,c),c}}else r&&(!(Qe!=null&&Qe.has(t))||ce!=null&&ce.is_fork&&!bo())&&(s=t,ko(s)&&al(s),mi&&bo()&&(s.f&ar)===0&&Cl(s));if(Qe!=null&&Qe.has(t))return Qe.get(t);if((t.f&Zr)!==0)throw t.v;return t.v}function Cl(t){if(t.deps!==null){t.f^=ar;for(const e of t.deps)(e.reactions??(e.reactions=[])).push(t),(e.f&cn)!==0&&(e.f&ar)===0&&Cl(e)}}function Tl(t){if(t.v===mn)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Kr.has(e)||(e.f&cn)!==0&&Tl(e))return!0;return!1}function oa(t){var e=br;try{return br=!0,t()}finally{br=e}}const Au=-7169;function _n(t,e){t.f=t.f&Au|e}function Wu(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(_r in t)Qa(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&_r in r&&Qa(r)}}}function Qa(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let i in t)try{Qa(t[i],e)}catch{}const r=$o(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const i=Bs(r);for(let o in i){const a=i[o].get;if(a)try{a.call(t)}catch{}}}}}const Nl=new Set,Ja=new Set;function Ru(t,e,r,i={}){function o(a){if(i.capture||To.call(e,a),!a.cancelBubble)return Ua(()=>r==null?void 0:r.call(this,a))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Bi(()=>{e.addEventListener(t,o,i)}):e.addEventListener(t,o,i),o}function Gn(t,e,r,i,o){var a={capture:i,passive:o},s=Ru(t,e,r,a);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Ya(()=>{e.removeEventListener(t,s,a)})}function Jr(t){for(var e=0;e<t.length;e++)Nl.add(t[e]);for(var r of Ja)r(t)}let Hl=null;function To(t){var _;var e=this,r=e.ownerDocument,i=t.type,o=((_=t.composedPath)==null?void 0:_.call(t))||[],a=o[0]||t.target;Hl=t;var s=0,c=Hl===t&&t.__root;if(c){var f=o.indexOf(c);if(f!==-1&&(e===document||e===window)){t.__root=e;return}var l=o.indexOf(e);if(l===-1)return;f<=l&&(s=f)}if(a=o[s]||t.target,a!==e){si(t,"currentTarget",{configurable:!0,get(){return a||r}});var u=ne,h=xe;Hn(null),cr(null);try{for(var d,g=[];a!==null;){var v=a.assignedSlot||a.parentNode||a.host||null;try{var y=a["__"+i];y!=null&&(!a.disabled||t.target===a)&&y.call(a,t)}catch(x){d?g.push(x):d=x}if(t.cancelBubble||v===e||v===null)break;a=v}if(d){for(let x of g)queueMicrotask(()=>{throw x});throw d}}finally{t.__root=e,delete t.currentTarget,Hn(u),cr(h)}}}function fr(t,e,r,i,o,a=!1,s=!1){var l,u;let c,f;try{c=t()}catch(h){f=h}if(typeof c!="function"&&(a||c!=null||f)){const h=i==null?void 0:i[D],d=o?` at ${h}:${o[0]}:${o[1]}`:` in ${h}`,g=((l=r[0])==null?void 0:l.eventPhase)<Event.BUBBLING_PHASE?"capture":"",y=`\`${((u=r[0])==null?void 0:u.type)+g}\` handler${d}`;if(Df(y,s?"remove the trailing `()`":"add a leading `() =>`"),f)throw f}c==null||c.apply(e,r)}function Al(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function No(t,e){var r=xe;r.nodes===null&&(r.nodes={start:t,end:e,a:null,t:null})}function gt(t,e){var r=(e&1)!==0,i=(e&2)!==0,o,a=!t.startsWith("<!>");return()=>{o===void 0&&(o=Al(a?t:"<!>"+t),r||(o=Lr(o)));var s=i||$a?document.importNode(o,!0):o.cloneNode(!0);if(r){var c=Lr(s),f=s.lastChild;No(c,f)}else No(s,s);return s}}function Iu(t,e,r="svg"){var i=!t.startsWith("<!>"),o=(e&1)!==0,a=`<${r}>${i?t:"<!>"+t}</${r}>`,s;return()=>{if(!s){var c=Al(a),f=Lr(c);if(o)for(s=document.createDocumentFragment();Lr(f);)s.appendChild(Lr(f));else s=Lr(f)}var l=s.cloneNode(!0);if(o){var u=Lr(l),h=l.lastChild;No(u,h)}else No(l,l);return l}}function It(t,e){return Iu(t,e,"svg")}function Ct(){var t=document.createDocumentFragment(),e=document.createComment(""),r=Qr();return t.append(e,r),No(e,r),t}function z(t,e){t!==null&&t.before(e)}const zu=["touchstart","touchmove"];function Fu(t){return zu.includes(t)}function Vt(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function Pu(t,e){return Lu(t,e)}const Xi=new Map;function Lu(t,{target:e,anchor:r,props:i={},events:o,context:a,intro:s=!0}){_u();var c=new Set,f=h=>{for(var d=0;d<h.length;d++){var g=h[d];if(!c.has(g)){c.add(g);var v=Fu(g);e.addEventListener(g,To,{passive:v});var y=Xi.get(g);y===void 0?(document.addEventListener(g,To,{passive:v}),Xi.set(g,1)):Xi.set(g,y+1)}}};f(Xo(Nl)),Ja.add(f);var l=void 0,u=Su(()=>{var h=r??e.appendChild(Qr());return ru(h,{pending:()=>{}},d=>{if(a){ye({});var g=tn;g.c=a}o&&(i.$$events=o),l=t(d,i)||{},a&&_e()}),()=>{var v;for(var d of c){e.removeEventListener(d,To);var g=Xi.get(d);--g===0?(document.removeEventListener(d,To),Xi.delete(d)):Xi.set(d,g)}Ja.delete(f),h!==r&&((v=h.parentNode)==null||v.removeChild(h))}});return ts.set(l,u),l}let ts=new WeakMap;function Du(t,e){const r=ts.get(t);return r?(ts.delete(t),r(e)):(vt&&(_r in t?Vf():Bf()),Promise.resolve())}function Bu(t){return t.toString=()=>(bf(),""),t}class es{constructor(e,r=!0){Wr(this,"anchor");le(this,pr,new Map);le(this,Ar,new Map);le(this,jn,new Map);le(this,Ri,new Set);le(this,Oo,!0);le(this,jo,()=>{var e=ce;if(j(this,pr).has(e)){var r=j(this,pr).get(e),i=j(this,Ar).get(r);if(i)Za(i),j(this,Ri).delete(r);else{var o=j(this,jn).get(r);o&&(j(this,Ar).set(r,o.effect),j(this,jn).delete(r),o.fragment.lastChild.remove(),this.anchor.before(o.fragment),i=o.effect)}for(const[a,s]of j(this,pr)){if(j(this,pr).delete(a),a===e)break;const c=j(this,jn).get(s);c&&(Mn(c.effect),j(this,jn).delete(s))}for(const[a,s]of j(this,Ar)){if(a===r||j(this,Ri).has(a))continue;const c=()=>{if(Array.from(j(this,pr).values()).includes(a)){var l=document.createDocumentFragment();xl(s,l),l.append(Qr()),j(this,jn).set(a,{effect:s,fragment:l})}else Mn(s);j(this,Ri).delete(a),j(this,Ar).delete(a)};j(this,Oo)||!i?(j(this,Ri).add(a),pi(s,c,!1)):c()}}});le(this,ka,e=>{j(this,pr).delete(e);const r=Array.from(j(this,pr).values());for(const[i,o]of j(this,jn))r.includes(i)||(Mn(o.effect),j(this,jn).delete(i))});this.anchor=e,jt(this,Oo,r)}ensure(e,r){var i=ce,o=dl();if(r&&!j(this,Ar).has(e)&&!j(this,jn).has(e))if(o){var a=document.createDocumentFragment(),s=Qr();a.append(s),j(this,jn).set(e,{effect:$n(()=>r(s)),fragment:a})}else j(this,Ar).set(e,$n(()=>r(this.anchor)));if(j(this,pr).set(i,e),o){for(const[c,f]of j(this,Ar))c===e?i.skipped_effects.delete(f):i.skipped_effects.add(f);for(const[c,f]of j(this,jn))c===e?i.skipped_effects.delete(f.effect):i.skipped_effects.add(f.effect);i.oncommit(j(this,jo)),i.ondiscard(j(this,ka))}else j(this,jo).call(this)}}pr=new WeakMap,Ar=new WeakMap,jn=new WeakMap,Ri=new WeakMap,Oo=new WeakMap,jo=new WeakMap,ka=new WeakMap;function Gu(t,e,...r){var i=new es(t);So(()=>{const o=e()??null;vt&&o==null&&Wf(),i.ensure(o,o&&(a=>o(a,...r)))},li)}function Wl(t,e){const r=(i,...o)=>{var a=Di;Qo(t);try{return e(i,...o)}finally{Qo(a)}};return Bu(r),r}if(vt){let t=function(e){if(!(e in globalThis)){let r;Object.defineProperty(globalThis,e,{configurable:!0,get:()=>{if(r!==void 0)return r;Rf(e)},set:i=>{r=i}})}};t("$state"),t("$effect"),t("$derived"),t("$inspect"),t("$props"),t("$bindable")}function V(t,e,r){return(...i)=>{const o=t(...i);var a=o.nodeType===wf?o.firstChild:o;return Rl(a,e,r),o}}function Vu(t,e,r){t.__svelte_meta={parent:Fr,loc:{file:e,line:r[0],column:r[1]}},r[2]&&Rl(t.firstChild,e,r[2])}function Rl(t,e,r){for(var i=0;t&&i<r.length;)t.nodeType===xf&&Vu(t,e,r[i++]),t=t.nextSibling}function Se(t){t&&Ef(t[D]??"a component",t.name)}function Ee(){const t=tn==null?void 0:tn.function;function e(r){Sf(r,t[D])}return{$destroy:()=>e("$destroy()"),$on:()=>e("$on(...)"),$set:()=>e("$set(...)")}}function Il(t,...e){(typeof t!="object"||!(t instanceof Node))&&Xs();for(let r of e)typeof r!="function"&&Xs()}function q(t,e,r=!1){var i=new es(t),o=r?li:0;function a(s,c){i.ensure(s,c)}So(()=>{var s=!1;e((c,f=!0)=>{s=!0,a(f,c)}),s||a(!1,null)},o)}function Ou(t,e,r){var i=new es(t);So(()=>{var o=e();i.ensure(o,r)})}function Yn(t,e){return e}function ju(t,e,r){for(var i=[],o=e.length,a,s=e.length,c=0;c<o;c++){let h=e[c];pi(h,()=>{if(a){if(a.pending.delete(h),a.done.add(h),a.pending.size===0){var d=t.outrogroups;ns(Xo(a.done)),d.delete(a),d.size===0&&(t.outrogroups=null)}}else s-=1},!1)}if(s===0){var f=i.length===0&&r!==null;if(f){var l=r,u=l.parentNode;xu(u),u.append(l),t.items.clear()}ns(e,!f)}else a={pending:new Set(e),done:new Set},(t.outrogroups??(t.outrogroups=new Set)).add(a)}function ns(t,e=!0){for(var r=0;r<t.length;r++)Mn(t[r],e)}var zl;function He(t,e,r,i,o,a=null){var s=t,c=new Map,f=(e&4)!==0;if(f){var l=t;s=l.appendChild(Qr())}var u=null,h=fu(()=>{var x=r();return vo(x)?x:x==null?[]:Xo(x)}),d,g=!0;function v(){_.fallback=u,qu(_,d,s,e,i),u!==null&&(d.length===0?(u.f&zr)===0?Za(u):(u.f^=zr,Ho(u,null,s)):pi(u,()=>{u=null}))}var y=So(()=>{d=n(h);for(var x=d.length,M=new Set,N=ce,R=dl(),w=0;w<x;w+=1){var C=d[w],b=i(C,w),E=g?null:c.get(b);E?(E.v&&Oi(E.v,C),E.i&&Oi(E.i,w),R&&N.skipped_effects.delete(E.e)):(E=Xu(c,g?s:zl??(zl=Qr()),C,b,w,o,e,r),g||(E.e.f|=zr),c.set(b,E)),M.add(b)}if(x===0&&a&&!u&&(g?u=$n(()=>a(s)):(u=$n(()=>a(zl??(zl=Qr()))),u.f|=zr)),!g)if(R){for(const[L,H]of c)M.has(L)||N.skipped_effects.add(H.e);N.oncommit(v),N.ondiscard(()=>{})}else v();n(h)}),_={effect:y,items:c,outrogroups:null,fallback:u};g=!1}function qu(t,e,r,i,o){var H,A,T,B,P,K,Y,$,O;var a=(i&8)!==0,s=e.length,c=t.items,f=t.effect.first,l,u=null,h,d=[],g=[],v,y,_,x;if(a)for(x=0;x<s;x+=1)v=e[x],y=o(v,x),_=c.get(y).e,(_.f&zr)===0&&((A=(H=_.nodes)==null?void 0:H.a)==null||A.measure(),(h??(h=new Set)).add(_));for(x=0;x<s;x+=1){if(v=e[x],y=o(v,x),_=c.get(y).e,t.outrogroups!==null)for(const U of t.outrogroups)U.pending.delete(_),U.done.delete(_);if((_.f&zr)!==0)if(_.f^=zr,_===f)Ho(_,null,r);else{var M=u?u.next:f;_===t.effect.last&&(t.effect.last=_.prev),_.prev&&(_.prev.next=_.next),_.next&&(_.next.prev=_.prev),ti(t,u,_),ti(t,_,M),Ho(_,M,r),u=_,d=[],g=[],f=u.next;continue}if((_.f&Dn)!==0&&(Za(_),a&&((B=(T=_.nodes)==null?void 0:T.a)==null||B.unfix(),(h??(h=new Set)).delete(_))),_!==f){if(l!==void 0&&l.has(_)){if(d.length<g.length){var N=g[0],R;u=N.prev;var w=d[0],C=d[d.length-1];for(R=0;R<d.length;R+=1)Ho(d[R],N,r);for(R=0;R<g.length;R+=1)l.delete(g[R]);ti(t,w.prev,C.next),ti(t,u,w),ti(t,C,N),f=N,u=C,x-=1,d=[],g=[]}else l.delete(_),Ho(_,f,r),ti(t,_.prev,_.next),ti(t,_,u===null?t.effect.first:u.next),ti(t,u,_),u=_;continue}for(d=[],g=[];f!==null&&f!==_;)(l??(l=new Set)).add(f),g.push(f),f=f.next;if(f===null)continue}(_.f&zr)===0&&d.push(_),u=_,f=_.next}if(t.outrogroups!==null){for(const U of t.outrogroups)U.pending.size===0&&(ns(Xo(U.done)),(P=t.outrogroups)==null||P.delete(U));t.outrogroups.size===0&&(t.outrogroups=null)}if(f!==null||l!==void 0){var b=[];if(l!==void 0)for(_ of l)(_.f&Dn)===0&&b.push(_);for(;f!==null;)(f.f&Dn)===0&&f!==t.fallback&&b.push(f),f=f.next;var E=b.length;if(E>0){var L=(i&4)!==0&&s===0?r:null;if(a){for(x=0;x<E;x+=1)(Y=(K=b[x].nodes)==null?void 0:K.a)==null||Y.measure();for(x=0;x<E;x+=1)(O=($=b[x].nodes)==null?void 0:$.a)==null||O.fix()}ju(t,b,L)}}a&&Bi(()=>{var U,ft;if(h!==void 0)for(_ of h)(ft=(U=_.nodes)==null?void 0:U.a)==null||ft.apply()})}function Xu(t,e,r,i,o,a,s,c){var f=(s&1)!==0?(s&16)===0?hu(r,!1,!1):gi(r):null,l=(s&2)!==0?gi(o):null;return vt&&f&&(f.trace=()=>{c()[(l==null?void 0:l.v)??o]}),{v:f,i:l,e:$n(()=>(a(e,f??r,l??o,c),()=>{t.delete(i)}))}}function Ho(t,e,r){if(t.nodes)for(var i=t.nodes.start,o=t.nodes.end,a=e&&(e.f&zr)===0?e.nodes.start:r;i!==null;){var s=wo(i);if(a.before(i),i===o)return;i=s}}function ti(t,e,r){e===null?t.effect.first=r:e.next=r,r===null?t.effect.last=e:r.prev=e}function aa(t,e,r){gl(()=>{var i=oa(()=>e(t,r==null?void 0:r())||{});if(r&&(i!=null&&i.update)){var o=!1,a={};na(()=>{var s=r();Wu(s),o&&Us(a,s)&&(a=s,i.update(s))}),o=!0}if(i!=null&&i.destroy)return()=>i.destroy()})}const Fl=[...` 	
\r\f \v\uFEFF`];function $u(t,e,r){var i=t==null?"":""+t;if(e&&(i=i?i+" "+e:e),r){for(var o in r)if(r[o])i=i?i+" "+o:o;else if(i.length)for(var a=o.length,s=0;(s=i.indexOf(o,s))>=0;){var c=s+a;(s===0||Fl.includes(i[s-1]))&&(c===i.length||Fl.includes(i[c]))?i=(s===0?"":i.substring(0,s))+i.substring(c+1):s=c}}return i===""?null:i}function Pl(t,e=!1){var r=e?" !important;":";",i="";for(var o in t){var a=t[o];a!=null&&a!==""&&(i+=" "+o+": "+a+r)}return i}function rs(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function Uu(t,e){if(e){var r="",i,o;if(Array.isArray(e)?(i=e[0],o=e[1]):i=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var a=!1,s=0,c=!1,f=[];i&&f.push(...Object.keys(i).map(rs)),o&&f.push(...Object.keys(o).map(rs));var l=0,u=-1;const y=t.length;for(var h=0;h<y;h++){var d=t[h];if(c?d==="/"&&t[h-1]==="*"&&(c=!1):a?a===d&&(a=!1):d==="/"&&t[h+1]==="*"?c=!0:d==='"'||d==="'"?a=d:d==="("?s++:d===")"&&s--,!c&&a===!1&&s===0){if(d===":"&&u===-1)u=h;else if(d===";"||h===y-1){if(u!==-1){var g=rs(t.substring(l,u).trim());if(!f.includes(g)){d!==";"&&h++;var v=t.substring(l,h).trim();r+=" "+v+";"}}l=h+1,u=-1}}}}return i&&(r+=Pl(i)),o&&(r+=Pl(o,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function fn(t,e,r,i,o,a){var s=t.__className;if(s!==r||s===void 0){var c=$u(r,i,a);c==null?t.removeAttribute("class"):t.className=c,t.__className=r}else if(a&&o!==a)for(var f in a){var l=!!a[f];(o==null||l!==!!o[f])&&t.classList.toggle(f,l)}return a}function is(t,e={},r,i){for(var o in r){var a=r[o];e[o]!==a&&(r[o]==null?t.style.removeProperty(o):t.style.setProperty(o,a,i))}}function ke(t,e,r,i){var o=t.__style;if(o!==e){var a=Uu(e,i);a==null?t.removeAttribute("style"):t.style.cssText=a,t.__style=e}else i&&(Array.isArray(i)?(is(t,r==null?void 0:r[0],i[0]),is(t,r==null?void 0:r[1],i[1],"important")):is(t,r,i));return i}function os(t,e,r=!1){if(t.multiple){if(e==null)return;if(!vo(e))return Gf();for(var i of t.options)i.selected=e.includes(Dl(i));return}for(i of t.options){var o=Dl(i);if(vu(o,e)){i.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function Ll(t){var e=new MutationObserver(()=>{os(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ya(()=>{e.disconnect()})}function Dl(t){return"__value"in t?t.__value:t.value}const Yu=Symbol("is custom element"),Zu=Symbol("is html");function Bl(t,e){var r=as(t);r.value===(r.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function Ku(t,e){var r=as(t);r.checked!==(r.checked=e??void 0)&&(t.checked=e)}function W(t,e,r,i){var o=as(t);o[e]!==(o[e]=r)&&(e==="loading"&&(t[_f]=r),r==null?t.removeAttribute(e):typeof r!="string"&&Qu(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function as(t){return t.__attributes??(t.__attributes={[Yu]:t.nodeName.includes("-"),[Zu]:t.namespaceURI===hf})}var Gl=new Map;function Qu(t){var e=t.getAttribute("is")||t.nodeName,r=Gl.get(e);if(r)return r;Gl.set(e,r=[]);for(var i,o=t,a=Element.prototype;a!==o;){i=Bs(o);for(var s in i)i[s].set&&r.push(s);o=$o(o)}return r}function Vl(t,e){return t===e||(t==null?void 0:t[_r])===e}function ei(t={},e,r,i){return gl(()=>{var o,a;return na(()=>{o=a,a=[],oa(()=>{t!==r(...a)&&(e(t,...a),o&&Vl(r(...o),t)&&e(null,...o))})}),()=>{Bi(()=>{a&&Vl(r(...a),t)&&e(null,...a)})}}),t}function Vn(t,e,r,i){var o=i,a=!0,s=()=>(a&&(a=!1,o=i),o),c;c=t[e],c===void 0&&i!==void 0&&(c=s());var f;return f=()=>{var l=t[e];return l===void 0?s():(a=!0,l)},f}function xn(t,e){na(()=>{const r=new Map,i=t(),o=vo(i)?i:i==null?[]:Array.from(i),a=o.length;for(let s=0;s<a;s++){const c=e(o[s],s);if(r.has(c)){const f=String(r.get(c)),l=String(s);let u=String(c);u.startsWith("[object ")&&(u=null),Cf(f,l,u)}r.set(c,s)}})}function Ol(t,...e){return oa(()=>{try{let r=!1;const i=[];for(const o of e)o&&typeof o=="object"&&_r in o?(i.push(Uf(o,!0)),r=!0):i.push(o);r&&(Lf(t),console.log("%c[snapshot]","color: grey",...i))}catch{}}),e}const Ju="5";typeof window<"u"&&((nf=window.__svelte??(window.__svelte={})).v??(nf.v=new Set)).add(Ju);function jl(t){var i,o;const e=((i=t==null?void 0:t.shapes)==null?void 0:i.lineWidth)??1.5,r=((o=t==null?void 0:t.colors)==null?void 0:o.intervalLine)??"#475569";return{width:Math.max(4,Math.round(e*3)),height:Math.max(6,Math.round(e*4)),color:r,opacity:1}}function sa(t,e,r,i){const{width:o,height:a}=i,s=a/2;return t==="left"?`M ${e} ${r} L ${e+o} ${r-s} L ${e+o} ${r+s} Z`:`M ${e} ${r} L ${e-o} ${r-s} L ${e-o} ${r+s} Z`}const ql=[1,5,2,2.5,4,3],Mr=[.001,.002,.005,.01,.02,.05,.1,.15,.2,.25,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.75,2,2.5,3,4,5,6,7,8,10,12,15,20,25,30,40,50,75,100,150,200,300,500,750,1e3];function la(t,e){return e?td(t):ed(t)}function td(t){if(t[0]<=0||t[1]<=0)return[.1,10];if(t[0]>=t[1])return t;let e=Mr[0];for(const i of Mr)if(i<=t[0])e=i;else break;t[0]<Mr[0]&&(e=Math.pow(10,Math.floor(Math.log10(t[0]))));let r=Mr[Mr.length-1];for(let i=Mr.length-1;i>=0&&Mr[i]>=t[1];i--)r=Mr[i];return t[1]>Mr[Mr.length-1]&&(r=Math.pow(10,Math.ceil(Math.log10(t[1])))),[e,r]}function ed(t){const e=t[1]-t[0];if(e===0)return t;if(e<0)return[t[1],t[0]];const r=Math.pow(10,Math.floor(Math.log10(e)));let i=r,o=1/0;for(const c of ql)for(const f of[.1,1,10]){const l=c*r*f;if(l<=0)continue;const u=Math.floor(t[0]/l)*l,g=(Math.ceil(t[1]/l)*l-u)/e-1;g>=0&&g<o&&(o=g,i=l)}const a=Math.floor(t[0]/i)*i,s=Math.ceil(t[1]/i)*i;return[Math.round(a*1e10)/1e10,Math.round(s*1e10)/1e10]}function Zn(t,e,r,i,o=!1){if(t&&r in t){const a=t[r];if(typeof a=="number"&&Number.isFinite(a)&&(!o||a>0))return a}return r===i&&e!=null&&Number.isFinite(e)&&(!o||e>0)?e:null}const An=12;function Xl(t){const{rows:e,config:r,scale:i,nullValue:o,forestWidth:a,pointSize:s,effects:c=[],pointCol:f,lowerCol:l,upperCol:u}=t,h=nd(e,r,i,o,c,f,l,u),d=rd(h,r,i,a,s),g=$l(h,r,i,o);return{axisLimits:h,plotRegion:d,ticks:g}}function nd(t,e,r,i,o=[],a,s,c){const f=e.rangeMin!=null,l=e.rangeMax!=null;if(f&&l)return[e.rangeMin,e.rangeMax];const u=[],h=r==="log",d=a||"point";for(const U of t){const ft=Zn(U.metadata,void 0,d,"point",h);ft!=null&&u.push(ft);for(const rt of o){const it=Zn(U.metadata,void 0,rt.pointCol,"point",h);it!=null&&u.push(it)}}if(u.length===0)return r==="log"?[.1,10]:[-1,1];let g=Math.min(...u),v=Math.max(...u);(e.includeNull??!0)&&(g=Math.min(g,i),v=Math.max(v,i));const _=g,x=v;let M;if(h){const U=Math.max(g,.001),ft=Math.max(v,.001);M=Math.log(ft)-Math.log(U)}else M=v-g;if(M===0||!Number.isFinite(M)){const U=u[0];if(h)return la([U/2,U*2],!0);{const ft=Math.max(1,Math.abs(U)*.1);return la([U-ft,U+ft],!1)}}const[N,R]=la([g,v],h),w=e.ciClipFactor??2;let C=N,b=R;const E=[],L=[],H=s||"lower",A=c||"upper";for(const U of t){const ft=Zn(U.metadata,void 0,H,"lower",h);ft!=null&&E.push(ft);const rt=Zn(U.metadata,void 0,A,"upper",h);rt!=null&&L.push(rt);for(const it of o){const et=Zn(U.metadata,void 0,it.lowerCol,"lower",h);et!=null&&E.push(et);const lt=Zn(U.metadata,void 0,it.upperCol,"upper",h);lt!=null&&L.push(lt)}}let T,B;if(h)T=C/w,B=b*w;else{const U=b-C;T=C-U*w,B=b+U*w}let P=!1,K=!1;for(const U of E)U>=T?C=Math.min(C,U):P=!0;for(const U of L)U<=B?b=Math.max(b,U):K=!0;if(P&&(C=Math.min(C,T)),K&&(b=Math.max(b,B)),e.symmetric===!0&&!f&&!l)if(r==="log"){const U=Math.log(i),ft=Math.max(Math.abs(Math.log(Math.max(_,.001))-U),Math.abs(Math.log(x)-U));C=Math.exp(U-ft),b=Math.exp(U+ft)}else{const U=Math.max(Math.abs(_-i),Math.abs(x-i));C=i-U,b=i+U}let $=f?e.rangeMin:C,O=l?e.rangeMax:b;return la([$,O],r==="log")}function rd(t,e,r,i,o){if(!(e.markerMargin??!0)||i<=0)return t;const s=i-2*An;if(s<=0)return t;if(r==="log"){const l=Math.log(Math.max(t[0],.001)),u=Math.log(Math.max(t[1],.001)),h=u-l,d=o/2*(h/s),g=Math.min(d,.5);return[Math.exp(l-g),Math.exp(u+g)]}const c=t[1]-t[0],f=o/2*(c/s);return[t[0]-f,t[1]+f]}function $l(t,e,r,i){const[o,a]=t,s=i>=o&&i<=a,c=(e.nullTick??!0)&&s;if(e.tickValues&&e.tickValues.length>0){let u=e.tickValues.filter(h=>h>=o&&h<=a);return c&&!u.includes(i)&&(u=[...u,i].sort((h,d)=>h-d)),u}const f=e.tickCount??5;let l=r==="log"?od(t,f):id(t,f);return c&&!l.includes(i)&&(l=[...l,i].sort((u,h)=>u-h)),l}function id(t,e){const[r,i]=t,o=i-r;if(o===0)return[r];const a=o/Math.max(e-1,1),s=Math.pow(10,Math.floor(Math.log10(a)));let c=s,f=1/0;for(const h of ql){const d=h*s,g=Math.floor(o/d)+1,v=Math.abs(g-e);v<f&&(f=v,c=d);const y=h*s/10;if(y>0){const _=Math.floor(o/y)+1,x=Math.abs(_-e);x<f&&(f=x,c=y)}}const l=Math.ceil(r/c)*c,u=[];for(let h=l;h<=i+c*.001;h+=c){const d=Math.round(h*1e10)/1e10;d>=r&&d<=i&&u.push(d)}return u.length<2&&(u.includes(r)||u.unshift(r),u.includes(i)||u.push(i)),u}function od(t,e){const[r,i]=t,a=[.01,.02,.05,.1,.15,.2,.25,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.75,2,2.5,3,4,5,6,7,8,10,12,15,20,25,30,40,50,75,100,150,200,500,1e3].filter(f=>f>=r&&f<=i);if(a.length<=e)return a;const s=[1,.1,10,100,.5,2,5,.2,.25,1.5,3,4,20,50],c=[];for(const f of s)a.includes(f)&&c.length<e&&c.push(f);if(c.length<e){const f=a.filter(u=>!c.includes(u)),l=Math.max(1,Math.floor(f.length/(e-c.length)));for(let u=0;u<f.length&&c.length<e;u+=l)c.push(f[u])}return c.sort((f,l)=>f-l)}const ad=.05,sd=.12,ld=.16,cd=.22,Kn={RENDERING_BUFFER:4,DEFAULT_AXIS_GAP:12},Sr={FONT_SCALE:.8,PADDING:4,GAP:6},Er={DEFAULT_COLUMN_WIDTH:100,AXIS_HEIGHT:32,AXIS_LABEL_HEIGHT:32,BOTTOM_MARGIN:16,MIN_FOREST_WIDTH:200,DEFAULT_WIDTH:800},kr={TITLE_HEIGHT:28,SUBTITLE_HEIGHT:20,CAPTION_HEIGHT:16,FOOTNOTE_HEIGHT:14,DEFAULT_FONT_SIZE:14,REM_BASE:16,PT_TO_PX:96/72},Fe={INDENT_PER_LEVEL:12,TEXT_PADDING:10,DEFAULT_TICK_COUNT:5},fd={OVERALL_ROW_HEIGHT_MULTIPLIER:1.5},Qn={MIN:60,MAX:600,LABEL_MAX:400,VISUAL_MIN:{sparkline:92,bar:100,stars:84,range:84,badge:74,forest:200,viz_bar:150,viz_boxplot:150,viz_violin:150}},ni={CHEVRON_WIDTH:12,GAP:6,SAFETY_MARGIN:8},Ul={SPACING:6},ss={EDGE_THRESHOLD:35,MIN_TICK_SPACING:50},Ao={success:"#16a34a",warning:"#d97706",error:"#dc2626",info:"#2563eb"};function Yl(t,e){return e<=1?0:-((e-1)*Ul.SPACING)/2+t*Ul.SPACING}Oe[D]="src/components/forest/RowInterval.svelte";var ud=V(It('<polygon stroke-width="1" class="point-estimate svelte-1wct561"></polygon>'),Oe[D],[[251,10]]),dd=V(It("<path></path>"),Oe[D],[[276,12]]),hd=V(It("<line></line>"),Oe[D],[[282,12]]),gd=V(It("<path></path>"),Oe[D],[[293,12]]),vd=V(It("<line></line>"),Oe[D],[[299,12]]),pd=V(It('<circle class="point-estimate svelte-1wct561"></circle>'),Oe[D],[[314,12]]),md=V(It('<polygon class="point-estimate svelte-1wct561"></polygon>'),Oe[D],[[329,12]]),yd=V(It('<polygon class="point-estimate svelte-1wct561"></polygon>'),Oe[D],[[341,12]]),_d=V(It('<rect class="point-estimate svelte-1wct561"></rect>'),Oe[D],[[349,12]]),xd=V(It("<line></line><!><!><!>",1),Oe[D],[[266,10]]),wd=V(It('<g class="interval-row svelte-1wct561" role="button" tabindex="0"></g>'),Oe[D],[[218,2]]);function Oe(t,e){Se(new.target),ye(e,!0,Oe);let r=Vn(e,"weightCol",3,null),i=Vn(e,"isLog",3,!1),o=Vn(e,"forestColumnOptions",3,null);const a=p(m(()=>jl(e.theme)),"arrowConfig"),s=p(m(()=>{if(!o())return[];const b=S(o().scale,"log")||i();if(o().point&&o().lower&&o().upper){const E=e.row.metadata[o().point],L=e.row.metadata[o().lower],H=e.row.metadata[o().upper],A=!b||ge(E,null,!1)&&E>0?E:null,T=!b||ge(L,null,!1)&&L>0?L:null,B=!b||ge(H,null,!1)&&H>0?H:null;return[{id:"inline",pointCol:o().point,lowerCol:o().lower,upperCol:o().upper,label:null,color:null,shape:null,opacity:null,point:A,lower:T,upper:B}]}return o().effects&&o().effects.length>0?o().effects.map(E=>({...E,point:Zn(e.row.metadata,null,E.pointCol,"point",b),lower:Zn(e.row.metadata,null,E.lowerCol,"lower",b),upper:Zn(e.row.metadata,null,E.upperCol,"upper",b)})):[]}),"effectsToRender"),c=p(m(()=>n(s).some(b=>ge(b.point,null,!1)&&!Number.isNaN(b.point)&&ge(b.lower,null,!1)&&!Number.isNaN(b.lower)&&ge(b.upper,null,!1)&&!Number.isNaN(b.upper))),"hasAnyValidValues"),f=p(m(()=>{var b;return S((b=e.row.style)==null?void 0:b.type,"summary")}),"isSummaryRow");function l(b){return e.clipBounds?b<e.clipBounds[0]:e.xScale(b)<0}function u(b){return e.clipBounds?b>e.clipBounds[1]:e.xScale(b)>e.layout.forestWidth}function h(b){if(!e.clipBounds)return Math.max(0,Math.min(e.layout.forestWidth,e.xScale(b)));const E=Math.max(e.clipBounds[0],Math.min(e.clipBounds[1],b));return e.xScale(E)}const d=p(m(()=>e.clipBounds?e.xScale(e.clipBounds[0]):An),"leftArrowX"),g=p(m(()=>e.clipBounds?e.xScale(e.clipBounds[1]):e.layout.forestWidth-An),"rightArrowX"),v=p(m(()=>{var b;return((b=e.theme)==null?void 0:b.shapes.summaryHeight)??10}),"diamondHeight"),y=p(m(()=>n(v)/2),"halfDiamondHeight"),_=p(m(()=>{var b;return((b=e.theme)==null?void 0:b.shapes.pointSize)??6}),"basePointSize");function x(b){var L;if(b&&ge((L=e.row.markerStyle)==null?void 0:L.size,null,!1))return n(_)*e.row.markerStyle.size;const E=r()?e.row.metadata[r()]:void 0;if(E){const H=.5+Math.sqrt(E/100)*1.5;return Math.min(Math.max(n(_)*H,3),n(_)*2.5)}return n(_)}function M(b,E){var $,O,U,ft;const L=S(E,0),H=e.row.markerStyle,A=($=e.theme)==null?void 0:$.shapes.effectColors,T=(O=e.theme)==null?void 0:O.shapes.markerShapes,B=["square","circle","diamond","triangle"];let P;L&&(H!=null&&H.color)?P=H.color:b.color?P=b.color:A&&A.length>0?P=A[E%A.length]:P=((U=e.theme)==null?void 0:U.colors.interval)??((ft=e.theme)==null?void 0:ft.colors.primary)??"#2563eb";let K;L&&(H!=null&&H.shape)?K=H.shape:b.shape?K=b.shape:T&&T.length>0?K=T[E%T.length]:K=B[E%B.length];let Y;return L&&ge(H==null?void 0:H.opacity,null,!1)?Y=H.opacity:ge(b.opacity,null,!1)?Y=b.opacity:Y=1,{color:P,shape:K,opacity:Y}}var N={...Ee()},R=Ct(),w=mt(R);{var C=b=>{var E=wd();E.__click=function(...L){fr(()=>e.onRowClick,this,L,Oe,[222,13])},E.__keydown=L=>{var H;return S(L.key,"Enter")&&((H=e.onRowClick)==null?void 0:H.call(e))},I(()=>He(E,21,()=>n(s),Yn,(L,H,A)=>{const T=p(m(()=>ge(n(H).point,null,!1)&&!Number.isNaN(n(H).point)&&ge(n(H).lower,null,!1)&&!Number.isNaN(n(H).lower)&&ge(n(H).upper,null,!1)&&!Number.isNaN(n(H).upper)),"hasValidEffect");n(T);var B=Ct(),P=mt(B);{var K=Y=>{const $=p(m(()=>e.yPosition+Yl(A,n(s).length)),"effectY");n($);const O=p(m(()=>e.xScale(n(H).lower)),"x1");n(O);const U=p(m(()=>e.xScale(n(H).upper)),"x2");n(U);const ft=p(m(()=>e.xScale(n(H).point)),"cx");n(ft);const rt=p(m(()=>M(n(H),A)),"style");n(rt);const it=p(m(()=>x(S(A,0))),"pointSize");n(it);const et=p(m(()=>{var xt;return((xt=e.theme)==null?void 0:xt.colors.intervalLine)??"#475569"}),"lineColor");n(et);var lt=Ct(),Yt=mt(lt);{var Zt=xt=>{const ie=p(m(()=>[`${n(O)},${n($)}`,`${n(ft)},${n($)-n(y)}`,`${n(U)},${n($)}`,`${n(ft)},${n($)+n(y)}`].join(" ")),"summaryDiamondPoints");n(ie);var oe=ud();J(()=>{var te;W(oe,"points",n(ie)),W(oe,"fill",n(rt).color),W(oe,"fill-opacity",n(rt).opacity),W(oe,"stroke",((te=e.theme)==null?void 0:te.colors.summaryBorder)??"#1d4ed8")}),z(xt,oe)},pt=xt=>{const ie=p(m(()=>l(n(H).lower)),"clippedL");n(ie);const oe=p(m(()=>u(n(H).upper)),"clippedR");n(oe);const te=p(m(()=>h(n(H).lower)),"clampedX1");n(te);const Re=p(m(()=>h(n(H).upper)),"clampedX2");n(Re);const ct=p(m(()=>n(a).height/2),"whiskerHalfHeight");n(ct);const Mt=p(m(()=>h(n(H).point)),"clampedCx");n(Mt);var ee=xd(),Be=mt(ee),je=nt(Be);{var dn=qt=>{var At=dd();J(Ie=>{W(At,"d",Ie),W(At,"fill",n(a).color),W(At,"fill-opacity",n(a).opacity)},[()=>sa("left",n(d),n($),n(a))]),z(qt,At)},_t=qt=>{var At=hd();J(()=>{var Ie;W(At,"x1",n(te)),W(At,"x2",n(te)),W(At,"y1",n($)-n(ct)),W(At,"y2",n($)+n(ct)),W(At,"stroke",n(et)),W(At,"stroke-width",((Ie=e.theme)==null?void 0:Ie.shapes.lineWidth)??1.5)}),z(qt,At)};I(()=>q(je,qt=>{n(ie)?qt(dn):qt(_t,!1)}),"if",Oe,275,10)}var Tt=nt(je);{var Ue=qt=>{var At=gd();J(Ie=>{W(At,"d",Ie),W(At,"fill",n(a).color),W(At,"fill-opacity",n(a).opacity)},[()=>sa("right",n(g),n($),n(a))]),z(qt,At)},Xe=qt=>{var At=vd();J(()=>{var Ie;W(At,"x1",n(Re)),W(At,"x2",n(Re)),W(At,"y1",n($)-n(ct)),W(At,"y2",n($)+n(ct)),W(At,"stroke",n(et)),W(At,"stroke-width",((Ie=e.theme)==null?void 0:Ie.shapes.lineWidth)??1.5)}),z(qt,At)};I(()=>q(Tt,qt=>{n(oe)?qt(Ue):qt(Xe,!1)}),"if",Oe,292,10)}var Ce=nt(Tt);{var Cn=qt=>{var At=pd();J(()=>{W(At,"cx",n(Mt)),W(At,"cy",n($)),W(At,"r",n(it)),W(At,"fill",n(rt).color),W(At,"fill-opacity",n(rt).opacity)}),z(qt,At)},sn=qt=>{var At=Ct(),Ie=mt(At);{var or=wn=>{const Je=p(m(()=>[`${n(Mt)},${n($)-n(it)}`,`${n(Mt)+n(it)},${n($)}`,`${n(Mt)},${n($)+n(it)}`,`${n(Mt)-n(it)},${n($)}`].join(" ")),"diamondPts");n(Je);var Tn=md();J(()=>{W(Tn,"points",n(Je)),W(Tn,"fill",n(rt).color),W(Tn,"fill-opacity",n(rt).opacity)}),z(wn,Tn)},mr=wn=>{var Je=Ct(),Tn=mt(Je);{var Xr=Ye=>{const hn=p(m(()=>[`${n(Mt)},${n($)-n(it)}`,`${n(Mt)+n(it)},${n($)+n(it)}`,`${n(Mt)-n(it)},${n($)+n(it)}`].join(" ")),"trianglePts");n(hn);var Ln=yd();J(()=>{W(Ln,"points",n(hn)),W(Ln,"fill",n(rt).color),W(Ln,"fill-opacity",n(rt).opacity)}),z(Ye,Ln)},bn=Ye=>{var hn=_d();J(()=>{W(hn,"x",n(Mt)-n(it)),W(hn,"y",n($)-n(it)),W(hn,"width",n(it)*2),W(hn,"height",n(it)*2),W(hn,"fill",n(rt).color),W(hn,"fill-opacity",n(rt).opacity)}),z(Ye,hn)};I(()=>q(Tn,Ye=>{S(n(rt).shape,"triangle")?Ye(Xr):Ye(bn,!1)},!0),"if",Oe,335,10)}z(wn,Je)};I(()=>q(Ie,wn=>{S(n(rt).shape,"diamond")?wn(or):wn(mr,!1)},!0),"if",Oe,322,10)}z(qt,At)};I(()=>q(Ce,qt=>{S(n(rt).shape,"circle")?qt(Cn):qt(sn,!1)}),"if",Oe,313,10)}J(()=>{var qt;W(Be,"x1",n(te)),W(Be,"x2",n(Re)),W(Be,"y1",n($)),W(Be,"y2",n($)),W(Be,"stroke",n(et)),W(Be,"stroke-width",((qt=e.theme)==null?void 0:qt.shapes.lineWidth)??1.5)}),z(xt,ee)};I(()=>q(Yt,xt=>{n(f)?xt(Zt):xt(pt,!1)}),"if",Oe,240,8)}z(Y,lt)};I(()=>q(P,Y=>{n(T)&&Y(K)}),"if",Oe,231,6)}z(L,B)}),"each",Oe,227,4),Gn("mouseenter",E,L=>{var H;return(H=e.onRowHover)==null?void 0:H.call(e,!0,L)}),Gn("mouseleave",E,L=>{var H;return(H=e.onRowHover)==null?void 0:H.call(e,!1,L)}),z(b,E)};I(()=>q(w,b=>{n(c)&&b(C)}),"if",Oe,217,0)}return z(t,R),_e(N)}Jr(["click","keydown"]),Wn[D]="src/components/forest/EffectAxis.svelte";function bd(t){return Math.abs(t)<.01?"0":Math.abs(t)>=100?t.toFixed(0):Math.abs(t)>=10?t.toFixed(1):t.toFixed(2)}var Md=V(It('<line stroke="var(--wf-border, #e2e8f0)" stroke-width="1" opacity="0.5"></line>'),Wn[D],[[171,6]]),Sd=V(It('<g><line stroke="var(--wf-border, #e2e8f0)" stroke-width="1"></line><text fill="var(--wf-secondary, #64748b)" font-size="var(--wf-font-size-sm, 0.75rem)" class="svelte-hf6bj6"> </text></g>'),Wn[D],[[187,4,[[188,6],[194,6]]]]),Ed=V(It('<text text-anchor="middle" fill="var(--wf-secondary, #64748b)" font-size="var(--wf-font-size-sm, 0.75rem)" font-weight="500" class="svelte-hf6bj6"> </text>'),Wn[D],[[208,4]]),kd=V(It('<g class="effect-axis svelte-hf6bj6"><line stroke="var(--wf-border, #e2e8f0)" stroke-width="1"></line><!><!><!></g>'),Wn[D],[[157,0,[[159,2]]]]);function Wn(t,e){Se(new.target),ye(e,!0,Wn);let r=Vn(e,"position",3,"bottom"),i=Vn(e,"plotHeight",3,0);const o=p(m(()=>{var b;return(b=e.theme)==null?void 0:b.axis}),"axisConfig"),a=p(m(()=>{var b;return e.gridlines??((b=n(o))==null?void 0:b.gridlines)??!1}),"showGridlines"),s=p(m(()=>{var b;return((b=n(o))==null?void 0:b.gridlineStyle)??"dotted"}),"gridlineStyle"),c=35,f=p(m(()=>{var b;return((b=n(o))==null?void 0:b.nullTick)??!0}),"shouldIncludeNullTick"),l=p(m(()=>{var Yt,Zt;const[b,E]=e.xScale.domain(),L=e.layout.nullValue,H=L>=b&&L<=E;if((Yt=n(o))!=null&&Yt.tickValues&&n(o).tickValues.length>0){let pt=n(o).tickValues.filter(xt=>xt>=b&&xt<=E);return n(f)&&H&&!pt.includes(L)&&(pt=[...pt,L].sort((xt,ie)=>xt-ie)),pt}const A=50,T=Math.max(2,Math.floor(e.layout.forestWidth/A)),P=((Zt=n(o))==null?void 0:Zt.tickCount)??null??Math.min(7,T),K=e.baseTicks&&e.baseTicks.length>0?e.baseTicks.filter(pt=>pt>=b&&pt<=E):e.xScale.ticks(P);if(S(K.length,0))return n(f)&&H?[L]:[];const Y=e.xScale(L),$=K.filter(pt=>pt<L).reverse(),O=K.filter(pt=>pt>L),U=K.some(pt=>S(pt,L)),ft=[];let rt=Y;for(const pt of $){const xt=e.xScale(pt);rt-xt>=A&&(ft.unshift(pt),rt=xt)}const it=[];let et=Y;for(const pt of O){const xt=e.xScale(pt);xt-et>=A&&(it.push(pt),et=xt)}const lt=[...ft];if((U||n(f)&&H)&&lt.push(L),lt.push(...it),lt.length<2){const pt=new Set(lt);pt.has(b)||lt.unshift(b),lt.length<2&&!pt.has(E)&&lt.push(E)}return lt}),"ticks"),u=p(m(()=>S(r(),"bottom")?0:e.layout.headerHeight-8),"axisY"),h=p(m(()=>S(r(),"bottom")),"isBottom"),d=p(m(()=>S(n(s),"dashed")?"4,4":S(n(s),"dotted")?"2,2":"none"),"gridlineDashArray");function g(b){return b<c?"start":b>e.layout.forestWidth-c?"end":"middle"}function v(b){return b<c?2:b>e.layout.forestWidth-c?-2:0}var y={...Ee()},_=kd(),x=Z(_),M=nt(x);{var N=b=>{var E=Ct(),L=mt(E);xn(()=>n(l),H=>H),I(()=>He(L,16,()=>n(l),H=>H,(H,A)=>{var T=Md();J((B,P)=>{W(T,"x1",B),W(T,"x2",P),W(T,"y1",(n(h),n(u))),W(T,"y2",n(h)?-i():i()),W(T,"stroke-dasharray",n(d))},[()=>e.xScale(A),()=>e.xScale(A)]),z(H,T)}),"each",Wn,170,4),z(b,E)};I(()=>q(M,b=>{n(a)&&i()>0&&b(N)}),"if",Wn,169,2)}var R=nt(M);xn(()=>n(l),b=>b),I(()=>He(R,16,()=>n(l),b=>b,(b,E)=>{const L=p(m(()=>e.xScale(E)),"tickX");n(L);var H=Sd(),A=Z(H),T=nt(A),B=Z(T,!0);J((P,K,Y)=>{W(H,"transform",`translate(${n(L)??""}, 0)`),W(A,"y1",n(h)?n(u):n(u)-4),W(A,"y2",n(h)?n(u)+4:n(u)),W(T,"x",P),W(T,"y",n(h)?n(u)+16:n(u)-8),W(T,"text-anchor",K),Vt(B,Y)},[()=>v(n(L)),()=>g(n(L)),()=>bd(E)]),z(b,H)}),"each",Wn,185,2);var w=nt(R);{var C=b=>{var E=Ed(),L=Z(E);J(()=>{W(E,"x",e.layout.forestWidth/2),W(E,"y",n(h)?n(u)+28:n(u)-24),Vt(L,e.axisLabel)}),z(b,E)};I(()=>q(w,b=>{e.axisLabel&&b(C)}),"if",Wn,207,2)}return J((b,E)=>{W(x,"x1",b),W(x,"x2",E),W(x,"y1",n(u)),W(x,"y2",n(u))},[()=>e.xScale.range()[0],()=>e.xScale.range()[1]]),z(t,_),_e(y)}ri[D]="src/components/forest/SummaryDiamond.svelte";var Cd=V(It('<path fill="var(--wf-summary-fill, #2563eb)"></path>'),ri[D],[[58,4]]),Td=V(It('<path fill="var(--wf-summary-fill, #2563eb)"></path>'),ri[D],[[66,4]]),Nd=V(It('<g class="summary-diamond svelte-1g0hzau"><polygon fill="var(--wf-summary-fill, #2563eb)" stroke="var(--wf-summary-border, #1d4ed8)" stroke-width="1" class="svelte-1g0hzau"></polygon><!><!></g>'),ri[D],[[47,0,[[49,2]]]]);function ri(t,e){Se(new.target),ye(e,!0,ri);const r=p(m(()=>{var v;return((v=e.theme)==null?void 0:v.shapes.summaryHeight)??10}),"diamondHeight"),i=p(m(()=>n(r)/2),"halfHeight"),o=p(m(()=>{const v=e.xScale(e.lower),y=e.xScale(e.point),_=e.xScale(e.upper),x=0,M=e.layout.forestWidth,N=Math.max(x,v),R=Math.min(M,_);return[[N,e.yPosition].join(","),[y,e.yPosition-n(i)].join(","),[R,e.yPosition].join(","),[y,e.yPosition+n(i)].join(",")].join(" ")}),"points"),a=p(m(()=>e.xScale(e.lower)<0),"clippedLeft"),s=p(m(()=>e.xScale(e.upper)>e.layout.forestWidth),"clippedRight");var c={...Ee()},f=Nd(),l=Z(f),u=nt(l);{var h=v=>{var y=Cd();J(()=>W(y,"d",`M 4 ${e.yPosition??""} L 10 ${e.yPosition-4} L 10 ${e.yPosition+4} Z`)),z(v,y)};I(()=>q(u,v=>{n(a)&&v(h)}),"if",ri,57,2)}var d=nt(u);{var g=v=>{var y=Td();J(()=>W(y,"d",`M ${e.layout.forestWidth-4} ${e.yPosition??""} L ${e.layout.forestWidth-10} ${e.yPosition-4} L ${e.layout.forestWidth-10} ${e.yPosition+4} Z`)),z(v,y)};I(()=>q(d,v=>{n(s)&&v(g)}),"if",ri,65,2)}return J(()=>W(l,"points",n(o))),z(t,f),_e(c)}Jn[D]="src/components/forest/PlotHeader.svelte";var Hd=V(gt('<h2 class="plot-title svelte-xpghc"> </h2>'),Jn[D],[[17,8]]),Ad=V(gt('<p class="plot-subtitle svelte-xpghc"> </p>'),Jn[D],[[20,8]]),Wd=V(gt('<div class="controls-area svelte-xpghc"><!></div>'),Jn[D],[[24,6]]),Rd=V(gt('<div><div class="title-area svelte-xpghc"><!> <!></div> <!></div>'),Jn[D],[[14,2,[[15,4]]]]);function Jn(t,e){Se(new.target),ye(e,!0,Jn);var r={...Ee()},i=Ct(),o=mt(i);{var a=s=>{var c=Rd();let f;var l=Z(c),u=Z(l);{var h=_=>{var x=Hd(),M=Z(x);J(()=>Vt(M,e.title)),z(_,x)};I(()=>q(u,_=>{e.title&&_(h)}),"if",Jn,16,6)}var d=nt(u,2);{var g=_=>{var x=Ad(),M=Z(x);J(()=>Vt(M,e.subtitle)),z(_,x)};I(()=>q(d,_=>{e.subtitle&&_(g)}),"if",Jn,19,6)}var v=nt(l,2);{var y=_=>{var x=Wd(),M=Z(x);I(()=>Gu(M,()=>e.controls),"render",Jn,25,8),z(_,x)};I(()=>q(v,_=>{e.controls&&_(y)}),"if",Jn,23,4)}J(()=>f=fn(c,1,"header-area svelte-xpghc",null,f,{"has-both":e.title&&e.subtitle})),z(s,c)};I(()=>q(o,s=>{(e.title||e.subtitle)&&s(a)}),"if",Jn,13,0)}return z(t,i),_e(r)}Dr[D]="src/components/forest/PlotFooter.svelte";var Id=V(gt('<p class="plot-caption svelte-7xjsde"> </p>'),Dr[D],[[13,6]]),zd=V(gt('<p class="plot-footnote svelte-7xjsde"> </p>'),Dr[D],[[16,6]]),Fd=V(gt('<div class="plot-footer svelte-7xjsde"><!> <!></div>'),Dr[D],[[11,2]]);function Dr(t,e){Se(new.target),ye(e,!0,Dr);var r={...Ee()},i=Ct(),o=mt(i);{var a=s=>{var c=Fd(),f=Z(c);{var l=d=>{var g=Id(),v=Z(g);J(()=>Vt(v,e.caption)),z(d,g)};I(()=>q(f,d=>{e.caption&&d(l)}),"if",Dr,12,4)}var u=nt(f,2);{var h=d=>{var g=zd(),v=Z(g);J(()=>Vt(v,e.footnote)),z(d,g)};I(()=>q(u,d=>{e.footnote&&d(h)}),"if",Dr,15,4)}z(s,c)};I(()=>q(o,s=>{(e.caption||e.footnote)&&s(a)}),"if",Dr,10,0)}return z(t,i),_e(r)}$i[D]="src/components/forest/GroupHeader.svelte";var Pd=V(gt('<span class="group-count svelte-16smacw"> </span>'),$i[D],[[64,4]]),Ld=V(gt('<div><span><svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path d="M2 4L6 8L10 4" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg></span> <span class="group-label svelte-16smacw"> </span> <!></div>'),$i[D],[[49,0,[[57,2,[[58,4,[[59,6]]]]],[62,2]]]]);function $i(t,e){Se(new.target),ye(e,!0,$i);let r=Vn(e,"level",3,1);function i(y,_){const x=_==null?void 0:_.groupHeaders;return x?S(y,1)?{fontSize:x.level1FontSize,fontWeight:x.level1FontWeight,italic:x.level1Italic,borderBottom:x.level1BorderBottom}:S(y,2)?{fontSize:x.level2FontSize,fontWeight:x.level2FontWeight,italic:x.level2Italic,borderBottom:x.level2BorderBottom}:{fontSize:x.level3FontSize,fontWeight:x.level3FontWeight,italic:x.level3Italic,borderBottom:x.level3BorderBottom}:{fontSize:void 0,fontWeight:void 0,italic:!1,borderBottom:!1}}const o=p(m(()=>i(r(),e.theme)),"levelStyles");var a={...Ee()},s=Ld();let c,f;var l=Z(s);let u;var h=nt(l,2),d=Z(h),g=nt(h,2);{var v=y=>{var _=Pd(),x=Z(_);J(()=>Vt(x,`(${e.rowCount??""})`)),z(y,_)};I(()=>q(g,y=>{S(e.rowCount,void 0,!1)&&y(v)}),"if",$i,63,2)}return J(()=>{c=fn(s,1,"group-header svelte-16smacw",null,c,{"has-border":n(o).borderBottom,italic:n(o).italic}),W(s,"aria-expanded",!e.group.collapsed),f=ke(s,"",f,{"font-size":n(o).fontSize,"font-weight":n(o).fontWeight}),u=fn(l,1,"group-chevron svelte-16smacw",null,u,{collapsed:e.group.collapsed}),Vt(d,e.group.label)}),z(t,s),_e(a)}_i[D]="src/components/ui/Tooltip.svelte";var Dd=V(gt('<div class="tooltip-row svelte-c43bsi"><span class="tooltip-label svelte-c43bsi"> </span> <span class="tooltip-value svelte-c43bsi"> </span></div>'),_i[D],[[77,8,[[78,10],[79,10]]]]),Bd=V(gt('<div class="tabviz-tooltip svelte-c43bsi"><div class="tooltip-header svelte-c43bsi"> </div> <div class="tooltip-body svelte-c43bsi"><div class="tooltip-row tooltip-estimate svelte-c43bsi"><span class="tooltip-label svelte-c43bsi">Estimate</span> <span class="tooltip-value svelte-c43bsi"> </span></div> <!></div></div>'),_i[D],[[67,2,[[68,4],[69,4,[[70,6,[[71,8],[72,8]]]]]]]]);function _i(t,e){Se(new.target),ye(e,!0,_i);let r=Vn(e,"fields",3,null),i=p(St(void 0),"tooltipEl");function o(d){return S(d,null)||S(d,void 0)?"—":S(typeof d,"number")?Number.isInteger(d)?d.toString():d.toFixed(3):String(d)}const a=p(m(()=>!e.row||!r()||S(r().length,0)?[]:Object.entries(e.row.metadata).filter(([g])=>r().includes(g))),"displayFields"),s=p(m(()=>{if(!e.position)return"";const d=220,g=100,v=10;let y=e.position.x+v,_=e.position.y-v;const x=S(typeof window,"undefined",!1)?window.innerWidth:1e3;return S(typeof window,"undefined",!1)&&window.innerHeight,y+d>x-v&&(y=e.position.x-d-v),_-g<v?(_=e.position.y+v,`left: ${y}px; top: ${_}px; transform: none;`):`left: ${y}px; top: ${_}px;`}),"positionStyle"),c=p(m(()=>e.row&&e.position&&r()&&r().length>0),"shouldShow");var f={...Ee()},l=Ct(),u=mt(l);{var h=d=>{var g=Bd(),v=Z(g),y=Z(v),_=nt(v,2),x=Z(_),M=nt(Z(x),2),N=Z(M),R=nt(x,2);xn(()=>n(a),([w,C])=>w),I(()=>He(R,17,()=>n(a),([w,C])=>w,(w,C)=>{var b=m(()=>za(n(C),2));let E=()=>n(b)[0];E();let L=()=>n(b)[1];L();var H=Dd(),A=Z(H),T=Z(A,!0);var B=nt(A,2),P=Z(B,!0);J(K=>{Vt(T,E()),Vt(P,K)},[()=>o(L())]),z(w,H)}),"each",_i,76,6),ei(g,w=>st(i,w),()=>n(i)),J((w,C,b)=>{ke(g,n(s)),Vt(y,e.row.label),Vt(N,`${w??""} (${C??""}, ${b??""})`)},[()=>o(e.row.point),()=>o(e.row.lower),()=>o(e.row.upper)]),z(d,g)};I(()=>q(u,d=>{n(c)&&d(h)}),"if",_i,66,0)}return z(t,l),_e(f)}xi[D]="src/components/table/CellBar.svelte";var Gd=V(gt('<span class="bar-label svelte-1l4k3z2"> </span>'),xi[D],[[39,6]]),Vd=V(gt('<div class="cell-bar svelte-1l4k3z2"><div class="bar-track svelte-1l4k3z2"><div class="bar-fill svelte-1l4k3z2"></div></div> <!></div>'),xi[D],[[30,2,[[31,4,[[32,6]]]]]]);function xi(t,e){Se(new.target),ye(e,!0,xi);let r=Vn(e,"maxValue",3,100);const i=p(m(()=>{var d;return((d=e.options)==null?void 0:d.maxValue)??r()}),"effectiveMax"),o=p(m(()=>{var d;return((d=e.options)==null?void 0:d.showLabel)??!0}),"showLabel"),a=p(m(()=>{var d;return((d=e.options)==null?void 0:d.color)??"var(--wf-primary, #2563eb)"}),"barColor"),s=p(m(()=>()=>S(e.value,void 0)||S(e.value,null)||n(i)<=0?0:Math.min(100,Math.max(0,e.value/n(i)*100))),"percentage"),c=p(m(()=>()=>S(e.value,void 0)||S(e.value,null)?"":e.value>=100?e.value.toFixed(0):e.value>=10?e.value.toFixed(1):e.value.toFixed(2)),"formattedValue");var f={...Ee()},l=Ct(),u=mt(l);{var h=d=>{var g=Vd(),v=Z(g),y=Z(v);let _;var x=nt(v,2);{var M=N=>{var R=Gd(),w=Z(R);J(C=>Vt(w,C),[()=>n(c)()]),z(N,R)};I(()=>q(x,N=>{n(o)&&N(M)}),"if",xi,38,4)}J(N=>_=ke(y,"",_,N),[()=>({width:`${n(s)()??""}%`,"background-color":n(a)})]),z(d,g)};I(()=>q(u,d=>{S(e.value,void 0,!1)&&S(e.value,null,!1)&&d(h)}),"if",xi,29,0)}return z(t,l),_e(f)}Ui[D]="src/components/table/CellPvalue.svelte";var Od=V(gt('<span class="pvalue-stars svelte-1hymfkc"> </span>'),Ui[D],[[99,4]]),jd=V(gt('<span><span class="pvalue-number svelte-1hymfkc"> </span> <!></span>'),Ui[D],[[86,0,[[97,2]]]]);function Ui(t,e){Se(new.target),ye(e,!0,Ui);const r=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.bold)??!1}),"isBold"),i=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.italic)??!1}),"isItalic"),o=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.color)??null}),"textColor"),a=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.bg)??null}),"bgColor"),s=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.emphasis)??!1}),"isEmphasis"),c=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.muted)??!1}),"isMuted"),f=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.accent)??!1}),"isAccent"),l={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻","+":"⁺"};function u(T){return T.split("").map(B=>l[B]??B).join("")}const h=p(m(()=>{var T;return((T=e.options)==null?void 0:T.stars)??!1}),"showStars"),d=p(m(()=>{var T;return((T=e.options)==null?void 0:T.thresholds)??[.05,.01,.001]}),"thresholds"),g=p(m(()=>{var T;return((T=e.options)==null?void 0:T.format)??"auto"}),"format"),v=p(m(()=>{var T;return((T=e.options)==null?void 0:T.digits)??2}),"digits"),y=p(m(()=>{var T;return((T=e.options)==null?void 0:T.expThreshold)??.001}),"expThreshold"),_=p(m(()=>{var T;return((T=e.options)==null?void 0:T.abbrevThreshold)??null}),"abbrevThreshold"),x=p(m(()=>{if(!n(h)||S(e.value,void 0)||S(e.value,null))return"";const[T,B,P]=n(d);return e.value<P?"***":e.value<B?"**":e.value<T?"*":""}),"stars"),M=p(m(()=>{if(S(e.value,void 0)||S(e.value,null))return"";if(S(n(_),null,!1)&&e.value<n(_))return`<${n(_)}`;if(S(n(g),"scientific")||S(n(g),"auto")&&e.value<n(y)){const T=Math.floor(Math.log10(e.value));return`${(e.value/Math.pow(10,T)).toPrecision(n(v))}×10${u(T.toString())}`}return e.value>=.1?e.value.toFixed(n(v)):e.value>=.01?e.value.toFixed(n(v)+1):e.value.toFixed(n(v)+2)}),"formattedValue"),N=p(m(()=>n(x).length>0),"isSignificant");var R={...Ee()},w=jd();let C,b;var E=Z(w),L=Z(E),H=nt(E,2);{var A=T=>{var B=Od(),P=Z(B);J(()=>Vt(P,n(x))),z(T,B)};I(()=>q(H,T=>{n(x)&&T(A)}),"if",Ui,98,2)}return J(()=>{C=fn(w,1,"cell-pvalue svelte-1hymfkc",null,C,{significant:n(N),"cell-bold":n(r),"cell-italic":n(i),"cell-emphasis":n(s),"cell-muted":n(c),"cell-accent":n(f)}),b=ke(w,"",b,{color:n(o),"background-color":n(a)}),Vt(L,n(M))}),z(t,w),_e(R)}function ca(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qd(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zl(t){let e,r,i;t.length!==2?(e=ca,r=(c,f)=>ca(t(c),f),i=(c,f)=>t(c)-f):(e=t===ca||t===qd?t:Xd,r=t,i=t);function o(c,f,l=0,u=c.length){if(l<u){if(e(f,f)!==0)return u;do{const h=l+u>>>1;r(c[h],f)<0?l=h+1:u=h}while(l<u)}return l}function a(c,f,l=0,u=c.length){if(l<u){if(e(f,f)!==0)return u;do{const h=l+u>>>1;r(c[h],f)<=0?l=h+1:u=h}while(l<u)}return l}function s(c,f,l=0,u=c.length){const h=o(c,f,l,u-1);return h>l&&i(c[h-1],f)>-i(c[h],f)?h-1:h}return{left:o,center:s,right:a}}function Xd(){return 0}function $d(t){return t===null?NaN:+t}const Ud=Zl(ca).right;Zl($d).center;const Yd=Math.sqrt(50),Zd=Math.sqrt(10),Kd=Math.sqrt(2);function fa(t,e,r){const i=(e-t)/Math.max(0,r),o=Math.floor(Math.log10(i)),a=i/Math.pow(10,o),s=a>=Yd?10:a>=Zd?5:a>=Kd?2:1;let c,f,l;return o<0?(l=Math.pow(10,-o)/s,c=Math.round(t*l),f=Math.round(e*l),c/l<t&&++c,f/l>e&&--f,l=-l):(l=Math.pow(10,o)*s,c=Math.round(t/l),f=Math.round(e/l),c*l<t&&++c,f*l>e&&--f),f<c&&.5<=r&&r<2?fa(t,e,r*2):[c,f,l]}function ls(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const i=e<t,[o,a,s]=i?fa(e,t,r):fa(t,e,r);if(!(a>=o))return[];const c=a-o+1,f=new Array(c);if(i)if(s<0)for(let l=0;l<c;++l)f[l]=(a-l)/-s;else for(let l=0;l<c;++l)f[l]=(a-l)*s;else if(s<0)for(let l=0;l<c;++l)f[l]=(o+l)/-s;else for(let l=0;l<c;++l)f[l]=(o+l)*s;return f}function cs(t,e,r){return e=+e,t=+t,r=+r,fa(t,e,r)[2]}function Qd(t,e,r){e=+e,t=+t,r=+r;const i=e<t,o=i?cs(e,t,r):cs(t,e,r);return(i?-1:1)*(o<0?1/-o:o)}function Kl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function fs(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Ql(t,e){var r=Object.create(t.prototype);for(var i in e)r[i]=e[i];return r}function Wo(){}var Ro=.7,ua=1/Ro,Yi="\\s*([+-]?\\d+)\\s*",Io="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Cr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Jd=/^#([0-9a-f]{3,8})$/,th=new RegExp(`^rgb\\(${Yi},${Yi},${Yi}\\)$`),eh=new RegExp(`^rgb\\(${Cr},${Cr},${Cr}\\)$`),nh=new RegExp(`^rgba\\(${Yi},${Yi},${Yi},${Io}\\)$`),rh=new RegExp(`^rgba\\(${Cr},${Cr},${Cr},${Io}\\)$`),ih=new RegExp(`^hsl\\(${Io},${Cr},${Cr}\\)$`),oh=new RegExp(`^hsla\\(${Io},${Cr},${Cr},${Io}\\)$`),Jl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fs(Wo,zo,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tc,formatHex:tc,formatHex8:ah,formatHsl:sh,formatRgb:ec,toString:ec});function tc(){return this.rgb().formatHex()}function ah(){return this.rgb().formatHex8()}function sh(){return ac(this).formatHsl()}function ec(){return this.rgb().formatRgb()}function zo(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Jd.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?nc(e):r===3?new Rn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?da(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?da(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=th.exec(t))?new Rn(e[1],e[2],e[3],1):(e=eh.exec(t))?new Rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=nh.exec(t))?da(e[1],e[2],e[3],e[4]):(e=rh.exec(t))?da(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ih.exec(t))?oc(e[1],e[2]/100,e[3]/100,1):(e=oh.exec(t))?oc(e[1],e[2]/100,e[3]/100,e[4]):Jl.hasOwnProperty(t)?nc(Jl[t]):t==="transparent"?new Rn(NaN,NaN,NaN,0):null}function nc(t){return new Rn(t>>16&255,t>>8&255,t&255,1)}function da(t,e,r,i){return i<=0&&(t=e=r=NaN),new Rn(t,e,r,i)}function lh(t){return t instanceof Wo||(t=zo(t)),t?(t=t.rgb(),new Rn(t.r,t.g,t.b,t.opacity)):new Rn}function us(t,e,r,i){return arguments.length===1?lh(t):new Rn(t,e,r,i??1)}function Rn(t,e,r,i){this.r=+t,this.g=+e,this.b=+r,this.opacity=+i}fs(Rn,us,Ql(Wo,{brighter(t){return t=t==null?ua:Math.pow(ua,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ro:Math.pow(Ro,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rn(wi(this.r),wi(this.g),wi(this.b),ha(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rc,formatHex:rc,formatHex8:ch,formatRgb:ic,toString:ic}));function rc(){return`#${bi(this.r)}${bi(this.g)}${bi(this.b)}`}function ch(){return`#${bi(this.r)}${bi(this.g)}${bi(this.b)}${bi((isNaN(this.opacity)?1:this.opacity)*255)}`}function ic(){const t=ha(this.opacity);return`${t===1?"rgb(":"rgba("}${wi(this.r)}, ${wi(this.g)}, ${wi(this.b)}${t===1?")":`, ${t})`}`}function ha(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function wi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function bi(t){return t=wi(t),(t<16?"0":"")+t.toString(16)}function oc(t,e,r,i){return i<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ur(t,e,r,i)}function ac(t){if(t instanceof ur)return new ur(t.h,t.s,t.l,t.opacity);if(t instanceof Wo||(t=zo(t)),!t)return new ur;if(t instanceof ur)return t;t=t.rgb();var e=t.r/255,r=t.g/255,i=t.b/255,o=Math.min(e,r,i),a=Math.max(e,r,i),s=NaN,c=a-o,f=(a+o)/2;return c?(e===a?s=(r-i)/c+(r<i)*6:r===a?s=(i-e)/c+2:s=(e-r)/c+4,c/=f<.5?a+o:2-a-o,s*=60):c=f>0&&f<1?0:s,new ur(s,c,f,t.opacity)}function fh(t,e,r,i){return arguments.length===1?ac(t):new ur(t,e,r,i??1)}function ur(t,e,r,i){this.h=+t,this.s=+e,this.l=+r,this.opacity=+i}fs(ur,fh,Ql(Wo,{brighter(t){return t=t==null?ua:Math.pow(ua,t),new ur(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ro:Math.pow(Ro,t),new ur(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,o=2*r-i;return new Rn(ds(t>=240?t-240:t+120,o,i),ds(t,o,i),ds(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new ur(sc(this.h),ga(this.s),ga(this.l),ha(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ha(this.opacity);return`${t===1?"hsl(":"hsla("}${sc(this.h)}, ${ga(this.s)*100}%, ${ga(this.l)*100}%${t===1?")":`, ${t})`}`}}));function sc(t){return t=(t||0)%360,t<0?t+360:t}function ga(t){return Math.max(0,Math.min(1,t||0))}function ds(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const hs=t=>()=>t;function uh(t,e){return function(r){return t+r*e}}function dh(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(i){return Math.pow(t+i*e,r)}}function hh(t){return(t=+t)==1?lc:function(e,r){return r-e?dh(e,r,t):hs(isNaN(e)?r:e)}}function lc(t,e){var r=e-t;return r?uh(t,r):hs(isNaN(t)?e:t)}const cc=(function t(e){var r=hh(e);function i(o,a){var s=r((o=us(o)).r,(a=us(a)).r),c=r(o.g,a.g),f=r(o.b,a.b),l=lc(o.opacity,a.opacity);return function(u){return o.r=s(u),o.g=c(u),o.b=f(u),o.opacity=l(u),o+""}}return i.gamma=t,i})(1);function gh(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,i=e.slice(),o;return function(a){for(o=0;o<r;++o)i[o]=t[o]*(1-a)+e[o]*a;return i}}function vh(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ph(t,e){var r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r),s;for(s=0;s<i;++s)o[s]=ps(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(c){for(s=0;s<i;++s)a[s]=o[s](c);return a}}function mh(t,e){var r=new Date;return t=+t,e=+e,function(i){return r.setTime(t*(1-i)+e*i),r}}function va(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function yh(t,e){var r={},i={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?r[o]=ps(t[o],e[o]):i[o]=e[o];return function(a){for(o in r)i[o]=r[o](a);return i}}var gs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vs=new RegExp(gs.source,"g");function _h(t){return function(){return t}}function xh(t){return function(e){return t(e)+""}}function wh(t,e){var r=gs.lastIndex=vs.lastIndex=0,i,o,a,s=-1,c=[],f=[];for(t=t+"",e=e+"";(i=gs.exec(t))&&(o=vs.exec(e));)(a=o.index)>r&&(a=e.slice(r,a),c[s]?c[s]+=a:c[++s]=a),(i=i[0])===(o=o[0])?c[s]?c[s]+=o:c[++s]=o:(c[++s]=null,f.push({i:s,x:va(i,o)})),r=vs.lastIndex;return r<e.length&&(a=e.slice(r),c[s]?c[s]+=a:c[++s]=a),c.length<2?f[0]?xh(f[0].x):_h(e):(e=f.length,function(l){for(var u=0,h;u<e;++u)c[(h=f[u]).i]=h.x(l);return c.join("")})}function ps(t,e){var r=typeof e,i;return e==null||r==="boolean"?hs(e):(r==="number"?va:r==="string"?(i=zo(e))?(e=i,cc):wh:e instanceof zo?cc:e instanceof Date?mh:vh(e)?gh:Array.isArray(e)?ph:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?yh:va)(t,e)}function bh(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Mh(t){return function(){return t}}function Sh(t){return+t}var fc=[0,1];function Zi(t){return t}function ms(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Mh(isNaN(e)?NaN:.5)}function Eh(t,e){var r;return t>e&&(r=t,t=e,e=r),function(i){return Math.max(t,Math.min(e,i))}}function kh(t,e,r){var i=t[0],o=t[1],a=e[0],s=e[1];return o<i?(i=ms(o,i),a=r(s,a)):(i=ms(i,o),a=r(a,s)),function(c){return a(i(c))}}function Ch(t,e,r){var i=Math.min(t.length,e.length)-1,o=new Array(i),a=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)o[s]=ms(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(c){var f=Ud(t,c,1,i)-1;return a[f](o[f](c))}}function uc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function dc(){var t=fc,e=fc,r=ps,i,o,a,s=Zi,c,f,l;function u(){var d=Math.min(t.length,e.length);return s!==Zi&&(s=Eh(t[0],t[d-1])),c=d>2?Ch:kh,f=l=null,h}function h(d){return d==null||isNaN(d=+d)?a:(f||(f=c(t.map(i),e,r)))(i(s(d)))}return h.invert=function(d){return s(o((l||(l=c(e,t.map(i),va)))(d)))},h.domain=function(d){return arguments.length?(t=Array.from(d,Sh),u()):t.slice()},h.range=function(d){return arguments.length?(e=Array.from(d),u()):e.slice()},h.rangeRound=function(d){return e=Array.from(d),r=bh,u()},h.clamp=function(d){return arguments.length?(s=d?!0:Zi,u()):s!==Zi},h.interpolate=function(d){return arguments.length?(r=d,u()):r},h.unknown=function(d){return arguments.length?(a=d,h):a},function(d,g){return i=d,o=g,u()}}function Th(){return dc()(Zi,Zi)}function Nh(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function pa(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,i=t.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+t.slice(r+1)]}function Ki(t){return t=pa(Math.abs(t)),t?t[1]:NaN}function Hh(t,e){return function(r,i){for(var o=r.length,a=[],s=0,c=t[0],f=0;o>0&&c>0&&(f+c+1>i&&(c=Math.max(1,i-f)),a.push(r.substring(o-=c,o+c)),!((f+=c+1)>i));)c=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Ah(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Wh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fo(t){if(!(e=Wh.exec(t)))throw new Error("invalid format: "+t);var e;return new ys({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Fo.prototype=ys.prototype;function ys(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ys.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Rh(t){t:for(var e=t.length,r=1,i=-1,o;r<e;++r)switch(t[r]){case".":i=o=r;break;case"0":i===0&&(i=r),o=r;break;default:if(!+t[r])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(o+1):t}var hc;function Ih(t,e){var r=pa(t,e);if(!r)return t+"";var i=r[0],o=r[1],a=o-(hc=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+pa(t,Math.max(0,e+a-1))[0]}function gc(t,e){var r=pa(t,e);if(!r)return t+"";var i=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const vc={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Nh,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>gc(t*100,e),r:gc,s:Ih,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function pc(t){return t}var mc=Array.prototype.map,yc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function zh(t){var e=t.grouping===void 0||t.thousands===void 0?pc:Hh(mc.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?pc:Ah(mc.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function l(h){h=Fo(h);var d=h.fill,g=h.align,v=h.sign,y=h.symbol,_=h.zero,x=h.width,M=h.comma,N=h.precision,R=h.trim,w=h.type;w==="n"?(M=!0,w="g"):vc[w]||(N===void 0&&(N=12),R=!0,w="g"),(_||d==="0"&&g==="=")&&(_=!0,d="0",g="=");var C=y==="$"?r:y==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",b=y==="$"?i:/[%p]/.test(w)?s:"",E=vc[w],L=/[defgprs%]/.test(w);N=N===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function H(A){var T=C,B=b,P,K,Y;if(w==="c")B=E(A)+B,A="";else{A=+A;var $=A<0||1/A<0;if(A=isNaN(A)?f:E(Math.abs(A),N),R&&(A=Rh(A)),$&&+A==0&&v!=="+"&&($=!1),T=($?v==="("?v:c:v==="-"||v==="("?"":v)+T,B=(w==="s"?yc[8+hc/3]:"")+B+($&&v==="("?")":""),L){for(P=-1,K=A.length;++P<K;)if(Y=A.charCodeAt(P),48>Y||Y>57){B=(Y===46?o+A.slice(P+1):A.slice(P))+B,A=A.slice(0,P);break}}}M&&!_&&(A=e(A,1/0));var O=T.length+A.length+B.length,U=O<x?new Array(x-O+1).join(d):"";switch(M&&_&&(A=e(U+A,U.length?x-B.length:1/0),U=""),g){case"<":A=T+A+B+U;break;case"=":A=T+U+A+B;break;case"^":A=U.slice(0,O=U.length>>1)+T+A+B+U.slice(O);break;default:A=U+T+A+B;break}return a(A)}return H.toString=function(){return h+""},H}function u(h,d){var g=l((h=Fo(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(Ki(d)/3)))*3,y=Math.pow(10,-v),_=yc[8+v/3];return function(x){return g(y*x)+_}}return{format:l,formatPrefix:u}}var ma,_s,_c;Fh({thousands:",",grouping:[3],currency:["$",""]});function Fh(t){return ma=zh(t),_s=ma.format,_c=ma.formatPrefix,ma}function Ph(t){return Math.max(0,-Ki(Math.abs(t)))}function Lh(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ki(e)/3)))*3-Ki(Math.abs(t)))}function Dh(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ki(e)-Ki(t))+1}function Bh(t,e,r,i){var o=Qd(t,e,r),a;switch(i=Fo(i??",f"),i.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(a=Lh(o,s))&&(i.precision=a),_c(i,s)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=Dh(o,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=Ph(o))&&(i.precision=a-(i.type==="%")*2);break}}return _s(i)}function Gh(t){var e=t.domain;return t.ticks=function(r){var i=e();return ls(i[0],i[i.length-1],r??10)},t.tickFormat=function(r,i){var o=e();return Bh(o[0],o[o.length-1],r??10,i)},t.nice=function(r){r==null&&(r=10);var i=e(),o=0,a=i.length-1,s=i[o],c=i[a],f,l,u=10;for(c<s&&(l=s,s=c,c=l,l=o,o=a,a=l);u-- >0;){if(l=cs(s,c,r),l===f)return i[o]=s,i[a]=c,e(i);if(l>0)s=Math.floor(s/l)*l,c=Math.ceil(c/l)*l;else if(l<0)s=Math.ceil(s*l)/l,c=Math.floor(c*l)/l;else break;f=l}return t},t}function tr(){var t=Th();return t.copy=function(){return uc(t,tr())},Kl.apply(t,arguments),Gh(t)}function Vh(t,e){t=t.slice();var r=0,i=t.length-1,o=t[r],a=t[i],s;return a<o&&(s=r,r=i,i=s,s=o,o=a,a=s),t[r]=e.floor(o),t[i]=e.ceil(a),t}function xc(t){return Math.log(t)}function wc(t){return Math.exp(t)}function Oh(t){return-Math.log(-t)}function jh(t){return-Math.exp(-t)}function qh(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Xh(t){return t===10?qh:t===Math.E?Math.exp:e=>Math.pow(t,e)}function $h(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function bc(t){return(e,r)=>-t(-e,r)}function Uh(t){const e=t(xc,wc),r=e.domain;let i=10,o,a;function s(){return o=$h(i),a=Xh(i),r()[0]<0?(o=bc(o),a=bc(a),t(Oh,jh)):t(xc,wc),e}return e.base=function(c){return arguments.length?(i=+c,s()):i},e.domain=function(c){return arguments.length?(r(c),s()):r()},e.ticks=c=>{const f=r();let l=f[0],u=f[f.length-1];const h=u<l;h&&([l,u]=[u,l]);let d=o(l),g=o(u),v,y;const _=c==null?10:+c;let x=[];if(!(i%1)&&g-d<_){if(d=Math.floor(d),g=Math.ceil(g),l>0){for(;d<=g;++d)for(v=1;v<i;++v)if(y=d<0?v/a(-d):v*a(d),!(y<l)){if(y>u)break;x.push(y)}}else for(;d<=g;++d)for(v=i-1;v>=1;--v)if(y=d>0?v/a(-d):v*a(d),!(y<l)){if(y>u)break;x.push(y)}x.length*2<_&&(x=ls(l,u,_))}else x=ls(d,g,Math.min(g-d,_)).map(a);return h?x.reverse():x},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=i===10?"s":","),typeof f!="function"&&(!(i%1)&&(f=Fo(f)).precision==null&&(f.trim=!0),f=_s(f)),c===1/0)return f;const l=Math.max(1,i*c/e.ticks().length);return u=>{let h=u/a(Math.round(o(u)));return h*i<i-.5&&(h*=i),h<=l?f(u):""}},e.nice=()=>r(Vh(r(),{floor:c=>a(Math.floor(o(c))),ceil:c=>a(Math.ceil(o(c)))})),e}function Br(){const t=Uh(dc()).domain([1,10]);return t.copy=()=>uc(t,Br()).base(t.base()),Kl.apply(t,arguments),t}function rn(t){return function(){return t}}const Mc=1e-12,xs=Math.PI,ws=2*xs,Mi=1e-6,Yh=ws-Mi;function Sc(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Zh(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Sc;const r=10**e;return function(i){this._+=i[0];for(let o=1,a=i.length;o<a;++o)this._+=Math.round(arguments[o]*r)/r+i[o]}}class Kh{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Sc:Zh(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,i,o){this._append`Q${+e},${+r},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(e,r,i,o,a,s){this._append`C${+e},${+r},${+i},${+o},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,i,o,a){if(e=+e,r=+r,i=+i,o=+o,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,c=this._y1,f=i-e,l=o-r,u=s-e,h=c-r,d=u*u+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(d>Mi)if(!(Math.abs(h*f-l*u)>Mi)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let g=i-s,v=o-c,y=f*f+l*l,_=g*g+v*v,x=Math.sqrt(y),M=Math.sqrt(d),N=a*Math.tan((xs-Math.acos((y+d-_)/(2*x*M)))/2),R=N/M,w=N/x;Math.abs(R-1)>Mi&&this._append`L${e+R*u},${r+R*h}`,this._append`A${a},${a},0,0,${+(h*g>u*v)},${this._x1=e+w*f},${this._y1=r+w*l}`}}arc(e,r,i,o,a,s){if(e=+e,r=+r,i=+i,s=!!s,i<0)throw new Error(`negative radius: ${i}`);let c=i*Math.cos(o),f=i*Math.sin(o),l=e+c,u=r+f,h=1^s,d=s?o-a:a-o;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>Mi||Math.abs(this._y1-u)>Mi)&&this._append`L${l},${u}`,i&&(d<0&&(d=d%ws+ws),d>Yh?this._append`A${i},${i},0,1,${h},${e-c},${r-f}A${i},${i},0,1,${h},${this._x1=l},${this._y1=u}`:d>Mi&&this._append`A${i},${i},0,${+(d>=xs)},${h},${this._x1=e+i*Math.cos(a)},${this._y1=r+i*Math.sin(a)}`)}rect(e,r,i,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}}function Ec(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const i=Math.floor(r);if(!(i>=0))throw new RangeError(`invalid digits: ${r}`);e=i}return t},()=>new Kh(e)}function kc(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Cc(t){this._context=t}Cc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Tc(t){return new Cc(t)}function Nc(t){return t[0]}function Hc(t){return t[1]}function Ac(t,e){var r=rn(!0),i=null,o=Tc,a=null,s=Ec(c);t=typeof t=="function"?t:t===void 0?Nc:rn(t),e=typeof e=="function"?e:e===void 0?Hc:rn(e);function c(f){var l,u=(f=kc(f)).length,h,d=!1,g;for(i==null&&(a=o(g=s())),l=0;l<=u;++l)!(l<u&&r(h=f[l],l,f))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(h,l,f),+e(h,l,f));if(g)return a=null,g+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:rn(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:rn(+f),c):e},c.defined=function(f){return arguments.length?(r=typeof f=="function"?f:rn(!!f),c):r},c.curve=function(f){return arguments.length?(o=f,i!=null&&(a=o(i)),c):o},c.context=function(f){return arguments.length?(f==null?i=a=null:a=o(i=f),c):i},c}function Qh(t,e,r){var i=null,o=rn(!0),a=null,s=Tc,c=null,f=Ec(l);t=typeof t=="function"?t:t===void 0?Nc:rn(+t),e=typeof e=="function"?e:rn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Hc:rn(+r);function l(h){var d,g,v,y=(h=kc(h)).length,_,x=!1,M,N=new Array(y),R=new Array(y);for(a==null&&(c=s(M=f())),d=0;d<=y;++d){if(!(d<y&&o(_=h[d],d,h))===x)if(x=!x)g=d,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),v=d-1;v>=g;--v)c.point(N[v],R[v]);c.lineEnd(),c.areaEnd()}x&&(N[d]=+t(_,d,h),R[d]=+e(_,d,h),c.point(i?+i(_,d,h):N[d],r?+r(_,d,h):R[d]))}if(M)return c=null,M+""||null}function u(){return Ac().defined(o).curve(s).context(a)}return l.x=function(h){return arguments.length?(t=typeof h=="function"?h:rn(+h),i=null,l):t},l.x0=function(h){return arguments.length?(t=typeof h=="function"?h:rn(+h),l):t},l.x1=function(h){return arguments.length?(i=h==null?null:typeof h=="function"?h:rn(+h),l):i},l.y=function(h){return arguments.length?(e=typeof h=="function"?h:rn(+h),r=null,l):e},l.y0=function(h){return arguments.length?(e=typeof h=="function"?h:rn(+h),l):e},l.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:rn(+h),l):r},l.lineX0=l.lineY0=function(){return u().x(t).y(e)},l.lineY1=function(){return u().x(t).y(r)},l.lineX1=function(){return u().x(i).y(e)},l.defined=function(h){return arguments.length?(o=typeof h=="function"?h:rn(!!h),l):o},l.curve=function(h){return arguments.length?(s=h,a!=null&&(c=s(a)),l):s},l.context=function(h){return arguments.length?(h==null?a=c=null:c=s(a=h),l):a},l}function Wc(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function bs(t,e){this._context=t,this._k=(1-e)/6}bs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Wc(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Wc(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},(function t(e){function r(i){return new bs(i,e)}return r.tension=function(i){return t(+i)},r})(0);function Jh(t,e,r){var i=t._x1,o=t._y1,a=t._x2,s=t._y2;if(t._l01_a>Mc){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,f=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/f,o=(o*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/f}if(t._l23_a>Mc){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*l+t._x1*t._l23_2a-e*t._l12_2a)/u,s=(s*l+t._y1*t._l23_2a-r*t._l12_2a)/u}t._context.bezierCurveTo(i,o,a,s,t._x2,t._y2)}function Rc(t,e){this._context=t,this._alpha=e}Rc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Jh(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Ic=(function t(e){function r(i){return e?new Rc(i,e):new bs(i,0)}return r.alpha=function(i){return t(+i)},r})(.5);In[D]="src/components/table/CellSparkline.svelte";var tg=V(It('<rect opacity="0.8"></rect>'),In[D],[[72,8]]),eg=V(It('<path opacity="0.3"></path><path fill="none" stroke-width="1.5"></path>',1),In[D],[[82,6],[83,6]]),ng=V(It('<circle r="2"></circle>'),In[D],[[89,8]]),rg=V(It('<path fill="none" stroke-width="1.5"></path><!>',1),In[D],[[85,6]]),ig=V(It('<text text-anchor="middle" dominant-baseline="middle" fill="var(--wf-muted, #94a3b8)" font-size="8">--</text>'),In[D],[[93,4]]),og=V(It('<svg class="cell-sparkline svelte-hfafss"><!></svg>'),In[D],[[68,0]]);function In(t,e){Se(new.target),ye(e,!0,In);const r=p(m(()=>{var _;return((_=e.options)==null?void 0:_.type)??"line"}),"chartType"),i=p(m(()=>{var _;return((_=e.options)==null?void 0:_.height)??20}),"chartHeight"),o=p(m(()=>{var _;return((_=e.options)==null?void 0:_.color)??"var(--wf-primary, #2563eb)"}),"chartColor"),a=60,s=p(m(()=>!e.data||!Array.isArray(e.data)||S(e.data.length,0)?[]:Array.isArray(e.data[0])?e.data[0]:e.data),"normalizedData"),c=p(m(()=>{if(S(n(s).length,0))return[];const _=Math.min(...n(s)),x=Math.max(...n(s)),M=(x-_)*.1||1,N=tr().domain([0,n(s).length-1]).range([2,a-2]),R=tr().domain([_-M,x+M]).range([n(i)-2,2]);return n(s).map((w,C)=>[N(C),R(w)])}),"points"),f=p(m(()=>S(n(c).length,0)?"":Ac().x(x=>x[0]).y(x=>x[1]).curve(Ic.alpha(.5))(n(c))??""),"linePath"),l=p(m(()=>S(n(c).length,0)?"":Qh().x(x=>x[0]).y0(n(i)-2).y1(x=>x[1]).curve(Ic.alpha(.5))(n(c))??""),"areaPath"),u=p(m(()=>n(c).length>0?(a-8)/n(c).length-1:0),"barWidth");var h={...Ee()},d=og();W(d,"width",a);var g=Z(d);{var v=_=>{var x=Ct(),M=mt(x);{var N=w=>{var C=Ct(),b=mt(C);I(()=>He(b,17,()=>n(c),Yn,(E,L)=>{var H=m(()=>za(n(L),2));let A=()=>n(H)[0];A();let T=()=>n(H)[1];T();var B=tg();J(()=>{W(B,"x",A()-n(u)/2),W(B,"y",T()),W(B,"width",n(u)),W(B,"height",n(i)-2-T()),W(B,"fill",n(o))}),z(E,B)}),"each",In,71,6),z(w,C)},R=w=>{var C=Ct(),b=mt(C);{var E=H=>{var A=eg(),T=mt(A),B=nt(T);J(()=>{W(T,"d",n(l)),W(T,"fill",n(o)),W(B,"d",n(f)),W(B,"stroke",n(o))}),z(H,A)},L=H=>{var A=rg(),T=mt(A),B=nt(T);{var P=K=>{const Y=p(m(()=>n(c)[n(c).length-1]),"lastPoint");n(Y);var $=ng();J(()=>{W($,"cx",n(Y)[0]),W($,"cy",n(Y)[1]),W($,"fill",n(o))}),z(K,$)};I(()=>q(B,K=>{n(c).length>0&&K(P)}),"if",In,87,6)}J(()=>{W(T,"d",n(f)),W(T,"stroke",n(o))}),z(H,A)};I(()=>q(b,H=>{S(n(r),"area")?H(E):H(L,!1)},!0),"if",In,81,4)}z(w,C)};I(()=>q(M,w=>{S(n(r),"bar")?w(N):w(R,!1)}),"if",In,70,4)}z(_,x)},y=_=>{var x=ig();W(x,"x",a/2),J(()=>W(x,"y",n(i)/2)),z(_,x)};I(()=>q(g,_=>{n(c).length>0?_(v):_(y,!1)}),"if",In,69,2)}return J(()=>{W(d,"height",n(i)),W(d,"viewBox",`0 0 60 ${n(i)??""}`)}),z(t,d),_e(h)}dr[D]="src/components/table/CellContent.svelte";var ag=V(gt('<span class="cell-icon svelte-mxyczy"> </span>'),dr[D],[[34,15]]),sg=V(gt('<span class="cell-badge svelte-mxyczy"> </span>'),dr[D],[[36,16]]),lg=V(gt('<span><!> <span class="cell-value"> </span> <!></span>'),dr[D],[[23,0,[[35,2]]]]);function dr(t,e){Se(new.target),ye(e,!0,dr);const r=p(m(()=>{var w;return!!((w=e.cellStyle)!=null&&w.badge)}),"hasBadge"),i=p(m(()=>{var w;return!!((w=e.cellStyle)!=null&&w.icon)}),"hasIcon"),o=p(m(()=>{var w;return((w=e.cellStyle)==null?void 0:w.bold)??!1}),"isBold"),a=p(m(()=>{var w;return((w=e.cellStyle)==null?void 0:w.italic)??!1}),"isItalic"),s=p(m(()=>{var w;return((w=e.cellStyle)==null?void 0:w.color)??null}),"textColor"),c=p(m(()=>{var w;return((w=e.cellStyle)==null?void 0:w.bg)??null}),"bgColor"),f=p(m(()=>{var w;return((w=e.cellStyle)==null?void 0:w.emphasis)??!1}),"isEmphasis"),l=p(m(()=>{var w;return((w=e.cellStyle)==null?void 0:w.muted)??!1}),"isMuted"),u=p(m(()=>{var w;return((w=e.cellStyle)==null?void 0:w.accent)??!1}),"isAccent");var h={...Ee()},d=lg();let g,v;var y=Z(d);{var _=w=>{var C=ag(),b=Z(C);J(()=>{var E;return Vt(b,(E=e.cellStyle)==null?void 0:E.icon)}),z(w,C)};I(()=>q(y,w=>{n(i)&&w(_)}),"if",dr,34,2)}var x=nt(y,2),M=Z(x),N=nt(x,2);{var R=w=>{var C=sg(),b=Z(C);J(()=>{var E;return Vt(b,(E=e.cellStyle)==null?void 0:E.badge)}),z(w,C)};I(()=>q(N,w=>{n(r)&&w(R)}),"if",dr,36,2)}return J(w=>{g=fn(d,1,"cell-content svelte-mxyczy",null,g,{"cell-bold":n(o),"cell-italic":n(a),"cell-emphasis":n(f),"cell-muted":n(l),"cell-accent":n(u)}),W(d,"title",w),v=ke(d,"",v,{color:n(s),"background-color":n(c)}),Vt(M,e.value??"")},[()=>String(e.value??"")]),z(t,d),_e(h)}Po[D]="src/components/table/CellIcon.svelte";var cg=V(gt("<span> </span>"),Po[D],[[32,2]]);function Po(t,e){Se(new.target),ye(e,!0,Po);const r=p(m(()=>{var h;return((h=e.options)==null?void 0:h.mapping)??{}}),"mapping"),i=p(m(()=>{var h;return((h=e.options)==null?void 0:h.size)??"base"}),"size"),o=p(m(()=>{var h;return(h=e.options)==null?void 0:h.color}),"color"),a=p(m(()=>{if(S(e.value,void 0)||S(e.value,null))return"";const h=String(e.value);return n(r)&&h in n(r)?n(r)[h]:h}),"displayValue"),s=p(m(()=>S(n(i),"sm")?"icon-sm":S(n(i),"lg")?"icon-lg":"icon-base"),"sizeClass");var c={...Ee()},f=Ct(),l=mt(f);{var u=h=>{var d=cg();let g;var v=Z(d);J(y=>{fn(d,1,`cell-icon ${n(s)??""}`,"svelte-weao3c"),W(d,"title",y),g=ke(d,"",g,{color:n(o)}),Vt(v,n(a))},[()=>String(e.value??"")]),z(h,d)};I(()=>q(l,h=>{n(a)&&h(u)}),"if",Po,31,0)}return z(t,f),_e(c)}Lo[D]="src/components/table/CellBadge.svelte";var fg=V(gt("<span> </span>"),Lo[D],[[56,2]]);function Lo(t,e){Se(new.target),ye(e,!0,Lo);const r=p(m(()=>{var d;return((d=e.options)==null?void 0:d.variants)??{}}),"variants"),i=p(m(()=>{var d;return((d=e.options)==null?void 0:d.colors)??{}}),"colors"),o=p(m(()=>{var d;return((d=e.options)==null?void 0:d.size)??"base"}),"size"),a=p(m(()=>S(e.value,void 0)||S(e.value,null)?"":String(e.value)),"displayValue"),s=p(m(()=>{const d=String(e.value??"");if(n(i)&&d in n(i))return n(i)[d];if(n(r)&&d in n(r))switch(n(r)[d]){case"success":return"var(--wf-badge-success, #16a34a)";case"warning":return"var(--wf-badge-warning, #f59e0b)";case"error":return"var(--wf-badge-error, #dc2626)";case"info":return"var(--wf-badge-info, #2563eb)";case"muted":return"var(--wf-badge-muted, var(--wf-muted, #64748b))";default:return"var(--wf-primary, #2563eb)"}return"var(--wf-primary, #2563eb)"}),"badgeColor"),c=p(m(()=>S(n(o),"sm")?"badge-sm":"badge-base"),"sizeClass");var f={...Ee()},l=Ct(),u=mt(l);{var h=d=>{var g=fg();let v;var y=Z(g);J(()=>{fn(g,1,`cell-badge ${n(c)??""}`,"svelte-16nh7k4"),v=ke(g,"",v,{"background-color":`color-mix(in srgb, ${n(s)??""} 15%, var(--wf-bg, #fff))`,color:n(s)}),Vt(y,n(a))}),z(d,g)};I(()=>q(u,d=>{n(a)&&d(h)}),"if",Lo,55,0)}return z(t,l),_e(f)}Si[D]="src/components/table/CellStars.svelte";var ug=V(gt("<span> </span>"),Si[D],[[44,6]]),dg=V(gt('<span class="cell-stars svelte-8zr88i"></span>'),Si[D],[[42,2]]);function Si(t,e){Se(new.target),ye(e,!0,Si);const r=p(m(()=>{var v;return((v=e.options)==null?void 0:v.maxStars)??5}),"maxStars"),i=p(m(()=>{var v;return((v=e.options)==null?void 0:v.color)??"#f59e0b"}),"filledColor"),o=p(m(()=>{var v;return((v=e.options)==null?void 0:v.emptyColor)??"#d1d5db"}),"emptyColor"),a=p(m(()=>{var v;return((v=e.options)==null?void 0:v.halfStars)??!1}),"halfStars"),s="★",c="☆",f="⯪",l=p(m(()=>{if(S(e.value,void 0)||S(e.value,null))return"";const v=Math.max(0,Math.min(n(r),e.value)),y=[];for(let _=1;_<=n(r);_++)_<=v?y.push({char:s,filled:"full"}):n(a)&&_-.5<=v?y.push({char:f,filled:"half"}):y.push({char:c,filled:"empty"});return y}),"starDisplay");var u={...Ee()},h=Ct(),d=mt(h);{var g=v=>{var y=dg();I(()=>He(y,21,()=>n(l),Yn,(_,x)=>{var M=ug();let N,R;var w=Z(M,!0);J(()=>{N=fn(M,1,"star svelte-8zr88i",null,N,{filled:S(n(x).filled,"full"),half:S(n(x).filled,"half")}),R=ke(M,"",R,{color:S(n(x).filled,"empty")?n(o):n(i)}),Vt(w,n(x).char)}),z(_,M)}),"each",Si,43,4),J(()=>W(y,"title",`${e.value??""} / ${n(r)??""}`)),z(v,y)};I(()=>q(d,v=>{S(e.value,void 0,!1)&&S(e.value,null,!1)&&v(g)}),"if",Si,41,0)}return z(t,h),_e(u)}Ei[D]="src/components/table/CellImg.svelte";var hg=V(gt('<img alt="" loading="lazy"/>'),Ei[D],[[28,2]]),gg=V(gt('<span class="cell-img-fallback svelte-1rifgp8" title="Image not available"> </span>'),Ei[D],[[38,2]]);function Ei(t,e){Se(new.target),ye(e,!0,Ei);const r=p(m(()=>{var v;return(v=e.options)==null?void 0:v.height}),"imgHeight"),i=p(m(()=>{var v;return(v=e.options)==null?void 0:v.maxWidth}),"maxWidth"),o=p(m(()=>{var v;return((v=e.options)==null?void 0:v.fallback)??"📷"}),"fallback"),a=p(m(()=>{var v;return((v=e.options)==null?void 0:v.shape)??"square"}),"shape");let s=p(St(!1),"hasError");const c=p(m(()=>S(n(a),"circle")?"shape-circle":S(n(a),"rounded")?"shape-rounded":""),"shapeClass");function f(){st(s,!0)}var l={...Ee()},u=Ct(),h=mt(u);{var d=v=>{var y=hg();let _;J(()=>{fn(y,1,`cell-img ${n(c)??""}`,"svelte-1rifgp8"),W(y,"src",e.value),_=ke(y,"",_,{height:n(r)?`${n(r)}px`:"calc(var(--wf-row-height, 28px) - 4px)","max-width":n(i)?`${n(i)}px`:"100%"})}),Gn("error",y,f),z(v,y)},g=v=>{var y=Ct(),_=mt(y);{var x=M=>{var N=gg(),R=Z(N);J(()=>Vt(R,n(o))),z(M,N)};I(()=>q(_,M=>{n(o)&&M(x)},!0),"if",Ei,37,0)}z(v,y)};I(()=>q(h,v=>{e.value&&!n(s)?v(d):v(g,!1)}),"if",Ei,27,0)}return z(t,u),_e(l)}Gr[D]="src/components/table/CellReference.svelte";var vg=V(gt('<span class="reference-icon svelte-186gxpi">↗</span>'),Gr[D],[[44,8]]),pg=V(gt('<a class="cell-reference svelte-186gxpi" target="_blank" rel="noopener noreferrer"><span class="reference-text svelte-186gxpi"> </span> <!></a>'),Gr[D],[[35,4,[[42,6]]]]),mg=V(gt('<span class="cell-reference svelte-186gxpi"> </span>'),Gr[D],[[48,4]]);function Gr(t,e){Se(new.target),ye(e,!0,Gr);const r=p(m(()=>{var g;return((g=e.options)==null?void 0:g.maxChars)??30}),"maxChars"),i=p(m(()=>{var g;return((g=e.options)==null?void 0:g.showIcon)??!0}),"showIcon"),o=p(m(()=>{var g;return(g=e.options)==null?void 0:g.hrefField}),"hrefField"),a=p(m(()=>{if(!n(o))return null;const g=e.metadata[n(o)];return S(typeof g,"string")?g:null}),"href"),s=p(m(()=>{if(S(e.value,void 0)||S(e.value,null))return"";const g=String(e.value);return g.length<=n(r)?g:g.substring(0,n(r))+"..."}),"displayValue"),c=p(m(()=>e.value?String(e.value):""),"fullValue"),f=p(m(()=>n(c).length>n(r)),"isTruncated");var l={...Ee()},u=Ct(),h=mt(u);{var d=g=>{var v=Ct(),y=mt(v);{var _=M=>{var N=pg(),R=Z(N),w=Z(R),C=nt(R,2);{var b=E=>{var L=vg();z(E,L)};I(()=>q(C,E=>{n(i)&&E(b)}),"if",Gr,43,6)}J(()=>{W(N,"href",n(a)),W(N,"title",n(f)?n(c):void 0),Vt(w,n(s))}),z(M,N)},x=M=>{var N=mg(),R=Z(N);J(()=>{W(N,"title",n(f)?n(c):void 0),Vt(R,n(s))}),z(M,N)};I(()=>q(y,M=>{n(a)?M(_):M(x,!1)}),"if",Gr,34,2)}z(g,v)};I(()=>q(h,g=>{e.value&&g(d)}),"if",Gr,33,0)}return z(t,u),_e(l)}Do[D]="src/components/table/CellRange.svelte";var yg=V(gt('<span class="cell-range svelte-jzelx2"> </span>'),Do[D],[[51,2]]);function Do(t,e){Se(new.target),ye(e,!0,Do);const r=p(m(()=>{var y;return((y=e.options)==null?void 0:y.separator)??" – "}),"separator"),i=p(m(()=>{var y;return(y=e.options)==null?void 0:y.decimals}),"decimals"),o=p(m(()=>{var y;return((y=e.options)==null?void 0:y.minField)??""}),"minField"),a=p(m(()=>{var y;return((y=e.options)==null?void 0:y.maxField)??""}),"maxField"),s=p(m(()=>{if(!n(o))return null;const y=e.metadata[n(o)];return S(typeof y,"number")?y:null}),"minValue"),c=p(m(()=>{if(!n(a))return null;const y=e.metadata[n(a)];return S(typeof y,"number")?y:null}),"maxValue");function f(y){return S(y,null)?"":S(n(i),null)||S(n(i),void 0)?Number.isInteger(y)?String(y):y.toFixed(1):y.toFixed(n(i))}const l=p(m(()=>S(n(s),null)&&S(n(c),null)?"":S(n(s),null)?f(n(c)):S(n(c),null)?f(n(s)):`${f(n(s))}${n(r)}${f(n(c))}`),"displayValue"),u=p(m(()=>S(n(s),null,!1)||S(n(c),null,!1)),"hasRange");var h={...Ee()},d=Ct(),g=mt(d);{var v=y=>{var _=yg(),x=Z(_);J((M,N)=>{W(_,"title",`${M??""} to ${N??""}`),Vt(x,n(l))},[()=>f(n(s)),()=>f(n(c))]),z(y,_)};I(()=>q(g,y=>{n(u)&&y(v)}),"if",Do,50,0)}return z(t,d),_e(h)}const _g=["default","minimal","dark","jama","lancet","modern","presentation","cochrane","nature"],zt={name:"default",colors:{background:"#ffffff",foreground:"#333333",primary:"#0891b2",secondary:"#64748b",accent:"#8b5cf6",muted:"#94a3b8",border:"#e2e8f0",rowBg:"#ffffff",altBg:"#f8fafc",interval:"#0891b2",intervalPositive:"#0891b2",intervalNegative:"#dc2626",intervalNeutral:"#64748b",intervalLine:"#475569",summaryFill:"#0891b2",summaryBorder:"#0e7490"},typography:{fontFamily:"system-ui, -apple-system, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5,headerFontScale:1.05},spacing:{rowHeight:28,headerHeight:36,sectionGap:16,padding:12,containerPadding:0,cellPaddingX:10,cellPaddingY:4,axisGap:12,groupPadding:8},shapes:{pointSize:6,summaryHeight:10,lineWidth:1.5,borderRadius:2},axis:{rangeMin:null,rangeMax:null,tickCount:null,tickValues:null,gridlines:!1,gridlineStyle:"dotted",ciClipFactor:2,includeNull:!0,symmetric:null,nullTick:!0,markerMargin:!0},layout:{plotPosition:"right",tableWidth:"auto",plotWidth:"auto",containerBorder:!1,containerBorderRadius:8,banding:!0},groupHeaders:{level1FontSize:"1rem",level1FontWeight:700,level1Italic:!1,level1Background:null,level1BorderBottom:!1,level2FontSize:"0.9375rem",level2FontWeight:500,level2Italic:!0,level2Background:null,level2BorderBottom:!1,level3FontSize:"0.875rem",level3FontWeight:400,level3Italic:!1,level3Background:null,level3BorderBottom:!1,indentPerLevel:16}},xg={...zt,name:"minimal",colors:{...zt.colors,background:"#ffffff",foreground:"#000000",primary:"#000000",secondary:"#333333",accent:"#000000",muted:"#666666",border:"#000000",rowBg:"#ffffff",altBg:"#fafafa",interval:"#000000",intervalPositive:"#000000",intervalNegative:"#000000",intervalNeutral:"#666666",intervalLine:"#000000",summaryFill:"#000000",summaryBorder:"#000000"},typography:{...zt.typography,fontFamily:"Georgia, 'Times New Roman', serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.4},spacing:{...zt.spacing,rowHeight:24,headerHeight:30,sectionGap:12,padding:10},shapes:{...zt.shapes,pointSize:5,summaryHeight:8,lineWidth:1,borderRadius:0},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:0}},wg={...zt,name:"dark",colors:{...zt.colors,background:"#1e1e2e",foreground:"#cdd6f4",primary:"#89b4fa",secondary:"#a6adc8",accent:"#f5c2e7",muted:"#6c7086",border:"#313244",rowBg:"#1e1e2e",altBg:"#232334",interval:"#89b4fa",intervalPositive:"#a6e3a1",intervalNegative:"#f38ba8",intervalNeutral:"#6c7086",intervalLine:"#9399b2",summaryFill:"#89b4fa",summaryBorder:"#74c7ec"},typography:{...zt.typography,fontFamily:"system-ui, -apple-system, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5},spacing:{...zt.spacing,rowHeight:30,headerHeight:38,sectionGap:18,padding:14},shapes:{...zt.shapes,pointSize:6,summaryHeight:10,lineWidth:1.5,borderRadius:4},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:8}},bg={...zt,name:"jama",colors:{...zt.colors,background:"#ffffff",foreground:"#000000",primary:"#000000",secondary:"#333333",accent:"#000000",muted:"#555555",border:"#000000",rowBg:"#ffffff",altBg:"#f9fafb",interval:"#000000",intervalPositive:"#000000",intervalNegative:"#000000",intervalNeutral:"#555555",intervalLine:"#000000",summaryFill:"#000000",summaryBorder:"#000000"},typography:{...zt.typography,fontFamily:"Arial, Helvetica, sans-serif",fontSizeSm:"8pt",fontSizeBase:"9pt",fontSizeLg:"10pt",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.2},spacing:{...zt.spacing,rowHeight:18,headerHeight:24,sectionGap:8,padding:6,cellPaddingX:8,cellPaddingY:2},shapes:{...zt.shapes,pointSize:4,summaryHeight:7,lineWidth:1.25,borderRadius:0},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:0}},Mg={...zt,name:"lancet",colors:{...zt.colors,background:"#fdfcfb",foreground:"#1e3a5f",primary:"#00407a",secondary:"#3d5a80",accent:"#b8860b",muted:"#6b7c93",border:"#d4dce6",rowBg:"#fdfcfb",altBg:"#f8f7f6",interval:"#00407a",intervalPositive:"#00407a",intervalNegative:"#9d2933",intervalNeutral:"#3d5a80",intervalLine:"#1e3a5f",summaryFill:"#00407a",summaryBorder:"#002d54"},typography:{...zt.typography,fontFamily:"Georgia, 'Times New Roman', serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.5},spacing:{...zt.spacing,rowHeight:26,headerHeight:34,sectionGap:16,padding:12,cellPaddingX:12,cellPaddingY:5},shapes:{...zt.shapes,pointSize:5,summaryHeight:9,lineWidth:1.25,borderRadius:0},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:0}},Sg={...zt,name:"modern",colors:{...zt.colors,background:"#fafafa",foreground:"#18181b",primary:"#3b82f6",secondary:"#52525b",accent:"#8b5cf6",muted:"#a1a1aa",border:"#d4d4d8",rowBg:"#fafafa",altBg:"#f4f4f5",interval:"#3b82f6",intervalPositive:"#22c55e",intervalNegative:"#ef4444",intervalNeutral:"#71717a",intervalLine:"#27272a",summaryFill:"#3b82f6",summaryBorder:"#2563eb"},typography:{...zt.typography,fontFamily:"Inter, system-ui, -apple-system, sans-serif",fontSizeSm:"0.8125rem",fontSizeBase:"0.9375rem",fontSizeLg:"1.0625rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5},spacing:{...zt.spacing,rowHeight:36,headerHeight:44,sectionGap:24,padding:16,cellPaddingX:12,cellPaddingY:6},shapes:{...zt.shapes,pointSize:8,summaryHeight:12,lineWidth:1.75,borderRadius:8},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:12}},Eg={...zt,name:"presentation",colors:{...zt.colors,background:"#ffffff",foreground:"#0f172a",primary:"#0369a1",secondary:"#334155",accent:"#ea580c",muted:"#64748b",border:"#94a3b8",rowBg:"#ffffff",altBg:"#f8fafc",interval:"#0369a1",intervalPositive:"#047857",intervalNegative:"#be123c",intervalNeutral:"#334155",intervalLine:"#0f172a",summaryFill:"#0369a1",summaryBorder:"#0c4a6e"},typography:{...zt.typography,fontFamily:"'Source Sans Pro', 'Segoe UI', Roboto, sans-serif",fontSizeSm:"1rem",fontSizeBase:"1.125rem",fontSizeLg:"1.25rem",fontWeightNormal:400,fontWeightMedium:600,fontWeightBold:700,lineHeight:1.4},spacing:{...zt.spacing,rowHeight:44,headerHeight:52,sectionGap:28,padding:20,cellPaddingX:14,cellPaddingY:6},shapes:{...zt.shapes,pointSize:12,summaryHeight:16,lineWidth:2.5,borderRadius:4},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:6}},kg={...zt,name:"cochrane",colors:{...zt.colors,background:"#ffffff",foreground:"#2c2c2c",primary:"#0099cc",secondary:"#555555",accent:"#006699",muted:"#888888",border:"#b3b3b3",rowBg:"#ffffff",altBg:"#f5f5f5",interval:"#0099cc",intervalPositive:"#0099cc",intervalNegative:"#cc3333",intervalNeutral:"#555555",intervalLine:"#2c2c2c",summaryFill:"#0099cc",summaryBorder:"#006699"},typography:{...zt.typography,fontFamily:"Arial, Helvetica, sans-serif",fontSizeSm:"0.6875rem",fontSizeBase:"0.75rem",fontSizeLg:"0.8125rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.25},spacing:{...zt.spacing,rowHeight:20,headerHeight:26,sectionGap:8,padding:6,cellPaddingX:6,cellPaddingY:2},shapes:{...zt.shapes,pointSize:4,summaryHeight:7,lineWidth:1,borderRadius:0},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:0}},Cg={...zt,name:"nature",colors:{...zt.colors,background:"#ffffff",foreground:"#1a1a1a",primary:"#1976d2",secondary:"#424242",accent:"#c62828",muted:"#616161",border:"#bdbdbd",rowBg:"#ffffff",altBg:"#fafafa",interval:"#1976d2",intervalPositive:"#1976d2",intervalNegative:"#c62828",intervalNeutral:"#616161",intervalLine:"#1a1a1a",summaryFill:"#1976d2",summaryBorder:"#0d47a1"},typography:{...zt.typography,fontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.8125rem",fontSizeLg:"0.9375rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.35},spacing:{...zt.spacing,rowHeight:24,headerHeight:32,sectionGap:12,padding:10,cellPaddingX:10,cellPaddingY:4},shapes:{...zt.shapes,pointSize:5,summaryHeight:8,lineWidth:1.25,borderRadius:1},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:2},axis:{...zt.axis,gridlines:!1,nullTick:!0}},Tg={default:zt,minimal:xg,dark:wg,jama:bg,lancet:Mg,modern:Sg,presentation:Eg,cochrane:kg,nature:Cg},zc={default:"Default",minimal:"Minimal",dark:"Dark",jama:"JAMA",lancet:"Lancet",modern:"Modern",presentation:"Presentation",cochrane:"Cochrane",nature:"Nature"};function Ng(t,e,r={}){const{gap:i=4,viewportPadding:o=8,preferredPosition:a="below",align:s="end"}=r,c=window.innerHeight,f=window.innerWidth,l=c-t.bottom-i-o,u=t.top-i-o;let h,d;a==="below"?l>=e.height?h="below":u>=e.height?h="above":(h=l>=u?"below":"above",d=Math.max(h==="below"?l:u,100)):u>=e.height?h="above":l>=e.height?h="below":(h=u>=l?"above":"below",d=Math.max(h==="above"?u:l,100));const g={};return h==="below"?g.top=t.bottom+i:g.bottom=c-t.top+i,s==="end"?t.right-e.width<o?g.left=Math.max(t.left,o):g.right=f-t.right:t.left+e.width>f-o?g.right=Math.max(f-t.right,o):g.left=t.left,d&&(g.maxHeight=d),g}function Vr(t,e){function r(){if(!e.triggerEl)return;const o=e.triggerEl.getBoundingClientRect(),a=t.getBoundingClientRect(),s=Ng(o,{width:a.width,height:a.height},{gap:e.gap??4,align:e.align??"end"});t.style.position="fixed",t.style.top="",t.style.bottom="",t.style.left="",t.style.right="",s.top!==void 0&&(t.style.top=`${s.top}px`),s.bottom!==void 0&&(t.style.bottom=`${s.bottom}px`),s.left!==void 0&&(t.style.left=`${s.left}px`),s.right!==void 0&&(t.style.right=`${s.right}px`),s.maxHeight?(t.style.maxHeight=`${s.maxHeight}px`,t.style.overflowY="auto"):(t.style.maxHeight="",t.style.overflowY="")}function i(o){e=o,requestAnimationFrame(r)}return i(e),{update:i,destroy(){}}}hr[D]="src/components/ui/ThemeSwitcher.svelte";var Hg=V(It('<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-35mgh1"><polyline points="20 6 9 17 4 12"></polyline></svg>'),hr[D],[[93,12,[[94,14]]]]),Ag=V(gt('<span class="spacer svelte-35mgh1"></span>'),hr[D],[[97,12]]),Wg=V(gt("<button><!> <span> </span></button>"),hr[D],[[87,8,[[99,10]]]]),Rg=V(gt('<div class="theme-dropdown svelte-35mgh1"></div>'),hr[D],[[85,4]]),Ig=V(gt('<div class="theme-switcher-wrapper svelte-35mgh1"><button class="theme-btn svelte-35mgh1" aria-label="Switch theme"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path></svg></button> <!></div>'),hr[D],[[70,0,[[71,2,[[78,4,[[79,6],[80,6]]]]]]]]);function hr(t,e){Se(new.target),ye(e,!0,hr);let r=p(St(!1),"dropdownOpen"),i=p(St(null),"triggerEl");const o=p(m(()=>{var v,y;return((y=(v=e.store.spec)==null?void 0:v.theme)==null?void 0:y.name)??"default"}),"currentTheme"),a=p(m(()=>S(e.availableThemes,void 0)||S(e.availableThemes,null)?_g.map(v=>[v,zc[v]]):Object.entries(e.availableThemes).map(([v,y])=>{const _=y.name?zc[y.name]??y.name:v;return[v,_]})),"themeEntries");function s(){st(r,!1)}function c(v){if(e.onThemeChange)e.onThemeChange(v);else if(e.availableThemes&&v in e.availableThemes){const y=e.availableThemes[v];e.store.spec&&e.store.setSpec({...e.store.spec,theme:y})}else e.store.setTheme(v);s()}function f(v){v.target.closest(".theme-switcher-wrapper")||s()}var l={...Ee()},u=Ig();Gn("click",ji,f);var h=Z(u);h.__click=()=>st(r,!n(r)),ei(h,v=>st(i,v),()=>n(i));var d=nt(h,2);{var g=v=>{var y=Rg();I(()=>He(y,21,()=>n(a),Yn,(_,x)=>{var M=m(()=>za(n(x),2));let N=()=>n(M)[0];N();let R=()=>n(M)[1];R();var w=Wg();let C;w.__click=()=>c(N());var b=Z(w);{var E=T=>{var B=Hg();z(T,B)},L=T=>{var B=Ag();z(T,B)};I(()=>q(b,T=>{S(n(o),N())?T(E):T(L,!1)}),"if",hr,92,10)}var H=nt(b,2),A=Z(H,!0);J(()=>{C=fn(w,1,"dropdown-item svelte-35mgh1",null,C,{active:S(n(o),N())}),Vt(A,R())}),z(_,w)}),"each",hr,86,6),aa(y,(_,x)=>Vr==null?void 0:Vr(_,x),()=>({triggerEl:n(i)})),z(v,y)};I(()=>q(d,v=>{n(r)&&v(g)}),"if",hr,84,2)}return J(()=>W(h,"aria-expanded",n(r))),z(t,u),_e(l)}Jr(["click"]),ki[D]="src/components/ui/ViewToggle.svelte";var zg=V(It('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="10" y2="6"></line><line x1="3" y1="12" x2="10" y2="12"></line><line x1="3" y1="18" x2="10" y2="18"></line><line x1="14" y1="12" x2="21" y2="12"></line><circle cx="17" cy="12" r="2" fill="currentColor"></circle></svg>'),ki[D],[[21,4,[[23,6],[24,6],[25,6],[27,6],[28,6]]]]),Fg=V(It('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>'),ki[D],[[32,4,[[33,6],[34,6],[35,6]]]]),Pg=V(gt('<button class="view-toggle-btn svelte-1u54q0q"><!></button>'),ki[D],[[13,0]]);function ki(t,e){Se(new.target),ye(e,!0,ki);const r=p(m(()=>{var f,l;return((l=(f=e.store.spec)==null?void 0:f.data)==null?void 0:l.includeForest)??!0}),"includeForest");var i={...Ee()},o=Pg();o.__click=()=>e.store.toggleForestView();var a=Z(o);{var s=f=>{var l=zg();z(f,l)},c=f=>{var l=Fg();z(f,l)};I(()=>q(a,f=>{n(r)?f(s):f(c,!1)}),"if",ki,19,2)}return J(()=>{W(o,"aria-label",n(r)?"Show table only":"Show forest plot"),W(o,"title",n(r)?"Show table only":"Show forest plot")}),z(t,o),_e(i)}Jr(["click"]);function ya(t,e){const r=t.split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,e),r.join(".")}function Ms(t){const e=Math.abs(t),r=t<0?"-":"";if(e>=1e12)throw new Error(`Cannot abbreviate value >= 1 trillion: ${t}`);if(e>=1e9){const i=e/1e9;return r+Ss(i)+"B"}if(e>=1e6){const i=e/1e6;return r+Ss(i)+"M"}if(e>=1e3){const i=e/1e3;return r+Ss(i)+"K"}return r+Math.round(e).toString()}function Ss(t){const e=Math.round(t*10)/10;return e===Math.floor(e)?e.toFixed(0):e.toFixed(1)}const Lg={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻","+":"⁺"};function Dg(t){return t.split("").map(e=>Lg[e]??e).join("")}function Qi(t,e){var c,f,l,u,h;if(t==null||Number.isNaN(t))return(e==null?void 0:e.naText)??"";if(e!=null&&e.percent){const{decimals:d,digits:g,multiply:v=!0,symbol:y=!0}=e.percent,_=v?t*100:t,x=g!=null?_.toPrecision(g):_.toFixed(d??1);return y?`${x}%`:x}if(((c=e==null?void 0:e.numeric)==null?void 0:c.abbreviate)&&Math.abs(t)>=1e3)return Ms(t);const i=(f=e==null?void 0:e.numeric)==null?void 0:f.digits;if(i!=null){const d=t.toPrecision(i),g=(l=e==null?void 0:e.numeric)==null?void 0:l.thousandsSep;return g&&typeof g=="string"?ya(d,g):d}const o=(u=e==null?void 0:e.numeric)==null?void 0:u.decimals,a=(h=e==null?void 0:e.numeric)==null?void 0:h.thousandsSep;let s;return o!==void 0?s=t.toFixed(o):Number.isInteger(t)||Math.abs(t-Math.round(t))<1e-4?s=Math.round(t).toString():s=t.toFixed(2),a&&typeof a=="string"&&(s=ya(s,a)),s}function Es(t,e){const{eventsField:r,nField:i,separator:o="/",showPct:a=!1,thousandsSep:s,abbreviate:c}=e.events,f=t.metadata[r],l=t.metadata[i];if(f==null||l===void 0||l===null)return e.naText??"";const u=Number(f),h=Number(l);let d,g;c&&(u>=1e3||h>=1e3)?(d=u>=1e3?Ms(u):String(u),g=h>=1e3?Ms(h):String(h)):(d=String(u),g=String(h),s&&typeof s=="string"&&(d=ya(d,s),g=ya(g,s)));let v=`${d}${o}${g}`;if(a&&h>0){const y=(u/h*100).toFixed(1);v+=` (${y}%)`}return v}function ks(t,e,r,i){var c,f,l;if(t==null||Number.isNaN(t))return"";const o=((c=i==null?void 0:i.interval)==null?void 0:c.decimals)??2,a=((f=i==null?void 0:i.interval)==null?void 0:f.sep)??" ",s=(l=i==null?void 0:i.interval)==null?void 0:l.impreciseThreshold;return e==null||r===void 0||r===null||Number.isNaN(e)||Number.isNaN(r)?t.toFixed(o):s!=null&&e>0&&r/e>s?"—":`${t.toFixed(o)}${a}(${e.toFixed(o)}, ${r.toFixed(o)})`}function Fc(t,e){if(t==null||Number.isNaN(t))return(e==null?void 0:e.naText)??"";const r=e==null?void 0:e.pvalue,i=(r==null?void 0:r.digits)??2,o=(r==null?void 0:r.expThreshold)??.001,a=(r==null?void 0:r.abbrevThreshold)??null,s=(r==null?void 0:r.format)??"auto",c=(r==null?void 0:r.stars)??!1,f=(r==null?void 0:r.thresholds)??[.05,.01,.001];let l="";if(c&&(t<f[2]?l="***":t<f[1]?l="**":t<f[0]&&(l="*")),a!==null&&t<a)return`<${a}${l}`;if(s==="scientific"||s==="auto"&&t<o){const h=Math.floor(Math.log10(t));return`${(t/Math.pow(10,h)).toPrecision(i)}×10${Dg(h.toString())}${l}`}let u;return t>=.1?u=t.toFixed(i):t>=.01?u=t.toFixed(i+1):u=t.toFixed(i+2),`${u}${l}`}function Pc(t,e){var a,s,c,f;const{type:r,field:i,options:o}=e;switch(r){case"interval":{const l=(a=o==null?void 0:o.interval)!=null&&a.point?t.metadata[o.interval.point]:t.point,u=(s=o==null?void 0:o.interval)!=null&&s.lower?t.metadata[o.interval.lower]:t.lower,h=(c=o==null?void 0:o.interval)!=null&&c.upper?t.metadata[o.interval.upper]:t.upper;return ks(l,u,h,o)}case"custom":return o!=null&&o.events?Es(t,o):String(t.metadata[i]??"");case"pvalue":return Fc(t.metadata[i],o);case"numeric":return Qi(t.metadata[i],o);case"percent":return Qi(t.metadata[i],o);case"sparkline":case"icon":case"stars":case"img":case"range":return"";case"badge":{const l=t.metadata[i];return l==null?"":`  ${String(l)}  `}case"bar":{if(((f=o==null?void 0:o.bar)==null?void 0:f.showLabel)===!1)return"";const l=t.metadata[i];return l==null?"":l>=100?l.toFixed(0):l>=10?l.toFixed(1):l.toFixed(2)}case"text":default:return String(t.metadata[i]??"")}}function gr(t,e){const r="⁰¹²³⁴⁵⁶⁷⁸⁹⁺⁻",i="ilI1.,;:|!()[]{}' -",o="mwMW@%",a="ABCDEFGHJKLNOPQRSTUVXYZ";let s=0;for(const c of t)r.includes(c)?s+=e*.3:i.includes(c)?s+=e*.35:"×−".includes(c)?s+=e*.5:o.includes(c)?s+=e*.85:c>="0"&&c<="9"?s+=e*.6:a.includes(c)?s+=e*.68:s+=e*.55;return s}function Bg(t,e,r,i=400){if(typeof document>"u")return null;const a=document.createElement("canvas").getContext("2d");return a?(a.font=`${i} ${e} ${r}`,a.measureText(t).width):null}function Lc(t){if(!t||t.length===0)return{min:NaN,q1:NaN,median:NaN,q3:NaN,max:NaN};const e=t.filter(o=>o!=null&&!Number.isNaN(o)).sort((o,a)=>o-a);if(e.length===0)return{min:NaN,q1:NaN,median:NaN,q3:NaN,max:NaN};const r=e.length,i=o=>{if(r===1)return e[0];const a=(r-1)*o,s=Math.floor(a),c=Math.ceil(a);return s===c?e[s]:e[s]+(a-s)*(e[c]-e[s])};return{min:e[0],q1:i(.25),median:i(.5),q3:i(.75),max:e[r-1]}}function Gg(t,e,r){if(!t||t.length===0||Number.isNaN(e)||Number.isNaN(r))return[];const i=r-e,o=e-1.5*i,a=r+1.5*i;return t.filter(s=>s!=null&&!Number.isNaN(s)&&(s<o||s>a))}function _a(t){const e=Lc(t),r=Gg(t,e.q1,e.q3);return{...e,outliers:r}}function Vg(t){if(!t||t.length<2)return 1;const e=t.filter(g=>g!=null&&!Number.isNaN(g)).sort((g,v)=>g-v);if(e.length<2)return 1;const r=e.length,i=e.reduce((g,v)=>g+v,0)/r,o=e.reduce((g,v)=>g+(v-i)**2,0)/(r-1),a=Math.sqrt(o),s=Math.floor((r-1)*.25),c=Math.floor((r-1)*.75),f=e[s],u=e[c]-f,d=.9*Math.min(a,u/1.34)*Math.pow(r,-.2);return Math.max(d,.001)}function Og(t){return Math.exp(-.5*t*t)/Math.sqrt(2*Math.PI)}function Dc(t,e,r=128){if(!t||t.length===0)return{x:[],y:[]};const i=t.filter(g=>g!=null&&!Number.isNaN(g));if(i.length===0)return{x:[],y:[]};const o=e??Vg(i),a=Math.min(...i),s=Math.max(...i),c=3*o,f=a-c,u=(s+c-f)/(r-1),h=[],d=[];for(let g=0;g<r;g++){const v=f+g*u;h.push(v);let y=0;for(const _ of i)y+=Og((v-_)/o);y/=i.length*o,d.push(y)}return{x:h,y:d}}function Bc(t,e){if(t.y.length===0)return t;const r=Math.max(...t.y);if(r===0)return t;const i=t.y.map(o=>o/r*e);return{x:t.x,y:i}}function xa(t,e,r,i=400){const o=Bg(t,`${e}px`,r,i);if(o!==null)return o;const a=1+Math.max(0,(i-400)/100)*.02;return gr(t,e)*a}function jg(t,e){var l,u;const r=new Map,i=kn(t.theme.typography.fontSizeBase),o=t.theme.typography.headerFontScale??1.05,a=Math.round(i*o*100)/100,s=t.data.rows,c=(t.theme.spacing.cellPaddingX??10)*2,f=(t.theme.spacing.groupPadding??8)*2;for(const h of e){if(h.width!=="auto"&&h.width!==null&&h.width!==void 0)continue;let d=0;h.header&&(d=Math.max(d,gr(h.header,a)));for(const y of s){if(((l=y.style)==null?void 0:l.type)==="header"||((u=y.style)==null?void 0:u.type)==="spacer")continue;const _=Pc(y,h);_&&(d=Math.max(d,gr(_,i)))}const g=Qn.VISUAL_MIN[h.type]??Qn.MIN,v=Math.ceil(d+c+Kn.RENDERING_BUFFER);r.set(h.id,Math.min(Qn.MAX,Math.max(g,v)))}return qg(t.columns,r,a,f,Kn.RENDERING_BUFFER),r}function qg(t,e,r,i,o){function a(f){return f.isGroup?f.columns.flatMap(a):[f]}function s(f){const l=e.get(f.id);return l!==void 0?l:typeof f.width=="number"?f.width:Qn.MIN}function c(f){if(f.isGroup){for(const l of f.columns)c(l);if(f.header){const l=gr(f.header,r)+i+o,u=a(f),h=u.reduce((d,g)=>d+s(g),0);if(l>h&&u.length>0){const d=Math.ceil((l-h)/u.length);for(const g of u)e.set(g.id,s(g)+d)}}}}for(const f of t)c(f)}function Gc(t,e,r){let i=r.filter(a=>a.groupId===t).length;const o=e.filter(a=>a.parentId===t);for(const a of o)i+=Gc(a.id,e,r);return i}function Vc(t){var f,l;const e=kn(t.theme.typography.fontSizeBase),r=(t.theme.spacing.cellPaddingX??10)*2;let i=0;const o=new Map,a=Array.isArray(t.data.groups)?t.data.groups:[];for(const u of a)o.set(u.id,u.depth);const s=u=>u?(o.get(u)??0)+1:0;t.data.labelHeader&&(i=Math.max(i,gr(t.data.labelHeader,e)));for(const u of t.data.rows)if(u.label){const h=s(u.groupId),d=((f=u.style)==null?void 0:f.indent)??0,v=(h+d)*Fe.INDENT_PER_LEVEL;let y=gr(u.label,e)+v;if((l=u.style)!=null&&l.badge){const _=String(u.style.badge),x=e*Sr.FONT_SCALE,N=gr(_,x)+Sr.PADDING*2;y+=Sr.GAP+N}i=Math.max(i,y)}for(const u of a)if(u.label){const h=u.depth*Fe.INDENT_PER_LEVEL,d=gr(u.label,e),v=`(${Gc(u.id,a,t.data.rows)})`,y=e*.75,_=gr(v,y),x=h+ni.CHEVRON_WIDTH+ni.GAP+d+ni.GAP+_+ni.SAFETY_MARGIN;i=Math.max(i,x)}const c=Math.ceil(i+r+Kn.RENDERING_BUFFER);return Math.min(Qn.LABEL_MAX,Math.max(Qn.MIN,c))}function Cs(t,e){const r=e.get(t.id);return r!==void 0?r:typeof t.width=="number"?t.width:Er.DEFAULT_COLUMN_WIDTH}function Xg(t,e,r=0){var Mt,ee,Be,je,dn;const i=t.theme,o=i.spacing.rowHeight,a=i.spacing.padding,s=i.spacing.columnGap??8,c=Array.isArray(t.columns)?t.columns:[],f=jc(c,"left"),l=jc(c,"right"),h=wa(f)||wa(l)||wa(c)?2:1,d=i.spacing.cellPaddingY??4,y=(i.spacing.headerHeight/h+d*2)*h,_=!!((Mt=t.labels)!=null&&Mt.title),x=!!((ee=t.labels)!=null&&ee.subtitle),M=!!((Be=t.labels)!=null&&Be.caption),N=!!((je=t.labels)!=null&&je.footnote),R=_?kr.TITLE_HEIGHT:0,w=x?kr.SUBTITLE_HEIGHT:0,C=_&&x?13:0,b=R+C+w+(_||x?a:0),E=M?kr.CAPTION_HEIGHT:0,L=N?kr.FOOTNOTE_HEIGHT:0,H=E+L+(M||N?a:0),A=Oc(t),T=!!t.data.overall;let B=0;for(const _t of A){const Tt=_t.type==="data"&&((dn=_t.row.style)==null?void 0:dn.type)==="spacer";B+=Tt?o/2:o}const P=B+(T?o*fd.OVERALL_ROW_HEIGHT_MULTIPLIER:0),K=Hs(c,"left"),Y=Hs(c,"right"),$=Ns(c).filter(_t=>_t.position===void 0),O=[...K,...Y,...$];let U,ft;if(e.columnWidths){U=new Map;for(const[_t,Tt]of Object.entries(e.columnWidths))_t!=="__label__"&&U.set(_t,Tt);ft=e.columnWidths.__label__??Vc(t)}else U=jg(t,O),ft=Vc(t);const rt=ft+K.reduce((_t,Tt)=>_t+Cs(Tt,U),0),it=Y.reduce((_t,Tt)=>_t+Cs(Tt,U),0),et=$.filter(_t=>_t.type!=="forest").reduce((_t,Tt)=>_t+Cs(Tt,U),0),lt=e.width??Er.DEFAULT_WIDTH,Zt=O.some(_t=>_t.type==="forest")||t.data.includeForest,pt=rt+it+et;let xt;if(!Zt)xt=0;else if(typeof e.forestWidth=="number")xt=e.forestWidth;else if(typeof t.layout.plotWidth=="number")xt=t.layout.plotWidth;else{const _t=lt-pt-s*2-a*2;xt=Math.max(_t,Er.MIN_FOREST_WIDTH)}const ie=a*2+pt+xt+s*2,oe=Math.max(e.width??lt,ie);Zt&&oe>ie&&typeof e.forestWidth!="number"&&typeof t.layout.plotWidth!="number"&&(xt=oe-pt-a*2-s*2);const te=i.spacing.axisGap??12,Re=te+Er.AXIS_HEIGHT+Er.AXIS_LABEL_HEIGHT,ct=b+a+y+P+Re+H+Er.BOTTOM_MARGIN;return{totalWidth:oe,totalHeight:e.height??ct,tableWidth:rt+it,forestWidth:xt,headerHeight:y,rowHeight:o,plotHeight:P,axisHeight:Er.AXIS_HEIGHT,nullValue:r,summaryYPosition:P-o,showOverallSummary:T,headerTextHeight:b,footerTextHeight:H,titleY:a+kr.TITLE_HEIGHT-4,subtitleY:a+R+C+kr.SUBTITLE_HEIGHT-4,mainY:b+a,footerY:b+a+y+P+Re+8,axisGap:te,rowsHeight:B,autoWidths:U,labelWidth:ft}}function Oc(t){var h;const e=t.data.rows,r=Array.isArray(t.data.groups)?t.data.groups:[];if(r.length===0)return e.map(d=>({type:"data",row:d,depth:0}));const i=new Map;for(const d of r)i.set(d.id,d);const o=new Map;for(const d of e){const g=d.groupId??null;o.has(g)||o.set(g,[]),o.get(g).push(d)}const a=new Set;for(const d of o.keys()){if(!d)continue;let g=d;for(;g;)a.add(g),g=(h=i.get(g))==null?void 0:h.parentId}function s(d){return r.filter(g=>(g.parentId??null)===d&&a.has(g.id))}function c(d){if(!d)return 0;const g=i.get(d);return g?g.depth+1:0}function f(d){var v;let g=((v=o.get(d))==null?void 0:v.length)??0;for(const y of s(d))g+=f(y.id);return g}const l=[];function u(d){if(d){const v=i.get(d);if(!v)return;const y=f(d);l.push({type:"group_header",groupId:v.id,label:v.label,depth:v.depth,rowCount:y})}for(const v of s(d))u(v.id);const g=o.get(d)??[];for(const v of g)l.push({type:"data",row:v,depth:c(v.groupId)})}return u(null),l}function Ts(t){const e=[];for(const r of t)r.isGroup?e.push(...Ts(r.columns)):e.push(r);return e}function Ns(t){const e=[];for(const r of t)r.isGroup?e.push(...Ts(r.columns)):e.push(r);return e}function Hs(t,e){if(e===void 0)return Ns(t);const r=[];for(const i of t)i.position===e&&(i.isGroup?r.push(...Ts(i.columns)):r.push(i));return r}function jc(t,e){return t.filter(r=>r.position===e)}function wa(t){return t.some(e=>e.isGroup)}function kn(t){let e;return t.endsWith("rem")?e=parseFloat(t)*kr.REM_BASE:t.endsWith("px")?e=parseFloat(t):t.endsWith("pt")?e=parseFloat(t)*kr.PT_TO_PX:e=kr.DEFAULT_FONT_SIZE,Math.round(e*100)/100}function ba(t,e,r){return r==="right"?{textX:t+e-Fe.TEXT_PADDING,anchor:"end"}:r==="center"?{textX:t+e/2,anchor:"middle"}:{textX:t+Fe.TEXT_PADDING,anchor:"start"}}function on(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function qc(t,e,r,i=0){const o=e-i*2;if(gr(t,r)<=o)return t;const s="…",c=r*.55;let f=0,l=t.length;for(;f<l;){const u=Math.ceil((f+l)/2),h=t.slice(0,u);gr(h,r)+c<=o?f=u:l=u-1}return f===0?s:t.slice(0,f)+s}function $g(t){return Math.abs(t)<.01?"0":Math.abs(t)>=100?t.toFixed(0):Math.abs(t)>=10?t.toFixed(1):t.toFixed(2)}function Bo(t,e){const[r,i]=t,[o,a]=e,s=(a-o)/(i-r),c=f=>o+(f-r)*s;return c.domain=()=>t,c.range=()=>e,c.ticks=f=>{const l=(i-r)/(f-1),u=[];for(let h=0;h<f;h++)u.push(r+l*h);return u},c}function Go(t,e){const[r,i]=t.map(u=>Math.max(u,.001)),[o,a]=e,s=Math.log10(r),c=Math.log10(i),f=(a-o)/(c-s),l=u=>{const h=Math.log10(Math.max(u,.001));return o+(h-s)*f};return l.domain=()=>[r,i],l.range=()=>e,l.ticks=u=>{const h=[],d=Math.floor(Math.log10(r)),g=Math.ceil(Math.log10(i));for(let v=d;v<=g;v++){const y=Math.pow(10,v);for(const _ of[1,2,5]){const x=y*_;x>=r&&x<=i&&h.push(x)}}return h.length>0?h:[r,i]},l}function Ug(t,e,r,i){const o=r.scale==="log",a=An,s=Math.max(e-An,a+50);if(i!=null&&i.xDomain){const h=i.xDomain,d=i.clipBounds??h,g=$l(d,t.theme.axis,r.scale,r.nullValue);return o?{scale:Go([Math.max(h[0],.01),Math.max(h[1],.02)],[a,s]),clipBounds:d,ticks:g}:{scale:Bo(h,[a,s]),clipBounds:d,ticks:g}}const c=Xl({rows:t.data.rows,config:t.theme.axis,scale:r.scale,nullValue:r.nullValue,forestWidth:e,pointSize:t.theme.shapes.pointSize,effects:r.effects,pointCol:r.pointCol,lowerCol:r.lowerCol,upperCol:r.upperCol}),{plotRegion:f,axisLimits:l,ticks:u}=c;return o?{scale:Go([Math.max(f[0],.01),Math.max(f[1],.02)],[a,s]),clipBounds:l,ticks:u}:{scale:Bo(f,[a,s]),clipBounds:l,ticks:u}}function Yg(t,e,r){var a,s,c,f;const i=[],o=r.spacing.padding;if((a=t.labels)!=null&&a.title){const l=kn(r.typography.fontSizeLg);i.push(`<text x="${o}" y="${e.titleY}"
      font-family="${r.typography.fontFamily}"
      font-size="${l}px"
      font-weight="${r.typography.fontWeightBold}"
      fill="${r.colors.foreground}">${on(t.labels.title)}</text>`)}if((s=t.labels)!=null&&s.subtitle){const l=kn(r.typography.fontSizeBase);i.push(`<text x="${o}" y="${e.subtitleY}"
      font-family="${r.typography.fontFamily}"
      font-size="${l}px"
      font-weight="${r.typography.fontWeightNormal}"
      fill="${r.colors.secondary}">${on(t.labels.subtitle)}</text>`)}if((c=t.labels)!=null&&c.title&&((f=t.labels)!=null&&f.subtitle)){const u=kn(r.typography.fontSizeBase)*.75,h=e.subtitleY-u-6;i.push(`<line x1="${o}" x2="${e.totalWidth-o}"
      y1="${h}" y2="${h}"
      stroke="${r.colors.border}" stroke-width="1" opacity="0.3"/>`)}return i.join(`
`)}function Zg(t,e,r){var c,f,l,u;const i=[],o=r.spacing.padding;let a=e.footerY;if(!!((c=t.labels)!=null&&c.caption)||!!((f=t.labels)!=null&&f.footnote)){const h=e.footerY-8;i.push(`<line x1="${o}" x2="${e.totalWidth-o}"
      y1="${h}" y2="${h}"
      stroke="${r.colors.border}" stroke-width="1"/>`)}if((l=t.labels)!=null&&l.caption){const h=kn(r.typography.fontSizeSm);i.push(`<text x="${o}" y="${a}"
      font-family="${r.typography.fontFamily}"
      font-size="${h}px"
      font-weight="${r.typography.fontWeightNormal}"
      fill="${r.colors.secondary}">${on(t.labels.caption)}</text>`),a+=kr.CAPTION_HEIGHT}if((u=t.labels)!=null&&u.footnote){const h=kn(r.typography.fontSizeSm);i.push(`<text x="${o}" y="${a}"
      font-family="${r.typography.fontFamily}"
      font-size="${h}px"
      font-weight="${r.typography.fontWeightNormal}"
      font-style="italic"
      fill="${r.colors.muted}">${on(t.labels.footnote)}</text>`)}return i.join(`
`)}function Kg(t,e,r,i,o,a,s,c){const f=[],l=e+1,u=c.groupHeaders;let h,d,g,v,y;if(l===1?(h=kn((u==null?void 0:u.level1FontSize)??c.typography.fontSizeBase),d=(u==null?void 0:u.level1FontWeight)??c.typography.fontWeightBold,g=(u==null?void 0:u.level1Italic)??!1,v=(u==null?void 0:u.level1Background)??null,y=(u==null?void 0:u.level1BorderBottom)??!1):l===2?(h=kn((u==null?void 0:u.level2FontSize)??c.typography.fontSizeBase),d=(u==null?void 0:u.level2FontWeight)??c.typography.fontWeightMedium,g=(u==null?void 0:u.level2Italic)??!0,v=(u==null?void 0:u.level2Background)??null,y=(u==null?void 0:u.level2BorderBottom)??!1):(h=kn((u==null?void 0:u.level3FontSize)??c.typography.fontSizeBase),d=(u==null?void 0:u.level3FontWeight)??c.typography.fontWeightNormal,g=(u==null?void 0:u.level3Italic)??!1,v=(u==null?void 0:u.level3Background)??null,y=(u==null?void 0:u.level3BorderBottom)??!1),!v){const R=c.colors.primary,w=l===1?.15:l===2?.1:.06,C=R.replace("#",""),b=parseInt(C.substring(0,2),16),E=parseInt(C.substring(2,4),16),L=parseInt(C.substring(4,6),16);v=`rgba(${b}, ${E}, ${L}, ${w})`}const _=o+a/2,x=e*((u==null?void 0:u.indentPerLevel)??Fe.INDENT_PER_LEVEL);f.push(`<rect x="${i}" y="${o}"
    width="${s}" height="${a}"
    fill="${v}"/>`),y&&f.push(`<line x1="${i}" x2="${i+s}" y1="${o+a}" y2="${o+a}"
      stroke="${c.colors.border}" stroke-width="1" opacity="0.5"/>`);const M=g?' font-style="italic"':"",N=i+Fe.TEXT_PADDING+x;if(f.push(`<text class="cell-text" x="${N}" y="${_}"
    font-family="${c.typography.fontFamily}"
    font-size="${h}px"
    font-weight="${d}"${M}
    fill="${c.colors.foreground}">${on(t)}</text>`),r>0){const R=xa(t,h,c.typography.fontFamily,d),w=N+R+6,C=kn(c.typography.fontSizeSm??"0.75rem");f.push(`<text class="cell-text" x="${w}" y="${_}"
      font-family="${c.typography.fontFamily}"
      font-size="${C}px"
      font-weight="${c.typography.fontWeightNormal}"
      fill="${c.colors.muted}">(${r})</text>`)}return f.join(`
`)}function Qg(t,e){const r=new Map;for(const i of e)if(i.type==="bar"){let o=0;for(const a of t){const s=a.metadata[i.field];typeof s=="number"&&s>o&&(o=s)}r.set(i.field,o>0?o:1)}return r}function Jg(t,e){var i,o,a,s,c,f,l,u,h,d,g,v,y,_,x,M,N,R,w;if(e.type==="interval"){const C=(o=(i=e.options)==null?void 0:i.interval)!=null&&o.point?t.metadata[e.options.interval.point]:t.point,b=(s=(a=e.options)==null?void 0:a.interval)!=null&&s.lower?t.metadata[e.options.interval.lower]:t.lower,E=(f=(c=e.options)==null?void 0:c.interval)!=null&&f.upper?t.metadata[e.options.interval.upper]:t.upper;return ks(C,b,E,e.options)}if(e.type==="numeric"){const C=t.metadata[e.field];return typeof C=="number"?Qi(C,e.options):((l=e.options)==null?void 0:l.naText)??""}if(e.type==="custom"&&((u=e.options)!=null&&u.events))return Es(t,e.options);if(e.type==="pvalue"){const C=t.metadata[e.field];return typeof C!="number"?((h=e.options)==null?void 0:h.naText)??"":Fc(C,e.options)}if(e.type==="icon"){const C=t.metadata[e.field];if(C==null)return"";const b=String(C),E=(g=(d=e.options)==null?void 0:d.icon)==null?void 0:g.mapping;return E&&b in E?E[b]:b}if(e.type==="badge"){const C=t.metadata[e.field];return C!=null?String(C):""}if(e.type==="stars"){const C=t.metadata[e.field];if(typeof C!="number")return"";const b=((y=(v=e.options)==null?void 0:v.stars)==null?void 0:y.maxStars)??5,E=Math.max(0,Math.min(b,C)),L=Math.floor(E),H=b-L;return"★".repeat(L)+"☆".repeat(H)}if(e.type==="img")return((x=(_=e.options)==null?void 0:_.img)==null?void 0:x.fallback)??"[IMG]";if(e.type==="reference"){const C=t.metadata[e.field];if(C==null)return"";const b=String(C),E=((N=(M=e.options)==null?void 0:M.reference)==null?void 0:N.maxChars)??30;return b.length<=E?b:b.substring(0,E)+"..."}if(e.type==="range"){const C=(R=e.options)==null?void 0:R.range;if(!C)return"";const b=t.metadata[C.minField],E=t.metadata[C.maxField],L=C.separator??" – ",H=C.decimals,A=T=>typeof T!="number"?"":H==null?Number.isInteger(T)?String(T):T.toFixed(1):T.toFixed(H);return b===null&&E===null?"":b===null?A(E):E===null?A(b):`${A(b)}${L}${A(E)}`}const r=t.metadata[e.field];return r!=null?String(r):((w=e.options)==null?void 0:w.naText)??""}function tv(t,e,r,i,o){const a=t.filter(u=>Number.isFinite(u));if(a.length===0)return"";if(a.length===1){const u=e+i/2,h=r+o/2;return`M${u.toFixed(1)},${h.toFixed(1)}`}const s=Math.min(...a),f=Math.max(...a)-s||1;return`M${a.map((u,h)=>{const d=e+h/(a.length-1)*i,g=r+o-(u-s)/f*o;return`${d.toFixed(1)},${g.toFixed(1)}`}).join("L")}`}function ev(t,e,r,i,o,a=[],s,c=0,f=1/0,l,u=!1){var b;let h;if(a.length===0){const E=!u||t.point!=null&&t.point>0?t.point:null,L=!u||t.lower!=null&&t.lower>0?t.lower:null,H=!u||t.upper!=null&&t.upper>0?t.upper:null;h=[{point:E,lower:L,upper:H,color:null,shape:null,opacity:null}]}else h=a.map(E=>({point:Zn(t.metadata,t.point,E.pointCol,"point",u),lower:Zn(t.metadata,t.lower,E.lowerCol,"lower",u),upper:Zn(t.metadata,t.upper,E.upperCol,"upper",u),color:E.color??null,shape:E.shape??null,opacity:E.opacity??null}));const d=h.filter(E=>E.point!=null&&!Number.isNaN(E.point)&&E.lower!=null&&!Number.isNaN(E.lower)&&E.upper!=null&&!Number.isNaN(E.upper));if(d.length===0)return"";const g=i.shapes.pointSize,v=i.shapes.lineWidth,y=i.colors.intervalLine,_=((b=t.style)==null?void 0:b.type)==="summary",M=i.shapes.summaryHeight/2;function N(E){var H;if(E&&((H=t.markerStyle)==null?void 0:H.size)!=null)return g*t.markerStyle.size;const L=s?t.metadata[s]:void 0;if(L){const A=.5+Math.sqrt(L/100)*1.5;return Math.min(Math.max(g*A,3),g*2.5)}return g}function R(E,L){const H=L===0,A=t.markerStyle,T=i.shapes.effectColors,B=i.shapes.markerShapes,P=["square","circle","diamond","triangle"];let K;H&&(A!=null&&A.color)?K=A.color:E.color?K=E.color:T&&T.length>0?K=T[L%T.length]:K=i.colors.interval??i.colors.primary??"#2563eb";let Y;H&&(A!=null&&A.shape)?Y=A.shape:E.shape?Y=E.shape:B&&B.length>0?Y=B[L%B.length]:Y=P[L%P.length];let $;return H&&(A==null?void 0:A.opacity)!=null?$=A.opacity:E.opacity!=null?$=E.opacity:$=1,{color:K,shape:Y,opacity:$}}function w(E,L,H,A){const{color:T,shape:B,opacity:P}=A,K=P<1?` fill-opacity="${P}"`:"";switch(B){case"circle":return`<circle cx="${E}" cy="${L}" r="${H}" fill="${T}"${K}/>`;case"diamond":return`<polygon points="${[`${E},${L-H}`,`${E+H},${L}`,`${E},${L+H}`,`${E-H},${L}`].join(" ")}" fill="${T}"${K}/>`;case"triangle":return`<polygon points="${[`${E},${L-H}`,`${E+H},${L+H}`,`${E-H},${L+H}`].join(" ")}" fill="${T}"${K}/>`;default:return`<rect x="${E-H}" y="${L-H}" width="${H*2}" height="${H*2}" fill="${T}"${K}/>`}}const C=[];return d.forEach((E,L)=>{const H=e+Yl(L,d.length),A=r(E.lower),T=r(E.upper),B=r(E.point),P=R(E,L),K=N(L===0),Y=y;if(_){const $=P.opacity<1?` fill-opacity="${P.opacity}"`:"",O=[`${A},${H}`,`${B},${H-M}`,`${T},${H}`,`${B},${H+M}`].join(" ");C.push(`
        <g class="interval effect-${L} summary">
          <polygon points="${O}"
            fill="${P.color}"${$} stroke="${i.colors.summaryBorder}" stroke-width="1"/>
        </g>`)}else{const $=c+An,O=c+f-An,U=l?E.lower<l[0]:A<$,ft=l?E.upper>l[1]:T>O;let rt,it;if(l){const oe=Math.max(l[0],Math.min(l[1],E.lower)),te=Math.max(l[0],Math.min(l[1],E.upper));rt=r(oe),it=r(te)}else rt=Math.max($,Math.min(O,A)),it=Math.max($,Math.min(O,T));const et=jl(i),lt=et.height/2,Yt=l?r(l[0]):$,Zt=l?r(l[1]):O;let pt="";if(U){const oe=et.opacity<1?` fill-opacity="${et.opacity}"`:"";pt=`<path d="${sa("left",Yt,H,et)}" fill="${et.color}"${oe}/>`}else pt=`<line x1="${rt}" x2="${rt}" y1="${H-lt}" y2="${H+lt}" stroke="${Y}" stroke-width="${v}"/>`;let xt="";if(ft){const oe=et.opacity<1?` fill-opacity="${et.opacity}"`:"";xt=`<path d="${sa("right",Zt,H,et)}" fill="${et.color}"${oe}/>`}else xt=`<line x1="${it}" x2="${it}" y1="${H-lt}" y2="${H+lt}" stroke="${Y}" stroke-width="${v}"/>`;const ie=l?r(Math.max(l[0],Math.min(l[1],E.point))):Math.max($,Math.min(O,B));C.push(`
        <g class="interval effect-${L}">
          <line x1="${rt}" x2="${it}" y1="${H}" y2="${H}"
            stroke="${Y}" stroke-width="${v}"/>
          ${pt}
          ${xt}
          ${w(ie,H,K,P)}
        </g>`)}}),C.join("")}function nv(t,e,r,i,o,a,s,c){const l=c.shapes.summaryHeight/2,[u,h]=o.domain().map(w=>o(w)),d=Math.min(u,h),g=Math.max(u,h),v=o(e),y=o(t),_=o(r),x=a+Math.max(d,Math.min(g,v)),M=a+Math.max(d,Math.min(g,y)),N=a+Math.max(d,Math.min(g,_));return`<polygon points="${[`${x},${i}`,`${M},${i-l}`,`${N},${i}`,`${M},${i+l}`].join(" ")}"
    fill="${c.colors.summaryFill}"
    stroke="${c.colors.summaryBorder}"
    stroke-width="1"/>`}function rv(t,e,r,i,o,a,s,c){const f=[],l=a.effects,u=l.length;if(!l.some(x=>{const M=t.metadata[x.value];return M!=null&&!Number.isNaN(M)}))return"";const d=r*.7,g=u>1?2:0,v=(d-g*(u-1))/u,y=Math.max(4,v),_=c.shapes.effectColors??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"];return l.forEach((x,M)=>{const N=t.metadata[x.value];if(N==null||Number.isNaN(N))return;const R=e-d/2+M*(y+g),w=i+s(Math.min(0,N)),C=Math.abs(s(N)-s(0)),b=x.color??_[M%_.length],E=x.opacity??.85;f.push(`<rect
      x="${w}" y="${R}"
      width="${Math.max(1,C)}" height="${y}"
      fill="${b}" fill-opacity="${E}" rx="2"
      class="viz-bar-segment"/>`)}),f.join(`
`)}function iv(t,e,r,i,o,a,s,c){const f=[],l=a.effects,u=l.length,h=l.map(M=>{if(M.data){const N=t.metadata[M.data];return!N||!Array.isArray(N)||N.length===0?null:_a(N)}if(M.min&&M.q1&&M.median&&M.q3&&M.max){const N=t.metadata[M.min],R=t.metadata[M.q1],w=t.metadata[M.median],C=t.metadata[M.q3],b=t.metadata[M.max];if([N,R,w,C,b].some(L=>L==null||Number.isNaN(L)))return null;let E=[];if(M.outliers){const L=t.metadata[M.outliers];L&&Array.isArray(L)&&(E=L)}return{min:N,q1:R,median:w,q3:C,max:b,outliers:E}}return null});if(!h.some(M=>M!==null))return"";const g=r*.7,v=u>1?2:0,y=Math.max(8,(g-(u-1)*v)/u),_=c.shapes.effectColors??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"],x=c.colors.foreground??"#1a1a1a";return l.forEach((M,N)=>{const R=h[N];if(!R)return;const w=e-g/2+N*(y+v),C=w+y/2,b=M.color??_[N%_.length],E=M.fillOpacity??.7;f.push(`<line
      x1="${i+s(R.min)}" x2="${i+s(R.q1)}"
      y1="${C}" y2="${C}"
      stroke="${x}" stroke-width="1"/>`),f.push(`<line
      x1="${i+s(R.min)}" x2="${i+s(R.min)}"
      y1="${C-y/4}" y2="${C+y/4}"
      stroke="${x}" stroke-width="1"/>`),f.push(`<line
      x1="${i+s(R.q3)}" x2="${i+s(R.max)}"
      y1="${C}" y2="${C}"
      stroke="${x}" stroke-width="1"/>`),f.push(`<line
      x1="${i+s(R.max)}" x2="${i+s(R.max)}"
      y1="${C-y/4}" y2="${C+y/4}"
      stroke="${x}" stroke-width="1"/>`);const L=Math.max(2,s(R.q3)-s(R.q1));if(f.push(`<rect
      x="${i+s(R.q1)}" y="${w}"
      width="${L}" height="${y}"
      fill="${b}" fill-opacity="${E}"
      stroke="${x}" stroke-width="1"/>`),f.push(`<line
      x1="${i+s(R.median)}" x2="${i+s(R.median)}"
      y1="${w}" y2="${w+y}"
      stroke="${x}" stroke-width="2"/>`),a.showOutliers!==!1&&R.outliers.length>0)for(const H of R.outliers)f.push(`<circle
          cx="${i+s(H)}" cy="${C}"
          r="2.5"
          fill="none" stroke="${b}" stroke-width="1.5"/>`)}),f.join(`
`)}function ov(t,e,r,i,o,a,s,c){const f=[],l=a.effects,u=l.length,h=l.map(R=>{const w=t.metadata[R.data];return!w||!Array.isArray(w)||w.length<2?null:Dc(w,a.bandwidth)}),d=l.map(R=>{const w=t.metadata[R.data];if(!w||!Array.isArray(w)||w.length<2)return null;const C=w.filter(L=>L!=null&&!Number.isNaN(L)).sort((L,H)=>L-H);if(C.length===0)return null;const b=C.length,E=L=>{if(b===1)return C[0];const H=(b-1)*L,A=Math.floor(H),T=Math.ceil(H);return A===T?C[A]:C[A]+(H-A)*(C[T]-C[A])};return{q1:E(.25),median:E(.5),q3:E(.75)}});if(!h.some(R=>R!==null))return"";const v=r*.8,y=u>1?2:0,_=Math.max(10,(v-(u-1)*y)/u),x=_/2,M=c.shapes.effectColors??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"],N=c.colors.foreground??"#1a1a1a";return l.forEach((R,w)=>{const C=h[w],b=d[w];if(!C||C.x.length<2)return;const E=e-v/2+_/2+w*(_+y),L=R.color??M[w%M.length],H=R.fillOpacity??.5,A=Bc(C,x),T=[];for(let B=0;B<A.x.length;B++){const P=i+s(A.x[B]),K=E-A.y[B];T.push(B===0?`M ${P} ${K}`:`L ${P} ${K}`)}for(let B=A.x.length-1;B>=0;B--){const P=i+s(A.x[B]),K=E+A.y[B];T.push(`L ${P} ${K}`)}if(T.push("Z"),f.push(`<path
      d="${T.join(" ")}"
      fill="${L}" fill-opacity="${H}"
      stroke="${N}" stroke-width="0.5"/>`),a.showMedian!==!1&&b){const B=i+s(b.median);f.push(`<line
        x1="${B}" x2="${B}"
        y1="${E-x*.6}" y2="${E+x*.6}"
        stroke="${N}" stroke-width="2"/>`)}if(a.showQuartiles&&b){const B=i+s(b.q1),P=i+s(b.q3);f.push(`<line
        x1="${B}" x2="${B}"
        y1="${E-x*.4}" y2="${E+x*.4}"
        stroke="${N}" stroke-width="1" stroke-dasharray="2,2"/>`),f.push(`<line
        x1="${P}" x2="${P}"
        y1="${E-x*.4}" y2="${E+x*.4}"
        stroke="${N}" stroke-width="1" stroke-dasharray="2,2"/>`)}}),f.join(`
`)}function av(t,e,r){var c,f;const i=e.scale==="log",o=An;let a=(c=e.axisRange)==null?void 0:c[0],s=(f=e.axisRange)==null?void 0:f[1];if(a==null||s==null){const l=[];for(const u of t)for(const h of e.effects){const d=u.metadata[h.value];d!=null&&!Number.isNaN(d)&&l.push(d)}l.length>0?(a=a??Math.min(0,...l),s=s??Math.max(...l)*1.1):(a=a??0,s=s??100)}return i?Go([Math.max(.01,a),s],[o,r-o]):Bo([a,s],[o,r-o])}function sv(t,e,r){var c,f;const i=e.scale==="log",o=An;let a=(c=e.axisRange)==null?void 0:c[0],s=(f=e.axisRange)==null?void 0:f[1];if(a==null||s==null){const l=[];for(const u of t)for(const h of e.effects)if(h.data){const d=u.metadata[h.data];if(d&&Array.isArray(d)){const g=_a(d);l.push(g.min,g.max),e.showOutliers!==!1&&l.push(...g.outliers)}}else if(h.min&&h.max){const d=u.metadata[h.min],g=u.metadata[h.max];d!=null&&!Number.isNaN(d)&&l.push(d),g!=null&&!Number.isNaN(g)&&l.push(g)}if(l.length>0){const u=Math.min(...l),h=Math.max(...l),d=h-u;a=a??u-d*.05,s=s??h+d*.05}else a=a??0,s=s??100}return i?Go([Math.max(.01,a),s],[o,r-o]):Bo([a,s],[o,r-o])}function lv(t,e,r){var c,f;const i=e.scale==="log",o=An;let a=(c=e.axisRange)==null?void 0:c[0],s=(f=e.axisRange)==null?void 0:f[1];if(a==null||s==null){const l=[];for(const u of t)for(const h of e.effects){const d=u.metadata[h.data];d&&Array.isArray(d)&&l.push(...d.filter(g=>g!=null&&!Number.isNaN(g)))}if(l.length>0){a=a??Math.min(...l),s=s??Math.max(...l);const u=(s??0)-(a??0);a=(a??0)-u*.1,s=(s??0)+u*.1}else a=a??0,s=s??100}return i?Go([Math.max(.01,a),s],[o,r-o]):Bo([a,s],[o,r-o])}function As(t,e,r,i,o,a,s){const c=[],f=kn(r.typography.fontSizeSm),l=ss.EDGE_THRESHOLD,u=_=>_<l?"start":_>a-l?"end":"middle",h=_=>_<l?2:_>a-l?-2:0;c.push(`<line x1="${o}" x2="${o+a}"
    y1="0" y2="0" stroke="${r.colors.border}" stroke-width="1"/>`);const d=t.domain(),g=5,v=[],y=d[1]-d[0];for(let _=0;_<=g;_++)v.push(d[0]+y*_/g);for(const _ of v){const x=t(_),M=o+x,N=u(x),R=h(x),w=Qi(_);c.push(`<line x1="${M}" x2="${M}" y1="0" y2="4" stroke="${r.colors.border}" stroke-width="1"/>`),c.push(`<text x="${M+R}" y="14"
      text-anchor="${N}"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      font-weight="${r.typography.fontWeightNormal}"
      fill="${r.colors.foreground}">${w}</text>`)}return i&&c.push(`<text x="${o+a/2}" y="28"
      text-anchor="middle"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      font-weight="${r.typography.fontWeightMedium}"
      fill="${r.colors.foreground}">${on(i)}</text>`),c.join(`
`)}function cv(t,e,r,i,o,a,s=1,c){const f=[],l=typeof r.axis.tickCount=="number"?r.axis.tickCount:Fe.DEFAULT_TICK_COUNT,u=dv(t,l,r,s,a,c),h=kn(r.typography.fontSizeSm),d=ss.EDGE_THRESHOLD,g=y=>y<d?"start":y>a-d?"end":"middle",v=y=>y<d?2:y>a-d?-2:0;f.push(`<line x1="${o}" x2="${o+a}"
    y1="0" y2="0" stroke="${r.colors.border}" stroke-width="1"/>`);for(const y of u){const _=t(y),x=o+_,M=g(_),N=v(_);f.push(`<line x1="${x}" x2="${x}" y1="0" y2="4"
      stroke="${r.colors.border}" stroke-width="1"/>`),f.push(`<text x="${x+N}" y="16" text-anchor="${M}"
      font-family="${r.typography.fontFamily}"
      font-size="${h}px"
      font-weight="${r.typography.fontWeightNormal}"
      fill="${r.colors.secondary}">${$g(y)}</text>`)}return i&&f.push(`<text x="${o+a/2}" y="28"
      text-anchor="middle"
      font-family="${r.typography.fontFamily}"
      font-size="${h}px"
      font-weight="${r.typography.fontWeightMedium}"
      fill="${r.colors.secondary}">${on(i)}</text>`),`<g transform="translate(0, ${e.mainY+e.headerHeight+e.rowsHeight+e.axisGap})">${f.join(`
`)}</g>`}function fv(t,e,r,i,o,a,s,c,f,l){const u=[],h=kn(a.typography.fontSizeBase),d=a.typography.headerFontScale??1.05,g=Math.round(h*d*100)/100,v=a.typography.fontWeightBold,y=a.typography.fontWeightBold,_=wa(t),x=(M,N)=>M+N/2;if(_){const M=o/2,N=o/2;let R=r;u.push(`<text class="cell-text" x="${R+Fe.TEXT_PADDING}" y="${x(i,o)}"
      font-family="${a.typography.fontFamily}"
      font-size="${g}px"
      font-weight="${v}"
      fill="${a.colors.foreground}">${on(s)}</text>`),R+=c;const w=[];for(const C of t)if(C.isGroup){const b=C.columns.reduce((L,H)=>H.isGroup?L+H.columns.reduce((A,T)=>A+l(T),0):L+l(H),0),E=R+b/2;u.push(`<text class="cell-text" x="${E}" y="${x(i,M)}"
          font-family="${a.typography.fontFamily}"
          font-size="${g}px"
          font-weight="${y}"
          text-anchor="middle"
          fill="${a.colors.foreground}">${on(C.header)}</text>`),w.push({x1:R,x2:R+b}),R+=b}else{const b=l(C),E=C.headerAlign??C.align,{textX:L,anchor:H}=ba(R,b,E),A=qc(C.header,b,g,Fe.TEXT_PADDING);u.push(`<text class="cell-text" x="${L}" y="${x(i,o)}"
          font-family="${a.typography.fontFamily}"
          font-size="${g}px"
          font-weight="${v}"
          text-anchor="${H}"
          fill="${a.colors.foreground}">${on(A)}</text>`),R+=b}for(const C of w)u.push(`<line x1="${C.x1}" x2="${C.x2}"
        y1="${i+M}" y2="${i+M}"
        stroke="${a.colors.border}" stroke-width="1"/>`);R=r+c;for(const C of t)if(C.isGroup){for(const b of C.columns)if(!b.isGroup){const E=l(b),L=b.headerAlign??b.align,{textX:H,anchor:A}=ba(R,E,L);u.push(`<text class="cell-text" x="${H}" y="${x(i+M,N)}"
              font-family="${a.typography.fontFamily}"
              font-size="${g}px"
              font-weight="${v}"
              text-anchor="${A}"
              fill="${a.colors.foreground}">${on(b.header)}</text>`),R+=E}}else R+=l(C)}else{let M=r;u.push(`<text class="cell-text" x="${M+Fe.TEXT_PADDING}" y="${x(i,o)}"
      font-family="${a.typography.fontFamily}"
      font-size="${g}px"
      font-weight="${v}"
      fill="${a.colors.foreground}">${on(s)}</text>`),M+=c;for(const N of e){const R=l(N),w=N.headerAlign??N.align,{textX:C,anchor:b}=ba(M,R,w),E=qc(N.header,R,g,Fe.TEXT_PADDING);u.push(`<text class="cell-text" x="${C}" y="${x(i,o)}"
        font-family="${a.typography.fontFamily}"
        font-size="${g}px"
        font-weight="${v}"
        text-anchor="${b}"
        fill="${a.colors.foreground}">${on(E)}</text>`),M+=R}}return u.join(`
`)}function uv(t,e,r,i,o,a,s,c,f,l,u,h){var N,R,w,C,b,E,L,H,A,T,B,P,K,Y,$,O,U,ft,rt,it,et,lt,Yt,Zt,pt,xt,ie,oe,te;const d=[],g=kn(a.typography.fontSizeBase),v=i+o/2,y=c*Fe.INDENT_PER_LEVEL+(((N=t.style)==null?void 0:N.indent)??0)*Fe.INDENT_PER_LEVEL,_=(R=t.style)!=null&&R.bold||(w=t.style)!=null&&w.emphasis?a.typography.fontWeightBold:a.typography.fontWeightNormal,x=(C=t.style)!=null&&C.italic?"italic":"normal";let M=a.colors.foreground;if((b=t.style)!=null&&b.color?M=t.style.color:(E=t.style)!=null&&E.muted?M=a.colors.muted:(L=t.style)!=null&&L.accent&&(M=a.colors.accent),d.push(`<text class="cell-text" x="${r+Fe.TEXT_PADDING+y}" y="${v}"
    font-family="${a.typography.fontFamily}"
    font-size="${g}px"
    font-weight="${_}"
    font-style="${x}"
    fill="${M}">${on(t.label)}</text>`),(H=t.style)!=null&&H.badge){const Re=String(t.style.badge),ct=g*Sr.FONT_SCALE,Mt=ct+Sr.PADDING*2,ee=xa(t.label,g,a.typography.fontFamily,_),Be=r+Fe.TEXT_PADDING+y+ee+Sr.GAP,dn=xa(Re,ct,a.typography.fontFamily,a.typography.fontWeightBold)+Sr.PADDING*2,_t=i+(o-Mt)/2;d.push(`<rect x="${Be}" y="${_t}" width="${dn}" height="${Mt}"
      rx="3" fill="${a.colors.primary}" opacity="0.15"/>`),d.push(`<text class="cell-text" x="${Be+dn/2}" y="${_t+Mt/2}"
      text-anchor="middle"
      font-family="${a.typography.fontFamily}"
      font-size="${ct}px"
      font-weight="${a.typography.fontWeightBold}"
      fill="${a.colors.primary}">${on(Re)}</text>`)}for(let Re=0;Re<e.length;Re++){const ct=e[Re],Mt=h[Re],ee=u(ct);if(ct.type==="forest"||ct.type==="viz_bar"||ct.type==="viz_boxplot"||ct.type==="viz_violin")continue;const Be=Jg(t,ct),{textX:je,anchor:dn}=ba(Mt,ee,ct.align);if(ct.type==="bar"&&typeof t.metadata[ct.field]=="number"){const _t=t.metadata[ct.field],Tt=f.get(ct.field),Ue=((T=(A=ct.options)==null?void 0:A.bar)==null?void 0:T.maxValue)??Tt??100,Xe=((P=(B=ct.options)==null?void 0:B.bar)==null?void 0:P.color)??a.colors.primary,Ce=a.shapes.pointSize*2,sn=ee-Fe.TEXT_PADDING*2-50,qt=Math.min(_t/Ue*sn,sn),At=t.style,Ie=At!=null&&At.bold||At!=null&&At.emphasis?a.typography.fontWeightBold:a.typography.fontWeightNormal;d.push(`<rect x="${Mt+Fe.TEXT_PADDING}" y="${i+o/2-Ce/2}"
        width="${Math.max(0,qt)}" height="${Ce}"
        fill="${Xe}" opacity="0.7" rx="2"/>`),d.push(`<text class="cell-text" x="${Mt+ee-Fe.TEXT_PADDING}" y="${v}"
        font-family="${a.typography.fontFamily}"
        font-size="${g}px"
        font-weight="${Ie}"
        text-anchor="end"
        fill="${a.colors.foreground}">${Qi(_t)}</text>`)}else if(ct.type==="sparkline"&&Array.isArray(t.metadata[ct.field])){let _t=t.metadata[ct.field];Array.isArray(_t[0])&&(_t=_t[0]);const Tt=((Y=(K=ct.options)==null?void 0:K.sparkline)==null?void 0:Y.height)??16,Ue=((O=($=ct.options)==null?void 0:$.sparkline)==null?void 0:O.color)??a.colors.primary,Xe=Fe.TEXT_PADDING*2,Ce=tv(_t,Mt+Fe.TEXT_PADDING,i+o/2-Tt/2,ee-Xe,Tt);d.push(`<path d="${Ce}" fill="none" stroke="${Ue}" stroke-width="1.5"/>`)}else if(ct.type==="badge"){const _t=t.metadata[ct.field];if(_t!=null){const Tt=String(_t),Ue=g*.85,Xe=Ue+8,Ce=(ft=(U=ct.options)==null?void 0:U.badge)==null?void 0:ft.variants,Cn=(it=(rt=ct.options)==null?void 0:rt.badge)==null?void 0:it.colors;let sn=a.colors.primary,qt=a.colors.primary;if(Cn&&Tt in Cn)sn=Cn[Tt],qt=Cn[Tt];else if(Ce&&Tt in Ce){const wn=Ce[Tt];sn={default:a.colors.primary,...Ao,muted:a.colors.muted}[wn]??a.colors.primary,qt=sn}const Ie=xa(Tt,Ue,a.typography.fontFamily,a.typography.fontWeightBold)+12,or=ct.align==="right"?Mt+ee-Fe.TEXT_PADDING-Ie:ct.align==="center"?Mt+(ee-Ie)/2:Mt+Fe.TEXT_PADDING,mr=i+(o-Xe)/2;d.push(`<rect x="${or}" y="${mr}" width="${Ie}" height="${Xe}"
          rx="${Xe/2}" fill="${sn}" opacity="0.15"/>`),d.push(`<text class="cell-text" x="${or+Ie/2}" y="${mr+Xe/2}"
          text-anchor="middle"
          font-family="${a.typography.fontFamily}"
          font-size="${Ue}px"
          font-weight="${a.typography.fontWeightBold}"
          fill="${qt}">${on(Tt)}</text>`)}}else if(ct.type==="stars"){const _t=t.metadata[ct.field];if(typeof _t=="number"){const Tt=((lt=(et=ct.options)==null?void 0:et.stars)==null?void 0:lt.maxStars)??5,Ue=((Zt=(Yt=ct.options)==null?void 0:Yt.stars)==null?void 0:Zt.color)??"#f59e0b",Xe=((xt=(pt=ct.options)==null?void 0:pt.stars)==null?void 0:xt.emptyColor)??"#d1d5db",Ce=Math.max(0,Math.min(Tt,_t)),Cn=Math.floor(Ce),sn=((oe=(ie=ct.options)==null?void 0:ie.stars)==null?void 0:oe.halfStars)&&Ce-Cn>=.5,qt=12,At=2,Ie=Tt*qt+(Tt-1)*At;let or=ct.align==="right"?Mt+ee-Fe.TEXT_PADDING-Ie:ct.align==="center"?Mt+(ee-Ie)/2:Mt+Fe.TEXT_PADDING;const mr=i+(o-qt)/2,wn=(Je,Tn,Xr)=>{const bn=Xr/2,Ye=bn*.4;let hn="";for(let Ln=0;Ln<5;Ln++){const ro=(Ln*72-90)*Math.PI/180,k=(Ln*72+36-90)*Math.PI/180,F=Je+bn*Math.cos(ro),X=Tn+bn*Math.sin(ro),tt=Je+Ye*Math.cos(k),bt=Tn+Ye*Math.sin(k);hn+=(Ln===0?`M${F},${X}`:`L${F},${X}`)+`L${tt},${bt}`}return hn+"Z"};for(let Je=0;Je<Tt;Je++){const Tn=or+qt/2,Xr=mr+qt/2,Ye=Je<Cn||Je===Cn&&sn?Ue:Xe;d.push(`<path d="${wn(Tn,Xr,qt)}" fill="${Ye}"/>`),or+=qt+At}}}else{const _t=(te=t.cellStyles)==null?void 0:te[ct.field],Tt=t.style;let Ue=a.typography.fontWeightNormal;(_t!=null&&_t.bold||_t!=null&&_t.emphasis||Tt!=null&&Tt.bold||Tt!=null&&Tt.emphasis)&&(Ue=a.typography.fontWeightBold);let Xe="normal";(_t!=null&&_t.italic||Tt!=null&&Tt.italic)&&(Xe="italic");let Ce=a.colors.foreground;_t!=null&&_t.color?Ce=_t.color:_t!=null&&_t.muted?Ce=a.colors.muted:_t!=null&&_t.accent?Ce=a.colors.accent:Tt!=null&&Tt.color?Ce=Tt.color:Tt!=null&&Tt.muted?Ce=a.colors.muted:Tt!=null&&Tt.accent&&(Ce=a.colors.accent),d.push(`<text class="cell-text" x="${je}" y="${v}"
        font-family="${a.typography.fontFamily}"
        font-size="${g}px"
        font-weight="${Ue}"
        font-style="${Xe}"
        text-anchor="${dn}"
        fill="${Ce}">${on(Be)}</text>`)}}return d.join(`
`)}function dv(t,e,r,i,o,a){if(Array.isArray(r.axis.tickValues)&&r.axis.tickValues.length>0){const[b,E]=t.domain();let L=r.axis.tickValues.filter(T=>T>=b&&T<=E);const H=r.axis.nullTick!==!1,A=i>=b&&i<=E;return H&&A&&!L.includes(i)&&(L=[...L,i].sort((T,B)=>T-B)),L}const[s,c]=t.domain(),f=r.axis.nullTick!==!1,l=i>=s&&i<=c,u=ss.MIN_TICK_SPACING,h=Math.max(2,Math.floor(o/u)),d=Math.min(e,Math.min(7,h)),g=a&&a.length>0?a.filter(b=>b>=s&&b<=c):t.ticks(d);if(g.length===0)return f&&l?[i]:[];const v=t(i),y=g.filter(b=>b<i).reverse(),_=g.filter(b=>b>i),x=g.some(b=>b===i),M=[];let N=v;for(const b of y){const E=t(b);N-E>=u&&(M.unshift(b),N=E)}const R=[];let w=v;for(const b of _){const E=t(b);E-w>=u&&(R.push(b),w=E)}const C=[...M];if((x||f&&l)&&C.push(i),C.push(...R),C.length<2){const b=new Set(C);b.has(s)||C.unshift(s),C.length<2&&!b.has(c)&&C.push(c)}return C}function Xc(t,e,r,i,o,a,s,c=1,f=.6){let u=`<line x1="${t}" x2="${t}" y1="${e}" y2="${r}"
    stroke="${o}" stroke-width="${c}" stroke-opacity="${f}" stroke-dasharray="${i==="dashed"?"6,4":i==="dotted"?"2,2":"none"}"/>`;if(s){const h=a.colors.secondary;u+=`<text x="${t}" y="${e-4}" text-anchor="middle"
      font-family="${a.typography.fontFamily}"
      font-size="${a.typography.fontSizeSm}"
      font-weight="${a.typography.fontWeightMedium}"
      fill="${h}">${on(s)}</text>`}return u}class Ci extends Error{constructor(e){super(`SVG Generator: ${e}`),this.name="SVGGeneratorError"}}function hv(t){if(!t||typeof t!="object")throw new Ci("Invalid spec: expected an object");const e=t;if(!e.data||typeof e.data!="object")throw new Ci("Invalid spec: missing or invalid 'data' property");const r=e.data;if(!Array.isArray(r.rows))throw new Ci("Invalid spec: 'data.rows' must be an array");if(!e.theme||typeof e.theme!="object")throw new Ci("Invalid spec: missing or invalid 'theme' property");const i=e.theme;if(!i.colors||typeof i.colors!="object")throw new Ci("Invalid spec: missing or invalid 'theme.colors'");if(!i.typography||typeof i.typography!="object")throw new Ci("Invalid spec: missing or invalid 'theme.typography'");if(!i.spacing||typeof i.spacing!="object")throw new Ci("Invalid spec: missing or invalid 'theme.spacing'")}function gv(t){var a;const r=Hs(t.columns,void 0).find(s=>s.type==="forest");if(!r||!((a=r.options)!=null&&a.forest))return{scale:"linear",nullValue:0,effects:[],axisLabel:"Effect",pointCol:null,lowerCol:null,upperCol:null};const i=r.options.forest,o=i.scale??"linear";return{scale:o,nullValue:i.nullValue??(o==="log"?1:0),effects:i.effects??[],axisLabel:i.axisLabel??"Effect",pointCol:i.point??null,lowerCol:i.lower??null,upperCol:i.upper??null}}function $c(t,e={}){var L,H,A,T,B;hv(t);const r=t.theme,i=r.spacing.padding,o=Array.isArray(t.columns)?t.columns:[],a=Ns(o),s=[];for(let P=0;P<a.length;P++)a[P].type==="forest"&&s.push(P);s.length>0;const c=[];for(let P=0;P<a.length;P++){const K=a[P];(K.type==="viz_bar"||K.type==="viz_boxplot"||K.type==="viz_violin")&&c.push({index:P,type:K.type,column:K})}const f=gv(t),l=Xg(t,e,f.nullValue),u=l.autoWidths,h=P=>{var Y,$,O,U,ft,rt,it,et;if(P.type==="forest"){const lt=u.get(P.id);return lt!==void 0?lt:typeof P.width=="number"?P.width:(($=(Y=P.options)==null?void 0:Y.forest)==null?void 0:$.width)??l.forestWidth}if(P.type==="viz_bar"){const lt=u.get(P.id);return lt!==void 0?lt:typeof P.width=="number"?P.width:((U=(O=P.options)==null?void 0:O.vizBar)==null?void 0:U.width)??l.forestWidth}if(P.type==="viz_boxplot"){const lt=u.get(P.id);return lt!==void 0?lt:typeof P.width=="number"?P.width:((rt=(ft=P.options)==null?void 0:ft.vizBoxplot)==null?void 0:rt.width)??l.forestWidth}if(P.type==="viz_violin"){const lt=u.get(P.id);return lt!==void 0?lt:typeof P.width=="number"?P.width:((et=(it=P.options)==null?void 0:it.vizViolin)==null?void 0:et.width)??l.forestWidth}const K=u.get(P.id);return K!==void 0?K:typeof P.width=="number"?P.width:Er.DEFAULT_COLUMN_WIDTH},d=[];let g=i+l.labelWidth;for(const P of a)d.push(g),g+=h(P);const v=[];v.push(`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg"
  width="${l.totalWidth}" height="${l.totalHeight}"
  viewBox="0 0 ${l.totalWidth} ${l.totalHeight}">
<style>
  text {
    font-variant-numeric: tabular-nums;
  }
  /* Use dominant-baseline for cell text to match CSS flex centering */
  .cell-text { dominant-baseline: central; }
</style>`);const y=e.backgroundColor??r.colors.background;if(v.push(`<rect width="100%" height="100%" fill="${y}"/>`),r.layout.containerBorder!==!1){const P=r.layout.containerBorderRadius??8;v.push(`<rect x="0.5" y="0.5"
      width="${l.totalWidth-1}" height="${l.totalHeight-1}"
      fill="none" stroke="${r.colors.border}" stroke-width="1"
      rx="${P}" ry="${P}"/>`)}v.push(Yg(t,l,r)),v.push(`<line x1="${i}" x2="${l.totalWidth-i}"
    y1="${l.mainY}" y2="${l.mainY}"
    stroke="${r.colors.border}" stroke-width="2"/>`);const _=l.mainY;v.push(fv(o,a,i,_,l.headerHeight,r,t.data.labelHeader??"Study",l.labelWidth,u,h)),v.push(`<line x1="${i}" x2="${l.totalWidth-i}"
    y1="${_+l.headerHeight}" y2="${_+l.headerHeight}"
    stroke="${r.colors.border}" stroke-width="2"/>`);const x=Oc(t),M=[],N=[];let R=0;for(const P of x){const Y=P.type==="data"&&((L=P.row.style)==null?void 0:L.type)==="spacer"?l.rowHeight/2:l.rowHeight;M.push(R),N.push(Y),R+=Y}const w=l.mainY+l.headerHeight;x.forEach((P,K)=>{var Y,$,O,U;if(P.type==="data"){const ft=P.row,rt=w+M[K],it=N[K];if((Y=ft.style)!=null&&Y.bg)v.push(`<rect x="${i}" y="${rt}"
          width="${l.totalWidth-i*2}" height="${it}"
          fill="${ft.style.bg}"/>`);else if((($=ft.style)==null?void 0:$.type)==="header")v.push(`<rect x="${i}" y="${rt}"
          width="${l.totalWidth-i*2}" height="${it}"
          fill="${r.colors.muted}" fill-opacity="0.1"/>`);else if(r.layout.banding&&!(((O=ft.style)==null?void 0:O.type)==="summary"||((U=ft.style)==null?void 0:U.type)==="spacer")){const Yt=K%2===1?r.colors.altBg:r.colors.rowBg;Yt!==r.colors.background&&v.push(`<rect x="${i}" y="${rt}"
              width="${l.totalWidth-i*2}" height="${it}"
              fill="${Yt}"/>`)}}});for(const P of s){const K=a[P],Y=d[P],$=h(K),O=(H=K.options)==null?void 0:H.forest,U=(O==null?void 0:O.scale)??"linear",ft=(O==null?void 0:O.nullValue)??(U==="log"?1:0),rt=(O==null?void 0:O.axisLabel)??"Effect",it=U==="log";let et=(O==null?void 0:O.effects)??[];const lt=(O==null?void 0:O.point)??null,Yt=(O==null?void 0:O.lower)??null,Zt=(O==null?void 0:O.upper)??null;et.length===0&&(lt||Yt||Zt)&&(et=[{pointCol:lt,lowerCol:Yt,upperCol:Zt}]);const pt={scale:U,nullValue:ft,effects:et,pointCol:(O==null?void 0:O.point)??null,lowerCol:(O==null?void 0:O.lower)??null,upperCol:(O==null?void 0:O.upper)??null},{scale:xt,clipBounds:ie,ticks:oe}=Ug(t,$,pt,e),te=Y+xt(ft);v.push(Xc(te,w,w+l.rowsHeight,"dashed",r.colors.muted,r));const Re=(O==null?void 0:O.annotations)??[];for(const ct of Re)if(ct.type==="reference_line"){const Mt=Y+xt(ct.x);v.push(Xc(Mt,w,w+l.rowsHeight,ct.style,ct.color??r.colors.accent,r,ct.label,ct.width??1,ct.opacity??.6))}if(x.forEach((ct,Mt)=>{if(ct.type==="data"){const ee=w+M[Mt]+N[Mt]/2;v.push(ev(ct.row,ee,Be=>Y+xt(Be),r,ft,et,t.data.weightCol,Y,$,ie,it))}}),t.data.overall&&l.showOverallSummary&&typeof t.data.overall.point=="number"&&!Number.isNaN(t.data.overall.point)&&typeof t.data.overall.lower=="number"&&!Number.isNaN(t.data.overall.lower)&&typeof t.data.overall.upper=="number"&&!Number.isNaN(t.data.overall.upper)){const ct=w+l.summaryYPosition;v.push(nv(t.data.overall.point,t.data.overall.lower,t.data.overall.upper,ct,xt,Y,$,r))}v.push(cv(xt,l,r,rt,Y,$,ft,oe))}const C=t.data.rows;for(const P of c){const K=P.column,Y=d[P.index],$=h(K);if(P.type==="viz_bar"){const O=(A=K.options)==null?void 0:A.vizBar;if(!O)continue;const U=av(C,O,$);x.forEach((ft,rt)=>{if(ft.type==="data"){const it=w+M[rt]+N[rt]/2,et=N[rt];v.push(rv(ft.row,it,et,Y,$,O,U,r))}}),O.showAxis!==!1&&(v.push(`<g transform="translate(0, ${w+l.plotHeight})">`),v.push(As(U,l,r,O.axisLabel,Y,$,O.nullValue)),v.push("</g>"))}else if(P.type==="viz_boxplot"){const O=(T=K.options)==null?void 0:T.vizBoxplot;if(!O)continue;const U=sv(C,O,$);x.forEach((ft,rt)=>{if(ft.type==="data"){const it=w+M[rt]+N[rt]/2,et=N[rt];v.push(iv(ft.row,it,et,Y,$,O,U,r))}}),O.showAxis!==!1&&(v.push(`<g transform="translate(0, ${w+l.plotHeight})">`),v.push(As(U,l,r,O.axisLabel,Y,$,O.nullValue)),v.push("</g>"))}else if(P.type==="viz_violin"){const O=(B=K.options)==null?void 0:B.vizViolin;if(!O)continue;const U=lv(C,O,$);x.forEach((ft,rt)=>{if(ft.type==="data"){const it=w+M[rt]+N[rt]/2,et=N[rt];v.push(ov(ft.row,it,et,Y,$,O,U,r))}}),O.showAxis!==!1&&(v.push(`<g transform="translate(0, ${w+l.plotHeight})">`),v.push(As(U,l,r,O.axisLabel,Y,$,O.nullValue)),v.push("</g>"))}}const b=l.mainY+l.headerHeight,E=Qg(C,a);return x.forEach((P,K)=>{var O,U,ft;const Y=b+M[K],$=N[K];if(P.type==="group_header")v.push(Kg(P.label,P.depth,P.rowCount,i,Y,$,l.totalWidth-i*2,r));else{const rt=P.row,it=P.depth;((O=rt.style)==null?void 0:O.type)==="spacer"||v.push(uv(rt,a,i,Y,$,r,l.labelWidth,it,E,u,h,d))}if(P.type==="data"){const rt=P.row,it=((U=rt.style)==null?void 0:U.type)==="summary",et=((ft=rt.style)==null?void 0:ft.type)==="spacer";it&&v.push(`<line x1="${i}" x2="${l.totalWidth-i}"
          y1="${Y}" y2="${Y}"
          stroke="${r.colors.border}" stroke-width="2"/>`),et||v.push(`<line x1="${i}" x2="${l.totalWidth-i}"
          y1="${Y+$}" y2="${Y+$}"
          stroke="${r.colors.border}" stroke-width="1"/>`)}else v.push(`<line x1="${i}" x2="${l.totalWidth-i}"
        y1="${Y+$}" y2="${Y+$}"
        stroke="${r.colors.border}" stroke-width="1"/>`)}),v.push(Zg(t,l,r)),v.push("</svg>"),v.join(`
`)}async function vv(t,e=2){return new Promise((r,i)=>{const o=new Image,a=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),s=URL.createObjectURL(a);o.onload=()=>{const c=document.createElement("canvas"),f=c.getContext("2d");if(!f){URL.revokeObjectURL(s),i(new Error("Failed to get canvas context"));return}c.width=o.width*e,c.height=o.height*e,f.scale(e,e),f.drawImage(o,0,0),c.toBlob(l=>{URL.revokeObjectURL(s),l?r(l):i(new Error("Failed to create PNG blob"))},"image/png",1)},o.onerror=()=>{URL.revokeObjectURL(s),i(new Error("Failed to load SVG image"))},o.src=s})}function pv(t,e){return $c(t,e)}async function mv(t,e,r=2){const i=$c(t,e);return vv(i,r)}function Uc(t,e){const r=URL.createObjectURL(t),i=document.createElement("a");i.href=r,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}function Yc(t){return`forest_plot_${new Date().toISOString().slice(0,19).replace(/[:-]/g,"")}.${t}`}Or[D]="src/components/ui/DownloadButton.svelte";var yv=V(It('<svg width="16" height="16" viewBox="0 0 24 24" class="spin svelte-15gslqv"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="31.4" stroke-dashoffset="10"></circle></svg>'),Or[D],[[76,6,[[77,8]]]]),_v=V(It('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>'),Or[D],[[80,6,[[81,8],[82,8],[83,8]]]]),xv=V(gt('<div class="download-dropdown svelte-15gslqv"><button class="dropdown-item svelte-15gslqv"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-15gslqv"><rect x="3" y="3" width="18" height="18" rx="2"></rect><text x="12" y="15" text-anchor="middle" font-size="8" fill="currentColor" stroke="none">SVG</text></svg> <span>Download SVG</span></button> <button class="dropdown-item svelte-15gslqv"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-15gslqv"><rect x="3" y="3" width="18" height="18" rx="2"></rect><circle cx="8.5" cy="8.5" r="1.5" fill="currentColor"></circle><path d="M21 15l-5-5L5 21"></path></svg> <span>Download PNG</span></button></div>'),Or[D],[[89,4,[[90,6,[[91,8,[[92,10],[93,10]]],[95,8]]],[97,6,[[98,8,[[99,10],[100,10],[101,10]]],[103,8]]]]]]),wv=V(gt('<div class="download-button-wrapper svelte-15gslqv"><button class="download-btn svelte-15gslqv" aria-label="Download plot"><!></button> <!></div>'),Or[D],[[66,0,[[67,2]]]]);function Or(t,e){Se(new.target),ye(e,!0,Or);let r=p(St(!1),"dropdownOpen"),i=p(St(!1),"isExporting"),o=p(St(null),"triggerEl");function a(){st(r,!1)}async function s(){if(e.store.spec)try{st(i,!0);const x=e.store.getExportDimensions(),M=pv(e.store.spec,x),N=new Blob([M],{type:"image/svg+xml;charset=utf-8"});Uc(N,Yc("svg"))}catch(x){console.error(...Ol("error","Failed to export SVG:",x))}finally{st(i,!1),a()}}async function c(){if(e.store.spec)try{st(i,!0);const x=e.store.getExportDimensions(),M=(await su(mv(e.store.spec,x,2)))();Uc(M,Yc("png"))}catch(x){console.error(...Ol("error","Failed to export PNG:",x))}finally{st(i,!1),a()}}function f(x){x.target.closest(".download-button-wrapper")||a()}var l={...Ee()},u=wv();Gn("click",ji,f);var h=Z(u);h.__click=()=>st(r,!n(r));var d=Z(h);{var g=x=>{var M=yv();z(x,M)},v=x=>{var M=_v();z(x,M)};I(()=>q(d,x=>{n(i)?x(g):x(v,!1)}),"if",Or,75,4)}ei(h,x=>st(o,x),()=>n(o));var y=nt(h,2);{var _=x=>{var M=xv(),N=Z(M);N.__click=s;var R=nt(N,2);R.__click=c,aa(M,(w,C)=>Vr==null?void 0:Vr(w,C),()=>({triggerEl:n(o)})),J(()=>{N.disabled=n(i),R.disabled=n(i)}),z(x,M)};I(()=>q(y,x=>{n(r)&&x(_)}),"if",Or,88,2)}return J(()=>{W(h,"aria-expanded",n(r)),h.disabled=n(i)}),z(t,u),_e(l)}Jr(["click"]),Ma[D]="src/components/ui/ResetButton.svelte";var bv=V(gt('<button class="reset-btn svelte-uej7wa" title="Reset view" aria-label="Reset view to default settings"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button>'),Ma[D],[[15,0,[[21,2,[[22,4],[23,4]]]]]]);function Ma(t,e){Se(new.target),ye(e,!0,Ma);function r(){e.store.resetState()}var i={...Ee()},o=bv();return o.__click=r,z(t,o),_e(i)}Jr(["click"]),zn[D]="src/components/ui/ZoomControls.svelte";var Mv=V(gt('<div class="clamped-note svelte-19w48ay"> </div>'),zn[D],[[140,8]]),Sv=V(gt('<button class="action-btn svelte-19w48ay" title="Reset to 100% (Cmd 0)"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-19w48ay"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg> Reset to 100%</button>'),zn[D],[[147,8,[[152,10,[[153,12],[154,12]]]]]]),Ev=V(gt("<option> </option>"),zn[D],[[198,14]]),kv=V(gt("<option> </option>"),zn[D],[[212,14]]),Cv=V(gt('<div class="zoom-dropdown svelte-19w48ay"><div class="zoom-row svelte-19w48ay"><button class="zoom-btn svelte-19w48ay" title="Zoom out (Cmd -)" aria-label="Zoom out"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="5" y1="12" x2="19" y2="12"></line></svg></button> <input type="range" class="zoom-slider svelte-19w48ay" min="50" max="200" step="5" title="Zoom level" aria-label="Zoom level"/> <button class="zoom-btn svelte-19w48ay" title="Zoom in (Cmd +)" aria-label="Zoom in"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg></button> <span class="zoom-value svelte-19w48ay"> </span></div> <!> <!> <div class="divider svelte-19w48ay"></div> <button class="action-btn svelte-19w48ay" title="Fit to container width (Cmd 1)"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-19w48ay"><path d="M21 12H3M21 12l-4-4m4 4l-4 4M3 12l4-4m-4 4l4 4"></path></svg> Fit to width</button> <label class="checkbox-row svelte-19w48ay"><input type="checkbox" class="svelte-19w48ay"/> <span>Auto-fit</span> <span class="checkbox-hint svelte-19w48ay">Shrink if too large</span></label> <div class="divider svelte-19w48ay"></div> <div class="section-label svelte-19w48ay">Max Size</div> <div class="select-row svelte-19w48ay"><label class="svelte-19w48ay"><span class="select-label svelte-19w48ay">Width</span> <select class="svelte-19w48ay"></select></label></div> <div class="select-row svelte-19w48ay"><label class="svelte-19w48ay"><span class="select-label svelte-19w48ay">Height</span> <select class="svelte-19w48ay"></select></label></div></div>'),zn[D],[[97,4,[[99,6,[[100,8,[[106,10,[[107,12]]]]],[111,8],[123,8,[[129,10,[[130,12],[131,12]]]]],[135,8]]],[160,6],[163,6,[[168,8,[[169,10]]]]],[175,6,[[176,8],[181,8],[182,8]]],[185,6],[188,6],[190,6,[[191,8,[[192,10],[193,10]]]]],[204,6,[[205,8,[[206,10],[207,10]]]]]]]]),Tv=V(gt('<div class="zoom-controls-wrapper svelte-19w48ay"><button class="zoom-trigger-btn svelte-19w48ay" aria-label="Zoom and display options"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path><path d="M11 8v6"></path><path d="M8 11h6"></path></svg> <span class="zoom-text svelte-19w48ay"> </span></button> <!></div>'),zn[D],[[76,0,[[78,2,[[87,4,[[88,6],[89,6],[90,6],[91,6]]],[93,4]]]]]]);function zn(t,e){Se(new.target),ye(e,!0,zn);let r=p(St(!1),"dropdownOpen"),i=p(St(null),"triggerEl");const o=p(m(()=>e.store.zoom),"zoom"),a=p(m(()=>e.store.autoFit),"autoFit"),s=p(m(()=>e.store.actualScale),"actualScale"),c=p(m(()=>e.store.isClamped),"isClamped"),f=p(m(()=>e.store.maxWidth),"maxWidth"),l=p(m(()=>e.store.maxHeight),"maxHeight"),u=p(m(()=>Math.round(n(s)*100)),"displayPercent"),h=p(m(()=>Math.round(n(o)*100)),"zoomPercent"),d=[{value:null,label:"None"},{value:600,label:"600px"},{value:800,label:"800px"},{value:1e3,label:"1000px"},{value:1200,label:"1200px"}],g=[{value:null,label:"None"},{value:400,label:"400px"},{value:600,label:"600px"},{value:800,label:"800px"}];function v(){st(r,!1)}function y(H){const A=H.target;e.store.setZoom(parseFloat(A.value)/100)}function _(H){const A=H.target,T=S(A.value,"null")?null:parseInt(A.value);e.store.setMaxWidth(T)}function x(H){const A=H.target,T=S(A.value,"null")?null:parseInt(A.value);e.store.setMaxHeight(T)}function M(H){H.target.closest(".zoom-controls-wrapper")||v()}var N={...Ee()},R=Tv();Gn("click",ji,M);var w=Z(R);w.__click=()=>st(r,!n(r));var C=nt(Z(w),2),b=Z(C);ei(w,H=>st(i,H),()=>n(i));var E=nt(w,2);{var L=H=>{var A=Cv(),T=Z(A),B=Z(T);B.__click=()=>e.store.zoomOut();var P=nt(B,2);P.__change=y;var K=nt(P,2);K.__click=()=>e.store.zoomIn();var Y=nt(K,2),$=Z(Y),O=nt(T,2);{var U=ct=>{var Mt=Mv(),ee=Z(Mt);J(()=>Vt(ee,`Showing ${n(u)??""}% (auto-fit)`)),z(ct,Mt)};I(()=>q(O,ct=>{n(c)&&ct(U)}),"if",zn,139,6)}var ft=nt(O,2);{var rt=ct=>{var Mt=Sv();Mt.__click=()=>e.store.resetZoom(),z(ct,Mt)};I(()=>q(ft,ct=>{S(n(o),1,!1)&&ct(rt)}),"if",zn,146,6)}var it=nt(ft,4);it.__click=()=>e.store.fitToWidth();var et=nt(it,2),lt=Z(et);lt.__change=ct=>e.store.setAutoFit(ct.target.checked);var Yt=nt(et,6),Zt=Z(Yt),pt=nt(Z(Zt),2);pt.__change=_,I(()=>He(pt,21,()=>d,Yn,(ct,Mt)=>{var ee=Ev(),Be=Z(ee,!0);var je={};J(()=>{Vt(Be,n(Mt).label),je!==(je=S(n(Mt).value,null)?"null":n(Mt).value)&&(ee.value=(ee.__value=S(n(Mt).value,null)?"null":n(Mt).value)??"")}),z(ct,ee)}),"each",zn,197,12);var xt;Ll(pt);var ie=nt(Yt,2),oe=Z(ie),te=nt(Z(oe),2);te.__change=x,I(()=>He(te,21,()=>g,Yn,(ct,Mt)=>{var ee=kv(),Be=Z(ee,!0);var je={};J(()=>{Vt(Be,n(Mt).label),je!==(je=S(n(Mt).value,null)?"null":n(Mt).value)&&(ee.value=(ee.__value=S(n(Mt).value,null)?"null":n(Mt).value)??"")}),z(ct,ee)}),"each",zn,211,12);var Re;Ll(te),aa(A,(ct,Mt)=>Vr==null?void 0:Vr(ct,Mt),()=>({triggerEl:n(i)})),J(()=>{Bl(P,n(h)),Vt($,`${n(h)??""}%`),Ku(lt,n(a)),xt!==(xt=S(n(f),null)?"null":n(f))&&(pt.value=(pt.__value=S(n(f),null)?"null":n(f))??"",os(pt,S(n(f),null)?"null":n(f))),Re!==(Re=S(n(l),null)?"null":n(l))&&(te.value=(te.__value=S(n(l),null)?"null":n(l))??"",os(te,S(n(l),null)?"null":n(l)))}),z(H,A)};I(()=>q(E,H=>{n(r)&&H(L)}),"if",zn,96,2)}return J(()=>{W(w,"aria-expanded",n(r)),W(w,"title",`Zoom: ${n(u)??""}%`),Vt(b,`${n(u)??""}%`)}),z(t,R),_e(N)}Jr(["click","change"]),Fn[D]="src/components/ui/ControlToolbar.svelte";var Nv=V(gt('<div class="control-toolbar svelte-rjvd17"><!> <!> <!> <!> <!></div>'),Fn[D],[[37,0]]);function Fn(t,e){Se(new.target),ye(e,!0,Fn);let r=Vn(e,"enableExport",3,!0),i=Vn(e,"enableThemes",3,void 0),o=Vn(e,"enableViewToggle",3,!0),a=Vn(e,"enableZoomControls",3,!0),s=Vn(e,"enableReset",3,!0);const c=p(m(()=>a()&&e.store.showZoomControls),"showZoomControls"),f=p(m(()=>S(i(),null,!1)),"showThemeSwitcher");var l={...Ee()},u=Nv(),h=Z(u);{var d=w=>{I(()=>zn(w,{get store(){return e.store}}),"component",Fn,39,4,{componentTag:"ZoomControls"})};I(()=>q(h,w=>{n(c)&&w(d)}),"if",Fn,38,2)}var g=nt(h,2);{var v=w=>{I(()=>hr(w,{get store(){return e.store},get availableThemes(){return i()},get onThemeChange(){return e.onThemeChange}}),"component",Fn,42,4,{componentTag:"ThemeSwitcher"})};I(()=>q(g,w=>{n(f)&&w(v)}),"if",Fn,41,2)}var y=nt(g,2);{var _=w=>{I(()=>ki(w,{get store(){return e.store}}),"component",Fn,45,4,{componentTag:"ViewToggle"})};I(()=>q(y,w=>{o()&&w(_)}),"if",Fn,44,2)}var x=nt(y,2);{var M=w=>{I(()=>Ma(w,{get store(){return e.store}}),"component",Fn,48,4,{componentTag:"ResetButton"})};I(()=>q(x,w=>{s()&&w(M)}),"if",Fn,47,2)}var N=nt(x,2);{var R=w=>{I(()=>Or(w,{get store(){return e.store}}),"component",Fn,51,4,{componentTag:"DownloadButton"})};I(()=>q(N,w=>{r()&&w(R)}),"if",Fn,50,2)}return z(t,u),_e(l)}ii[D]="src/components/viz/VizBar.svelte";var Hv=V(It('<rect rx="2" class="bar-segment svelte-1pgs700"></rect>'),ii[D],[[107,8]]),Av=V(It('<g class="viz-bar-row svelte-1pgs700"></g>'),ii[D],[[96,2]]);function ii(t,e){Se(new.target),ye(e,!0,ii);const r=p(m(()=>{var _,x,M,N;if(e.sharedScale)return e.sharedScale;const d=S(e.options.scale,"log"),g=((x=(_=e.theme)==null?void 0:_.spacing)==null?void 0:x.padding)??12;let v=((M=e.options.axisRange)==null?void 0:M[0])??0,y=((N=e.options.axisRange)==null?void 0:N[1])??100;if(!e.options.axisRange){const R=[];for(const w of e.options.effects){const C=e.row.metadata[w.value];ge(C,null,!1)&&!Number.isNaN(C)&&R.push(C)}R.length>0&&(v=Math.min(0,...R),y=Math.max(...R)*1.1)}return d?Br().domain([Math.max(.01,v),y]).range([g,e.width-g]):tr().domain([v,y]).range([g,e.width-g])}),"xScale"),i=p(m(()=>{const d=e.options.effects.length,g=e.rowHeight*.7,v=d>1?2:0,y=(g-v*(d-1))/d;return{barHeight:Math.max(4,y),barGap:v,totalHeight:g}}),"barConfig"),o=p(m(()=>{var d,g;return((g=(d=e.theme)==null?void 0:d.shapes)==null?void 0:g.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function a(d,g){return d.color??n(o)[g%n(o).length]}function s(d){return d.opacity??.85}const c=p(m(()=>e.options.effects.some(d=>{const g=e.row.metadata[d.value];return ge(g,null,!1)&&!Number.isNaN(g)})),"hasValidData");var f={...Ee()},l=Ct(),u=mt(l);{var h=d=>{var g=Av();I(()=>He(g,21,()=>e.options.effects,Yn,(v,y,_)=>{const x=p(m(()=>e.row.metadata[n(y).value]),"value");n(x);var M=Ct(),N=mt(M);{var R=w=>{const C=p(m(()=>e.yPosition-n(i).totalHeight/2+_*(n(i).barHeight+n(i).barGap)),"barY");n(C);const b=p(m(()=>n(r)(Math.min(0,n(x)))),"barX");n(b);const E=p(m(()=>Math.abs(n(r)(n(x))-n(r)(0))),"barWidth");n(E);const L=p(m(()=>a(n(y),_)),"color");n(L);const H=p(m(()=>s(n(y))),"opacity");n(H);var A=Hv();J(T=>{W(A,"x",n(b)),W(A,"y",n(C)),W(A,"width",T),W(A,"height",n(i).barHeight),W(A,"fill",n(L)),W(A,"fill-opacity",n(H))},[()=>Math.max(1,n(E))]),z(w,A)};I(()=>q(N,w=>{ge(n(x),null,!1)&&!Number.isNaN(n(x))&&w(R)}),"if",ii,100,6)}z(v,M)}),"each",ii,98,4),z(d,g)};I(()=>q(u,d=>{n(c)&&d(h)}),"if",ii,95,0)}return z(t,l),_e(f)}vr[D]="src/components/viz/VizBoxplot.svelte";var Wv=V(It('<circle r="2.5" fill="none" stroke-width="1.5" class="outlier svelte-5apth9"></circle>'),vr[D],[[210,12]]),Rv=V(It('<line stroke-width="1"></line><line stroke-width="1"></line><line stroke-width="1"></line><line stroke-width="1"></line><rect stroke-width="1" class="box-rect svelte-5apth9"></rect><line stroke-width="2"></line><!>',1),vr[D],[[147,10],[156,10],[166,10],[175,10],[185,8],[198,8]]),Iv=V(It('<g class="viz-boxplot-row svelte-5apth9"></g>'),vr[D],[[135,2]]);function vr(t,e){Se(new.target),ye(e,!0,vr);const r=p(m(()=>e.options.effects.map(g=>{if(g.data){const v=e.row.metadata[g.data];return!v||!Array.isArray(v)||S(v.length,0)?null:_a(v)}if(g.min&&g.q1&&g.median&&g.q3&&g.max){const v=e.row.metadata[g.min],y=e.row.metadata[g.q1],_=e.row.metadata[g.median],x=e.row.metadata[g.q3],M=e.row.metadata[g.max];if([v,y,_,x,M].some(R=>ge(R,null)||Number.isNaN(R)))return null;let N=[];if(g.outliers){const R=e.row.metadata[g.outliers];R&&Array.isArray(R)&&(N=R)}return{min:v,q1:y,median:_,q3:x,max:M,outliers:N}}return null})),"effectStats"),i=p(m(()=>n(r).some(g=>S(g,null,!1))),"hasValidData"),o=p(m(()=>{var x,M,N,R;if(e.sharedScale)return e.sharedScale;const g=S(e.options.scale,"log"),v=((M=(x=e.theme)==null?void 0:x.spacing)==null?void 0:M.padding)??12;let y=(N=e.options.axisRange)==null?void 0:N[0],_=(R=e.options.axisRange)==null?void 0:R[1];if(ge(y,null)||ge(_,null)){const w=[];for(const C of n(r))C&&(w.push(C.min,C.max),S(e.options.showOutliers,!1,!1)&&w.push(...C.outliers));if(w.length>0){const C=Math.min(...w),b=Math.max(...w),E=b-C;y=y??C-E*.05,_=_??b+E*.05}else y=y??0,_=_??100}return g?Br().domain([Math.max(.01,y),_]).range([v,e.width-v]):tr().domain([y,_]).range([v,e.width-v])}),"xScale"),a=p(m(()=>{const g=e.options.effects.length,v=e.rowHeight*.7,y=(v-(g-1)*2)/g;return{boxHeight:Math.max(8,y),boxGap:g>1?2:0,totalHeight:v}}),"boxConfig"),s=p(m(()=>{var g,v;return((v=(g=e.theme)==null?void 0:g.shapes)==null?void 0:v.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function c(g,v){return g.color??n(s)[v%n(s).length]}function f(g){return g.fillOpacity??.7}var l={...Ee()},u=Ct(),h=mt(u);{var d=g=>{var v=Iv();I(()=>He(v,21,()=>e.options.effects,Yn,(y,_,x)=>{const M=p(m(()=>n(r)[x]),"stats");n(M);var N=Ct(),R=mt(N);{var w=C=>{const b=p(m(()=>e.yPosition-n(a).totalHeight/2+x*(n(a).boxHeight+n(a).boxGap)),"boxY");n(b);const E=p(m(()=>n(b)+n(a).boxHeight/2),"boxCenterY");n(E);const L=p(m(()=>c(n(_),x)),"color");n(L);const H=p(m(()=>f(n(_))),"opacity");n(H);const A=p(m(()=>{var rt;return((rt=e.theme)==null?void 0:rt.colors.foreground)??"#1a1a1a"}),"lineColor");n(A);var T=Rv(),B=mt(T),P=nt(B),K=nt(P),Y=nt(K),$=nt(Y),O=nt($),U=nt(O);{var ft=rt=>{var it=Ct(),et=mt(it);I(()=>He(et,17,()=>n(M).outliers,Yn,(lt,Yt)=>{var Zt=Wv();J(pt=>{W(Zt,"cx",pt),W(Zt,"cy",n(E)),W(Zt,"stroke",n(L))},[()=>n(o)(n(Yt))]),z(lt,Zt)}),"each",vr,209,10),z(rt,it)};I(()=>q(U,rt=>{S(e.options.showOutliers,!1,!1)&&n(M).outliers.length>0&&rt(ft)}),"if",vr,208,8)}J((rt,it,et,lt,Yt,Zt,pt,xt,ie,oe,te,Re)=>{W(B,"x1",rt),W(B,"x2",it),W(B,"y1",n(E)),W(B,"y2",n(E)),W(B,"stroke",n(A)),W(P,"x1",et),W(P,"x2",lt),W(P,"y1",n(E)-n(a).boxHeight/4),W(P,"y2",n(E)+n(a).boxHeight/4),W(P,"stroke",n(A)),W(K,"x1",Yt),W(K,"x2",Zt),W(K,"y1",n(E)),W(K,"y2",n(E)),W(K,"stroke",n(A)),W(Y,"x1",pt),W(Y,"x2",xt),W(Y,"y1",n(E)-n(a).boxHeight/4),W(Y,"y2",n(E)+n(a).boxHeight/4),W(Y,"stroke",n(A)),W($,"x",ie),W($,"y",n(b)),W($,"width",oe),W($,"height",n(a).boxHeight),W($,"fill",n(L)),W($,"fill-opacity",n(H)),W($,"stroke",n(A)),W(O,"x1",te),W(O,"x2",Re),W(O,"y1",n(b)),W(O,"y2",n(b)+n(a).boxHeight),W(O,"stroke",n(A))},[()=>n(o)(n(M).min),()=>n(o)(n(M).q1),()=>n(o)(n(M).min),()=>n(o)(n(M).min),()=>n(o)(n(M).q3),()=>n(o)(n(M).max),()=>n(o)(n(M).max),()=>n(o)(n(M).max),()=>n(o)(n(M).q1),()=>Math.max(2,n(o)(n(M).q3)-n(o)(n(M).q1)),()=>n(o)(n(M).median),()=>n(o)(n(M).median)]),z(C,T)};I(()=>q(R,C=>{n(M)&&C(w)}),"if",vr,138,6)}z(y,N)}),"each",vr,136,4),z(g,v)};I(()=>q(h,g=>{n(i)&&g(d)}),"if",vr,134,0)}return z(t,u),_e(l)}er[D]="src/components/viz/VizViolin.svelte";var zv=V(It('<line stroke-width="2"></line>'),er[D],[[165,10]]),Fv=V(It('<line stroke-width="1" stroke-dasharray="2,2"></line><line stroke-width="1" stroke-dasharray="2,2"></line>',1),er[D],[[179,10],[188,10]]),Pv=V(It('<path stroke-width="0.5" class="violin-path svelte-1ywbnva"></path><!><!>',1),er[D],[[153,8]]),Lv=V(It('<g class="viz-violin-row svelte-1ywbnva"></g>'),er[D],[[140,2]]);function er(t,e){Se(new.target),ye(e,!0,er);const r=p(m(()=>e.options.effects.map(y=>{const _=e.row.metadata[y.data];return!_||!Array.isArray(_)||_.length<2?null:Dc(_,e.options.bandwidth)})),"effectKDEs"),i=p(m(()=>e.options.effects.map(y=>{const _=e.row.metadata[y.data];return!_||!Array.isArray(_)||_.length<2?null:Lc(_)})),"effectQuartiles"),o=p(m(()=>n(r).some(y=>S(y,null,!1))),"hasValidData"),a=p(m(()=>{var N,R,w,C;if(e.sharedScale)return e.sharedScale;const y=S(e.options.scale,"log"),_=((R=(N=e.theme)==null?void 0:N.spacing)==null?void 0:R.padding)??12;let x=(w=e.options.axisRange)==null?void 0:w[0],M=(C=e.options.axisRange)==null?void 0:C[1];if(ge(x,null)||ge(M,null)){const b=[];for(const E of n(r))E&&E.x.length>0&&b.push(...E.x);b.length>0?(x=x??Math.min(...b),M=M??Math.max(...b)):(x=x??0,M=M??100)}return y?Br().domain([Math.max(.01,x),M]).range([_,e.width-_]):tr().domain([x,M]).range([_,e.width-_])}),"xScale"),s=p(m(()=>{const y=e.options.effects.length,_=e.rowHeight*.8,x=(_-(y-1)*2)/y;return{maxWidth:x/2,violinHeight:Math.max(10,x),gap:y>1?2:0,totalHeight:_}}),"violinConfig"),c=p(m(()=>{var y,_;return((_=(y=e.theme)==null?void 0:y.shapes)==null?void 0:_.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function f(y,_){return y.color??n(c)[_%n(c).length]}function l(y){return y.fillOpacity??.5}function u(y,_,x){if(y.x.length<2)return"";const M=Bc(y,x),N=[];for(let R=0;R<M.x.length;R++){const w=n(a)(M.x[R]),C=_-M.y[R];N.push(S(R,0)?`M ${w} ${C}`:`L ${w} ${C}`)}for(let R=M.x.length-1;R>=0;R--){const w=n(a)(M.x[R]),C=_+M.y[R];N.push(`L ${w} ${C}`)}return N.push("Z"),N.join(" ")}var h={...Ee()},d=Ct(),g=mt(d);{var v=y=>{var _=Lv();I(()=>He(_,21,()=>e.options.effects,Yn,(x,M,N)=>{const R=p(m(()=>n(r)[N]),"kde");n(R);const w=p(m(()=>n(i)[N]),"quartiles");n(w);var C=Ct(),b=mt(C);{var E=L=>{const H=p(m(()=>e.yPosition-n(s).totalHeight/2+n(s).violinHeight/2+N*(n(s).violinHeight+n(s).gap)),"violinCenterY");n(H);const A=p(m(()=>f(n(M),N)),"color");n(A);const T=p(m(()=>l(n(M))),"opacity");n(T);const B=p(m(()=>u(n(R),n(H),n(s).maxWidth)),"path");n(B);const P=p(m(()=>{var rt;return((rt=e.theme)==null?void 0:rt.colors.foreground)??"#1a1a1a"}),"lineColor");n(P);var K=Pv(),Y=mt(K),$=nt(Y);{var O=rt=>{const it=p(m(()=>n(a)(n(w).median)),"medianX");n(it);var et=zv();J(()=>{W(et,"x1",n(it)),W(et,"x2",n(it)),W(et,"y1",n(H)-n(s).maxWidth*.6),W(et,"y2",n(H)+n(s).maxWidth*.6),W(et,"stroke",n(P))}),z(rt,et)};I(()=>q($,rt=>{S(e.options.showMedian,!1,!1)&&n(w)&&rt(O)}),"if",er,163,8)}var U=nt($);{var ft=rt=>{const it=p(m(()=>n(a)(n(w).q1)),"q1X");n(it);const et=p(m(()=>n(a)(n(w).q3)),"q3X");n(et);var lt=Fv(),Yt=mt(lt),Zt=nt(Yt);J(()=>{W(Yt,"x1",n(it)),W(Yt,"x2",n(it)),W(Yt,"y1",n(H)-n(s).maxWidth*.4),W(Yt,"y2",n(H)+n(s).maxWidth*.4),W(Yt,"stroke",n(P)),W(Zt,"x1",n(et)),W(Zt,"x2",n(et)),W(Zt,"y1",n(H)-n(s).maxWidth*.4),W(Zt,"y2",n(H)+n(s).maxWidth*.4),W(Zt,"stroke",n(P))}),z(rt,lt)};I(()=>q(U,rt=>{e.options.showQuartiles&&n(w)&&rt(ft)}),"if",er,176,8)}J(()=>{W(Y,"d",n(B)),W(Y,"fill",n(A)),W(Y,"fill-opacity",n(T)),W(Y,"stroke",n(P))}),z(L,K)};I(()=>q(b,L=>{n(R)&&n(R).x.length>=2&&L(E)}),"if",er,144,6)}z(x,C)}),"each",er,141,4),z(y,_)};I(()=>q(g,y=>{n(o)&&y(v)}),"if",er,139,0)}return z(t,d),_e(h)}G[D]="src/lib/ForestPlot.svelte";function Dv(t,e){var i,o;if((o=(i=e.options)==null?void 0:i.bar)!=null&&o.maxValue)return e.options.bar.maxValue;let r=0;for(const a of t){const s=a.metadata[e.field];S(typeof s,"number")&&s>r&&(r=s)}return r||100}function Bv(t,e,r){const i=[],o=S(t==null?void 0:t.type,"header")||S(t==null?void 0:t.type,"summary")||S(t==null?void 0:t.type,"spacer");return S(t==null?void 0:t.type,"header")&&i.push("row-header"),S(t==null?void 0:t.type,"summary")&&i.push("row-summary"),t!=null&&t.bold&&i.push("row-bold"),t!=null&&t.italic&&i.push("row-italic"),t!=null&&t.emphasis&&i.push("row-emphasis"),t!=null&&t.muted&&i.push("row-muted"),t!=null&&t.accent&&i.push("row-accent"),!o&&r&&S(e,void 0,!1)&&S(e%2,1)&&i.push("row-odd"),i.join(" ")}function Gv(t,e){const r=[];return t!=null&&t.color&&r.push(`color: ${t.color}`),t!=null&&t.bg&&r.push(`background-color: ${t.bg}`),t!=null&&t.indent&&r.push(`--row-indent: ${t.indent}`),!(t!=null&&t.indent)&&e&&e>0&&r.push(`--row-indent: ${e}`),r.join("; ")}function Vv(t,e){var r;if((r=t.cellStyles)!=null&&r[e.field])return t.cellStyles[e.field];if(e.styleMapping){const i={},o=t.metadata;if(e.styleMapping.bold&&o[e.styleMapping.bold]&&(i.bold=!!o[e.styleMapping.bold]),e.styleMapping.italic&&o[e.styleMapping.italic]&&(i.italic=!!o[e.styleMapping.italic]),e.styleMapping.color&&o[e.styleMapping.color]&&(i.color=String(o[e.styleMapping.color])),e.styleMapping.bg&&o[e.styleMapping.bg]&&(i.bg=String(o[e.styleMapping.bg])),e.styleMapping.badge&&o[e.styleMapping.badge]&&(i.badge=String(o[e.styleMapping.badge])),e.styleMapping.icon&&o[e.styleMapping.icon]&&(i.icon=String(o[e.styleMapping.icon])),Object.keys(i).length>0)return i}}var Ov=V(gt('<div class="resize-handle svelte-14l8yxx"></div>'),G[D],[[941,12]]),jv=V(gt('<div class="grid-cell header-cell column-group-header svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span></div>'),G[D],[[952,12,[[957,14]]]]),qv=V(gt('<span class="header-text svelte-14l8yxx"> </span>'),G[D],[[978,16]]),Xv=V(gt('<div class="resize-handle svelte-14l8yxx"></div>'),G[D],[[982,16]]),$v=V(gt('<div class="grid-cell header-cell plot-header svelte-14l8yxx"><!> <!></div>'),G[D],[[971,12]]),Uv=V(gt('<div class="resize-handle svelte-14l8yxx"></div>'),G[D],[[1e3,16]]),Yv=V(gt('<div class="grid-cell header-cell svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span> <!></div>'),G[D],[[991,12,[[997,14]]]]),Zv=V(gt('<span class="row-icon svelte-14l8yxx"> </span>'),G[D],[[1047,35]]),Kv=V(gt('<span class="row-badge svelte-14l8yxx"> </span>'),G[D],[[1049,36]]),Qv=V(gt("<!> <!>",1),G[D],[]),Jv=V(gt("<div></div>"),G[D],[[1057,14]]),tp=V(gt("<div><!></div>"),G[D],[[1072,14]]),ep=V(gt("<div><!></div> <!>",1),G[D],[[1022,10]]),np=V(gt('<div class="grid-cell axis-cell svelte-14l8yxx"></div>'),G[D],[[1100,14]]),rp=V(gt('<div class="grid-cell axis-spacer svelte-14l8yxx"></div>'),G[D],[[1102,14]]),ip=V(gt('<!> <div class="grid-cell axis-spacer svelte-14l8yxx"></div>',1),G[D],[[1106,10]]),op=V(It('<text text-anchor="middle" font-size="var(--wf-font-size-sm)" font-weight="500" class="svelte-14l8yxx"> </text>'),G[D],[[1157,18]]),ap=V(It('<line class="svelte-14l8yxx"></line><!>',1),G[D],[[1145,16]]),sp=V(It('<g class="svelte-14l8yxx"><!></g>'),G[D],[[1218,14]]),lp=V(It('<svg class="plot-overlay svelte-14l8yxx"><line stroke="var(--wf-muted)" stroke-width="1" stroke-dasharray="4,4" class="svelte-14l8yxx"></line><!><!><!><!></svg>'),G[D],[[1120,10,[[1129,12]]]]),cp=V(It('<g class="svelte-14l8yxx"><!></g>'),G[D],[[1261,16]]),fp=V(It('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),G[D],[[1234,12]]),up=V(It('<g class="svelte-14l8yxx"><!></g>'),G[D],[[1314,16]]),dp=V(It('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),G[D],[[1287,12]]),hp=V(It('<g class="svelte-14l8yxx"><!></g>'),G[D],[[1367,16]]),gp=V(It('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),G[D],[[1340,12]]),vp=V(gt('<!> <div class="tabviz-scalable svelte-14l8yxx"><!>  <div class="tabviz-main svelte-14l8yxx"><div class="grid-cell header-cell label-header svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span> <!></div> <!> <!> <!> <!> <!> <!> <!></div> <!></div> <!>',1),G[D],[[855,4,[[930,6,[[933,8,[[938,10]]]]]]]]),pp=V(gt('<div class="tabviz-empty svelte-14l8yxx">No data</div>'),G[D],[[1392,4]]),mp=V(gt("<div><!></div>"),G[D],[[840,0]]);function G(t,e){Se(new.target),ye(e,!0,G);const r=p(m(()=>e.store.spec),"spec"),i=p(m(()=>e.store.visibleRows),"visibleRows"),o=p(m(()=>e.store.displayRows),"displayRows"),a=p(m(()=>e.store.layout),"layout"),s=p(m(()=>e.store.xScale),"xScale"),c=p(m(()=>e.store.axisComputation),"axisComputation"),f=p(m(()=>n(c).axisLimits),"clipBounds"),l=p(m(()=>{var k;return(k=n(r))==null?void 0:k.theme}),"theme"),u=p(m(()=>{var k,F;return((F=(k=n(l))==null?void 0:k.layout)==null?void 0:F.banding)??!1}),"bandingEnabled"),h=p(m(()=>e.store.allColumns),"allColumns"),d=p(m(()=>e.store.allColumnDefs),"allColumnDefs"),g=p(m(()=>e.store.forestColumns),"forestColumns");p(m(()=>n(g).length>0),"hasForestColumns");const v=p(m(()=>e.store.vizColumns),"vizColumns"),y=p(m(()=>n(v).length>0),"hasVizColumns"),_=p(m(()=>{var k;return((k=n(r))==null?void 0:k.data.labelHeader)||"Study"}),"labelHeader"),x=p(m(()=>{var k,F,X,tt;return!!((F=(k=n(r))==null?void 0:k.labels)!=null&&F.title)||!!((tt=(X=n(r))==null?void 0:X.labels)!=null&&tt.subtitle)}),"hasPlotHeader");p(m(()=>n(d).some(k=>k.isGroup)),"hasColumnGroups");const M=p(m(()=>e.store.tooltipRow),"tooltipRow"),N=p(m(()=>e.store.tooltipPosition),"tooltipPosition"),R=p(m(()=>e.store.selectedRowIds),"selectedRowIds"),w=p(m(()=>e.store.hoveredRowId),"hoveredRowId"),C=p(m(()=>e.store.zoom),"zoom"),b=p(m(()=>e.store.autoFit),"autoFit"),E=p(m(()=>e.store.actualScale),"actualScale"),L=p(m(()=>e.store.maxWidth),"maxWidth"),H=p(m(()=>e.store.maxHeight),"maxHeight");p(m(()=>e.store.showZoomControls),"showZoomControls");const A=p(m(()=>({...e.store.columnWidths})),"columnWidthsSnapshot");let T=p(St(void 0),"containerRef"),B=p(St(void 0),"scalableRef"),P=p(St(0),"containerContentWidth"),K=p(St(0),"scalableNaturalWidth"),Y=p(St(0),"scalableNaturalHeight");p(m(()=>e.store.naturalContentWidth),"naturalContentWidth");const $=p(m(()=>n(K)*n(E)),"scaledWidth"),O=p(m(()=>n(Y)*n(E)),"scaledHeight"),U=p(m(()=>{if(!n(b)||n(P)<=0||n($)<=0)return 0;const k=(n(P)-n($))/2;return Math.max(0,k)}),"centeringMargin");Mo(()=>{if(!n(T)||!n(B))return;n(T).id&&e.store.setContainerElementId(n(T).id);const k=new ResizeObserver(F=>{for(const X of F)S(X.target,n(T))?(st(P,X.contentRect.width,!0),e.store.setContainerDimensions(X.contentRect.width,X.contentRect.height)):S(X.target,n(B))&&(st(K,X.contentRect.width,!0),st(Y,X.contentRect.height,!0),e.store.setScalableNaturalDimensions(X.contentRect.width,X.contentRect.height))});return k.observe(n(T)),k.observe(n(B)),()=>{k.disconnect()}});const ft=p(m(()=>{var k,F;return S((F=(k=n(r))==null?void 0:k.interaction)==null?void 0:F.enableExport,!1,!1)}),"enableExport"),rt=p(m(()=>{var k,F;return(F=(k=n(r))==null?void 0:k.interaction)==null?void 0:F.enableThemes}),"enableThemes");function it(k){var F;if(!(!k.metaKey&&!k.ctrlKey)&&!S((F=k.target)==null?void 0:F.tagName,"INPUT"))switch(k.key){case"=":case"+":k.preventDefault(),e.store.zoomIn();break;case"-":k.preventDefault(),e.store.zoomOut();break;case"0":k.preventDefault(),e.store.resetZoom();break;case"1":k.preventDefault(),e.store.fitToWidth();break}}const et=p(m(()=>{var tt;const k=[],F=[];let X=0;for(const bt of n(o)){const Et=S(bt.type,"data")&&S((tt=bt.row.style)==null?void 0:tt.type,"spacer")?n(a).rowHeight/2:n(a).rowHeight;k.push(X),F.push(Et),X+=Et}return{positions:k,heights:F,totalHeight:X}}),"rowLayout"),lt=p(m(()=>n(et).totalHeight),"rowsAreaHeight");function Yt(k){const F=k.filter(Et=>S(Et.type,"reference_line")&&Et.label).map(Et=>({id:Et.id,x:n(s)(Et.x),label:Et.label})).sort((Et,Ot)=>Et.x-Ot.x),X={},tt=120,bt=-18;for(let Et=0;Et<F.length;Et++){const Ot=F[Et];if(X[Ot.id]=0,Et>0){const Wt=F[Et-1];Ot.x-Wt.x<tt&&(X[Ot.id]=S(X[Wt.id],0)?bt:0)}}return X}function Zt(k){return n(R).has(k)}function pt(k,F){return S(k.type,"group_header")?`group_${k.group.id}`:k.row.id}function xt(k){return k.isGroup?k.columns.reduce((F,X)=>F+xt(X),0):1}function ie(k){let F=0;for(const X of k)if(X.isGroup){const tt=1+ie(X.columns);F=Math.max(F,tt)}return F}function oe(k,F){var ae,$e;const X=F==null?void 0:F.groupHeaders,tt=((ae=F==null?void 0:F.colors)==null?void 0:ae.primary)??"#0891b2",bt=(($e=F==null?void 0:F.colors)==null?void 0:$e.background)??"#ffffff";if(S(k,1)&&(X!=null&&X.level1Background))return X.level1Background;if(S(k,2)&&(X!=null&&X.level2Background))return X.level2Background;if(k>=3&&(X!=null&&X.level3Background))return X.level3Background;const Ot=[.15,.1,.06][Math.min(k-1,2)],Wt=Kt=>{const Nt=Kt.replace("#","");return{r:parseInt(Nt.substring(0,2),16),g:parseInt(Nt.substring(2,4),16),b:parseInt(Nt.substring(4,6),16)}},Ht=Wt(tt),Bt=Wt(bt),Dt=(Kt,Nt)=>Math.round(Kt*Ot+Nt*(1-Ot)),Ge=Dt(Ht.r,Bt.r),Gt=Dt(Ht.g,Bt.g),we=Dt(Ht.b,Bt.b);return`rgb(${Ge}, ${Gt}, ${we})`}const te=p(m(()=>Math.max(1,1+ie(n(d)))),"headerDepth"),Re=p(m(()=>{const k=[];let F=2;function X(tt,bt){const Et=xt(tt),Ot=F;if(tt.isGroup){k.push({col:tt,gridColumnStart:Ot,colspan:Et,rowStart:bt+1,rowSpan:1,isGroupHeader:!0,isForest:!1});for(const Wt of tt.columns)X(Wt,bt+1)}else{const Wt=!tt.isGroup&&Mt.includes(tt.type);k.push({col:tt,gridColumnStart:Ot,colspan:1,rowStart:bt+1,rowSpan:n(te)-bt,isGroupHeader:!1,isForest:Wt}),F++}}for(const tt of n(d))X(tt,0);return k}),"headerCells");function ct(k){const F=n(A)[k.id];return S(typeof F,"number")?`${F}px`:S(typeof k.width,"number")?`${k.width}px`:"max-content"}const Mt=["forest","viz_bar","viz_boxplot","viz_violin"],ee=p(m(()=>{var X,tt,bt,Et,Ot,Wt,Ht,Bt;const k=[],F=n(A).__label__;k.push(F?`${F}px`:"max-content");for(const Dt of n(h))if(Mt.includes(Dt.type)){const Ge=n(A)[Dt.id];let Gt;S(typeof Ge,"number")?Gt=Ge:S(typeof Dt.width,"number")?Gt=Dt.width:S(Dt.type,"forest")?Gt=((tt=(X=Dt.options)==null?void 0:X.forest)==null?void 0:tt.width)??n(a).forestWidth:S(Dt.type,"viz_bar")?Gt=((Et=(bt=Dt.options)==null?void 0:bt.vizBar)==null?void 0:Et.width)??n(a).forestWidth:S(Dt.type,"viz_boxplot")?Gt=((Wt=(Ot=Dt.options)==null?void 0:Ot.vizBoxplot)==null?void 0:Wt.width)??n(a).forestWidth:S(Dt.type,"viz_violin")?Gt=((Bt=(Ht=Dt.options)==null?void 0:Ht.vizViolin)==null?void 0:Bt.width)??n(a).forestWidth:Gt=n(a).forestWidth,k.push(`${Gt}px`)}else k.push(ct(Dt));return k.join(" ")}),"gridTemplateColumns");p(m(()=>1+n(h).length),"totalColumns");const Be=p(m(()=>{const k=[];for(let F=0;F<n(h).length;F++)Mt.includes(n(h)[F].type)&&k.push({gridCol:2+F,column:n(h)[F]});return k}),"vizColumnGridIndices");n(Be);let je=p(St(lr(new Map)),"forestColumnRefs"),dn=p(St(lr(new Map)),"forestColumnPositions"),_t=p(St(void 0),"labelHeaderRef"),Tt=p(St(0),"measuredHeaderHeight");Mo(()=>{n(A),n(a).forestWidth,n(te),Hu().then(()=>{const k=new Map;for(const[F,X]of n(je))X&&k.set(F,X.offsetLeft);st(dn,k,!0),n(_t)&&st(Tt,n(_t).offsetHeight,!0)})});function Ue(k,F){return n(je).set(F,k),st(je,new Map(n(je)),!0),{destroy(){n(je).delete(F),st(je,new Map(n(je)),!0)}}}const Xe=p(m(()=>n(Tt)>0?n(Tt):n(a).headerHeight),"actualHeaderHeight"),Ce=p(m(()=>{var X,tt,bt,Et,Ot,Wt,Ht,Bt,Dt;const k=new Map,F=An;for(const Ge of n(v)){const Gt=Ge.column,we=F;if(S(Gt.type,"viz_bar")){const ae=(X=Gt.options)==null?void 0:X.vizBar;if(!ae)continue;const $e=n(A)[Gt.id],Kt=S(typeof $e,"number")?$e:S(typeof Gt.width,"number")?Gt.width:ae.width??n(a).forestWidth;let Nt=(tt=ae.axisRange)==null?void 0:tt[0],ut=(bt=ae.axisRange)==null?void 0:bt[1];if(ge(Nt,null)||ge(ut,null)){const fe=[];for(const ze of n(o))if(S(ze.type,"data"))for(const Ve of ae.effects){const ue=ze.row.metadata[Ve.value];ge(ue,null,!1)&&!Number.isNaN(ue)&&fe.push(ue)}fe.length>0?(Nt=Nt??Math.min(0,...fe),ut=ut??Math.max(...fe)*1.1):(Nt=Nt??0,ut=ut??100)}const re=S(ae.scale,"log")?Br().domain([Math.max(.01,Nt),ut]).range([we,Kt-we]):tr().domain([Nt,ut]).range([we,Kt-we]);k.set(Gt.id,re)}else if(S(Gt.type,"viz_boxplot")){const ae=(Et=Gt.options)==null?void 0:Et.vizBoxplot;if(!ae)continue;const $e=n(A)[Gt.id],Kt=S(typeof $e,"number")?$e:S(typeof Gt.width,"number")?Gt.width:ae.width??n(a).forestWidth;let Nt=(Ot=ae.axisRange)==null?void 0:Ot[0],ut=(Wt=ae.axisRange)==null?void 0:Wt[1];if(ge(Nt,null)||ge(ut,null)){const fe=[];for(const ze of n(o))if(S(ze.type,"data")){for(const Ve of ae.effects)if(Ve.data){const ue=ze.row.metadata[Ve.data];if(ue&&Array.isArray(ue)){const Xt=_a(ue);fe.push(Xt.min,Xt.max),S(ae.showOutliers,!1,!1)&&fe.push(...Xt.outliers)}}else if(Ve.min&&Ve.max){const ue=ze.row.metadata[Ve.min],Xt=ze.row.metadata[Ve.max];ge(ue,null,!1)&&!Number.isNaN(ue)&&fe.push(ue),ge(Xt,null,!1)&&!Number.isNaN(Xt)&&fe.push(Xt)}}if(fe.length>0){const ze=Math.min(...fe),Ve=Math.max(...fe),ue=Ve-ze;Nt=Nt??ze-ue*.05,ut=ut??Ve+ue*.05}else Nt=Nt??0,ut=ut??100}const re=S(ae.scale,"log")?Br().domain([Math.max(.01,Nt),ut]).range([we,Kt-we]):tr().domain([Nt,ut]).range([we,Kt-we]);k.set(Gt.id,re)}else if(S(Gt.type,"viz_violin")){const ae=(Ht=Gt.options)==null?void 0:Ht.vizViolin;if(!ae)continue;const $e=n(A)[Gt.id],Kt=S(typeof $e,"number")?$e:S(typeof Gt.width,"number")?Gt.width:ae.width??n(a).forestWidth;let Nt=(Bt=ae.axisRange)==null?void 0:Bt[0],ut=(Dt=ae.axisRange)==null?void 0:Dt[1];if(ge(Nt,null)||ge(ut,null)){const fe=[];for(const ze of n(o))if(S(ze.type,"data"))for(const Ve of ae.effects){const ue=ze.row.metadata[Ve.data];ue&&Array.isArray(ue)&&fe.push(...ue.filter(Xt=>ge(Xt,null,!1)&&!Number.isNaN(Xt)))}if(fe.length>0){Nt=Nt??Math.min(...fe),ut=ut??Math.max(...fe);const ze=ut-Nt;Nt=Nt-ze*.1,ut=ut+ze*.1}else Nt=Nt??0,ut=ut??100}const re=S(ae.scale,"log")?Br().domain([Math.max(.01,Nt),ut]).range([we,Kt-we]):tr().domain([Nt,ut]).range([we,Kt-we]);k.set(Gt.id,re)}}return k}),"vizColumnScales"),Cn=p(m(()=>{var X;const k=new Map,F=An;for(const tt of n(g)){const bt=tt.column,Et=(X=bt.options)==null?void 0:X.forest,Ot=n(A)[bt.id],Wt=S(typeof Ot,"number")?Ot:S(typeof bt.width,"number")?bt.width:(Et==null?void 0:Et.width)??n(a).forestWidth,Ht=S(Et==null?void 0:Et.scale,"log"),Bt=n(c).axisLimits,Dt=F,Ge=Math.max(Wt-F,Dt+50);if(Ht){const Gt=[Math.max(Bt[0],.01),Math.max(Bt[1],.02)];k.set(bt.id,Br().domain(Gt).range([Dt,Ge]))}else k.set(bt.id,tr().domain(Bt).range([Dt,Ge]))}return k}),"forestColumnScales");p(St(!1),"resizingPlot");let sn=p(St(null),"resizingColumn"),qt=0,At=0;function Ie(k,F,X){var tt;(tt=n(r))!=null&&tt.interaction.enableResize&&(k.preventDefault(),k.stopPropagation(),st(sn,F,!0),qt=k.clientX,At=X,document.addEventListener("pointermove",or),document.addEventListener("pointerup",mr))}function or(k){if(!n(sn))return;const F=k.clientX-qt,X=Math.max(40,At+F);e.store.setColumnWidth(n(sn),X)}function mr(){st(sn,null),document.removeEventListener("pointermove",or),document.removeEventListener("pointerup",mr)}function wn(k,F){e.store.setHovered(k),e.store.setTooltip(k,{x:F.clientX,y:F.clientY})}function Je(){e.store.setHovered(null),e.store.setTooltip(null,null)}const Tn=p(m(()=>n(l)?`
      --wf-max-width: ${n(L)?`${n(L)}px`:"none"};
      --wf-max-height: ${n(H)?`${n(H)}px`:"none"};
      --wf-bg: ${n(l).colors.background};
      --wf-fg: ${n(l).colors.foreground};
      --wf-primary: ${n(l).colors.primary};
      --wf-secondary: ${n(l).colors.secondary};
      --wf-muted: ${n(l).colors.muted};
      --wf-border: ${n(l).colors.border};
      --wf-row-bg: ${n(l).colors.rowBg};
      --wf-alt-bg: ${n(l).colors.altBg};
      --wf-interval-line: ${n(l).colors.intervalLine};
      --wf-interval-positive: ${n(l).colors.intervalPositive};
      --wf-interval-negative: ${n(l).colors.intervalNegative};
      --wf-summary-fill: ${n(l).colors.summaryFill};
      --wf-summary-border: ${n(l).colors.summaryBorder};
      --wf-accent: ${n(l).colors.accent};
      --wf-badge-success: ${Ao.success};
      --wf-badge-warning: ${Ao.warning};
      --wf-badge-error: ${Ao.error};
      --wf-badge-info: ${Ao.info};
      --wf-badge-muted: ${n(l).colors.muted};
      --wf-font-family: ${n(l).typography.fontFamily};
      --wf-font-size-sm: ${n(l).typography.fontSizeSm};
      --wf-font-size-base: ${n(l).typography.fontSizeBase};
      --wf-font-size-lg: ${n(l).typography.fontSizeLg};
      --wf-font-weight-normal: ${n(l).typography.fontWeightNormal};
      --wf-font-weight-medium: ${n(l).typography.fontWeightMedium};
      --wf-font-weight-bold: ${n(l).typography.fontWeightBold};
      --wf-line-height: ${n(l).typography.lineHeight};
      --wf-header-font-scale: ${n(l).typography.headerFontScale??1.05};
      --wf-row-height: ${n(l).spacing.rowHeight}px;
      --wf-header-height: ${n(l).spacing.headerHeight}px;
      --wf-header-row-height: ${n(l).spacing.headerHeight/n(te)}px;
      --wf-header-depth: ${n(te)};
      --wf-padding: ${n(l).spacing.padding}px;
      --wf-container-padding: ${n(l).spacing.containerPadding}px;
      --wf-cell-padding-x: ${n(l).spacing.cellPaddingX}px;
      --wf-cell-padding-y: ${n(l).spacing.cellPaddingY}px;
      --wf-axis-gap: ${n(l).spacing.axisGap??Kn.DEFAULT_AXIS_GAP}px;
      --wf-axis-height: ${n(a).axisHeight}px;
      --wf-group-padding: ${n(l).spacing.groupPadding??8}px;
      --wf-column-gap: ${n(l).spacing.columnGap??8}px;
      --wf-plot-width: ${n(a).forestWidth}px;
      --wf-point-size: ${n(l).shapes.pointSize}px;
      --wf-line-width: ${n(l).shapes.lineWidth}px;
      --wf-border-radius: ${n(l).shapes.borderRadius}px;
      --wf-container-border: ${n(l).layout.containerBorder?"1px solid var(--wf-border)":"none"};
      --wf-container-border-radius: ${n(l).layout.containerBorderRadius}px;
      --wf-group-header-opacity: ${ad};
      --wf-row-hover-opacity: ${sd};
      --wf-row-selected-opacity: ${ld};
      --wf-row-selected-hover-opacity: ${cd};
      --wf-actual-scale: ${n(E)};
      --wf-zoom: ${n(C)};
    `.trim():""),"cssVars");var Xr={...Ee()},bn=mp();Gn("keydown",ji,it);let Ye;var hn=Z(bn);{var Ln=k=>{var F=vp(),X=mt(F);I(()=>Fn(X,{get store(){return e.store},get enableExport(){return n(ft)},get enableThemes(){return n(rt)},get onThemeChange(){return e.onThemeChange}}),"component",G,852,4,{componentTag:"ControlToolbar"});var tt=nt(X,2);let bt;{const ue=Wl(G,function(dt,at=po,Q=po){Il(...arguments);const Rt=p(m(()=>Vv(at(),Q())),"cellStyle");n(Rt);var ht=Ct(),Te=mt(ht);{var de=ve=>{{let Pe=m(()=>Dv(n(i),Q())),be=m(()=>{var wt;return(wt=Q().options)==null?void 0:wt.bar});I(()=>xi(ve,{get value(){return at().metadata[Q().field]},get maxValue(){return n(Pe)},get options(){return n(be)}}),"component",G,865,10,{componentTag:"CellBar"})}},Jt=ve=>{var Pe=Ct(),be=mt(Pe);{var wt=Lt=>{{let se=m(()=>{var Ae;return(Ae=Q().options)==null?void 0:Ae.pvalue});I(()=>Ui(Lt,{get value(){return at().metadata[Q().field]},get options(){return n(se)},get cellStyle(){return n(Rt)}}),"component",G,871,10,{componentTag:"CellPvalue"})}},kt=Lt=>{var se=Ct(),Ae=mt(se);{var vn=Ft=>{{let he=m(()=>{var yt;return(yt=Q().options)==null?void 0:yt.sparkline});I(()=>In(Ft,{get data(){return at().metadata[Q().field]},get options(){return n(he)}}),"component",G,877,10,{componentTag:"CellSparkline"})}},$t=Ft=>{var he=Ct(),yt=mt(he);{var ot=Qt=>{{let Me=m(()=>{var We;return(We=Q().options)==null?void 0:We.icon});I(()=>Po(Qt,{get value(){return at().metadata[Q().field]},get options(){return n(Me)}}),"component",G,882,10,{componentTag:"CellIcon"})}},Pt=Qt=>{var Me=Ct(),We=mt(Me);{var pe=Ze=>{{let pn=m(()=>{var ln;return(ln=Q().options)==null?void 0:ln.badge});I(()=>Lo(Ze,{get value(){return at().metadata[Q().field]},get options(){return n(pn)}}),"component",G,887,10,{componentTag:"CellBadge"})}},Ut=Ze=>{var pn=Ct(),ln=mt(pn);{var en=Le=>{{let io=m(()=>{var oo;return(oo=Q().options)==null?void 0:oo.stars});I(()=>Si(Le,{get value(){return at().metadata[Q().field]},get options(){return n(io)}}),"component",G,892,10,{componentTag:"CellStars"})}},me=Le=>{var io=Ct(),oo=mt(io);{var Ii=qn=>{{let so=m(()=>{var lo;return(lo=Q().options)==null?void 0:lo.img});I(()=>Ei(qn,{get value(){return at().metadata[Q().field]},get options(){return n(so)}}),"component",G,897,10,{componentTag:"CellImg"})}},ao=qn=>{var so=Ct(),lo=mt(so);{var Lp=co=>{{let Ca=m(()=>{var Ta;return(Ta=Q().options)==null?void 0:Ta.reference});I(()=>Gr(co,{get value(){return at().metadata[Q().field]},get metadata(){return at().metadata},get options(){return n(Ca)}}),"component",G,902,10,{componentTag:"CellReference"})}},Dp=co=>{var Ca=Ct(),Ta=mt(Ca);{var Bp=fo=>{{let Na=m(()=>{var Ha;return(Ha=Q().options)==null?void 0:Ha.range});I(()=>Do(fo,{get value(){return at().metadata[Q().field]},get metadata(){return at().metadata},get options(){return n(Na)}}),"component",G,908,10,{componentTag:"CellRange"})}},Gp=fo=>{var Na=Ct(),Ha=mt(Na);{var Vp=uo=>{{let Aa=m(()=>Qi(at().metadata[Q().field],Q().options));I(()=>dr(uo,{get value(){return n(Aa)},get cellStyle(){return n(Rt)}}),"component",G,914,10,{componentTag:"CellContent"})}},Op=uo=>{var Aa=Ct(),jp=mt(Aa);{var qp=ho=>{{let zi=m(()=>Es(at(),Q().options));I(()=>dr(ho,{get value(){return n(zi)},get cellStyle(){return n(Rt)}}),"component",G,916,10,{componentTag:"CellContent"})}},Xp=ho=>{var zi=Ct(),$p=mt(zi);{var Up=go=>{{let Rs=m(()=>{var rf,of,af,sf,lf,cf;return ks((of=(rf=Q().options)==null?void 0:rf.interval)!=null&&of.point?at().metadata[Q().options.interval.point]:void 0,(sf=(af=Q().options)==null?void 0:af.interval)!=null&&sf.lower?at().metadata[Q().options.interval.lower]:void 0,(cf=(lf=Q().options)==null?void 0:lf.interval)!=null&&cf.upper?at().metadata[Q().options.interval.upper]:void 0,Q().options)});I(()=>dr(go,{get value(){return n(Rs)},get cellStyle(){return n(Rt)}}),"component",G,918,10,{componentTag:"CellContent"})}},Yp=go=>{{let Rs=m(()=>at().metadata[Q().field]??"");I(()=>dr(go,{get value(){return n(Rs)},get cellStyle(){return n(Rt)}}),"component",G,925,10,{componentTag:"CellContent"})}};I(()=>q($p,go=>{S(Q().type,"interval")?go(Up):go(Yp,!1)},!0),"if",G,917,8)}z(ho,zi)};I(()=>q(jp,ho=>{var zi;S(Q().type,"custom")&&((zi=Q().options)!=null&&zi.events)?ho(qp):ho(Xp,!1)},!0),"if",G,915,8)}z(uo,Aa)};I(()=>q(Ha,uo=>{S(Q().type,"numeric")?uo(Vp):uo(Op,!1)},!0),"if",G,913,8)}z(fo,Na)};I(()=>q(Ta,fo=>{S(Q().type,"range")?fo(Bp):fo(Gp,!1)},!0),"if",G,907,8)}z(co,Ca)};I(()=>q(lo,co=>{S(Q().type,"reference")?co(Lp):co(Dp,!1)},!0),"if",G,901,8)}z(qn,so)};I(()=>q(oo,qn=>{S(Q().type,"img")?qn(Ii):qn(ao,!1)},!0),"if",G,896,8)}z(Le,io)};I(()=>q(ln,Le=>{S(Q().type,"stars")?Le(en):Le(me,!1)},!0),"if",G,891,8)}z(Ze,pn)};I(()=>q(We,Ze=>{S(Q().type,"badge")?Ze(pe):Ze(Ut,!1)},!0),"if",G,886,8)}z(Qt,Me)};I(()=>q(yt,Qt=>{S(Q().type,"icon")?Qt(ot):Qt(Pt,!1)},!0),"if",G,881,8)}z(Ft,he)};I(()=>q(Ae,Ft=>{S(Q().type,"sparkline")?Ft(vn):Ft($t,!1)},!0),"if",G,876,8)}z(Lt,se)};I(()=>q(be,Lt=>{S(Q().type,"pvalue")?Lt(wt):Lt(kt,!1)},!0),"if",G,870,8)}z(ve,Pe)};I(()=>q(Te,ve=>{S(Q().type,"bar")?ve(de):ve(Jt,!1)}),"if",G,864,8)}z(dt,ht)});var Et=Z(tt);{var Ot=dt=>{{let at=m(()=>{var Rt;return(Rt=n(r).labels)==null?void 0:Rt.title}),Q=m(()=>{var Rt;return(Rt=n(r).labels)==null?void 0:Rt.subtitle});I(()=>Jn(dt,{get title(){return n(at)},get subtitle(){return n(Q)}}),"component",G,858,8,{componentTag:"PlotHeader"})}};I(()=>q(Et,dt=>{n(x)&&dt(Ot)}),"if",G,857,6)}var Wt=nt(Et,2);let Xt;var Ht=Z(Wt);let gn;var Bt=Z(Ht),Dt=Z(Bt),Ge=nt(Bt,2);{var Gt=dt=>{var at=Ov();at.__pointerdown=Q=>Ie(Q,"__label__",n(A).__label__??150),z(dt,at)};I(()=>q(Ge,dt=>{var at;(at=n(r))!=null&&at.interaction.enableResize&&dt(Gt)}),"if",G,939,10)}ei(Ht,dt=>st(_t,dt),()=>n(_t));var we=nt(Ht,2);xn(()=>n(Re),dt=>dt.col.id),I(()=>He(we,17,()=>n(Re),dt=>dt.col.id,(dt,at)=>{var Q=Ct(),Rt=mt(Q);{var ht=de=>{var Jt=jv();let ve;var Pe=Z(Jt),be=Z(Pe,!0);J(()=>{ve=ke(Jt,"",ve,{"grid-column":`${n(at).gridColumnStart??""} / span ${n(at).colspan??""}`,"grid-row":`${n(at).rowStart??""} / span ${n(at).rowSpan??""}`}),Vt(be,n(at).col.header)}),z(de,Jt)},Te=de=>{var Jt=Ct(),ve=mt(Jt);{var Pe=wt=>{const kt=p(m(()=>n(at).col),"column");n(kt);const Lt=p(m(()=>{var yt,ot,Pt,Qt,Me,We,pe,Ut;return S(n(kt).type,"forest")?((ot=(yt=n(kt).options)==null?void 0:yt.forest)==null?void 0:ot.width)??n(a).forestWidth:S(n(kt).type,"viz_bar")?((Qt=(Pt=n(kt).options)==null?void 0:Pt.vizBar)==null?void 0:Qt.width)??n(a).forestWidth:S(n(kt).type,"viz_boxplot")?((We=(Me=n(kt).options)==null?void 0:Me.vizBoxplot)==null?void 0:We.width)??n(a).forestWidth:S(n(kt).type,"viz_violin")?((Ut=(pe=n(kt).options)==null?void 0:pe.vizViolin)==null?void 0:Ut.width)??n(a).forestWidth:n(a).forestWidth}),"vizDefaultWidth");n(Lt);var se=$v();let Ae;var vn=Z(se);{var $t=yt=>{var ot=qv(),Pt=Z(ot,!0);J(()=>Vt(Pt,n(kt).header)),z(yt,ot)};I(()=>q(vn,yt=>{n(kt).header&&yt($t)}),"if",G,977,14)}var Ft=nt(vn,2);{var he=yt=>{var ot=Xv();ot.__pointerdown=Pt=>Ie(Pt,n(kt).id,n(A)[n(kt).id]??n(Lt)),z(yt,ot)};I(()=>q(Ft,yt=>{var ot;(ot=n(r))!=null&&ot.interaction.enableResize&&yt(he)}),"if",G,980,14)}aa(se,(yt,ot)=>Ue==null?void 0:Ue(yt,ot),()=>n(kt).id),J(()=>Ae=ke(se,"",Ae,{"grid-column":n(at).gridColumnStart,"grid-row":`${n(at).rowStart??""} / span ${n(at).rowSpan??""}`})),z(wt,se)},be=wt=>{const kt=p(m(()=>n(at).col),"column");n(kt);var Lt=Yv();let se;var Ae=Z(Lt),vn=Z(Ae,!0);var $t=nt(Ae,2);{var Ft=he=>{var yt=Uv();yt.__pointerdown=ot=>Ie(ot,n(kt).id,n(A)[n(kt).id]??(S(typeof n(kt).width,"number")?n(kt).width:80)),z(he,yt)};I(()=>q($t,he=>{var yt;(yt=n(r))!=null&&yt.interaction.enableResize&&he(Ft)}),"if",G,998,14)}J(()=>{se=ke(Lt,"",se,{"grid-column":n(at).gridColumnStart,"grid-row":`${n(at).rowStart??""} / span ${n(at).rowSpan??""}`,"text-align":n(kt).headerAlign??n(kt).align}),Vt(vn,n(kt).header)}),z(wt,Lt)};I(()=>q(ve,wt=>{n(at).isForest?wt(Pe):wt(be,!1)},!0),"if",G,959,10)}z(de,Jt)};I(()=>q(Rt,de=>{n(at).isGroupHeader?de(ht):de(Te,!1)}),"if",G,950,10)}z(dt,Q)}),"each",G,949,8);var ae=nt(we,2);xn(()=>n(o),(dt,at)=>pt(dt)),I(()=>He(ae,19,()=>n(o),(dt,at)=>pt(dt,at),(dt,at,Q)=>{const Rt=p(m(()=>S(n(at).type,"group_header")),"isGroupHeader");n(Rt);const ht=p(m(()=>n(Rt)?null:n(at).row),"row");n(ht);const Te=p(m(()=>n(at).depth),"rowDepth");n(Te);const de=p(m(()=>n(ht)?Zt(n(ht).id):!1),"selected");n(de);const Jt=p(m(()=>n(ht)?Bv(n(ht).style,n(Q),n(u)):""),"rowClasses");n(Jt);const ve=p(m(()=>n(ht)?Gv(n(ht).style,n(Te)):""),"rowStyles");n(ve);const Pe=p(m(()=>{var yt,ot;return S((ot=(yt=n(ht))==null?void 0:yt.style)==null?void 0:ot.type,"spacer")}),"isSpacerRow");n(Pe);const be=p(m(()=>n(te)+1+n(Q)),"gridRow");n(be);const wt=p(m(()=>n(Rt)?oe(n(Te)+1,n(l)):void 0),"groupBg");n(wt);var kt=ep(),Lt=mt(kt);let se,Ae;Lt.__click=function(...yt){fr(()=>n(Rt)?()=>e.store.toggleGroup(n(at).group.id):n(ht)?()=>e.store.selectRow(n(ht).id):void 0,this,yt,G,[1034,21])},Lt.__keydown=function(...yt){fr(()=>n(Rt)?ot=>(S(ot.key,"Enter")||S(ot.key," "))&&e.store.toggleGroup(n(at).group.id):void 0,this,yt,G,[1035,23])};var vn=Z(Lt);{var $t=yt=>{{let ot=m(()=>n(at).depth+1);I(()=>$i(yt,{get group(){return n(at).group},get rowCount(){return n(at).rowCount},get level(){return n(ot)},get theme(){return n(l)}}),"component",G,1040,14,{componentTag:"GroupHeader"})}},Ft=yt=>{var ot=Ct(),Pt=mt(ot);{var Qt=Me=>{var We=Qv(),pe=mt(We);{var Ut=en=>{var me=Zv(),Le=Z(me,!0);J(()=>Vt(Le,n(ht).style.icon)),z(en,me)};I(()=>q(pe,en=>{var me;(me=n(ht).style)!=null&&me.icon&&en(Ut)}),"if",G,1047,14)}var Ze=nt(pe),pn=nt(Ze);{var ln=en=>{var me=Kv(),Le=Z(me,!0);J(()=>Vt(Le,n(ht).style.badge)),z(en,me)};I(()=>q(pn,en=>{var me;(me=n(ht).style)!=null&&me.badge&&en(ln)}),"if",G,1049,14)}J(()=>Vt(Ze,` ${n(ht).label??""} `)),z(Me,We)};I(()=>q(Pt,Me=>{n(ht)&&Me(Qt)},!0),"if",G,1046,12)}z(yt,ot)};I(()=>q(vn,yt=>{n(Rt)?yt($t):yt(Ft,!1)}),"if",G,1039,12)}var he=nt(Lt,2);xn(()=>n(h),yt=>yt.id),I(()=>He(he,17,()=>n(h),yt=>yt.id,(yt,ot)=>{var Pt=Ct(),Qt=mt(Pt);{var Me=pe=>{var Ut=Jv();let Ze,pn;Ut.__click=function(...ln){fr(()=>n(ht)?()=>e.store.selectRow(n(ht).id):void 0,this,ln,G,[1068,25])},J(()=>{Ze=fn(Ut,1,`grid-cell data-cell plot-cell ${n(Jt)??""}`,"svelte-14l8yxx",Ze,{"group-row":n(Rt),selected:n(de),hovered:n(ht)&&S(n(w),n(ht).id),"spacer-row":n(Pe)}),pn=ke(Ut,n(ve)||void 0,pn,{"grid-row":n(be),"background-color":n(wt)})}),Gn("mouseenter",Ut,function(...ln){fr(()=>n(ht)?en=>wn(n(ht).id,en):void 0,this,ln,G,[1066,30])}),Gn("mouseleave",Ut,function(...ln){fr(()=>n(ht)?()=>Je():void 0,this,ln,G,[1067,30])}),z(pe,Ut)},We=pe=>{var Ut=tp();let Ze,pn;Ut.__click=function(...me){fr(()=>n(ht)?()=>e.store.selectRow(n(ht).id):void 0,this,me,G,[1085,25])};var ln=Z(Ut);{var en=me=>{I(()=>ue(me,()=>n(ht),()=>n(ot)),"render",G,1088,18)};I(()=>q(ln,me=>{n(ht)&&me(en)}),"if",G,1087,16)}J(()=>{Ze=fn(Ut,1,`grid-cell data-cell ${n(Jt)??""}`,"svelte-14l8yxx",Ze,{"group-row":n(Rt),selected:n(de),hovered:n(ht)&&S(n(w),n(ht).id),"spacer-row":n(Pe),"wrap-enabled":n(ot).wrap}),pn=ke(Ut,n(ve)||void 0,pn,{"grid-row":n(be),"background-color":n(wt),"text-align":n(ot).align})}),Gn("mouseenter",Ut,function(...me){fr(()=>n(ht)?Le=>wn(n(ht).id,Le):void 0,this,me,G,[1083,30])}),Gn("mouseleave",Ut,function(...me){fr(()=>n(ht)?()=>Je():void 0,this,me,G,[1084,30])}),z(pe,Ut)};I(()=>q(Qt,pe=>{Mt.includes(n(ot).type)?pe(Me):pe(We,!1)}),"if",G,1055,12)}z(yt,Pt)}),"each",G,1054,10),J(()=>{var yt,ot,Pt,Qt;se=fn(Lt,1,`grid-cell data-cell label-cell ${n(Jt)??""}`,"svelte-14l8yxx",se,{"group-row":n(Rt),selected:n(de),hovered:n(ht)&&S(n(w),n(ht).id),"spacer-row":n(Pe)}),Ae=ke(Lt,n(ve)||void 0,Ae,{"grid-row":n(be),"background-color":n(wt),"padding-left":n(Rt)?`${n(Te)*12}px`:((ot=(yt=n(ht))==null?void 0:yt.style)==null?void 0:ot.indent)??n(Te)?`${(((Qt=(Pt=n(ht))==null?void 0:Pt.style)==null?void 0:Qt.indent)??n(Te))*12}px`:void 0}),W(Lt,"role",n(Rt)?"button":void 0),W(Lt,"tabindex",n(Rt)?0:void 0)}),Gn("mouseenter",Lt,function(...yt){fr(()=>n(ht)?ot=>wn(n(ht).id,ot):void 0,this,yt,G,[1036,26])}),Gn("mouseleave",Lt,function(...yt){fr(()=>n(ht)?()=>Je():void 0,this,yt,G,[1037,26])}),z(dt,kt)}),"each",G,1010,8);var $e=nt(ae,2);{var Kt=dt=>{const at=p(m(()=>n(te)+1+n(o).length),"axisRowNum");n(at);var Q=ip(),Rt=mt(Q);xn(()=>n(h),de=>de.id),I(()=>He(Rt,19,()=>n(h),de=>de.id,(de,Jt,ve)=>{var Pe=Ct(),be=mt(Pe);{var wt=Lt=>{var se=np();let Ae;J(()=>Ae=ke(se,"",Ae,{"grid-column":2+n(ve),"grid-row":n(at)})),z(Lt,se)},kt=Lt=>{var se=rp();let Ae;J(()=>Ae=ke(se,"",Ae,{"grid-column":2+n(ve),"grid-row":n(at)})),z(Lt,se)};I(()=>q(be,Lt=>{Mt.includes(n(Jt).type)?Lt(wt):Lt(kt,!1)}),"if",G,1099,12)}z(de,Pe)}),"each",G,1098,10);var ht=nt(Rt,2);let Te;J(()=>Te=ke(ht,"",Te,{"grid-column":"1","grid-row":n(at)})),z(dt,Q)};I(()=>q($e,dt=>{n(y)&&dt(Kt)}),"if",G,1096,8)}var Nt=nt($e,2);xn(()=>n(g),dt=>dt.column.id),I(()=>He(Nt,17,()=>n(g),dt=>dt.column.id,(dt,at)=>{const Q=p(m(()=>{var ot;return(ot=n(at).column.options)==null?void 0:ot.forest}),"forestOpts");n(Q);const Rt=p(m(()=>n(A)[n(at).column.id]),"dynamicForestWidth");n(Rt);const ht=p(m(()=>{var ot;return S(typeof n(Rt),"number")?n(Rt):S(typeof n(at).column.width,"number")?n(at).column.width:((ot=n(Q))==null?void 0:ot.width)??n(a).forestWidth}),"forestWidth");n(ht);const Te=p(m(()=>n(dn).get(n(at).column.id)??0),"forestLeft");n(Te);const de=p(m(()=>{var ot;return((ot=n(l))==null?void 0:ot.spacing.axisGap)??Kn.DEFAULT_AXIS_GAP}),"axisGap");n(de);const Jt=p(m(()=>{var ot;return((ot=n(Q))==null?void 0:ot.nullValue)??n(a).nullValue}),"nullValue");n(Jt);const ve=p(m(()=>{var ot;return((ot=n(Q))==null?void 0:ot.axisLabel)??"Effect"}),"axisLabel");n(ve);const Pe=p(m(()=>{var ot;return S((ot=n(Q))==null?void 0:ot.scale,"log")}),"isLog");n(Pe);const be=p(m(()=>n(Cn).get(n(at).column.id)??n(s)),"colScale");n(be);var wt=lp();let kt;var Lt=Z(wt);W(Lt,"y1",0);var se=nt(Lt);{var Ae=ot=>{const Pt=p(m(()=>{var pe;return((pe=n(Q))==null?void 0:pe.annotations)??[]}),"allAnnotations");n(Pt);const Qt=p(m(()=>Yt(n(Pt))),"annotationLabelOffsets");n(Qt);var Me=Ct(),We=mt(Me);xn(()=>n(Pt),pe=>pe.id),I(()=>He(We,17,()=>n(Pt),pe=>pe.id,(pe,Ut)=>{var Ze=Ct(),pn=mt(Ze);{var ln=en=>{var me=ap(),Le=mt(me);W(Le,"y1",0);var io=nt(Le);{var oo=Ii=>{const ao=p(m(()=>n(Qt)[n(Ut).id]??0),"yOffset");n(ao);var qn=op(),so=Z(qn,!0);J(lo=>{W(qn,"x",lo),W(qn,"y",-4+n(ao)),W(qn,"fill",n(Ut).color??"var(--wf-secondary)"),Vt(so,n(Ut).label)},[()=>n(be)(n(Ut).x)]),z(Ii,qn)};I(()=>q(io,Ii=>{n(Ut).label&&Ii(oo)}),"if",G,1155,16)}J((Ii,ao)=>{W(Le,"x1",Ii),W(Le,"x2",ao),W(Le,"y2",n(lt)),W(Le,"stroke",n(Ut).color??"var(--wf-accent)"),W(Le,"stroke-width",n(Ut).width??1.5),W(Le,"stroke-opacity",n(Ut).opacity??.6),W(Le,"stroke-dasharray",S(n(Ut).style,"dashed")?"6,4":S(n(Ut).style,"dotted")?"2,2":"none")},[()=>n(be)(n(Ut).x),()=>n(be)(n(Ut).x)]),z(en,me)};I(()=>q(pn,en=>{S(n(Ut).type,"reference_line")&&en(ln)}),"if",G,1144,14)}z(pe,Ze)}),"each",G,1143,14),z(ot,Me)};I(()=>q(se,ot=>{ot(Ae)}),"if",G,1140,12)}var vn=nt(se);xn(()=>n(o),(ot,Pt)=>pt(ot,Pt)),I(()=>He(vn,19,()=>n(o),(ot,Pt)=>pt(ot,Pt),(ot,Pt,Qt)=>{var Me=Ct(),We=mt(Me);{var pe=Ut=>{const Ze=p(m(()=>n(et).positions[n(Qt)]??n(Qt)*n(a).rowHeight),"rowY");n(Ze);const pn=p(m(()=>n(et).heights[n(Qt)]??n(a).rowHeight),"rowH");n(pn);{let ln=m(()=>n(Ze)+n(pn)/2),en=m(()=>({...n(a),forestWidth:n(ht)}));I(()=>Oe(Ut,{get row(){return n(Pt).row},get yPosition(){return n(ln)},get xScale(){return n(be)},get layout(){return n(en)},get theme(){return n(l)},get clipBounds(){return n(f)},get isLog(){return n(Pe)},get weightCol(){return n(r).data.weightCol},get forestColumnOptions(){return n(Q)},onRowClick:()=>e.store.selectRow(n(Pt).row.id),onRowHover:(me,Le)=>{e.store.setHovered(me?n(Pt).row.id:null),me&&Le?e.store.setTooltip(n(Pt).row.id,{x:Le.clientX,y:Le.clientY}):e.store.setTooltip(null,null)}}),"component",G,1177,16,{componentTag:"RowInterval"})}};I(()=>q(We,Ut=>{S(n(Pt).type,"data")&&Ut(pe)}),"if",G,1174,14)}z(ot,Me)}),"each",G,1173,12);var $t=nt(vn);{var Ft=ot=>{{let Pt=m(()=>n(lt)+n(a).rowHeight/2),Qt=m(()=>({...n(a),forestWidth:n(ht)}));I(()=>ri(ot,{get point(){return n(r).data.overall.point},get lower(){return n(r).data.overall.lower},get upper(){return n(r).data.overall.upper},get yPosition(){return n(Pt)},get xScale(){return n(be)},get layout(){return n(Qt)},get theme(){return n(l)}}),"component",G,1205,14,{componentTag:"SummaryDiamond"})}};I(()=>q($t,ot=>{n(r).data.overall&&n(a).showOverallSummary&&S(typeof n(r).data.overall.point,"number")&&!Number.isNaN(n(r).data.overall.point)&&S(typeof n(r).data.overall.lower,"number")&&!Number.isNaN(n(r).data.overall.lower)&&S(typeof n(r).data.overall.upper,"number")&&!Number.isNaN(n(r).data.overall.upper)&&ot(Ft)}),"if",G,1201,12)}var he=nt($t);{var yt=ot=>{var Pt=sp(),Qt=Z(Pt);{let Me=m(()=>({...n(a),forestWidth:n(ht)}));I(()=>Wn(Qt,{get xScale(){return n(be)},get layout(){return n(Me)},get theme(){return n(l)},get axisLabel(){return n(ve)},position:"bottom",get plotHeight(){return n(a).plotHeight},get baseTicks(){return n(c).ticks}}),"component",G,1219,16,{componentTag:"EffectAxis"})}J(()=>W(Pt,"transform",`translate(0, ${n(lt)+n(de)})`)),z(ot,Pt)};I(()=>q(he,ot=>{var Pt;S((Pt=n(Q))==null?void 0:Pt.showAxis,!1,!1)&&ot(yt)}),"if",G,1217,12)}J((ot,Pt)=>{W(wt,"width",n(ht)),W(wt,"height",n(lt)+n(a).axisHeight),W(wt,"viewBox",`0 0 ${n(ht)??""} ${n(lt)+n(a).axisHeight}`),kt=ke(wt,"",kt,{top:`${n(Xe)??""}px`,left:`${n(Te)??""}px`}),W(Lt,"x1",ot),W(Lt,"x2",Pt),W(Lt,"y2",n(lt))},[()=>n(be)(n(Jt)),()=>n(be)(n(Jt))]),z(dt,wt)}),"each",G,1110,8);var ut=nt(Nt,2);xn(()=>n(v).filter(dt=>S(dt.column.type,"viz_bar")),dt=>dt.column.id),I(()=>He(ut,17,()=>n(v).filter(dt=>S(dt.column.type,"viz_bar")),dt=>dt.column.id,(dt,at)=>{const Q=p(m(()=>{var wt;return(wt=n(at).column.options)==null?void 0:wt.vizBar}),"vizOpts");n(Q);const Rt=p(m(()=>n(A)[n(at).column.id]),"dynamicVizWidth");n(Rt);const ht=p(m(()=>{var wt;return S(typeof n(Rt),"number")?n(Rt):n(at).column.width??((wt=n(Q))==null?void 0:wt.width)??n(a).forestWidth}),"vizWidth");n(ht);const Te=p(m(()=>n(dn).get(n(at).column.id)??0),"vizLeft");n(Te);const de=p(m(()=>{var wt;return((wt=n(l))==null?void 0:wt.spacing.axisGap)??Kn.DEFAULT_AXIS_GAP}),"axisGap");n(de);const Jt=p(m(()=>n(Ce).get(n(at).column.id)),"sharedScale");n(Jt);var ve=Ct(),Pe=mt(ve);{var be=wt=>{var kt=fp();let Lt;var se=Z(kt);xn(()=>n(o),($t,Ft)=>pt($t,Ft)),I(()=>He(se,19,()=>n(o),($t,Ft)=>pt($t,Ft),($t,Ft,he)=>{var yt=Ct(),ot=mt(yt);{var Pt=Qt=>{const Me=p(m(()=>n(et).positions[n(he)]??n(he)*n(a).rowHeight),"rowY");n(Me);const We=p(m(()=>n(et).heights[n(he)]??n(a).rowHeight),"rowH");n(We);{let pe=m(()=>n(Me)+n(We)/2);I(()=>ii(Qt,{get row(){return n(Ft).row},get yPosition(){return n(pe)},get rowHeight(){return n(We)},get width(){return n(ht)},get options(){return n(Q)},get theme(){return n(l)},get sharedScale(){return n(Jt)}}),"component",G,1247,18,{componentTag:"VizBar"})}};I(()=>q(ot,Qt=>{S(n(Ft).type,"data")&&Qt(Pt)}),"if",G,1244,16)}z($t,yt)}),"each",G,1243,14);var Ae=nt(se);{var vn=$t=>{var Ft=cp(),he=Z(Ft);{let yt=m(()=>({...n(a),forestWidth:n(ht),nullValue:0})),ot=m(()=>n(Q).axisLabel??"Value");I(()=>Wn(he,{get xScale(){return n(Jt)},get layout(){return n(yt)},get theme(){return n(l)},get axisLabel(){return n(ot)},position:"bottom",get plotHeight(){return n(lt)},get baseTicks(){return n(Q).axisTicks},get gridlines(){return n(Q).axisGridlines}}),"component",G,1262,18,{componentTag:"EffectAxis"})}J(()=>W(Ft,"transform",`translate(0, ${n(lt)+n(de)})`)),z($t,Ft)};I(()=>q(Ae,$t=>{S(n(Q).showAxis,!1,!1)&&n(Jt)&&$t(vn)}),"if",G,1260,14)}J(()=>{W(kt,"width",n(ht)),W(kt,"height",n(lt)+n(a).axisHeight),W(kt,"viewBox",`0 0 ${n(ht)??""} ${n(lt)+n(a).axisHeight}`),Lt=ke(kt,"",Lt,{top:`${n(Xe)??""}px`,left:`${n(Te)??""}px`})}),z(wt,kt)};I(()=>q(Pe,wt=>{n(Q)&&wt(be)}),"if",G,1233,10)}z(dt,ve)}),"each",G,1226,8);var re=nt(ut,2);xn(()=>n(v).filter(dt=>S(dt.column.type,"viz_boxplot")),dt=>dt.column.id),I(()=>He(re,17,()=>n(v).filter(dt=>S(dt.column.type,"viz_boxplot")),dt=>dt.column.id,(dt,at)=>{const Q=p(m(()=>{var wt;return(wt=n(at).column.options)==null?void 0:wt.vizBoxplot}),"vizOpts");n(Q);const Rt=p(m(()=>n(A)[n(at).column.id]),"dynamicVizWidth");n(Rt);const ht=p(m(()=>{var wt;return S(typeof n(Rt),"number")?n(Rt):n(at).column.width??((wt=n(Q))==null?void 0:wt.width)??n(a).forestWidth}),"vizWidth");n(ht);const Te=p(m(()=>n(dn).get(n(at).column.id)??0),"vizLeft");n(Te);const de=p(m(()=>{var wt;return((wt=n(l))==null?void 0:wt.spacing.axisGap)??Kn.DEFAULT_AXIS_GAP}),"axisGap");n(de);const Jt=p(m(()=>n(Ce).get(n(at).column.id)),"sharedScale");n(Jt);var ve=Ct(),Pe=mt(ve);{var be=wt=>{var kt=dp();let Lt;var se=Z(kt);xn(()=>n(o),($t,Ft)=>pt($t,Ft)),I(()=>He(se,19,()=>n(o),($t,Ft)=>pt($t,Ft),($t,Ft,he)=>{var yt=Ct(),ot=mt(yt);{var Pt=Qt=>{const Me=p(m(()=>n(et).positions[n(he)]??n(he)*n(a).rowHeight),"rowY");n(Me);const We=p(m(()=>n(et).heights[n(he)]??n(a).rowHeight),"rowH");n(We);{let pe=m(()=>n(Me)+n(We)/2);I(()=>vr(Qt,{get row(){return n(Ft).row},get yPosition(){return n(pe)},get rowHeight(){return n(We)},get width(){return n(ht)},get options(){return n(Q)},get theme(){return n(l)},get sharedScale(){return n(Jt)}}),"component",G,1300,18,{componentTag:"VizBoxplot"})}};I(()=>q(ot,Qt=>{S(n(Ft).type,"data")&&Qt(Pt)}),"if",G,1297,16)}z($t,yt)}),"each",G,1296,14);var Ae=nt(se);{var vn=$t=>{var Ft=up(),he=Z(Ft);{let yt=m(()=>({...n(a),forestWidth:n(ht),nullValue:0})),ot=m(()=>n(Q).axisLabel??"Value");I(()=>Wn(he,{get xScale(){return n(Jt)},get layout(){return n(yt)},get theme(){return n(l)},get axisLabel(){return n(ot)},position:"bottom",get plotHeight(){return n(lt)},get baseTicks(){return n(Q).axisTicks},get gridlines(){return n(Q).axisGridlines}}),"component",G,1315,18,{componentTag:"EffectAxis"})}J(()=>W(Ft,"transform",`translate(0, ${n(lt)+n(de)})`)),z($t,Ft)};I(()=>q(Ae,$t=>{S(n(Q).showAxis,!1,!1)&&n(Jt)&&$t(vn)}),"if",G,1313,14)}J(()=>{W(kt,"width",n(ht)),W(kt,"height",n(lt)+n(a).axisHeight),W(kt,"viewBox",`0 0 ${n(ht)??""} ${n(lt)+n(a).axisHeight}`),Lt=ke(kt,"",Lt,{top:`${n(Xe)??""}px`,left:`${n(Te)??""}px`})}),z(wt,kt)};I(()=>q(Pe,wt=>{n(Q)&&wt(be)}),"if",G,1286,10)}z(dt,ve)}),"each",G,1279,8);var fe=nt(re,2);xn(()=>n(v).filter(dt=>S(dt.column.type,"viz_violin")),dt=>dt.column.id),I(()=>He(fe,17,()=>n(v).filter(dt=>S(dt.column.type,"viz_violin")),dt=>dt.column.id,(dt,at)=>{const Q=p(m(()=>{var wt;return(wt=n(at).column.options)==null?void 0:wt.vizViolin}),"vizOpts");n(Q);const Rt=p(m(()=>n(A)[n(at).column.id]),"dynamicVizWidth");n(Rt);const ht=p(m(()=>{var wt;return S(typeof n(Rt),"number")?n(Rt):n(at).column.width??((wt=n(Q))==null?void 0:wt.width)??n(a).forestWidth}),"vizWidth");n(ht);const Te=p(m(()=>n(dn).get(n(at).column.id)??0),"vizLeft");n(Te);const de=p(m(()=>{var wt;return((wt=n(l))==null?void 0:wt.spacing.axisGap)??Kn.DEFAULT_AXIS_GAP}),"axisGap");n(de);const Jt=p(m(()=>n(Ce).get(n(at).column.id)),"sharedScale");n(Jt);var ve=Ct(),Pe=mt(ve);{var be=wt=>{var kt=gp();let Lt;var se=Z(kt);xn(()=>n(o),($t,Ft)=>pt($t,Ft)),I(()=>He(se,19,()=>n(o),($t,Ft)=>pt($t,Ft),($t,Ft,he)=>{var yt=Ct(),ot=mt(yt);{var Pt=Qt=>{const Me=p(m(()=>n(et).positions[n(he)]??n(he)*n(a).rowHeight),"rowY");n(Me);const We=p(m(()=>n(et).heights[n(he)]??n(a).rowHeight),"rowH");n(We);{let pe=m(()=>n(Me)+n(We)/2);I(()=>er(Qt,{get row(){return n(Ft).row},get yPosition(){return n(pe)},get rowHeight(){return n(We)},get width(){return n(ht)},get options(){return n(Q)},get theme(){return n(l)},get sharedScale(){return n(Jt)}}),"component",G,1353,18,{componentTag:"VizViolin"})}};I(()=>q(ot,Qt=>{S(n(Ft).type,"data")&&Qt(Pt)}),"if",G,1350,16)}z($t,yt)}),"each",G,1349,14);var Ae=nt(se);{var vn=$t=>{var Ft=hp(),he=Z(Ft);{let yt=m(()=>({...n(a),forestWidth:n(ht),nullValue:0})),ot=m(()=>n(Q).axisLabel??"Value");I(()=>Wn(he,{get xScale(){return n(Jt)},get layout(){return n(yt)},get theme(){return n(l)},get axisLabel(){return n(ot)},position:"bottom",get plotHeight(){return n(lt)},get baseTicks(){return n(Q).axisTicks},get gridlines(){return n(Q).axisGridlines}}),"component",G,1368,18,{componentTag:"EffectAxis"})}J(()=>W(Ft,"transform",`translate(0, ${n(lt)+n(de)})`)),z($t,Ft)};I(()=>q(Ae,$t=>{S(n(Q).showAxis,!1,!1)&&n(Jt)&&$t(vn)}),"if",G,1366,14)}J(()=>{W(kt,"width",n(ht)),W(kt,"height",n(lt)+n(a).axisHeight),W(kt,"viewBox",`0 0 ${n(ht)??""} ${n(lt)+n(a).axisHeight}`),Lt=ke(kt,"",Lt,{top:`${n(Xe)??""}px`,left:`${n(Te)??""}px`})}),z(wt,kt)};I(()=>q(Pe,wt=>{n(Q)&&wt(be)}),"if",G,1339,10)}z(dt,ve)}),"each",G,1332,8);var ze=nt(Wt,2);{let dt=m(()=>{var Q;return(Q=n(r).labels)==null?void 0:Q.caption}),at=m(()=>{var Q;return(Q=n(r).labels)==null?void 0:Q.footnote});I(()=>Dr(ze,{get caption(){return n(dt)},get footnote(){return n(at)}}),"component",G,1386,6,{componentTag:"PlotFooter"})}ei(tt,dt=>st(B,dt),()=>n(B)),J(()=>{Xt=ke(Wt,"",Xt,{"grid-template-columns":n(ee)}),gn=ke(Ht,"",gn,{"grid-row":`1 / span ${n(te)??""}`}),Vt(Dt,n(_))})}var Ve=nt(tt,2);{let ue=m(()=>{var Xt,gn;return(gn=(Xt=n(r))==null?void 0:Xt.interaction)==null?void 0:gn.tooltipFields});I(()=>_i(Ve,{get row(){return n(M)},get position(){return n(N)},get fields(){return n(ue)},get theme(){return n(l)}}),"component",G,1390,4,{componentTag:"Tooltip"})}J(()=>bt=ke(tt,"",bt,{"margin-left":`${n(U)??""}px`})),z(k,F)},ro=k=>{var F=pp();z(k,F)};I(()=>q(hn,k=>{n(r)?k(Ln):k(ro,!1)}),"if",G,850,2)}return ei(bn,k=>st(T,k),()=>n(T)),J(k=>{Ye=fn(bn,1,"tabviz-container svelte-14l8yxx",null,Ye,{"auto-fit":n(b),"has-max-width":S(n(L),null,!1),"has-max-height":S(n(H),null,!1),zoomed:S(n(C),1,!1)}),W(bn,"data-zoom",`${k??""}%`),ke(bn,`${n(Tn)??""}; ${n(b)&&n(O)>0?`height: ${n(O)}px`:""}`)},[()=>Math.round(n(E)*100)]),z(t,bn),_e(Xr)}Jr(["pointerdown","click","keydown"]),De[D]="src/components/split/SplitSidebar.svelte";var yp=V(gt('<span class="tree-line svelte-1c2ts73"></span>'),De[D],[[101,8]]),_p=V(It('<svg width="12" height="12" viewBox="0 0 12 12" fill="none"><rect x="1" y="1" width="10" height="10" rx="2" stroke="currentColor" stroke-width="1.2"></rect><line x1="3" y1="6" x2="9" y2="6" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"></line></svg>'),De[D],[[119,14,[[120,16],[121,16]]]]),xp=V(It('<svg width="12" height="12" viewBox="0 0 12 12" fill="none"><rect x="1" y="1" width="10" height="10" rx="2" stroke="currentColor" stroke-width="1.2"></rect><line x1="6" y1="3" x2="6" y2="9" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"></line><line x1="3" y1="6" x2="9" y2="6" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"></line></svg>'),De[D],[[124,14,[[125,16],[126,16],[127,16]]]]),wp=V(gt("<span><!></span>"),De[D],[[117,10]]),bp=V(gt('<div class="section-header nested svelte-1c2ts73"> </div>'),De[D],[[139,10]]),Mp=V(gt('<div class="children-wrapper svelte-1c2ts73"><!> <ul class="tree-list nested svelte-1c2ts73"></ul></div>'),De[D],[[137,6,[[141,8]]]]),Sp=V(gt('<li><div class="tree-row svelte-1c2ts73"><!> <button><!> <span class="label svelte-1c2ts73"> </span></button></div> <!></li>'),De[D],[[98,2,[[99,4,[[103,6,[[132,8]]]]]]]]),Ep=V(gt('<div class="sidebar-collapsed svelte-1c2ts73"><button class="toggle-btn svelte-1c2ts73" title="Expand navigation"><svg width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M7 4L12 9L7 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div>'),De[D],[[41,2,[[42,4,[[47,6,[[48,8]]]]]]]]),kp=V(gt('<div class="section-header svelte-1c2ts73"> </div>'),De[D],[[80,8]]),Cp=V(gt('<aside class="split-sidebar svelte-1c2ts73" role="navigation" aria-label="Subgroup navigation"><div class="sidebar-header svelte-1c2ts73"><span class="sidebar-title svelte-1c2ts73">Subgroups</span> <button class="toggle-btn svelte-1c2ts73" title="Collapse navigation"><svg width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M11 4L6 9L11 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div> <div class="sidebar-search svelte-1c2ts73"><input type="text" placeholder="Search..." class="search-input svelte-1c2ts73"/></div> <nav class="sidebar-nav svelte-1c2ts73"><!> <ul class="tree-list svelte-1c2ts73"></ul></nav></aside>'),De[D],[[53,2,[[54,4,[[55,6],[56,6,[[61,8,[[62,10]]]]]]],[67,4,[[68,6]]],[78,4,[[83,6]]]]]]);function De(t,e){Se(new.target),ye(e,!0,De);const r=Wl(De,function(x,M=po,N=po,R=po){Il(...arguments);const w=p(m(()=>M().children&&M().children.length>0),"hasChildren");n(w);const C=p(m(()=>n(a).has(M().key)),"isExpanded");n(C);const b=p(m(()=>S(n(o),M().key)),"isActive");n(b);const E=p(m(()=>!n(w)),"isLeaf");n(E);var L=Sp();let H;var A=Z(L),T=Z(A);{var B=it=>{var et=yp();z(it,et)};I(()=>q(T,it=>{N()>0&&it(B)}),"if",De,100,6)}var P=nt(T,2);let K;P.__click=()=>{n(E)?e.store.selectSpec(M().key):e.store.toggleExpanded(M().key)},P.__keydown=u;var Y=Z(P);{var $=it=>{var et=wp();let lt;var Yt=Z(et);{var Zt=xt=>{var ie=_p();z(xt,ie)},pt=xt=>{var ie=xp();z(xt,ie)};I(()=>q(Yt,xt=>{n(C)?xt(Zt):xt(pt,!1)}),"if",De,118,12)}J(()=>lt=fn(et,1,"tree-toggle svelte-1c2ts73",null,lt,{expanded:n(C)})),z(it,et)};I(()=>q(Y,it=>{n(w)&&it($)}),"if",De,116,8)}var O=nt(Y,2),U=Z(O,!0);var ft=nt(A,2);{var rt=it=>{var et=Mp(),lt=Z(et);{var Yt=pt=>{var xt=bp(),ie=Z(xt,!0);J(oe=>{ke(xt,`--depth: ${N()??""}`),Vt(ie,oe)},[()=>h(n(c)[N()+1])]),z(pt,xt)};I(()=>q(lt,pt=>{n(c).length>N()+1&&pt(Yt)}),"if",De,138,8)}var Zt=nt(lt,2);I(()=>He(Zt,21,()=>M().children,Yn,(pt,xt,ie)=>{I(()=>r(pt,()=>n(xt),()=>N()+1,()=>S(ie,M().children.length-1)),"render",De,143,12)}),"each",De,142,10),z(it,et)};I(()=>q(ft,it=>{n(w)&&n(C)&&it(rt)}),"if",De,136,4)}J(()=>{H=fn(L,1,"tree-item svelte-1c2ts73",null,H,{"is-last":R()}),ke(A,`--depth: ${N()??""}`),K=fn(P,1,"node-btn svelte-1c2ts73",null,K,{active:n(b),parent:n(w)}),Vt(U,M().label)}),z(x,L)}),i=p(m(()=>e.store.navTree),"navTree"),o=p(m(()=>e.store.activeKey),"activeKey"),a=p(m(()=>e.store.expandedNodes),"expandedNodes"),s=p(m(()=>e.store.searchQuery),"searchQuery"),c=p(m(()=>e.store.splitVars),"splitVars"),f=p(m(()=>e.store.sidebarCollapsed),"collapsed");function l(x){const M=x.target;e.store.setSearch(M.value)}function u(x){S(x.key,"ArrowDown")?(x.preventDefault(),e.store.selectNext()):S(x.key,"ArrowUp")&&(x.preventDefault(),e.store.selectPrevious())}function h(x){return x.replace(/_/g," ").replace(/\b\w/g,M=>M.toUpperCase())}var d={...Ee()},g=Ct(),v=mt(g);{var y=x=>{var M=Ep(),N=Z(M);N.__click=()=>e.store.toggleSidebar(),z(x,M)},_=x=>{var M=Cp(),N=Z(M),R=nt(Z(N),2);R.__click=()=>e.store.toggleSidebar();var w=nt(N,2),C=Z(w);C.__input=l,C.__keydown=u;var b=nt(w,2),E=Z(b);{var L=A=>{var T=kp(),B=Z(T);J(P=>Vt(B,P),[()=>h(n(c)[0])]),z(A,T)};I(()=>q(E,A=>{n(c).length>0&&A(L)}),"if",De,79,6)}var H=nt(E,2);I(()=>He(H,21,()=>n(i),Yn,(A,T,B)=>{I(()=>r(A,()=>n(T),()=>0,()=>S(B,n(i).length-1)),"render",De,85,10)}),"each",De,84,8),J(()=>Bl(C,n(s))),z(x,M)};I(()=>q(v,x=>{n(f)?x(y):x(_,!1)}),"if",De,40,0)}return z(t,g),_e(d)}Jr(["click","keydown","input"]),On[D]="src/lib/SplitForestPlot.svelte";var Tp=V(gt('<div class="split-forest-empty svelte-1y0d7q9">Select a plot from the sidebar</div>'),On[D],[[57,8]]),Np=V(gt('<!> <div class="split-forest-main svelte-1y0d7q9"><!></div>',1),On[D],[[51,4]]),Hp=V(gt('<div class="split-forest-loading svelte-1y0d7q9">Loading...</div>'),On[D],[[63,4]]),Ap=V(gt('<div class="split-forest-container svelte-1y0d7q9"><!></div>'),On[D],[[45,0]]);function On(t,e){Se(new.target),ye(e,!0,On);const r=p(m(()=>e.store.activeStore),"activeStore"),i=p(m(()=>e.store.activeKey),"activeKey"),o=p(m(()=>e.store.payload),"payload"),a=p(m(()=>e.store.sidebarWidth),"sidebarWidth");function s(v){e.store.setTheme(v)}let c=p(St(void 0),"containerRef");Mo(()=>{if(!n(c))return;const v=new ResizeObserver(y=>{for(const _ of y){const{width:x,height:M}=_.contentRect;e.store.setDimensions(x,M)}});return v.observe(n(c)),()=>{v.disconnect()}});var f={...Ee()},l=Ap();let u;var h=Z(l);{var d=v=>{var y=Np(),_=mt(y);I(()=>De(_,{get store(){return e.store}}),"component",On,48,4,{componentTag:"SplitSidebar"});var x=nt(_,2),M=Z(x);{var N=w=>{var C=Ct(),b=mt(C);I(()=>Ou(b,()=>n(i),E=>{I(()=>G(E,{get store(){return n(r)},onThemeChange:s}),"component",On,54,10,{componentTag:"ForestPlot"})}),"key",On,53,8),z(w,C)},R=w=>{var C=Tp();z(w,C)};I(()=>q(M,w=>{n(r).spec?w(N):w(R,!1)}),"if",On,52,6)}z(v,y)},g=v=>{var y=Hp();z(v,y)};I(()=>q(h,v=>{n(o)?v(d):v(g,!1)}),"if",On,46,2)}return ei(l,v=>st(c,v),()=>n(c)),J(()=>u=ke(l,"",u,{"--sidebar-width":`${n(a)??""}px`})),z(t,l),_e(f)}function Wp(){let t=p(St(null),"spec"),e=p(St(800),"initialWidth"),r=p(St(400),"initialHeight"),i=p(St(lr(new Set)),"selectedRowIds"),o=p(St(lr(new Set)),"collapsedGroups"),a=p(St(null),"sortConfig"),s=p(St(null),"filterConfig"),c=p(St(null),"hoveredRowId"),f=p(St(null),"tooltipRowId"),l=p(St(null),"tooltipPosition"),u=p(St(lr({})),"columnWidths"),h=p(St(null),"plotWidthOverride"),d=p(St(1),"zoom"),g=p(St(!0),"autoFit"),v=p(St(null),"maxWidth"),y=p(St(null),"maxHeight"),_=p(St(!0),"showZoomControls"),x=p(St(0),"containerWidth"),M=p(St(0),"containerHeight"),N=p(St(0),"scalableNaturalWidth"),R=p(St(0),"scalableNaturalHeight"),w=p(St(null),"containerElementId");const C=p(m(()=>n(x)>0?n(x):n(e)),"effectiveWidth"),b=p(m(()=>n(M)>0?n(M):n(r)),"effectiveHeight"),E=p(m(()=>{if(!n(t))return[];let k=[...n(t).data.rows];return n(s)&&(k=Rp(k,n(s))),n(a)&&(k=Ip(k,n(a))),k}),"visibleRows"),L=p(m(()=>{var Ge,Gt;if(!n(t))return{axisLimits:[0,1],plotRegion:[0,1],ticks:[0,.5,1]};const k=(Ge=n(P)[0])==null?void 0:Ge.column,X=n(P).length>0?n(h)??Math.max(n(C)*.25,200):0,tt=(Gt=k==null?void 0:k.options)==null?void 0:Gt.forest,bt=(tt==null?void 0:tt.scale)??"linear",Et=(tt==null?void 0:tt.nullValue)??(S(bt,"log")?1:0),Ot=(tt==null?void 0:tt.effects)??[],Wt=(tt==null?void 0:tt.point)??null,Ht=(tt==null?void 0:tt.lower)??null,Bt=(tt==null?void 0:tt.upper)??null,Dt={...n(t).theme.axis};return tt!=null&&tt.axisRange&&Array.isArray(tt.axisRange)&&S(tt.axisRange.length,2)&&(Dt.rangeMin=tt.axisRange[0],Dt.rangeMax=tt.axisRange[1]),tt!=null&&tt.axisTicks&&Array.isArray(tt.axisTicks)&&(Dt.tickValues=tt.axisTicks),Xl({rows:n(t).data.rows,config:Dt,scale:bt,nullValue:Et,forestWidth:X,pointSize:n(t).theme.shapes.pointSize,effects:Ot,pointCol:Wt,lowerCol:Ht,upperCol:Bt})}),"axisComputation"),H=p(m(()=>{var Ht,Bt;if(!n(t))return tr().domain([0,1]).range([0,100]);const k=(Ht=n(P)[0])==null?void 0:Ht.column,F=(Bt=k==null?void 0:k.options)==null?void 0:Bt.forest,X=S((F==null?void 0:F.scale)??"linear","log"),{plotRegion:tt}=n(L),Et=n(P).length>0?n(h)??Math.max(n(C)*.25,200):0,Ot=An,Wt=Math.max(Et-An,Ot+50);if(X){const Dt=[Math.max(tt[0],.01),Math.max(tt[1],.02)];return Br().domain(Dt).range([Ot,Wt])}return tr().domain(tt).range([Ot,Wt])}),"xScale");function A(k){const F=[];for(const X of k)X.isGroup?F.push(...A(X.columns)):F.push(X);return F}const T=p(m(()=>n(t)?A(n(t).columns):[]),"allColumns"),B=p(m(()=>n(t)?n(t).columns:[]),"allColumnDefs"),P=p(m(()=>{if(!n(t))return[];const k=[],F=n(T);for(let X=0;X<F.length;X++)S(F[X].type,"forest")&&k.push({index:X,column:F[X]});return k}),"forestColumns"),K=p(m(()=>n(P).length>0),"hasExplicitForestColumns"),Y=p(m(()=>{if(!n(t))return[];const k=[],F=n(T),X=["forest","viz_bar","viz_boxplot","viz_violin"];for(let tt=0;tt<F.length;tt++)X.includes(F[tt].type)&&k.push({index:tt,column:F[tt]});return k}),"vizColumns"),$=p(m(()=>n(Y).length>0),"hasVizColumns"),O=p(m(()=>{const k=new Map;if(!n(t))return k;for(const F of n(t).data.groups)k.set(F.id,F);return k}),"groupMap"),U=p(m(()=>{const k=new Map;if(!n(t))return k;for(const F of n(t).data.groups)k.set(F.id,F.depth);return k}),"groupDepthMap");function ft(k){return k?(n(U).get(k)??0)+1:0}function rt(k){if(!k)return!1;let F=k;for(;F;){const X=n(O).get(F);if(!X)break;if(X.parentId&&n(o).has(X.parentId))return!0;F=X.parentId}return!1}const it=p(m(()=>{var Ot;if(!n(t))return[];const k=[],F=new Map;for(const Wt of n(E)){const Ht=Wt.groupId??null;F.has(Ht)||F.set(Ht,[]),F.get(Ht).push(Wt)}const X=new Set;for(const Wt of F.keys()){if(!Wt)continue;let Ht=Wt;for(;Ht;)X.add(Ht),Ht=(Ot=n(O).get(Ht))==null?void 0:Ot.parentId}function tt(Wt){return n(t).data.groups.filter(Ht=>S(Ht.parentId??null,Wt)&&X.has(Ht.id))}function bt(Wt){var Bt;let Ht=((Bt=F.get(Wt))==null?void 0:Bt.length)??0;for(const Dt of tt(Wt))Ht+=bt(Dt.id);return Ht}function Et(Wt){if(Wt){const Bt=n(O).get(Wt);if(!Bt||rt(Wt))return;const Dt=n(o).has(Bt.id),Ge=bt(Wt);if(k.push({type:"group_header",group:{...Bt,collapsed:Dt},rowCount:Ge,depth:Bt.depth}),Dt)return}for(const Bt of tt(Wt))Et(Bt.id);const Ht=F.get(Wt)??[];for(const Bt of Ht)k.push({type:"data",row:Bt,depth:ft(Bt.groupId)})}return Et(null),k}),"displayRows"),et=p(m(()=>{var Kt,Nt,ut;if(!n(t))return{totalWidth:n(C),totalHeight:n(b),tableWidth:300,forestWidth:400,headerHeight:36,rowHeight:28,plotHeight:300,axisHeight:32,nullValue:0,summaryYPosition:0,showOverallSummary:!1,rowPositions:[],rowHeights:[]};const k=n(t).theme.spacing.rowHeight,F=n(t).theme.spacing.headerHeight,tt=(n(t).theme.spacing.axisGap??Kn.DEFAULT_AXIS_GAP)+Er.AXIS_HEIGHT+Er.AXIS_LABEL_HEIGHT,Et=n(P).length>0?n(h)??Math.max(n(C)*.25,200):0,Ot=n(C)-Et,Wt=!!n(t).data.overall,Ht=[];for(const re of n(it))S(re.type,"data")&&S((Kt=re.row.style)==null?void 0:Kt.type,"spacer")?Ht.push(k/2):Ht.push(k);const Bt=[];let Dt=0;for(const re of Ht)Bt.push(Dt),Dt+=re;const Ge=Dt+(Wt?k*1.5:0),Gt=(Nt=n(P)[0])==null?void 0:Nt.column,we=(ut=Gt==null?void 0:Gt.options)==null?void 0:ut.forest,ae=(we==null?void 0:we.scale)??"linear",$e=(we==null?void 0:we.nullValue)??(S(ae,"log")?1:0);return{totalWidth:n(C),totalHeight:Math.max(n(b),Ge+F+tt+n(t).theme.spacing.padding*2),tableWidth:Ot,forestWidth:Et,headerHeight:F,rowHeight:k,plotHeight:Ge,axisHeight:tt,nullValue:$e,summaryYPosition:Ge-k,showOverallSummary:Wt,rowPositions:Bt,rowHeights:Ht}}),"layout"),lt=p(m(()=>{if(!n(t))return 800;const k=100,F=150;let X=0;for(const Et of n(T)){if(S(Et.type,"forest"))continue;const Ot=n(u)[Et.id]??(S(typeof Et.width,"number")?Et.width:null)??k;X+=Ot}X+=n(u).__label__??F;const tt=n(et).forestWidth,bt=n(t).theme.spacing.padding*2;return X+tt+bt}),"naturalContentWidth"),Yt=p(m(()=>{if(n(x)<=0||n(N)<=0)return 1;const k=n(N)*n(d);return k>n(x)?n(x)/k:1}),"fitScale"),Zt=p(m(()=>n(g)?Math.max(.5,n(d)*n(Yt)):Math.max(.5,Math.min(2,n(d)))),"actualScale"),pt=p(m(()=>n(g)&&n(Yt)<1),"isClamped");function xt(k){st(t,{...k},!0),st(o,new Set(k.data.groups.filter(F=>F.collapsed).map(F=>F.id)),!0),ie()}function ie(){if(!n(t)||S(typeof document,"undefined"))return;const k=n(t).theme.typography.fontFamily;let F=n(t).theme.typography.fontSizeBase;if(S(typeof F,"string")&&(F.endsWith("rem")||F.endsWith("em"))){const X=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;F=`${parseFloat(F)*X}px`}oe(F,k),document.fonts&&document.fonts.ready&&document.fonts.ready.then(()=>{oe(F,k,!0)})}function oe(k,F,X=!1){var Kt,Nt;if(!n(t))return;const bt=document.createElement("canvas").getContext("2d");if(!bt)return;const Et=n(t).theme.typography.headerFontScale??1.05;let Ot=k;if(S(typeof k,"string")){const ut=k.match(/^([\d.]+)(px|rem|em)$/);ut&&(Ot=`${parseFloat(ut[1])*Et}${ut[2]}`)}const Ht=`${n(t).theme.typography.fontWeightBold??600} ${Ot} ${F}`,Bt=`${k} ${F}`,Dt=(n(t).theme.spacing.cellPaddingX??10)*2,Ge=(n(t).theme.spacing.groupPadding??8)*2;function Gt(ut){return ut.isGroup?ut.columns.flatMap(Gt):[ut]}function we(ut){return S(n(u)[ut.id],void 0,!1)?n(u)[ut.id]:S(typeof ut.width,"number")?ut.width:Qn.MIN}function ae(ut){var Ve,ue;if(S(typeof ut.width,"number")||ge(ut.width,null,!1)&&S(ut.width,"auto",!1))return;let re=0;ut.header&&(bt.font=Ht,re=Math.max(re,bt.measureText(ut.header).width)),bt.font=Bt;for(const Xt of n(t).data.rows){if(S((Ve=Xt.style)==null?void 0:Ve.type,"header")||S((ue=Xt.style)==null?void 0:ue.type,"spacer"))continue;const gn=Pc(Xt,ut);gn&&(re=Math.max(re,bt.measureText(gn).width))}const fe=Qn.VISUAL_MIN[ut.type]??Qn.MIN,ze=Math.min(Qn.MAX,Math.max(fe,Math.ceil(re+Dt+Kn.RENDERING_BUFFER)));n(u)[ut.id]=ze}function $e(ut){if(ut.isGroup){for(const re of ut.columns)$e(re);if(ut.header){bt.font=Ht;const re=bt.measureText(ut.header).width+Ge+Kn.RENDERING_BUFFER,fe=Gt(ut),ze=fe.reduce((Ve,ue)=>Ve+we(ue),0);if(re>ze&&fe.length>0){const Ve=Math.ceil((re-ze)/fe.length);for(const ue of fe)n(u)[ue.id]=we(ue)+Ve}}return}ae(ut)}for(const ut of n(t).columns)$e(ut);if(n(t).data.labelCol){let ut=function(Xt){let gn=0;for(const dt of n(t).data.rows)S(dt.groupId,Xt)&&gn++;for(const dt of n(t).data.groups)S(dt.parentId,Xt)&&(gn+=ut(dt.id));return gn},re=0;const fe=new Map;for(const Xt of n(t).data.groups)fe.set(Xt.id,Xt.depth);const ze=Xt=>Xt?(fe.get(Xt)??0)+1:0;n(t).data.labelHeader&&(bt.font=Ht,re=Math.max(re,bt.measureText(n(t).data.labelHeader).width)),bt.font=Bt;const Ve=parseFloat(k);for(const Xt of n(t).data.rows)if(Xt.label){const gn=ze(Xt.groupId),dt=((Kt=Xt.style)==null?void 0:Kt.indent)??0,Q=(gn+dt)*Fe.INDENT_PER_LEVEL;let Rt=bt.measureText(Xt.label).width+Q;if((Nt=Xt.style)!=null&&Nt.badge){const ht=String(Xt.style.badge),Te=Ve*Sr.FONT_SCALE;bt.font=`${Te}px ${F}`;const Jt=bt.measureText(ht).width+Sr.PADDING*2;Rt+=Sr.GAP+Jt,bt.font=Bt}re=Math.max(re,Rt)}bt.font=Ht;for(const Xt of n(t).data.groups)if(Xt.label){const gn=Xt.depth*Fe.INDENT_PER_LEVEL,dt=bt.measureText(Xt.label).width,Q=`(${ut(Xt.id)})`,Rt=Ve*.75;bt.font=`${Rt}px ${F}`;const ht=bt.measureText(Q).width;bt.font=Ht;const Te=gn+ni.CHEVRON_WIDTH+ni.GAP+dt+ni.GAP+ht+ni.SAFETY_MARGIN;re=Math.max(re,Te)}const ue=Math.min(Qn.LABEL_MAX,Math.max(Qn.MIN,Math.ceil(re+Dt+Kn.RENDERING_BUFFER)));n(u).__label__=ue}}function te(k,F){st(e,k,!0),st(r,F,!0)}function Re(k){const F=new Set(n(i));F.has(k)?F.delete(k):F.add(k),st(i,F,!0)}function ct(k,F){const X=new Set(n(o));F??!X.has(k)?X.add(k):X.delete(k),st(o,X,!0)}function Mt(k,F){st(a,S(F,"none")?null:{column:k,direction:F},!0)}function ee(k){st(s,k,!0)}function Be(k){st(c,k,!0)}function je(k,F){st(f,k,!0),st(l,F,!0)}function dn(k,F){n(u)[k]=Math.max(40,F)}function _t(k){return n(u)[k]}function Tt(k){st(h,S(k,null)?null:Math.max(100,k),!0)}function Ue(){return n(h)}function Xe(k){const F=Tg[k];!n(t)||!F||st(t,{...n(t),theme:F},!0)}function Ce(k){st(d,Math.max(.5,Math.min(2,k)),!0),Ye()}function Cn(){st(d,1),Ye()}function sn(){Ce(n(d)*1.1)}function qt(){Ce(n(d)/1.1)}function At(k){st(g,k,!0),Ye()}function Ie(){!n(x)||!n(N)||(st(d,Math.min(2,Math.max(.5,n(x)/n(N))),!0),Ye())}function or(k){st(v,k,!0),Ye()}function mr(k){st(y,k,!0),Ye()}function wn(k){st(_,k,!0)}function Je(k,F){st(x,k,!0),st(M,F,!0)}function Tn(k,F){st(N,k,!0),st(R,F,!0)}function Xr(k){st(w,k,!0),k&&hn()}function bn(){return n(w)?`tabviz_zoom_${n(w)}`:null}function Ye(){const k=bn();if(k)try{const F={zoom:n(d),autoFit:n(g),maxWidth:n(v),maxHeight:n(y),version:2};localStorage.setItem(k,JSON.stringify(F))}catch{}}function hn(){const k=bn();if(k)try{const F=localStorage.getItem(k);if(F){const X=JSON.parse(F);S(X.version,2)&&(st(d,X.zoom??1,!0),st(g,X.autoFit??!0,!0),st(v,X.maxWidth??null,!0),st(y,X.maxHeight??null,!0))}}catch{}}function Ln(){st(i,new Set,!0),st(o,new Set,!0),st(a,null),st(s,null),st(u,{},!0),st(h,null),st(d,1),st(g,!0),st(v,null),st(y,null),st(c,null),st(f,null),st(l,null)}const ro=p(m(()=>!n(f)||!n(t)?null:n(t).data.rows.find(k=>S(k.id,n(f)))??null),"tooltipRow");return{get spec(){return n(t)},get width(){return n(C)},get height(){return n(b)},get visibleRows(){return n(E)},get xScale(){return n(H)},get axisComputation(){return n(L)},get layout(){return n(et)},get selectedRowIds(){return n(i)},get collapsedGroups(){return n(o)},get hoveredRowId(){return n(c)},get allColumns(){return n(T)},get allColumnDefs(){return n(B)},get forestColumns(){return n(P)},get hasExplicitForestColumns(){return n(K)},get vizColumns(){return n(Y)},get hasVizColumns(){return n($)},get displayRows(){return n(it)},get tooltipRow(){return n(ro)},get tooltipPosition(){return n(l)},get columnWidths(){return n(u)},get zoom(){return n(d)},get autoFit(){return n(g)},get actualScale(){return n(Zt)},get isClamped(){return n(pt)},get maxWidth(){return n(v)},get maxHeight(){return n(y)},get showZoomControls(){return n(_)},get naturalContentWidth(){return n(lt)},getRowDepth:ft,getColumnWidth:_t,getPlotWidth:Ue,getExportDimensions(){var Ge,Gt,we,ae,$e;const k=n(H).domain(),F=[],X={},tt={},bt=n(u).__label__??150;tt.__label__=bt;let Et=bt;for(const Kt of n(T)){F.push(Kt.id),X[Kt.id]=Et;let Nt;S(Kt.type,"forest")?Nt=n(u)[Kt.id]??(S(typeof Kt.width,"number")?Kt.width:null)??((Gt=(Ge=Kt.options)==null?void 0:Ge.forest)==null?void 0:Gt.width)??n(et).forestWidth:Nt=n(u)[Kt.id]??(S(typeof Kt.width,"number")?Kt.width:100),tt[Kt.id]=Nt,Et+=Nt}const Ot=[];for(const Kt of n(P)){const Nt=Kt.column,ut=(we=Nt.options)==null?void 0:we.forest,re=tt[Nt.id]??n(et).forestWidth,fe=(ut==null?void 0:ut.scale)??"linear",ze=(ut==null?void 0:ut.nullValue)??(S(fe,"log")?1:0);Ot.push({columnId:Nt.id,xPosition:X[Nt.id],width:re,xDomain:k,clipBounds:n(L).axisLimits,ticks:n(L).ticks,scale:fe,nullValue:ze,axisLabel:(ut==null?void 0:ut.axisLabel)??"Effect"})}const Wt=[],Ht=[];let Bt=0;for(const Kt of n(it)){const Nt=S(Kt.type,"data")&&S((ae=Kt.row.style)==null?void 0:ae.type,"spacer")?n(et).rowHeight/2:n(et).rowHeight;Ht.push(Bt),Wt.push(Nt),Bt+=Nt}const Dt=n(B).some(Kt=>Kt.isGroup)?2:1;return{columnOrder:F,columnWidths:tt,columnPositions:X,forestColumns:Ot,rowHeights:Wt,rowPositions:Ht,totalRowsHeight:Bt,headerHeight:n(et).headerHeight,headerDepth:Dt,width:n(lt)*n(d),height:(n(R)||400)*n(d),naturalWidth:Et,naturalHeight:Bt+n(et).headerHeight+n(et).axisHeight,forestWidth:((($e=Ot[0])==null?void 0:$e.width)??n(et).forestWidth)*n(d),xDomain:k,clipBounds:n(L).axisLimits,scale:n(d)}},setSpec:xt,setDimensions:te,selectRow:Re,toggleGroup:ct,sortBy:Mt,setFilter:ee,setHovered:Be,setTooltip:je,setColumnWidth:dn,setPlotWidth:Tt,setTheme:Xe,setZoom:Ce,resetZoom:Cn,zoomIn:sn,zoomOut:qt,setAutoFit:At,fitToWidth:Ie,setMaxWidth:or,setMaxHeight:mr,setShowZoomControls:wn,setContainerDimensions:Je,setScalableNaturalDimensions:Tn,setContainerElementId:Xr,resetState:Ln}}function Rp(t,e){return t.filter(r=>{const i=r.metadata[e.field]??r[e.field];switch(e.operator){case"eq":return S(i,e.value);case"neq":return S(i,e.value,!1);case"gt":return S(typeof i,"number")&&i>e.value;case"lt":return S(typeof i,"number")&&i<e.value;case"contains":return S(typeof i,"string")&&i.toLowerCase().includes(e.value.toLowerCase());default:return!0}})}function Ip(t,e){const r=[...t],{column:i,direction:o}=e;return r.sort((a,s)=>{const c=a.metadata[i]??a[i],f=s.metadata[i]??s[i];let l=0;return S(typeof c,"number")&&S(typeof f,"number")?l=c-f:S(typeof c,"string")&&S(typeof f,"string")&&(l=c.localeCompare(f)),S(o,"desc")?-l:l}),r}function Zc(){let t=p(St(null),"payload"),e=p(St(null),"activeKey"),r=p(St(""),"searchQuery"),i=p(St(lr(new Set)),"expandedNodes"),o=p(St(!1),"sidebarCollapsed"),a=p(St(null),"userTheme"),s=p(St(800),"containerWidth"),c=p(St(600),"containerHeight");const f=216,l=44,u=Wp(),h=p(m(()=>n(t)?n(r).trim()?Kc(n(t).navTree,n(r).toLowerCase()):n(t).navTree:[]),"filteredNavTree"),d=p(m(()=>!n(e)||!n(t)?null:n(t).specs[n(e)]??null),"activeSpec"),g=p(m(()=>n(t)?zp(n(t).navTree):[]),"allLeafKeys"),v=p(m(()=>n(e)?n(g).indexOf(n(e)):-1),"currentIndex"),y=p(m(()=>{var T;return((T=n(t))==null?void 0:T.splitVars)??[]}),"splitVars"),_=p(m(()=>n(o)?l:f),"effectiveSidebarWidth");function x(T){st(t,T,!0);const B=Qc(T.navTree);B&&M(B)}function M(T){if(!n(t))return;st(e,T,!0);const B=n(t).specs[T];B&&(u.setSpec(B),n(a)&&u.setTheme(n(a)),u.setDimensions(n(s)-n(_),n(c))),b(T)}function N(T,B){st(s,T,!0),st(c,B,!0),u.setDimensions(T-n(_),B)}function R(){st(o,!n(o)),u.setDimensions(n(s)-n(_),n(c))}function w(T){st(r,T,!0)}function C(T){const B=new Set(n(i));B.has(T)?B.delete(T):B.add(T),st(i,B,!0)}function b(T){const B=T.split("__"),P=new Set;let K="";for(let Y=0;Y<B.length-1;Y++)K=K?`${K}__${B[Y]}`:B[Y],P.add(K);st(i,P,!0)}function E(){n(v)>=0&&n(v)<n(g).length-1&&M(n(g)[n(v)+1])}function L(){n(v)>0&&M(n(g)[n(v)-1])}function H(T){st(a,T,!0),u.setTheme(T)}function A(){if(st(a,null),n(e)&&n(t)){const T=n(t).specs[n(e)];T&&(u.setSpec(T),u.setDimensions(n(s)-n(_),n(c)))}}return{get payload(){return n(t)},get activeKey(){return n(e)},get activeSpec(){return n(d)},get activeStore(){return u},get navTree(){return n(h)},get searchQuery(){return n(r)},get expandedNodes(){return n(i)},get splitVars(){return n(y)},get sidebarWidth(){return n(_)},get sidebarCollapsed(){return n(o)},get userTheme(){return n(a)},setPayload:x,selectSpec:M,setDimensions:N,setSearch:w,toggleExpanded:C,toggleSidebar:R,selectNext:E,selectPrevious:L,setTheme:H,resetTheme:A}}function Kc(t,e){const r=[];for(const i of t){const o=i.label.toLowerCase().includes(e);if(i.children&&i.children.length>0){const a=Kc(i.children,e);(a.length>0||o)&&r.push({...i,children:a.length>0?a:i.children})}else o&&r.push(i)}return r}function Qc(t){for(const e of t){if(!e.children||S(e.children.length,0))return e.key;const r=Qc(e.children);if(r)return r}return null}function zp(t){const e=[];function r(i){for(const o of i)!o.children||S(o.children.length,0)?e.push(o.key):r(o.children)}return r(t),e}const Jc=new Map,Fp={name:"tabviz_split",type:"output",factory:(t,e,r)=>{let i=null;const o=Zc();return t.id&&Jc.set(t.id,o),{renderValue:a=>{o.setPayload(a),o.setDimensions(e,r),t.style.height="100%",t.style.minHeight="400px",i&&Du(i),i=Pu(On,{target:t,props:{store:o}}),window.Shiny&&t.id&&Pp(t.id,o)},resize:(a,s)=>{o.setDimensions(a,s)}}}};function Pp(t,e){Mu(()=>{Mo(()=>{var i;const r=e.activeKey;(i=window.Shiny)==null||i.setInputValue(`${t}_active_plot`,r,{priority:"event"})}),Mo(()=>{var i;const r=e.activeStore.selectedRowIds;(i=window.Shiny)==null||i.setInputValue(`${t}_selected`,Array.from(r),{priority:"event"})})})}return S(typeof window,"undefined",!1)&&window.HTMLWidgets&&window.HTMLWidgets.widget(Fp),S(typeof window,"undefined",!1)&&window.Shiny&&window.Shiny.addCustomMessageHandler("tabviz-split-proxy",t=>{const e=Jc.get(t.id);e&&S(t.method,"selectPlot")&&S(typeof t.args.key,"string")&&e.selectSpec(t.args.key)}),Ne.SplitForestPlot=On,Ne.createSplitForestStore=Zc,Object.defineProperty(Ne,Symbol.toStringTag,{value:"Module"}),Ne})({});
