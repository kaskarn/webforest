var tabviz_split=(function(He){"use strict";var $p=Object.defineProperty;var ff=He=>{throw TypeError(He)};var Zp=(He,Xe,rn)=>Xe in He?$p(He,Xe,{enumerable:!0,configurable:!0,writable:!0,value:rn}):He[Xe]=rn;var Rr=(He,Xe,rn)=>Zp(He,typeof Xe!="symbol"?Xe+"":Xe,rn),zs=(He,Xe,rn)=>Xe.has(He)||ff("Cannot "+rn);var j=(He,Xe,rn)=>(zs(He,Xe,"read from private field"),rn?rn.call(He):Xe.get(He)),ce=(He,Xe,rn)=>Xe.has(He)?ff("Cannot add the same private member more than once"):Xe instanceof WeakSet?Xe.add(He):Xe.set(He,rn),Ut=(He,Xe,rn,Ia)=>(zs(He,Xe,"write to private field"),Ia?Ia.call(He,rn):Xe.set(He,rn),rn),Qe=(He,Xe,rn)=>(zs(He,Xe,"access private method"),rn);var tf,ef,to,eo,Ni,Hi,Oo,no,ro,dn,Fs,Xo,Ls,uf,df,ir,or,Rs,Nr,Ai,Hr,ar,Fn,Ar,qr,ai,Wi,si,Ri,Xr,Ea,sn,Kp,Qp,Ps,Wa,Ra,Ds,mr,Wr,qn,Ii,jo,qo,ka,nf;const mn=Symbol(),P=Symbol("filename"),hf="http://www.w3.org/1999/xhtml",Bs=(ef=(tf=globalThis.process)==null?void 0:tf.env)==null?void 0:ef.NODE_ENV,gt=Bs&&!Bs.toLowerCase().startsWith("prod");var po=Array.isArray,gf=Array.prototype.indexOf,Uo=Array.from,li=Object.defineProperty,Li=Object.getOwnPropertyDescriptor,Gs=Object.getOwnPropertyDescriptors,Vs=Object.prototype,vf=Array.prototype,Yo=Object.getPrototypeOf,Os=Object.isExtensible;const mo=()=>{};function pf(t){for(var e=0;e<t.length;e++)t[e]()}function js(){var t,e,r=new Promise((i,o)=>{t=i,e=o});return{promise:r,resolve:t,reject:e}}function za(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const r=[];for(const i of t)if(r.push(i),r.length===e)break;return r}const fn=2,Fa=4,La=8,mf=1<<24,Ir=16,zr=32,Yr=64,$o=128,lr=512,yn=1024,Tn=2048,xr=4096,Pn=8192,$r=16384,Pa=32768,ci=65536,Zo=1<<17,qs=1<<18,fi=1<<19,yf=1<<20,Fr=1<<25,Zr=32768,Da=1<<21,Ko=1<<22,Kr=1<<23,wr=Symbol("$state"),_f=Symbol(""),Xs=Symbol("proxy path"),Pi=new class extends Error{constructor(){super(...arguments);Rr(this,"name","StaleReactionError");Rr(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}},xf=1,wf=11;function Us(){if(gt){const t=new Error("invalid_snippet_arguments\nA snippet function was passed invalid arguments. Snippets should only be instantiated via `{@render ...}`\nhttps://svelte.dev/e/invalid_snippet_arguments");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/invalid_snippet_arguments")}function bf(){if(gt){const t=new Error("snippet_without_render_tag\nAttempted to render a snippet without a `{@render}` block. This would cause the snippet code to be stringified instead of its content being rendered to the DOM. To fix this, change `{snippet}` to `{@render snippet()}`.\nhttps://svelte.dev/e/snippet_without_render_tag");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/snippet_without_render_tag")}function Mf(){if(gt){const t=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/async_derived_orphan")}function Sf(t,e){if(gt){const r=new Error(`component_api_changed
Calling \`${t}\` on a component instance (of ${e}) is no longer valid in Svelte 5
https://svelte.dev/e/component_api_changed`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/component_api_changed")}function Ef(t,e){if(gt){const r=new Error(`component_api_invalid_new
Attempted to instantiate ${t} with \`new ${e}\`, which is no longer valid in Svelte 5. If this component is not under your control, set the \`compatibility.componentApi\` compiler option to \`4\` to keep it working.
https://svelte.dev/e/component_api_invalid_new`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/component_api_invalid_new")}function kf(){if(gt){const t=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/derived_references_self")}function Cf(t,e,r){if(gt){const i=new Error(`each_key_duplicate
${r?`Keyed each block has duplicate key \`${r}\` at indexes ${t} and ${e}`:`Keyed each block has duplicate key at indexes ${t} and ${e}`}
https://svelte.dev/e/each_key_duplicate`);throw i.name="Svelte error",i}else throw new Error("https://svelte.dev/e/each_key_duplicate")}function Tf(t){if(gt){const e=new Error(`effect_in_teardown
\`${t}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function Nf(){if(gt){const t=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Hf(t){if(gt){const e=new Error(`effect_orphan
\`${t}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_orphan")}function Af(){if(gt){const t=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Wf(){if(gt){const t=new Error("invalid_snippet\nCould not `{@render}` snippet due to the expression being `null` or `undefined`. Consider using optional chaining `{@render snippet?.()}`\nhttps://svelte.dev/e/invalid_snippet");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/invalid_snippet")}function Rf(t){if(gt){const e=new Error(`rune_outside_svelte
The \`${t}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function If(){if(gt){const t=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function zf(){if(gt){const t=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ff(){if(gt){const t=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Lf(){if(gt){const t=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}var ui="font-weight: bold",di="font-weight: normal";function Pf(t){gt?console.warn(`%c[svelte] console_log_state
%cYour \`console.${t}\` contained \`$state\` proxies. Consider using \`$inspect(...)\` or \`$state.snapshot(...)\` instead
https://svelte.dev/e/console_log_state`,ui,di):console.warn("https://svelte.dev/e/console_log_state")}function Df(t,e){gt?console.warn(`%c[svelte] event_handler_invalid
%c${t} should be a function. Did you mean to ${e}?
https://svelte.dev/e/event_handler_invalid`,ui,di):console.warn("https://svelte.dev/e/event_handler_invalid")}function Bf(){gt?console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,ui,di):console.warn("https://svelte.dev/e/lifecycle_double_unmount")}function Gf(){gt?console.warn("%c[svelte] select_multiple_invalid_value\n%cThe `value` property of a `<select multiple>` element should be an array, but it received a non-array value. The selection will be kept as is.\nhttps://svelte.dev/e/select_multiple_invalid_value",ui,di):console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function yo(t){gt?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${t}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,ui,di):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}function Vf(){gt?console.warn(`%c[svelte] state_proxy_unmount
%cTried to unmount a state proxy, rather than a component
https://svelte.dev/e/state_proxy_unmount`,ui,di):console.warn("https://svelte.dev/e/state_proxy_unmount")}function Of(){gt?console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",ui,di):console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function r0(t){}function Ys(t){return t===this.v}function $s(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Zs(t){return!$s(t,this.v)}let jf=!1;var qf="font-weight: bold",Xf="font-weight: normal";function Ks(t){gt?console.warn(`%c[svelte] state_snapshot_uncloneable
%c${t?`The following properties cannot be cloned with \`$state.snapshot\` — the return value contains the originals:

${t}`:"Value cannot be cloned with `$state.snapshot` — the original value was returned"}
https://svelte.dev/e/state_snapshot_uncloneable`,qf,Xf):console.warn("https://svelte.dev/e/state_snapshot_uncloneable")}const Uf=[];function Yf(t,e=!1,r=!1){if(gt&&!e){const i=[],o=_o(t,new Map,"",i,null,r);if(i.length===1&&i[0]==="")Ks();else if(i.length>0){const a=i.length>10?i.slice(0,7):i.slice(0,10),l=i.length-a.length;let c=a.map(f=>`- <value>${f}`).join(`
`);l>0&&(c+=`
- ...and ${l} more`),Ks(c)}return o}return _o(t,new Map,"",Uf,null,r)}function _o(t,e,r,i,o=null,a=!1){if(typeof t=="object"&&t!==null){var l=e.get(t);if(l!==void 0)return l;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(po(t)){var c=Array(t.length);e.set(t,c),o!==null&&e.set(o,c);for(var f=0;f<t.length;f+=1){var s=t[f];f in t&&(c[f]=_o(s,e,gt?`${r}[${f}]`:r,i,null,a))}return c}if(Yo(t)===Vs){c={},e.set(t,c),o!==null&&e.set(o,c);for(var h in t)c[h]=_o(t[h],e,gt?`${r}.${h}`:r,i,null,a);return c}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function"&&!a)return _o(t.toJSON(),e,gt?`${r}.toJSON()`:r,i,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return gt&&i.push(r),t}}function p(t,e){return t.label=e,Qs(t.v,e),t}function Qs(t,e){var r;return(r=t==null?void 0:t[Xs])==null||r.call(t,e),t}function $f(t){const e=new Error,r=Zf();return r.length===0?null:(r.unshift(`
`),li(e,"stack",{value:r.join(`
`)}),li(e,"name",{value:t}),e)}function Zf(){const t=Error.stackTraceLimit;Error.stackTraceLimit=1/0;const e=new Error().stack;if(Error.stackTraceLimit=t,!e)return[];const r=e.split(`
`),i=[];for(let o=0;o<r.length;o++){const a=r[o],l=a.replaceAll("\\","/");if(a.trim()!=="Error"){if(a.includes("validate_each_keys"))return[];l.includes("svelte/src/internal")||l.includes("node_modules/.vite")||i.push(a)}}return i}let en=null;function Di(t){en=t}let Lr=null;function Qo(t){Lr=t}function I(t,e,r,i,o,a){const l=Lr;Lr={type:e,file:r[P],line:i,column:o,parent:l,...a};try{return t()}finally{Lr=l}}let Bi=null;function Jo(t){Bi=t}function _e(t,e=!1,r){en={p:en,i:!1,c:null,e:null,s:t,x:null,l:null},gt&&(en.function=r,Bi=r)}function xe(t){var e=en,r=e.e;if(r!==null){e.e=null;for(var i of r)gl(i)}return t!==void 0&&(e.x=t),e.i=!0,en=e.p,gt&&(Bi=(en==null?void 0:en.function)??null),t??{}}function Js(){return!0}let hi=[];function tl(){var t=hi;hi=[],pf(t)}function Gi(t){if(hi.length===0&&!xo){var e=hi;queueMicrotask(()=>{e===hi&&tl()})}hi.push(t)}function Kf(){for(;hi.length>0;)tl()}const Ba=new WeakMap;function el(t){var e=we;if(e===null)return re.f|=Kr,t;if(gt&&t instanceof Error&&!Ba.has(t)&&Ba.set(t,Qf(t,e)),(e.f&Pa)===0){if((e.f&$o)===0)throw gt&&!e.parent&&t instanceof Error&&nl(t),t;e.b.error(t)}else Vi(t,e)}function Vi(t,e){for(;e!==null;){if((e.f&$o)!==0)try{e.b.error(t);return}catch(r){t=r}e=e.parent}throw gt&&t instanceof Error&&nl(t),t}function Qf(t,e){var l,c,f;const r=Li(t,"message");if(!(r&&!r.configurable)){for(var i=Ua?"  ":"	",o=`
${i}in ${((l=e.fn)==null?void 0:l.name)||"<unknown>"}`,a=e.ctx;a!==null;)o+=`
${i}in ${(c=a.function)==null?void 0:c[P].split("/").pop()}`,a=a.p;return{message:t.message+`
${o}
`,stack:(f=t.stack)==null?void 0:f.split(`
`).filter(s=>!s.includes("svelte/src/internal")).join(`
`)}}}function nl(t){const e=Ba.get(t);e&&(li(t,"message",{value:e.message}),li(t,"stack",{value:e.stack}))}const ta=new Set;let fe=null,Je=null,Un=[],ea=null,Ga=!1,xo=!1;const Sa=class Sa{constructor(){ce(this,dn);Rr(this,"committed",!1);Rr(this,"current",new Map);Rr(this,"previous",new Map);ce(this,to,new Set);ce(this,eo,new Set);ce(this,Ni,0);ce(this,Hi,0);ce(this,Oo,null);ce(this,no,new Set);ce(this,ro,new Set);Rr(this,"skipped_effects",new Set);Rr(this,"is_fork",!1)}is_deferred(){return this.is_fork||j(this,Hi)>0}process(e){var i;Un=[],this.apply();var r={parent:null,effect:null,effects:[],render_effects:[]};for(const o of e)Qe(this,dn,Fs).call(this,o,r);this.is_fork||Qe(this,dn,uf).call(this),this.is_deferred()?(Qe(this,dn,Xo).call(this,r.effects),Qe(this,dn,Xo).call(this,r.render_effects)):(fe=null,il(r.render_effects),il(r.effects),(i=j(this,Oo))==null||i.resolve()),Je=null}capture(e,r){this.previous.has(e)||this.previous.set(e,r),(e.f&Kr)===0&&(this.current.set(e,e.v),Je==null||Je.set(e,e.v))}activate(){fe=this,this.apply()}deactivate(){fe===this&&(fe=null,Je=null)}flush(){if(this.activate(),Un.length>0){if(rl(),fe!==null&&fe!==this)return}else j(this,Ni)===0&&this.process([]);this.deactivate()}discard(){for(const e of j(this,eo))e(this);j(this,eo).clear()}increment(e){Ut(this,Ni,j(this,Ni)+1),e&&Ut(this,Hi,j(this,Hi)+1)}decrement(e){Ut(this,Ni,j(this,Ni)-1),e&&Ut(this,Hi,j(this,Hi)-1),this.revive()}revive(){for(const e of j(this,no))j(this,ro).delete(e),_n(e,Tn),gi(e);for(const e of j(this,ro))_n(e,xr),gi(e);this.flush()}oncommit(e){j(this,to).add(e)}ondiscard(e){j(this,eo).add(e)}settled(){return(j(this,Oo)??Ut(this,Oo,js())).promise}static ensure(){if(fe===null){const e=fe=new Sa;ta.add(fe),xo||Sa.enqueue(()=>{fe===e&&e.flush()})}return fe}static enqueue(e){Gi(e)}apply(){}};to=new WeakMap,eo=new WeakMap,Ni=new WeakMap,Hi=new WeakMap,Oo=new WeakMap,no=new WeakMap,ro=new WeakMap,dn=new WeakSet,Fs=function(e,r){var h;e.f^=yn;for(var i=e.first;i!==null;){var o=i.f,a=(o&(zr|Yr))!==0,l=a&&(o&yn)!==0,c=l||(o&Pn)!==0||this.skipped_effects.has(i);if((i.f&$o)!==0&&((h=i.b)!=null&&h.is_pending())&&(r={parent:r,effect:i,effects:[],render_effects:[]}),!c&&i.fn!==null){a?i.f^=yn:(o&Fa)!==0?r.effects.push(i):Co(i)&&((i.f&Ir)!==0&&j(this,no).add(i),To(i));var f=i.first;if(f!==null){i=f;continue}}var s=i.parent;for(i=i.next;i===null&&s!==null;)s===r.effect&&(Qe(this,dn,Xo).call(this,r.effects),Qe(this,dn,Xo).call(this,r.render_effects),r=r.parent),i=s.next,s=s.parent}},Xo=function(e){for(const r of e)(r.f&Tn)!==0?j(this,no).add(r):(r.f&xr)!==0&&j(this,ro).add(r),Qe(this,dn,Ls).call(this,r.deps),_n(r,yn)},Ls=function(e){if(e!==null)for(const r of e)(r.f&fn)===0||(r.f&Zr)===0||(r.f^=Zr,Qe(this,dn,Ls).call(this,r.deps))},uf=function(){if(j(this,Hi)===0){for(const e of j(this,to))e();j(this,to).clear()}j(this,Ni)===0&&Qe(this,dn,df).call(this)},df=function(){var a;if(ta.size>1){this.previous.clear();var e=Je,r=!0,i={parent:null,effect:null,effects:[],render_effects:[]};for(const l of ta){if(l===this){r=!1;continue}const c=[];for(const[s,h]of this.current){if(l.current.has(s))if(r&&h!==l.current.get(s))l.current.set(s,h);else continue;c.push(s)}if(c.length===0)continue;const f=[...l.current.keys()].filter(s=>!this.current.has(s));if(f.length>0){var o=Un;Un=[];const s=new Set,h=new Map;for(const d of c)ol(d,f,s,h);if(Un.length>0){fe=l,l.apply();for(const d of Un)Qe(a=l,dn,Fs).call(a,d,i);l.deactivate()}Un=o}}fe=null,Je=e}this.committed=!0,ta.delete(this)};let br=Sa;function Jf(t){var e=xo;xo=!0;try{for(var r;;){if(Kf(),Un.length===0&&(fe==null||fe.flush(),Un.length===0))return ea=null,r;rl()}}finally{xo=e}}function rl(){var t=yi;Ga=!0;var e=gt?new Set:null;try{var r=0;for(ia(!0);Un.length>0;){var i=br.ensure();if(r++>1e3){if(gt){var o=new Map;for(const l of i.current.keys())for(const[c,f]of l.updated??[]){var a=o.get(c);a||(a={error:f.error,count:0},o.set(c,a)),a.count+=f.count}for(const l of o.values())l.error&&console.error(l.error)}tu()}if(i.process(Un),Qr.clear(),gt)for(const l of i.current.keys())e.add(l)}}finally{if(Ga=!1,ia(t),ea=null,gt)for(const l of e)l.updated=null}}function tu(){try{Af()}catch(t){gt&&li(t,"stack",{value:""}),Vi(t,ea)}}let cr=null;function il(t){var e=t.length;if(e!==0){for(var r=0;r<e;){var i=t[r++];if((i.f&($r|Pn))===0&&Co(i)&&(cr=new Set,To(i),i.deps===null&&i.first===null&&i.nodes===null&&(i.teardown===null&&i.ac===null?yl(i):i.fn=null),(cr==null?void 0:cr.size)>0)){Qr.clear();for(const o of cr){if((o.f&($r|Pn))!==0)continue;const a=[o];let l=o.parent;for(;l!==null;)cr.has(l)&&(cr.delete(l),a.push(l)),l=l.parent;for(let c=a.length-1;c>=0;c--){const f=a[c];(f.f&($r|Pn))===0&&To(f)}}cr.clear()}}cr=null}}function ol(t,e,r,i){if(!r.has(t)&&(r.add(t),t.reactions!==null))for(const o of t.reactions){const a=o.f;(a&fn)!==0?ol(o,e,r,i):(a&(Ko|Ir))!==0&&(a&Tn)===0&&al(o,e,i)&&(_n(o,Tn),gi(o))}}function al(t,e,r){const i=r.get(t);if(i!==void 0)return i;if(t.deps!==null)for(const o of t.deps){if(e.includes(o))return!0;if((o.f&fn)!==0&&al(o,e,r))return r.set(o,!0),!0}return r.set(t,!1),!1}function gi(t){for(var e=ea=t;e.parent!==null;){e=e.parent;var r=e.f;if(Ga&&e===we&&(r&Ir)!==0&&(r&qs)===0)return;if((r&(Yr|zr))!==0){if((r&yn)===0)return;e.f^=yn}}Un.push(e)}function eu(t){let e=0,r=vi(0),i;return gt&&p(r,"createSubscriber version"),()=>{Mo()&&(n(r),ra(()=>(e===0&&(i=aa(()=>t(()=>wo(r)))),e+=1,()=>{Gi(()=>{e-=1,e===0&&(i==null||i(),i=void 0,wo(r))})})))}}var nu=ci|fi|$o;function ru(t,e,r){new iu(t,e,r)}class iu{constructor(e,r,i){ce(this,sn);Rr(this,"parent");ce(this,ir,!1);ce(this,or);ce(this,Rs,null);ce(this,Nr);ce(this,Ai);ce(this,Hr);ce(this,ar,null);ce(this,Fn,null);ce(this,Ar,null);ce(this,qr,null);ce(this,ai,null);ce(this,Wi,0);ce(this,si,0);ce(this,Ri,!1);ce(this,Xr,null);ce(this,Ea,eu(()=>(Ut(this,Xr,vi(j(this,Wi))),gt&&p(j(this,Xr),"$effect.pending()"),()=>{Ut(this,Xr,null)})));Ut(this,or,e),Ut(this,Nr,r),Ut(this,Ai,i),this.parent=we.b,Ut(this,ir,!!j(this,Nr).pending),Ut(this,Hr,Eo(()=>{we.b=this;{var o=Qe(this,sn,Ps).call(this);try{Ut(this,ar,Yn(()=>i(o)))}catch(a){this.error(a)}j(this,si)>0?Qe(this,sn,Ra).call(this):Ut(this,ir,!1)}return()=>{var a;(a=j(this,ai))==null||a.remove()}},nu))}is_pending(){return j(this,ir)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!j(this,Nr).pending}update_pending_count(e){Qe(this,sn,Ds).call(this,e),Ut(this,Wi,j(this,Wi)+e),j(this,Xr)&&ji(j(this,Xr),j(this,Wi))}get_effect_pending(){return j(this,Ea).call(this),n(j(this,Xr))}error(e){var r=j(this,Nr).onerror;let i=j(this,Nr).failed;if(j(this,Ri)||!r&&!i)throw e;j(this,ar)&&(Mn(j(this,ar)),Ut(this,ar,null)),j(this,Fn)&&(Mn(j(this,Fn)),Ut(this,Fn,null)),j(this,Ar)&&(Mn(j(this,Ar)),Ut(this,Ar,null));var o=!1,a=!1;const l=()=>{if(o){Of();return}o=!0,a&&Lf(),br.ensure(),Ut(this,Wi,0),j(this,Ar)!==null&&mi(j(this,Ar),()=>{Ut(this,Ar,null)}),Ut(this,ir,this.has_pending_snippet()),Ut(this,ar,Qe(this,sn,Wa).call(this,()=>(Ut(this,Ri,!1),Yn(()=>j(this,Ai).call(this,j(this,or)))))),j(this,si)>0?Qe(this,sn,Ra).call(this):Ut(this,ir,!1)};var c=re;try{Nn(null),a=!0,r==null||r(e,l),a=!1}catch(f){Vi(f,j(this,Hr)&&j(this,Hr).parent)}finally{Nn(c)}i&&Gi(()=>{Ut(this,Ar,Qe(this,sn,Wa).call(this,()=>{br.ensure(),Ut(this,Ri,!0);try{return Yn(()=>{i(j(this,or),()=>e,()=>l)})}catch(f){return Vi(f,j(this,Hr).parent),null}finally{Ut(this,Ri,!1)}}))})}}ir=new WeakMap,or=new WeakMap,Rs=new WeakMap,Nr=new WeakMap,Ai=new WeakMap,Hr=new WeakMap,ar=new WeakMap,Fn=new WeakMap,Ar=new WeakMap,qr=new WeakMap,ai=new WeakMap,Wi=new WeakMap,si=new WeakMap,Ri=new WeakMap,Xr=new WeakMap,Ea=new WeakMap,sn=new WeakSet,Kp=function(){try{Ut(this,ar,Yn(()=>j(this,Ai).call(this,j(this,or))))}catch(e){this.error(e)}Ut(this,ir,!1)},Qp=function(){const e=j(this,Nr).pending;e&&(Ut(this,Fn,Yn(()=>e(j(this,or)))),br.enqueue(()=>{var r=Qe(this,sn,Ps).call(this);Ut(this,ar,Qe(this,sn,Wa).call(this,()=>(br.ensure(),Yn(()=>j(this,Ai).call(this,r))))),j(this,si)>0?Qe(this,sn,Ra).call(this):(mi(j(this,Fn),()=>{Ut(this,Fn,null)}),Ut(this,ir,!1))}))},Ps=function(){var e=j(this,or);return j(this,ir)&&(Ut(this,ai,Jr()),j(this,or).before(j(this,ai)),e=j(this,ai)),e},Wa=function(e){var r=we,i=re,o=en;ur(j(this,Hr)),Nn(j(this,Hr)),Di(j(this,Hr).ctx);try{return e()}catch(a){return el(a),null}finally{ur(r),Nn(i),Di(o)}},Ra=function(){const e=j(this,Nr).pending;j(this,ar)!==null&&(Ut(this,qr,document.createDocumentFragment()),j(this,qr).append(j(this,ai)),wl(j(this,ar),j(this,qr))),j(this,Fn)===null&&Ut(this,Fn,Yn(()=>e(j(this,or))))},Ds=function(e){var r;if(!this.has_pending_snippet()){this.parent&&Qe(r=this.parent,sn,Ds).call(r,e);return}Ut(this,si,j(this,si)+e),j(this,si)===0&&(Ut(this,ir,!1),j(this,Fn)&&mi(j(this,Fn),()=>{Ut(this,Fn,null)}),j(this,qr)&&(j(this,or).before(j(this,qr)),Ut(this,qr,null)))};function ou(t,e,r,i){const o=Va;if(r.length===0&&t.length===0){i(e.map(o));return}var a=fe,l=we,c=au();function f(){Promise.all(r.map(s=>cu(s))).then(s=>{c();try{i([...e.map(o),...s])}catch(h){(l.f&$r)===0&&Vi(h,l)}a==null||a.deactivate(),na()}).catch(s=>{Vi(s,l)})}t.length>0?Promise.all(t).then(()=>{c();try{return f()}finally{a==null||a.deactivate(),na()}}):f()}function au(){var t=we,e=re,r=en,i=fe;if(gt)var o=Lr;return function(l=!0){ur(t),Nn(e),Di(r),l&&(i==null||i.activate()),gt&&Qo(o)}}async function su(t){var e=await t;return()=>e}function na(){ur(null),Nn(null),Di(null),gt&&Qo(null)}const lu=new Set;function Va(t){var e=fn|Tn,r=re!==null&&(re.f&fn)!==0?re:null;return we!==null&&(we.f|=fi),{ctx:en,deps:null,effects:null,equals:Ys,f:e,fn:t,reactions:null,rv:0,v:mn,wv:0,parent:r??we,ac:null}}function cu(t,e){let r=we;r===null&&Mf();var i=r.b,o=void 0,a=vi(mn),l=!re,c=new Map;return Eu(()=>{var u;var f=js();o=f.promise;try{Promise.resolve(t()).then(f.resolve,f.reject).then(()=>{s===fe&&s.committed&&s.deactivate(),na()})}catch(g){f.reject(g),na()}var s=fe;if(l){var h=!i.is_pending();i.update_pending_count(1),s.increment(h),(u=c.get(s))==null||u.reject(Pi),c.delete(s),c.set(s,f)}const d=(g,v=void 0)=>{if(s.activate(),v)v!==Pi&&(a.f|=Kr,ji(a,v));else{(a.f&Kr)!==0&&(a.f^=Kr),ji(a,g);for(const[y,x]of c){if(c.delete(y),y===s)break;x.reject(Pi)}}l&&(i.update_pending_count(-1),s.decrement(h))};f.promise.then(d,g=>d(null,g||"unknown"))}),$a(()=>{for(const f of c.values())f.reject(Pi)}),gt&&(a.f|=Ko),new Promise(f=>{function s(h){function d(){h===o?f(a):s(o)}h.then(d,d)}s(o)})}function m(t){const e=Va(t);return Ml(e),e}function fu(t){const e=Va(t);return e.equals=Zs,e}function Oa(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)Mn(e[r])}}let ja=[];function uu(t){for(var e=t.parent;e!==null;){if((e.f&fn)===0)return(e.f&$r)===0?e:null;e=e.parent}return null}function qa(t){var e,r=we;if(ur(uu(t)),gt){let i=Oi;ll(new Set);try{ja.includes(t)&&kf(),ja.push(t),t.f&=~Zr,Oa(t),e=Ka(t)}finally{ur(r),ll(i),ja.pop()}}else try{t.f&=~Zr,Oa(t),e=Ka(t)}finally{ur(r)}return e}function sl(t){var e=qa(t);if(t.equals(e)||(fe!=null&&fe.is_fork||(t.v=e),t.wv=kl()),!Xi)if(Je!==null)(Mo()||fe!=null&&fe.is_fork)&&Je.set(t,e);else{var r=(t.f&lr)===0?xr:yn;_n(t,r)}}let Oi=new Set;const Qr=new Map;function ll(t){Oi=t}let Xa=!1;function du(){Xa=!0}function vi(t,e){var r={f:0,v:t,reactions:null,equals:Ys,rv:0,wv:0};return r}function Mt(t,e){const r=vi(t);return Ml(r),r}function hu(t,e=!1,r=!0){const i=vi(t);return e||(i.equals=Zs),i}function ot(t,e,r=!1){re!==null&&(!Sr||(re.f&Zo)!==0)&&Js()&&(re.f&(fn|Ir|Ko|Zo))!==0&&!(Sn!=null&&Sn.includes(t))&&Ff();let i=r?fr(e):e;return gt&&Qs(i,t.label),ji(t,i)}function ji(t,e){var o;if(!t.equals(e)){var r=t.v;Xi?Qr.set(t,e):Qr.set(t,r),t.v=e;var i=br.ensure();if(i.capture(t,r),gt){if(we!==null){t.updated??(t.updated=new Map);const a=(((o=t.updated.get(""))==null?void 0:o.count)??0)+1;if(t.updated.set("",{error:null,count:a}),a>5){const l=$f("updated at");if(l!==null){let c=t.updated.get(l.stack);c||(c={error:l,count:0},t.updated.set(l.stack,c)),c.count++}}}we!==null&&(t.set_during_effect=!0)}(t.f&fn)!==0&&((t.f&Tn)!==0&&qa(t),_n(t,(t.f&lr)!==0?yn:xr)),t.wv=kl(),fl(t,Tn),we!==null&&(we.f&yn)!==0&&(we.f&(zr|Yr))===0&&($n===null?Tu([t]):$n.push(t)),!i.is_fork&&Oi.size>0&&!Xa&&cl()}return e}function cl(){Xa=!1;var t=yi;ia(!0);const e=Array.from(Oi);try{for(const r of e)(r.f&yn)!==0&&_n(r,xr),Co(r)&&To(r)}finally{ia(t)}Oi.clear()}function wo(t){ot(t,t.v+1)}function fl(t,e){var r=t.reactions;if(r!==null)for(var i=r.length,o=0;o<i;o++){var a=r[o],l=a.f;if(gt&&(l&Zo)!==0){Oi.add(a);continue}var c=(l&Tn)===0;if(c&&_n(a,e),(l&fn)!==0){var f=a;Je==null||Je.delete(f),(l&Zr)===0&&(l&lr&&(a.f|=Zr),fl(f,xr))}else c&&((l&Ir)!==0&&cr!==null&&cr.add(a),gi(a))}}const gu=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function fr(t){if(typeof t!="object"||t===null||wr in t)return t;const e=Yo(t);if(e!==Vs&&e!==vf)return t;var r=new Map,i=po(t),o=Mt(0),a=_i,l=h=>{if(_i===a)return h();var d=re,u=_i;Nn(null),El(a);var g=h();return Nn(d),El(u),g};i&&(r.set("length",Mt(t.length)),gt&&(t=mu(t)));var c="";let f=!1;function s(h){if(!f){f=!0,c=h,p(o,`${c} version`);for(const[d,u]of r)p(u,pi(c,d));f=!1}}return new Proxy(t,{defineProperty(h,d,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&If();var g=r.get(d);return g===void 0?g=l(()=>{var v=Mt(u.value);return r.set(d,v),gt&&typeof d=="string"&&p(v,pi(c,d)),v}):ot(g,u.value,!0),!0},deleteProperty(h,d){var u=r.get(d);if(u===void 0){if(d in h){const g=l(()=>Mt(mn));r.set(d,g),wo(o),gt&&p(g,pi(c,d))}}else ot(u,mn),wo(o);return!0},get(h,d,u){var x;if(d===wr)return t;if(gt&&d===Xs)return s;var g=r.get(d),v=d in h;if(g===void 0&&(!v||(x=Li(h,d))!=null&&x.writable)&&(g=l(()=>{var _=fr(v?h[d]:mn),S=Mt(_);return gt&&p(S,pi(c,d)),S}),r.set(d,g)),g!==void 0){var y=n(g);return y===mn?void 0:y}return Reflect.get(h,d,u)},getOwnPropertyDescriptor(h,d){var u=Reflect.getOwnPropertyDescriptor(h,d);if(u&&"value"in u){var g=r.get(d);g&&(u.value=n(g))}else if(u===void 0){var v=r.get(d),y=v==null?void 0:v.v;if(v!==void 0&&y!==mn)return{enumerable:!0,configurable:!0,value:y,writable:!0}}return u},has(h,d){var y;if(d===wr)return!0;var u=r.get(d),g=u!==void 0&&u.v!==mn||Reflect.has(h,d);if(u!==void 0||we!==null&&(!g||(y=Li(h,d))!=null&&y.writable)){u===void 0&&(u=l(()=>{var x=g?fr(h[d]):mn,_=Mt(x);return gt&&p(_,pi(c,d)),_}),r.set(d,u));var v=n(u);if(v===mn)return!1}return g},set(h,d,u,g){var k;var v=r.get(d),y=d in h;if(i&&d==="length")for(var x=u;x<v.v;x+=1){var _=r.get(x+"");_!==void 0?ot(_,mn):x in h&&(_=l(()=>Mt(mn)),r.set(x+"",_),gt&&p(_,pi(c,x)))}if(v===void 0)(!y||(k=Li(h,d))!=null&&k.writable)&&(v=l(()=>Mt(void 0)),gt&&p(v,pi(c,d)),ot(v,fr(u)),r.set(d,v));else{y=v.v!==mn;var S=l(()=>fr(u));ot(v,S)}var A=Reflect.getOwnPropertyDescriptor(h,d);if(A!=null&&A.set&&A.set.call(g,u),!y){if(i&&typeof d=="string"){var H=r.get("length"),M=Number(d);Number.isInteger(M)&&M>=H.v&&ot(H,M+1)}wo(o)}return!0},ownKeys(h){n(o);var d=Reflect.ownKeys(h).filter(v=>{var y=r.get(v);return y===void 0||y.v!==mn});for(var[u,g]of r)g.v!==mn&&!(u in h)&&d.push(u);return d},setPrototypeOf(){zf()}})}function pi(t,e){return typeof e=="symbol"?`${t}[Symbol(${e.description??""})]`:gu.test(e)?`${t}.${e}`:/^\d+$/.test(e)?`${t}[${e}]`:`${t}['${e}']`}function Pr(t){try{if(t!==null&&typeof t=="object"&&wr in t)return t[wr]}catch{}return t}function vu(t,e){return Object.is(Pr(t),Pr(e))}const pu=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function mu(t){return new Proxy(t,{get(e,r,i){var o=Reflect.get(e,r,i);return pu.has(r)?function(...a){du();var l=o.apply(this,a);return cl(),l}:o}})}function yu(){const t=Array.prototype,e=Array.__svelte_cleanup;e&&e();const{indexOf:r,lastIndexOf:i,includes:o}=t;t.indexOf=function(a,l){const c=r.call(this,a,l);if(c===-1){for(let f=l??0;f<this.length;f+=1)if(Pr(this[f])===a){yo("array.indexOf(...)");break}}return c},t.lastIndexOf=function(a,l){const c=i.call(this,a,l??this.length-1);if(c===-1){for(let f=0;f<=(l??this.length-1);f+=1)if(Pr(this[f])===a){yo("array.lastIndexOf(...)");break}}return c},t.includes=function(a,l){const c=o.call(this,a,l);if(!c){for(let f=0;f<this.length;f+=1)if(Pr(this[f])===a){yo("array.includes(...)");break}}return c},Array.__svelte_cleanup=()=>{t.indexOf=r,t.lastIndexOf=i,t.includes=o}}function b(t,e,r=!0){try{t===e!=(Pr(t)===Pr(e))&&yo(r?"===":"!==")}catch{}return t===e===r}function ge(t,e,r=!0){return t==e!=(Pr(t)==Pr(e))&&yo(r?"==":"!="),t==e===r}var qi,Ua,ul,dl;function _u(){if(qi===void 0){qi=window,Ua=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;ul=Li(e,"firstChild").get,dl=Li(e,"nextSibling").get,Os(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Os(r)&&(r.__t=void 0),gt&&(t.__svelte_meta=null,yu())}}function Jr(t=""){return document.createTextNode(t)}function Dr(t){return ul.call(t)}function bo(t){return dl.call(t)}function $(t,e){return Dr(t)}function mt(t,e=!1){{var r=Dr(t);return r instanceof Comment&&r.data===""?bo(r):r}}function et(t,e=1,r=!1){let i=t;for(;e--;)i=bo(i);return i}function xu(t){t.textContent=""}function hl(){return!1}function Ya(t){var e=re,r=we;Nn(null),ur(null);try{return t()}finally{Nn(e),ur(r)}}function wu(t){we===null&&(re===null&&Hf(t),Nf()),Xi&&Tf(t)}function bu(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function Mr(t,e,r){var i=we;if(gt)for(;i!==null&&(i.f&Zo)!==0;)i=i.parent;i!==null&&(i.f&Pn)!==0&&(t|=Pn);var o={ctx:en,deps:null,nodes:null,f:t|Tn|lr,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,wv:0,ac:null};if(gt&&(o.component_function=Bi),r)try{To(o),o.f|=Pa}catch(c){throw Mn(o),c}else e!==null&&gi(o);var a=o;if(r&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&fi)===0&&(a=a.first,(t&Ir)!==0&&(t&ci)!==0&&a!==null&&(a.f|=ci)),a!==null&&(a.parent=i,i!==null&&bu(a,i),re!==null&&(re.f&fn)!==0&&(t&Yr)===0)){var l=re;(l.effects??(l.effects=[])).push(a)}return o}function Mo(){return re!==null&&!Sr}function $a(t){const e=Mr(La,null,!1);return _n(e,yn),e.teardown=t,e}function So(t){wu("$effect"),gt&&li(t,"name",{value:"$effect"});var e=we.f,r=!re&&(e&zr)!==0&&(e&Pa)===0;if(r){var i=en;(i.e??(i.e=[])).push(t)}else return gl(t)}function gl(t){return Mr(Fa|yf,t,!1)}function Mu(t){br.ensure();const e=Mr(Yr|fi,t,!0);return()=>{Mn(e)}}function Su(t){br.ensure();const e=Mr(Yr|fi,t,!0);return(r={})=>new Promise(i=>{r.outro?mi(e,()=>{Mn(e),i(void 0)}):(Mn(e),i(void 0))})}function vl(t){return Mr(Fa,t,!1)}function Eu(t){return Mr(Ko|fi,t,!0)}function ra(t,e=0){return Mr(La|e,t,!0)}function Q(t,e=[],r=[],i=[]){ou(i,e,r,o=>{Mr(La,()=>t(...o.map(n)),!0)})}function Eo(t,e=0){var r=Mr(Ir|e,t,!0);return gt&&(r.dev_stack=Lr),r}function Yn(t){return Mr(zr|fi,t,!0)}function pl(t){var e=t.teardown;if(e!==null){const r=Xi,i=re;bl(!0),Nn(null);try{e.call(null)}finally{bl(r),Nn(i)}}}function ml(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){const o=r.ac;o!==null&&Ya(()=>{o.abort(Pi)});var i=r.next;(r.f&Yr)!==0?r.parent=null:Mn(r,e),r=i}}function ku(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&zr)===0&&Mn(e),e=r}}function Mn(t,e=!0){var r=!1;(e||(t.f&qs)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(Cu(t.nodes.start,t.nodes.end),r=!0),ml(t,e&&!r),oa(t,0),_n(t,$r);var i=t.nodes&&t.nodes.t;if(i!==null)for(const a of i)a.stop();pl(t);var o=t.parent;o!==null&&o.first!==null&&yl(t),gt&&(t.component_function=null),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function Cu(t,e){for(;t!==null;){var r=t===e?null:bo(t);t.remove(),t=r}}function yl(t){var e=t.parent,r=t.prev,i=t.next;r!==null&&(r.next=i),i!==null&&(i.prev=r),e!==null&&(e.first===t&&(e.first=i),e.last===t&&(e.last=r))}function mi(t,e,r=!0){var i=[];_l(t,i,!0);var o=()=>{r&&Mn(t),e&&e()},a=i.length;if(a>0){var l=()=>--a||o();for(var c of i)c.out(l)}else o()}function _l(t,e,r){if((t.f&Pn)===0){t.f^=Pn;var i=t.nodes&&t.nodes.t;if(i!==null)for(const c of i)(c.is_global||r)&&e.push(c);for(var o=t.first;o!==null;){var a=o.next,l=(o.f&ci)!==0||(o.f&zr)!==0&&(t.f&Ir)!==0;_l(o,e,l?r:!1),o=a}}}function Za(t){xl(t,!0)}function xl(t,e){if((t.f&Pn)!==0){t.f^=Pn,(t.f&yn)===0&&(_n(t,Tn),gi(t));for(var r=t.first;r!==null;){var i=r.next,o=(r.f&ci)!==0||(r.f&zr)!==0;xl(r,o?e:!1),r=i}var a=t.nodes&&t.nodes.t;if(a!==null)for(const l of a)(l.is_global||e)&&l.in()}}function wl(t,e){if(t.nodes)for(var r=t.nodes.start,i=t.nodes.end;r!==null;){var o=r===i?null:bo(r);e.append(r),r=o}}let yi=!1;function ia(t){yi=t}let Xi=!1;function bl(t){Xi=t}let re=null,Sr=!1;function Nn(t){re=t}let we=null;function ur(t){we=t}let Sn=null;function Ml(t){re!==null&&(Sn===null?Sn=[t]:Sn.push(t))}let En=null,Dn=0,$n=null;function Tu(t){$n=t}let Sl=1,ko=0,_i=ko;function El(t){_i=t}function kl(){return++Sl}function Co(t){var e=t.f;if((e&Tn)!==0)return!0;if(e&fn&&(t.f&=~Zr),(e&xr)!==0){var r=t.deps;if(r!==null)for(var i=r.length,o=0;o<i;o++){var a=r[o];if(Co(a)&&sl(a),a.wv>t.wv)return!0}(e&lr)!==0&&Je===null&&_n(t,yn)}return!1}function Cl(t,e,r=!0){var i=t.reactions;if(i!==null&&!(Sn!=null&&Sn.includes(t)))for(var o=0;o<i.length;o++){var a=i[o];(a.f&fn)!==0?Cl(a,e,!1):e===a&&(r?_n(a,Tn):(a.f&yn)!==0&&_n(a,xr),gi(a))}}function Ka(t){var v;var e=En,r=Dn,i=$n,o=re,a=Sn,l=en,c=Sr,f=_i,s=t.f;En=null,Dn=0,$n=null,re=(s&(zr|Yr))===0?t:null,Sn=null,Di(t.ctx),Sr=!1,_i=++ko,t.ac!==null&&(Ya(()=>{t.ac.abort(Pi)}),t.ac=null);try{t.f|=Da;var h=t.fn,d=h(),u=t.deps;if(En!==null){var g;if(oa(t,Dn),u!==null&&Dn>0)for(u.length=Dn+En.length,g=0;g<En.length;g++)u[Dn+g]=En[g];else t.deps=u=En;if(Mo()&&(t.f&lr)!==0)for(g=Dn;g<u.length;g++)((v=u[g]).reactions??(v.reactions=[])).push(t)}else u!==null&&Dn<u.length&&(oa(t,Dn),u.length=Dn);if(Js()&&$n!==null&&!Sr&&u!==null&&(t.f&(fn|xr|Tn))===0)for(g=0;g<$n.length;g++)Cl($n[g],t);return o!==null&&o!==t&&(ko++,$n!==null&&(i===null?i=$n:i.push(...$n))),(t.f&Kr)!==0&&(t.f^=Kr),d}catch(y){return el(y)}finally{t.f^=Da,En=e,Dn=r,$n=i,re=o,Sn=a,Di(l),Sr=c,_i=f}}function Nu(t,e){let r=e.reactions;if(r!==null){var i=gf.call(r,t);if(i!==-1){var o=r.length-1;o===0?r=e.reactions=null:(r[i]=r[o],r.pop())}}r===null&&(e.f&fn)!==0&&(En===null||!En.includes(e))&&(_n(e,xr),(e.f&lr)!==0&&(e.f^=lr,e.f&=~Zr),Oa(e),oa(e,0))}function oa(t,e){var r=t.deps;if(r!==null)for(var i=e;i<r.length;i++)Nu(t,r[i])}function To(t){var e=t.f;if((e&$r)===0){_n(t,yn);var r=we,i=yi;if(we=t,yi=!0,gt){var o=Bi;Jo(t.component_function);var a=Lr;Qo(t.dev_stack??Lr)}try{(e&(Ir|mf))!==0?ku(t):ml(t),pl(t);var l=Ka(t);t.teardown=typeof l=="function"?l:null,t.wv=Sl;var c;gt&&jf&&(t.f&Tn)!==0&&t.deps}finally{yi=i,we=r,gt&&(Jo(o),Qo(a))}}}async function Hu(){await Promise.resolve(),Jf()}function n(t){var e=t.f,r=(e&fn)!==0;if(re!==null&&!Sr){var i=we!==null&&(we.f&$r)!==0;if(!i&&!(Sn!=null&&Sn.includes(t))){var o=re.deps;if((re.f&Da)!==0)t.rv<ko&&(t.rv=ko,En===null&&o!==null&&o[Dn]===t?Dn++:En===null?En=[t]:En.includes(t)||En.push(t));else{(re.deps??(re.deps=[])).push(t);var a=t.reactions;a===null?t.reactions=[re]:a.includes(re)||a.push(re)}}}if(gt&&lu.delete(t),Xi){if(Qr.has(t))return Qr.get(t);if(r){var l=t,c=l.v;return((l.f&yn)===0&&l.reactions!==null||Nl(l))&&(c=qa(l)),Qr.set(l,c),c}}else r&&(!(Je!=null&&Je.has(t))||fe!=null&&fe.is_fork&&!Mo())&&(l=t,Co(l)&&sl(l),yi&&Mo()&&(l.f&lr)===0&&Tl(l));if(Je!=null&&Je.has(t))return Je.get(t);if((t.f&Kr)!==0)throw t.v;return t.v}function Tl(t){if(t.deps!==null){t.f^=lr;for(const e of t.deps)(e.reactions??(e.reactions=[])).push(t),(e.f&fn)!==0&&(e.f&lr)===0&&Tl(e)}}function Nl(t){if(t.v===mn)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Qr.has(e)||(e.f&fn)!==0&&Nl(e))return!0;return!1}function aa(t){var e=Sr;try{return Sr=!0,t()}finally{Sr=e}}const Au=-7169;function _n(t,e){t.f=t.f&Au|e}function Wu(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(wr in t)Qa(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&wr in r&&Qa(r)}}}function Qa(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let i in t)try{Qa(t[i],e)}catch{}const r=Yo(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const i=Gs(r);for(let o in i){const a=i[o].get;if(a)try{a.call(t)}catch{}}}}}const Hl=new Set,Ja=new Set;function Ru(t,e,r,i={}){function o(a){if(i.capture||No.call(e,a),!a.cancelBubble)return Ya(()=>r==null?void 0:r.call(this,a))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Gi(()=>{e.addEventListener(t,o,i)}):e.addEventListener(t,o,i),o}function Bn(t,e,r,i,o){var a={capture:i,passive:o},l=Ru(t,e,r,a);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&$a(()=>{e.removeEventListener(t,l,a)})}function ti(t){for(var e=0;e<t.length;e++)Hl.add(t[e]);for(var r of Ja)r(t)}let Al=null;function No(t){var x;var e=this,r=e.ownerDocument,i=t.type,o=((x=t.composedPath)==null?void 0:x.call(t))||[],a=o[0]||t.target;Al=t;var l=0,c=Al===t&&t.__root;if(c){var f=o.indexOf(c);if(f!==-1&&(e===document||e===window)){t.__root=e;return}var s=o.indexOf(e);if(s===-1)return;f<=s&&(l=f)}if(a=o[l]||t.target,a!==e){li(t,"currentTarget",{configurable:!0,get(){return a||r}});var h=re,d=we;Nn(null),ur(null);try{for(var u,g=[];a!==null;){var v=a.assignedSlot||a.parentNode||a.host||null;try{var y=a["__"+i];y!=null&&(!a.disabled||t.target===a)&&y.call(a,t)}catch(_){u?g.push(_):u=_}if(t.cancelBubble||v===e||v===null)break;a=v}if(u){for(let _ of g)queueMicrotask(()=>{throw _});throw u}}finally{t.__root=e,delete t.currentTarget,Nn(h),ur(d)}}}function dr(t,e,r,i,o,a=!1,l=!1){var s,h;let c,f;try{c=t()}catch(d){f=d}if(typeof c!="function"&&(a||c!=null||f)){const d=i==null?void 0:i[P],u=o?` at ${d}:${o[0]}:${o[1]}`:` in ${d}`,g=((s=r[0])==null?void 0:s.eventPhase)<Event.BUBBLING_PHASE?"capture":"",y=`\`${((h=r[0])==null?void 0:h.type)+g}\` handler${u}`;if(Df(y,l?"remove the trailing `()`":"add a leading `() =>`"),f)throw f}c==null||c.apply(e,r)}function Wl(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Ho(t,e){var r=we;r.nodes===null&&(r.nodes={start:t,end:e,a:null,t:null})}function ht(t,e){var r=(e&1)!==0,i=(e&2)!==0,o,a=!t.startsWith("<!>");return()=>{o===void 0&&(o=Wl(a?t:"<!>"+t),r||(o=Dr(o)));var l=i||Ua?document.importNode(o,!0):o.cloneNode(!0);if(r){var c=Dr(l),f=l.lastChild;Ho(c,f)}else Ho(l,l);return l}}function Iu(t,e,r="svg"){var i=!t.startsWith("<!>"),o=(e&1)!==0,a=`<${r}>${i?t:"<!>"+t}</${r}>`,l;return()=>{if(!l){var c=Wl(a),f=Dr(c);if(o)for(l=document.createDocumentFragment();Dr(f);)l.appendChild(Dr(f));else l=Dr(f)}var s=l.cloneNode(!0);if(o){var h=Dr(s),d=s.lastChild;Ho(h,d)}else Ho(s,s);return s}}function It(t,e){return Iu(t,e,"svg")}function Tt(){var t=document.createDocumentFragment(),e=document.createComment(""),r=Jr();return t.append(e,r),Ho(e,r),t}function z(t,e){t!==null&&t.before(e)}const zu=["touchstart","touchmove"];function Fu(t){return zu.includes(t)}function qt(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function Lu(t,e){return Pu(t,e)}const Ui=new Map;function Pu(t,{target:e,anchor:r,props:i={},events:o,context:a,intro:l=!0}){_u();var c=new Set,f=d=>{for(var u=0;u<d.length;u++){var g=d[u];if(!c.has(g)){c.add(g);var v=Fu(g);e.addEventListener(g,No,{passive:v});var y=Ui.get(g);y===void 0?(document.addEventListener(g,No,{passive:v}),Ui.set(g,1)):Ui.set(g,y+1)}}};f(Uo(Hl)),Ja.add(f);var s=void 0,h=Su(()=>{var d=r??e.appendChild(Jr());return ru(d,{pending:()=>{}},u=>{if(a){_e({});var g=en;g.c=a}o&&(i.$$events=o),s=t(u,i)||{},a&&xe()}),()=>{var v;for(var u of c){e.removeEventListener(u,No);var g=Ui.get(u);--g===0?(document.removeEventListener(u,No),Ui.delete(u)):Ui.set(u,g)}Ja.delete(f),d!==r&&((v=d.parentNode)==null||v.removeChild(d))}});return ts.set(s,h),s}let ts=new WeakMap;function Du(t,e){const r=ts.get(t);return r?(ts.delete(t),r(e)):(gt&&(wr in t?Vf():Bf()),Promise.resolve())}function Bu(t){return t.toString=()=>(bf(),""),t}class es{constructor(e,r=!0){Rr(this,"anchor");ce(this,mr,new Map);ce(this,Wr,new Map);ce(this,qn,new Map);ce(this,Ii,new Set);ce(this,jo,!0);ce(this,qo,()=>{var e=fe;if(j(this,mr).has(e)){var r=j(this,mr).get(e),i=j(this,Wr).get(r);if(i)Za(i),j(this,Ii).delete(r);else{var o=j(this,qn).get(r);o&&(j(this,Wr).set(r,o.effect),j(this,qn).delete(r),o.fragment.lastChild.remove(),this.anchor.before(o.fragment),i=o.effect)}for(const[a,l]of j(this,mr)){if(j(this,mr).delete(a),a===e)break;const c=j(this,qn).get(l);c&&(Mn(c.effect),j(this,qn).delete(l))}for(const[a,l]of j(this,Wr)){if(a===r||j(this,Ii).has(a))continue;const c=()=>{if(Array.from(j(this,mr).values()).includes(a)){var s=document.createDocumentFragment();wl(l,s),s.append(Jr()),j(this,qn).set(a,{effect:l,fragment:s})}else Mn(l);j(this,Ii).delete(a),j(this,Wr).delete(a)};j(this,jo)||!i?(j(this,Ii).add(a),mi(l,c,!1)):c()}}});ce(this,ka,e=>{j(this,mr).delete(e);const r=Array.from(j(this,mr).values());for(const[i,o]of j(this,qn))r.includes(i)||(Mn(o.effect),j(this,qn).delete(i))});this.anchor=e,Ut(this,jo,r)}ensure(e,r){var i=fe,o=hl();if(r&&!j(this,Wr).has(e)&&!j(this,qn).has(e))if(o){var a=document.createDocumentFragment(),l=Jr();a.append(l),j(this,qn).set(e,{effect:Yn(()=>r(l)),fragment:a})}else j(this,Wr).set(e,Yn(()=>r(this.anchor)));if(j(this,mr).set(i,e),o){for(const[c,f]of j(this,Wr))c===e?i.skipped_effects.delete(f):i.skipped_effects.add(f);for(const[c,f]of j(this,qn))c===e?i.skipped_effects.delete(f.effect):i.skipped_effects.add(f.effect);i.oncommit(j(this,qo)),i.ondiscard(j(this,ka))}else j(this,qo).call(this)}}mr=new WeakMap,Wr=new WeakMap,qn=new WeakMap,Ii=new WeakMap,jo=new WeakMap,qo=new WeakMap,ka=new WeakMap;function Gu(t,e,...r){var i=new es(t);Eo(()=>{const o=e()??null;gt&&o==null&&Wf(),i.ensure(o,o&&(a=>o(a,...r)))},ci)}function Rl(t,e){const r=(i,...o)=>{var a=Bi;Jo(t);try{return e(i,...o)}finally{Jo(a)}};return Bu(r),r}if(gt){let t=function(e){if(!(e in globalThis)){let r;Object.defineProperty(globalThis,e,{configurable:!0,get:()=>{if(r!==void 0)return r;Rf(e)},set:i=>{r=i}})}};t("$state"),t("$effect"),t("$derived"),t("$inspect"),t("$props"),t("$bindable")}function O(t,e,r){return(...i)=>{const o=t(...i);var a=o.nodeType===wf?o.firstChild:o;return Il(a,e,r),o}}function Vu(t,e,r){t.__svelte_meta={parent:Lr,loc:{file:e,line:r[0],column:r[1]}},r[2]&&Il(t.firstChild,e,r[2])}function Il(t,e,r){for(var i=0;t&&i<r.length;)t.nodeType===xf&&Vu(t,e,r[i++]),t=t.nextSibling}function Ee(t){t&&Ef(t[P]??"a component",t.name)}function ke(){const t=en==null?void 0:en.function;function e(r){Sf(r,t[P])}return{$destroy:()=>e("$destroy()"),$on:()=>e("$on(...)"),$set:()=>e("$set(...)")}}function zl(t,...e){(typeof t!="object"||!(t instanceof Node))&&Us();for(let r of e)typeof r!="function"&&Us()}function q(t,e,r=!1){var i=new es(t),o=r?ci:0;function a(l,c){i.ensure(l,c)}Eo(()=>{var l=!1;e((c,f=!0)=>{l=!0,a(f,c)}),l||a(!1,null)},o)}function Ou(t,e,r){var i=new es(t);Eo(()=>{var o=e();i.ensure(o,r)})}function Zn(t,e){return e}function ju(t,e,r){for(var i=[],o=e.length,a,l=e.length,c=0;c<o;c++){let d=e[c];mi(d,()=>{if(a){if(a.pending.delete(d),a.done.add(d),a.pending.size===0){var u=t.outrogroups;ns(Uo(a.done)),u.delete(a),u.size===0&&(t.outrogroups=null)}}else l-=1},!1)}if(l===0){var f=i.length===0&&r!==null;if(f){var s=r,h=s.parentNode;xu(h),h.append(s),t.items.clear()}ns(e,!f)}else a={pending:new Set(e),done:new Set},(t.outrogroups??(t.outrogroups=new Set)).add(a)}function ns(t,e=!0){for(var r=0;r<t.length;r++)Mn(t[r],e)}var Fl;function Ae(t,e,r,i,o,a=null){var l=t,c=new Map,f=(e&4)!==0;if(f){var s=t;l=s.appendChild(Jr())}var h=null,d=fu(()=>{var _=r();return po(_)?_:_==null?[]:Uo(_)}),u,g=!0;function v(){x.fallback=h,qu(x,u,l,e,i),h!==null&&(u.length===0?(h.f&Fr)===0?Za(h):(h.f^=Fr,Ao(h,null,l)):mi(h,()=>{h=null}))}var y=Eo(()=>{u=n(d);for(var _=u.length,S=new Set,A=fe,H=hl(),M=0;M<_;M+=1){var k=u[M],w=i(k,M),E=g?null:c.get(w);E?(E.v&&ji(E.v,k),E.i&&ji(E.i,M),H&&A.skipped_effects.delete(E.e)):(E=Xu(c,g?l:Fl??(Fl=Jr()),k,w,M,o,e,r),g||(E.e.f|=Fr),c.set(w,E)),S.add(w)}if(_===0&&a&&!h&&(g?h=Yn(()=>a(l)):(h=Yn(()=>a(Fl??(Fl=Jr()))),h.f|=Fr)),!g)if(H){for(const[L,N]of c)S.has(L)||A.skipped_effects.add(N.e);A.oncommit(v),A.ondiscard(()=>{})}else v();n(d)}),x={effect:y,items:c,outrogroups:null,fallback:h};g=!1}function qu(t,e,r,i,o){var N,W,T,D,Y,st,ct,B,lt;var a=(i&8)!==0,l=e.length,c=t.items,f=t.effect.first,s,h=null,d,u=[],g=[],v,y,x,_;if(a)for(_=0;_<l;_+=1)v=e[_],y=o(v,_),x=c.get(y).e,(x.f&Fr)===0&&((W=(N=x.nodes)==null?void 0:N.a)==null||W.measure(),(d??(d=new Set)).add(x));for(_=0;_<l;_+=1){if(v=e[_],y=o(v,_),x=c.get(y).e,t.outrogroups!==null)for(const X of t.outrogroups)X.pending.delete(x),X.done.delete(x);if((x.f&Fr)!==0)if(x.f^=Fr,x===f)Ao(x,null,r);else{var S=h?h.next:f;x===t.effect.last&&(t.effect.last=x.prev),x.prev&&(x.prev.next=x.next),x.next&&(x.next.prev=x.prev),ei(t,h,x),ei(t,x,S),Ao(x,S,r),h=x,u=[],g=[],f=h.next;continue}if((x.f&Pn)!==0&&(Za(x),a&&((D=(T=x.nodes)==null?void 0:T.a)==null||D.unfix(),(d??(d=new Set)).delete(x))),x!==f){if(s!==void 0&&s.has(x)){if(u.length<g.length){var A=g[0],H;h=A.prev;var M=u[0],k=u[u.length-1];for(H=0;H<u.length;H+=1)Ao(u[H],A,r);for(H=0;H<g.length;H+=1)s.delete(g[H]);ei(t,M.prev,k.next),ei(t,h,M),ei(t,k,A),f=A,h=k,_-=1,u=[],g=[]}else s.delete(x),Ao(x,f,r),ei(t,x.prev,x.next),ei(t,x,h===null?t.effect.first:h.next),ei(t,h,x),h=x;continue}for(u=[],g=[];f!==null&&f!==x;)(s??(s=new Set)).add(f),g.push(f),f=f.next;if(f===null)continue}(x.f&Fr)===0&&u.push(x),h=x,f=x.next}if(t.outrogroups!==null){for(const X of t.outrogroups)X.pending.size===0&&(ns(Uo(X.done)),(Y=t.outrogroups)==null||Y.delete(X));t.outrogroups.size===0&&(t.outrogroups=null)}if(f!==null||s!==void 0){var w=[];if(s!==void 0)for(x of s)(x.f&Pn)===0&&w.push(x);for(;f!==null;)(f.f&Pn)===0&&f!==t.fallback&&w.push(f),f=f.next;var E=w.length;if(E>0){var L=(i&4)!==0&&l===0?r:null;if(a){for(_=0;_<E;_+=1)(ct=(st=w[_].nodes)==null?void 0:st.a)==null||ct.measure();for(_=0;_<E;_+=1)(lt=(B=w[_].nodes)==null?void 0:B.a)==null||lt.fix()}ju(t,w,L)}}a&&Gi(()=>{var X,ft;if(d!==void 0)for(x of d)(ft=(X=x.nodes)==null?void 0:X.a)==null||ft.apply()})}function Xu(t,e,r,i,o,a,l,c){var f=(l&1)!==0?(l&16)===0?hu(r,!1,!1):vi(r):null,s=(l&2)!==0?vi(o):null;return gt&&f&&(f.trace=()=>{c()[(s==null?void 0:s.v)??o]}),{v:f,i:s,e:Yn(()=>(a(e,f??r,s??o,c),()=>{t.delete(i)}))}}function Ao(t,e,r){if(t.nodes)for(var i=t.nodes.start,o=t.nodes.end,a=e&&(e.f&Fr)===0?e.nodes.start:r;i!==null;){var l=bo(i);if(a.before(i),i===o)return;i=l}}function ei(t,e,r){e===null?t.effect.first=r:e.next=r,r===null?t.effect.last=e:r.prev=e}function sa(t,e,r){vl(()=>{var i=aa(()=>e(t,r==null?void 0:r())||{});if(r&&(i!=null&&i.update)){var o=!1,a={};ra(()=>{var l=r();Wu(l),o&&$s(a,l)&&(a=l,i.update(l))}),o=!0}if(i!=null&&i.destroy)return()=>i.destroy()})}const Ll=[...` 	
\r\f \v\uFEFF`];function Uu(t,e,r){var i=t==null?"":""+t;if(e&&(i=i?i+" "+e:e),r){for(var o in r)if(r[o])i=i?i+" "+o:o;else if(i.length)for(var a=o.length,l=0;(l=i.indexOf(o,l))>=0;){var c=l+a;(l===0||Ll.includes(i[l-1]))&&(c===i.length||Ll.includes(i[c]))?i=(l===0?"":i.substring(0,l))+i.substring(c+1):l=c}}return i===""?null:i}function Pl(t,e=!1){var r=e?" !important;":";",i="";for(var o in t){var a=t[o];a!=null&&a!==""&&(i+=" "+o+": "+a+r)}return i}function rs(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function Yu(t,e){if(e){var r="",i,o;if(Array.isArray(e)?(i=e[0],o=e[1]):i=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var a=!1,l=0,c=!1,f=[];i&&f.push(...Object.keys(i).map(rs)),o&&f.push(...Object.keys(o).map(rs));var s=0,h=-1;const y=t.length;for(var d=0;d<y;d++){var u=t[d];if(c?u==="/"&&t[d-1]==="*"&&(c=!1):a?a===u&&(a=!1):u==="/"&&t[d+1]==="*"?c=!0:u==='"'||u==="'"?a=u:u==="("?l++:u===")"&&l--,!c&&a===!1&&l===0){if(u===":"&&h===-1)h=d;else if(u===";"||d===y-1){if(h!==-1){var g=rs(t.substring(s,h).trim());if(!f.includes(g)){u!==";"&&d++;var v=t.substring(s,d).trim();r+=" "+v+";"}}s=d+1,h=-1}}}}return i&&(r+=Pl(i)),o&&(r+=Pl(o,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function un(t,e,r,i,o,a){var l=t.__className;if(l!==r||l===void 0){var c=Uu(r,i,a);c==null?t.removeAttribute("class"):t.className=c,t.__className=r}else if(a&&o!==a)for(var f in a){var s=!!a[f];(o==null||s!==!!o[f])&&t.classList.toggle(f,s)}return a}function is(t,e={},r,i){for(var o in r){var a=r[o];e[o]!==a&&(r[o]==null?t.style.removeProperty(o):t.style.setProperty(o,a,i))}}function Ce(t,e,r,i){var o=t.__style;if(o!==e){var a=Yu(e,i);a==null?t.removeAttribute("style"):t.style.cssText=a,t.__style=e}else i&&(Array.isArray(i)?(is(t,r==null?void 0:r[0],i[0]),is(t,r==null?void 0:r[1],i[1],"important")):is(t,r,i));return i}function os(t,e,r=!1){if(t.multiple){if(e==null)return;if(!po(e))return Gf();for(var i of t.options)i.selected=e.includes(Bl(i));return}for(i of t.options){var o=Bl(i);if(vu(o,e)){i.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function Dl(t){var e=new MutationObserver(()=>{os(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),$a(()=>{e.disconnect()})}function Bl(t){return"__value"in t?t.__value:t.value}const $u=Symbol("is custom element"),Zu=Symbol("is html");function Gl(t,e){var r=as(t);r.value===(r.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function Ku(t,e){var r=as(t);r.checked!==(r.checked=e??void 0)&&(t.checked=e)}function R(t,e,r,i){var o=as(t);o[e]!==(o[e]=r)&&(e==="loading"&&(t[_f]=r),r==null?t.removeAttribute(e):typeof r!="string"&&Qu(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function as(t){return t.__attributes??(t.__attributes={[$u]:t.nodeName.includes("-"),[Zu]:t.namespaceURI===hf})}var Vl=new Map;function Qu(t){var e=t.getAttribute("is")||t.nodeName,r=Vl.get(e);if(r)return r;Vl.set(e,r=[]);for(var i,o=t,a=Element.prototype;a!==o;){i=Gs(o);for(var l in i)i[l].set&&r.push(l);o=Yo(o)}return r}function Ol(t,e){return t===e||(t==null?void 0:t[wr])===e}function ni(t={},e,r,i){return vl(()=>{var o,a;return ra(()=>{o=a,a=[],aa(()=>{t!==r(...a)&&(e(t,...a),o&&Ol(r(...o),t)&&e(null,...o))})}),()=>{Gi(()=>{a&&Ol(r(...a),t)&&e(null,...a)})}}),t}function Gn(t,e,r,i){var o=i,a=!0,l=()=>(a&&(a=!1,o=i),o),c;c=t[e],c===void 0&&i!==void 0&&(c=l());var f;return f=()=>{var s=t[e];return s===void 0?l():(a=!0,s)},f}function xn(t,e){ra(()=>{const r=new Map,i=t(),o=po(i)?i:i==null?[]:Array.from(i),a=o.length;for(let l=0;l<a;l++){const c=e(o[l],l);if(r.has(c)){const f=String(r.get(c)),s=String(l);let h=String(c);h.startsWith("[object ")&&(h=null),Cf(f,s,h)}r.set(c,l)}})}function jl(t,...e){return aa(()=>{try{let r=!1;const i=[];for(const o of e)o&&typeof o=="object"&&wr in o?(i.push(Yf(o,!0)),r=!0):i.push(o);r&&(Pf(t),console.log("%c[snapshot]","color: grey",...i))}catch{}}),e}const Ju="5";typeof window<"u"&&((nf=window.__svelte??(window.__svelte={})).v??(nf.v=new Set)).add(Ju);function ql(t){var i,o;const e=((i=t==null?void 0:t.shapes)==null?void 0:i.lineWidth)??1.5,r=((o=t==null?void 0:t.colors)==null?void 0:o.intervalLine)??"#475569";return{width:Math.max(4,Math.round(e*3)),height:Math.max(6,Math.round(e*4)),color:r,opacity:1}}function la(t,e,r,i){const{width:o,height:a}=i,l=a/2;return t==="left"?`M ${e} ${r} L ${e+o} ${r-l} L ${e+o} ${r+l} Z`:`M ${e} ${r} L ${e-o} ${r-l} L ${e-o} ${r+l} Z`}const Xl=[1,5,2,2.5,4,3],Er=[.001,.002,.005,.01,.02,.05,.1,.15,.2,.25,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.75,2,2.5,3,4,5,6,7,8,10,12,15,20,25,30,40,50,75,100,150,200,300,500,750,1e3];function ca(t,e){return e?td(t):ed(t)}function td(t){if(t[0]<=0||t[1]<=0)return[.1,10];if(t[0]>=t[1])return t;let e=Er[0];for(const i of Er)if(i<=t[0])e=i;else break;t[0]<Er[0]&&(e=Math.pow(10,Math.floor(Math.log10(t[0]))));let r=Er[Er.length-1];for(let i=Er.length-1;i>=0&&Er[i]>=t[1];i--)r=Er[i];return t[1]>Er[Er.length-1]&&(r=Math.pow(10,Math.ceil(Math.log10(t[1])))),[e,r]}function ed(t){const e=t[1]-t[0];if(e===0)return t;if(e<0)return[t[1],t[0]];const r=Math.pow(10,Math.floor(Math.log10(e)));let i=r,o=1/0;for(const c of Xl)for(const f of[.1,1,10]){const s=c*r*f;if(s<=0)continue;const h=Math.floor(t[0]/s)*s,g=(Math.ceil(t[1]/s)*s-h)/e-1;g>=0&&g<o&&(o=g,i=s)}const a=Math.floor(t[0]/i)*i,l=Math.ceil(t[1]/i)*i;return[Math.round(a*1e10)/1e10,Math.round(l*1e10)/1e10]}function Kn(t,e,r,i,o=!1){if(t&&r in t){const a=t[r];if(typeof a=="number"&&Number.isFinite(a)&&(!o||a>0))return a}return r===i&&e!=null&&Number.isFinite(e)&&(!o||e>0)?e:null}const Hn=12;function Ul(t){const{rows:e,config:r,scale:i,nullValue:o,forestWidth:a,pointSize:l,effects:c=[],pointCol:f,lowerCol:s,upperCol:h}=t,d=nd(e,r,i,o,c,f,s,h),u=rd(d,r,i,a,l),g=Yl(d,r,i,o);return{axisLimits:d,plotRegion:u,ticks:g}}function nd(t,e,r,i,o=[],a,l,c){const f=e.rangeMin!=null,s=e.rangeMax!=null;if(f&&s)return[e.rangeMin,e.rangeMax];const h=[],d=r==="log",u=a||"point";for(const X of t){const ft=Kn(X.metadata,void 0,u,"point",d);ft!=null&&h.push(ft);for(const V of o){const tt=Kn(X.metadata,void 0,V.pointCol,"point",d);tt!=null&&h.push(tt)}}if(h.length===0)return r==="log"?[.1,10]:[-1,1];let g=Math.min(...h),v=Math.max(...h);(e.includeNull??!0)&&(g=Math.min(g,i),v=Math.max(v,i));const x=g,_=v;let S;if(d){const X=Math.max(g,.001),ft=Math.max(v,.001);S=Math.log(ft)-Math.log(X)}else S=v-g;if(S===0||!Number.isFinite(S)){const X=h[0];if(d)return ca([X/2,X*2],!0);{const ft=Math.max(1,Math.abs(X)*.1);return ca([X-ft,X+ft],!1)}}const[A,H]=ca([g,v],d),M=e.ciClipFactor??2;let k=A,w=H;const E=[],L=[],N=l||"lower",W=c||"upper";for(const X of t){const ft=Kn(X.metadata,void 0,N,"lower",d);ft!=null&&E.push(ft);const V=Kn(X.metadata,void 0,W,"upper",d);V!=null&&L.push(V);for(const tt of o){const J=Kn(X.metadata,void 0,tt.lowerCol,"lower",d);J!=null&&E.push(J);const it=Kn(X.metadata,void 0,tt.upperCol,"upper",d);it!=null&&L.push(it)}}let T,D;if(d)T=k/M,D=w*M;else{const X=w-k;T=k-X*M,D=w+X*M}let Y=!1,st=!1;for(const X of E)X>=T?k=Math.min(k,X):Y=!0;for(const X of L)X<=D?w=Math.max(w,X):st=!0;if(Y&&(k=Math.min(k,T)),st&&(w=Math.max(w,D)),e.symmetric===!0&&!f&&!s)if(r==="log"){const X=Math.log(i),ft=Math.max(Math.abs(Math.log(Math.max(x,.001))-X),Math.abs(Math.log(_)-X));k=Math.exp(X-ft),w=Math.exp(X+ft)}else{const X=Math.max(Math.abs(x-i),Math.abs(_-i));k=i-X,w=i+X}let B=f?e.rangeMin:k,lt=s?e.rangeMax:w;return ca([B,lt],r==="log")}function rd(t,e,r,i,o){if(!(e.markerMargin??!0)||i<=0)return t;const l=i-2*Hn;if(l<=0)return t;if(r==="log"){const s=Math.log(Math.max(t[0],.001)),h=Math.log(Math.max(t[1],.001)),d=h-s,u=o/2*(d/l),g=Math.min(u,.5);return[Math.exp(s-g),Math.exp(h+g)]}const c=t[1]-t[0],f=o/2*(c/l);return[t[0]-f,t[1]+f]}function Yl(t,e,r,i){const[o,a]=t,l=i>=o&&i<=a,c=(e.nullTick??!0)&&l;if(e.tickValues&&e.tickValues.length>0){let h=e.tickValues.filter(d=>d>=o&&d<=a);return c&&!h.includes(i)&&(h=[...h,i].sort((d,u)=>d-u)),h}const f=e.tickCount??5;let s=r==="log"?od(t,f):id(t,f);return c&&!s.includes(i)&&(s=[...s,i].sort((h,d)=>h-d)),s}function id(t,e){const[r,i]=t,o=i-r;if(o===0)return[r];const a=o/Math.max(e-1,1),l=Math.pow(10,Math.floor(Math.log10(a)));let c=l,f=1/0;for(const d of Xl){const u=d*l,g=Math.floor(o/u)+1,v=Math.abs(g-e);v<f&&(f=v,c=u);const y=d*l/10;if(y>0){const x=Math.floor(o/y)+1,_=Math.abs(x-e);_<f&&(f=_,c=y)}}const s=Math.ceil(r/c)*c,h=[];for(let d=s;d<=i+c*.001;d+=c){const u=Math.round(d*1e10)/1e10;u>=r&&u<=i&&h.push(u)}return h.length<2&&(h.includes(r)||h.unshift(r),h.includes(i)||h.push(i)),h}function od(t,e){const[r,i]=t,a=[.01,.02,.05,.1,.15,.2,.25,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.75,2,2.5,3,4,5,6,7,8,10,12,15,20,25,30,40,50,75,100,150,200,500,1e3].filter(f=>f>=r&&f<=i);if(a.length<=e)return a;const l=[1,.1,10,100,.5,2,5,.2,.25,1.5,3,4,20,50],c=[];for(const f of l)a.includes(f)&&c.length<e&&c.push(f);if(c.length<e){const f=a.filter(h=>!c.includes(h)),s=Math.max(1,Math.floor(f.length/(e-c.length)));for(let h=0;h<f.length&&c.length<e;h+=s)c.push(f[h])}return c.sort((f,s)=>f-s)}const ad=.05,sd=.12,ld=.16,cd=.22,Qn={RENDERING_BUFFER:4,DEFAULT_AXIS_GAP:12},kr={FONT_SCALE:.8,PADDING:4,GAP:6},Cr={DEFAULT_COLUMN_WIDTH:100,AXIS_HEIGHT:32,AXIS_LABEL_HEIGHT:32,BOTTOM_MARGIN:16,MIN_FOREST_WIDTH:200,DEFAULT_WIDTH:800},Jn={TITLE_HEIGHT:28,SUBTITLE_HEIGHT:20,CAPTION_HEIGHT:16,FOOTNOTE_HEIGHT:14,DEFAULT_FONT_SIZE:14,REM_BASE:16,TEXT_BASELINE_ADJUSTMENT:1/3},Le={INDENT_PER_LEVEL:12,TEXT_PADDING:10,DEFAULT_TICK_COUNT:5},fd={OVERALL_ROW_HEIGHT_MULTIPLIER:1.5},tr={MIN:60,MAX:600,LABEL_MAX:400,VISUAL_MIN:{sparkline:92,bar:100,stars:84,range:84,badge:74,forest:200,viz_bar:150,viz_boxplot:150,viz_violin:150}},ri={CHEVRON_WIDTH:12,GAP:6,SAFETY_MARGIN:8},$l={SPACING:6},ss={EDGE_THRESHOLD:35,MIN_TICK_SPACING:50},Wo={success:"#16a34a",warning:"#d97706",error:"#dc2626",info:"#2563eb"};function Zl(t,e){return e<=1?0:-((e-1)*$l.SPACING)/2+t*$l.SPACING}qe[P]="src/components/forest/RowInterval.svelte";var ud=O(It('<polygon stroke-width="1" class="point-estimate svelte-1wct561"></polygon>'),qe[P],[[251,10]]),dd=O(It("<path></path>"),qe[P],[[276,12]]),hd=O(It("<line></line>"),qe[P],[[282,12]]),gd=O(It("<path></path>"),qe[P],[[293,12]]),vd=O(It("<line></line>"),qe[P],[[299,12]]),pd=O(It('<circle class="point-estimate svelte-1wct561"></circle>'),qe[P],[[314,12]]),md=O(It('<polygon class="point-estimate svelte-1wct561"></polygon>'),qe[P],[[329,12]]),yd=O(It('<polygon class="point-estimate svelte-1wct561"></polygon>'),qe[P],[[341,12]]),_d=O(It('<rect class="point-estimate svelte-1wct561"></rect>'),qe[P],[[349,12]]),xd=O(It("<line></line><!><!><!>",1),qe[P],[[266,10]]),wd=O(It('<g class="interval-row svelte-1wct561" role="button" tabindex="0"></g>'),qe[P],[[218,2]]);function qe(t,e){Ee(new.target),_e(e,!0,qe);let r=Gn(e,"weightCol",3,null),i=Gn(e,"isLog",3,!1),o=Gn(e,"forestColumnOptions",3,null);const a=p(m(()=>ql(e.theme)),"arrowConfig"),l=p(m(()=>{if(!o())return[];const w=b(o().scale,"log")||i();if(o().point&&o().lower&&o().upper){const E=e.row.metadata[o().point],L=e.row.metadata[o().lower],N=e.row.metadata[o().upper],W=!w||ge(E,null,!1)&&E>0?E:null,T=!w||ge(L,null,!1)&&L>0?L:null,D=!w||ge(N,null,!1)&&N>0?N:null;return[{id:"inline",pointCol:o().point,lowerCol:o().lower,upperCol:o().upper,label:null,color:null,shape:null,opacity:null,point:W,lower:T,upper:D}]}return o().effects&&o().effects.length>0?o().effects.map(E=>({...E,point:Kn(e.row.metadata,null,E.pointCol,"point",w),lower:Kn(e.row.metadata,null,E.lowerCol,"lower",w),upper:Kn(e.row.metadata,null,E.upperCol,"upper",w)})):[]}),"effectsToRender"),c=p(m(()=>n(l).some(w=>ge(w.point,null,!1)&&!Number.isNaN(w.point)&&ge(w.lower,null,!1)&&!Number.isNaN(w.lower)&&ge(w.upper,null,!1)&&!Number.isNaN(w.upper))),"hasAnyValidValues"),f=p(m(()=>{var w;return b((w=e.row.style)==null?void 0:w.type,"summary")}),"isSummaryRow");function s(w){return e.clipBounds?w<e.clipBounds[0]:e.xScale(w)<0}function h(w){return e.clipBounds?w>e.clipBounds[1]:e.xScale(w)>e.layout.forestWidth}function d(w){if(!e.clipBounds)return Math.max(0,Math.min(e.layout.forestWidth,e.xScale(w)));const E=Math.max(e.clipBounds[0],Math.min(e.clipBounds[1],w));return e.xScale(E)}const u=p(m(()=>e.clipBounds?e.xScale(e.clipBounds[0]):Hn),"leftArrowX"),g=p(m(()=>e.clipBounds?e.xScale(e.clipBounds[1]):e.layout.forestWidth-Hn),"rightArrowX"),v=p(m(()=>{var w;return((w=e.theme)==null?void 0:w.shapes.summaryHeight)??10}),"diamondHeight"),y=p(m(()=>n(v)/2),"halfDiamondHeight"),x=p(m(()=>{var w;return((w=e.theme)==null?void 0:w.shapes.pointSize)??6}),"basePointSize");function _(w){var L;if(w&&ge((L=e.row.markerStyle)==null?void 0:L.size,null,!1))return n(x)*e.row.markerStyle.size;const E=r()?e.row.metadata[r()]:void 0;if(E){const N=.5+Math.sqrt(E/100)*1.5;return Math.min(Math.max(n(x)*N,3),n(x)*2.5)}return n(x)}function S(w,E){var B,lt,X,ft;const L=b(E,0),N=e.row.markerStyle,W=(B=e.theme)==null?void 0:B.shapes.effectColors,T=(lt=e.theme)==null?void 0:lt.shapes.markerShapes,D=["square","circle","diamond","triangle"];let Y;L&&(N!=null&&N.color)?Y=N.color:w.color?Y=w.color:W&&W.length>0?Y=W[E%W.length]:Y=((X=e.theme)==null?void 0:X.colors.interval)??((ft=e.theme)==null?void 0:ft.colors.primary)??"#2563eb";let st;L&&(N!=null&&N.shape)?st=N.shape:w.shape?st=w.shape:T&&T.length>0?st=T[E%T.length]:st=D[E%D.length];let ct;return L&&ge(N==null?void 0:N.opacity,null,!1)?ct=N.opacity:ge(w.opacity,null,!1)?ct=w.opacity:ct=1,{color:Y,shape:st,opacity:ct}}var A={...ke()},H=Tt(),M=mt(H);{var k=w=>{var E=wd();E.__click=function(...L){dr(()=>e.onRowClick,this,L,qe,[222,13])},E.__keydown=L=>{var N;return b(L.key,"Enter")&&((N=e.onRowClick)==null?void 0:N.call(e))},I(()=>Ae(E,21,()=>n(l),Zn,(L,N,W)=>{const T=p(m(()=>ge(n(N).point,null,!1)&&!Number.isNaN(n(N).point)&&ge(n(N).lower,null,!1)&&!Number.isNaN(n(N).lower)&&ge(n(N).upper,null,!1)&&!Number.isNaN(n(N).upper)),"hasValidEffect");n(T);var D=Tt(),Y=mt(D);{var st=ct=>{const B=p(m(()=>e.yPosition+Zl(W,n(l).length)),"effectY");n(B);const lt=p(m(()=>e.xScale(n(N).lower)),"x1");n(lt);const X=p(m(()=>e.xScale(n(N).upper)),"x2");n(X);const ft=p(m(()=>e.xScale(n(N).point)),"cx");n(ft);const V=p(m(()=>S(n(N),W)),"style");n(V);const tt=p(m(()=>_(b(W,0))),"pointSize");n(tt);const J=p(m(()=>{var St;return((St=e.theme)==null?void 0:St.colors.intervalLine)??"#475569"}),"lineColor");n(J);var it=Tt(),Ht=mt(it);{var bt=St=>{const ee=p(m(()=>[`${n(lt)},${n(B)}`,`${n(ft)},${n(B)-n(y)}`,`${n(X)},${n(B)}`,`${n(ft)},${n(B)+n(y)}`].join(" ")),"summaryDiamondPoints");n(ee);var Te=ud();Q(()=>{var Zt;R(Te,"points",n(ee)),R(Te,"fill",n(V).color),R(Te,"fill-opacity",n(V).opacity),R(Te,"stroke",((Zt=e.theme)==null?void 0:Zt.colors.summaryBorder)??"#1d4ed8")}),z(St,Te)},at=St=>{const ee=p(m(()=>s(n(N).lower)),"clippedL");n(ee);const Te=p(m(()=>h(n(N).upper)),"clippedR");n(Te);const Zt=p(m(()=>d(n(N).lower)),"clampedX1");n(Zt);const Ie=p(m(()=>d(n(N).upper)),"clampedX2");n(Ie);const vt=p(m(()=>n(a).height/2),"whiskerHalfHeight");n(vt);const Et=p(m(()=>d(n(N).point)),"clampedCx");n(Et);var ne=xd(),Ve=mt(ne),xt=et(Ve);{var ve=Yt=>{var Rt=dd();Q(ze=>{R(Rt,"d",ze),R(Rt,"fill",n(a).color),R(Rt,"fill-opacity",n(a).opacity)},[()=>la("left",n(u),n(B),n(a))]),z(Yt,Rt)},Dt=Yt=>{var Rt=hd();Q(()=>{var ze;R(Rt,"x1",n(Zt)),R(Rt,"x2",n(Zt)),R(Rt,"y1",n(B)-n(vt)),R(Rt,"y2",n(B)+n(vt)),R(Rt,"stroke",n(J)),R(Rt,"stroke-width",((ze=e.theme)==null?void 0:ze.shapes.lineWidth)??1.5)}),z(Yt,Rt)};I(()=>q(xt,Yt=>{n(ee)?Yt(ve):Yt(Dt,!1)}),"if",qe,275,10)}var Bt=et(xt);{var Ye=Yt=>{var Rt=gd();Q(ze=>{R(Rt,"d",ze),R(Rt,"fill",n(a).color),R(Rt,"fill-opacity",n(a).opacity)},[()=>la("right",n(g),n(B),n(a))]),z(Yt,Rt)},Ue=Yt=>{var Rt=vd();Q(()=>{var ze;R(Rt,"x1",n(Ie)),R(Rt,"x2",n(Ie)),R(Rt,"y1",n(B)-n(vt)),R(Rt,"y2",n(B)+n(vt)),R(Rt,"stroke",n(J)),R(Rt,"stroke-width",((ze=e.theme)==null?void 0:ze.shapes.lineWidth)??1.5)}),z(Yt,Rt)};I(()=>q(Bt,Yt=>{n(Te)?Yt(Ye):Yt(Ue,!1)}),"if",qe,292,10)}var Ne=et(Bt);{var kn=Yt=>{var Rt=pd();Q(()=>{R(Rt,"cx",n(Et)),R(Rt,"cy",n(B)),R(Rt,"r",n(tt)),R(Rt,"fill",n(V).color),R(Rt,"fill-opacity",n(V).opacity)}),z(Yt,Rt)},ln=Yt=>{var Rt=Tt(),ze=mt(Rt);{var sr=wn=>{const tn=p(m(()=>[`${n(Et)},${n(B)-n(tt)}`,`${n(Et)+n(tt)},${n(B)}`,`${n(Et)},${n(B)+n(tt)}`,`${n(Et)-n(tt)},${n(B)}`].join(" ")),"diamondPts");n(tn);var Cn=md();Q(()=>{R(Cn,"points",n(tn)),R(Cn,"fill",n(V).color),R(Cn,"fill-opacity",n(V).opacity)}),z(wn,Cn)},yr=wn=>{var tn=Tt(),Cn=mt(tn);{var Ur=Ze=>{const hn=p(m(()=>[`${n(Et)},${n(B)-n(tt)}`,`${n(Et)+n(tt)},${n(B)+n(tt)}`,`${n(Et)-n(tt)},${n(B)+n(tt)}`].join(" ")),"trianglePts");n(hn);var Ln=yd();Q(()=>{R(Ln,"points",n(hn)),R(Ln,"fill",n(V).color),R(Ln,"fill-opacity",n(V).opacity)}),z(Ze,Ln)},bn=Ze=>{var hn=_d();Q(()=>{R(hn,"x",n(Et)-n(tt)),R(hn,"y",n(B)-n(tt)),R(hn,"width",n(tt)*2),R(hn,"height",n(tt)*2),R(hn,"fill",n(V).color),R(hn,"fill-opacity",n(V).opacity)}),z(Ze,hn)};I(()=>q(Cn,Ze=>{b(n(V).shape,"triangle")?Ze(Ur):Ze(bn,!1)},!0),"if",qe,335,10)}z(wn,tn)};I(()=>q(ze,wn=>{b(n(V).shape,"diamond")?wn(sr):wn(yr,!1)},!0),"if",qe,322,10)}z(Yt,Rt)};I(()=>q(Ne,Yt=>{b(n(V).shape,"circle")?Yt(kn):Yt(ln,!1)}),"if",qe,313,10)}Q(()=>{var Yt;R(Ve,"x1",n(Zt)),R(Ve,"x2",n(Ie)),R(Ve,"y1",n(B)),R(Ve,"y2",n(B)),R(Ve,"stroke",n(J)),R(Ve,"stroke-width",((Yt=e.theme)==null?void 0:Yt.shapes.lineWidth)??1.5)}),z(St,ne)};I(()=>q(Ht,St=>{n(f)?St(bt):St(at,!1)}),"if",qe,240,8)}z(ct,it)};I(()=>q(Y,ct=>{n(T)&&ct(st)}),"if",qe,231,6)}z(L,D)}),"each",qe,227,4),Bn("mouseenter",E,L=>{var N;return(N=e.onRowHover)==null?void 0:N.call(e,!0,L)}),Bn("mouseleave",E,L=>{var N;return(N=e.onRowHover)==null?void 0:N.call(e,!1,L)}),z(w,E)};I(()=>q(M,w=>{n(c)&&w(k)}),"if",qe,217,0)}return z(t,H),xe(A)}ti(["click","keydown"]),An[P]="src/components/forest/EffectAxis.svelte";function bd(t){return Math.abs(t)<.01?"0":Math.abs(t)>=100?t.toFixed(0):Math.abs(t)>=10?t.toFixed(1):t.toFixed(2)}var Md=O(It('<line stroke="var(--wf-border, #e2e8f0)" stroke-width="1" opacity="0.5"></line>'),An[P],[[171,6]]),Sd=O(It('<g><line stroke="var(--wf-border, #e2e8f0)" stroke-width="1"></line><text fill="var(--wf-secondary, #64748b)" font-size="var(--wf-font-size-sm, 0.75rem)" class="svelte-hf6bj6"> </text></g>'),An[P],[[187,4,[[188,6],[194,6]]]]),Ed=O(It('<text text-anchor="middle" fill="var(--wf-secondary, #64748b)" font-size="var(--wf-font-size-sm, 0.75rem)" font-weight="500" class="svelte-hf6bj6"> </text>'),An[P],[[208,4]]),kd=O(It('<g class="effect-axis svelte-hf6bj6"><line stroke="var(--wf-border, #e2e8f0)" stroke-width="1"></line><!><!><!></g>'),An[P],[[157,0,[[159,2]]]]);function An(t,e){Ee(new.target),_e(e,!0,An);let r=Gn(e,"position",3,"bottom"),i=Gn(e,"plotHeight",3,0);const o=p(m(()=>{var w;return(w=e.theme)==null?void 0:w.axis}),"axisConfig"),a=p(m(()=>{var w;return e.gridlines??((w=n(o))==null?void 0:w.gridlines)??!1}),"showGridlines"),l=p(m(()=>{var w;return((w=n(o))==null?void 0:w.gridlineStyle)??"dotted"}),"gridlineStyle"),c=35,f=p(m(()=>{var w;return((w=n(o))==null?void 0:w.nullTick)??!0}),"shouldIncludeNullTick"),s=p(m(()=>{var Ht,bt;const[w,E]=e.xScale.domain(),L=e.layout.nullValue,N=L>=w&&L<=E;if((Ht=n(o))!=null&&Ht.tickValues&&n(o).tickValues.length>0){let at=n(o).tickValues.filter(St=>St>=w&&St<=E);return n(f)&&N&&!at.includes(L)&&(at=[...at,L].sort((St,ee)=>St-ee)),at}const W=50,T=Math.max(2,Math.floor(e.layout.forestWidth/W)),Y=((bt=n(o))==null?void 0:bt.tickCount)??null??Math.min(7,T),st=e.baseTicks&&e.baseTicks.length>0?e.baseTicks.filter(at=>at>=w&&at<=E):e.xScale.ticks(Y);if(b(st.length,0))return n(f)&&N?[L]:[];const ct=e.xScale(L),B=st.filter(at=>at<L).reverse(),lt=st.filter(at=>at>L),X=st.some(at=>b(at,L)),ft=[];let V=ct;for(const at of B){const St=e.xScale(at);V-St>=W&&(ft.unshift(at),V=St)}const tt=[];let J=ct;for(const at of lt){const St=e.xScale(at);St-J>=W&&(tt.push(at),J=St)}const it=[...ft];if((X||n(f)&&N)&&it.push(L),it.push(...tt),it.length<2){const at=new Set(it);at.has(w)||it.unshift(w),it.length<2&&!at.has(E)&&it.push(E)}return it}),"ticks"),h=p(m(()=>b(r(),"bottom")?0:e.layout.headerHeight-8),"axisY"),d=p(m(()=>b(r(),"bottom")),"isBottom"),u=p(m(()=>b(n(l),"dashed")?"4,4":b(n(l),"dotted")?"2,2":"none"),"gridlineDashArray");function g(w){return w<c?"start":w>e.layout.forestWidth-c?"end":"middle"}function v(w){return w<c?2:w>e.layout.forestWidth-c?-2:0}var y={...ke()},x=kd(),_=$(x),S=et(_);{var A=w=>{var E=Tt(),L=mt(E);xn(()=>n(s),N=>N),I(()=>Ae(L,16,()=>n(s),N=>N,(N,W)=>{var T=Md();Q((D,Y)=>{R(T,"x1",D),R(T,"x2",Y),R(T,"y1",(n(d),n(h))),R(T,"y2",n(d)?-i():i()),R(T,"stroke-dasharray",n(u))},[()=>e.xScale(W),()=>e.xScale(W)]),z(N,T)}),"each",An,170,4),z(w,E)};I(()=>q(S,w=>{n(a)&&i()>0&&w(A)}),"if",An,169,2)}var H=et(S);xn(()=>n(s),w=>w),I(()=>Ae(H,16,()=>n(s),w=>w,(w,E)=>{const L=p(m(()=>e.xScale(E)),"tickX");n(L);var N=Sd(),W=$(N),T=et(W),D=$(T,!0);Q((Y,st,ct)=>{R(N,"transform",`translate(${n(L)??""}, 0)`),R(W,"y1",n(d)?n(h):n(h)-4),R(W,"y2",n(d)?n(h)+4:n(h)),R(T,"x",Y),R(T,"y",n(d)?n(h)+16:n(h)-8),R(T,"text-anchor",st),qt(D,ct)},[()=>v(n(L)),()=>g(n(L)),()=>bd(E)]),z(w,N)}),"each",An,185,2);var M=et(H);{var k=w=>{var E=Ed(),L=$(E);Q(()=>{R(E,"x",e.layout.forestWidth/2),R(E,"y",n(d)?n(h)+28:n(h)-24),qt(L,e.axisLabel)}),z(w,E)};I(()=>q(M,w=>{e.axisLabel&&w(k)}),"if",An,207,2)}return Q((w,E)=>{R(_,"x1",w),R(_,"x2",E),R(_,"y1",n(h)),R(_,"y2",n(h))},[()=>e.xScale.range()[0],()=>e.xScale.range()[1]]),z(t,x),xe(y)}ii[P]="src/components/forest/SummaryDiamond.svelte";var Cd=O(It('<path fill="var(--wf-summary-fill, #2563eb)"></path>'),ii[P],[[58,4]]),Td=O(It('<path fill="var(--wf-summary-fill, #2563eb)"></path>'),ii[P],[[66,4]]),Nd=O(It('<g class="summary-diamond svelte-1g0hzau"><polygon fill="var(--wf-summary-fill, #2563eb)" stroke="var(--wf-summary-border, #1d4ed8)" stroke-width="1" class="svelte-1g0hzau"></polygon><!><!></g>'),ii[P],[[47,0,[[49,2]]]]);function ii(t,e){Ee(new.target),_e(e,!0,ii);const r=p(m(()=>{var v;return((v=e.theme)==null?void 0:v.shapes.summaryHeight)??10}),"diamondHeight"),i=p(m(()=>n(r)/2),"halfHeight"),o=p(m(()=>{const v=e.xScale(e.lower),y=e.xScale(e.point),x=e.xScale(e.upper),_=0,S=e.layout.forestWidth,A=Math.max(_,v),H=Math.min(S,x);return[[A,e.yPosition].join(","),[y,e.yPosition-n(i)].join(","),[H,e.yPosition].join(","),[y,e.yPosition+n(i)].join(",")].join(" ")}),"points"),a=p(m(()=>e.xScale(e.lower)<0),"clippedLeft"),l=p(m(()=>e.xScale(e.upper)>e.layout.forestWidth),"clippedRight");var c={...ke()},f=Nd(),s=$(f),h=et(s);{var d=v=>{var y=Cd();Q(()=>R(y,"d",`M 4 ${e.yPosition??""} L 10 ${e.yPosition-4} L 10 ${e.yPosition+4} Z`)),z(v,y)};I(()=>q(h,v=>{n(a)&&v(d)}),"if",ii,57,2)}var u=et(h);{var g=v=>{var y=Td();Q(()=>R(y,"d",`M ${e.layout.forestWidth-4} ${e.yPosition??""} L ${e.layout.forestWidth-10} ${e.yPosition-4} L ${e.layout.forestWidth-10} ${e.yPosition+4} Z`)),z(v,y)};I(()=>q(u,v=>{n(l)&&v(g)}),"if",ii,65,2)}return Q(()=>R(s,"points",n(o))),z(t,f),xe(c)}er[P]="src/components/forest/PlotHeader.svelte";var Hd=O(ht('<h2 class="plot-title svelte-xpghc"> </h2>'),er[P],[[17,8]]),Ad=O(ht('<p class="plot-subtitle svelte-xpghc"> </p>'),er[P],[[20,8]]),Wd=O(ht('<div class="controls-area svelte-xpghc"><!></div>'),er[P],[[24,6]]),Rd=O(ht('<div class="header-area svelte-xpghc"><div class="title-area svelte-xpghc"><!> <!></div> <!></div>'),er[P],[[14,2,[[15,4]]]]);function er(t,e){Ee(new.target),_e(e,!0,er);var r={...ke()},i=Tt(),o=mt(i);{var a=l=>{var c=Rd(),f=$(c),s=$(f);{var h=y=>{var x=Hd(),_=$(x);Q(()=>qt(_,e.title)),z(y,x)};I(()=>q(s,y=>{e.title&&y(h)}),"if",er,16,6)}var d=et(s,2);{var u=y=>{var x=Ad(),_=$(x);Q(()=>qt(_,e.subtitle)),z(y,x)};I(()=>q(d,y=>{e.subtitle&&y(u)}),"if",er,19,6)}var g=et(f,2);{var v=y=>{var x=Wd(),_=$(x);I(()=>Gu(_,()=>e.controls),"render",er,25,8),z(y,x)};I(()=>q(g,y=>{e.controls&&y(v)}),"if",er,23,4)}z(l,c)};I(()=>q(o,l=>{(e.title||e.subtitle)&&l(a)}),"if",er,13,0)}return z(t,i),xe(r)}Br[P]="src/components/forest/PlotFooter.svelte";var Id=O(ht('<p class="plot-caption svelte-7xjsde"> </p>'),Br[P],[[13,6]]),zd=O(ht('<p class="plot-footnote svelte-7xjsde"> </p>'),Br[P],[[16,6]]),Fd=O(ht('<div class="plot-footer svelte-7xjsde"><!> <!></div>'),Br[P],[[11,2]]);function Br(t,e){Ee(new.target),_e(e,!0,Br);var r={...ke()},i=Tt(),o=mt(i);{var a=l=>{var c=Fd(),f=$(c);{var s=u=>{var g=Id(),v=$(g);Q(()=>qt(v,e.caption)),z(u,g)};I(()=>q(f,u=>{e.caption&&u(s)}),"if",Br,12,4)}var h=et(f,2);{var d=u=>{var g=zd(),v=$(g);Q(()=>qt(v,e.footnote)),z(u,g)};I(()=>q(h,u=>{e.footnote&&u(d)}),"if",Br,15,4)}z(l,c)};I(()=>q(o,l=>{(e.caption||e.footnote)&&l(a)}),"if",Br,10,0)}return z(t,i),xe(r)}Yi[P]="src/components/forest/GroupHeader.svelte";var Ld=O(ht('<span class="group-count svelte-16smacw"> </span>'),Yi[P],[[64,4]]),Pd=O(ht('<div><span><svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path d="M2 4L6 8L10 4" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg></span> <span class="group-label svelte-16smacw"> </span> <!></div>'),Yi[P],[[49,0,[[57,2,[[58,4,[[59,6]]]]],[62,2]]]]);function Yi(t,e){Ee(new.target),_e(e,!0,Yi);let r=Gn(e,"level",3,1);function i(y,x){const _=x==null?void 0:x.groupHeaders;return _?b(y,1)?{fontSize:_.level1FontSize,fontWeight:_.level1FontWeight,italic:_.level1Italic,borderBottom:_.level1BorderBottom}:b(y,2)?{fontSize:_.level2FontSize,fontWeight:_.level2FontWeight,italic:_.level2Italic,borderBottom:_.level2BorderBottom}:{fontSize:_.level3FontSize,fontWeight:_.level3FontWeight,italic:_.level3Italic,borderBottom:_.level3BorderBottom}:{fontSize:void 0,fontWeight:void 0,italic:!1,borderBottom:!1}}const o=p(m(()=>i(r(),e.theme)),"levelStyles");var a={...ke()},l=Pd();let c,f;var s=$(l);let h;var d=et(s,2),u=$(d),g=et(d,2);{var v=y=>{var x=Ld(),_=$(x);Q(()=>qt(_,`(${e.rowCount??""})`)),z(y,x)};I(()=>q(g,y=>{b(e.rowCount,void 0,!1)&&y(v)}),"if",Yi,63,2)}return Q(()=>{c=un(l,1,"group-header svelte-16smacw",null,c,{"has-border":n(o).borderBottom,italic:n(o).italic}),R(l,"aria-expanded",!e.group.collapsed),f=Ce(l,"",f,{"font-size":n(o).fontSize,"font-weight":n(o).fontWeight}),h=un(s,1,"group-chevron svelte-16smacw",null,h,{collapsed:e.group.collapsed}),qt(u,e.group.label)}),z(t,l),xe(a)}xi[P]="src/components/ui/Tooltip.svelte";var Dd=O(ht('<div class="tooltip-row svelte-c43bsi"><span class="tooltip-label svelte-c43bsi"> </span> <span class="tooltip-value svelte-c43bsi"> </span></div>'),xi[P],[[77,8,[[78,10],[79,10]]]]),Bd=O(ht('<div class="tabviz-tooltip svelte-c43bsi"><div class="tooltip-header svelte-c43bsi"> </div> <div class="tooltip-body svelte-c43bsi"><div class="tooltip-row tooltip-estimate svelte-c43bsi"><span class="tooltip-label svelte-c43bsi">Estimate</span> <span class="tooltip-value svelte-c43bsi"> </span></div> <!></div></div>'),xi[P],[[67,2,[[68,4],[69,4,[[70,6,[[71,8],[72,8]]]]]]]]);function xi(t,e){Ee(new.target),_e(e,!0,xi);let r=Gn(e,"fields",3,null),i=p(Mt(void 0),"tooltipEl");function o(u){return b(u,null)||b(u,void 0)?"—":b(typeof u,"number")?Number.isInteger(u)?u.toString():u.toFixed(3):String(u)}const a=p(m(()=>!e.row||!r()||b(r().length,0)?[]:Object.entries(e.row.metadata).filter(([g])=>r().includes(g))),"displayFields"),l=p(m(()=>{if(!e.position)return"";const u=220,g=100,v=10;let y=e.position.x+v,x=e.position.y-v;const _=b(typeof window,"undefined",!1)?window.innerWidth:1e3;return b(typeof window,"undefined",!1)&&window.innerHeight,y+u>_-v&&(y=e.position.x-u-v),x-g<v?(x=e.position.y+v,`left: ${y}px; top: ${x}px; transform: none;`):`left: ${y}px; top: ${x}px;`}),"positionStyle"),c=p(m(()=>e.row&&e.position&&r()&&r().length>0),"shouldShow");var f={...ke()},s=Tt(),h=mt(s);{var d=u=>{var g=Bd(),v=$(g),y=$(v),x=et(v,2),_=$(x),S=et($(_),2),A=$(S),H=et(_,2);xn(()=>n(a),([M,k])=>M),I(()=>Ae(H,17,()=>n(a),([M,k])=>M,(M,k)=>{var w=m(()=>za(n(k),2));let E=()=>n(w)[0];E();let L=()=>n(w)[1];L();var N=Dd(),W=$(N),T=$(W,!0);var D=et(W,2),Y=$(D,!0);Q(st=>{qt(T,E()),qt(Y,st)},[()=>o(L())]),z(M,N)}),"each",xi,76,6),ni(g,M=>ot(i,M),()=>n(i)),Q((M,k,w)=>{Ce(g,n(l)),qt(y,e.row.label),qt(A,`${M??""} (${k??""}, ${w??""})`)},[()=>o(e.row.point),()=>o(e.row.lower),()=>o(e.row.upper)]),z(u,g)};I(()=>q(h,u=>{n(c)&&u(d)}),"if",xi,66,0)}return z(t,s),xe(f)}wi[P]="src/components/table/CellBar.svelte";var Gd=O(ht('<span class="bar-label svelte-1l4k3z2"> </span>'),wi[P],[[39,6]]),Vd=O(ht('<div class="cell-bar svelte-1l4k3z2"><div class="bar-track svelte-1l4k3z2"><div class="bar-fill svelte-1l4k3z2"></div></div> <!></div>'),wi[P],[[30,2,[[31,4,[[32,6]]]]]]);function wi(t,e){Ee(new.target),_e(e,!0,wi);let r=Gn(e,"maxValue",3,100);const i=p(m(()=>{var u;return((u=e.options)==null?void 0:u.maxValue)??r()}),"effectiveMax"),o=p(m(()=>{var u;return((u=e.options)==null?void 0:u.showLabel)??!0}),"showLabel"),a=p(m(()=>{var u;return((u=e.options)==null?void 0:u.color)??"var(--wf-primary, #2563eb)"}),"barColor"),l=p(m(()=>()=>b(e.value,void 0)||b(e.value,null)||n(i)<=0?0:Math.min(100,Math.max(0,e.value/n(i)*100))),"percentage"),c=p(m(()=>()=>b(e.value,void 0)||b(e.value,null)?"":e.value>=100?e.value.toFixed(0):e.value>=10?e.value.toFixed(1):e.value.toFixed(2)),"formattedValue");var f={...ke()},s=Tt(),h=mt(s);{var d=u=>{var g=Vd(),v=$(g),y=$(v);let x;var _=et(v,2);{var S=A=>{var H=Gd(),M=$(H);Q(k=>qt(M,k),[()=>n(c)()]),z(A,H)};I(()=>q(_,A=>{n(o)&&A(S)}),"if",wi,38,4)}Q(A=>x=Ce(y,"",x,A),[()=>({width:`${n(l)()??""}%`,"background-color":n(a)})]),z(u,g)};I(()=>q(h,u=>{b(e.value,void 0,!1)&&b(e.value,null,!1)&&u(d)}),"if",wi,29,0)}return z(t,s),xe(f)}$i[P]="src/components/table/CellPvalue.svelte";var Od=O(ht('<span class="pvalue-stars svelte-1hymfkc"> </span>'),$i[P],[[99,4]]),jd=O(ht('<span><span class="pvalue-number svelte-1hymfkc"> </span> <!></span>'),$i[P],[[86,0,[[97,2]]]]);function $i(t,e){Ee(new.target),_e(e,!0,$i);const r=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.bold)??!1}),"isBold"),i=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.italic)??!1}),"isItalic"),o=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.color)??null}),"textColor"),a=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.bg)??null}),"bgColor"),l=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.emphasis)??!1}),"isEmphasis"),c=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.muted)??!1}),"isMuted"),f=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.accent)??!1}),"isAccent"),s={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻","+":"⁺"};function h(T){return T.split("").map(D=>s[D]??D).join("")}const d=p(m(()=>{var T;return((T=e.options)==null?void 0:T.stars)??!1}),"showStars"),u=p(m(()=>{var T;return((T=e.options)==null?void 0:T.thresholds)??[.05,.01,.001]}),"thresholds"),g=p(m(()=>{var T;return((T=e.options)==null?void 0:T.format)??"auto"}),"format"),v=p(m(()=>{var T;return((T=e.options)==null?void 0:T.digits)??2}),"digits"),y=p(m(()=>{var T;return((T=e.options)==null?void 0:T.expThreshold)??.001}),"expThreshold"),x=p(m(()=>{var T;return((T=e.options)==null?void 0:T.abbrevThreshold)??null}),"abbrevThreshold"),_=p(m(()=>{if(!n(d)||b(e.value,void 0)||b(e.value,null))return"";const[T,D,Y]=n(u);return e.value<Y?"***":e.value<D?"**":e.value<T?"*":""}),"stars"),S=p(m(()=>{if(b(e.value,void 0)||b(e.value,null))return"";if(b(n(x),null,!1)&&e.value<n(x))return`<${n(x)}`;if(b(n(g),"scientific")||b(n(g),"auto")&&e.value<n(y)){const T=Math.floor(Math.log10(e.value));return`${(e.value/Math.pow(10,T)).toPrecision(n(v))}×10${h(T.toString())}`}return e.value>=.1?e.value.toFixed(n(v)):e.value>=.01?e.value.toFixed(n(v)+1):e.value.toFixed(n(v)+2)}),"formattedValue"),A=p(m(()=>n(_).length>0),"isSignificant");var H={...ke()},M=jd();let k,w;var E=$(M),L=$(E),N=et(E,2);{var W=T=>{var D=Od(),Y=$(D);Q(()=>qt(Y,n(_))),z(T,D)};I(()=>q(N,T=>{n(_)&&T(W)}),"if",$i,98,2)}return Q(()=>{k=un(M,1,"cell-pvalue svelte-1hymfkc",null,k,{significant:n(A),"cell-bold":n(r),"cell-italic":n(i),"cell-emphasis":n(l),"cell-muted":n(c),"cell-accent":n(f)}),w=Ce(M,"",w,{color:n(o),"background-color":n(a)}),qt(L,n(S))}),z(t,M),xe(H)}function fa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qd(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Kl(t){let e,r,i;t.length!==2?(e=fa,r=(c,f)=>fa(t(c),f),i=(c,f)=>t(c)-f):(e=t===fa||t===qd?t:Xd,r=t,i=t);function o(c,f,s=0,h=c.length){if(s<h){if(e(f,f)!==0)return h;do{const d=s+h>>>1;r(c[d],f)<0?s=d+1:h=d}while(s<h)}return s}function a(c,f,s=0,h=c.length){if(s<h){if(e(f,f)!==0)return h;do{const d=s+h>>>1;r(c[d],f)<=0?s=d+1:h=d}while(s<h)}return s}function l(c,f,s=0,h=c.length){const d=o(c,f,s,h-1);return d>s&&i(c[d-1],f)>-i(c[d],f)?d-1:d}return{left:o,center:l,right:a}}function Xd(){return 0}function Ud(t){return t===null?NaN:+t}const Yd=Kl(fa).right;Kl(Ud).center;const $d=Math.sqrt(50),Zd=Math.sqrt(10),Kd=Math.sqrt(2);function ua(t,e,r){const i=(e-t)/Math.max(0,r),o=Math.floor(Math.log10(i)),a=i/Math.pow(10,o),l=a>=$d?10:a>=Zd?5:a>=Kd?2:1;let c,f,s;return o<0?(s=Math.pow(10,-o)/l,c=Math.round(t*s),f=Math.round(e*s),c/s<t&&++c,f/s>e&&--f,s=-s):(s=Math.pow(10,o)*l,c=Math.round(t/s),f=Math.round(e/s),c*s<t&&++c,f*s>e&&--f),f<c&&.5<=r&&r<2?ua(t,e,r*2):[c,f,s]}function ls(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const i=e<t,[o,a,l]=i?ua(e,t,r):ua(t,e,r);if(!(a>=o))return[];const c=a-o+1,f=new Array(c);if(i)if(l<0)for(let s=0;s<c;++s)f[s]=(a-s)/-l;else for(let s=0;s<c;++s)f[s]=(a-s)*l;else if(l<0)for(let s=0;s<c;++s)f[s]=(o+s)/-l;else for(let s=0;s<c;++s)f[s]=(o+s)*l;return f}function cs(t,e,r){return e=+e,t=+t,r=+r,ua(t,e,r)[2]}function Qd(t,e,r){e=+e,t=+t,r=+r;const i=e<t,o=i?cs(e,t,r):cs(t,e,r);return(i?-1:1)*(o<0?1/-o:o)}function Ql(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function fs(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Jl(t,e){var r=Object.create(t.prototype);for(var i in e)r[i]=e[i];return r}function Ro(){}var Io=.7,da=1/Io,Zi="\\s*([+-]?\\d+)\\s*",zo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Jd=/^#([0-9a-f]{3,8})$/,th=new RegExp(`^rgb\\(${Zi},${Zi},${Zi}\\)$`),eh=new RegExp(`^rgb\\(${Tr},${Tr},${Tr}\\)$`),nh=new RegExp(`^rgba\\(${Zi},${Zi},${Zi},${zo}\\)$`),rh=new RegExp(`^rgba\\(${Tr},${Tr},${Tr},${zo}\\)$`),ih=new RegExp(`^hsl\\(${zo},${Tr},${Tr}\\)$`),oh=new RegExp(`^hsla\\(${zo},${Tr},${Tr},${zo}\\)$`),tc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fs(Ro,Fo,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ec,formatHex:ec,formatHex8:ah,formatHsl:sh,formatRgb:nc,toString:nc});function ec(){return this.rgb().formatHex()}function ah(){return this.rgb().formatHex8()}function sh(){return sc(this).formatHsl()}function nc(){return this.rgb().formatRgb()}function Fo(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Jd.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?rc(e):r===3?new Wn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?ha(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?ha(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=th.exec(t))?new Wn(e[1],e[2],e[3],1):(e=eh.exec(t))?new Wn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=nh.exec(t))?ha(e[1],e[2],e[3],e[4]):(e=rh.exec(t))?ha(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ih.exec(t))?ac(e[1],e[2]/100,e[3]/100,1):(e=oh.exec(t))?ac(e[1],e[2]/100,e[3]/100,e[4]):tc.hasOwnProperty(t)?rc(tc[t]):t==="transparent"?new Wn(NaN,NaN,NaN,0):null}function rc(t){return new Wn(t>>16&255,t>>8&255,t&255,1)}function ha(t,e,r,i){return i<=0&&(t=e=r=NaN),new Wn(t,e,r,i)}function lh(t){return t instanceof Ro||(t=Fo(t)),t?(t=t.rgb(),new Wn(t.r,t.g,t.b,t.opacity)):new Wn}function us(t,e,r,i){return arguments.length===1?lh(t):new Wn(t,e,r,i??1)}function Wn(t,e,r,i){this.r=+t,this.g=+e,this.b=+r,this.opacity=+i}fs(Wn,us,Jl(Ro,{brighter(t){return t=t==null?da:Math.pow(da,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Io:Math.pow(Io,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wn(bi(this.r),bi(this.g),bi(this.b),ga(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ic,formatHex:ic,formatHex8:ch,formatRgb:oc,toString:oc}));function ic(){return`#${Mi(this.r)}${Mi(this.g)}${Mi(this.b)}`}function ch(){return`#${Mi(this.r)}${Mi(this.g)}${Mi(this.b)}${Mi((isNaN(this.opacity)?1:this.opacity)*255)}`}function oc(){const t=ga(this.opacity);return`${t===1?"rgb(":"rgba("}${bi(this.r)}, ${bi(this.g)}, ${bi(this.b)}${t===1?")":`, ${t})`}`}function ga(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function bi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Mi(t){return t=bi(t),(t<16?"0":"")+t.toString(16)}function ac(t,e,r,i){return i<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new hr(t,e,r,i)}function sc(t){if(t instanceof hr)return new hr(t.h,t.s,t.l,t.opacity);if(t instanceof Ro||(t=Fo(t)),!t)return new hr;if(t instanceof hr)return t;t=t.rgb();var e=t.r/255,r=t.g/255,i=t.b/255,o=Math.min(e,r,i),a=Math.max(e,r,i),l=NaN,c=a-o,f=(a+o)/2;return c?(e===a?l=(r-i)/c+(r<i)*6:r===a?l=(i-e)/c+2:l=(e-r)/c+4,c/=f<.5?a+o:2-a-o,l*=60):c=f>0&&f<1?0:l,new hr(l,c,f,t.opacity)}function fh(t,e,r,i){return arguments.length===1?sc(t):new hr(t,e,r,i??1)}function hr(t,e,r,i){this.h=+t,this.s=+e,this.l=+r,this.opacity=+i}fs(hr,fh,Jl(Ro,{brighter(t){return t=t==null?da:Math.pow(da,t),new hr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Io:Math.pow(Io,t),new hr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,o=2*r-i;return new Wn(ds(t>=240?t-240:t+120,o,i),ds(t,o,i),ds(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new hr(lc(this.h),va(this.s),va(this.l),ga(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ga(this.opacity);return`${t===1?"hsl(":"hsla("}${lc(this.h)}, ${va(this.s)*100}%, ${va(this.l)*100}%${t===1?")":`, ${t})`}`}}));function lc(t){return t=(t||0)%360,t<0?t+360:t}function va(t){return Math.max(0,Math.min(1,t||0))}function ds(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const hs=t=>()=>t;function uh(t,e){return function(r){return t+r*e}}function dh(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(i){return Math.pow(t+i*e,r)}}function hh(t){return(t=+t)==1?cc:function(e,r){return r-e?dh(e,r,t):hs(isNaN(e)?r:e)}}function cc(t,e){var r=e-t;return r?uh(t,r):hs(isNaN(t)?e:t)}const fc=(function t(e){var r=hh(e);function i(o,a){var l=r((o=us(o)).r,(a=us(a)).r),c=r(o.g,a.g),f=r(o.b,a.b),s=cc(o.opacity,a.opacity);return function(h){return o.r=l(h),o.g=c(h),o.b=f(h),o.opacity=s(h),o+""}}return i.gamma=t,i})(1);function gh(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,i=e.slice(),o;return function(a){for(o=0;o<r;++o)i[o]=t[o]*(1-a)+e[o]*a;return i}}function vh(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ph(t,e){var r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r),l;for(l=0;l<i;++l)o[l]=ps(t[l],e[l]);for(;l<r;++l)a[l]=e[l];return function(c){for(l=0;l<i;++l)a[l]=o[l](c);return a}}function mh(t,e){var r=new Date;return t=+t,e=+e,function(i){return r.setTime(t*(1-i)+e*i),r}}function pa(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function yh(t,e){var r={},i={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?r[o]=ps(t[o],e[o]):i[o]=e[o];return function(a){for(o in r)i[o]=r[o](a);return i}}var gs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vs=new RegExp(gs.source,"g");function _h(t){return function(){return t}}function xh(t){return function(e){return t(e)+""}}function wh(t,e){var r=gs.lastIndex=vs.lastIndex=0,i,o,a,l=-1,c=[],f=[];for(t=t+"",e=e+"";(i=gs.exec(t))&&(o=vs.exec(e));)(a=o.index)>r&&(a=e.slice(r,a),c[l]?c[l]+=a:c[++l]=a),(i=i[0])===(o=o[0])?c[l]?c[l]+=o:c[++l]=o:(c[++l]=null,f.push({i:l,x:pa(i,o)})),r=vs.lastIndex;return r<e.length&&(a=e.slice(r),c[l]?c[l]+=a:c[++l]=a),c.length<2?f[0]?xh(f[0].x):_h(e):(e=f.length,function(s){for(var h=0,d;h<e;++h)c[(d=f[h]).i]=d.x(s);return c.join("")})}function ps(t,e){var r=typeof e,i;return e==null||r==="boolean"?hs(e):(r==="number"?pa:r==="string"?(i=Fo(e))?(e=i,fc):wh:e instanceof Fo?fc:e instanceof Date?mh:vh(e)?gh:Array.isArray(e)?ph:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?yh:pa)(t,e)}function bh(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Mh(t){return function(){return t}}function Sh(t){return+t}var uc=[0,1];function Ki(t){return t}function ms(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Mh(isNaN(e)?NaN:.5)}function Eh(t,e){var r;return t>e&&(r=t,t=e,e=r),function(i){return Math.max(t,Math.min(e,i))}}function kh(t,e,r){var i=t[0],o=t[1],a=e[0],l=e[1];return o<i?(i=ms(o,i),a=r(l,a)):(i=ms(i,o),a=r(a,l)),function(c){return a(i(c))}}function Ch(t,e,r){var i=Math.min(t.length,e.length)-1,o=new Array(i),a=new Array(i),l=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<i;)o[l]=ms(t[l],t[l+1]),a[l]=r(e[l],e[l+1]);return function(c){var f=Yd(t,c,1,i)-1;return a[f](o[f](c))}}function dc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function hc(){var t=uc,e=uc,r=ps,i,o,a,l=Ki,c,f,s;function h(){var u=Math.min(t.length,e.length);return l!==Ki&&(l=Eh(t[0],t[u-1])),c=u>2?Ch:kh,f=s=null,d}function d(u){return u==null||isNaN(u=+u)?a:(f||(f=c(t.map(i),e,r)))(i(l(u)))}return d.invert=function(u){return l(o((s||(s=c(e,t.map(i),pa)))(u)))},d.domain=function(u){return arguments.length?(t=Array.from(u,Sh),h()):t.slice()},d.range=function(u){return arguments.length?(e=Array.from(u),h()):e.slice()},d.rangeRound=function(u){return e=Array.from(u),r=bh,h()},d.clamp=function(u){return arguments.length?(l=u?!0:Ki,h()):l!==Ki},d.interpolate=function(u){return arguments.length?(r=u,h()):r},d.unknown=function(u){return arguments.length?(a=u,d):a},function(u,g){return i=u,o=g,h()}}function Th(){return hc()(Ki,Ki)}function Nh(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ma(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,i=t.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+t.slice(r+1)]}function Qi(t){return t=ma(Math.abs(t)),t?t[1]:NaN}function Hh(t,e){return function(r,i){for(var o=r.length,a=[],l=0,c=t[0],f=0;o>0&&c>0&&(f+c+1>i&&(c=Math.max(1,i-f)),a.push(r.substring(o-=c,o+c)),!((f+=c+1)>i));)c=t[l=(l+1)%t.length];return a.reverse().join(e)}}function Ah(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Wh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lo(t){if(!(e=Wh.exec(t)))throw new Error("invalid format: "+t);var e;return new ys({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Lo.prototype=ys.prototype;function ys(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ys.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Rh(t){t:for(var e=t.length,r=1,i=-1,o;r<e;++r)switch(t[r]){case".":i=o=r;break;case"0":i===0&&(i=r),o=r;break;default:if(!+t[r])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(o+1):t}var gc;function Ih(t,e){var r=ma(t,e);if(!r)return t+"";var i=r[0],o=r[1],a=o-(gc=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,l=i.length;return a===l?i:a>l?i+new Array(a-l+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+ma(t,Math.max(0,e+a-1))[0]}function vc(t,e){var r=ma(t,e);if(!r)return t+"";var i=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const pc={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Nh,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>vc(t*100,e),r:vc,s:Ih,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function mc(t){return t}var yc=Array.prototype.map,_c=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function zh(t){var e=t.grouping===void 0||t.thousands===void 0?mc:Hh(yc.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?mc:Ah(yc.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function s(d){d=Lo(d);var u=d.fill,g=d.align,v=d.sign,y=d.symbol,x=d.zero,_=d.width,S=d.comma,A=d.precision,H=d.trim,M=d.type;M==="n"?(S=!0,M="g"):pc[M]||(A===void 0&&(A=12),H=!0,M="g"),(x||u==="0"&&g==="=")&&(x=!0,u="0",g="=");var k=y==="$"?r:y==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",w=y==="$"?i:/[%p]/.test(M)?l:"",E=pc[M],L=/[defgprs%]/.test(M);A=A===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function N(W){var T=k,D=w,Y,st,ct;if(M==="c")D=E(W)+D,W="";else{W=+W;var B=W<0||1/W<0;if(W=isNaN(W)?f:E(Math.abs(W),A),H&&(W=Rh(W)),B&&+W==0&&v!=="+"&&(B=!1),T=(B?v==="("?v:c:v==="-"||v==="("?"":v)+T,D=(M==="s"?_c[8+gc/3]:"")+D+(B&&v==="("?")":""),L){for(Y=-1,st=W.length;++Y<st;)if(ct=W.charCodeAt(Y),48>ct||ct>57){D=(ct===46?o+W.slice(Y+1):W.slice(Y))+D,W=W.slice(0,Y);break}}}S&&!x&&(W=e(W,1/0));var lt=T.length+W.length+D.length,X=lt<_?new Array(_-lt+1).join(u):"";switch(S&&x&&(W=e(X+W,X.length?_-D.length:1/0),X=""),g){case"<":W=T+W+D+X;break;case"=":W=T+X+W+D;break;case"^":W=X.slice(0,lt=X.length>>1)+T+W+D+X.slice(lt);break;default:W=X+T+W+D;break}return a(W)}return N.toString=function(){return d+""},N}function h(d,u){var g=s((d=Lo(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(Qi(u)/3)))*3,y=Math.pow(10,-v),x=_c[8+v/3];return function(_){return g(y*_)+x}}return{format:s,formatPrefix:h}}var ya,_s,xc;Fh({thousands:",",grouping:[3],currency:["$",""]});function Fh(t){return ya=zh(t),_s=ya.format,xc=ya.formatPrefix,ya}function Lh(t){return Math.max(0,-Qi(Math.abs(t)))}function Ph(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qi(e)/3)))*3-Qi(Math.abs(t)))}function Dh(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Qi(e)-Qi(t))+1}function Bh(t,e,r,i){var o=Qd(t,e,r),a;switch(i=Lo(i??",f"),i.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(a=Ph(o,l))&&(i.precision=a),xc(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=Dh(o,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=Lh(o))&&(i.precision=a-(i.type==="%")*2);break}}return _s(i)}function Gh(t){var e=t.domain;return t.ticks=function(r){var i=e();return ls(i[0],i[i.length-1],r??10)},t.tickFormat=function(r,i){var o=e();return Bh(o[0],o[o.length-1],r??10,i)},t.nice=function(r){r==null&&(r=10);var i=e(),o=0,a=i.length-1,l=i[o],c=i[a],f,s,h=10;for(c<l&&(s=l,l=c,c=s,s=o,o=a,a=s);h-- >0;){if(s=cs(l,c,r),s===f)return i[o]=l,i[a]=c,e(i);if(s>0)l=Math.floor(l/s)*s,c=Math.ceil(c/s)*s;else if(s<0)l=Math.ceil(l*s)/s,c=Math.floor(c*s)/s;else break;f=s}return t},t}function nr(){var t=Th();return t.copy=function(){return dc(t,nr())},Ql.apply(t,arguments),Gh(t)}function Vh(t,e){t=t.slice();var r=0,i=t.length-1,o=t[r],a=t[i],l;return a<o&&(l=r,r=i,i=l,l=o,o=a,a=l),t[r]=e.floor(o),t[i]=e.ceil(a),t}function wc(t){return Math.log(t)}function bc(t){return Math.exp(t)}function Oh(t){return-Math.log(-t)}function jh(t){return-Math.exp(-t)}function qh(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Xh(t){return t===10?qh:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Uh(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Mc(t){return(e,r)=>-t(-e,r)}function Yh(t){const e=t(wc,bc),r=e.domain;let i=10,o,a;function l(){return o=Uh(i),a=Xh(i),r()[0]<0?(o=Mc(o),a=Mc(a),t(Oh,jh)):t(wc,bc),e}return e.base=function(c){return arguments.length?(i=+c,l()):i},e.domain=function(c){return arguments.length?(r(c),l()):r()},e.ticks=c=>{const f=r();let s=f[0],h=f[f.length-1];const d=h<s;d&&([s,h]=[h,s]);let u=o(s),g=o(h),v,y;const x=c==null?10:+c;let _=[];if(!(i%1)&&g-u<x){if(u=Math.floor(u),g=Math.ceil(g),s>0){for(;u<=g;++u)for(v=1;v<i;++v)if(y=u<0?v/a(-u):v*a(u),!(y<s)){if(y>h)break;_.push(y)}}else for(;u<=g;++u)for(v=i-1;v>=1;--v)if(y=u>0?v/a(-u):v*a(u),!(y<s)){if(y>h)break;_.push(y)}_.length*2<x&&(_=ls(s,h,x))}else _=ls(u,g,Math.min(g-u,x)).map(a);return d?_.reverse():_},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=i===10?"s":","),typeof f!="function"&&(!(i%1)&&(f=Lo(f)).precision==null&&(f.trim=!0),f=_s(f)),c===1/0)return f;const s=Math.max(1,i*c/e.ticks().length);return h=>{let d=h/a(Math.round(o(h)));return d*i<i-.5&&(d*=i),d<=s?f(h):""}},e.nice=()=>r(Vh(r(),{floor:c=>a(Math.floor(o(c))),ceil:c=>a(Math.ceil(o(c)))})),e}function Gr(){const t=Yh(hc()).domain([1,10]);return t.copy=()=>dc(t,Gr()).base(t.base()),Ql.apply(t,arguments),t}function on(t){return function(){return t}}const Sc=1e-12,xs=Math.PI,ws=2*xs,Si=1e-6,$h=ws-Si;function Ec(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Zh(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Ec;const r=10**e;return function(i){this._+=i[0];for(let o=1,a=i.length;o<a;++o)this._+=Math.round(arguments[o]*r)/r+i[o]}}class Kh{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Ec:Zh(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,i,o){this._append`Q${+e},${+r},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(e,r,i,o,a,l){this._append`C${+e},${+r},${+i},${+o},${this._x1=+a},${this._y1=+l}`}arcTo(e,r,i,o,a){if(e=+e,r=+r,i=+i,o=+o,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,c=this._y1,f=i-e,s=o-r,h=l-e,d=c-r,u=h*h+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(u>Si)if(!(Math.abs(d*f-s*h)>Si)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let g=i-l,v=o-c,y=f*f+s*s,x=g*g+v*v,_=Math.sqrt(y),S=Math.sqrt(u),A=a*Math.tan((xs-Math.acos((y+u-x)/(2*_*S)))/2),H=A/S,M=A/_;Math.abs(H-1)>Si&&this._append`L${e+H*h},${r+H*d}`,this._append`A${a},${a},0,0,${+(d*g>h*v)},${this._x1=e+M*f},${this._y1=r+M*s}`}}arc(e,r,i,o,a,l){if(e=+e,r=+r,i=+i,l=!!l,i<0)throw new Error(`negative radius: ${i}`);let c=i*Math.cos(o),f=i*Math.sin(o),s=e+c,h=r+f,d=1^l,u=l?o-a:a-o;this._x1===null?this._append`M${s},${h}`:(Math.abs(this._x1-s)>Si||Math.abs(this._y1-h)>Si)&&this._append`L${s},${h}`,i&&(u<0&&(u=u%ws+ws),u>$h?this._append`A${i},${i},0,1,${d},${e-c},${r-f}A${i},${i},0,1,${d},${this._x1=s},${this._y1=h}`:u>Si&&this._append`A${i},${i},0,${+(u>=xs)},${d},${this._x1=e+i*Math.cos(a)},${this._y1=r+i*Math.sin(a)}`)}rect(e,r,i,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}}function kc(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const i=Math.floor(r);if(!(i>=0))throw new RangeError(`invalid digits: ${r}`);e=i}return t},()=>new Kh(e)}function Cc(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Tc(t){this._context=t}Tc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Nc(t){return new Tc(t)}function Hc(t){return t[0]}function Ac(t){return t[1]}function Wc(t,e){var r=on(!0),i=null,o=Nc,a=null,l=kc(c);t=typeof t=="function"?t:t===void 0?Hc:on(t),e=typeof e=="function"?e:e===void 0?Ac:on(e);function c(f){var s,h=(f=Cc(f)).length,d,u=!1,g;for(i==null&&(a=o(g=l())),s=0;s<=h;++s)!(s<h&&r(d=f[s],s,f))===u&&((u=!u)?a.lineStart():a.lineEnd()),u&&a.point(+t(d,s,f),+e(d,s,f));if(g)return a=null,g+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:on(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:on(+f),c):e},c.defined=function(f){return arguments.length?(r=typeof f=="function"?f:on(!!f),c):r},c.curve=function(f){return arguments.length?(o=f,i!=null&&(a=o(i)),c):o},c.context=function(f){return arguments.length?(f==null?i=a=null:a=o(i=f),c):i},c}function Qh(t,e,r){var i=null,o=on(!0),a=null,l=Nc,c=null,f=kc(s);t=typeof t=="function"?t:t===void 0?Hc:on(+t),e=typeof e=="function"?e:on(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Ac:on(+r);function s(d){var u,g,v,y=(d=Cc(d)).length,x,_=!1,S,A=new Array(y),H=new Array(y);for(a==null&&(c=l(S=f())),u=0;u<=y;++u){if(!(u<y&&o(x=d[u],u,d))===_)if(_=!_)g=u,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),v=u-1;v>=g;--v)c.point(A[v],H[v]);c.lineEnd(),c.areaEnd()}_&&(A[u]=+t(x,u,d),H[u]=+e(x,u,d),c.point(i?+i(x,u,d):A[u],r?+r(x,u,d):H[u]))}if(S)return c=null,S+""||null}function h(){return Wc().defined(o).curve(l).context(a)}return s.x=function(d){return arguments.length?(t=typeof d=="function"?d:on(+d),i=null,s):t},s.x0=function(d){return arguments.length?(t=typeof d=="function"?d:on(+d),s):t},s.x1=function(d){return arguments.length?(i=d==null?null:typeof d=="function"?d:on(+d),s):i},s.y=function(d){return arguments.length?(e=typeof d=="function"?d:on(+d),r=null,s):e},s.y0=function(d){return arguments.length?(e=typeof d=="function"?d:on(+d),s):e},s.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:on(+d),s):r},s.lineX0=s.lineY0=function(){return h().x(t).y(e)},s.lineY1=function(){return h().x(t).y(r)},s.lineX1=function(){return h().x(i).y(e)},s.defined=function(d){return arguments.length?(o=typeof d=="function"?d:on(!!d),s):o},s.curve=function(d){return arguments.length?(l=d,a!=null&&(c=l(a)),s):l},s.context=function(d){return arguments.length?(d==null?a=c=null:c=l(a=d),s):a},s}function Rc(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function bs(t,e){this._context=t,this._k=(1-e)/6}bs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Rc(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Rc(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},(function t(e){function r(i){return new bs(i,e)}return r.tension=function(i){return t(+i)},r})(0);function Jh(t,e,r){var i=t._x1,o=t._y1,a=t._x2,l=t._y2;if(t._l01_a>Sc){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,f=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/f,o=(o*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/f}if(t._l23_a>Sc){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*s+t._x1*t._l23_2a-e*t._l12_2a)/h,l=(l*s+t._y1*t._l23_2a-r*t._l12_2a)/h}t._context.bezierCurveTo(i,o,a,l,t._x2,t._y2)}function Ic(t,e){this._context=t,this._alpha=e}Ic.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Jh(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const zc=(function t(e){function r(i){return e?new Ic(i,e):new bs(i,0)}return r.alpha=function(i){return t(+i)},r})(.5);Rn[P]="src/components/table/CellSparkline.svelte";var tg=O(It('<rect opacity="0.8"></rect>'),Rn[P],[[72,8]]),eg=O(It('<path opacity="0.3"></path><path fill="none" stroke-width="1.5"></path>',1),Rn[P],[[82,6],[83,6]]),ng=O(It('<circle r="2"></circle>'),Rn[P],[[89,8]]),rg=O(It('<path fill="none" stroke-width="1.5"></path><!>',1),Rn[P],[[85,6]]),ig=O(It('<text text-anchor="middle" dominant-baseline="middle" fill="var(--wf-muted, #94a3b8)" font-size="8">--</text>'),Rn[P],[[93,4]]),og=O(It('<svg class="cell-sparkline svelte-hfafss"><!></svg>'),Rn[P],[[68,0]]);function Rn(t,e){Ee(new.target),_e(e,!0,Rn);const r=p(m(()=>{var x;return((x=e.options)==null?void 0:x.type)??"line"}),"chartType"),i=p(m(()=>{var x;return((x=e.options)==null?void 0:x.height)??20}),"chartHeight"),o=p(m(()=>{var x;return((x=e.options)==null?void 0:x.color)??"var(--wf-primary, #2563eb)"}),"chartColor"),a=60,l=p(m(()=>!e.data||!Array.isArray(e.data)||b(e.data.length,0)?[]:Array.isArray(e.data[0])?e.data[0]:e.data),"normalizedData"),c=p(m(()=>{if(b(n(l).length,0))return[];const x=Math.min(...n(l)),_=Math.max(...n(l)),S=(_-x)*.1||1,A=nr().domain([0,n(l).length-1]).range([2,a-2]),H=nr().domain([x-S,_+S]).range([n(i)-2,2]);return n(l).map((M,k)=>[A(k),H(M)])}),"points"),f=p(m(()=>b(n(c).length,0)?"":Wc().x(_=>_[0]).y(_=>_[1]).curve(zc.alpha(.5))(n(c))??""),"linePath"),s=p(m(()=>b(n(c).length,0)?"":Qh().x(_=>_[0]).y0(n(i)-2).y1(_=>_[1]).curve(zc.alpha(.5))(n(c))??""),"areaPath"),h=p(m(()=>n(c).length>0?(a-8)/n(c).length-1:0),"barWidth");var d={...ke()},u=og();R(u,"width",a);var g=$(u);{var v=x=>{var _=Tt(),S=mt(_);{var A=M=>{var k=Tt(),w=mt(k);I(()=>Ae(w,17,()=>n(c),Zn,(E,L)=>{var N=m(()=>za(n(L),2));let W=()=>n(N)[0];W();let T=()=>n(N)[1];T();var D=tg();Q(()=>{R(D,"x",W()-n(h)/2),R(D,"y",T()),R(D,"width",n(h)),R(D,"height",n(i)-2-T()),R(D,"fill",n(o))}),z(E,D)}),"each",Rn,71,6),z(M,k)},H=M=>{var k=Tt(),w=mt(k);{var E=N=>{var W=eg(),T=mt(W),D=et(T);Q(()=>{R(T,"d",n(s)),R(T,"fill",n(o)),R(D,"d",n(f)),R(D,"stroke",n(o))}),z(N,W)},L=N=>{var W=rg(),T=mt(W),D=et(T);{var Y=st=>{const ct=p(m(()=>n(c)[n(c).length-1]),"lastPoint");n(ct);var B=ng();Q(()=>{R(B,"cx",n(ct)[0]),R(B,"cy",n(ct)[1]),R(B,"fill",n(o))}),z(st,B)};I(()=>q(D,st=>{n(c).length>0&&st(Y)}),"if",Rn,87,6)}Q(()=>{R(T,"d",n(f)),R(T,"stroke",n(o))}),z(N,W)};I(()=>q(w,N=>{b(n(r),"area")?N(E):N(L,!1)},!0),"if",Rn,81,4)}z(M,k)};I(()=>q(S,M=>{b(n(r),"bar")?M(A):M(H,!1)}),"if",Rn,70,4)}z(x,_)},y=x=>{var _=ig();R(_,"x",a/2),Q(()=>R(_,"y",n(i)/2)),z(x,_)};I(()=>q(g,x=>{n(c).length>0?x(v):x(y,!1)}),"if",Rn,69,2)}return Q(()=>{R(u,"height",n(i)),R(u,"viewBox",`0 0 60 ${n(i)??""}`)}),z(t,u),xe(d)}gr[P]="src/components/table/CellContent.svelte";var ag=O(ht('<span class="cell-icon svelte-mxyczy"> </span>'),gr[P],[[34,15]]),sg=O(ht('<span class="cell-badge svelte-mxyczy"> </span>'),gr[P],[[36,16]]),lg=O(ht('<span><!> <span class="cell-value"> </span> <!></span>'),gr[P],[[23,0,[[35,2]]]]);function gr(t,e){Ee(new.target),_e(e,!0,gr);const r=p(m(()=>{var M;return!!((M=e.cellStyle)!=null&&M.badge)}),"hasBadge"),i=p(m(()=>{var M;return!!((M=e.cellStyle)!=null&&M.icon)}),"hasIcon"),o=p(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.bold)??!1}),"isBold"),a=p(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.italic)??!1}),"isItalic"),l=p(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.color)??null}),"textColor"),c=p(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.bg)??null}),"bgColor"),f=p(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.emphasis)??!1}),"isEmphasis"),s=p(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.muted)??!1}),"isMuted"),h=p(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.accent)??!1}),"isAccent");var d={...ke()},u=lg();let g,v;var y=$(u);{var x=M=>{var k=ag(),w=$(k);Q(()=>{var E;return qt(w,(E=e.cellStyle)==null?void 0:E.icon)}),z(M,k)};I(()=>q(y,M=>{n(i)&&M(x)}),"if",gr,34,2)}var _=et(y,2),S=$(_),A=et(_,2);{var H=M=>{var k=sg(),w=$(k);Q(()=>{var E;return qt(w,(E=e.cellStyle)==null?void 0:E.badge)}),z(M,k)};I(()=>q(A,M=>{n(r)&&M(H)}),"if",gr,36,2)}return Q(M=>{g=un(u,1,"cell-content svelte-mxyczy",null,g,{"cell-bold":n(o),"cell-italic":n(a),"cell-emphasis":n(f),"cell-muted":n(s),"cell-accent":n(h)}),R(u,"title",M),v=Ce(u,"",v,{color:n(l),"background-color":n(c)}),qt(S,e.value??"")},[()=>String(e.value??"")]),z(t,u),xe(d)}Po[P]="src/components/table/CellIcon.svelte";var cg=O(ht("<span> </span>"),Po[P],[[32,2]]);function Po(t,e){Ee(new.target),_e(e,!0,Po);const r=p(m(()=>{var d;return((d=e.options)==null?void 0:d.mapping)??{}}),"mapping"),i=p(m(()=>{var d;return((d=e.options)==null?void 0:d.size)??"base"}),"size"),o=p(m(()=>{var d;return(d=e.options)==null?void 0:d.color}),"color"),a=p(m(()=>{if(b(e.value,void 0)||b(e.value,null))return"";const d=String(e.value);return n(r)&&d in n(r)?n(r)[d]:d}),"displayValue"),l=p(m(()=>b(n(i),"sm")?"icon-sm":b(n(i),"lg")?"icon-lg":"icon-base"),"sizeClass");var c={...ke()},f=Tt(),s=mt(f);{var h=d=>{var u=cg();let g;var v=$(u);Q(y=>{un(u,1,`cell-icon ${n(l)??""}`,"svelte-weao3c"),R(u,"title",y),g=Ce(u,"",g,{color:n(o)}),qt(v,n(a))},[()=>String(e.value??"")]),z(d,u)};I(()=>q(s,d=>{n(a)&&d(h)}),"if",Po,31,0)}return z(t,f),xe(c)}Do[P]="src/components/table/CellBadge.svelte";var fg=O(ht("<span> </span>"),Do[P],[[56,2]]);function Do(t,e){Ee(new.target),_e(e,!0,Do);const r=p(m(()=>{var u;return((u=e.options)==null?void 0:u.variants)??{}}),"variants"),i=p(m(()=>{var u;return((u=e.options)==null?void 0:u.colors)??{}}),"colors"),o=p(m(()=>{var u;return((u=e.options)==null?void 0:u.size)??"base"}),"size"),a=p(m(()=>b(e.value,void 0)||b(e.value,null)?"":String(e.value)),"displayValue"),l=p(m(()=>{const u=String(e.value??"");if(n(i)&&u in n(i))return n(i)[u];if(n(r)&&u in n(r))switch(n(r)[u]){case"success":return"var(--wf-badge-success, #16a34a)";case"warning":return"var(--wf-badge-warning, #f59e0b)";case"error":return"var(--wf-badge-error, #dc2626)";case"info":return"var(--wf-badge-info, #2563eb)";case"muted":return"var(--wf-badge-muted, var(--wf-muted, #64748b))";default:return"var(--wf-primary, #2563eb)"}return"var(--wf-primary, #2563eb)"}),"badgeColor"),c=p(m(()=>b(n(o),"sm")?"badge-sm":"badge-base"),"sizeClass");var f={...ke()},s=Tt(),h=mt(s);{var d=u=>{var g=fg();let v;var y=$(g);Q(()=>{un(g,1,`cell-badge ${n(c)??""}`,"svelte-16nh7k4"),v=Ce(g,"",v,{"background-color":`color-mix(in srgb, ${n(l)??""} 15%, var(--wf-bg, #fff))`,color:n(l)}),qt(y,n(a))}),z(u,g)};I(()=>q(h,u=>{n(a)&&u(d)}),"if",Do,55,0)}return z(t,s),xe(f)}Ei[P]="src/components/table/CellStars.svelte";var ug=O(ht("<span> </span>"),Ei[P],[[44,6]]),dg=O(ht('<span class="cell-stars svelte-8zr88i"></span>'),Ei[P],[[42,2]]);function Ei(t,e){Ee(new.target),_e(e,!0,Ei);const r=p(m(()=>{var v;return((v=e.options)==null?void 0:v.maxStars)??5}),"maxStars"),i=p(m(()=>{var v;return((v=e.options)==null?void 0:v.color)??"#f59e0b"}),"filledColor"),o=p(m(()=>{var v;return((v=e.options)==null?void 0:v.emptyColor)??"#d1d5db"}),"emptyColor"),a=p(m(()=>{var v;return((v=e.options)==null?void 0:v.halfStars)??!1}),"halfStars"),l="★",c="☆",f="⯪",s=p(m(()=>{if(b(e.value,void 0)||b(e.value,null))return"";const v=Math.max(0,Math.min(n(r),e.value)),y=[];for(let x=1;x<=n(r);x++)x<=v?y.push({char:l,filled:"full"}):n(a)&&x-.5<=v?y.push({char:f,filled:"half"}):y.push({char:c,filled:"empty"});return y}),"starDisplay");var h={...ke()},d=Tt(),u=mt(d);{var g=v=>{var y=dg();I(()=>Ae(y,21,()=>n(s),Zn,(x,_)=>{var S=ug();let A,H;var M=$(S,!0);Q(()=>{A=un(S,1,"star svelte-8zr88i",null,A,{filled:b(n(_).filled,"full"),half:b(n(_).filled,"half")}),H=Ce(S,"",H,{color:b(n(_).filled,"empty")?n(o):n(i)}),qt(M,n(_).char)}),z(x,S)}),"each",Ei,43,4),Q(()=>R(y,"title",`${e.value??""} / ${n(r)??""}`)),z(v,y)};I(()=>q(u,v=>{b(e.value,void 0,!1)&&b(e.value,null,!1)&&v(g)}),"if",Ei,41,0)}return z(t,d),xe(h)}ki[P]="src/components/table/CellImg.svelte";var hg=O(ht('<img alt="" loading="lazy"/>'),ki[P],[[28,2]]),gg=O(ht('<span class="cell-img-fallback svelte-1rifgp8" title="Image not available"> </span>'),ki[P],[[38,2]]);function ki(t,e){Ee(new.target),_e(e,!0,ki);const r=p(m(()=>{var v;return(v=e.options)==null?void 0:v.height}),"imgHeight"),i=p(m(()=>{var v;return(v=e.options)==null?void 0:v.maxWidth}),"maxWidth"),o=p(m(()=>{var v;return((v=e.options)==null?void 0:v.fallback)??"📷"}),"fallback"),a=p(m(()=>{var v;return((v=e.options)==null?void 0:v.shape)??"square"}),"shape");let l=p(Mt(!1),"hasError");const c=p(m(()=>b(n(a),"circle")?"shape-circle":b(n(a),"rounded")?"shape-rounded":""),"shapeClass");function f(){ot(l,!0)}var s={...ke()},h=Tt(),d=mt(h);{var u=v=>{var y=hg();let x;Q(()=>{un(y,1,`cell-img ${n(c)??""}`,"svelte-1rifgp8"),R(y,"src",e.value),x=Ce(y,"",x,{height:n(r)?`${n(r)}px`:"calc(var(--wf-row-height, 28px) - 4px)","max-width":n(i)?`${n(i)}px`:"100%"})}),Bn("error",y,f),z(v,y)},g=v=>{var y=Tt(),x=mt(y);{var _=S=>{var A=gg(),H=$(A);Q(()=>qt(H,n(o))),z(S,A)};I(()=>q(x,S=>{n(o)&&S(_)},!0),"if",ki,37,0)}z(v,y)};I(()=>q(d,v=>{e.value&&!n(l)?v(u):v(g,!1)}),"if",ki,27,0)}return z(t,h),xe(s)}Vr[P]="src/components/table/CellReference.svelte";var vg=O(ht('<span class="reference-icon svelte-186gxpi">↗</span>'),Vr[P],[[44,8]]),pg=O(ht('<a class="cell-reference svelte-186gxpi" target="_blank" rel="noopener noreferrer"><span class="reference-text svelte-186gxpi"> </span> <!></a>'),Vr[P],[[35,4,[[42,6]]]]),mg=O(ht('<span class="cell-reference svelte-186gxpi"> </span>'),Vr[P],[[48,4]]);function Vr(t,e){Ee(new.target),_e(e,!0,Vr);const r=p(m(()=>{var g;return((g=e.options)==null?void 0:g.maxChars)??30}),"maxChars"),i=p(m(()=>{var g;return((g=e.options)==null?void 0:g.showIcon)??!0}),"showIcon"),o=p(m(()=>{var g;return(g=e.options)==null?void 0:g.hrefField}),"hrefField"),a=p(m(()=>{if(!n(o))return null;const g=e.metadata[n(o)];return b(typeof g,"string")?g:null}),"href"),l=p(m(()=>{if(b(e.value,void 0)||b(e.value,null))return"";const g=String(e.value);return g.length<=n(r)?g:g.substring(0,n(r))+"..."}),"displayValue"),c=p(m(()=>e.value?String(e.value):""),"fullValue"),f=p(m(()=>n(c).length>n(r)),"isTruncated");var s={...ke()},h=Tt(),d=mt(h);{var u=g=>{var v=Tt(),y=mt(v);{var x=S=>{var A=pg(),H=$(A),M=$(H),k=et(H,2);{var w=E=>{var L=vg();z(E,L)};I(()=>q(k,E=>{n(i)&&E(w)}),"if",Vr,43,6)}Q(()=>{R(A,"href",n(a)),R(A,"title",n(f)?n(c):void 0),qt(M,n(l))}),z(S,A)},_=S=>{var A=mg(),H=$(A);Q(()=>{R(A,"title",n(f)?n(c):void 0),qt(H,n(l))}),z(S,A)};I(()=>q(y,S=>{n(a)?S(x):S(_,!1)}),"if",Vr,34,2)}z(g,v)};I(()=>q(d,g=>{e.value&&g(u)}),"if",Vr,33,0)}return z(t,h),xe(s)}Bo[P]="src/components/table/CellRange.svelte";var yg=O(ht('<span class="cell-range svelte-jzelx2"> </span>'),Bo[P],[[51,2]]);function Bo(t,e){Ee(new.target),_e(e,!0,Bo);const r=p(m(()=>{var y;return((y=e.options)==null?void 0:y.separator)??" – "}),"separator"),i=p(m(()=>{var y;return(y=e.options)==null?void 0:y.decimals}),"decimals"),o=p(m(()=>{var y;return((y=e.options)==null?void 0:y.minField)??""}),"minField"),a=p(m(()=>{var y;return((y=e.options)==null?void 0:y.maxField)??""}),"maxField"),l=p(m(()=>{if(!n(o))return null;const y=e.metadata[n(o)];return b(typeof y,"number")?y:null}),"minValue"),c=p(m(()=>{if(!n(a))return null;const y=e.metadata[n(a)];return b(typeof y,"number")?y:null}),"maxValue");function f(y){return b(y,null)?"":b(n(i),null)||b(n(i),void 0)?Number.isInteger(y)?String(y):y.toFixed(1):y.toFixed(n(i))}const s=p(m(()=>b(n(l),null)&&b(n(c),null)?"":b(n(l),null)?f(n(c)):b(n(c),null)?f(n(l)):`${f(n(l))}${n(r)}${f(n(c))}`),"displayValue"),h=p(m(()=>b(n(l),null,!1)||b(n(c),null,!1)),"hasRange");var d={...ke()},u=Tt(),g=mt(u);{var v=y=>{var x=yg(),_=$(x);Q((S,A)=>{R(x,"title",`${S??""} to ${A??""}`),qt(_,n(s))},[()=>f(n(l)),()=>f(n(c))]),z(y,x)};I(()=>q(g,y=>{n(h)&&y(v)}),"if",Bo,50,0)}return z(t,u),xe(d)}const _g=["default","minimal","dark","jama","lancet","modern","presentation","cochrane","nature"],zt={name:"default",colors:{background:"#ffffff",foreground:"#333333",primary:"#0891b2",secondary:"#64748b",accent:"#8b5cf6",muted:"#94a3b8",border:"#e2e8f0",rowBg:"#ffffff",altBg:"#f8fafc",interval:"#0891b2",intervalPositive:"#0891b2",intervalNegative:"#dc2626",intervalNeutral:"#64748b",intervalLine:"#475569",summaryFill:"#0891b2",summaryBorder:"#0e7490"},typography:{fontFamily:"system-ui, -apple-system, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5,headerFontScale:1.05},spacing:{rowHeight:28,headerHeight:36,sectionGap:16,padding:12,containerPadding:0,cellPaddingX:10,cellPaddingY:4,axisGap:12,groupPadding:8},shapes:{pointSize:6,summaryHeight:10,lineWidth:1.5,borderRadius:2},axis:{rangeMin:null,rangeMax:null,tickCount:null,tickValues:null,gridlines:!1,gridlineStyle:"dotted",ciClipFactor:2,includeNull:!0,symmetric:null,nullTick:!0,markerMargin:!0},layout:{plotPosition:"right",tableWidth:"auto",plotWidth:"auto",containerBorder:!1,containerBorderRadius:8,banding:!0},groupHeaders:{level1FontSize:"1rem",level1FontWeight:700,level1Italic:!1,level1Background:null,level1BorderBottom:!1,level2FontSize:"0.9375rem",level2FontWeight:500,level2Italic:!0,level2Background:null,level2BorderBottom:!1,level3FontSize:"0.875rem",level3FontWeight:400,level3Italic:!1,level3Background:null,level3BorderBottom:!1,indentPerLevel:16}},xg={...zt,name:"minimal",colors:{...zt.colors,background:"#ffffff",foreground:"#000000",primary:"#000000",secondary:"#333333",accent:"#000000",muted:"#666666",border:"#000000",rowBg:"#ffffff",altBg:"#fafafa",interval:"#000000",intervalPositive:"#000000",intervalNegative:"#000000",intervalNeutral:"#666666",intervalLine:"#000000",summaryFill:"#000000",summaryBorder:"#000000"},typography:{...zt.typography,fontFamily:"Georgia, 'Times New Roman', serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.4},spacing:{...zt.spacing,rowHeight:24,headerHeight:30,sectionGap:12,padding:10},shapes:{...zt.shapes,pointSize:5,summaryHeight:8,lineWidth:1,borderRadius:0},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:0}},wg={...zt,name:"dark",colors:{...zt.colors,background:"#1e1e2e",foreground:"#cdd6f4",primary:"#89b4fa",secondary:"#a6adc8",accent:"#f5c2e7",muted:"#6c7086",border:"#313244",rowBg:"#1e1e2e",altBg:"#232334",interval:"#89b4fa",intervalPositive:"#a6e3a1",intervalNegative:"#f38ba8",intervalNeutral:"#6c7086",intervalLine:"#9399b2",summaryFill:"#89b4fa",summaryBorder:"#74c7ec"},typography:{...zt.typography,fontFamily:"system-ui, -apple-system, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5},spacing:{...zt.spacing,rowHeight:30,headerHeight:38,sectionGap:18,padding:14},shapes:{...zt.shapes,pointSize:6,summaryHeight:10,lineWidth:1.5,borderRadius:4},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:8}},bg={...zt,name:"jama",colors:{...zt.colors,background:"#ffffff",foreground:"#000000",primary:"#000000",secondary:"#333333",accent:"#000000",muted:"#555555",border:"#000000",rowBg:"#ffffff",altBg:"#f9fafb",interval:"#000000",intervalPositive:"#000000",intervalNegative:"#000000",intervalNeutral:"#555555",intervalLine:"#000000",summaryFill:"#000000",summaryBorder:"#000000"},typography:{...zt.typography,fontFamily:"Arial, Helvetica, sans-serif",fontSizeSm:"8pt",fontSizeBase:"9pt",fontSizeLg:"10pt",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.2},spacing:{...zt.spacing,rowHeight:18,headerHeight:24,sectionGap:8,padding:6,cellPaddingX:8,cellPaddingY:2},shapes:{...zt.shapes,pointSize:4,summaryHeight:7,lineWidth:1.25,borderRadius:0},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:0}},Mg={...zt,name:"lancet",colors:{...zt.colors,background:"#fdfcfb",foreground:"#1e3a5f",primary:"#00407a",secondary:"#3d5a80",accent:"#b8860b",muted:"#6b7c93",border:"#d4dce6",rowBg:"#fdfcfb",altBg:"#f8f7f6",interval:"#00407a",intervalPositive:"#00407a",intervalNegative:"#9d2933",intervalNeutral:"#3d5a80",intervalLine:"#1e3a5f",summaryFill:"#00407a",summaryBorder:"#002d54"},typography:{...zt.typography,fontFamily:"Georgia, 'Times New Roman', serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.5},spacing:{...zt.spacing,rowHeight:26,headerHeight:34,sectionGap:16,padding:12,cellPaddingX:12,cellPaddingY:5},shapes:{...zt.shapes,pointSize:5,summaryHeight:9,lineWidth:1.25,borderRadius:0},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:0}},Sg={...zt,name:"modern",colors:{...zt.colors,background:"#fafafa",foreground:"#18181b",primary:"#3b82f6",secondary:"#52525b",accent:"#8b5cf6",muted:"#a1a1aa",border:"#d4d4d8",rowBg:"#fafafa",altBg:"#f4f4f5",interval:"#3b82f6",intervalPositive:"#22c55e",intervalNegative:"#ef4444",intervalNeutral:"#71717a",intervalLine:"#27272a",summaryFill:"#3b82f6",summaryBorder:"#2563eb"},typography:{...zt.typography,fontFamily:"Inter, system-ui, -apple-system, sans-serif",fontSizeSm:"0.8125rem",fontSizeBase:"0.9375rem",fontSizeLg:"1.0625rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5},spacing:{...zt.spacing,rowHeight:36,headerHeight:44,sectionGap:24,padding:16,cellPaddingX:12,cellPaddingY:6},shapes:{...zt.shapes,pointSize:8,summaryHeight:12,lineWidth:1.75,borderRadius:8},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:12}},Eg={...zt,name:"presentation",colors:{...zt.colors,background:"#ffffff",foreground:"#0f172a",primary:"#0369a1",secondary:"#334155",accent:"#ea580c",muted:"#64748b",border:"#94a3b8",rowBg:"#ffffff",altBg:"#f8fafc",interval:"#0369a1",intervalPositive:"#047857",intervalNegative:"#be123c",intervalNeutral:"#334155",intervalLine:"#0f172a",summaryFill:"#0369a1",summaryBorder:"#0c4a6e"},typography:{...zt.typography,fontFamily:"'Source Sans Pro', 'Segoe UI', Roboto, sans-serif",fontSizeSm:"1rem",fontSizeBase:"1.125rem",fontSizeLg:"1.25rem",fontWeightNormal:400,fontWeightMedium:600,fontWeightBold:700,lineHeight:1.4},spacing:{...zt.spacing,rowHeight:44,headerHeight:52,sectionGap:28,padding:20,cellPaddingX:14,cellPaddingY:6},shapes:{...zt.shapes,pointSize:12,summaryHeight:16,lineWidth:2.5,borderRadius:4},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:6}},kg={...zt,name:"cochrane",colors:{...zt.colors,background:"#ffffff",foreground:"#2c2c2c",primary:"#0099cc",secondary:"#555555",accent:"#006699",muted:"#888888",border:"#b3b3b3",rowBg:"#ffffff",altBg:"#f5f5f5",interval:"#0099cc",intervalPositive:"#0099cc",intervalNegative:"#cc3333",intervalNeutral:"#555555",intervalLine:"#2c2c2c",summaryFill:"#0099cc",summaryBorder:"#006699"},typography:{...zt.typography,fontFamily:"Arial, Helvetica, sans-serif",fontSizeSm:"0.6875rem",fontSizeBase:"0.75rem",fontSizeLg:"0.8125rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.25},spacing:{...zt.spacing,rowHeight:20,headerHeight:26,sectionGap:8,padding:6,cellPaddingX:6,cellPaddingY:2},shapes:{...zt.shapes,pointSize:4,summaryHeight:7,lineWidth:1,borderRadius:0},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:0}},Cg={...zt,name:"nature",colors:{...zt.colors,background:"#ffffff",foreground:"#1a1a1a",primary:"#1976d2",secondary:"#424242",accent:"#c62828",muted:"#616161",border:"#bdbdbd",rowBg:"#ffffff",altBg:"#fafafa",interval:"#1976d2",intervalPositive:"#1976d2",intervalNegative:"#c62828",intervalNeutral:"#616161",intervalLine:"#1a1a1a",summaryFill:"#1976d2",summaryBorder:"#0d47a1"},typography:{...zt.typography,fontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.8125rem",fontSizeLg:"0.9375rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.35},spacing:{...zt.spacing,rowHeight:24,headerHeight:32,sectionGap:12,padding:10,cellPaddingX:10,cellPaddingY:4},shapes:{...zt.shapes,pointSize:5,summaryHeight:8,lineWidth:1.25,borderRadius:1},layout:{...zt.layout,containerBorder:!1,containerBorderRadius:2},axis:{...zt.axis,gridlines:!1,nullTick:!0}},Tg={default:zt,minimal:xg,dark:wg,jama:bg,lancet:Mg,modern:Sg,presentation:Eg,cochrane:kg,nature:Cg},Fc={default:"Default",minimal:"Minimal",dark:"Dark",jama:"JAMA",lancet:"Lancet",modern:"Modern",presentation:"Presentation",cochrane:"Cochrane",nature:"Nature"};function Ng(t,e,r={}){const{gap:i=4,viewportPadding:o=8,preferredPosition:a="below",align:l="end"}=r,c=window.innerHeight,f=window.innerWidth,s=c-t.bottom-i-o,h=t.top-i-o;let d,u;a==="below"?s>=e.height?d="below":h>=e.height?d="above":(d=s>=h?"below":"above",u=Math.max(d==="below"?s:h,100)):h>=e.height?d="above":s>=e.height?d="below":(d=h>=s?"above":"below",u=Math.max(d==="above"?h:s,100));const g={};return d==="below"?g.top=t.bottom+i:g.bottom=c-t.top+i,l==="end"?t.right-e.width<o?g.left=Math.max(t.left,o):g.right=f-t.right:t.left+e.width>f-o?g.right=Math.max(f-t.right,o):g.left=t.left,u&&(g.maxHeight=u),g}function Or(t,e){function r(){if(!e.triggerEl)return;const o=e.triggerEl.getBoundingClientRect(),a=t.getBoundingClientRect(),l=Ng(o,{width:a.width,height:a.height},{gap:e.gap??4,align:e.align??"end"});t.style.position="fixed",t.style.top="",t.style.bottom="",t.style.left="",t.style.right="",l.top!==void 0&&(t.style.top=`${l.top}px`),l.bottom!==void 0&&(t.style.bottom=`${l.bottom}px`),l.left!==void 0&&(t.style.left=`${l.left}px`),l.right!==void 0&&(t.style.right=`${l.right}px`),l.maxHeight?(t.style.maxHeight=`${l.maxHeight}px`,t.style.overflowY="auto"):(t.style.maxHeight="",t.style.overflowY="")}function i(o){e=o,requestAnimationFrame(r)}return i(e),{update:i,destroy(){}}}vr[P]="src/components/ui/ThemeSwitcher.svelte";var Hg=O(It('<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-35mgh1"><polyline points="20 6 9 17 4 12"></polyline></svg>'),vr[P],[[93,12,[[94,14]]]]),Ag=O(ht('<span class="spacer svelte-35mgh1"></span>'),vr[P],[[97,12]]),Wg=O(ht("<button><!> <span> </span></button>"),vr[P],[[87,8,[[99,10]]]]),Rg=O(ht('<div class="theme-dropdown svelte-35mgh1"></div>'),vr[P],[[85,4]]),Ig=O(ht('<div class="theme-switcher-wrapper svelte-35mgh1"><button class="theme-btn svelte-35mgh1" aria-label="Switch theme"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path></svg></button> <!></div>'),vr[P],[[70,0,[[71,2,[[78,4,[[79,6],[80,6]]]]]]]]);function vr(t,e){Ee(new.target),_e(e,!0,vr);let r=p(Mt(!1),"dropdownOpen"),i=p(Mt(null),"triggerEl");const o=p(m(()=>{var v,y;return((y=(v=e.store.spec)==null?void 0:v.theme)==null?void 0:y.name)??"default"}),"currentTheme"),a=p(m(()=>b(e.availableThemes,void 0)||b(e.availableThemes,null)?_g.map(v=>[v,Fc[v]]):Object.entries(e.availableThemes).map(([v,y])=>{const x=y.name?Fc[y.name]??y.name:v;return[v,x]})),"themeEntries");function l(){ot(r,!1)}function c(v){if(e.onThemeChange)e.onThemeChange(v);else if(e.availableThemes&&v in e.availableThemes){const y=e.availableThemes[v];e.store.spec&&e.store.setSpec({...e.store.spec,theme:y})}else e.store.setTheme(v);l()}function f(v){v.target.closest(".theme-switcher-wrapper")||l()}var s={...ke()},h=Ig();Bn("click",qi,f);var d=$(h);d.__click=()=>ot(r,!n(r)),ni(d,v=>ot(i,v),()=>n(i));var u=et(d,2);{var g=v=>{var y=Rg();I(()=>Ae(y,21,()=>n(a),Zn,(x,_)=>{var S=m(()=>za(n(_),2));let A=()=>n(S)[0];A();let H=()=>n(S)[1];H();var M=Wg();let k;M.__click=()=>c(A());var w=$(M);{var E=T=>{var D=Hg();z(T,D)},L=T=>{var D=Ag();z(T,D)};I(()=>q(w,T=>{b(n(o),A())?T(E):T(L,!1)}),"if",vr,92,10)}var N=et(w,2),W=$(N,!0);Q(()=>{k=un(M,1,"dropdown-item svelte-35mgh1",null,k,{active:b(n(o),A())}),qt(W,H())}),z(x,M)}),"each",vr,86,6),sa(y,(x,_)=>Or==null?void 0:Or(x,_),()=>({triggerEl:n(i)})),z(v,y)};I(()=>q(u,v=>{n(r)&&v(g)}),"if",vr,84,2)}return Q(()=>R(d,"aria-expanded",n(r))),z(t,h),xe(s)}ti(["click"]),Ci[P]="src/components/ui/ViewToggle.svelte";var zg=O(It('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="10" y2="6"></line><line x1="3" y1="12" x2="10" y2="12"></line><line x1="3" y1="18" x2="10" y2="18"></line><line x1="14" y1="12" x2="21" y2="12"></line><circle cx="17" cy="12" r="2" fill="currentColor"></circle></svg>'),Ci[P],[[21,4,[[23,6],[24,6],[25,6],[27,6],[28,6]]]]),Fg=O(It('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>'),Ci[P],[[32,4,[[33,6],[34,6],[35,6]]]]),Lg=O(ht('<button class="view-toggle-btn svelte-1u54q0q"><!></button>'),Ci[P],[[13,0]]);function Ci(t,e){Ee(new.target),_e(e,!0,Ci);const r=p(m(()=>{var f,s;return((s=(f=e.store.spec)==null?void 0:f.data)==null?void 0:s.includeForest)??!0}),"includeForest");var i={...ke()},o=Lg();o.__click=()=>e.store.toggleForestView();var a=$(o);{var l=f=>{var s=zg();z(f,s)},c=f=>{var s=Fg();z(f,s)};I(()=>q(a,f=>{n(r)?f(l):f(c,!1)}),"if",Ci,19,2)}return Q(()=>{R(o,"aria-label",n(r)?"Show table only":"Show forest plot"),R(o,"title",n(r)?"Show table only":"Show forest plot")}),z(t,o),xe(i)}ti(["click"]);function _a(t,e){const r=t.split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,e),r.join(".")}function Ms(t){const e=Math.abs(t),r=t<0?"-":"";if(e>=1e12)throw new Error(`Cannot abbreviate value >= 1 trillion: ${t}`);if(e>=1e9){const i=e/1e9;return r+Ss(i)+"B"}if(e>=1e6){const i=e/1e6;return r+Ss(i)+"M"}if(e>=1e3){const i=e/1e3;return r+Ss(i)+"K"}return r+Math.round(e).toString()}function Ss(t){const e=Math.round(t*10)/10;return e===Math.floor(e)?e.toFixed(0):e.toFixed(1)}const Pg={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻","+":"⁺"};function Dg(t){return t.split("").map(e=>Pg[e]??e).join("")}function Ji(t,e){var c,f,s,h,d;if(t==null||Number.isNaN(t))return(e==null?void 0:e.naText)??"";if(e!=null&&e.percent){const{decimals:u,digits:g,multiply:v=!0,symbol:y=!0}=e.percent,x=v?t*100:t,_=g!=null?x.toPrecision(g):x.toFixed(u??1);return y?`${_}%`:_}if(((c=e==null?void 0:e.numeric)==null?void 0:c.abbreviate)&&Math.abs(t)>=1e3)return Ms(t);const i=(f=e==null?void 0:e.numeric)==null?void 0:f.digits;if(i!=null){const u=t.toPrecision(i),g=(s=e==null?void 0:e.numeric)==null?void 0:s.thousandsSep;return g&&typeof g=="string"?_a(u,g):u}const o=(h=e==null?void 0:e.numeric)==null?void 0:h.decimals,a=(d=e==null?void 0:e.numeric)==null?void 0:d.thousandsSep;let l;return o!==void 0?l=t.toFixed(o):Number.isInteger(t)||Math.abs(t-Math.round(t))<1e-4?l=Math.round(t).toString():l=t.toFixed(2),a&&typeof a=="string"&&(l=_a(l,a)),l}function Es(t,e){const{eventsField:r,nField:i,separator:o="/",showPct:a=!1,thousandsSep:l,abbreviate:c}=e.events,f=t.metadata[r],s=t.metadata[i];if(f==null||s===void 0||s===null)return e.naText??"";const h=Number(f),d=Number(s);let u,g;c&&(h>=1e3||d>=1e3)?(u=h>=1e3?Ms(h):String(h),g=d>=1e3?Ms(d):String(d)):(u=String(h),g=String(d),l&&typeof l=="string"&&(u=_a(u,l),g=_a(g,l)));let v=`${u}${o}${g}`;if(a&&d>0){const y=(h/d*100).toFixed(1);v+=` (${y}%)`}return v}function ks(t,e,r,i){var c,f,s;if(t==null||Number.isNaN(t))return"";const o=((c=i==null?void 0:i.interval)==null?void 0:c.decimals)??2,a=((f=i==null?void 0:i.interval)==null?void 0:f.sep)??" ",l=(s=i==null?void 0:i.interval)==null?void 0:s.impreciseThreshold;return e==null||r===void 0||r===null||Number.isNaN(e)||Number.isNaN(r)?t.toFixed(o):l!=null&&e>0&&r/e>l?"—":`${t.toFixed(o)}${a}(${e.toFixed(o)}, ${r.toFixed(o)})`}function Lc(t,e){if(t==null||Number.isNaN(t))return(e==null?void 0:e.naText)??"";const r=e==null?void 0:e.pvalue,i=(r==null?void 0:r.digits)??2,o=(r==null?void 0:r.expThreshold)??.001,a=(r==null?void 0:r.abbrevThreshold)??null,l=(r==null?void 0:r.format)??"auto",c=(r==null?void 0:r.stars)??!1,f=(r==null?void 0:r.thresholds)??[.05,.01,.001];let s="";if(c&&(t<f[2]?s="***":t<f[1]?s="**":t<f[0]&&(s="*")),a!==null&&t<a)return`<${a}${s}`;if(l==="scientific"||l==="auto"&&t<o){const d=Math.floor(Math.log10(t));return`${(t/Math.pow(10,d)).toPrecision(i)}×10${Dg(d.toString())}${s}`}let h;return t>=.1?h=t.toFixed(i):t>=.01?h=t.toFixed(i+1):h=t.toFixed(i+2),`${h}${s}`}function Pc(t,e){var a,l,c,f;const{type:r,field:i,options:o}=e;switch(r){case"interval":{const s=(a=o==null?void 0:o.interval)!=null&&a.point?t.metadata[o.interval.point]:t.point,h=(l=o==null?void 0:o.interval)!=null&&l.lower?t.metadata[o.interval.lower]:t.lower,d=(c=o==null?void 0:o.interval)!=null&&c.upper?t.metadata[o.interval.upper]:t.upper;return ks(s,h,d,o)}case"custom":return o!=null&&o.events?Es(t,o):String(t.metadata[i]??"");case"pvalue":return Lc(t.metadata[i],o);case"numeric":return Ji(t.metadata[i],o);case"percent":return Ji(t.metadata[i],o);case"sparkline":case"icon":case"stars":case"img":case"range":return"";case"badge":{const s=t.metadata[i];return s==null?"":`  ${String(s)}  `}case"bar":{if(((f=o==null?void 0:o.bar)==null?void 0:f.showLabel)===!1)return"";const s=t.metadata[i];return s==null?"":s>=100?s.toFixed(0):s>=10?s.toFixed(1):s.toFixed(2)}case"text":default:return String(t.metadata[i]??"")}}function Vn(t,e){const r="⁰¹²³⁴⁵⁶⁷⁸⁹⁺⁻";let i=0;for(const o of t)r.includes(o)?i+=e*.3:"il1.,;:|!()[]{}' ".includes(o)?i+=e*.35:"×−".includes(o)?i+=e*.5:"mwMW@%".includes(o)?i+=e*.85:o>="0"&&o<="9"?i+=e*.6:i+=e*.55;return i}function Dc(t){if(!t||t.length===0)return{min:NaN,q1:NaN,median:NaN,q3:NaN,max:NaN};const e=t.filter(o=>o!=null&&!Number.isNaN(o)).sort((o,a)=>o-a);if(e.length===0)return{min:NaN,q1:NaN,median:NaN,q3:NaN,max:NaN};const r=e.length,i=o=>{if(r===1)return e[0];const a=(r-1)*o,l=Math.floor(a),c=Math.ceil(a);return l===c?e[l]:e[l]+(a-l)*(e[c]-e[l])};return{min:e[0],q1:i(.25),median:i(.5),q3:i(.75),max:e[r-1]}}function Bg(t,e,r){if(!t||t.length===0||Number.isNaN(e)||Number.isNaN(r))return[];const i=r-e,o=e-1.5*i,a=r+1.5*i;return t.filter(l=>l!=null&&!Number.isNaN(l)&&(l<o||l>a))}function xa(t){const e=Dc(t),r=Bg(t,e.q1,e.q3);return{...e,outliers:r}}function Gg(t){if(!t||t.length<2)return 1;const e=t.filter(g=>g!=null&&!Number.isNaN(g)).sort((g,v)=>g-v);if(e.length<2)return 1;const r=e.length,i=e.reduce((g,v)=>g+v,0)/r,o=e.reduce((g,v)=>g+(v-i)**2,0)/(r-1),a=Math.sqrt(o),l=Math.floor((r-1)*.25),c=Math.floor((r-1)*.75),f=e[l],h=e[c]-f,u=.9*Math.min(a,h/1.34)*Math.pow(r,-.2);return Math.max(u,.001)}function Vg(t){return Math.exp(-.5*t*t)/Math.sqrt(2*Math.PI)}function Bc(t,e,r=128){if(!t||t.length===0)return{x:[],y:[]};const i=t.filter(g=>g!=null&&!Number.isNaN(g));if(i.length===0)return{x:[],y:[]};const o=e??Gg(i),a=Math.min(...i),l=Math.max(...i),c=3*o,f=a-c,h=(l+c-f)/(r-1),d=[],u=[];for(let g=0;g<r;g++){const v=f+g*h;d.push(v);let y=0;for(const x of i)y+=Vg((v-x)/o);y/=i.length*o,u.push(y)}return{x:d,y:u}}function Gc(t,e){if(t.y.length===0)return t;const r=Math.max(...t.y);if(r===0)return t;const i=t.y.map(o=>o/r*e);return{x:t.x,y:i}}function Og(t,e){var s,h;const r=new Map,i=On(t.theme.typography.fontSizeBase),o=t.theme.typography.headerFontScale??1.05,a=Math.round(i*o*100)/100,l=t.data.rows,c=(t.theme.spacing.cellPaddingX??10)*2,f=(t.theme.spacing.groupPadding??8)*2;for(const d of e){if(d.width!=="auto"&&d.width!==null&&d.width!==void 0)continue;let u=0;d.header&&(u=Math.max(u,Vn(d.header,a)));for(const y of l){if(((s=y.style)==null?void 0:s.type)==="header"||((h=y.style)==null?void 0:h.type)==="spacer")continue;const x=Pc(y,d);x&&(u=Math.max(u,Vn(x,i)))}const g=tr.VISUAL_MIN[d.type]??tr.MIN,v=Math.ceil(u+c+Qn.RENDERING_BUFFER);r.set(d.id,Math.min(tr.MAX,Math.max(g,v)))}return jg(t.columns,r,a,f,Qn.RENDERING_BUFFER),r}function jg(t,e,r,i,o){function a(f){return f.isGroup?f.columns.flatMap(a):[f]}function l(f){const s=e.get(f.id);return s!==void 0?s:typeof f.width=="number"?f.width:tr.MIN}function c(f){if(f.isGroup){for(const s of f.columns)c(s);if(f.header){const s=Vn(f.header,r)+i+o,h=a(f),d=h.reduce((u,g)=>u+l(g),0);if(s>d&&h.length>0){const u=Math.ceil((s-d)/h.length);for(const g of h)e.set(g.id,l(g)+u)}}}}for(const f of t)c(f)}function Vc(t,e,r){let i=r.filter(a=>a.groupId===t).length;const o=e.filter(a=>a.parentId===t);for(const a of o)i+=Vc(a.id,e,r);return i}function Oc(t){var f,s;const e=On(t.theme.typography.fontSizeBase),r=(t.theme.spacing.cellPaddingX??10)*2;let i=0;const o=new Map,a=Array.isArray(t.data.groups)?t.data.groups:[];for(const h of a)o.set(h.id,h.depth);const l=h=>h?(o.get(h)??0)+1:0;t.data.labelHeader&&(i=Math.max(i,Vn(t.data.labelHeader,e)));for(const h of t.data.rows)if(h.label){const d=l(h.groupId),u=((f=h.style)==null?void 0:f.indent)??0,v=(d+u)*Le.INDENT_PER_LEVEL;let y=Vn(h.label,e)+v;if((s=h.style)!=null&&s.badge){const x=String(h.style.badge),_=e*kr.FONT_SCALE,A=Vn(x,_)+kr.PADDING*2;y+=kr.GAP+A}i=Math.max(i,y)}for(const h of a)if(h.label){const d=h.depth*Le.INDENT_PER_LEVEL,u=Vn(h.label,e),v=`(${Vc(h.id,a,t.data.rows)})`,y=e*.75,x=Vn(v,y),_=d+ri.CHEVRON_WIDTH+ri.GAP+u+ri.GAP+x+ri.SAFETY_MARGIN;i=Math.max(i,_)}const c=Math.ceil(i+r+Qn.RENDERING_BUFFER);return Math.min(tr.LABEL_MAX,Math.max(tr.MIN,c))}function Cs(t,e){const r=e.get(t.id);return r!==void 0?r:typeof t.width=="number"?t.width:Cr.DEFAULT_COLUMN_WIDTH}function qg(t,e,r=0){var Ie,vt,Et,ne,Ve;const i=t.theme,o=i.spacing.rowHeight,a=i.spacing.padding,l=i.spacing.columnGap??8,c=Array.isArray(t.columns)?t.columns:[],f=qc(c,"left"),s=qc(c,"right"),h=wa(f)||wa(s)||wa(c),d=h?2:1,u=i.spacing.cellPaddingY??4,y=(i.spacing.headerHeight/d+(h?u*2:0))*d,x=!!((Ie=t.labels)!=null&&Ie.title),_=!!((vt=t.labels)!=null&&vt.subtitle),S=!!((Et=t.labels)!=null&&Et.caption),A=!!((ne=t.labels)!=null&&ne.footnote),H=x?Jn.TITLE_HEIGHT:0,M=_?Jn.SUBTITLE_HEIGHT:0,k=H+M+(x||_?a:0),w=S?Jn.CAPTION_HEIGHT:0,E=A?Jn.FOOTNOTE_HEIGHT:0,L=w+E+(S||A?a:0),N=jc(t),W=!!t.data.overall;let T=0;for(const xt of N){const ve=xt.type==="data"&&((Ve=xt.row.style)==null?void 0:Ve.type)==="spacer";T+=ve?o/2:o}W&&(T+=o*fd.OVERALL_ROW_HEIGHT_MULTIPLIER);const D=Hs(c,"left"),Y=Hs(c,"right"),st=Ns(c).filter(xt=>xt.position===void 0),ct=[...D,...Y,...st];let B,lt;if(e.columnWidths){B=new Map;for(const[xt,ve]of Object.entries(e.columnWidths))xt!=="__label__"&&B.set(xt,ve);lt=e.columnWidths.__label__??Oc(t)}else B=Og(t,ct),lt=Oc(t);const X=lt+D.reduce((xt,ve)=>xt+Cs(ve,B),0),ft=Y.reduce((xt,ve)=>xt+Cs(ve,B),0),V=st.filter(xt=>xt.type!=="forest").reduce((xt,ve)=>xt+Cs(ve,B),0),tt=e.width??Cr.DEFAULT_WIDTH,it=ct.some(xt=>xt.type==="forest")||t.data.includeForest,Ht=X+ft+V;let bt;if(!it)bt=0;else if(typeof e.forestWidth=="number")bt=e.forestWidth;else if(typeof t.layout.plotWidth=="number")bt=t.layout.plotWidth;else{const xt=tt-Ht-l*2-a*2;bt=Math.max(xt,Cr.MIN_FOREST_WIDTH)}const at=a*2+Ht+bt+l*2,St=Math.max(e.width??tt,at);it&&St>at&&typeof e.forestWidth!="number"&&typeof t.layout.plotWidth!="number"&&(bt=St-Ht-a*2-l*2);const Te=(i.spacing.axisGap??12)+Cr.AXIS_HEIGHT+Cr.AXIS_LABEL_HEIGHT,Zt=k+a+y+T+Te+L+Cr.BOTTOM_MARGIN;return{totalWidth:St,totalHeight:e.height??Zt,tableWidth:X+ft,forestWidth:bt,headerHeight:y,rowHeight:o,plotHeight:T,axisHeight:Cr.AXIS_HEIGHT,nullValue:r,summaryYPosition:T-o,showOverallSummary:W,headerTextHeight:k,footerTextHeight:L,titleY:a+Jn.TITLE_HEIGHT-8,subtitleY:a+H+Jn.SUBTITLE_HEIGHT-4,mainY:k+a,footerY:k+a+y+T+Te+8,autoWidths:B,labelWidth:lt}}function jc(t){var d;const e=t.data.rows,r=Array.isArray(t.data.groups)?t.data.groups:[];if(r.length===0)return e.map(u=>({type:"data",row:u,depth:0}));const i=new Map;for(const u of r)i.set(u.id,u);const o=new Map;for(const u of e){const g=u.groupId??null;o.has(g)||o.set(g,[]),o.get(g).push(u)}const a=new Set;for(const u of o.keys()){if(!u)continue;let g=u;for(;g;)a.add(g),g=(d=i.get(g))==null?void 0:d.parentId}function l(u){return r.filter(g=>(g.parentId??null)===u&&a.has(g.id))}function c(u){if(!u)return 0;const g=i.get(u);return g?g.depth+1:0}function f(u){var v;let g=((v=o.get(u))==null?void 0:v.length)??0;for(const y of l(u))g+=f(y.id);return g}const s=[];function h(u){if(u){const v=i.get(u);if(!v)return;const y=f(u);s.push({type:"group_header",groupId:v.id,label:v.label,depth:v.depth,rowCount:y})}for(const v of l(u))h(v.id);const g=o.get(u)??[];for(const v of g)s.push({type:"data",row:v,depth:c(v.groupId)})}return h(null),s}function Ts(t){const e=[];for(const r of t)r.isGroup?e.push(...Ts(r.columns)):e.push(r);return e}function Ns(t){const e=[];for(const r of t)r.isGroup?e.push(...Ts(r.columns)):e.push(r);return e}function Hs(t,e){if(e===void 0)return Ns(t);const r=[];for(const i of t)i.position===e&&(i.isGroup?r.push(...Ts(i.columns)):r.push(i));return r}function qc(t,e){return t.filter(r=>r.position===e)}function wa(t){return t.some(e=>e.isGroup)}function On(t){let e;return t.endsWith("rem")?e=parseFloat(t)*Jn.REM_BASE:t.endsWith("px")?e=parseFloat(t):e=Jn.DEFAULT_FONT_SIZE,Math.round(e*100)/100}function ba(t,e,r){return r==="right"?{textX:t+e-Le.TEXT_PADDING,anchor:"end"}:r==="center"?{textX:t+e/2,anchor:"middle"}:{textX:t+Le.TEXT_PADDING,anchor:"start"}}function an(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function Xc(t,e,r,i=0){const o=e-i*2;if(Vn(t,r)<=o)return t;const l="…",c=r*.55;let f=0,s=t.length;for(;f<s;){const h=Math.ceil((f+s)/2),d=t.slice(0,h);Vn(d,r)+c<=o?f=h:s=h-1}return f===0?l:t.slice(0,f)+l}function Xg(t){return Math.abs(t)<.01?"0":Math.abs(t)>=100?t.toFixed(0):Math.abs(t)>=10?t.toFixed(1):t.toFixed(2)}function Go(t,e){const[r,i]=t,[o,a]=e,l=(a-o)/(i-r),c=f=>o+(f-r)*l;return c.domain=()=>t,c.range=()=>e,c.ticks=f=>{const s=(i-r)/(f-1),h=[];for(let d=0;d<f;d++)h.push(r+s*d);return h},c}function Vo(t,e){const[r,i]=t.map(h=>Math.max(h,.001)),[o,a]=e,l=Math.log10(r),c=Math.log10(i),f=(a-o)/(c-l),s=h=>{const d=Math.log10(Math.max(h,.001));return o+(d-l)*f};return s.domain=()=>[r,i],s.range=()=>e,s.ticks=h=>{const d=[],u=Math.floor(Math.log10(r)),g=Math.ceil(Math.log10(i));for(let v=u;v<=g;v++){const y=Math.pow(10,v);for(const x of[1,2,5]){const _=y*x;_>=r&&_<=i&&d.push(_)}}return d.length>0?d:[r,i]},s}function Ug(t,e,r,i){const o=r.scale==="log",a=Hn,l=Math.max(e-Hn,a+50);if(i!=null&&i.xDomain){const d=i.xDomain,u=i.clipBounds??d,g=Yl(u,t.theme.axis,r.scale,r.nullValue);return o?{scale:Vo([Math.max(d[0],.01),Math.max(d[1],.02)],[a,l]),clipBounds:u,ticks:g}:{scale:Go(d,[a,l]),clipBounds:u,ticks:g}}const c=Ul({rows:t.data.rows,config:t.theme.axis,scale:r.scale,nullValue:r.nullValue,forestWidth:e,pointSize:t.theme.shapes.pointSize,effects:r.effects,pointCol:r.pointCol,lowerCol:r.lowerCol,upperCol:r.upperCol}),{plotRegion:f,axisLimits:s,ticks:h}=c;return o?{scale:Vo([Math.max(f[0],.01),Math.max(f[1],.02)],[a,l]),clipBounds:s,ticks:h}:{scale:Go(f,[a,l]),clipBounds:s,ticks:h}}function Yg(t,e,r){var a,l;const i=[],o=r.spacing.padding;if((a=t.labels)!=null&&a.title){const c=On(r.typography.fontSizeLg);i.push(`<text x="${o}" y="${e.titleY}"
      font-family="${r.typography.fontFamily}"
      font-size="${c}px"
      font-weight="${r.typography.fontWeightBold}"
      fill="${r.colors.foreground}">${an(t.labels.title)}</text>`)}if((l=t.labels)!=null&&l.subtitle){const c=On(r.typography.fontSizeBase);i.push(`<text x="${o}" y="${e.subtitleY}"
      font-family="${r.typography.fontFamily}"
      font-size="${c}px"
      font-weight="${r.typography.fontWeightNormal}"
      fill="${r.colors.secondary}">${an(t.labels.subtitle)}</text>`)}return i.join(`
`)}function $g(t,e,r){var c,f,s,h;const i=[],o=r.spacing.padding;let a=e.footerY;if(!!((c=t.labels)!=null&&c.caption)||!!((f=t.labels)!=null&&f.footnote)){const d=e.footerY-8;i.push(`<line x1="${o}" x2="${e.totalWidth-o}"
      y1="${d}" y2="${d}"
      stroke="${r.colors.border}" stroke-width="1"/>`)}if((s=t.labels)!=null&&s.caption){const d=On(r.typography.fontSizeSm);i.push(`<text x="${o}" y="${a}"
      font-family="${r.typography.fontFamily}"
      font-size="${d}px"
      font-weight="${r.typography.fontWeightNormal}"
      fill="${r.colors.secondary}">${an(t.labels.caption)}</text>`),a+=Jn.CAPTION_HEIGHT}if((h=t.labels)!=null&&h.footnote){const d=On(r.typography.fontSizeSm);i.push(`<text x="${o}" y="${a}"
      font-family="${r.typography.fontFamily}"
      font-size="${d}px"
      font-weight="${r.typography.fontWeightNormal}"
      font-style="italic"
      fill="${r.colors.muted}">${an(t.labels.footnote)}</text>`)}return i.join(`
`)}function Zg(t,e,r,i,o,a,l){const c=[],f=e+1,s=l.groupHeaders;let h,d,u,g,v;if(f===1?(h=On((s==null?void 0:s.level1FontSize)??l.typography.fontSizeBase),d=(s==null?void 0:s.level1FontWeight)??l.typography.fontWeightBold,u=(s==null?void 0:s.level1Italic)??!1,g=(s==null?void 0:s.level1Background)??null,v=(s==null?void 0:s.level1BorderBottom)??!1):f===2?(h=On((s==null?void 0:s.level2FontSize)??l.typography.fontSizeBase),d=(s==null?void 0:s.level2FontWeight)??l.typography.fontWeightMedium,u=(s==null?void 0:s.level2Italic)??!0,g=(s==null?void 0:s.level2Background)??null,v=(s==null?void 0:s.level2BorderBottom)??!1):(h=On((s==null?void 0:s.level3FontSize)??l.typography.fontSizeBase),d=(s==null?void 0:s.level3FontWeight)??l.typography.fontWeightNormal,u=(s==null?void 0:s.level3Italic)??!1,g=(s==null?void 0:s.level3Background)??null,v=(s==null?void 0:s.level3BorderBottom)??!1),!g){const S=l.colors.primary,A=f===1?.15:f===2?.1:.06,H=S.replace("#",""),M=parseInt(H.substring(0,2),16),k=parseInt(H.substring(2,4),16),w=parseInt(H.substring(4,6),16);g=`rgba(${M}, ${k}, ${w}, ${A})`}const y=i+o/2+h*Jn.TEXT_BASELINE_ADJUSTMENT,x=e*((s==null?void 0:s.indentPerLevel)??Le.INDENT_PER_LEVEL);c.push(`<rect x="${r}" y="${i}"
    width="${a}" height="${o}"
    fill="${g}"/>`),v&&c.push(`<line x1="${r}" x2="${r+a}" y1="${i+o}" y2="${i+o}"
      stroke="${l.colors.border}" stroke-width="1" opacity="0.5"/>`);const _=u?' font-style="italic"':"";return c.push(`<text x="${r+Le.TEXT_PADDING+x}" y="${y}"
    font-family="${l.typography.fontFamily}"
    font-size="${h}px"
    font-weight="${d}"${_}
    fill="${l.colors.foreground}">${an(t)}</text>`),c.join(`
`)}function Kg(t,e){const r=new Map;for(const i of e)if(i.type==="bar"){let o=0;for(const a of t){const l=a.metadata[i.field];typeof l=="number"&&l>o&&(o=l)}r.set(i.field,o>0?o:1)}return r}function Qg(t,e){var i,o,a,l,c,f,s,h,d,u,g,v,y,x,_,S,A,H,M;if(e.type==="interval"){const k=(o=(i=e.options)==null?void 0:i.interval)!=null&&o.point?t.metadata[e.options.interval.point]:t.point,w=(l=(a=e.options)==null?void 0:a.interval)!=null&&l.lower?t.metadata[e.options.interval.lower]:t.lower,E=(f=(c=e.options)==null?void 0:c.interval)!=null&&f.upper?t.metadata[e.options.interval.upper]:t.upper;return ks(k,w,E,e.options)}if(e.type==="numeric"){const k=t.metadata[e.field];return typeof k=="number"?Ji(k,e.options):((s=e.options)==null?void 0:s.naText)??""}if(e.type==="custom"&&((h=e.options)!=null&&h.events))return Es(t,e.options);if(e.type==="pvalue"){const k=t.metadata[e.field];return typeof k!="number"?((d=e.options)==null?void 0:d.naText)??"":Lc(k,e.options)}if(e.type==="icon"){const k=t.metadata[e.field];if(k==null)return"";const w=String(k),E=(g=(u=e.options)==null?void 0:u.icon)==null?void 0:g.mapping;return E&&w in E?E[w]:w}if(e.type==="badge"){const k=t.metadata[e.field];return k!=null?String(k):""}if(e.type==="stars"){const k=t.metadata[e.field];if(typeof k!="number")return"";const w=((y=(v=e.options)==null?void 0:v.stars)==null?void 0:y.maxStars)??5,E=Math.max(0,Math.min(w,k)),L=Math.floor(E),N=w-L;return"★".repeat(L)+"☆".repeat(N)}if(e.type==="img")return((_=(x=e.options)==null?void 0:x.img)==null?void 0:_.fallback)??"[IMG]";if(e.type==="reference"){const k=t.metadata[e.field];if(k==null)return"";const w=String(k),E=((A=(S=e.options)==null?void 0:S.reference)==null?void 0:A.maxChars)??30;return w.length<=E?w:w.substring(0,E)+"..."}if(e.type==="range"){const k=(H=e.options)==null?void 0:H.range;if(!k)return"";const w=t.metadata[k.minField],E=t.metadata[k.maxField],L=k.separator??" – ",N=k.decimals,W=T=>typeof T!="number"?"":N==null?Number.isInteger(T)?String(T):T.toFixed(1):T.toFixed(N);return w===null&&E===null?"":w===null?W(E):E===null?W(w):`${W(w)}${L}${W(E)}`}const r=t.metadata[e.field];return r!=null?String(r):((M=e.options)==null?void 0:M.naText)??""}function Jg(t,e,r,i,o){const a=t.filter(h=>Number.isFinite(h));if(a.length===0)return"";if(a.length===1){const h=e+i/2,d=r+o/2;return`M${h.toFixed(1)},${d.toFixed(1)}`}const l=Math.min(...a),f=Math.max(...a)-l||1;return`M${a.map((h,d)=>{const u=e+d/(a.length-1)*i,g=r+o-(h-l)/f*o;return`${u.toFixed(1)},${g.toFixed(1)}`}).join("L")}`}function tv(t,e,r,i,o,a=[],l,c=0,f=1/0,s,h=!1){var w;let d;if(a.length===0){const E=!h||t.point!=null&&t.point>0?t.point:null,L=!h||t.lower!=null&&t.lower>0?t.lower:null,N=!h||t.upper!=null&&t.upper>0?t.upper:null;d=[{point:E,lower:L,upper:N,color:null,shape:null,opacity:null}]}else d=a.map(E=>({point:Kn(t.metadata,t.point,E.pointCol,"point",h),lower:Kn(t.metadata,t.lower,E.lowerCol,"lower",h),upper:Kn(t.metadata,t.upper,E.upperCol,"upper",h),color:E.color??null,shape:E.shape??null,opacity:E.opacity??null}));const u=d.filter(E=>E.point!=null&&!Number.isNaN(E.point)&&E.lower!=null&&!Number.isNaN(E.lower)&&E.upper!=null&&!Number.isNaN(E.upper));if(u.length===0)return"";const g=i.shapes.pointSize,v=i.shapes.lineWidth,y=i.colors.intervalLine,x=((w=t.style)==null?void 0:w.type)==="summary",S=i.shapes.summaryHeight/2;function A(E){var N;if(E&&((N=t.markerStyle)==null?void 0:N.size)!=null)return g*t.markerStyle.size;const L=l?t.metadata[l]:void 0;if(L){const W=.5+Math.sqrt(L/100)*1.5;return Math.min(Math.max(g*W,3),g*2.5)}return g}function H(E,L){const N=L===0,W=t.markerStyle,T=i.shapes.effectColors,D=i.shapes.markerShapes,Y=["square","circle","diamond","triangle"];let st;N&&(W!=null&&W.color)?st=W.color:E.color?st=E.color:T&&T.length>0?st=T[L%T.length]:st=i.colors.interval??i.colors.primary??"#2563eb";let ct;N&&(W!=null&&W.shape)?ct=W.shape:E.shape?ct=E.shape:D&&D.length>0?ct=D[L%D.length]:ct=Y[L%Y.length];let B;return N&&(W==null?void 0:W.opacity)!=null?B=W.opacity:E.opacity!=null?B=E.opacity:B=1,{color:st,shape:ct,opacity:B}}function M(E,L,N,W){const{color:T,shape:D,opacity:Y}=W,st=Y<1?` fill-opacity="${Y}"`:"";switch(D){case"circle":return`<circle cx="${E}" cy="${L}" r="${N}" fill="${T}"${st}/>`;case"diamond":return`<polygon points="${[`${E},${L-N}`,`${E+N},${L}`,`${E},${L+N}`,`${E-N},${L}`].join(" ")}" fill="${T}"${st}/>`;case"triangle":return`<polygon points="${[`${E},${L-N}`,`${E+N},${L+N}`,`${E-N},${L+N}`].join(" ")}" fill="${T}"${st}/>`;default:return`<rect x="${E-N}" y="${L-N}" width="${N*2}" height="${N*2}" fill="${T}"${st}/>`}}const k=[];return u.forEach((E,L)=>{const N=e+Zl(L,u.length),W=r(E.lower),T=r(E.upper),D=r(E.point),Y=H(E,L),st=A(L===0),ct=y;if(x){const B=Y.opacity<1?` fill-opacity="${Y.opacity}"`:"",lt=[`${W},${N}`,`${D},${N-S}`,`${T},${N}`,`${D},${N+S}`].join(" ");k.push(`
        <g class="interval effect-${L} summary">
          <polygon points="${lt}"
            fill="${Y.color}"${B} stroke="${i.colors.summaryBorder}" stroke-width="1"/>
        </g>`)}else{const B=c+Hn,lt=c+f-Hn,X=s?E.lower<s[0]:W<B,ft=s?E.upper>s[1]:T>lt;let V,tt;if(s){const Te=Math.max(s[0],Math.min(s[1],E.lower)),Zt=Math.max(s[0],Math.min(s[1],E.upper));V=r(Te),tt=r(Zt)}else V=Math.max(B,Math.min(lt,W)),tt=Math.max(B,Math.min(lt,T));const J=ql(i),it=J.height/2,Ht=s?r(s[0]):B,bt=s?r(s[1]):lt;let at="";X?at=`<path d="${la("left",Ht,N,J)}" fill="${J.color}"/>`:at=`<line x1="${V}" x2="${V}" y1="${N-it}" y2="${N+it}" stroke="${ct}" stroke-width="${v}"/>`;let St="";ft?St=`<path d="${la("right",bt,N,J)}" fill="${J.color}"/>`:St=`<line x1="${tt}" x2="${tt}" y1="${N-it}" y2="${N+it}" stroke="${ct}" stroke-width="${v}"/>`;const ee=s?r(Math.max(s[0],Math.min(s[1],E.point))):Math.max(B,Math.min(lt,D));k.push(`
        <g class="interval effect-${L}">
          <line x1="${V}" x2="${tt}" y1="${N}" y2="${N}"
            stroke="${ct}" stroke-width="${v}"/>
          ${at}
          ${St}
          ${M(ee,N,st,Y)}
        </g>`)}}),k.join("")}function ev(t,e,r,i,o,a,l,c){const s=c.shapes.summaryHeight/2,[h,d]=o.domain().map(M=>o(M)),u=Math.min(h,d),g=Math.max(h,d),v=o(e),y=o(t),x=o(r),_=a+Math.max(u,Math.min(g,v)),S=a+Math.max(u,Math.min(g,y)),A=a+Math.max(u,Math.min(g,x));return`<polygon points="${[`${_},${i}`,`${S},${i-s}`,`${A},${i}`,`${S},${i+s}`].join(" ")}"
    fill="${c.colors.summaryFill}"
    stroke="${c.colors.summaryBorder}"
    stroke-width="1"/>`}function nv(t,e,r,i,o,a,l,c){const f=[],s=a.effects,h=s.length;if(!s.some(_=>{const S=t.metadata[_.value];return S!=null&&!Number.isNaN(S)}))return"";const u=r*.7,g=h>1?2:0,v=(u-g*(h-1))/h,y=Math.max(4,v),x=c.shapes.effectColors??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"];return s.forEach((_,S)=>{const A=t.metadata[_.value];if(A==null||Number.isNaN(A))return;const H=e-u/2+S*(y+g),M=i+l(Math.min(0,A)),k=Math.abs(l(A)-l(0)),w=_.color??x[S%x.length],E=_.opacity??.85;f.push(`<rect
      x="${M}" y="${H}"
      width="${Math.max(1,k)}" height="${y}"
      fill="${w}" fill-opacity="${E}" rx="2"
      class="viz-bar-segment"/>`)}),f.join(`
`)}function rv(t,e,r,i,o,a,l,c){const f=[],s=a.effects,h=s.length,d=s.map(S=>{if(S.data){const A=t.metadata[S.data];return!A||!Array.isArray(A)||A.length===0?null:xa(A)}if(S.min&&S.q1&&S.median&&S.q3&&S.max){const A=t.metadata[S.min],H=t.metadata[S.q1],M=t.metadata[S.median],k=t.metadata[S.q3],w=t.metadata[S.max];if([A,H,M,k,w].some(L=>L==null||Number.isNaN(L)))return null;let E=[];if(S.outliers){const L=t.metadata[S.outliers];L&&Array.isArray(L)&&(E=L)}return{min:A,q1:H,median:M,q3:k,max:w,outliers:E}}return null});if(!d.some(S=>S!==null))return"";const g=r*.7,v=h>1?2:0,y=Math.max(8,(g-(h-1)*v)/h),x=c.shapes.effectColors??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"],_=c.colors.foreground??"#1a1a1a";return s.forEach((S,A)=>{const H=d[A];if(!H)return;const M=e-g/2+A*(y+v),k=M+y/2,w=S.color??x[A%x.length],E=S.fillOpacity??.7;f.push(`<line
      x1="${i+l(H.min)}" x2="${i+l(H.q1)}"
      y1="${k}" y2="${k}"
      stroke="${_}" stroke-width="1"/>`),f.push(`<line
      x1="${i+l(H.min)}" x2="${i+l(H.min)}"
      y1="${k-y/4}" y2="${k+y/4}"
      stroke="${_}" stroke-width="1"/>`),f.push(`<line
      x1="${i+l(H.q3)}" x2="${i+l(H.max)}"
      y1="${k}" y2="${k}"
      stroke="${_}" stroke-width="1"/>`),f.push(`<line
      x1="${i+l(H.max)}" x2="${i+l(H.max)}"
      y1="${k-y/4}" y2="${k+y/4}"
      stroke="${_}" stroke-width="1"/>`);const L=Math.max(2,l(H.q3)-l(H.q1));if(f.push(`<rect
      x="${i+l(H.q1)}" y="${M}"
      width="${L}" height="${y}"
      fill="${w}" fill-opacity="${E}"
      stroke="${_}" stroke-width="1"/>`),f.push(`<line
      x1="${i+l(H.median)}" x2="${i+l(H.median)}"
      y1="${M}" y2="${M+y}"
      stroke="${_}" stroke-width="2"/>`),a.showOutliers!==!1&&H.outliers.length>0)for(const N of H.outliers)f.push(`<circle
          cx="${i+l(N)}" cy="${k}"
          r="2.5"
          fill="none" stroke="${w}" stroke-width="1.5"/>`)}),f.join(`
`)}function iv(t,e,r,i,o,a,l,c){const f=[],s=a.effects,h=s.length,d=s.map(H=>{const M=t.metadata[H.data];return!M||!Array.isArray(M)||M.length<2?null:Bc(M,a.bandwidth)}),u=s.map(H=>{const M=t.metadata[H.data];if(!M||!Array.isArray(M)||M.length<2)return null;const k=M.filter(L=>L!=null&&!Number.isNaN(L)).sort((L,N)=>L-N);if(k.length===0)return null;const w=k.length,E=L=>{if(w===1)return k[0];const N=(w-1)*L,W=Math.floor(N),T=Math.ceil(N);return W===T?k[W]:k[W]+(N-W)*(k[T]-k[W])};return{q1:E(.25),median:E(.5),q3:E(.75)}});if(!d.some(H=>H!==null))return"";const v=r*.8,y=h>1?2:0,x=Math.max(10,(v-(h-1)*y)/h),_=x/2,S=c.shapes.effectColors??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"],A=c.colors.foreground??"#1a1a1a";return s.forEach((H,M)=>{const k=d[M],w=u[M];if(!k||k.x.length<2)return;const E=e-v/2+x/2+M*(x+y),L=H.color??S[M%S.length],N=H.fillOpacity??.5,W=Gc(k,_),T=[];for(let D=0;D<W.x.length;D++){const Y=i+l(W.x[D]),st=E-W.y[D];T.push(D===0?`M ${Y} ${st}`:`L ${Y} ${st}`)}for(let D=W.x.length-1;D>=0;D--){const Y=i+l(W.x[D]),st=E+W.y[D];T.push(`L ${Y} ${st}`)}if(T.push("Z"),f.push(`<path
      d="${T.join(" ")}"
      fill="${L}" fill-opacity="${N}"
      stroke="${A}" stroke-width="0.5"/>`),a.showMedian!==!1&&w){const D=i+l(w.median);f.push(`<line
        x1="${D}" x2="${D}"
        y1="${E-_*.6}" y2="${E+_*.6}"
        stroke="${A}" stroke-width="2"/>`)}if(a.showQuartiles&&w){const D=i+l(w.q1),Y=i+l(w.q3);f.push(`<line
        x1="${D}" x2="${D}"
        y1="${E-_*.4}" y2="${E+_*.4}"
        stroke="${A}" stroke-width="1" stroke-dasharray="2,2"/>`),f.push(`<line
        x1="${Y}" x2="${Y}"
        y1="${E-_*.4}" y2="${E+_*.4}"
        stroke="${A}" stroke-width="1" stroke-dasharray="2,2"/>`)}}),f.join(`
`)}function ov(t,e,r){var c,f;const i=e.scale==="log",o=Hn;let a=(c=e.axisRange)==null?void 0:c[0],l=(f=e.axisRange)==null?void 0:f[1];if(a==null||l==null){const s=[];for(const h of t)for(const d of e.effects){const u=h.metadata[d.value];u!=null&&!Number.isNaN(u)&&s.push(u)}s.length>0?(a=a??Math.min(0,...s),l=l??Math.max(...s)*1.1):(a=a??0,l=l??100)}return i?Vo([Math.max(.01,a),l],[o,r-o]):Go([a,l],[o,r-o])}function av(t,e,r){var c,f;const i=e.scale==="log",o=Hn;let a=(c=e.axisRange)==null?void 0:c[0],l=(f=e.axisRange)==null?void 0:f[1];if(a==null||l==null){const s=[];for(const h of t)for(const d of e.effects)if(d.data){const u=h.metadata[d.data];if(u&&Array.isArray(u)){const g=xa(u);s.push(g.min,g.max),e.showOutliers!==!1&&s.push(...g.outliers)}}else if(d.min&&d.max){const u=h.metadata[d.min],g=h.metadata[d.max];u!=null&&!Number.isNaN(u)&&s.push(u),g!=null&&!Number.isNaN(g)&&s.push(g)}if(s.length>0){const h=Math.min(...s),d=Math.max(...s),u=d-h;a=a??h-u*.05,l=l??d+u*.05}else a=a??0,l=l??100}return i?Vo([Math.max(.01,a),l],[o,r-o]):Go([a,l],[o,r-o])}function sv(t,e,r){var c,f;const i=e.scale==="log",o=Hn;let a=(c=e.axisRange)==null?void 0:c[0],l=(f=e.axisRange)==null?void 0:f[1];if(a==null||l==null){const s=[];for(const h of t)for(const d of e.effects){const u=h.metadata[d.data];u&&Array.isArray(u)&&s.push(...u.filter(g=>g!=null&&!Number.isNaN(g)))}if(s.length>0){a=a??Math.min(...s),l=l??Math.max(...s);const h=(l??0)-(a??0);a=(a??0)-h*.1,l=(l??0)+h*.1}else a=a??0,l=l??100}return i?Vo([Math.max(.01,a),l],[o,r-o]):Go([a,l],[o,r-o])}function As(t,e,r,i,o,a,l){const c=[],f=On(r.typography.fontSizeSm),s=ss.EDGE_THRESHOLD,h=x=>x<s?"start":x>a-s?"end":"middle",d=x=>x<s?2:x>a-s?-2:0;c.push(`<line x1="${o}" x2="${o+a}"
    y1="0" y2="0" stroke="${r.colors.border}" stroke-width="1"/>`);const u=t.domain(),g=5,v=[],y=u[1]-u[0];for(let x=0;x<=g;x++)v.push(u[0]+y*x/g);for(const x of v){const _=t(x),S=o+_,A=h(_),H=d(_),M=Ji(x);c.push(`<line x1="${S}" x2="${S}" y1="0" y2="4" stroke="${r.colors.border}" stroke-width="1"/>`),c.push(`<text x="${S+H}" y="14"
      text-anchor="${A}"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      font-weight="${r.typography.fontWeightNormal}"
      fill="${r.colors.foreground}">${M}</text>`)}return i&&c.push(`<text x="${o+a/2}" y="28"
      text-anchor="middle"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      font-weight="${r.typography.fontWeightMedium}"
      fill="${r.colors.foreground}">${an(i)}</text>`),c.join(`
`)}function lv(t,e,r,i,o,a,l=1,c){const f=[],s=typeof r.axis.tickCount=="number"?r.axis.tickCount:Le.DEFAULT_TICK_COUNT,h=uv(t,s,r,l,a,c),d=On(r.typography.fontSizeSm),u=ss.EDGE_THRESHOLD,g=y=>y<u?"start":y>a-u?"end":"middle",v=y=>y<u?2:y>a-u?-2:0;f.push(`<line x1="${o}" x2="${o+a}"
    y1="0" y2="0" stroke="${r.colors.border}" stroke-width="1"/>`);for(const y of h){const x=t(y),_=o+x,S=g(x),A=v(x);f.push(`<line x1="${_}" x2="${_}" y1="0" y2="4"
      stroke="${r.colors.border}" stroke-width="1"/>`),f.push(`<text x="${_+A}" y="16" text-anchor="${S}"
      font-family="${r.typography.fontFamily}"
      font-size="${d}px"
      font-weight="${r.typography.fontWeightNormal}"
      fill="${r.colors.secondary}">${Xg(y)}</text>`)}return i&&f.push(`<text x="${o+a/2}" y="28"
      text-anchor="middle"
      font-family="${r.typography.fontFamily}"
      font-size="${d}px"
      font-weight="${r.typography.fontWeightMedium}"
      fill="${r.colors.secondary}">${an(i)}</text>`),`<g transform="translate(0, ${e.mainY+e.headerHeight+e.plotHeight})">${f.join(`
`)}</g>`}function cv(t,e,r,i,o,a,l,c,f,s){const h=[],d=On(a.typography.fontSizeBase),u=a.typography.headerFontScale??1.05,g=Math.round(d*u*100)/100,v=a.typography.fontWeightBold,y=a.typography.fontWeightBold,x=wa(t),_=(S,A)=>S+A/2+g*Jn.TEXT_BASELINE_ADJUSTMENT;if(x){const S=o/2,A=o/2;let H=r;h.push(`<text x="${H+Le.TEXT_PADDING}" y="${_(i,o)}"
      font-family="${a.typography.fontFamily}"
      font-size="${g}px"
      font-weight="${v}"
      fill="${a.colors.foreground}">${an(l)}</text>`),H+=c;const M=[];for(const k of t)if(k.isGroup){const w=k.columns.reduce((L,N)=>N.isGroup?L+N.columns.reduce((W,T)=>W+s(T),0):L+s(N),0),E=H+w/2;h.push(`<text x="${E}" y="${_(i,S)}"
          font-family="${a.typography.fontFamily}"
          font-size="${g}px"
          font-weight="${y}"
          text-anchor="middle"
          fill="${a.colors.foreground}">${an(k.header)}</text>`),M.push({x1:H,x2:H+w}),H+=w}else{const w=s(k),E=k.headerAlign??k.align,{textX:L,anchor:N}=ba(H,w,E),W=Xc(k.header,w,g,Le.TEXT_PADDING);h.push(`<text x="${L}" y="${_(i,o)}"
          font-family="${a.typography.fontFamily}"
          font-size="${g}px"
          font-weight="${v}"
          text-anchor="${N}"
          fill="${a.colors.foreground}">${an(W)}</text>`),H+=w}for(const k of M)h.push(`<line x1="${k.x1}" x2="${k.x2}"
        y1="${i+S}" y2="${i+S}"
        stroke="${a.colors.border}" stroke-width="1"/>`);H=r+c;for(const k of t)if(k.isGroup){for(const w of k.columns)if(!w.isGroup){const E=s(w),L=w.headerAlign??w.align,{textX:N,anchor:W}=ba(H,E,L);h.push(`<text x="${N}" y="${_(i+S,A)}"
              font-family="${a.typography.fontFamily}"
              font-size="${g}px"
              font-weight="${v}"
              text-anchor="${W}"
              fill="${a.colors.foreground}">${an(w.header)}</text>`),H+=E}}else H+=s(k)}else{let S=r;h.push(`<text x="${S+Le.TEXT_PADDING}" y="${_(i,o)}"
      font-family="${a.typography.fontFamily}"
      font-size="${g}px"
      font-weight="${v}"
      fill="${a.colors.foreground}">${an(l)}</text>`),S+=c;for(const A of e){const H=s(A),M=A.headerAlign??A.align,{textX:k,anchor:w}=ba(S,H,M),E=Xc(A.header,H,g,Le.TEXT_PADDING);h.push(`<text x="${k}" y="${_(i,o)}"
        font-family="${a.typography.fontFamily}"
        font-size="${g}px"
        font-weight="${v}"
        text-anchor="${w}"
        fill="${a.colors.foreground}">${an(E)}</text>`),S+=H}}return h.join(`
`)}function fv(t,e,r,i,o,a,l,c,f,s,h,d){var A,H,M,k,w,E,L,N,W,T,D,Y,st,ct,B,lt,X,ft,V,tt,J,it,Ht,bt,at,St,ee,Te,Zt;const u=[],g=On(a.typography.fontSizeBase),v=i+o/2+g*Jn.TEXT_BASELINE_ADJUSTMENT,y=c*Le.INDENT_PER_LEVEL+(((A=t.style)==null?void 0:A.indent)??0)*Le.INDENT_PER_LEVEL,x=(H=t.style)!=null&&H.bold||(M=t.style)!=null&&M.emphasis?a.typography.fontWeightBold:a.typography.fontWeightNormal,_=(k=t.style)!=null&&k.italic?"italic":"normal";let S=a.colors.foreground;if((w=t.style)!=null&&w.color?S=t.style.color:(E=t.style)!=null&&E.muted?S=a.colors.muted:(L=t.style)!=null&&L.accent&&(S=a.colors.accent),u.push(`<text x="${r+Le.TEXT_PADDING+y}" y="${v}"
    font-family="${a.typography.fontFamily}"
    font-size="${g}px"
    font-weight="${x}"
    font-style="${_}"
    fill="${S}">${an(t.label)}</text>`),(N=t.style)!=null&&N.badge){const Ie=String(t.style.badge),vt=g*kr.FONT_SCALE,Et=vt+kr.PADDING*2,ne=Vn(t.label,g),Ve=r+Le.TEXT_PADDING+y+ne+kr.GAP,ve=Vn(Ie,vt)+kr.PADDING*2,Dt=i+(o-Et)/2;u.push(`<rect x="${Ve}" y="${Dt}" width="${ve}" height="${Et}"
      rx="3" fill="${a.colors.primary}" opacity="0.15"/>`),u.push(`<text x="${Ve+ve/2}" y="${Dt+Et/2+vt*.35}"
      text-anchor="middle"
      font-family="${a.typography.fontFamily}"
      font-size="${vt}px"
      font-weight="${a.typography.fontWeightBold}"
      fill="${a.colors.primary}">${an(Ie)}</text>`)}for(let Ie=0;Ie<e.length;Ie++){const vt=e[Ie],Et=d[Ie],ne=h(vt);if(vt.type==="forest"||vt.type==="viz_bar"||vt.type==="viz_boxplot"||vt.type==="viz_violin")continue;const Ve=Qg(t,vt),{textX:xt,anchor:ve}=ba(Et,ne,vt.align);if(vt.type==="bar"&&typeof t.metadata[vt.field]=="number"){const Dt=t.metadata[vt.field],Bt=f.get(vt.field),Ye=((T=(W=vt.options)==null?void 0:W.bar)==null?void 0:T.maxValue)??Bt??100,Ue=((Y=(D=vt.options)==null?void 0:D.bar)==null?void 0:Y.color)??a.colors.primary,Ne=a.shapes.pointSize*2,ln=ne-Le.TEXT_PADDING*2-50,Yt=Math.min(Dt/Ye*ln,ln),Rt=t.style,ze=Rt!=null&&Rt.bold||Rt!=null&&Rt.emphasis?a.typography.fontWeightBold:a.typography.fontWeightNormal;u.push(`<rect x="${Et+Le.TEXT_PADDING}" y="${i+o/2-Ne/2}"
        width="${Math.max(0,Yt)}" height="${Ne}"
        fill="${Ue}" opacity="0.7" rx="2"/>`),u.push(`<text x="${Et+ne-Le.TEXT_PADDING}" y="${v}"
        font-family="${a.typography.fontFamily}"
        font-size="${g}px"
        font-weight="${ze}"
        text-anchor="end"
        fill="${a.colors.foreground}">${Ji(Dt)}</text>`)}else if(vt.type==="sparkline"&&Array.isArray(t.metadata[vt.field])){let Dt=t.metadata[vt.field];Array.isArray(Dt[0])&&(Dt=Dt[0]);const Bt=((ct=(st=vt.options)==null?void 0:st.sparkline)==null?void 0:ct.height)??16,Ye=((lt=(B=vt.options)==null?void 0:B.sparkline)==null?void 0:lt.color)??a.colors.primary,Ue=Le.TEXT_PADDING*2,Ne=Jg(Dt,Et+Le.TEXT_PADDING,i+o/2-Bt/2,ne-Ue,Bt);u.push(`<path d="${Ne}" fill="none" stroke="${Ye}" stroke-width="1.5"/>`)}else if(vt.type==="badge"){const Dt=t.metadata[vt.field];if(Dt!=null){const Bt=String(Dt),Ye=g*.85,Ue=Ye+8,Ne=(ft=(X=vt.options)==null?void 0:X.badge)==null?void 0:ft.variants,kn=(tt=(V=vt.options)==null?void 0:V.badge)==null?void 0:tt.colors;let ln=a.colors.primary,Yt=a.colors.primary;if(kn&&Bt in kn)ln=kn[Bt],Yt=kn[Bt];else if(Ne&&Bt in Ne){const wn=Ne[Bt];ln={default:a.colors.primary,...Wo,muted:a.colors.muted}[wn]??a.colors.primary,Yt=ln}const ze=Vn(Bt,Ye)+12,sr=vt.align==="right"?Et+ne-Le.TEXT_PADDING-ze:vt.align==="center"?Et+(ne-ze)/2:Et+Le.TEXT_PADDING,yr=i+(o-Ue)/2;u.push(`<rect x="${sr}" y="${yr}" width="${ze}" height="${Ue}"
          rx="${Ue/2}" fill="${ln}" opacity="0.15"/>`),u.push(`<text x="${sr+ze/2}" y="${yr+Ue/2+Ye*.35}"
          text-anchor="middle"
          font-family="${a.typography.fontFamily}"
          font-size="${Ye}px"
          font-weight="${a.typography.fontWeightBold}"
          fill="${Yt}">${an(Bt)}</text>`)}}else if(vt.type==="stars"){const Dt=t.metadata[vt.field];if(typeof Dt=="number"){const Bt=((it=(J=vt.options)==null?void 0:J.stars)==null?void 0:it.maxStars)??5,Ye=((bt=(Ht=vt.options)==null?void 0:Ht.stars)==null?void 0:bt.color)??"#f59e0b",Ue=((St=(at=vt.options)==null?void 0:at.stars)==null?void 0:St.emptyColor)??"#d1d5db",Ne=Math.max(0,Math.min(Bt,Dt)),kn=Math.floor(Ne),ln=((Te=(ee=vt.options)==null?void 0:ee.stars)==null?void 0:Te.halfStars)&&Ne-kn>=.5,Yt=12,Rt=2,ze=Bt*Yt+(Bt-1)*Rt;let sr=vt.align==="right"?Et+ne-Le.TEXT_PADDING-ze:vt.align==="center"?Et+(ne-ze)/2:Et+Le.TEXT_PADDING;const yr=i+(o-Yt)/2,wn=(tn,Cn,Ur)=>{const bn=Ur/2,Ze=bn*.4;let hn="";for(let Ln=0;Ln<5;Ln++){const io=(Ln*72-90)*Math.PI/180,C=(Ln*72+36-90)*Math.PI/180,F=tn+bn*Math.cos(io),U=Cn+bn*Math.sin(io),K=tn+Ze*Math.cos(C),wt=Cn+Ze*Math.sin(C);hn+=(Ln===0?`M${F},${U}`:`L${F},${U}`)+`L${K},${wt}`}return hn+"Z"};for(let tn=0;tn<Bt;tn++){const Cn=sr+Yt/2,Ur=yr+Yt/2,Ze=tn<kn||tn===kn&&ln?Ye:Ue;u.push(`<path d="${wn(Cn,Ur,Yt)}" fill="${Ze}"/>`),sr+=Yt+Rt}}}else{const Dt=(Zt=t.cellStyles)==null?void 0:Zt[vt.field],Bt=t.style;let Ye=a.typography.fontWeightNormal;(Dt!=null&&Dt.bold||Dt!=null&&Dt.emphasis||Bt!=null&&Bt.bold||Bt!=null&&Bt.emphasis)&&(Ye=a.typography.fontWeightBold);let Ue="normal";(Dt!=null&&Dt.italic||Bt!=null&&Bt.italic)&&(Ue="italic");let Ne=a.colors.foreground;Dt!=null&&Dt.color?Ne=Dt.color:Dt!=null&&Dt.muted?Ne=a.colors.muted:Dt!=null&&Dt.accent?Ne=a.colors.accent:Bt!=null&&Bt.color?Ne=Bt.color:Bt!=null&&Bt.muted?Ne=a.colors.muted:Bt!=null&&Bt.accent&&(Ne=a.colors.accent),u.push(`<text x="${xt}" y="${v}"
        font-family="${a.typography.fontFamily}"
        font-size="${g}px"
        font-weight="${Ye}"
        font-style="${Ue}"
        text-anchor="${ve}"
        fill="${Ne}">${an(Ve)}</text>`)}}return u.join(`
`)}function uv(t,e,r,i,o,a){if(Array.isArray(r.axis.tickValues)&&r.axis.tickValues.length>0){const[w,E]=t.domain();let L=r.axis.tickValues.filter(T=>T>=w&&T<=E);const N=r.axis.nullTick!==!1,W=i>=w&&i<=E;return N&&W&&!L.includes(i)&&(L=[...L,i].sort((T,D)=>T-D)),L}const[l,c]=t.domain(),f=r.axis.nullTick!==!1,s=i>=l&&i<=c,h=ss.MIN_TICK_SPACING,d=Math.max(2,Math.floor(o/h)),u=Math.min(e,Math.min(7,d)),g=a&&a.length>0?a.filter(w=>w>=l&&w<=c):t.ticks(u);if(g.length===0)return f&&s?[i]:[];const v=t(i),y=g.filter(w=>w<i).reverse(),x=g.filter(w=>w>i),_=g.some(w=>w===i),S=[];let A=v;for(const w of y){const E=t(w);A-E>=h&&(S.unshift(w),A=E)}const H=[];let M=v;for(const w of x){const E=t(w);E-M>=h&&(H.push(w),M=E)}const k=[...S];if((_||f&&s)&&k.push(i),k.push(...H),k.length<2){const w=new Set(k);w.has(l)||k.unshift(l),k.length<2&&!w.has(c)&&k.push(c)}return k}function Ws(t,e,r,i,o,a,l,c=1,f=.6){let h=`<line x1="${t}" x2="${t}" y1="${e}" y2="${r}"
    stroke="${o}" stroke-width="${c}" stroke-opacity="${f}" stroke-dasharray="${i==="dashed"?"6,4":i==="dotted"?"2,2":"none"}"/>`;if(l){const d=a.colors.secondary;h+=`<text x="${t}" y="${e-4}" text-anchor="middle"
      font-family="${a.typography.fontFamily}"
      font-size="${a.typography.fontSizeSm}"
      font-weight="${a.typography.fontWeightMedium}"
      fill="${d}">${an(l)}</text>`}return h}class Ti extends Error{constructor(e){super(`SVG Generator: ${e}`),this.name="SVGGeneratorError"}}function dv(t){if(!t||typeof t!="object")throw new Ti("Invalid spec: expected an object");const e=t;if(!e.data||typeof e.data!="object")throw new Ti("Invalid spec: missing or invalid 'data' property");const r=e.data;if(!Array.isArray(r.rows))throw new Ti("Invalid spec: 'data.rows' must be an array");if(!e.theme||typeof e.theme!="object")throw new Ti("Invalid spec: missing or invalid 'theme' property");const i=e.theme;if(!i.colors||typeof i.colors!="object")throw new Ti("Invalid spec: missing or invalid 'theme.colors'");if(!i.typography||typeof i.typography!="object")throw new Ti("Invalid spec: missing or invalid 'theme.typography'");if(!i.spacing||typeof i.spacing!="object")throw new Ti("Invalid spec: missing or invalid 'theme.spacing'")}function hv(t){var a;const r=Hs(t.columns,void 0).find(l=>l.type==="forest");if(!r||!((a=r.options)!=null&&a.forest))return{scale:"linear",nullValue:0,effects:[],axisLabel:"Effect",pointCol:null,lowerCol:null,upperCol:null};const i=r.options.forest,o=i.scale??"linear";return{scale:o,nullValue:i.nullValue??(o==="log"?1:0),effects:i.effects??[],axisLabel:i.axisLabel??"Effect",pointCol:i.point??null,lowerCol:i.lower??null,upperCol:i.upper??null}}function Uc(t,e={}){var N,W,T,D,Y,st,ct;dv(t);const r=t.theme,i=r.spacing.padding,o=Array.isArray(t.columns)?t.columns:[],a=Ns(o),l=[];for(let B=0;B<a.length;B++)a[B].type==="forest"&&l.push(B);l.length>0;const c=[];for(let B=0;B<a.length;B++){const lt=a[B];(lt.type==="viz_bar"||lt.type==="viz_boxplot"||lt.type==="viz_violin")&&c.push({index:B,type:lt.type,column:lt})}const f=hv(t),s=qg(t,e,f.nullValue),h=s.autoWidths,d=B=>{var X,ft,V,tt,J,it,Ht,bt;if(B.type==="forest"){const at=h.get(B.id);return at!==void 0?at:typeof B.width=="number"?B.width:((ft=(X=B.options)==null?void 0:X.forest)==null?void 0:ft.width)??s.forestWidth}if(B.type==="viz_bar"){const at=h.get(B.id);return at!==void 0?at:typeof B.width=="number"?B.width:((tt=(V=B.options)==null?void 0:V.vizBar)==null?void 0:tt.width)??s.forestWidth}if(B.type==="viz_boxplot"){const at=h.get(B.id);return at!==void 0?at:typeof B.width=="number"?B.width:((it=(J=B.options)==null?void 0:J.vizBoxplot)==null?void 0:it.width)??s.forestWidth}if(B.type==="viz_violin"){const at=h.get(B.id);return at!==void 0?at:typeof B.width=="number"?B.width:((bt=(Ht=B.options)==null?void 0:Ht.vizViolin)==null?void 0:bt.width)??s.forestWidth}const lt=h.get(B.id);return lt!==void 0?lt:typeof B.width=="number"?B.width:Cr.DEFAULT_COLUMN_WIDTH},u=[];let g=i+s.labelWidth;for(const B of a)u.push(g),g+=d(B);const v=[];v.push(`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg"
  width="${s.totalWidth}" height="${s.totalHeight}"
  viewBox="0 0 ${s.totalWidth} ${s.totalHeight}">
<style>
  text { font-variant-numeric: tabular-nums; }
</style>`);const y=e.backgroundColor??r.colors.background;v.push(`<rect width="100%" height="100%" fill="${y}"/>`),v.push(Yg(t,s,r)),(!!((N=t.labels)!=null&&N.title)||!!((W=t.labels)!=null&&W.subtitle))&&v.push(`<line x1="${i}" x2="${s.totalWidth-i}"
      y1="${s.mainY}" y2="${s.mainY}"
      stroke="${r.colors.border}" stroke-width="2"/>`);const _=s.mainY;v.push(cv(o,a,i,_,s.headerHeight,r,t.data.labelHeader??"Study",s.labelWidth,h,d)),v.push(`<line x1="${i}" x2="${s.totalWidth-i}"
    y1="${_+s.headerHeight}" y2="${_+s.headerHeight}"
    stroke="${r.colors.border}" stroke-width="2"/>`);const S=jc(t),A=[],H=[];let M=0;for(const B of S){const X=B.type==="data"&&((T=B.row.style)==null?void 0:T.type)==="spacer"?s.rowHeight/2:s.rowHeight;A.push(M),H.push(X),M+=X}const k=s.mainY+s.headerHeight;r.layout.banding&&S.forEach((B,lt)=>{var X,ft,V,tt;if(B.type==="data"){const J=B.row,it=((X=J.style)==null?void 0:X.type)==="header"||((ft=J.style)==null?void 0:ft.type)==="summary"||((V=J.style)==null?void 0:V.type)==="spacer",Ht=(tt=J.style)==null?void 0:tt.bg;if(!it&&!Ht){const bt=k+A[lt],at=H[lt],ee=lt%2===1?r.colors.altBg:r.colors.rowBg;ee!==r.colors.background&&v.push(`<rect x="${i}" y="${bt}"
              width="${s.totalWidth-i*2}" height="${at}"
              fill="${ee}"/>`)}}});for(const B of l){const lt=a[B],X=u[B],ft=d(lt),V=(D=lt.options)==null?void 0:D.forest,tt=(V==null?void 0:V.scale)??"linear",J=(V==null?void 0:V.nullValue)??(tt==="log"?1:0),it=(V==null?void 0:V.axisLabel)??"Effect",Ht=tt==="log";let bt=(V==null?void 0:V.effects)??[];const at=(V==null?void 0:V.point)??null,St=(V==null?void 0:V.lower)??null,ee=(V==null?void 0:V.upper)??null;bt.length===0&&(at||St||ee)&&(bt=[{pointCol:at,lowerCol:St,upperCol:ee}]);const Te={scale:tt,nullValue:J,effects:bt,pointCol:(V==null?void 0:V.point)??null,lowerCol:(V==null?void 0:V.lower)??null,upperCol:(V==null?void 0:V.upper)??null},{scale:Zt,clipBounds:Ie,ticks:vt}=Ug(t,ft,Te,e),Et=X+Zt(J);v.push(Ws(Et,k,k+s.plotHeight,"dashed",r.colors.muted,r));const ne=(V==null?void 0:V.annotations)??[];for(const xt of ne)if(xt.type==="reference_line"){const ve=X+Zt(xt.x);v.push(Ws(ve,k,k+s.plotHeight,xt.style,xt.color??r.colors.accent,r,xt.label,xt.width??1,xt.opacity??.6))}const Ve=Array.isArray(t.annotations)?t.annotations:[];for(const xt of Ve)if(xt.type==="reference_line"){const ve=X+Zt(xt.x);v.push(Ws(ve,k,k+s.plotHeight,xt.style,xt.color??r.colors.accent,r,xt.label,xt.width??1,xt.opacity??.6))}if(S.forEach((xt,ve)=>{if(xt.type==="data"){const Dt=k+A[ve]+H[ve]/2;v.push(tv(xt.row,Dt,Bt=>X+Zt(Bt),r,J,bt,t.data.weightCol,X,ft,Ie,Ht))}}),t.data.overall&&s.showOverallSummary&&typeof t.data.overall.point=="number"&&!Number.isNaN(t.data.overall.point)&&typeof t.data.overall.lower=="number"&&!Number.isNaN(t.data.overall.lower)&&typeof t.data.overall.upper=="number"&&!Number.isNaN(t.data.overall.upper)){const xt=k+s.summaryYPosition;v.push(ev(t.data.overall.point,t.data.overall.lower,t.data.overall.upper,xt,Zt,X,ft,r))}v.push(lv(Zt,s,r,it,X,ft,J,vt))}const w=t.data.rows;for(const B of c){const lt=B.column,X=u[B.index],ft=d(lt);if(B.type==="viz_bar"){const V=(Y=lt.options)==null?void 0:Y.vizBar;if(!V)continue;const tt=ov(w,V,ft);S.forEach((J,it)=>{if(J.type==="data"){const Ht=k+A[it]+H[it]/2,bt=H[it];v.push(nv(J.row,Ht,bt,X,ft,V,tt,r))}}),V.showAxis!==!1&&(v.push(`<g transform="translate(0, ${k+s.plotHeight})">`),v.push(As(tt,s,r,V.axisLabel,X,ft,V.nullValue)),v.push("</g>"))}else if(B.type==="viz_boxplot"){const V=(st=lt.options)==null?void 0:st.vizBoxplot;if(!V)continue;const tt=av(w,V,ft);S.forEach((J,it)=>{if(J.type==="data"){const Ht=k+A[it]+H[it]/2,bt=H[it];v.push(rv(J.row,Ht,bt,X,ft,V,tt,r))}}),V.showAxis!==!1&&(v.push(`<g transform="translate(0, ${k+s.plotHeight})">`),v.push(As(tt,s,r,V.axisLabel,X,ft,V.nullValue)),v.push("</g>"))}else if(B.type==="viz_violin"){const V=(ct=lt.options)==null?void 0:ct.vizViolin;if(!V)continue;const tt=sv(w,V,ft);S.forEach((J,it)=>{if(J.type==="data"){const Ht=k+A[it]+H[it]/2,bt=H[it];v.push(iv(J.row,Ht,bt,X,ft,V,tt,r))}}),V.showAxis!==!1&&(v.push(`<g transform="translate(0, ${k+s.plotHeight})">`),v.push(As(tt,s,r,V.axisLabel,X,ft,V.nullValue)),v.push("</g>"))}}const E=s.mainY+s.headerHeight,L=Kg(w,a);return S.forEach((B,lt)=>{var V,tt,J;const X=E+A[lt],ft=H[lt];if(B.type==="group_header")v.push(Zg(B.label,B.depth,i,X,ft,s.totalWidth-i*2,r));else{const it=B.row,Ht=B.depth;((V=it.style)==null?void 0:V.type)==="spacer"||v.push(fv(it,a,i,X,ft,r,s.labelWidth,Ht,L,h,d,u))}if(B.type==="data"){const it=B.row,Ht=((tt=it.style)==null?void 0:tt.type)==="summary",bt=((J=it.style)==null?void 0:J.type)==="spacer";Ht&&v.push(`<line x1="${i}" x2="${s.totalWidth-i}"
          y1="${X}" y2="${X}"
          stroke="${r.colors.border}" stroke-width="2"/>`),bt||v.push(`<line x1="${i}" x2="${s.totalWidth-i}"
          y1="${X+ft}" y2="${X+ft}"
          stroke="${r.colors.border}" stroke-width="1"/>`)}else v.push(`<line x1="${i}" x2="${s.totalWidth-i}"
        y1="${X+ft}" y2="${X+ft}"
        stroke="${r.colors.border}" stroke-width="1"/>`)}),v.push($g(t,s,r)),v.push("</svg>"),v.join(`
`)}async function gv(t,e=2){return new Promise((r,i)=>{const o=new Image,a=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),l=URL.createObjectURL(a);o.onload=()=>{const c=document.createElement("canvas"),f=c.getContext("2d");if(!f){URL.revokeObjectURL(l),i(new Error("Failed to get canvas context"));return}c.width=o.width*e,c.height=o.height*e,f.scale(e,e),f.drawImage(o,0,0),c.toBlob(s=>{URL.revokeObjectURL(l),s?r(s):i(new Error("Failed to create PNG blob"))},"image/png",1)},o.onerror=()=>{URL.revokeObjectURL(l),i(new Error("Failed to load SVG image"))},o.src=l})}function vv(t,e){return Uc(t,e)}async function pv(t,e,r=2){const i=Uc(t,e);return gv(i,r)}function Yc(t,e){const r=URL.createObjectURL(t),i=document.createElement("a");i.href=r,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}function $c(t){return`forest_plot_${new Date().toISOString().slice(0,19).replace(/[:-]/g,"")}.${t}`}jr[P]="src/components/ui/DownloadButton.svelte";var mv=O(It('<svg width="16" height="16" viewBox="0 0 24 24" class="spin svelte-15gslqv"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="31.4" stroke-dashoffset="10"></circle></svg>'),jr[P],[[76,6,[[77,8]]]]),yv=O(It('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>'),jr[P],[[80,6,[[81,8],[82,8],[83,8]]]]),_v=O(ht('<div class="download-dropdown svelte-15gslqv"><button class="dropdown-item svelte-15gslqv"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-15gslqv"><rect x="3" y="3" width="18" height="18" rx="2"></rect><text x="12" y="15" text-anchor="middle" font-size="8" fill="currentColor" stroke="none">SVG</text></svg> <span>Download SVG</span></button> <button class="dropdown-item svelte-15gslqv"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-15gslqv"><rect x="3" y="3" width="18" height="18" rx="2"></rect><circle cx="8.5" cy="8.5" r="1.5" fill="currentColor"></circle><path d="M21 15l-5-5L5 21"></path></svg> <span>Download PNG</span></button></div>'),jr[P],[[89,4,[[90,6,[[91,8,[[92,10],[93,10]]],[95,8]]],[97,6,[[98,8,[[99,10],[100,10],[101,10]]],[103,8]]]]]]),xv=O(ht('<div class="download-button-wrapper svelte-15gslqv"><button class="download-btn svelte-15gslqv" aria-label="Download plot"><!></button> <!></div>'),jr[P],[[66,0,[[67,2]]]]);function jr(t,e){Ee(new.target),_e(e,!0,jr);let r=p(Mt(!1),"dropdownOpen"),i=p(Mt(!1),"isExporting"),o=p(Mt(null),"triggerEl");function a(){ot(r,!1)}async function l(){if(e.store.spec)try{ot(i,!0);const _=e.store.getExportDimensions(),S=vv(e.store.spec,_),A=new Blob([S],{type:"image/svg+xml;charset=utf-8"});Yc(A,$c("svg"))}catch(_){console.error(...jl("error","Failed to export SVG:",_))}finally{ot(i,!1),a()}}async function c(){if(e.store.spec)try{ot(i,!0);const _=e.store.getExportDimensions(),S=(await su(pv(e.store.spec,_,2)))();Yc(S,$c("png"))}catch(_){console.error(...jl("error","Failed to export PNG:",_))}finally{ot(i,!1),a()}}function f(_){_.target.closest(".download-button-wrapper")||a()}var s={...ke()},h=xv();Bn("click",qi,f);var d=$(h);d.__click=()=>ot(r,!n(r));var u=$(d);{var g=_=>{var S=mv();z(_,S)},v=_=>{var S=yv();z(_,S)};I(()=>q(u,_=>{n(i)?_(g):_(v,!1)}),"if",jr,75,4)}ni(d,_=>ot(o,_),()=>n(o));var y=et(d,2);{var x=_=>{var S=_v(),A=$(S);A.__click=l;var H=et(A,2);H.__click=c,sa(S,(M,k)=>Or==null?void 0:Or(M,k),()=>({triggerEl:n(o)})),Q(()=>{A.disabled=n(i),H.disabled=n(i)}),z(_,S)};I(()=>q(y,_=>{n(r)&&_(x)}),"if",jr,88,2)}return Q(()=>{R(d,"aria-expanded",n(r)),d.disabled=n(i)}),z(t,h),xe(s)}ti(["click"]),Ma[P]="src/components/ui/ResetButton.svelte";var wv=O(ht('<button class="reset-btn svelte-uej7wa" title="Reset view" aria-label="Reset view to default settings"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button>'),Ma[P],[[15,0,[[21,2,[[22,4],[23,4]]]]]]);function Ma(t,e){Ee(new.target),_e(e,!0,Ma);function r(){e.store.resetState()}var i={...ke()},o=wv();return o.__click=r,z(t,o),xe(i)}ti(["click"]),In[P]="src/components/ui/ZoomControls.svelte";var bv=O(ht('<div class="clamped-note svelte-19w48ay"> </div>'),In[P],[[140,8]]),Mv=O(ht('<button class="action-btn svelte-19w48ay" title="Reset to 100% (Cmd 0)"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-19w48ay"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg> Reset to 100%</button>'),In[P],[[147,8,[[152,10,[[153,12],[154,12]]]]]]),Sv=O(ht("<option> </option>"),In[P],[[198,14]]),Ev=O(ht("<option> </option>"),In[P],[[212,14]]),kv=O(ht('<div class="zoom-dropdown svelte-19w48ay"><div class="zoom-row svelte-19w48ay"><button class="zoom-btn svelte-19w48ay" title="Zoom out (Cmd -)" aria-label="Zoom out"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="5" y1="12" x2="19" y2="12"></line></svg></button> <input type="range" class="zoom-slider svelte-19w48ay" min="50" max="200" step="5" title="Zoom level" aria-label="Zoom level"/> <button class="zoom-btn svelte-19w48ay" title="Zoom in (Cmd +)" aria-label="Zoom in"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg></button> <span class="zoom-value svelte-19w48ay"> </span></div> <!> <!> <div class="divider svelte-19w48ay"></div> <button class="action-btn svelte-19w48ay" title="Fit to container width (Cmd 1)"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-19w48ay"><path d="M21 12H3M21 12l-4-4m4 4l-4 4M3 12l4-4m-4 4l4 4"></path></svg> Fit to width</button> <label class="checkbox-row svelte-19w48ay"><input type="checkbox" class="svelte-19w48ay"/> <span>Auto-fit</span> <span class="checkbox-hint svelte-19w48ay">Shrink if too large</span></label> <div class="divider svelte-19w48ay"></div> <div class="section-label svelte-19w48ay">Max Size</div> <div class="select-row svelte-19w48ay"><label class="svelte-19w48ay"><span class="select-label svelte-19w48ay">Width</span> <select class="svelte-19w48ay"></select></label></div> <div class="select-row svelte-19w48ay"><label class="svelte-19w48ay"><span class="select-label svelte-19w48ay">Height</span> <select class="svelte-19w48ay"></select></label></div></div>'),In[P],[[97,4,[[99,6,[[100,8,[[106,10,[[107,12]]]]],[111,8],[123,8,[[129,10,[[130,12],[131,12]]]]],[135,8]]],[160,6],[163,6,[[168,8,[[169,10]]]]],[175,6,[[176,8],[181,8],[182,8]]],[185,6],[188,6],[190,6,[[191,8,[[192,10],[193,10]]]]],[204,6,[[205,8,[[206,10],[207,10]]]]]]]]),Cv=O(ht('<div class="zoom-controls-wrapper svelte-19w48ay"><button class="zoom-trigger-btn svelte-19w48ay" aria-label="Zoom and display options"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path><path d="M11 8v6"></path><path d="M8 11h6"></path></svg> <span class="zoom-text svelte-19w48ay"> </span></button> <!></div>'),In[P],[[76,0,[[78,2,[[87,4,[[88,6],[89,6],[90,6],[91,6]]],[93,4]]]]]]);function In(t,e){Ee(new.target),_e(e,!0,In);let r=p(Mt(!1),"dropdownOpen"),i=p(Mt(null),"triggerEl");const o=p(m(()=>e.store.zoom),"zoom"),a=p(m(()=>e.store.autoFit),"autoFit"),l=p(m(()=>e.store.actualScale),"actualScale"),c=p(m(()=>e.store.isClamped),"isClamped"),f=p(m(()=>e.store.maxWidth),"maxWidth"),s=p(m(()=>e.store.maxHeight),"maxHeight"),h=p(m(()=>Math.round(n(l)*100)),"displayPercent"),d=p(m(()=>Math.round(n(o)*100)),"zoomPercent"),u=[{value:null,label:"None"},{value:600,label:"600px"},{value:800,label:"800px"},{value:1e3,label:"1000px"},{value:1200,label:"1200px"}],g=[{value:null,label:"None"},{value:400,label:"400px"},{value:600,label:"600px"},{value:800,label:"800px"}];function v(){ot(r,!1)}function y(N){const W=N.target;e.store.setZoom(parseFloat(W.value)/100)}function x(N){const W=N.target,T=b(W.value,"null")?null:parseInt(W.value);e.store.setMaxWidth(T)}function _(N){const W=N.target,T=b(W.value,"null")?null:parseInt(W.value);e.store.setMaxHeight(T)}function S(N){N.target.closest(".zoom-controls-wrapper")||v()}var A={...ke()},H=Cv();Bn("click",qi,S);var M=$(H);M.__click=()=>ot(r,!n(r));var k=et($(M),2),w=$(k);ni(M,N=>ot(i,N),()=>n(i));var E=et(M,2);{var L=N=>{var W=kv(),T=$(W),D=$(T);D.__click=()=>e.store.zoomOut();var Y=et(D,2);Y.__change=y;var st=et(Y,2);st.__click=()=>e.store.zoomIn();var ct=et(st,2),B=$(ct),lt=et(T,2);{var X=vt=>{var Et=bv(),ne=$(Et);Q(()=>qt(ne,`Showing ${n(h)??""}% (auto-fit)`)),z(vt,Et)};I(()=>q(lt,vt=>{n(c)&&vt(X)}),"if",In,139,6)}var ft=et(lt,2);{var V=vt=>{var Et=Mv();Et.__click=()=>e.store.resetZoom(),z(vt,Et)};I(()=>q(ft,vt=>{b(n(o),1,!1)&&vt(V)}),"if",In,146,6)}var tt=et(ft,4);tt.__click=()=>e.store.fitToWidth();var J=et(tt,2),it=$(J);it.__change=vt=>e.store.setAutoFit(vt.target.checked);var Ht=et(J,6),bt=$(Ht),at=et($(bt),2);at.__change=x,I(()=>Ae(at,21,()=>u,Zn,(vt,Et)=>{var ne=Sv(),Ve=$(ne,!0);var xt={};Q(()=>{qt(Ve,n(Et).label),xt!==(xt=b(n(Et).value,null)?"null":n(Et).value)&&(ne.value=(ne.__value=b(n(Et).value,null)?"null":n(Et).value)??"")}),z(vt,ne)}),"each",In,197,12);var St;Dl(at);var ee=et(Ht,2),Te=$(ee),Zt=et($(Te),2);Zt.__change=_,I(()=>Ae(Zt,21,()=>g,Zn,(vt,Et)=>{var ne=Ev(),Ve=$(ne,!0);var xt={};Q(()=>{qt(Ve,n(Et).label),xt!==(xt=b(n(Et).value,null)?"null":n(Et).value)&&(ne.value=(ne.__value=b(n(Et).value,null)?"null":n(Et).value)??"")}),z(vt,ne)}),"each",In,211,12);var Ie;Dl(Zt),sa(W,(vt,Et)=>Or==null?void 0:Or(vt,Et),()=>({triggerEl:n(i)})),Q(()=>{Gl(Y,n(d)),qt(B,`${n(d)??""}%`),Ku(it,n(a)),St!==(St=b(n(f),null)?"null":n(f))&&(at.value=(at.__value=b(n(f),null)?"null":n(f))??"",os(at,b(n(f),null)?"null":n(f))),Ie!==(Ie=b(n(s),null)?"null":n(s))&&(Zt.value=(Zt.__value=b(n(s),null)?"null":n(s))??"",os(Zt,b(n(s),null)?"null":n(s)))}),z(N,W)};I(()=>q(E,N=>{n(r)&&N(L)}),"if",In,96,2)}return Q(()=>{R(M,"aria-expanded",n(r)),R(M,"title",`Zoom: ${n(h)??""}%`),qt(w,`${n(h)??""}%`)}),z(t,H),xe(A)}ti(["click","change"]),zn[P]="src/components/ui/ControlToolbar.svelte";var Tv=O(ht('<div class="control-toolbar svelte-rjvd17"><!> <!> <!> <!> <!></div>'),zn[P],[[37,0]]);function zn(t,e){Ee(new.target),_e(e,!0,zn);let r=Gn(e,"enableExport",3,!0),i=Gn(e,"enableThemes",3,void 0),o=Gn(e,"enableViewToggle",3,!0),a=Gn(e,"enableZoomControls",3,!0),l=Gn(e,"enableReset",3,!0);const c=p(m(()=>a()&&e.store.showZoomControls),"showZoomControls"),f=p(m(()=>b(i(),null,!1)),"showThemeSwitcher");var s={...ke()},h=Tv(),d=$(h);{var u=M=>{I(()=>In(M,{get store(){return e.store}}),"component",zn,39,4,{componentTag:"ZoomControls"})};I(()=>q(d,M=>{n(c)&&M(u)}),"if",zn,38,2)}var g=et(d,2);{var v=M=>{I(()=>vr(M,{get store(){return e.store},get availableThemes(){return i()},get onThemeChange(){return e.onThemeChange}}),"component",zn,42,4,{componentTag:"ThemeSwitcher"})};I(()=>q(g,M=>{n(f)&&M(v)}),"if",zn,41,2)}var y=et(g,2);{var x=M=>{I(()=>Ci(M,{get store(){return e.store}}),"component",zn,45,4,{componentTag:"ViewToggle"})};I(()=>q(y,M=>{o()&&M(x)}),"if",zn,44,2)}var _=et(y,2);{var S=M=>{I(()=>Ma(M,{get store(){return e.store}}),"component",zn,48,4,{componentTag:"ResetButton"})};I(()=>q(_,M=>{l()&&M(S)}),"if",zn,47,2)}var A=et(_,2);{var H=M=>{I(()=>jr(M,{get store(){return e.store}}),"component",zn,51,4,{componentTag:"DownloadButton"})};I(()=>q(A,M=>{r()&&M(H)}),"if",zn,50,2)}return z(t,h),xe(s)}oi[P]="src/components/viz/VizBar.svelte";var Nv=O(It('<rect rx="2" class="bar-segment svelte-1pgs700"></rect>'),oi[P],[[107,8]]),Hv=O(It('<g class="viz-bar-row svelte-1pgs700"></g>'),oi[P],[[96,2]]);function oi(t,e){Ee(new.target),_e(e,!0,oi);const r=p(m(()=>{var x,_,S,A;if(e.sharedScale)return e.sharedScale;const u=b(e.options.scale,"log"),g=((_=(x=e.theme)==null?void 0:x.spacing)==null?void 0:_.padding)??12;let v=((S=e.options.axisRange)==null?void 0:S[0])??0,y=((A=e.options.axisRange)==null?void 0:A[1])??100;if(!e.options.axisRange){const H=[];for(const M of e.options.effects){const k=e.row.metadata[M.value];ge(k,null,!1)&&!Number.isNaN(k)&&H.push(k)}H.length>0&&(v=Math.min(0,...H),y=Math.max(...H)*1.1)}return u?Gr().domain([Math.max(.01,v),y]).range([g,e.width-g]):nr().domain([v,y]).range([g,e.width-g])}),"xScale"),i=p(m(()=>{const u=e.options.effects.length,g=e.rowHeight*.7,v=u>1?2:0,y=(g-v*(u-1))/u;return{barHeight:Math.max(4,y),barGap:v,totalHeight:g}}),"barConfig"),o=p(m(()=>{var u,g;return((g=(u=e.theme)==null?void 0:u.shapes)==null?void 0:g.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function a(u,g){return u.color??n(o)[g%n(o).length]}function l(u){return u.opacity??.85}const c=p(m(()=>e.options.effects.some(u=>{const g=e.row.metadata[u.value];return ge(g,null,!1)&&!Number.isNaN(g)})),"hasValidData");var f={...ke()},s=Tt(),h=mt(s);{var d=u=>{var g=Hv();I(()=>Ae(g,21,()=>e.options.effects,Zn,(v,y,x)=>{const _=p(m(()=>e.row.metadata[n(y).value]),"value");n(_);var S=Tt(),A=mt(S);{var H=M=>{const k=p(m(()=>e.yPosition-n(i).totalHeight/2+x*(n(i).barHeight+n(i).barGap)),"barY");n(k);const w=p(m(()=>n(r)(Math.min(0,n(_)))),"barX");n(w);const E=p(m(()=>Math.abs(n(r)(n(_))-n(r)(0))),"barWidth");n(E);const L=p(m(()=>a(n(y),x)),"color");n(L);const N=p(m(()=>l(n(y))),"opacity");n(N);var W=Nv();Q(T=>{R(W,"x",n(w)),R(W,"y",n(k)),R(W,"width",T),R(W,"height",n(i).barHeight),R(W,"fill",n(L)),R(W,"fill-opacity",n(N))},[()=>Math.max(1,n(E))]),z(M,W)};I(()=>q(A,M=>{ge(n(_),null,!1)&&!Number.isNaN(n(_))&&M(H)}),"if",oi,100,6)}z(v,S)}),"each",oi,98,4),z(u,g)};I(()=>q(h,u=>{n(c)&&u(d)}),"if",oi,95,0)}return z(t,s),xe(f)}pr[P]="src/components/viz/VizBoxplot.svelte";var Av=O(It('<circle r="2.5" fill="none" stroke-width="1.5" class="outlier svelte-5apth9"></circle>'),pr[P],[[210,12]]),Wv=O(It('<line stroke-width="1"></line><line stroke-width="1"></line><line stroke-width="1"></line><line stroke-width="1"></line><rect stroke-width="1" class="box-rect svelte-5apth9"></rect><line stroke-width="2"></line><!>',1),pr[P],[[147,10],[156,10],[166,10],[175,10],[185,8],[198,8]]),Rv=O(It('<g class="viz-boxplot-row svelte-5apth9"></g>'),pr[P],[[135,2]]);function pr(t,e){Ee(new.target),_e(e,!0,pr);const r=p(m(()=>e.options.effects.map(g=>{if(g.data){const v=e.row.metadata[g.data];return!v||!Array.isArray(v)||b(v.length,0)?null:xa(v)}if(g.min&&g.q1&&g.median&&g.q3&&g.max){const v=e.row.metadata[g.min],y=e.row.metadata[g.q1],x=e.row.metadata[g.median],_=e.row.metadata[g.q3],S=e.row.metadata[g.max];if([v,y,x,_,S].some(H=>ge(H,null)||Number.isNaN(H)))return null;let A=[];if(g.outliers){const H=e.row.metadata[g.outliers];H&&Array.isArray(H)&&(A=H)}return{min:v,q1:y,median:x,q3:_,max:S,outliers:A}}return null})),"effectStats"),i=p(m(()=>n(r).some(g=>b(g,null,!1))),"hasValidData"),o=p(m(()=>{var _,S,A,H;if(e.sharedScale)return e.sharedScale;const g=b(e.options.scale,"log"),v=((S=(_=e.theme)==null?void 0:_.spacing)==null?void 0:S.padding)??12;let y=(A=e.options.axisRange)==null?void 0:A[0],x=(H=e.options.axisRange)==null?void 0:H[1];if(ge(y,null)||ge(x,null)){const M=[];for(const k of n(r))k&&(M.push(k.min,k.max),b(e.options.showOutliers,!1,!1)&&M.push(...k.outliers));if(M.length>0){const k=Math.min(...M),w=Math.max(...M),E=w-k;y=y??k-E*.05,x=x??w+E*.05}else y=y??0,x=x??100}return g?Gr().domain([Math.max(.01,y),x]).range([v,e.width-v]):nr().domain([y,x]).range([v,e.width-v])}),"xScale"),a=p(m(()=>{const g=e.options.effects.length,v=e.rowHeight*.7,y=(v-(g-1)*2)/g;return{boxHeight:Math.max(8,y),boxGap:g>1?2:0,totalHeight:v}}),"boxConfig"),l=p(m(()=>{var g,v;return((v=(g=e.theme)==null?void 0:g.shapes)==null?void 0:v.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function c(g,v){return g.color??n(l)[v%n(l).length]}function f(g){return g.fillOpacity??.7}var s={...ke()},h=Tt(),d=mt(h);{var u=g=>{var v=Rv();I(()=>Ae(v,21,()=>e.options.effects,Zn,(y,x,_)=>{const S=p(m(()=>n(r)[_]),"stats");n(S);var A=Tt(),H=mt(A);{var M=k=>{const w=p(m(()=>e.yPosition-n(a).totalHeight/2+_*(n(a).boxHeight+n(a).boxGap)),"boxY");n(w);const E=p(m(()=>n(w)+n(a).boxHeight/2),"boxCenterY");n(E);const L=p(m(()=>c(n(x),_)),"color");n(L);const N=p(m(()=>f(n(x))),"opacity");n(N);const W=p(m(()=>{var V;return((V=e.theme)==null?void 0:V.colors.foreground)??"#1a1a1a"}),"lineColor");n(W);var T=Wv(),D=mt(T),Y=et(D),st=et(Y),ct=et(st),B=et(ct),lt=et(B),X=et(lt);{var ft=V=>{var tt=Tt(),J=mt(tt);I(()=>Ae(J,17,()=>n(S).outliers,Zn,(it,Ht)=>{var bt=Av();Q(at=>{R(bt,"cx",at),R(bt,"cy",n(E)),R(bt,"stroke",n(L))},[()=>n(o)(n(Ht))]),z(it,bt)}),"each",pr,209,10),z(V,tt)};I(()=>q(X,V=>{b(e.options.showOutliers,!1,!1)&&n(S).outliers.length>0&&V(ft)}),"if",pr,208,8)}Q((V,tt,J,it,Ht,bt,at,St,ee,Te,Zt,Ie)=>{R(D,"x1",V),R(D,"x2",tt),R(D,"y1",n(E)),R(D,"y2",n(E)),R(D,"stroke",n(W)),R(Y,"x1",J),R(Y,"x2",it),R(Y,"y1",n(E)-n(a).boxHeight/4),R(Y,"y2",n(E)+n(a).boxHeight/4),R(Y,"stroke",n(W)),R(st,"x1",Ht),R(st,"x2",bt),R(st,"y1",n(E)),R(st,"y2",n(E)),R(st,"stroke",n(W)),R(ct,"x1",at),R(ct,"x2",St),R(ct,"y1",n(E)-n(a).boxHeight/4),R(ct,"y2",n(E)+n(a).boxHeight/4),R(ct,"stroke",n(W)),R(B,"x",ee),R(B,"y",n(w)),R(B,"width",Te),R(B,"height",n(a).boxHeight),R(B,"fill",n(L)),R(B,"fill-opacity",n(N)),R(B,"stroke",n(W)),R(lt,"x1",Zt),R(lt,"x2",Ie),R(lt,"y1",n(w)),R(lt,"y2",n(w)+n(a).boxHeight),R(lt,"stroke",n(W))},[()=>n(o)(n(S).min),()=>n(o)(n(S).q1),()=>n(o)(n(S).min),()=>n(o)(n(S).min),()=>n(o)(n(S).q3),()=>n(o)(n(S).max),()=>n(o)(n(S).max),()=>n(o)(n(S).max),()=>n(o)(n(S).q1),()=>Math.max(2,n(o)(n(S).q3)-n(o)(n(S).q1)),()=>n(o)(n(S).median),()=>n(o)(n(S).median)]),z(k,T)};I(()=>q(H,k=>{n(S)&&k(M)}),"if",pr,138,6)}z(y,A)}),"each",pr,136,4),z(g,v)};I(()=>q(d,g=>{n(i)&&g(u)}),"if",pr,134,0)}return z(t,h),xe(s)}rr[P]="src/components/viz/VizViolin.svelte";var Iv=O(It('<line stroke-width="2"></line>'),rr[P],[[165,10]]),zv=O(It('<line stroke-width="1" stroke-dasharray="2,2"></line><line stroke-width="1" stroke-dasharray="2,2"></line>',1),rr[P],[[179,10],[188,10]]),Fv=O(It('<path stroke-width="0.5" class="violin-path svelte-1ywbnva"></path><!><!>',1),rr[P],[[153,8]]),Lv=O(It('<g class="viz-violin-row svelte-1ywbnva"></g>'),rr[P],[[140,2]]);function rr(t,e){Ee(new.target),_e(e,!0,rr);const r=p(m(()=>e.options.effects.map(y=>{const x=e.row.metadata[y.data];return!x||!Array.isArray(x)||x.length<2?null:Bc(x,e.options.bandwidth)})),"effectKDEs"),i=p(m(()=>e.options.effects.map(y=>{const x=e.row.metadata[y.data];return!x||!Array.isArray(x)||x.length<2?null:Dc(x)})),"effectQuartiles"),o=p(m(()=>n(r).some(y=>b(y,null,!1))),"hasValidData"),a=p(m(()=>{var A,H,M,k;if(e.sharedScale)return e.sharedScale;const y=b(e.options.scale,"log"),x=((H=(A=e.theme)==null?void 0:A.spacing)==null?void 0:H.padding)??12;let _=(M=e.options.axisRange)==null?void 0:M[0],S=(k=e.options.axisRange)==null?void 0:k[1];if(ge(_,null)||ge(S,null)){const w=[];for(const E of n(r))E&&E.x.length>0&&w.push(...E.x);w.length>0?(_=_??Math.min(...w),S=S??Math.max(...w)):(_=_??0,S=S??100)}return y?Gr().domain([Math.max(.01,_),S]).range([x,e.width-x]):nr().domain([_,S]).range([x,e.width-x])}),"xScale"),l=p(m(()=>{const y=e.options.effects.length,x=e.rowHeight*.8,_=(x-(y-1)*2)/y;return{maxWidth:_/2,violinHeight:Math.max(10,_),gap:y>1?2:0,totalHeight:x}}),"violinConfig"),c=p(m(()=>{var y,x;return((x=(y=e.theme)==null?void 0:y.shapes)==null?void 0:x.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function f(y,x){return y.color??n(c)[x%n(c).length]}function s(y){return y.fillOpacity??.5}function h(y,x,_){if(y.x.length<2)return"";const S=Gc(y,_),A=[];for(let H=0;H<S.x.length;H++){const M=n(a)(S.x[H]),k=x-S.y[H];A.push(b(H,0)?`M ${M} ${k}`:`L ${M} ${k}`)}for(let H=S.x.length-1;H>=0;H--){const M=n(a)(S.x[H]),k=x+S.y[H];A.push(`L ${M} ${k}`)}return A.push("Z"),A.join(" ")}var d={...ke()},u=Tt(),g=mt(u);{var v=y=>{var x=Lv();I(()=>Ae(x,21,()=>e.options.effects,Zn,(_,S,A)=>{const H=p(m(()=>n(r)[A]),"kde");n(H);const M=p(m(()=>n(i)[A]),"quartiles");n(M);var k=Tt(),w=mt(k);{var E=L=>{const N=p(m(()=>e.yPosition-n(l).totalHeight/2+n(l).violinHeight/2+A*(n(l).violinHeight+n(l).gap)),"violinCenterY");n(N);const W=p(m(()=>f(n(S),A)),"color");n(W);const T=p(m(()=>s(n(S))),"opacity");n(T);const D=p(m(()=>h(n(H),n(N),n(l).maxWidth)),"path");n(D);const Y=p(m(()=>{var V;return((V=e.theme)==null?void 0:V.colors.foreground)??"#1a1a1a"}),"lineColor");n(Y);var st=Fv(),ct=mt(st),B=et(ct);{var lt=V=>{const tt=p(m(()=>n(a)(n(M).median)),"medianX");n(tt);var J=Iv();Q(()=>{R(J,"x1",n(tt)),R(J,"x2",n(tt)),R(J,"y1",n(N)-n(l).maxWidth*.6),R(J,"y2",n(N)+n(l).maxWidth*.6),R(J,"stroke",n(Y))}),z(V,J)};I(()=>q(B,V=>{b(e.options.showMedian,!1,!1)&&n(M)&&V(lt)}),"if",rr,163,8)}var X=et(B);{var ft=V=>{const tt=p(m(()=>n(a)(n(M).q1)),"q1X");n(tt);const J=p(m(()=>n(a)(n(M).q3)),"q3X");n(J);var it=zv(),Ht=mt(it),bt=et(Ht);Q(()=>{R(Ht,"x1",n(tt)),R(Ht,"x2",n(tt)),R(Ht,"y1",n(N)-n(l).maxWidth*.4),R(Ht,"y2",n(N)+n(l).maxWidth*.4),R(Ht,"stroke",n(Y)),R(bt,"x1",n(J)),R(bt,"x2",n(J)),R(bt,"y1",n(N)-n(l).maxWidth*.4),R(bt,"y2",n(N)+n(l).maxWidth*.4),R(bt,"stroke",n(Y))}),z(V,it)};I(()=>q(X,V=>{e.options.showQuartiles&&n(M)&&V(ft)}),"if",rr,176,8)}Q(()=>{R(ct,"d",n(D)),R(ct,"fill",n(W)),R(ct,"fill-opacity",n(T)),R(ct,"stroke",n(Y))}),z(L,st)};I(()=>q(w,L=>{n(H)&&n(H).x.length>=2&&L(E)}),"if",rr,144,6)}z(_,k)}),"each",rr,141,4),z(y,x)};I(()=>q(g,y=>{n(o)&&y(v)}),"if",rr,139,0)}return z(t,u),xe(d)}G[P]="src/lib/ForestPlot.svelte";function Pv(t,e){var i,o;if((o=(i=e.options)==null?void 0:i.bar)!=null&&o.maxValue)return e.options.bar.maxValue;let r=0;for(const a of t){const l=a.metadata[e.field];b(typeof l,"number")&&l>r&&(r=l)}return r||100}function Dv(t,e,r){const i=[],o=b(t==null?void 0:t.type,"header")||b(t==null?void 0:t.type,"summary")||b(t==null?void 0:t.type,"spacer");return b(t==null?void 0:t.type,"header")&&i.push("row-header"),b(t==null?void 0:t.type,"summary")&&i.push("row-summary"),t!=null&&t.bold&&i.push("row-bold"),t!=null&&t.italic&&i.push("row-italic"),t!=null&&t.emphasis&&i.push("row-emphasis"),t!=null&&t.muted&&i.push("row-muted"),t!=null&&t.accent&&i.push("row-accent"),!o&&r&&b(e,void 0,!1)&&b(e%2,1)&&i.push("row-odd"),i.join(" ")}function Bv(t,e){const r=[];return t!=null&&t.color&&r.push(`color: ${t.color}`),t!=null&&t.bg&&r.push(`background-color: ${t.bg}`),t!=null&&t.indent&&r.push(`--row-indent: ${t.indent}`),!(t!=null&&t.indent)&&e&&e>0&&r.push(`--row-indent: ${e}`),r.join("; ")}function Gv(t,e){var r;if((r=t.cellStyles)!=null&&r[e.field])return t.cellStyles[e.field];if(e.styleMapping){const i={},o=t.metadata;if(e.styleMapping.bold&&o[e.styleMapping.bold]&&(i.bold=!!o[e.styleMapping.bold]),e.styleMapping.italic&&o[e.styleMapping.italic]&&(i.italic=!!o[e.styleMapping.italic]),e.styleMapping.color&&o[e.styleMapping.color]&&(i.color=String(o[e.styleMapping.color])),e.styleMapping.bg&&o[e.styleMapping.bg]&&(i.bg=String(o[e.styleMapping.bg])),e.styleMapping.badge&&o[e.styleMapping.badge]&&(i.badge=String(o[e.styleMapping.badge])),e.styleMapping.icon&&o[e.styleMapping.icon]&&(i.icon=String(o[e.styleMapping.icon])),Object.keys(i).length>0)return i}}var Vv=O(ht('<div class="resize-handle svelte-14l8yxx"></div>'),G[P],[[941,12]]),Ov=O(ht('<div class="grid-cell header-cell column-group-header svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span></div>'),G[P],[[952,12,[[957,14]]]]),jv=O(ht('<span class="header-text svelte-14l8yxx"> </span>'),G[P],[[978,16]]),qv=O(ht('<div class="resize-handle svelte-14l8yxx"></div>'),G[P],[[982,16]]),Xv=O(ht('<div class="grid-cell header-cell plot-header svelte-14l8yxx"><!> <!></div>'),G[P],[[971,12]]),Uv=O(ht('<div class="resize-handle svelte-14l8yxx"></div>'),G[P],[[1e3,16]]),Yv=O(ht('<div class="grid-cell header-cell svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span> <!></div>'),G[P],[[991,12,[[997,14]]]]),$v=O(ht('<span class="row-icon svelte-14l8yxx"> </span>'),G[P],[[1047,35]]),Zv=O(ht('<span class="row-badge svelte-14l8yxx"> </span>'),G[P],[[1049,36]]),Kv=O(ht("<!> <!>",1),G[P],[]),Qv=O(ht("<div></div>"),G[P],[[1057,14]]),Jv=O(ht("<div><!></div>"),G[P],[[1072,14]]),tp=O(ht("<div><!></div> <!>",1),G[P],[[1022,10]]),ep=O(ht('<div class="grid-cell axis-cell svelte-14l8yxx"></div>'),G[P],[[1100,14]]),np=O(ht('<div class="grid-cell axis-spacer svelte-14l8yxx"></div>'),G[P],[[1102,14]]),rp=O(ht('<!> <div class="grid-cell axis-spacer svelte-14l8yxx"></div>',1),G[P],[[1106,10]]),ip=O(It('<text text-anchor="middle" font-size="var(--wf-font-size-sm)" font-weight="500" class="svelte-14l8yxx"> </text>'),G[P],[[1157,18]]),op=O(It('<line class="svelte-14l8yxx"></line><!>',1),G[P],[[1145,16]]),ap=O(It('<g class="svelte-14l8yxx"><!></g>'),G[P],[[1218,14]]),sp=O(It('<svg class="plot-overlay svelte-14l8yxx"><line stroke="var(--wf-muted)" stroke-width="1" stroke-dasharray="4,4" class="svelte-14l8yxx"></line><!><!><!><!></svg>'),G[P],[[1120,10,[[1129,12]]]]),lp=O(It('<g class="svelte-14l8yxx"><!></g>'),G[P],[[1261,16]]),cp=O(It('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),G[P],[[1234,12]]),fp=O(It('<g class="svelte-14l8yxx"><!></g>'),G[P],[[1314,16]]),up=O(It('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),G[P],[[1287,12]]),dp=O(It('<g class="svelte-14l8yxx"><!></g>'),G[P],[[1367,16]]),hp=O(It('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),G[P],[[1340,12]]),gp=O(ht('<!> <div class="tabviz-scalable svelte-14l8yxx"><!>  <div><div class="grid-cell header-cell label-header svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span> <!></div> <!> <!> <!> <!> <!> <!> <!></div> <!></div> <!>',1),G[P],[[855,4,[[930,6,[[933,8,[[938,10]]]]]]]]),vp=O(ht('<div class="tabviz-empty svelte-14l8yxx">No data</div>'),G[P],[[1392,4]]),pp=O(ht("<div><!></div>"),G[P],[[840,0]]);function G(t,e){Ee(new.target),_e(e,!0,G);const r=p(m(()=>e.store.spec),"spec"),i=p(m(()=>e.store.visibleRows),"visibleRows"),o=p(m(()=>e.store.displayRows),"displayRows"),a=p(m(()=>e.store.layout),"layout"),l=p(m(()=>e.store.xScale),"xScale"),c=p(m(()=>e.store.axisComputation),"axisComputation"),f=p(m(()=>n(c).axisLimits),"clipBounds"),s=p(m(()=>{var C;return(C=n(r))==null?void 0:C.theme}),"theme"),h=p(m(()=>{var C,F;return((F=(C=n(s))==null?void 0:C.layout)==null?void 0:F.banding)??!1}),"bandingEnabled"),d=p(m(()=>e.store.allColumns),"allColumns"),u=p(m(()=>e.store.allColumnDefs),"allColumnDefs"),g=p(m(()=>e.store.forestColumns),"forestColumns");p(m(()=>n(g).length>0),"hasForestColumns");const v=p(m(()=>e.store.vizColumns),"vizColumns"),y=p(m(()=>n(v).length>0),"hasVizColumns"),x=p(m(()=>{var C;return((C=n(r))==null?void 0:C.data.labelHeader)||"Study"}),"labelHeader"),_=p(m(()=>{var C,F,U,K;return!!((F=(C=n(r))==null?void 0:C.labels)!=null&&F.title)||!!((K=(U=n(r))==null?void 0:U.labels)!=null&&K.subtitle)}),"hasPlotHeader");p(m(()=>n(u).some(C=>C.isGroup)),"hasColumnGroups");const S=p(m(()=>e.store.tooltipRow),"tooltipRow"),A=p(m(()=>e.store.tooltipPosition),"tooltipPosition"),H=p(m(()=>e.store.selectedRowIds),"selectedRowIds"),M=p(m(()=>e.store.hoveredRowId),"hoveredRowId"),k=p(m(()=>e.store.zoom),"zoom"),w=p(m(()=>e.store.autoFit),"autoFit"),E=p(m(()=>e.store.actualScale),"actualScale"),L=p(m(()=>e.store.maxWidth),"maxWidth"),N=p(m(()=>e.store.maxHeight),"maxHeight");p(m(()=>e.store.showZoomControls),"showZoomControls");const W=p(m(()=>({...e.store.columnWidths})),"columnWidthsSnapshot");let T=p(Mt(void 0),"containerRef"),D=p(Mt(void 0),"scalableRef"),Y=p(Mt(0),"containerContentWidth"),st=p(Mt(0),"scalableNaturalWidth"),ct=p(Mt(0),"scalableNaturalHeight");p(m(()=>e.store.naturalContentWidth),"naturalContentWidth");const B=p(m(()=>n(st)*n(E)),"scaledWidth"),lt=p(m(()=>n(ct)*n(E)),"scaledHeight"),X=p(m(()=>{if(!n(w)||n(Y)<=0||n(B)<=0)return 0;const C=(n(Y)-n(B))/2;return Math.max(0,C)}),"centeringMargin");So(()=>{if(!n(T)||!n(D))return;n(T).id&&e.store.setContainerElementId(n(T).id);const C=new ResizeObserver(F=>{for(const U of F)b(U.target,n(T))?(ot(Y,U.contentRect.width,!0),e.store.setContainerDimensions(U.contentRect.width,U.contentRect.height)):b(U.target,n(D))&&(ot(st,U.contentRect.width,!0),ot(ct,U.contentRect.height,!0),e.store.setScalableNaturalDimensions(U.contentRect.width,U.contentRect.height))});return C.observe(n(T)),C.observe(n(D)),()=>{C.disconnect()}});const ft=p(m(()=>{var C,F;return b((F=(C=n(r))==null?void 0:C.interaction)==null?void 0:F.enableExport,!1,!1)}),"enableExport"),V=p(m(()=>{var C,F;return(F=(C=n(r))==null?void 0:C.interaction)==null?void 0:F.enableThemes}),"enableThemes");function tt(C){var F;if(!(!C.metaKey&&!C.ctrlKey)&&!b((F=C.target)==null?void 0:F.tagName,"INPUT"))switch(C.key){case"=":case"+":C.preventDefault(),e.store.zoomIn();break;case"-":C.preventDefault(),e.store.zoomOut();break;case"0":C.preventDefault(),e.store.resetZoom();break;case"1":C.preventDefault(),e.store.fitToWidth();break}}const J=p(m(()=>{var K;const C=[],F=[];let U=0;for(const wt of n(o)){const kt=b(wt.type,"data")&&b((K=wt.row.style)==null?void 0:K.type,"spacer")?n(a).rowHeight/2:n(a).rowHeight;C.push(U),F.push(kt),U+=kt}return{positions:C,heights:F,totalHeight:U}}),"rowLayout"),it=p(m(()=>n(J).totalHeight),"rowsAreaHeight");function Ht(C){const F=C.filter(kt=>b(kt.type,"reference_line")&&kt.label).map(kt=>({id:kt.id,x:n(l)(kt.x),label:kt.label})).sort((kt,Xt)=>kt.x-Xt.x),U={},K=120,wt=-18;for(let kt=0;kt<F.length;kt++){const Xt=F[kt];if(U[Xt.id]=0,kt>0){const Wt=F[kt-1];Xt.x-Wt.x<K&&(U[Xt.id]=b(U[Wt.id],0)?wt:0)}}return U}function bt(C){return n(H).has(C)}function at(C,F){return b(C.type,"group_header")?`group_${C.group.id}`:C.row.id}function St(C){return C.isGroup?C.columns.reduce((F,U)=>F+St(U),0):1}function ee(C){let F=0;for(const U of C)if(U.isGroup){const K=1+ee(U.columns);F=Math.max(F,K)}return F}function Te(C,F){var ae,$e;const U=F==null?void 0:F.groupHeaders,K=((ae=F==null?void 0:F.colors)==null?void 0:ae.primary)??"#0891b2",wt=(($e=F==null?void 0:F.colors)==null?void 0:$e.background)??"#ffffff";if(b(C,1)&&(U!=null&&U.level1Background))return U.level1Background;if(b(C,2)&&(U!=null&&U.level2Background))return U.level2Background;if(C>=3&&(U!=null&&U.level3Background))return U.level3Background;const Xt=[.15,.1,.06][Math.min(C-1,2)],Wt=Jt=>{const Nt=Jt.replace("#","");return{r:parseInt(Nt.substring(0,2),16),g:parseInt(Nt.substring(2,4),16),b:parseInt(Nt.substring(4,6),16)}},At=Wt(K),Ot=Wt(wt),Vt=(Jt,Nt)=>Math.round(Jt*Xt+Nt*(1-Xt)),Oe=Vt(At.r,Ot.r),jt=Vt(At.g,Ot.g),be=Vt(At.b,Ot.b);return`rgb(${Oe}, ${jt}, ${be})`}const Zt=p(m(()=>Math.max(1,1+ee(n(u)))),"headerDepth"),Ie=p(m(()=>{const C=[];let F=2;function U(K,wt){const kt=St(K),Xt=F;if(K.isGroup){C.push({col:K,gridColumnStart:Xt,colspan:kt,rowStart:wt+1,rowSpan:1,isGroupHeader:!0,isForest:!1});for(const Wt of K.columns)U(Wt,wt+1)}else{const Wt=!K.isGroup&&Et.includes(K.type);C.push({col:K,gridColumnStart:Xt,colspan:1,rowStart:wt+1,rowSpan:n(Zt)-wt,isGroupHeader:!1,isForest:Wt}),F++}}for(const K of n(u))U(K,0);return C}),"headerCells");function vt(C){const F=n(W)[C.id];return b(typeof F,"number")?`${F}px`:b(typeof C.width,"number")?`${C.width}px`:"max-content"}const Et=["forest","viz_bar","viz_boxplot","viz_violin"],ne=p(m(()=>{var U,K,wt,kt,Xt,Wt,At,Ot;const C=[],F=n(W).__label__;C.push(F?`${F}px`:"max-content");for(const Vt of n(d))if(Et.includes(Vt.type)){const Oe=n(W)[Vt.id];let jt;b(typeof Oe,"number")?jt=Oe:b(typeof Vt.width,"number")?jt=Vt.width:b(Vt.type,"forest")?jt=((K=(U=Vt.options)==null?void 0:U.forest)==null?void 0:K.width)??n(a).forestWidth:b(Vt.type,"viz_bar")?jt=((kt=(wt=Vt.options)==null?void 0:wt.vizBar)==null?void 0:kt.width)??n(a).forestWidth:b(Vt.type,"viz_boxplot")?jt=((Wt=(Xt=Vt.options)==null?void 0:Xt.vizBoxplot)==null?void 0:Wt.width)??n(a).forestWidth:b(Vt.type,"viz_violin")?jt=((Ot=(At=Vt.options)==null?void 0:At.vizViolin)==null?void 0:Ot.width)??n(a).forestWidth:jt=n(a).forestWidth,C.push(`${jt}px`)}else C.push(vt(Vt));return C.join(" ")}),"gridTemplateColumns");p(m(()=>1+n(d).length),"totalColumns");const Ve=p(m(()=>{const C=[];for(let F=0;F<n(d).length;F++)Et.includes(n(d)[F].type)&&C.push({gridCol:2+F,column:n(d)[F]});return C}),"vizColumnGridIndices");n(Ve);let xt=p(Mt(fr(new Map)),"forestColumnRefs"),ve=p(Mt(fr(new Map)),"forestColumnPositions"),Dt=p(Mt(void 0),"labelHeaderRef"),Bt=p(Mt(0),"measuredHeaderHeight");So(()=>{n(W),n(a).forestWidth,n(Zt),Hu().then(()=>{const C=new Map;for(const[F,U]of n(xt))U&&C.set(F,U.offsetLeft);ot(ve,C,!0),n(Dt)&&ot(Bt,n(Dt).offsetHeight,!0)})});function Ye(C,F){return n(xt).set(F,C),ot(xt,new Map(n(xt)),!0),{destroy(){n(xt).delete(F),ot(xt,new Map(n(xt)),!0)}}}const Ue=p(m(()=>n(Bt)>0?n(Bt):n(a).headerHeight),"actualHeaderHeight"),Ne=p(m(()=>{var U,K,wt,kt,Xt,Wt,At,Ot,Vt;const C=new Map,F=Hn;for(const Oe of n(v)){const jt=Oe.column,be=F;if(b(jt.type,"viz_bar")){const ae=(U=jt.options)==null?void 0:U.vizBar;if(!ae)continue;const $e=n(W)[jt.id],Jt=b(typeof $e,"number")?$e:b(typeof jt.width,"number")?jt.width:ae.width??n(a).forestWidth;let Nt=(K=ae.axisRange)==null?void 0:K[0],ut=(wt=ae.axisRange)==null?void 0:wt[1];if(ge(Nt,null)||ge(ut,null)){const ue=[];for(const Fe of n(o))if(b(Fe.type,"data"))for(const je of ae.effects){const de=Fe.row.metadata[je.value];ge(de,null,!1)&&!Number.isNaN(de)&&ue.push(de)}ue.length>0?(Nt=Nt??Math.min(0,...ue),ut=ut??Math.max(...ue)*1.1):(Nt=Nt??0,ut=ut??100)}const ie=b(ae.scale,"log")?Gr().domain([Math.max(.01,Nt),ut]).range([be,Jt-be]):nr().domain([Nt,ut]).range([be,Jt-be]);C.set(jt.id,ie)}else if(b(jt.type,"viz_boxplot")){const ae=(kt=jt.options)==null?void 0:kt.vizBoxplot;if(!ae)continue;const $e=n(W)[jt.id],Jt=b(typeof $e,"number")?$e:b(typeof jt.width,"number")?jt.width:ae.width??n(a).forestWidth;let Nt=(Xt=ae.axisRange)==null?void 0:Xt[0],ut=(Wt=ae.axisRange)==null?void 0:Wt[1];if(ge(Nt,null)||ge(ut,null)){const ue=[];for(const Fe of n(o))if(b(Fe.type,"data")){for(const je of ae.effects)if(je.data){const de=Fe.row.metadata[je.data];if(de&&Array.isArray(de)){const $t=xa(de);ue.push($t.min,$t.max),b(ae.showOutliers,!1,!1)&&ue.push(...$t.outliers)}}else if(je.min&&je.max){const de=Fe.row.metadata[je.min],$t=Fe.row.metadata[je.max];ge(de,null,!1)&&!Number.isNaN(de)&&ue.push(de),ge($t,null,!1)&&!Number.isNaN($t)&&ue.push($t)}}if(ue.length>0){const Fe=Math.min(...ue),je=Math.max(...ue),de=je-Fe;Nt=Nt??Fe-de*.05,ut=ut??je+de*.05}else Nt=Nt??0,ut=ut??100}const ie=b(ae.scale,"log")?Gr().domain([Math.max(.01,Nt),ut]).range([be,Jt-be]):nr().domain([Nt,ut]).range([be,Jt-be]);C.set(jt.id,ie)}else if(b(jt.type,"viz_violin")){const ae=(At=jt.options)==null?void 0:At.vizViolin;if(!ae)continue;const $e=n(W)[jt.id],Jt=b(typeof $e,"number")?$e:b(typeof jt.width,"number")?jt.width:ae.width??n(a).forestWidth;let Nt=(Ot=ae.axisRange)==null?void 0:Ot[0],ut=(Vt=ae.axisRange)==null?void 0:Vt[1];if(ge(Nt,null)||ge(ut,null)){const ue=[];for(const Fe of n(o))if(b(Fe.type,"data"))for(const je of ae.effects){const de=Fe.row.metadata[je.data];de&&Array.isArray(de)&&ue.push(...de.filter($t=>ge($t,null,!1)&&!Number.isNaN($t)))}if(ue.length>0){Nt=Nt??Math.min(...ue),ut=ut??Math.max(...ue);const Fe=ut-Nt;Nt=Nt-Fe*.1,ut=ut+Fe*.1}else Nt=Nt??0,ut=ut??100}const ie=b(ae.scale,"log")?Gr().domain([Math.max(.01,Nt),ut]).range([be,Jt-be]):nr().domain([Nt,ut]).range([be,Jt-be]);C.set(jt.id,ie)}}return C}),"vizColumnScales"),kn=p(m(()=>{var U;const C=new Map,F=Hn;for(const K of n(g)){const wt=K.column,kt=(U=wt.options)==null?void 0:U.forest,Xt=n(W)[wt.id],Wt=b(typeof Xt,"number")?Xt:b(typeof wt.width,"number")?wt.width:(kt==null?void 0:kt.width)??n(a).forestWidth,At=b(kt==null?void 0:kt.scale,"log"),Ot=n(c).axisLimits,Vt=F,Oe=Math.max(Wt-F,Vt+50);if(At){const jt=[Math.max(Ot[0],.01),Math.max(Ot[1],.02)];C.set(wt.id,Gr().domain(jt).range([Vt,Oe]))}else C.set(wt.id,nr().domain(Ot).range([Vt,Oe]))}return C}),"forestColumnScales");p(Mt(!1),"resizingPlot");let ln=p(Mt(null),"resizingColumn"),Yt=0,Rt=0;function ze(C,F,U){var K;(K=n(r))!=null&&K.interaction.enableResize&&(C.preventDefault(),C.stopPropagation(),ot(ln,F,!0),Yt=C.clientX,Rt=U,document.addEventListener("pointermove",sr),document.addEventListener("pointerup",yr))}function sr(C){if(!n(ln))return;const F=C.clientX-Yt,U=Math.max(40,Rt+F);e.store.setColumnWidth(n(ln),U)}function yr(){ot(ln,null),document.removeEventListener("pointermove",sr),document.removeEventListener("pointerup",yr)}function wn(C,F){e.store.setHovered(C),e.store.setTooltip(C,{x:F.clientX,y:F.clientY})}function tn(){e.store.setHovered(null),e.store.setTooltip(null,null)}const Cn=p(m(()=>n(s)?`
      --wf-max-width: ${n(L)?`${n(L)}px`:"none"};
      --wf-max-height: ${n(N)?`${n(N)}px`:"none"};
      --wf-bg: ${n(s).colors.background};
      --wf-fg: ${n(s).colors.foreground};
      --wf-primary: ${n(s).colors.primary};
      --wf-secondary: ${n(s).colors.secondary};
      --wf-muted: ${n(s).colors.muted};
      --wf-border: ${n(s).colors.border};
      --wf-row-bg: ${n(s).colors.rowBg};
      --wf-alt-bg: ${n(s).colors.altBg};
      --wf-interval-line: ${n(s).colors.intervalLine};
      --wf-interval-positive: ${n(s).colors.intervalPositive};
      --wf-interval-negative: ${n(s).colors.intervalNegative};
      --wf-summary-fill: ${n(s).colors.summaryFill};
      --wf-summary-border: ${n(s).colors.summaryBorder};
      --wf-accent: ${n(s).colors.accent};
      --wf-badge-success: ${Wo.success};
      --wf-badge-warning: ${Wo.warning};
      --wf-badge-error: ${Wo.error};
      --wf-badge-info: ${Wo.info};
      --wf-badge-muted: ${n(s).colors.muted};
      --wf-font-family: ${n(s).typography.fontFamily};
      --wf-font-size-sm: ${n(s).typography.fontSizeSm};
      --wf-font-size-base: ${n(s).typography.fontSizeBase};
      --wf-font-size-lg: ${n(s).typography.fontSizeLg};
      --wf-font-weight-normal: ${n(s).typography.fontWeightNormal};
      --wf-font-weight-medium: ${n(s).typography.fontWeightMedium};
      --wf-font-weight-bold: ${n(s).typography.fontWeightBold};
      --wf-line-height: ${n(s).typography.lineHeight};
      --wf-header-font-scale: ${n(s).typography.headerFontScale??1.05};
      --wf-row-height: ${n(s).spacing.rowHeight}px;
      --wf-header-height: ${n(s).spacing.headerHeight}px;
      --wf-header-row-height: ${n(s).spacing.headerHeight/n(Zt)}px;
      --wf-header-depth: ${n(Zt)};
      --wf-padding: ${n(s).spacing.padding}px;
      --wf-container-padding: ${n(s).spacing.containerPadding}px;
      --wf-cell-padding-x: ${n(s).spacing.cellPaddingX}px;
      --wf-cell-padding-y: ${n(s).spacing.cellPaddingY}px;
      --wf-axis-gap: ${n(s).spacing.axisGap??Qn.DEFAULT_AXIS_GAP}px;
      --wf-axis-height: ${n(a).axisHeight}px;
      --wf-group-padding: ${n(s).spacing.groupPadding??8}px;
      --wf-column-gap: ${n(s).spacing.columnGap??8}px;
      --wf-plot-width: ${n(a).forestWidth}px;
      --wf-point-size: ${n(s).shapes.pointSize}px;
      --wf-line-width: ${n(s).shapes.lineWidth}px;
      --wf-border-radius: ${n(s).shapes.borderRadius}px;
      --wf-container-border: ${n(s).layout.containerBorder?"1px solid var(--wf-border)":"none"};
      --wf-container-border-radius: ${n(s).layout.containerBorderRadius}px;
      --wf-group-header-opacity: ${ad};
      --wf-row-hover-opacity: ${sd};
      --wf-row-selected-opacity: ${ld};
      --wf-row-selected-hover-opacity: ${cd};
      --wf-actual-scale: ${n(E)};
      --wf-zoom: ${n(k)};
    `.trim():""),"cssVars");var Ur={...ke()},bn=pp();Bn("keydown",qi,tt);let Ze;var hn=$(bn);{var Ln=C=>{var F=gp(),U=mt(F);I(()=>zn(U,{get store(){return e.store},get enableExport(){return n(ft)},get enableThemes(){return n(V)},get onThemeChange(){return e.onThemeChange}}),"component",G,852,4,{componentTag:"ControlToolbar"});var K=et(U,2);let wt;{const de=Rl(G,function(pt,nt=mo,Z=mo){zl(...arguments);const Ft=p(m(()=>Gv(nt(),Z())),"cellStyle");n(Ft);var dt=Tt(),Pe=mt(dt);{var le=pe=>{{let De=m(()=>Pv(n(i),Z())),Me=m(()=>{var _t;return(_t=Z().options)==null?void 0:_t.bar});I(()=>wi(pe,{get value(){return nt().metadata[Z().field]},get maxValue(){return n(De)},get options(){return n(Me)}}),"component",G,865,10,{componentTag:"CellBar"})}},oe=pe=>{var De=Tt(),Me=mt(De);{var _t=Gt=>{{let se=m(()=>{var We;return(We=Z().options)==null?void 0:We.pvalue});I(()=>$i(Gt,{get value(){return nt().metadata[Z().field]},get options(){return n(se)},get cellStyle(){return n(Ft)}}),"component",G,871,10,{componentTag:"CellPvalue"})}},Ct=Gt=>{var se=Tt(),We=mt(se);{var vn=Lt=>{{let he=m(()=>{var yt;return(yt=Z().options)==null?void 0:yt.sparkline});I(()=>Rn(Lt,{get data(){return nt().metadata[Z().field]},get options(){return n(he)}}),"component",G,877,10,{componentTag:"CellSparkline"})}},Kt=Lt=>{var he=Tt(),yt=mt(he);{var rt=te=>{{let Se=m(()=>{var Re;return(Re=Z().options)==null?void 0:Re.icon});I(()=>Po(te,{get value(){return nt().metadata[Z().field]},get options(){return n(Se)}}),"component",G,882,10,{componentTag:"CellIcon"})}},Pt=te=>{var Se=Tt(),Re=mt(Se);{var me=Ke=>{{let pn=m(()=>{var cn;return(cn=Z().options)==null?void 0:cn.badge});I(()=>Do(Ke,{get value(){return nt().metadata[Z().field]},get options(){return n(pn)}}),"component",G,887,10,{componentTag:"CellBadge"})}},Qt=Ke=>{var pn=Tt(),cn=mt(pn);{var nn=Be=>{{let oo=m(()=>{var ao;return(ao=Z().options)==null?void 0:ao.stars});I(()=>Ei(Be,{get value(){return nt().metadata[Z().field]},get options(){return n(oo)}}),"component",G,892,10,{componentTag:"CellStars"})}},ye=Be=>{var oo=Tt(),ao=mt(oo);{var zi=Xn=>{{let lo=m(()=>{var co;return(co=Z().options)==null?void 0:co.img});I(()=>ki(Xn,{get value(){return nt().metadata[Z().field]},get options(){return n(lo)}}),"component",G,897,10,{componentTag:"CellImg"})}},so=Xn=>{var lo=Tt(),co=mt(lo);{var Lp=fo=>{{let Ca=m(()=>{var Ta;return(Ta=Z().options)==null?void 0:Ta.reference});I(()=>Vr(fo,{get value(){return nt().metadata[Z().field]},get metadata(){return nt().metadata},get options(){return n(Ca)}}),"component",G,902,10,{componentTag:"CellReference"})}},Pp=fo=>{var Ca=Tt(),Ta=mt(Ca);{var Dp=uo=>{{let Na=m(()=>{var Ha;return(Ha=Z().options)==null?void 0:Ha.range});I(()=>Bo(uo,{get value(){return nt().metadata[Z().field]},get metadata(){return nt().metadata},get options(){return n(Na)}}),"component",G,908,10,{componentTag:"CellRange"})}},Bp=uo=>{var Na=Tt(),Ha=mt(Na);{var Gp=ho=>{{let Aa=m(()=>Ji(nt().metadata[Z().field],Z().options));I(()=>gr(ho,{get value(){return n(Aa)},get cellStyle(){return n(Ft)}}),"component",G,914,10,{componentTag:"CellContent"})}},Vp=ho=>{var Aa=Tt(),Op=mt(Aa);{var jp=go=>{{let Fi=m(()=>Es(nt(),Z().options));I(()=>gr(go,{get value(){return n(Fi)},get cellStyle(){return n(Ft)}}),"component",G,916,10,{componentTag:"CellContent"})}},qp=go=>{var Fi=Tt(),Xp=mt(Fi);{var Up=vo=>{{let Is=m(()=>{var rf,of,af,sf,lf,cf;return ks((of=(rf=Z().options)==null?void 0:rf.interval)!=null&&of.point?nt().metadata[Z().options.interval.point]:void 0,(sf=(af=Z().options)==null?void 0:af.interval)!=null&&sf.lower?nt().metadata[Z().options.interval.lower]:void 0,(cf=(lf=Z().options)==null?void 0:lf.interval)!=null&&cf.upper?nt().metadata[Z().options.interval.upper]:void 0,Z().options)});I(()=>gr(vo,{get value(){return n(Is)},get cellStyle(){return n(Ft)}}),"component",G,918,10,{componentTag:"CellContent"})}},Yp=vo=>{{let Is=m(()=>nt().metadata[Z().field]??"");I(()=>gr(vo,{get value(){return n(Is)},get cellStyle(){return n(Ft)}}),"component",G,925,10,{componentTag:"CellContent"})}};I(()=>q(Xp,vo=>{b(Z().type,"interval")?vo(Up):vo(Yp,!1)},!0),"if",G,917,8)}z(go,Fi)};I(()=>q(Op,go=>{var Fi;b(Z().type,"custom")&&((Fi=Z().options)!=null&&Fi.events)?go(jp):go(qp,!1)},!0),"if",G,915,8)}z(ho,Aa)};I(()=>q(Ha,ho=>{b(Z().type,"numeric")?ho(Gp):ho(Vp,!1)},!0),"if",G,913,8)}z(uo,Na)};I(()=>q(Ta,uo=>{b(Z().type,"range")?uo(Dp):uo(Bp,!1)},!0),"if",G,907,8)}z(fo,Ca)};I(()=>q(co,fo=>{b(Z().type,"reference")?fo(Lp):fo(Pp,!1)},!0),"if",G,901,8)}z(Xn,lo)};I(()=>q(ao,Xn=>{b(Z().type,"img")?Xn(zi):Xn(so,!1)},!0),"if",G,896,8)}z(Be,oo)};I(()=>q(cn,Be=>{b(Z().type,"stars")?Be(nn):Be(ye,!1)},!0),"if",G,891,8)}z(Ke,pn)};I(()=>q(Re,Ke=>{b(Z().type,"badge")?Ke(me):Ke(Qt,!1)},!0),"if",G,886,8)}z(te,Se)};I(()=>q(yt,te=>{b(Z().type,"icon")?te(rt):te(Pt,!1)},!0),"if",G,881,8)}z(Lt,he)};I(()=>q(We,Lt=>{b(Z().type,"sparkline")?Lt(vn):Lt(Kt,!1)},!0),"if",G,876,8)}z(Gt,se)};I(()=>q(Me,Gt=>{b(Z().type,"pvalue")?Gt(_t):Gt(Ct,!1)},!0),"if",G,870,8)}z(pe,De)};I(()=>q(Pe,pe=>{b(Z().type,"bar")?pe(le):pe(oe,!1)}),"if",G,864,8)}z(pt,dt)});var kt=$(K);{var Xt=pt=>{{let nt=m(()=>{var Ft;return(Ft=n(r).labels)==null?void 0:Ft.title}),Z=m(()=>{var Ft;return(Ft=n(r).labels)==null?void 0:Ft.subtitle});I(()=>er(pt,{get title(){return n(nt)},get subtitle(){return n(Z)}}),"component",G,858,8,{componentTag:"PlotHeader"})}};I(()=>q(kt,pt=>{n(_)&&pt(Xt)}),"if",G,857,6)}var Wt=et(kt,2);let $t,gn;var At=$(Wt);let _r;var Ot=$(At),Vt=$(Ot),Oe=et(Ot,2);{var jt=pt=>{var nt=Vv();nt.__pointerdown=Z=>ze(Z,"__label__",n(W).__label__??150),z(pt,nt)};I(()=>q(Oe,pt=>{var nt;(nt=n(r))!=null&&nt.interaction.enableResize&&pt(jt)}),"if",G,939,10)}ni(At,pt=>ot(Dt,pt),()=>n(Dt));var be=et(At,2);xn(()=>n(Ie),pt=>pt.col.id),I(()=>Ae(be,17,()=>n(Ie),pt=>pt.col.id,(pt,nt)=>{var Z=Tt(),Ft=mt(Z);{var dt=le=>{var oe=Ov();let pe;var De=$(oe),Me=$(De,!0);Q(()=>{pe=Ce(oe,"",pe,{"grid-column":`${n(nt).gridColumnStart??""} / span ${n(nt).colspan??""}`,"grid-row":`${n(nt).rowStart??""} / span ${n(nt).rowSpan??""}`}),qt(Me,n(nt).col.header)}),z(le,oe)},Pe=le=>{var oe=Tt(),pe=mt(oe);{var De=_t=>{const Ct=p(m(()=>n(nt).col),"column");n(Ct);const Gt=p(m(()=>{var yt,rt,Pt,te,Se,Re,me,Qt;return b(n(Ct).type,"forest")?((rt=(yt=n(Ct).options)==null?void 0:yt.forest)==null?void 0:rt.width)??n(a).forestWidth:b(n(Ct).type,"viz_bar")?((te=(Pt=n(Ct).options)==null?void 0:Pt.vizBar)==null?void 0:te.width)??n(a).forestWidth:b(n(Ct).type,"viz_boxplot")?((Re=(Se=n(Ct).options)==null?void 0:Se.vizBoxplot)==null?void 0:Re.width)??n(a).forestWidth:b(n(Ct).type,"viz_violin")?((Qt=(me=n(Ct).options)==null?void 0:me.vizViolin)==null?void 0:Qt.width)??n(a).forestWidth:n(a).forestWidth}),"vizDefaultWidth");n(Gt);var se=Xv();let We;var vn=$(se);{var Kt=yt=>{var rt=jv(),Pt=$(rt,!0);Q(()=>qt(Pt,n(Ct).header)),z(yt,rt)};I(()=>q(vn,yt=>{n(Ct).header&&yt(Kt)}),"if",G,977,14)}var Lt=et(vn,2);{var he=yt=>{var rt=qv();rt.__pointerdown=Pt=>ze(Pt,n(Ct).id,n(W)[n(Ct).id]??n(Gt)),z(yt,rt)};I(()=>q(Lt,yt=>{var rt;(rt=n(r))!=null&&rt.interaction.enableResize&&yt(he)}),"if",G,980,14)}sa(se,(yt,rt)=>Ye==null?void 0:Ye(yt,rt),()=>n(Ct).id),Q(()=>We=Ce(se,"",We,{"grid-column":n(nt).gridColumnStart,"grid-row":`${n(nt).rowStart??""} / span ${n(nt).rowSpan??""}`})),z(_t,se)},Me=_t=>{const Ct=p(m(()=>n(nt).col),"column");n(Ct);var Gt=Yv();let se;var We=$(Gt),vn=$(We,!0);var Kt=et(We,2);{var Lt=he=>{var yt=Uv();yt.__pointerdown=rt=>ze(rt,n(Ct).id,n(W)[n(Ct).id]??(b(typeof n(Ct).width,"number")?n(Ct).width:80)),z(he,yt)};I(()=>q(Kt,he=>{var yt;(yt=n(r))!=null&&yt.interaction.enableResize&&he(Lt)}),"if",G,998,14)}Q(()=>{se=Ce(Gt,"",se,{"grid-column":n(nt).gridColumnStart,"grid-row":`${n(nt).rowStart??""} / span ${n(nt).rowSpan??""}`,"text-align":n(Ct).headerAlign??n(Ct).align}),qt(vn,n(Ct).header)}),z(_t,Gt)};I(()=>q(pe,_t=>{n(nt).isForest?_t(De):_t(Me,!1)},!0),"if",G,959,10)}z(le,oe)};I(()=>q(Ft,le=>{n(nt).isGroupHeader?le(dt):le(Pe,!1)}),"if",G,950,10)}z(pt,Z)}),"each",G,949,8);var ae=et(be,2);xn(()=>n(o),(pt,nt)=>at(pt)),I(()=>Ae(ae,19,()=>n(o),(pt,nt)=>at(pt,nt),(pt,nt,Z)=>{const Ft=p(m(()=>b(n(nt).type,"group_header")),"isGroupHeader");n(Ft);const dt=p(m(()=>n(Ft)?null:n(nt).row),"row");n(dt);const Pe=p(m(()=>n(nt).depth),"rowDepth");n(Pe);const le=p(m(()=>n(dt)?bt(n(dt).id):!1),"selected");n(le);const oe=p(m(()=>n(dt)?Dv(n(dt).style,n(Z),n(h)):""),"rowClasses");n(oe);const pe=p(m(()=>n(dt)?Bv(n(dt).style,n(Pe)):""),"rowStyles");n(pe);const De=p(m(()=>{var yt,rt;return b((rt=(yt=n(dt))==null?void 0:yt.style)==null?void 0:rt.type,"spacer")}),"isSpacerRow");n(De);const Me=p(m(()=>n(Zt)+1+n(Z)),"gridRow");n(Me);const _t=p(m(()=>n(Ft)?Te(n(Pe)+1,n(s)):void 0),"groupBg");n(_t);var Ct=tp(),Gt=mt(Ct);let se,We;Gt.__click=function(...yt){dr(()=>n(Ft)?()=>e.store.toggleGroup(n(nt).group.id):n(dt)?()=>e.store.selectRow(n(dt).id):void 0,this,yt,G,[1034,21])},Gt.__keydown=function(...yt){dr(()=>n(Ft)?rt=>(b(rt.key,"Enter")||b(rt.key," "))&&e.store.toggleGroup(n(nt).group.id):void 0,this,yt,G,[1035,23])};var vn=$(Gt);{var Kt=yt=>{{let rt=m(()=>n(nt).depth+1);I(()=>Yi(yt,{get group(){return n(nt).group},get rowCount(){return n(nt).rowCount},get level(){return n(rt)},get theme(){return n(s)}}),"component",G,1040,14,{componentTag:"GroupHeader"})}},Lt=yt=>{var rt=Tt(),Pt=mt(rt);{var te=Se=>{var Re=Kv(),me=mt(Re);{var Qt=nn=>{var ye=$v(),Be=$(ye,!0);Q(()=>qt(Be,n(dt).style.icon)),z(nn,ye)};I(()=>q(me,nn=>{var ye;(ye=n(dt).style)!=null&&ye.icon&&nn(Qt)}),"if",G,1047,14)}var Ke=et(me),pn=et(Ke);{var cn=nn=>{var ye=Zv(),Be=$(ye,!0);Q(()=>qt(Be,n(dt).style.badge)),z(nn,ye)};I(()=>q(pn,nn=>{var ye;(ye=n(dt).style)!=null&&ye.badge&&nn(cn)}),"if",G,1049,14)}Q(()=>qt(Ke,` ${n(dt).label??""} `)),z(Se,Re)};I(()=>q(Pt,Se=>{n(dt)&&Se(te)},!0),"if",G,1046,12)}z(yt,rt)};I(()=>q(vn,yt=>{n(Ft)?yt(Kt):yt(Lt,!1)}),"if",G,1039,12)}var he=et(Gt,2);xn(()=>n(d),yt=>yt.id),I(()=>Ae(he,17,()=>n(d),yt=>yt.id,(yt,rt)=>{var Pt=Tt(),te=mt(Pt);{var Se=me=>{var Qt=Qv();let Ke,pn;Qt.__click=function(...cn){dr(()=>n(dt)?()=>e.store.selectRow(n(dt).id):void 0,this,cn,G,[1068,25])},Q(()=>{Ke=un(Qt,1,`grid-cell data-cell plot-cell ${n(oe)??""}`,"svelte-14l8yxx",Ke,{"group-row":n(Ft),selected:n(le),hovered:n(dt)&&b(n(M),n(dt).id),"spacer-row":n(De)}),pn=Ce(Qt,n(pe)||void 0,pn,{"grid-row":n(Me),"background-color":n(_t)})}),Bn("mouseenter",Qt,function(...cn){dr(()=>n(dt)?nn=>wn(n(dt).id,nn):void 0,this,cn,G,[1066,30])}),Bn("mouseleave",Qt,function(...cn){dr(()=>n(dt)?()=>tn():void 0,this,cn,G,[1067,30])}),z(me,Qt)},Re=me=>{var Qt=Jv();let Ke,pn;Qt.__click=function(...ye){dr(()=>n(dt)?()=>e.store.selectRow(n(dt).id):void 0,this,ye,G,[1085,25])};var cn=$(Qt);{var nn=ye=>{I(()=>de(ye,()=>n(dt),()=>n(rt)),"render",G,1088,18)};I(()=>q(cn,ye=>{n(dt)&&ye(nn)}),"if",G,1087,16)}Q(()=>{Ke=un(Qt,1,`grid-cell data-cell ${n(oe)??""}`,"svelte-14l8yxx",Ke,{"group-row":n(Ft),selected:n(le),hovered:n(dt)&&b(n(M),n(dt).id),"spacer-row":n(De),"wrap-enabled":n(rt).wrap}),pn=Ce(Qt,n(pe)||void 0,pn,{"grid-row":n(Me),"background-color":n(_t),"text-align":n(rt).align})}),Bn("mouseenter",Qt,function(...ye){dr(()=>n(dt)?Be=>wn(n(dt).id,Be):void 0,this,ye,G,[1083,30])}),Bn("mouseleave",Qt,function(...ye){dr(()=>n(dt)?()=>tn():void 0,this,ye,G,[1084,30])}),z(me,Qt)};I(()=>q(te,me=>{Et.includes(n(rt).type)?me(Se):me(Re,!1)}),"if",G,1055,12)}z(yt,Pt)}),"each",G,1054,10),Q(()=>{var yt,rt,Pt,te;se=un(Gt,1,`grid-cell data-cell label-cell ${n(oe)??""}`,"svelte-14l8yxx",se,{"group-row":n(Ft),selected:n(le),hovered:n(dt)&&b(n(M),n(dt).id),"spacer-row":n(De)}),We=Ce(Gt,n(pe)||void 0,We,{"grid-row":n(Me),"background-color":n(_t),"padding-left":n(Ft)?`${n(Pe)*12}px`:((rt=(yt=n(dt))==null?void 0:yt.style)==null?void 0:rt.indent)??n(Pe)?`${(((te=(Pt=n(dt))==null?void 0:Pt.style)==null?void 0:te.indent)??n(Pe))*12}px`:void 0}),R(Gt,"role",n(Ft)?"button":void 0),R(Gt,"tabindex",n(Ft)?0:void 0)}),Bn("mouseenter",Gt,function(...yt){dr(()=>n(dt)?rt=>wn(n(dt).id,rt):void 0,this,yt,G,[1036,26])}),Bn("mouseleave",Gt,function(...yt){dr(()=>n(dt)?()=>tn():void 0,this,yt,G,[1037,26])}),z(pt,Ct)}),"each",G,1010,8);var $e=et(ae,2);{var Jt=pt=>{const nt=p(m(()=>n(Zt)+1+n(o).length),"axisRowNum");n(nt);var Z=rp(),Ft=mt(Z);xn(()=>n(d),le=>le.id),I(()=>Ae(Ft,19,()=>n(d),le=>le.id,(le,oe,pe)=>{var De=Tt(),Me=mt(De);{var _t=Gt=>{var se=ep();let We;Q(()=>We=Ce(se,"",We,{"grid-column":2+n(pe),"grid-row":n(nt)})),z(Gt,se)},Ct=Gt=>{var se=np();let We;Q(()=>We=Ce(se,"",We,{"grid-column":2+n(pe),"grid-row":n(nt)})),z(Gt,se)};I(()=>q(Me,Gt=>{Et.includes(n(oe).type)?Gt(_t):Gt(Ct,!1)}),"if",G,1099,12)}z(le,De)}),"each",G,1098,10);var dt=et(Ft,2);let Pe;Q(()=>Pe=Ce(dt,"",Pe,{"grid-column":"1","grid-row":n(nt)})),z(pt,Z)};I(()=>q($e,pt=>{n(y)&&pt(Jt)}),"if",G,1096,8)}var Nt=et($e,2);xn(()=>n(g),pt=>pt.column.id),I(()=>Ae(Nt,17,()=>n(g),pt=>pt.column.id,(pt,nt)=>{const Z=p(m(()=>{var rt;return(rt=n(nt).column.options)==null?void 0:rt.forest}),"forestOpts");n(Z);const Ft=p(m(()=>n(W)[n(nt).column.id]),"dynamicForestWidth");n(Ft);const dt=p(m(()=>{var rt;return b(typeof n(Ft),"number")?n(Ft):b(typeof n(nt).column.width,"number")?n(nt).column.width:((rt=n(Z))==null?void 0:rt.width)??n(a).forestWidth}),"forestWidth");n(dt);const Pe=p(m(()=>n(ve).get(n(nt).column.id)??0),"forestLeft");n(Pe);const le=p(m(()=>{var rt;return((rt=n(s))==null?void 0:rt.spacing.axisGap)??Qn.DEFAULT_AXIS_GAP}),"axisGap");n(le);const oe=p(m(()=>{var rt;return((rt=n(Z))==null?void 0:rt.nullValue)??n(a).nullValue}),"nullValue");n(oe);const pe=p(m(()=>{var rt;return((rt=n(Z))==null?void 0:rt.axisLabel)??"Effect"}),"axisLabel");n(pe);const De=p(m(()=>{var rt;return b((rt=n(Z))==null?void 0:rt.scale,"log")}),"isLog");n(De);const Me=p(m(()=>n(kn).get(n(nt).column.id)??n(l)),"colScale");n(Me);var _t=sp();let Ct;var Gt=$(_t);R(Gt,"y1",0);var se=et(Gt);{var We=rt=>{const Pt=p(m(()=>{var me;return[...n(r).annotations??[],...((me=n(Z))==null?void 0:me.annotations)??[]]}),"allAnnotations");n(Pt);const te=p(m(()=>Ht(n(Pt))),"annotationLabelOffsets");n(te);var Se=Tt(),Re=mt(Se);xn(()=>n(Pt),me=>me.id),I(()=>Ae(Re,17,()=>n(Pt),me=>me.id,(me,Qt)=>{var Ke=Tt(),pn=mt(Ke);{var cn=nn=>{var ye=op(),Be=mt(ye);R(Be,"y1",0);var oo=et(Be);{var ao=zi=>{const so=p(m(()=>n(te)[n(Qt).id]??0),"yOffset");n(so);var Xn=ip(),lo=$(Xn,!0);Q(co=>{R(Xn,"x",co),R(Xn,"y",-4+n(so)),R(Xn,"fill",n(Qt).color??"var(--wf-secondary)"),qt(lo,n(Qt).label)},[()=>n(Me)(n(Qt).x)]),z(zi,Xn)};I(()=>q(oo,zi=>{n(Qt).label&&zi(ao)}),"if",G,1155,16)}Q((zi,so)=>{R(Be,"x1",zi),R(Be,"x2",so),R(Be,"y2",n(it)),R(Be,"stroke",n(Qt).color??"var(--wf-accent)"),R(Be,"stroke-width",n(Qt).width??1.5),R(Be,"stroke-opacity",n(Qt).opacity??.6),R(Be,"stroke-dasharray",b(n(Qt).style,"dashed")?"6,4":b(n(Qt).style,"dotted")?"2,2":"none")},[()=>n(Me)(n(Qt).x),()=>n(Me)(n(Qt).x)]),z(nn,ye)};I(()=>q(pn,nn=>{b(n(Qt).type,"reference_line")&&nn(cn)}),"if",G,1144,14)}z(me,Ke)}),"each",G,1143,14),z(rt,Se)};I(()=>q(se,rt=>{rt(We)}),"if",G,1140,12)}var vn=et(se);xn(()=>n(o),(rt,Pt)=>at(rt,Pt)),I(()=>Ae(vn,19,()=>n(o),(rt,Pt)=>at(rt,Pt),(rt,Pt,te)=>{var Se=Tt(),Re=mt(Se);{var me=Qt=>{const Ke=p(m(()=>n(J).positions[n(te)]??n(te)*n(a).rowHeight),"rowY");n(Ke);const pn=p(m(()=>n(J).heights[n(te)]??n(a).rowHeight),"rowH");n(pn);{let cn=m(()=>n(Ke)+n(pn)/2),nn=m(()=>({...n(a),forestWidth:n(dt)}));I(()=>qe(Qt,{get row(){return n(Pt).row},get yPosition(){return n(cn)},get xScale(){return n(Me)},get layout(){return n(nn)},get theme(){return n(s)},get clipBounds(){return n(f)},get isLog(){return n(De)},get weightCol(){return n(r).data.weightCol},get forestColumnOptions(){return n(Z)},onRowClick:()=>e.store.selectRow(n(Pt).row.id),onRowHover:(ye,Be)=>{e.store.setHovered(ye?n(Pt).row.id:null),ye&&Be?e.store.setTooltip(n(Pt).row.id,{x:Be.clientX,y:Be.clientY}):e.store.setTooltip(null,null)}}),"component",G,1177,16,{componentTag:"RowInterval"})}};I(()=>q(Re,Qt=>{b(n(Pt).type,"data")&&Qt(me)}),"if",G,1174,14)}z(rt,Se)}),"each",G,1173,12);var Kt=et(vn);{var Lt=rt=>{{let Pt=m(()=>n(it)+n(a).rowHeight/2),te=m(()=>({...n(a),forestWidth:n(dt)}));I(()=>ii(rt,{get point(){return n(r).data.overall.point},get lower(){return n(r).data.overall.lower},get upper(){return n(r).data.overall.upper},get yPosition(){return n(Pt)},get xScale(){return n(Me)},get layout(){return n(te)},get theme(){return n(s)}}),"component",G,1205,14,{componentTag:"SummaryDiamond"})}};I(()=>q(Kt,rt=>{n(r).data.overall&&n(a).showOverallSummary&&b(typeof n(r).data.overall.point,"number")&&!Number.isNaN(n(r).data.overall.point)&&b(typeof n(r).data.overall.lower,"number")&&!Number.isNaN(n(r).data.overall.lower)&&b(typeof n(r).data.overall.upper,"number")&&!Number.isNaN(n(r).data.overall.upper)&&rt(Lt)}),"if",G,1201,12)}var he=et(Kt);{var yt=rt=>{var Pt=ap(),te=$(Pt);{let Se=m(()=>({...n(a),forestWidth:n(dt)}));I(()=>An(te,{get xScale(){return n(Me)},get layout(){return n(Se)},get theme(){return n(s)},get axisLabel(){return n(pe)},position:"bottom",get plotHeight(){return n(a).plotHeight},get baseTicks(){return n(c).ticks}}),"component",G,1219,16,{componentTag:"EffectAxis"})}Q(()=>R(Pt,"transform",`translate(0, ${n(it)+n(le)})`)),z(rt,Pt)};I(()=>q(he,rt=>{var Pt;b((Pt=n(Z))==null?void 0:Pt.showAxis,!1,!1)&&rt(yt)}),"if",G,1217,12)}Q((rt,Pt)=>{R(_t,"width",n(dt)),R(_t,"height",n(it)+n(a).axisHeight),R(_t,"viewBox",`0 0 ${n(dt)??""} ${n(it)+n(a).axisHeight}`),Ct=Ce(_t,"",Ct,{top:`${n(Ue)??""}px`,left:`${n(Pe)??""}px`}),R(Gt,"x1",rt),R(Gt,"x2",Pt),R(Gt,"y2",n(it))},[()=>n(Me)(n(oe)),()=>n(Me)(n(oe))]),z(pt,_t)}),"each",G,1110,8);var ut=et(Nt,2);xn(()=>n(v).filter(pt=>b(pt.column.type,"viz_bar")),pt=>pt.column.id),I(()=>Ae(ut,17,()=>n(v).filter(pt=>b(pt.column.type,"viz_bar")),pt=>pt.column.id,(pt,nt)=>{const Z=p(m(()=>{var _t;return(_t=n(nt).column.options)==null?void 0:_t.vizBar}),"vizOpts");n(Z);const Ft=p(m(()=>n(W)[n(nt).column.id]),"dynamicVizWidth");n(Ft);const dt=p(m(()=>{var _t;return b(typeof n(Ft),"number")?n(Ft):n(nt).column.width??((_t=n(Z))==null?void 0:_t.width)??n(a).forestWidth}),"vizWidth");n(dt);const Pe=p(m(()=>n(ve).get(n(nt).column.id)??0),"vizLeft");n(Pe);const le=p(m(()=>{var _t;return((_t=n(s))==null?void 0:_t.spacing.axisGap)??Qn.DEFAULT_AXIS_GAP}),"axisGap");n(le);const oe=p(m(()=>n(Ne).get(n(nt).column.id)),"sharedScale");n(oe);var pe=Tt(),De=mt(pe);{var Me=_t=>{var Ct=cp();let Gt;var se=$(Ct);xn(()=>n(o),(Kt,Lt)=>at(Kt,Lt)),I(()=>Ae(se,19,()=>n(o),(Kt,Lt)=>at(Kt,Lt),(Kt,Lt,he)=>{var yt=Tt(),rt=mt(yt);{var Pt=te=>{const Se=p(m(()=>n(J).positions[n(he)]??n(he)*n(a).rowHeight),"rowY");n(Se);const Re=p(m(()=>n(J).heights[n(he)]??n(a).rowHeight),"rowH");n(Re);{let me=m(()=>n(Se)+n(Re)/2);I(()=>oi(te,{get row(){return n(Lt).row},get yPosition(){return n(me)},get rowHeight(){return n(Re)},get width(){return n(dt)},get options(){return n(Z)},get theme(){return n(s)},get sharedScale(){return n(oe)}}),"component",G,1247,18,{componentTag:"VizBar"})}};I(()=>q(rt,te=>{b(n(Lt).type,"data")&&te(Pt)}),"if",G,1244,16)}z(Kt,yt)}),"each",G,1243,14);var We=et(se);{var vn=Kt=>{var Lt=lp(),he=$(Lt);{let yt=m(()=>({...n(a),forestWidth:n(dt),nullValue:0})),rt=m(()=>n(Z).axisLabel??"Value");I(()=>An(he,{get xScale(){return n(oe)},get layout(){return n(yt)},get theme(){return n(s)},get axisLabel(){return n(rt)},position:"bottom",get plotHeight(){return n(it)},get baseTicks(){return n(Z).axisTicks},get gridlines(){return n(Z).axisGridlines}}),"component",G,1262,18,{componentTag:"EffectAxis"})}Q(()=>R(Lt,"transform",`translate(0, ${n(it)+n(le)})`)),z(Kt,Lt)};I(()=>q(We,Kt=>{b(n(Z).showAxis,!1,!1)&&n(oe)&&Kt(vn)}),"if",G,1260,14)}Q(()=>{R(Ct,"width",n(dt)),R(Ct,"height",n(it)+n(a).axisHeight),R(Ct,"viewBox",`0 0 ${n(dt)??""} ${n(it)+n(a).axisHeight}`),Gt=Ce(Ct,"",Gt,{top:`${n(Ue)??""}px`,left:`${n(Pe)??""}px`})}),z(_t,Ct)};I(()=>q(De,_t=>{n(Z)&&_t(Me)}),"if",G,1233,10)}z(pt,pe)}),"each",G,1226,8);var ie=et(ut,2);xn(()=>n(v).filter(pt=>b(pt.column.type,"viz_boxplot")),pt=>pt.column.id),I(()=>Ae(ie,17,()=>n(v).filter(pt=>b(pt.column.type,"viz_boxplot")),pt=>pt.column.id,(pt,nt)=>{const Z=p(m(()=>{var _t;return(_t=n(nt).column.options)==null?void 0:_t.vizBoxplot}),"vizOpts");n(Z);const Ft=p(m(()=>n(W)[n(nt).column.id]),"dynamicVizWidth");n(Ft);const dt=p(m(()=>{var _t;return b(typeof n(Ft),"number")?n(Ft):n(nt).column.width??((_t=n(Z))==null?void 0:_t.width)??n(a).forestWidth}),"vizWidth");n(dt);const Pe=p(m(()=>n(ve).get(n(nt).column.id)??0),"vizLeft");n(Pe);const le=p(m(()=>{var _t;return((_t=n(s))==null?void 0:_t.spacing.axisGap)??Qn.DEFAULT_AXIS_GAP}),"axisGap");n(le);const oe=p(m(()=>n(Ne).get(n(nt).column.id)),"sharedScale");n(oe);var pe=Tt(),De=mt(pe);{var Me=_t=>{var Ct=up();let Gt;var se=$(Ct);xn(()=>n(o),(Kt,Lt)=>at(Kt,Lt)),I(()=>Ae(se,19,()=>n(o),(Kt,Lt)=>at(Kt,Lt),(Kt,Lt,he)=>{var yt=Tt(),rt=mt(yt);{var Pt=te=>{const Se=p(m(()=>n(J).positions[n(he)]??n(he)*n(a).rowHeight),"rowY");n(Se);const Re=p(m(()=>n(J).heights[n(he)]??n(a).rowHeight),"rowH");n(Re);{let me=m(()=>n(Se)+n(Re)/2);I(()=>pr(te,{get row(){return n(Lt).row},get yPosition(){return n(me)},get rowHeight(){return n(Re)},get width(){return n(dt)},get options(){return n(Z)},get theme(){return n(s)},get sharedScale(){return n(oe)}}),"component",G,1300,18,{componentTag:"VizBoxplot"})}};I(()=>q(rt,te=>{b(n(Lt).type,"data")&&te(Pt)}),"if",G,1297,16)}z(Kt,yt)}),"each",G,1296,14);var We=et(se);{var vn=Kt=>{var Lt=fp(),he=$(Lt);{let yt=m(()=>({...n(a),forestWidth:n(dt),nullValue:0})),rt=m(()=>n(Z).axisLabel??"Value");I(()=>An(he,{get xScale(){return n(oe)},get layout(){return n(yt)},get theme(){return n(s)},get axisLabel(){return n(rt)},position:"bottom",get plotHeight(){return n(it)},get baseTicks(){return n(Z).axisTicks},get gridlines(){return n(Z).axisGridlines}}),"component",G,1315,18,{componentTag:"EffectAxis"})}Q(()=>R(Lt,"transform",`translate(0, ${n(it)+n(le)})`)),z(Kt,Lt)};I(()=>q(We,Kt=>{b(n(Z).showAxis,!1,!1)&&n(oe)&&Kt(vn)}),"if",G,1313,14)}Q(()=>{R(Ct,"width",n(dt)),R(Ct,"height",n(it)+n(a).axisHeight),R(Ct,"viewBox",`0 0 ${n(dt)??""} ${n(it)+n(a).axisHeight}`),Gt=Ce(Ct,"",Gt,{top:`${n(Ue)??""}px`,left:`${n(Pe)??""}px`})}),z(_t,Ct)};I(()=>q(De,_t=>{n(Z)&&_t(Me)}),"if",G,1286,10)}z(pt,pe)}),"each",G,1279,8);var ue=et(ie,2);xn(()=>n(v).filter(pt=>b(pt.column.type,"viz_violin")),pt=>pt.column.id),I(()=>Ae(ue,17,()=>n(v).filter(pt=>b(pt.column.type,"viz_violin")),pt=>pt.column.id,(pt,nt)=>{const Z=p(m(()=>{var _t;return(_t=n(nt).column.options)==null?void 0:_t.vizViolin}),"vizOpts");n(Z);const Ft=p(m(()=>n(W)[n(nt).column.id]),"dynamicVizWidth");n(Ft);const dt=p(m(()=>{var _t;return b(typeof n(Ft),"number")?n(Ft):n(nt).column.width??((_t=n(Z))==null?void 0:_t.width)??n(a).forestWidth}),"vizWidth");n(dt);const Pe=p(m(()=>n(ve).get(n(nt).column.id)??0),"vizLeft");n(Pe);const le=p(m(()=>{var _t;return((_t=n(s))==null?void 0:_t.spacing.axisGap)??Qn.DEFAULT_AXIS_GAP}),"axisGap");n(le);const oe=p(m(()=>n(Ne).get(n(nt).column.id)),"sharedScale");n(oe);var pe=Tt(),De=mt(pe);{var Me=_t=>{var Ct=hp();let Gt;var se=$(Ct);xn(()=>n(o),(Kt,Lt)=>at(Kt,Lt)),I(()=>Ae(se,19,()=>n(o),(Kt,Lt)=>at(Kt,Lt),(Kt,Lt,he)=>{var yt=Tt(),rt=mt(yt);{var Pt=te=>{const Se=p(m(()=>n(J).positions[n(he)]??n(he)*n(a).rowHeight),"rowY");n(Se);const Re=p(m(()=>n(J).heights[n(he)]??n(a).rowHeight),"rowH");n(Re);{let me=m(()=>n(Se)+n(Re)/2);I(()=>rr(te,{get row(){return n(Lt).row},get yPosition(){return n(me)},get rowHeight(){return n(Re)},get width(){return n(dt)},get options(){return n(Z)},get theme(){return n(s)},get sharedScale(){return n(oe)}}),"component",G,1353,18,{componentTag:"VizViolin"})}};I(()=>q(rt,te=>{b(n(Lt).type,"data")&&te(Pt)}),"if",G,1350,16)}z(Kt,yt)}),"each",G,1349,14);var We=et(se);{var vn=Kt=>{var Lt=dp(),he=$(Lt);{let yt=m(()=>({...n(a),forestWidth:n(dt),nullValue:0})),rt=m(()=>n(Z).axisLabel??"Value");I(()=>An(he,{get xScale(){return n(oe)},get layout(){return n(yt)},get theme(){return n(s)},get axisLabel(){return n(rt)},position:"bottom",get plotHeight(){return n(it)},get baseTicks(){return n(Z).axisTicks},get gridlines(){return n(Z).axisGridlines}}),"component",G,1368,18,{componentTag:"EffectAxis"})}Q(()=>R(Lt,"transform",`translate(0, ${n(it)+n(le)})`)),z(Kt,Lt)};I(()=>q(We,Kt=>{b(n(Z).showAxis,!1,!1)&&n(oe)&&Kt(vn)}),"if",G,1366,14)}Q(()=>{R(Ct,"width",n(dt)),R(Ct,"height",n(it)+n(a).axisHeight),R(Ct,"viewBox",`0 0 ${n(dt)??""} ${n(it)+n(a).axisHeight}`),Gt=Ce(Ct,"",Gt,{top:`${n(Ue)??""}px`,left:`${n(Pe)??""}px`})}),z(_t,Ct)};I(()=>q(De,_t=>{n(Z)&&_t(Me)}),"if",G,1339,10)}z(pt,pe)}),"each",G,1332,8);var Fe=et(Wt,2);{let pt=m(()=>{var Z;return(Z=n(r).labels)==null?void 0:Z.caption}),nt=m(()=>{var Z;return(Z=n(r).labels)==null?void 0:Z.footnote});I(()=>Br(Fe,{get caption(){return n(pt)},get footnote(){return n(nt)}}),"component",G,1386,6,{componentTag:"PlotFooter"})}ni(K,pt=>ot(D,pt),()=>n(D)),Q(()=>{$t=un(Wt,1,"tabviz-main svelte-14l8yxx",null,$t,{"has-header":n(_)}),gn=Ce(Wt,"",gn,{"grid-template-columns":n(ne)}),_r=Ce(At,"",_r,{"grid-row":`1 / span ${n(Zt)??""}`}),qt(Vt,n(x))})}var je=et(K,2);{let de=m(()=>{var $t,gn;return(gn=($t=n(r))==null?void 0:$t.interaction)==null?void 0:gn.tooltipFields});I(()=>xi(je,{get row(){return n(S)},get position(){return n(A)},get fields(){return n(de)},get theme(){return n(s)}}),"component",G,1390,4,{componentTag:"Tooltip"})}Q(()=>wt=Ce(K,"",wt,{"margin-left":`${n(X)??""}px`})),z(C,F)},io=C=>{var F=vp();z(C,F)};I(()=>q(hn,C=>{n(r)?C(Ln):C(io,!1)}),"if",G,850,2)}return ni(bn,C=>ot(T,C),()=>n(T)),Q(C=>{Ze=un(bn,1,"tabviz-container svelte-14l8yxx",null,Ze,{"auto-fit":n(w),"has-max-width":b(n(L),null,!1),"has-max-height":b(n(N),null,!1),zoomed:b(n(k),1,!1)}),R(bn,"data-zoom",`${C??""}%`),Ce(bn,`${n(Cn)??""}; ${n(w)&&n(lt)>0?`height: ${n(lt)}px`:""}`)},[()=>Math.round(n(E)*100)]),z(t,bn),xe(Ur)}ti(["pointerdown","click","keydown"]),Ge[P]="src/components/split/SplitSidebar.svelte";var mp=O(ht('<span class="tree-line svelte-1c2ts73"></span>'),Ge[P],[[101,8]]),yp=O(It('<svg width="12" height="12" viewBox="0 0 12 12" fill="none"><rect x="1" y="1" width="10" height="10" rx="2" stroke="currentColor" stroke-width="1.2"></rect><line x1="3" y1="6" x2="9" y2="6" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"></line></svg>'),Ge[P],[[119,14,[[120,16],[121,16]]]]),_p=O(It('<svg width="12" height="12" viewBox="0 0 12 12" fill="none"><rect x="1" y="1" width="10" height="10" rx="2" stroke="currentColor" stroke-width="1.2"></rect><line x1="6" y1="3" x2="6" y2="9" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"></line><line x1="3" y1="6" x2="9" y2="6" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"></line></svg>'),Ge[P],[[124,14,[[125,16],[126,16],[127,16]]]]),xp=O(ht("<span><!></span>"),Ge[P],[[117,10]]),wp=O(ht('<div class="section-header nested svelte-1c2ts73"> </div>'),Ge[P],[[139,10]]),bp=O(ht('<div class="children-wrapper svelte-1c2ts73"><!> <ul class="tree-list nested svelte-1c2ts73"></ul></div>'),Ge[P],[[137,6,[[141,8]]]]),Mp=O(ht('<li><div class="tree-row svelte-1c2ts73"><!> <button><!> <span class="label svelte-1c2ts73"> </span></button></div> <!></li>'),Ge[P],[[98,2,[[99,4,[[103,6,[[132,8]]]]]]]]),Sp=O(ht('<div class="sidebar-collapsed svelte-1c2ts73"><button class="toggle-btn svelte-1c2ts73" title="Expand navigation"><svg width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M7 4L12 9L7 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div>'),Ge[P],[[41,2,[[42,4,[[47,6,[[48,8]]]]]]]]),Ep=O(ht('<div class="section-header svelte-1c2ts73"> </div>'),Ge[P],[[80,8]]),kp=O(ht('<aside class="split-sidebar svelte-1c2ts73" role="navigation" aria-label="Subgroup navigation"><div class="sidebar-header svelte-1c2ts73"><span class="sidebar-title svelte-1c2ts73">Subgroups</span> <button class="toggle-btn svelte-1c2ts73" title="Collapse navigation"><svg width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M11 4L6 9L11 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div> <div class="sidebar-search svelte-1c2ts73"><input type="text" placeholder="Search..." class="search-input svelte-1c2ts73"/></div> <nav class="sidebar-nav svelte-1c2ts73"><!> <ul class="tree-list svelte-1c2ts73"></ul></nav></aside>'),Ge[P],[[53,2,[[54,4,[[55,6],[56,6,[[61,8,[[62,10]]]]]]],[67,4,[[68,6]]],[78,4,[[83,6]]]]]]);function Ge(t,e){Ee(new.target),_e(e,!0,Ge);const r=Rl(Ge,function(_,S=mo,A=mo,H=mo){zl(...arguments);const M=p(m(()=>S().children&&S().children.length>0),"hasChildren");n(M);const k=p(m(()=>n(a).has(S().key)),"isExpanded");n(k);const w=p(m(()=>b(n(o),S().key)),"isActive");n(w);const E=p(m(()=>!n(M)),"isLeaf");n(E);var L=Mp();let N;var W=$(L),T=$(W);{var D=tt=>{var J=mp();z(tt,J)};I(()=>q(T,tt=>{A()>0&&tt(D)}),"if",Ge,100,6)}var Y=et(T,2);let st;Y.__click=()=>{n(E)?e.store.selectSpec(S().key):e.store.toggleExpanded(S().key)},Y.__keydown=h;var ct=$(Y);{var B=tt=>{var J=xp();let it;var Ht=$(J);{var bt=St=>{var ee=yp();z(St,ee)},at=St=>{var ee=_p();z(St,ee)};I(()=>q(Ht,St=>{n(k)?St(bt):St(at,!1)}),"if",Ge,118,12)}Q(()=>it=un(J,1,"tree-toggle svelte-1c2ts73",null,it,{expanded:n(k)})),z(tt,J)};I(()=>q(ct,tt=>{n(M)&&tt(B)}),"if",Ge,116,8)}var lt=et(ct,2),X=$(lt,!0);var ft=et(W,2);{var V=tt=>{var J=bp(),it=$(J);{var Ht=at=>{var St=wp(),ee=$(St,!0);Q(Te=>{Ce(St,`--depth: ${A()??""}`),qt(ee,Te)},[()=>d(n(c)[A()+1])]),z(at,St)};I(()=>q(it,at=>{n(c).length>A()+1&&at(Ht)}),"if",Ge,138,8)}var bt=et(it,2);I(()=>Ae(bt,21,()=>S().children,Zn,(at,St,ee)=>{I(()=>r(at,()=>n(St),()=>A()+1,()=>b(ee,S().children.length-1)),"render",Ge,143,12)}),"each",Ge,142,10),z(tt,J)};I(()=>q(ft,tt=>{n(M)&&n(k)&&tt(V)}),"if",Ge,136,4)}Q(()=>{N=un(L,1,"tree-item svelte-1c2ts73",null,N,{"is-last":H()}),Ce(W,`--depth: ${A()??""}`),st=un(Y,1,"node-btn svelte-1c2ts73",null,st,{active:n(w),parent:n(M)}),qt(X,S().label)}),z(_,L)}),i=p(m(()=>e.store.navTree),"navTree"),o=p(m(()=>e.store.activeKey),"activeKey"),a=p(m(()=>e.store.expandedNodes),"expandedNodes"),l=p(m(()=>e.store.searchQuery),"searchQuery"),c=p(m(()=>e.store.splitVars),"splitVars"),f=p(m(()=>e.store.sidebarCollapsed),"collapsed");function s(_){const S=_.target;e.store.setSearch(S.value)}function h(_){b(_.key,"ArrowDown")?(_.preventDefault(),e.store.selectNext()):b(_.key,"ArrowUp")&&(_.preventDefault(),e.store.selectPrevious())}function d(_){return _.replace(/_/g," ").replace(/\b\w/g,S=>S.toUpperCase())}var u={...ke()},g=Tt(),v=mt(g);{var y=_=>{var S=Sp(),A=$(S);A.__click=()=>e.store.toggleSidebar(),z(_,S)},x=_=>{var S=kp(),A=$(S),H=et($(A),2);H.__click=()=>e.store.toggleSidebar();var M=et(A,2),k=$(M);k.__input=s,k.__keydown=h;var w=et(M,2),E=$(w);{var L=W=>{var T=Ep(),D=$(T);Q(Y=>qt(D,Y),[()=>d(n(c)[0])]),z(W,T)};I(()=>q(E,W=>{n(c).length>0&&W(L)}),"if",Ge,79,6)}var N=et(E,2);I(()=>Ae(N,21,()=>n(i),Zn,(W,T,D)=>{I(()=>r(W,()=>n(T),()=>0,()=>b(D,n(i).length-1)),"render",Ge,85,10)}),"each",Ge,84,8),Q(()=>Gl(k,n(l))),z(_,S)};I(()=>q(v,_=>{n(f)?_(y):_(x,!1)}),"if",Ge,40,0)}return z(t,g),xe(u)}ti(["click","keydown","input"]),jn[P]="src/lib/SplitForestPlot.svelte";var Cp=O(ht('<div class="split-forest-empty svelte-1y0d7q9">Select a plot from the sidebar</div>'),jn[P],[[57,8]]),Tp=O(ht('<!> <div class="split-forest-main svelte-1y0d7q9"><!></div>',1),jn[P],[[51,4]]),Np=O(ht('<div class="split-forest-loading svelte-1y0d7q9">Loading...</div>'),jn[P],[[63,4]]),Hp=O(ht('<div class="split-forest-container svelte-1y0d7q9"><!></div>'),jn[P],[[45,0]]);function jn(t,e){Ee(new.target),_e(e,!0,jn);const r=p(m(()=>e.store.activeStore),"activeStore"),i=p(m(()=>e.store.activeKey),"activeKey"),o=p(m(()=>e.store.payload),"payload"),a=p(m(()=>e.store.sidebarWidth),"sidebarWidth");function l(v){e.store.setTheme(v)}let c=p(Mt(void 0),"containerRef");So(()=>{if(!n(c))return;const v=new ResizeObserver(y=>{for(const x of y){const{width:_,height:S}=x.contentRect;e.store.setDimensions(_,S)}});return v.observe(n(c)),()=>{v.disconnect()}});var f={...ke()},s=Hp();let h;var d=$(s);{var u=v=>{var y=Tp(),x=mt(y);I(()=>Ge(x,{get store(){return e.store}}),"component",jn,48,4,{componentTag:"SplitSidebar"});var _=et(x,2),S=$(_);{var A=M=>{var k=Tt(),w=mt(k);I(()=>Ou(w,()=>n(i),E=>{I(()=>G(E,{get store(){return n(r)},onThemeChange:l}),"component",jn,54,10,{componentTag:"ForestPlot"})}),"key",jn,53,8),z(M,k)},H=M=>{var k=Cp();z(M,k)};I(()=>q(S,M=>{n(r).spec?M(A):M(H,!1)}),"if",jn,52,6)}z(v,y)},g=v=>{var y=Np();z(v,y)};I(()=>q(d,v=>{n(o)?v(u):v(g,!1)}),"if",jn,46,2)}return ni(s,v=>ot(c,v),()=>n(c)),Q(()=>h=Ce(s,"",h,{"--sidebar-width":`${n(a)??""}px`})),z(t,s),xe(f)}function Ap(){let t=p(Mt(null),"spec"),e=p(Mt(800),"initialWidth"),r=p(Mt(400),"initialHeight"),i=p(Mt(fr(new Set)),"selectedRowIds"),o=p(Mt(fr(new Set)),"collapsedGroups"),a=p(Mt(null),"sortConfig"),l=p(Mt(null),"filterConfig"),c=p(Mt(null),"hoveredRowId"),f=p(Mt(null),"tooltipRowId"),s=p(Mt(null),"tooltipPosition"),h=p(Mt(fr({})),"columnWidths"),d=p(Mt(null),"plotWidthOverride"),u=p(Mt(1),"zoom"),g=p(Mt(!0),"autoFit"),v=p(Mt(null),"maxWidth"),y=p(Mt(null),"maxHeight"),x=p(Mt(!0),"showZoomControls"),_=p(Mt(0),"containerWidth"),S=p(Mt(0),"containerHeight"),A=p(Mt(0),"scalableNaturalWidth"),H=p(Mt(0),"scalableNaturalHeight"),M=p(Mt(null),"containerElementId");const k=p(m(()=>n(_)>0?n(_):n(e)),"effectiveWidth"),w=p(m(()=>n(S)>0?n(S):n(r)),"effectiveHeight"),E=p(m(()=>{if(!n(t))return[];let C=[...n(t).data.rows];return n(l)&&(C=Wp(C,n(l))),n(a)&&(C=Rp(C,n(a))),C}),"visibleRows"),L=p(m(()=>{var Oe,jt;if(!n(t))return{axisLimits:[0,1],plotRegion:[0,1],ticks:[0,.5,1]};const C=(Oe=n(Y)[0])==null?void 0:Oe.column,U=n(Y).length>0?n(d)??Math.max(n(k)*.25,200):0,K=(jt=C==null?void 0:C.options)==null?void 0:jt.forest,wt=(K==null?void 0:K.scale)??"linear",kt=(K==null?void 0:K.nullValue)??(b(wt,"log")?1:0),Xt=(K==null?void 0:K.effects)??[],Wt=(K==null?void 0:K.point)??null,At=(K==null?void 0:K.lower)??null,Ot=(K==null?void 0:K.upper)??null,Vt={...n(t).theme.axis};return K!=null&&K.axisRange&&Array.isArray(K.axisRange)&&b(K.axisRange.length,2)&&(Vt.rangeMin=K.axisRange[0],Vt.rangeMax=K.axisRange[1]),K!=null&&K.axisTicks&&Array.isArray(K.axisTicks)&&(Vt.tickValues=K.axisTicks),Ul({rows:n(t).data.rows,config:Vt,scale:wt,nullValue:kt,forestWidth:U,pointSize:n(t).theme.shapes.pointSize,effects:Xt,pointCol:Wt,lowerCol:At,upperCol:Ot})}),"axisComputation"),N=p(m(()=>{var At,Ot;if(!n(t))return nr().domain([0,1]).range([0,100]);const C=(At=n(Y)[0])==null?void 0:At.column,F=(Ot=C==null?void 0:C.options)==null?void 0:Ot.forest,U=b((F==null?void 0:F.scale)??"linear","log"),{plotRegion:K}=n(L),kt=n(Y).length>0?n(d)??Math.max(n(k)*.25,200):0,Xt=Hn,Wt=Math.max(kt-Hn,Xt+50);if(U){const Vt=[Math.max(K[0],.01),Math.max(K[1],.02)];return Gr().domain(Vt).range([Xt,Wt])}return nr().domain(K).range([Xt,Wt])}),"xScale");function W(C){const F=[];for(const U of C)U.isGroup?F.push(...W(U.columns)):F.push(U);return F}const T=p(m(()=>n(t)?W(n(t).columns):[]),"allColumns"),D=p(m(()=>n(t)?n(t).columns:[]),"allColumnDefs"),Y=p(m(()=>{if(!n(t))return[];const C=[],F=n(T);for(let U=0;U<F.length;U++)b(F[U].type,"forest")&&C.push({index:U,column:F[U]});return C}),"forestColumns"),st=p(m(()=>n(Y).length>0),"hasExplicitForestColumns"),ct=p(m(()=>{if(!n(t))return[];const C=[],F=n(T),U=["forest","viz_bar","viz_boxplot","viz_violin"];for(let K=0;K<F.length;K++)U.includes(F[K].type)&&C.push({index:K,column:F[K]});return C}),"vizColumns"),B=p(m(()=>n(ct).length>0),"hasVizColumns"),lt=p(m(()=>{const C=new Map;if(!n(t))return C;for(const F of n(t).data.groups)C.set(F.id,F);return C}),"groupMap"),X=p(m(()=>{const C=new Map;if(!n(t))return C;for(const F of n(t).data.groups)C.set(F.id,F.depth);return C}),"groupDepthMap");function ft(C){return C?(n(X).get(C)??0)+1:0}function V(C){if(!C)return!1;let F=C;for(;F;){const U=n(lt).get(F);if(!U)break;if(U.parentId&&n(o).has(U.parentId))return!0;F=U.parentId}return!1}const tt=p(m(()=>{var Xt;if(!n(t))return[];const C=[],F=new Map;for(const Wt of n(E)){const At=Wt.groupId??null;F.has(At)||F.set(At,[]),F.get(At).push(Wt)}const U=new Set;for(const Wt of F.keys()){if(!Wt)continue;let At=Wt;for(;At;)U.add(At),At=(Xt=n(lt).get(At))==null?void 0:Xt.parentId}function K(Wt){return n(t).data.groups.filter(At=>b(At.parentId??null,Wt)&&U.has(At.id))}function wt(Wt){var Ot;let At=((Ot=F.get(Wt))==null?void 0:Ot.length)??0;for(const Vt of K(Wt))At+=wt(Vt.id);return At}function kt(Wt){if(Wt){const Ot=n(lt).get(Wt);if(!Ot||V(Wt))return;const Vt=n(o).has(Ot.id),Oe=wt(Wt);if(C.push({type:"group_header",group:{...Ot,collapsed:Vt},rowCount:Oe,depth:Ot.depth}),Vt)return}for(const Ot of K(Wt))kt(Ot.id);const At=F.get(Wt)??[];for(const Ot of At)C.push({type:"data",row:Ot,depth:ft(Ot.groupId)})}return kt(null),C}),"displayRows"),J=p(m(()=>{var Jt,Nt,ut;if(!n(t))return{totalWidth:n(k),totalHeight:n(w),tableWidth:300,forestWidth:400,headerHeight:36,rowHeight:28,plotHeight:300,axisHeight:32,nullValue:0,summaryYPosition:0,showOverallSummary:!1,rowPositions:[],rowHeights:[]};const C=n(t).theme.spacing.rowHeight,F=n(t).theme.spacing.headerHeight,K=(n(t).theme.spacing.axisGap??Qn.DEFAULT_AXIS_GAP)+Cr.AXIS_HEIGHT+Cr.AXIS_LABEL_HEIGHT,kt=n(Y).length>0?n(d)??Math.max(n(k)*.25,200):0,Xt=n(k)-kt,Wt=!!n(t).data.overall,At=[];for(const ie of n(tt))b(ie.type,"data")&&b((Jt=ie.row.style)==null?void 0:Jt.type,"spacer")?At.push(C/2):At.push(C);const Ot=[];let Vt=0;for(const ie of At)Ot.push(Vt),Vt+=ie;const Oe=Vt+(Wt?C*1.5:0),jt=(Nt=n(Y)[0])==null?void 0:Nt.column,be=(ut=jt==null?void 0:jt.options)==null?void 0:ut.forest,ae=(be==null?void 0:be.scale)??"linear",$e=(be==null?void 0:be.nullValue)??(b(ae,"log")?1:0);return{totalWidth:n(k),totalHeight:Math.max(n(w),Oe+F+K+n(t).theme.spacing.padding*2),tableWidth:Xt,forestWidth:kt,headerHeight:F,rowHeight:C,plotHeight:Oe,axisHeight:K,nullValue:$e,summaryYPosition:Oe-C,showOverallSummary:Wt,rowPositions:Ot,rowHeights:At}}),"layout"),it=p(m(()=>{if(!n(t))return 800;const C=100,F=150;let U=0;for(const kt of n(T)){if(b(kt.type,"forest"))continue;const Xt=n(h)[kt.id]??(b(typeof kt.width,"number")?kt.width:null)??C;U+=Xt}U+=n(h).__label__??F;const K=n(J).forestWidth,wt=n(t).theme.spacing.padding*2;return U+K+wt}),"naturalContentWidth"),Ht=p(m(()=>{if(n(_)<=0||n(A)<=0)return 1;const C=n(A)*n(u);return C>n(_)?n(_)/C:1}),"fitScale"),bt=p(m(()=>n(g)?Math.max(.5,n(u)*n(Ht)):Math.max(.5,Math.min(2,n(u)))),"actualScale"),at=p(m(()=>n(g)&&n(Ht)<1),"isClamped");function St(C){ot(t,{...C},!0),ot(o,new Set(C.data.groups.filter(F=>F.collapsed).map(F=>F.id)),!0),ee()}function ee(){if(!n(t)||b(typeof document,"undefined"))return;const C=n(t).theme.typography.fontFamily;let F=n(t).theme.typography.fontSizeBase;if(b(typeof F,"string")&&(F.endsWith("rem")||F.endsWith("em"))){const U=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;F=`${parseFloat(F)*U}px`}Te(F,C),document.fonts&&document.fonts.ready&&document.fonts.ready.then(()=>{Te(F,C,!0)})}function Te(C,F,U=!1){var Jt,Nt;if(!n(t))return;const wt=document.createElement("canvas").getContext("2d");if(!wt)return;const kt=n(t).theme.typography.headerFontScale??1.05;let Xt=C;if(b(typeof C,"string")){const ut=C.match(/^([\d.]+)(px|rem|em)$/);ut&&(Xt=`${parseFloat(ut[1])*kt}${ut[2]}`)}const At=`${n(t).theme.typography.fontWeightBold??600} ${Xt} ${F}`,Ot=`${C} ${F}`,Vt=(n(t).theme.spacing.cellPaddingX??10)*2,Oe=(n(t).theme.spacing.groupPadding??8)*2;function jt(ut){return ut.isGroup?ut.columns.flatMap(jt):[ut]}function be(ut){return b(n(h)[ut.id],void 0,!1)?n(h)[ut.id]:b(typeof ut.width,"number")?ut.width:tr.MIN}function ae(ut){var je,de;if(b(typeof ut.width,"number")||ge(ut.width,null,!1)&&b(ut.width,"auto",!1))return;let ie=0;ut.header&&(wt.font=At,ie=Math.max(ie,wt.measureText(ut.header).width)),wt.font=Ot;for(const $t of n(t).data.rows){if(b((je=$t.style)==null?void 0:je.type,"header")||b((de=$t.style)==null?void 0:de.type,"spacer"))continue;const gn=Pc($t,ut);gn&&(ie=Math.max(ie,wt.measureText(gn).width))}const ue=tr.VISUAL_MIN[ut.type]??tr.MIN,Fe=Math.min(tr.MAX,Math.max(ue,Math.ceil(ie+Vt+Qn.RENDERING_BUFFER)));n(h)[ut.id]=Fe}function $e(ut){if(ut.isGroup){for(const ie of ut.columns)$e(ie);if(ut.header){wt.font=At;const ie=wt.measureText(ut.header).width+Oe+Qn.RENDERING_BUFFER,ue=jt(ut),Fe=ue.reduce((je,de)=>je+be(de),0);if(ie>Fe&&ue.length>0){const je=Math.ceil((ie-Fe)/ue.length);for(const de of ue)n(h)[de.id]=be(de)+je}}return}ae(ut)}for(const ut of n(t).columns)$e(ut);if(n(t).data.labelCol){let ut=function($t){let gn=0;for(const _r of n(t).data.rows)b(_r.groupId,$t)&&gn++;for(const _r of n(t).data.groups)b(_r.parentId,$t)&&(gn+=ut(_r.id));return gn},ie=0;const ue=new Map;for(const $t of n(t).data.groups)ue.set($t.id,$t.depth);const Fe=$t=>$t?(ue.get($t)??0)+1:0;n(t).data.labelHeader&&(wt.font=At,ie=Math.max(ie,wt.measureText(n(t).data.labelHeader).width)),wt.font=Ot;const je=parseFloat(C);for(const $t of n(t).data.rows)if($t.label){const gn=Fe($t.groupId),_r=((Jt=$t.style)==null?void 0:Jt.indent)??0,nt=(gn+_r)*Le.INDENT_PER_LEVEL;let Z=wt.measureText($t.label).width+nt;if((Nt=$t.style)!=null&&Nt.badge){const Ft=String($t.style.badge),dt=je*kr.FONT_SCALE;wt.font=`${dt}px ${F}`;const le=wt.measureText(Ft).width+kr.PADDING*2;Z+=kr.GAP+le,wt.font=Ot}ie=Math.max(ie,Z)}wt.font=At;for(const $t of n(t).data.groups)if($t.label){const gn=$t.depth*Le.INDENT_PER_LEVEL,_r=wt.measureText($t.label).width,nt=`(${ut($t.id)})`,Z=je*.75;wt.font=`${Z}px ${F}`;const Ft=wt.measureText(nt).width;wt.font=At;const dt=gn+ri.CHEVRON_WIDTH+ri.GAP+_r+ri.GAP+Ft+ri.SAFETY_MARGIN;ie=Math.max(ie,dt)}const de=Math.min(tr.LABEL_MAX,Math.max(tr.MIN,Math.ceil(ie+Vt+Qn.RENDERING_BUFFER)));n(h).__label__=de}}function Zt(C,F){ot(e,C,!0),ot(r,F,!0)}function Ie(C){const F=new Set(n(i));F.has(C)?F.delete(C):F.add(C),ot(i,F,!0)}function vt(C,F){const U=new Set(n(o));F??!U.has(C)?U.add(C):U.delete(C),ot(o,U,!0)}function Et(C,F){ot(a,b(F,"none")?null:{column:C,direction:F},!0)}function ne(C){ot(l,C,!0)}function Ve(C){ot(c,C,!0)}function xt(C,F){ot(f,C,!0),ot(s,F,!0)}function ve(C,F){n(h)[C]=Math.max(40,F)}function Dt(C){return n(h)[C]}function Bt(C){ot(d,b(C,null)?null:Math.max(100,C),!0)}function Ye(){return n(d)}function Ue(C){const F=Tg[C];!n(t)||!F||ot(t,{...n(t),theme:F},!0)}function Ne(C){ot(u,Math.max(.5,Math.min(2,C)),!0),Ze()}function kn(){ot(u,1),Ze()}function ln(){Ne(n(u)*1.1)}function Yt(){Ne(n(u)/1.1)}function Rt(C){ot(g,C,!0),Ze()}function ze(){!n(_)||!n(A)||(ot(u,Math.min(2,Math.max(.5,n(_)/n(A))),!0),Ze())}function sr(C){ot(v,C,!0),Ze()}function yr(C){ot(y,C,!0),Ze()}function wn(C){ot(x,C,!0)}function tn(C,F){ot(_,C,!0),ot(S,F,!0)}function Cn(C,F){ot(A,C,!0),ot(H,F,!0)}function Ur(C){ot(M,C,!0),C&&hn()}function bn(){return n(M)?`tabviz_zoom_${n(M)}`:null}function Ze(){const C=bn();if(C)try{const F={zoom:n(u),autoFit:n(g),maxWidth:n(v),maxHeight:n(y),version:2};localStorage.setItem(C,JSON.stringify(F))}catch{}}function hn(){const C=bn();if(C)try{const F=localStorage.getItem(C);if(F){const U=JSON.parse(F);b(U.version,2)&&(ot(u,U.zoom??1,!0),ot(g,U.autoFit??!0,!0),ot(v,U.maxWidth??null,!0),ot(y,U.maxHeight??null,!0))}}catch{}}function Ln(){ot(i,new Set,!0),ot(o,new Set,!0),ot(a,null),ot(l,null),ot(h,{},!0),ot(d,null),ot(u,1),ot(g,!0),ot(v,null),ot(y,null),ot(c,null),ot(f,null),ot(s,null)}const io=p(m(()=>!n(f)||!n(t)?null:n(t).data.rows.find(C=>b(C.id,n(f)))??null),"tooltipRow");return{get spec(){return n(t)},get width(){return n(k)},get height(){return n(w)},get visibleRows(){return n(E)},get xScale(){return n(N)},get axisComputation(){return n(L)},get layout(){return n(J)},get selectedRowIds(){return n(i)},get collapsedGroups(){return n(o)},get hoveredRowId(){return n(c)},get allColumns(){return n(T)},get allColumnDefs(){return n(D)},get forestColumns(){return n(Y)},get hasExplicitForestColumns(){return n(st)},get vizColumns(){return n(ct)},get hasVizColumns(){return n(B)},get displayRows(){return n(tt)},get tooltipRow(){return n(io)},get tooltipPosition(){return n(s)},get columnWidths(){return n(h)},get zoom(){return n(u)},get autoFit(){return n(g)},get actualScale(){return n(bt)},get isClamped(){return n(at)},get maxWidth(){return n(v)},get maxHeight(){return n(y)},get showZoomControls(){return n(x)},get naturalContentWidth(){return n(it)},getRowDepth:ft,getColumnWidth:Dt,getPlotWidth:Ye,getExportDimensions(){var Oe,jt,be,ae,$e;const C=n(N).domain(),F=[],U={},K={},wt=n(h).__label__??150;K.__label__=wt;let kt=wt;for(const Jt of n(T)){F.push(Jt.id),U[Jt.id]=kt;let Nt;b(Jt.type,"forest")?Nt=n(h)[Jt.id]??(b(typeof Jt.width,"number")?Jt.width:null)??((jt=(Oe=Jt.options)==null?void 0:Oe.forest)==null?void 0:jt.width)??n(J).forestWidth:Nt=n(h)[Jt.id]??(b(typeof Jt.width,"number")?Jt.width:100),K[Jt.id]=Nt,kt+=Nt}const Xt=[];for(const Jt of n(Y)){const Nt=Jt.column,ut=(be=Nt.options)==null?void 0:be.forest,ie=K[Nt.id]??n(J).forestWidth,ue=(ut==null?void 0:ut.scale)??"linear",Fe=(ut==null?void 0:ut.nullValue)??(b(ue,"log")?1:0);Xt.push({columnId:Nt.id,xPosition:U[Nt.id],width:ie,xDomain:C,clipBounds:n(L).axisLimits,ticks:n(L).ticks,scale:ue,nullValue:Fe,axisLabel:(ut==null?void 0:ut.axisLabel)??"Effect"})}const Wt=[],At=[];let Ot=0;for(const Jt of n(tt)){const Nt=b(Jt.type,"data")&&b((ae=Jt.row.style)==null?void 0:ae.type,"spacer")?n(J).rowHeight/2:n(J).rowHeight;At.push(Ot),Wt.push(Nt),Ot+=Nt}const Vt=n(D).some(Jt=>Jt.isGroup)?2:1;return{columnOrder:F,columnWidths:K,columnPositions:U,forestColumns:Xt,rowHeights:Wt,rowPositions:At,totalRowsHeight:Ot,headerHeight:n(J).headerHeight,headerDepth:Vt,width:n(it)*n(u),height:(n(H)||400)*n(u),naturalWidth:kt,naturalHeight:Ot+n(J).headerHeight+n(J).axisHeight,forestWidth:((($e=Xt[0])==null?void 0:$e.width)??n(J).forestWidth)*n(u),xDomain:C,clipBounds:n(L).axisLimits,scale:n(u)}},setSpec:St,setDimensions:Zt,selectRow:Ie,toggleGroup:vt,sortBy:Et,setFilter:ne,setHovered:Ve,setTooltip:xt,setColumnWidth:ve,setPlotWidth:Bt,setTheme:Ue,setZoom:Ne,resetZoom:kn,zoomIn:ln,zoomOut:Yt,setAutoFit:Rt,fitToWidth:ze,setMaxWidth:sr,setMaxHeight:yr,setShowZoomControls:wn,setContainerDimensions:tn,setScalableNaturalDimensions:Cn,setContainerElementId:Ur,resetState:Ln}}function Wp(t,e){return t.filter(r=>{const i=r.metadata[e.field]??r[e.field];switch(e.operator){case"eq":return b(i,e.value);case"neq":return b(i,e.value,!1);case"gt":return b(typeof i,"number")&&i>e.value;case"lt":return b(typeof i,"number")&&i<e.value;case"contains":return b(typeof i,"string")&&i.toLowerCase().includes(e.value.toLowerCase());default:return!0}})}function Rp(t,e){const r=[...t],{column:i,direction:o}=e;return r.sort((a,l)=>{const c=a.metadata[i]??a[i],f=l.metadata[i]??l[i];let s=0;return b(typeof c,"number")&&b(typeof f,"number")?s=c-f:b(typeof c,"string")&&b(typeof f,"string")&&(s=c.localeCompare(f)),b(o,"desc")?-s:s}),r}function Zc(){let t=p(Mt(null),"payload"),e=p(Mt(null),"activeKey"),r=p(Mt(""),"searchQuery"),i=p(Mt(fr(new Set)),"expandedNodes"),o=p(Mt(!1),"sidebarCollapsed"),a=p(Mt(null),"userTheme"),l=p(Mt(800),"containerWidth"),c=p(Mt(600),"containerHeight");const f=216,s=44,h=Ap(),d=p(m(()=>n(t)?n(r).trim()?Kc(n(t).navTree,n(r).toLowerCase()):n(t).navTree:[]),"filteredNavTree"),u=p(m(()=>!n(e)||!n(t)?null:n(t).specs[n(e)]??null),"activeSpec"),g=p(m(()=>n(t)?Ip(n(t).navTree):[]),"allLeafKeys"),v=p(m(()=>n(e)?n(g).indexOf(n(e)):-1),"currentIndex"),y=p(m(()=>{var T;return((T=n(t))==null?void 0:T.splitVars)??[]}),"splitVars"),x=p(m(()=>n(o)?s:f),"effectiveSidebarWidth");function _(T){ot(t,T,!0);const D=Qc(T.navTree);D&&S(D)}function S(T){if(!n(t))return;ot(e,T,!0);const D=n(t).specs[T];D&&(h.setSpec(D),n(a)&&h.setTheme(n(a)),h.setDimensions(n(l)-n(x),n(c))),w(T)}function A(T,D){ot(l,T,!0),ot(c,D,!0),h.setDimensions(T-n(x),D)}function H(){ot(o,!n(o)),h.setDimensions(n(l)-n(x),n(c))}function M(T){ot(r,T,!0)}function k(T){const D=new Set(n(i));D.has(T)?D.delete(T):D.add(T),ot(i,D,!0)}function w(T){const D=T.split("__"),Y=new Set;let st="";for(let ct=0;ct<D.length-1;ct++)st=st?`${st}__${D[ct]}`:D[ct],Y.add(st);ot(i,Y,!0)}function E(){n(v)>=0&&n(v)<n(g).length-1&&S(n(g)[n(v)+1])}function L(){n(v)>0&&S(n(g)[n(v)-1])}function N(T){ot(a,T,!0),h.setTheme(T)}function W(){if(ot(a,null),n(e)&&n(t)){const T=n(t).specs[n(e)];T&&(h.setSpec(T),h.setDimensions(n(l)-n(x),n(c)))}}return{get payload(){return n(t)},get activeKey(){return n(e)},get activeSpec(){return n(u)},get activeStore(){return h},get navTree(){return n(d)},get searchQuery(){return n(r)},get expandedNodes(){return n(i)},get splitVars(){return n(y)},get sidebarWidth(){return n(x)},get sidebarCollapsed(){return n(o)},get userTheme(){return n(a)},setPayload:_,selectSpec:S,setDimensions:A,setSearch:M,toggleExpanded:k,toggleSidebar:H,selectNext:E,selectPrevious:L,setTheme:N,resetTheme:W}}function Kc(t,e){const r=[];for(const i of t){const o=i.label.toLowerCase().includes(e);if(i.children&&i.children.length>0){const a=Kc(i.children,e);(a.length>0||o)&&r.push({...i,children:a.length>0?a:i.children})}else o&&r.push(i)}return r}function Qc(t){for(const e of t){if(!e.children||b(e.children.length,0))return e.key;const r=Qc(e.children);if(r)return r}return null}function Ip(t){const e=[];function r(i){for(const o of i)!o.children||b(o.children.length,0)?e.push(o.key):r(o.children)}return r(t),e}const Jc=new Map,zp={name:"tabviz_split",type:"output",factory:(t,e,r)=>{let i=null;const o=Zc();return t.id&&Jc.set(t.id,o),{renderValue:a=>{o.setPayload(a),o.setDimensions(e,r),t.style.height="100%",t.style.minHeight="400px",i&&Du(i),i=Lu(jn,{target:t,props:{store:o}}),window.Shiny&&t.id&&Fp(t.id,o)},resize:(a,l)=>{o.setDimensions(a,l)}}}};function Fp(t,e){Mu(()=>{So(()=>{var i;const r=e.activeKey;(i=window.Shiny)==null||i.setInputValue(`${t}_active_plot`,r,{priority:"event"})}),So(()=>{var i;const r=e.activeStore.selectedRowIds;(i=window.Shiny)==null||i.setInputValue(`${t}_selected`,Array.from(r),{priority:"event"})})})}return b(typeof window,"undefined",!1)&&window.HTMLWidgets&&window.HTMLWidgets.widget(zp),b(typeof window,"undefined",!1)&&window.Shiny&&window.Shiny.addCustomMessageHandler("tabviz-split-proxy",t=>{const e=Jc.get(t.id);e&&b(t.method,"selectPlot")&&b(typeof t.args.key,"string")&&e.selectSpec(t.args.key)}),He.SplitForestPlot=jn,He.createSplitForestStore=Zc,Object.defineProperty(He,Symbol.toStringTag,{value:"Module"}),He})({});
