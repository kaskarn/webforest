var webforest=(function(xe){"use strict";var Fd=Object.defineProperty;var Js=xe=>{throw TypeError(xe)};var Pd=(xe,Te,Fe)=>Te in xe?Fd(xe,Te,{enumerable:!0,configurable:!0,writable:!0,value:Fe}):xe[Te]=Fe;var nn=(xe,Te,Fe)=>Pd(xe,typeof Te!="symbol"?Te+"":Te,Fe),$o=(xe,Te,Fe)=>Te.has(xe)||Js("Cannot "+Fe);var x=(xe,Te,Fe)=>($o(xe,Te,"read from private field"),Fe?Fe.call(xe):Te.get(xe)),le=(xe,Te,Fe)=>Te.has(xe)?Js("Cannot add the same private member more than once"):Te instanceof WeakSet?Te.add(xe):Te.set(xe,Fe),Q=(xe,Te,Fe,zi)=>($o(xe,Te,"write to private field"),zi?zi.call(xe,Fe):Te.set(xe,Fe),Fe),Ce=(xe,Te,Fe)=>($o(xe,Te,"access private method"),Fe);var Ys,Ks,Sr,Nr,nr,rr,ri,Ar,Cr,ze,Go,fi,zo,Qs,el,St,Nt,Do,Yt,ir,Kt,At,dt,Zt,gn,Nn,or,An,ar,pn,Wi,We,Wd,Od,Vo,$i,Gi,jo,Ot,Jt,wt,sr,ii,oi,Oi,Zs;const Ue=Symbol(),I=Symbol("filename"),tl="http://www.w3.org/1999/xhtml",Bo=(Ks=(Ys=globalThis.process)==null?void 0:Ys.env)==null?void 0:Ks.NODE_ENV,F=Bo&&!Bo.toLowerCase().startsWith("prod");var ui=Array.isArray,nl=Array.prototype.indexOf,ci=Array.from,Dn=Object.defineProperty,fr=Object.getOwnPropertyDescriptor,rl=Object.getOwnPropertyDescriptors,Uo=Object.prototype,il=Array.prototype,Vi=Object.getPrototypeOf,qo=Object.isExtensible;function ol(e){return typeof e=="function"}const Rr=()=>{};function al(e){for(var t=0;t<e.length;t++)e[t]()}function Xo(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}function Yo(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const n=[];for(const r of e)if(n.push(r),n.length===t)break;return n}const $e=2,ji=4,Bi=8,sl=1<<24,jt=16,rn=32,Rn=64,di=128,Dt=512,qe=1024,ot=2048,Bt=4096,gt=8192,xn=16384,hi=32768,Fn=65536,vi=1<<17,Ko=1<<18,ur=1<<19,ll=1<<20,on=1<<25,yn=32768,Ui=1<<21,gi=1<<22,bn=1<<23,Pn=Symbol("$state"),fl=Symbol(""),Zo=Symbol("proxy path"),cr=new class extends Error{constructor(){super(...arguments);nn(this,"name","StaleReactionError");nn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}},ul=1,cl=11;function dl(){if(F){const e=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/async_derived_orphan")}function hl(e,t){if(F){const n=new Error(`component_api_changed
Calling \`${e}\` on a component instance (of ${t}) is no longer valid in Svelte 5
https://svelte.dev/e/component_api_changed`);throw n.name="Svelte error",n}else throw new Error("https://svelte.dev/e/component_api_changed")}function vl(e,t){if(F){const n=new Error(`component_api_invalid_new
Attempted to instantiate ${e} with \`new ${t}\`, which is no longer valid in Svelte 5. If this component is not under your control, set the \`compatibility.componentApi\` compiler option to \`4\` to keep it working.
https://svelte.dev/e/component_api_invalid_new`);throw n.name="Svelte error",n}else throw new Error("https://svelte.dev/e/component_api_invalid_new")}function gl(){if(F){const e=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/derived_references_self")}function pl(e,t,n){if(F){const r=new Error(`each_key_duplicate
${n?`Keyed each block has duplicate key \`${n}\` at indexes ${e} and ${t}`:`Keyed each block has duplicate key at indexes ${e} and ${t}`}
https://svelte.dev/e/each_key_duplicate`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/each_key_duplicate")}function _l(e){if(F){const t=new Error(`effect_in_teardown
\`${e}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function ml(){if(F){const e=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function wl(e){if(F){const t=new Error(`effect_orphan
\`${e}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_orphan")}function xl(){if(F){const e=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function yl(e){if(F){const t=new Error(`rune_outside_svelte
The \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function bl(){if(F){const e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function El(){if(F){const e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function kl(){if(F){const e=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ml(){if(F){const e=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}var Wn="font-weight: bold",On="font-weight: normal";function Tl(e){F?console.warn(`%c[svelte] console_log_state
%cYour \`console.${e}\` contained \`$state\` proxies. Consider using \`$inspect(...)\` or \`$state.snapshot(...)\` instead
https://svelte.dev/e/console_log_state`,Wn,On):console.warn("https://svelte.dev/e/console_log_state")}function Sl(e,t){F?console.warn(`%c[svelte] event_handler_invalid
%c${e} should be a function. Did you mean to ${t}?
https://svelte.dev/e/event_handler_invalid`,Wn,On):console.warn("https://svelte.dev/e/event_handler_invalid")}function Nl(){F?console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,Wn,On):console.warn("https://svelte.dev/e/lifecycle_double_unmount")}function Fr(e){F?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,Wn,On):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}function Al(){F?console.warn(`%c[svelte] state_proxy_unmount
%cTried to unmount a state proxy, rather than a component
https://svelte.dev/e/state_proxy_unmount`,Wn,On):console.warn("https://svelte.dev/e/state_proxy_unmount")}function Cl(){F?console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",Wn,On):console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Hl(e){F?console.warn(`%c[svelte] transition_slide_display
%cThe \`slide\` transition does not work correctly for elements with \`display: ${e}\`
https://svelte.dev/e/transition_slide_display`,Wn,On):console.warn("https://svelte.dev/e/transition_slide_display")}function Bd(e){}function Jo(e){return e===this.v}function Il(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Qo(e){return!Il(e,this.v)}let Ll=!1;var Dl="font-weight: bold",Rl="font-weight: normal";function ea(e){F?console.warn(`%c[svelte] state_snapshot_uncloneable
%c${e?`The following properties cannot be cloned with \`$state.snapshot\` — the return value contains the originals:

${e}`:"Value cannot be cloned with `$state.snapshot` — the original value was returned"}
https://svelte.dev/e/state_snapshot_uncloneable`,Dl,Rl):console.warn("https://svelte.dev/e/state_snapshot_uncloneable")}const Fl=[];function Pl(e,t=!1,n=!1){if(F&&!t){const r=[],i=Pr(e,new Map,"",r,null,n);if(r.length===1&&r[0]==="")ea();else if(r.length>0){const o=r.length>10?r.slice(0,7):r.slice(0,10),s=r.length-o.length;let l=o.map(u=>`- <value>${u}`).join(`
`);s>0&&(l+=`
- ...and ${s} more`),ea(l)}return i}return Pr(e,new Map,"",Fl,null,n)}function Pr(e,t,n,r,i=null,o=!1){if(typeof e=="object"&&e!==null){var s=t.get(e);if(s!==void 0)return s;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(ui(e)){var l=Array(e.length);t.set(e,l),i!==null&&t.set(i,l);for(var u=0;u<e.length;u+=1){var f=e[u];u in e&&(l[u]=Pr(f,t,F?`${n}[${u}]`:n,r,null,o))}return l}if(Vi(e)===Uo){l={},t.set(e,l),i!==null&&t.set(i,l);for(var d in e)l[d]=Pr(e[d],t,F?`${n}.${d}`:n,r,null,o);return l}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function"&&!o)return Pr(e.toJSON(),t,F?`${n}.toJSON()`:n,r,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return F&&r.push(n),e}}function b(e,t){return e.label=t,qi(e.v,t),e}function qi(e,t){var n;return(n=e==null?void 0:e[Zo])==null||n.call(e,t),e}function Wl(e){const t=new Error,n=Ol();return n.length===0?null:(n.unshift(`
`),Dn(t,"stack",{value:n.join(`
`)}),Dn(t,"name",{value:e}),t)}function Ol(){const e=Error.stackTraceLimit;Error.stackTraceLimit=1/0;const t=new Error().stack;if(Error.stackTraceLimit=e,!t)return[];const n=t.split(`
`),r=[];for(let i=0;i<n.length;i++){const o=n[i],s=o.replaceAll("\\","/");if(o.trim()!=="Error"){if(o.includes("validate_each_keys"))return[];s.includes("svelte/src/internal")||s.includes("node_modules/.vite")||r.push(o)}}return r}let Le=null;function dr(e){Le=e}let an=null;function pi(e){an=e}function A(e,t,n,r,i,o){const s=an;an={type:t,file:n[I],line:r,column:i,parent:s,...o};try{return e()}finally{an=s}}let Wr=null;function ta(e){Wr=e}function at(e,t=!1,n){Le={p:Le,i:!1,c:null,e:null,s:e,x:null,l:null},F&&(Le.function=n,Wr=n)}function st(e){var t=Le,n=t.e;if(n!==null){t.e=null;for(var r of n)_a(r)}return e!==void 0&&(t.x=e),t.i=!0,Le=t.p,F&&(Wr=(Le==null?void 0:Le.function)??null),e??{}}function na(){return!0}let hr=[];function $l(){var e=hr;hr=[],al(e)}function vr(e){if(hr.length===0){var t=hr;queueMicrotask(()=>{t===hr&&$l()})}hr.push(e)}const Xi=new WeakMap;function ra(e){var t=ue;if(t===null)return oe.f|=bn,e;if(F&&e instanceof Error&&!Xi.has(e)&&Xi.set(e,Gl(e,t)),(t.f&hi)===0){if((t.f&di)===0)throw F&&!t.parent&&e instanceof Error&&ia(e),e;t.b.error(e)}else gr(e,t)}function gr(e,t){for(;t!==null;){if((t.f&di)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw F&&e instanceof Error&&ia(e),e}function Gl(e,t){var s,l,u;const n=fr(e,"message");if(!(n&&!n.configurable)){for(var r=ro?"  ":"	",i=`
${r}in ${((s=t.fn)==null?void 0:s.name)||"<unknown>"}`,o=t.ctx;o!==null;)i+=`
${r}in ${(l=o.function)==null?void 0:l[I].split("/").pop()}`,o=o.p;return{message:e.message+`
${i}
`,stack:(u=e.stack)==null?void 0:u.split(`
`).filter(f=>!f.includes("svelte/src/internal")).join(`
`)}}}function ia(e){const t=Xi.get(e);t&&(Dn(e,"message",{value:t.message}),Dn(e,"stack",{value:t.stack}))}const _i=new Set;let pe=null,He=null,Ut=[],Yi=null,Ki=!1;const Pi=class Pi{constructor(){le(this,ze);nn(this,"committed",!1);nn(this,"current",new Map);nn(this,"previous",new Map);le(this,Sr,new Set);le(this,Nr,new Set);le(this,nr,0);le(this,rr,0);le(this,ri,null);le(this,Ar,new Set);le(this,Cr,new Set);nn(this,"skipped_effects",new Set);nn(this,"is_fork",!1)}is_deferred(){return this.is_fork||x(this,rr)>0}process(t){var r;Ut=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[]};for(const i of t)Ce(this,ze,Go).call(this,i,n);this.is_fork||Ce(this,ze,Qs).call(this),this.is_deferred()?(Ce(this,ze,fi).call(this,n.effects),Ce(this,ze,fi).call(this,n.render_effects)):(pe=null,oa(n.render_effects),oa(n.effects),(r=x(this,ri))==null||r.resolve()),He=null}capture(t,n){this.previous.has(t)||this.previous.set(t,n),(t.f&bn)===0&&(this.current.set(t,t.v),He==null||He.set(t,t.v))}activate(){pe=this,this.apply()}deactivate(){pe===this&&(pe=null,He=null)}flush(){if(this.activate(),Ut.length>0){if(zl(),pe!==null&&pe!==this)return}else x(this,nr)===0&&this.process([]);this.deactivate()}discard(){for(const t of x(this,Nr))t(this);x(this,Nr).clear()}increment(t){Q(this,nr,x(this,nr)+1),t&&Q(this,rr,x(this,rr)+1)}decrement(t){Q(this,nr,x(this,nr)-1),t&&Q(this,rr,x(this,rr)-1),this.revive()}revive(){for(const t of x(this,Ar))x(this,Cr).delete(t),Xe(t,ot),$n(t);for(const t of x(this,Cr))Xe(t,Bt),$n(t);this.flush()}oncommit(t){x(this,Sr).add(t)}ondiscard(t){x(this,Nr).add(t)}settled(){return(x(this,ri)??Q(this,ri,Xo())).promise}static ensure(){if(pe===null){const t=pe=new Pi;_i.add(pe),Pi.enqueue(()=>{pe===t&&t.flush()})}return pe}static enqueue(t){vr(t)}apply(){}};Sr=new WeakMap,Nr=new WeakMap,nr=new WeakMap,rr=new WeakMap,ri=new WeakMap,Ar=new WeakMap,Cr=new WeakMap,ze=new WeakSet,Go=function(t,n){var d;t.f^=qe;for(var r=t.first;r!==null;){var i=r.f,o=(i&(rn|Rn))!==0,s=o&&(i&qe)!==0,l=s||(i&gt)!==0||this.skipped_effects.has(r);if((r.f&di)!==0&&((d=r.b)!=null&&d.is_pending())&&(n={parent:n,effect:r,effects:[],render_effects:[]}),!l&&r.fn!==null){o?r.f^=qe:(i&ji)!==0?n.effects.push(r):Br(r)&&((r.f&jt)!==0&&x(this,Ar).add(r),Ur(r));var u=r.first;if(u!==null){r=u;continue}}var f=r.parent;for(r=r.next;r===null&&f!==null;)f===n.effect&&(Ce(this,ze,fi).call(this,n.effects),Ce(this,ze,fi).call(this,n.render_effects),n=n.parent),r=f.next,f=f.parent}},fi=function(t){for(const n of t)(n.f&ot)!==0?x(this,Ar).add(n):(n.f&Bt)!==0&&x(this,Cr).add(n),Ce(this,ze,zo).call(this,n.deps),Xe(n,qe)},zo=function(t){if(t!==null)for(const n of t)(n.f&$e)===0||(n.f&yn)===0||(n.f^=yn,Ce(this,ze,zo).call(this,n.deps))},Qs=function(){if(x(this,rr)===0){for(const t of x(this,Sr))t();x(this,Sr).clear()}x(this,nr)===0&&Ce(this,ze,el).call(this)},el=function(){var o;if(_i.size>1){this.previous.clear();var t=He,n=!0,r={parent:null,effect:null,effects:[],render_effects:[]};for(const s of _i){if(s===this){n=!1;continue}const l=[];for(const[f,d]of this.current){if(s.current.has(f))if(n&&d!==s.current.get(f))s.current.set(f,d);else continue;l.push(f)}if(l.length===0)continue;const u=[...s.current.keys()].filter(f=>!this.current.has(f));if(u.length>0){var i=Ut;Ut=[];const f=new Set,d=new Map;for(const c of l)aa(c,u,f,d);if(Ut.length>0){pe=s,s.apply();for(const c of Ut)Ce(o=s,ze,Go).call(o,c,r);s.deactivate()}Ut=i}}pe=null,He=t}this.committed=!0,_i.delete(this)};let sn=Pi;function zl(){var e=Bn;Ki=!0;var t=F?new Set:null;try{var n=0;for(wi(!0);Ut.length>0;){var r=sn.ensure();if(n++>1e3){if(F){var i=new Map;for(const s of r.current.keys())for(const[l,u]of s.updated??[]){var o=i.get(l);o||(o={error:u.error,count:0},i.set(l,o)),o.count+=u.count}for(const s of i.values())s.error&&console.error(s.error)}Vl()}if(r.process(Ut),En.clear(),F)for(const s of r.current.keys())t.add(s)}}finally{if(Ki=!1,wi(e),Yi=null,F)for(const s of t)s.updated=null}}function Vl(){try{xl()}catch(e){F&&Dn(e,"stack",{value:""}),gr(e,Yi)}}let Rt=null;function oa(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(xn|gt))===0&&Br(r)&&(Rt=new Set,Ur(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?ya(r):r.fn=null),(Rt==null?void 0:Rt.size)>0)){En.clear();for(const i of Rt){if((i.f&(xn|gt))!==0)continue;const o=[i];let s=i.parent;for(;s!==null;)Rt.has(s)&&(Rt.delete(s),o.push(s)),s=s.parent;for(let l=o.length-1;l>=0;l--){const u=o[l];(u.f&(xn|gt))===0&&Ur(u)}}Rt.clear()}}Rt=null}}function aa(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const o=i.f;(o&$e)!==0?aa(i,t,n,r):(o&(gi|jt))!==0&&(o&ot)===0&&sa(i,t,r)&&(Xe(i,ot),$n(i))}}function sa(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(t.includes(i))return!0;if((i.f&$e)!==0&&sa(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function $n(e){for(var t=Yi=e;t.parent!==null;){t=t.parent;var n=t.f;if(Ki&&t===ue&&(n&jt)!==0&&(n&Ko)===0)return;if((n&(Rn|rn))!==0){if((n&qe)===0)return;t.f^=qe}}Ut.push(t)}function jl(e){let t=0,n=Gn(0),r;return F&&b(n,"createSubscriber version"),()=>{Vr()&&(a(n),ma(()=>(t===0&&(r=so(()=>e(()=>Or(n)))),t+=1,()=>{vr(()=>{t-=1,t===0&&(r==null||r(),r=void 0,Or(n))})})))}}var Bl=Fn|ur|di;function Ul(e,t,n){new ql(e,t,n)}class ql{constructor(t,n,r){le(this,We);nn(this,"parent");le(this,St,!1);le(this,Nt);le(this,Do,null);le(this,Yt);le(this,ir);le(this,Kt);le(this,At,null);le(this,dt,null);le(this,Zt,null);le(this,gn,null);le(this,Nn,null);le(this,or,0);le(this,An,0);le(this,ar,!1);le(this,pn,null);le(this,Wi,jl(()=>(Q(this,pn,Gn(x(this,or))),F&&b(x(this,pn),"$effect.pending()"),()=>{Q(this,pn,null)})));Q(this,Nt,t),Q(this,Yt,n),Q(this,ir,r),this.parent=ue.b,Q(this,St,!!x(this,Yt).pending),Q(this,Kt,io(()=>{ue.b=this;{var i=Ce(this,We,Vo).call(this);try{Q(this,At,kt(()=>r(i)))}catch(o){this.error(o)}x(this,An)>0?Ce(this,We,Gi).call(this):Q(this,St,!1)}return()=>{var o;(o=x(this,Nn))==null||o.remove()}},Bl))}is_pending(){return x(this,St)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!x(this,Yt).pending}update_pending_count(t){Ce(this,We,jo).call(this,t),Q(this,or,x(this,or)+t),x(this,pn)&&_r(x(this,pn),x(this,or))}get_effect_pending(){return x(this,Wi).call(this),a(x(this,pn))}error(t){var n=x(this,Yt).onerror;let r=x(this,Yt).failed;if(x(this,ar)||!n&&!r)throw t;x(this,At)&&(lt(x(this,At)),Q(this,At,null)),x(this,dt)&&(lt(x(this,dt)),Q(this,dt,null)),x(this,Zt)&&(lt(x(this,Zt)),Q(this,Zt,null));var i=!1,o=!1;const s=()=>{if(i){Cl();return}i=!0,o&&Ml(),sn.ensure(),Q(this,or,0),x(this,Zt)!==null&&jn(x(this,Zt),()=>{Q(this,Zt,null)}),Q(this,St,this.has_pending_snippet()),Q(this,At,Ce(this,We,$i).call(this,()=>(Q(this,ar,!1),kt(()=>x(this,ir).call(this,x(this,Nt)))))),x(this,An)>0?Ce(this,We,Gi).call(this):Q(this,St,!1)};var l=oe;try{ft(null),o=!0,n==null||n(t,s),o=!1}catch(u){gr(u,x(this,Kt)&&x(this,Kt).parent)}finally{ft(l)}r&&vr(()=>{Q(this,Zt,Ce(this,We,$i).call(this,()=>{sn.ensure(),Q(this,ar,!0);try{return kt(()=>{r(x(this,Nt),()=>t,()=>s)})}catch(u){return gr(u,x(this,Kt).parent),null}finally{Q(this,ar,!1)}}))})}}St=new WeakMap,Nt=new WeakMap,Do=new WeakMap,Yt=new WeakMap,ir=new WeakMap,Kt=new WeakMap,At=new WeakMap,dt=new WeakMap,Zt=new WeakMap,gn=new WeakMap,Nn=new WeakMap,or=new WeakMap,An=new WeakMap,ar=new WeakMap,pn=new WeakMap,Wi=new WeakMap,We=new WeakSet,Wd=function(){try{Q(this,At,kt(()=>x(this,ir).call(this,x(this,Nt))))}catch(t){this.error(t)}Q(this,St,!1)},Od=function(){const t=x(this,Yt).pending;t&&(Q(this,dt,kt(()=>t(x(this,Nt)))),sn.enqueue(()=>{var n=Ce(this,We,Vo).call(this);Q(this,At,Ce(this,We,$i).call(this,()=>(sn.ensure(),kt(()=>x(this,ir).call(this,n))))),x(this,An)>0?Ce(this,We,Gi).call(this):(jn(x(this,dt),()=>{Q(this,dt,null)}),Q(this,St,!1))}))},Vo=function(){var t=x(this,Nt);return x(this,St)&&(Q(this,Nn,ln()),x(this,Nt).before(x(this,Nn)),t=x(this,Nn)),t},$i=function(t){var n=ue,r=oe,i=Le;Ft(x(this,Kt)),ft(x(this,Kt)),dr(x(this,Kt).ctx);try{return t()}catch(o){return ra(o),null}finally{Ft(n),ft(r),dr(i)}},Gi=function(){const t=x(this,Yt).pending;x(this,At)!==null&&(Q(this,gn,document.createDocumentFragment()),x(this,gn).append(x(this,Nn)),ka(x(this,At),x(this,gn))),x(this,dt)===null&&Q(this,dt,kt(()=>t(x(this,Nt))))},jo=function(t){var n;if(!this.has_pending_snippet()){this.parent&&Ce(n=this.parent,We,jo).call(n,t);return}Q(this,An,x(this,An)+t),x(this,An)===0&&(Q(this,St,!1),x(this,dt)&&jn(x(this,dt),()=>{Q(this,dt,null)}),x(this,gn)&&(x(this,Nt).before(x(this,gn)),Q(this,gn,null)))};function Xl(e,t,n,r){const i=Zi;if(n.length===0&&e.length===0){r(t.map(i));return}var o=pe,s=ue,l=Yl();function u(){Promise.all(n.map(f=>Jl(f))).then(f=>{l();try{r([...t.map(i),...f])}catch(d){(s.f&xn)===0&&gr(d,s)}o==null||o.deactivate(),mi()}).catch(f=>{gr(f,s)})}e.length>0?Promise.all(e).then(()=>{l();try{return u()}finally{o==null||o.deactivate(),mi()}}):u()}function Yl(){var e=ue,t=oe,n=Le,r=pe;if(F)var i=an;return function(s=!0){Ft(e),ft(t),dr(n),s&&(r==null||r.activate()),F&&pi(i)}}async function Kl(e){var t=await e;return()=>t}function mi(){Ft(null),ft(null),dr(null),F&&pi(null)}const Zl=new Set;function Zi(e){var t=$e|ot,n=oe!==null&&(oe.f&$e)!==0?oe:null;return ue!==null&&(ue.f|=ur),{ctx:Le,deps:null,effects:null,equals:Jo,f:t,fn:e,reactions:null,rv:0,v:Ue,wv:0,parent:n??ue,ac:null}}function Jl(e,t){let n=ue;n===null&&dl();var r=n.b,i=void 0,o=Gn(Ue),s=!oe,l=new Map;return vf(()=>{var h;var u=Xo();i=u.promise;try{Promise.resolve(e()).then(u.resolve,u.reject).then(()=>{f===pe&&f.committed&&f.deactivate(),mi()})}catch(p){u.reject(p),mi()}var f=pe;if(s){var d=!r.is_pending();r.update_pending_count(1),f.increment(d),(h=l.get(f))==null||h.reject(cr),l.delete(f),l.set(f,u)}const c=(p,v=void 0)=>{if(f.activate(),v)v!==cr&&(o.f|=bn,_r(o,v));else{(o.f&bn)!==0&&(o.f^=bn),_r(o,p);for(const[_,g]of l){if(l.delete(_),_===f)break;g.reject(cr)}}s&&(r.update_pending_count(-1),f.decrement(d))};u.promise.then(c,p=>c(null,p||"unknown"))}),ga(()=>{for(const u of l.values())u.reject(cr)}),F&&(o.f|=gi),new Promise(u=>{function f(d){function c(){d===i?u(o):f(i)}d.then(c,c)}f(i)})}function E(e){const t=Zi(e);return Ta(t),t}function Ql(e){const t=Zi(e);return t.equals=Qo,t}function Ji(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)lt(t[n])}}let Qi=[];function ef(e){for(var t=e.parent;t!==null;){if((t.f&$e)===0)return(t.f&xn)===0?t:null;t=t.parent}return null}function eo(e){var t,n=ue;if(Ft(ef(e)),F){let r=pr;fa(new Set);try{Qi.includes(e)&&gl(),Qi.push(e),e.f&=~yn,Ji(e),t=ao(e)}finally{Ft(n),fa(r),Qi.pop()}}else try{e.f&=~yn,Ji(e),t=ao(e)}finally{Ft(n)}return t}function la(e){var t=eo(e);if(e.equals(t)||(pe!=null&&pe.is_fork||(e.v=t),e.wv=Aa()),!mr)if(He!==null)(Vr()||pe!=null&&pe.is_fork)&&He.set(e,t);else{var n=(e.f&Dt)===0?Bt:qe;Xe(e,n)}}let pr=new Set;const En=new Map;function fa(e){pr=e}let to=!1;function tf(){to=!0}function Gn(e,t){var n={f:0,v:e,reactions:null,equals:Jo,rv:0,wv:0};return n}function Se(e,t){const n=Gn(e);return Ta(n),n}function nf(e,t=!1,n=!0){const r=Gn(e);return t||(r.equals=Qo),r}function ge(e,t,n=!1){oe!==null&&(!qt||(oe.f&vi)!==0)&&na()&&(oe.f&($e|jt|gi|vi))!==0&&!(Je!=null&&Je.includes(e))&&kl();let r=n?kn(t):t;return F&&qi(r,e.label),_r(e,r)}function _r(e,t){var i;if(!e.equals(t)){var n=e.v;mr?En.set(e,t):En.set(e,n),e.v=t;var r=sn.ensure();if(r.capture(e,n),F){if(ue!==null){e.updated??(e.updated=new Map);const o=(((i=e.updated.get(""))==null?void 0:i.count)??0)+1;if(e.updated.set("",{error:null,count:o}),o>5){const s=Wl("updated at");if(s!==null){let l=e.updated.get(s.stack);l||(l={error:s,count:0},e.updated.set(s.stack,l)),l.count++}}}ue!==null&&(e.set_during_effect=!0)}(e.f&$e)!==0&&((e.f&ot)!==0&&eo(e),Xe(e,(e.f&Dt)!==0?qe:Bt)),e.wv=Aa(),ca(e,ot),ue!==null&&(ue.f&qe)!==0&&(ue.f&(rn|Rn))===0&&(Mt===null?_f([e]):Mt.push(e)),!r.is_fork&&pr.size>0&&!to&&ua()}return t}function ua(){to=!1;var e=Bn;wi(!0);const t=Array.from(pr);try{for(const n of t)(n.f&qe)!==0&&Xe(n,Bt),Br(n)&&Ur(n)}finally{wi(e)}pr.clear()}function Or(e){ge(e,e.v+1)}function ca(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var o=n[i],s=o.f;if(F&&(s&vi)!==0){pr.add(o);continue}var l=(s&ot)===0;if(l&&Xe(o,t),(s&$e)!==0){var u=o;He==null||He.delete(u),(s&yn)===0&&(s&Dt&&(o.f|=yn),ca(u,Bt))}else l&&((s&jt)!==0&&Rt!==null&&Rt.add(o),$n(o))}}const rf=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function kn(e){if(typeof e!="object"||e===null||Pn in e)return e;const t=Vi(e);if(t!==Uo&&t!==il)return e;var n=new Map,r=ui(e),i=Se(0),o=Un,s=d=>{if(Un===o)return d();var c=oe,h=Un;ft(null),Na(o);var p=d();return ft(c),Na(h),p};r&&(n.set("length",Se(e.length)),F&&(e=af(e)));var l="";let u=!1;function f(d){if(!u){u=!0,l=d,b(i,`${l} version`);for(const[c,h]of n)b(h,zn(l,c));u=!1}}return new Proxy(e,{defineProperty(d,c,h){(!("value"in h)||h.configurable===!1||h.enumerable===!1||h.writable===!1)&&bl();var p=n.get(c);return p===void 0?p=s(()=>{var v=Se(h.value);return n.set(c,v),F&&typeof c=="string"&&b(v,zn(l,c)),v}):ge(p,h.value,!0),!0},deleteProperty(d,c){var h=n.get(c);if(h===void 0){if(c in d){const p=s(()=>Se(Ue));n.set(c,p),Or(i),F&&b(p,zn(l,c))}}else ge(h,Ue),Or(i);return!0},get(d,c,h){var g;if(c===Pn)return e;if(F&&c===Zo)return f;var p=n.get(c),v=c in d;if(p===void 0&&(!v||(g=fr(d,c))!=null&&g.writable)&&(p=s(()=>{var m=kn(v?d[c]:Ue),C=Se(m);return F&&b(C,zn(l,c)),C}),n.set(c,p)),p!==void 0){var _=a(p);return _===Ue?void 0:_}return Reflect.get(d,c,h)},getOwnPropertyDescriptor(d,c){var h=Reflect.getOwnPropertyDescriptor(d,c);if(h&&"value"in h){var p=n.get(c);p&&(h.value=a(p))}else if(h===void 0){var v=n.get(c),_=v==null?void 0:v.v;if(v!==void 0&&_!==Ue)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return h},has(d,c){var _;if(c===Pn)return!0;var h=n.get(c),p=h!==void 0&&h.v!==Ue||Reflect.has(d,c);if(h!==void 0||ue!==null&&(!p||(_=fr(d,c))!=null&&_.writable)){h===void 0&&(h=s(()=>{var g=p?kn(d[c]):Ue,m=Se(g);return F&&b(m,zn(l,c)),m}),n.set(c,h));var v=a(h);if(v===Ue)return!1}return p},set(d,c,h,p){var W;var v=n.get(c),_=c in d;if(r&&c==="length")for(var g=h;g<v.v;g+=1){var m=n.get(g+"");m!==void 0?ge(m,Ue):g in d&&(m=s(()=>Se(Ue)),n.set(g+"",m),F&&b(m,zn(l,g)))}if(v===void 0)(!_||(W=fr(d,c))!=null&&W.writable)&&(v=s(()=>Se(void 0)),F&&b(v,zn(l,c)),ge(v,kn(h)),n.set(c,v));else{_=v.v!==Ue;var C=s(()=>kn(h));ge(v,C)}var w=Reflect.getOwnPropertyDescriptor(d,c);if(w!=null&&w.set&&w.set.call(p,h),!_){if(r&&typeof c=="string"){var M=n.get("length"),T=Number(c);Number.isInteger(T)&&T>=M.v&&ge(M,T+1)}Or(i)}return!0},ownKeys(d){a(i);var c=Reflect.ownKeys(d).filter(v=>{var _=n.get(v);return _===void 0||_.v!==Ue});for(var[h,p]of n)p.v!==Ue&&!(h in d)&&c.push(h);return c},setPrototypeOf(){El()}})}function zn(e,t){return typeof t=="symbol"?`${e}[Symbol(${t.description??""})]`:rf.test(t)?`${e}.${t}`:/^\d+$/.test(t)?`${e}[${t}]`:`${e}['${t}']`}function Vn(e){try{if(e!==null&&typeof e=="object"&&Pn in e)return e[Pn]}catch{}return e}const of=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function af(e){return new Proxy(e,{get(t,n,r){var i=Reflect.get(t,n,r);return of.has(n)?function(...o){tf();var s=i.apply(this,o);return ua(),s}:i}})}function sf(){const e=Array.prototype,t=Array.__svelte_cleanup;t&&t();const{indexOf:n,lastIndexOf:r,includes:i}=e;e.indexOf=function(o,s){const l=n.call(this,o,s);if(l===-1){for(let u=s??0;u<this.length;u+=1)if(Vn(this[u])===o){Fr("array.indexOf(...)");break}}return l},e.lastIndexOf=function(o,s){const l=r.call(this,o,s??this.length-1);if(l===-1){for(let u=0;u<=(s??this.length-1);u+=1)if(Vn(this[u])===o){Fr("array.lastIndexOf(...)");break}}return l},e.includes=function(o,s){const l=i.call(this,o,s);if(!l){for(let u=0;u<this.length;u+=1)if(Vn(this[u])===o){Fr("array.includes(...)");break}}return l},Array.__svelte_cleanup=()=>{e.indexOf=n,e.lastIndexOf=r,e.includes=i}}function S(e,t,n=!0){try{e===t!=(Vn(e)===Vn(t))&&Fr(n?"===":"!==")}catch{}return e===t===n}function $r(e,t,n=!0){return e==t!=(Vn(e)==Vn(t))&&Fr(n?"==":"!="),e==t===n}var no,ro,da,ha;function lf(){if(no===void 0){no=window,ro=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;da=fr(t,"firstChild").get,ha=fr(t,"nextSibling").get,qo(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),qo(n)&&(n.__t=void 0),F&&(e.__svelte_meta=null,sf())}}function ln(e=""){return document.createTextNode(e)}function fn(e){return da.call(e)}function Gr(e){return ha.call(e)}function G(e,t){return fn(e)}function _e(e,t=!1){{var n=fn(e);return n instanceof Comment&&n.data===""?Gr(n):n}}function q(e,t=1,n=!1){let r=e;for(;t--;)r=Gr(r);return r}function ff(e){e.textContent=""}function va(){return!1}function zr(e){var t=oe,n=ue;ft(null),Ft(null);try{return e()}finally{ft(t),Ft(n)}}function uf(e){ue===null&&(oe===null&&wl(e),ml()),mr&&_l(e)}function cf(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function un(e,t,n){var r=ue;if(F)for(;r!==null&&(r.f&vi)!==0;)r=r.parent;r!==null&&(r.f&gt)!==0&&(e|=gt);var i={ctx:Le,deps:null,nodes:null,f:e|ot|Dt,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(F&&(i.component_function=Wr),n)try{Ur(i),i.f|=hi}catch(l){throw lt(i),l}else t!==null&&$n(i);var o=i;if(n&&o.deps===null&&o.teardown===null&&o.nodes===null&&o.first===o.last&&(o.f&ur)===0&&(o=o.first,(e&jt)!==0&&(e&Fn)!==0&&o!==null&&(o.f|=Fn)),o!==null&&(o.parent=r,r!==null&&cf(o,r),oe!==null&&(oe.f&$e)!==0&&(e&Rn)===0)){var s=oe;(s.effects??(s.effects=[])).push(o)}return i}function Vr(){return oe!==null&&!qt}function ga(e){const t=un(Bi,null,!1);return Xe(t,qe),t.teardown=e,t}function pa(e){uf("$effect"),F&&Dn(e,"name",{value:"$effect"});var t=ue.f,n=!oe&&(t&rn)!==0&&(t&hi)===0;if(n){var r=Le;(r.e??(r.e=[])).push(e)}else return _a(e)}function _a(e){return un(ji|ll,e,!1)}function df(e){sn.ensure();const t=un(Rn|ur,e,!0);return(n={})=>new Promise(r=>{n.outro?jn(t,()=>{lt(t),r(void 0)}):(lt(t),r(void 0))})}function hf(e){return un(ji,e,!1)}function vf(e){return un(gi|ur,e,!0)}function ma(e,t=0){return un(Bi|t,e,!0)}function B(e,t=[],n=[],r=[]){Xl(r,t,n,i=>{un(Bi,()=>e(...i.map(a)),!0)})}function io(e,t=0){var n=un(jt|t,e,!0);return F&&(n.dev_stack=an),n}function kt(e){return un(rn|ur,e,!0)}function wa(e){var t=e.teardown;if(t!==null){const n=mr,r=oe;Ma(!0),ft(null);try{t.call(null)}finally{Ma(n),ft(r)}}}function xa(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&zr(()=>{i.abort(cr)});var r=n.next;(n.f&Rn)!==0?n.parent=null:lt(n,t),n=r}}function gf(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&rn)===0&&lt(t),t=n}}function lt(e,t=!0){var n=!1;(t||(e.f&Ko)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(pf(e.nodes.start,e.nodes.end),n=!0),xa(e,t&&!n),xi(e,0),Xe(e,xn);var r=e.nodes&&e.nodes.t;if(r!==null)for(const o of r)o.stop();wa(e);var i=e.parent;i!==null&&i.first!==null&&ya(e),F&&(e.component_function=null),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function pf(e,t){for(;e!==null;){var n=e===t?null:Gr(e);e.remove(),e=n}}function ya(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function jn(e,t,n=!0){var r=[];ba(e,r,!0);var i=()=>{n&&lt(e),t&&t()},o=r.length;if(o>0){var s=()=>--o||i();for(var l of r)l.out(s)}else i()}function ba(e,t,n){if((e.f&gt)===0){e.f^=gt;var r=e.nodes&&e.nodes.t;if(r!==null)for(const l of r)(l.is_global||n)&&t.push(l);for(var i=e.first;i!==null;){var o=i.next,s=(i.f&Fn)!==0||(i.f&rn)!==0&&(e.f&jt)!==0;ba(i,t,s?n:!1),i=o}}}function oo(e){Ea(e,!0)}function Ea(e,t){if((e.f&gt)!==0){e.f^=gt,(e.f&qe)===0&&(Xe(e,ot),$n(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Fn)!==0||(n.f&rn)!==0;Ea(n,i?t:!1),n=r}var o=e.nodes&&e.nodes.t;if(o!==null)for(const s of o)(s.is_global||t)&&s.in()}}function ka(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:Gr(n);t.append(n),n=i}}let Bn=!1;function wi(e){Bn=e}let mr=!1;function Ma(e){mr=e}let oe=null,qt=!1;function ft(e){oe=e}let ue=null;function Ft(e){ue=e}let Je=null;function Ta(e){oe!==null&&(Je===null?Je=[e]:Je.push(e))}let Qe=null,pt=0,Mt=null;function _f(e){Mt=e}let Sa=1,jr=0,Un=jr;function Na(e){Un=e}function Aa(){return++Sa}function Br(e){var t=e.f;if((t&ot)!==0)return!0;if(t&$e&&(e.f&=~yn),(t&Bt)!==0){var n=e.deps;if(n!==null)for(var r=n.length,i=0;i<r;i++){var o=n[i];if(Br(o)&&la(o),o.wv>e.wv)return!0}(t&Dt)!==0&&He===null&&Xe(e,qe)}return!1}function Ca(e,t,n=!0){var r=e.reactions;if(r!==null&&!(Je!=null&&Je.includes(e)))for(var i=0;i<r.length;i++){var o=r[i];(o.f&$e)!==0?Ca(o,t,!1):t===o&&(n?Xe(o,ot):(o.f&qe)!==0&&Xe(o,Bt),$n(o))}}function ao(e){var v;var t=Qe,n=pt,r=Mt,i=oe,o=Je,s=Le,l=qt,u=Un,f=e.f;Qe=null,pt=0,Mt=null,oe=(f&(rn|Rn))===0?e:null,Je=null,dr(e.ctx),qt=!1,Un=++jr,e.ac!==null&&(zr(()=>{e.ac.abort(cr)}),e.ac=null);try{e.f|=Ui;var d=e.fn,c=d(),h=e.deps;if(Qe!==null){var p;if(xi(e,pt),h!==null&&pt>0)for(h.length=pt+Qe.length,p=0;p<Qe.length;p++)h[pt+p]=Qe[p];else e.deps=h=Qe;if(Vr()&&(e.f&Dt)!==0)for(p=pt;p<h.length;p++)((v=h[p]).reactions??(v.reactions=[])).push(e)}else h!==null&&pt<h.length&&(xi(e,pt),h.length=pt);if(na()&&Mt!==null&&!qt&&h!==null&&(e.f&($e|Bt|ot))===0)for(p=0;p<Mt.length;p++)Ca(Mt[p],e);return i!==null&&i!==e&&(jr++,Mt!==null&&(r===null?r=Mt:r.push(...Mt))),(e.f&bn)!==0&&(e.f^=bn),c}catch(_){return ra(_)}finally{e.f^=Ui,Qe=t,pt=n,Mt=r,oe=i,Je=o,dr(s),qt=l,Un=u}}function mf(e,t){let n=t.reactions;if(n!==null){var r=nl.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&$e)!==0&&(Qe===null||!Qe.includes(t))&&(Xe(t,Bt),(t.f&Dt)!==0&&(t.f^=Dt,t.f&=~yn),Ji(t),xi(t,0))}function xi(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)mf(e,n[r])}function Ur(e){var t=e.f;if((t&xn)===0){Xe(e,qe);var n=ue,r=Bn;if(ue=e,Bn=!0,F){var i=Wr;ta(e.component_function);var o=an;pi(e.dev_stack??an)}try{(t&(jt|sl))!==0?gf(e):xa(e),wa(e);var s=ao(e);e.teardown=typeof s=="function"?s:null,e.wv=Sa;var l;F&&Ll&&(e.f&ot)!==0&&e.deps}finally{Bn=r,ue=n,F&&(ta(i),pi(o))}}}function a(e){var t=e.f,n=(t&$e)!==0;if(oe!==null&&!qt){var r=ue!==null&&(ue.f&xn)!==0;if(!r&&!(Je!=null&&Je.includes(e))){var i=oe.deps;if((oe.f&Ui)!==0)e.rv<jr&&(e.rv=jr,Qe===null&&i!==null&&i[pt]===e?pt++:Qe===null?Qe=[e]:Qe.includes(e)||Qe.push(e));else{(oe.deps??(oe.deps=[])).push(e);var o=e.reactions;o===null?e.reactions=[oe]:o.includes(oe)||o.push(oe)}}}if(F&&Zl.delete(e),mr){if(En.has(e))return En.get(e);if(n){var s=e,l=s.v;return((s.f&qe)===0&&s.reactions!==null||Ia(s))&&(l=eo(s)),En.set(s,l),l}}else n&&(!(He!=null&&He.has(e))||pe!=null&&pe.is_fork&&!Vr())&&(s=e,Br(s)&&la(s),Bn&&Vr()&&(s.f&Dt)===0&&Ha(s));if(He!=null&&He.has(e))return He.get(e);if((e.f&bn)!==0)throw e.v;return e.v}function Ha(e){if(e.deps!==null){e.f^=Dt;for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),(t.f&$e)!==0&&(t.f&Dt)===0&&Ha(t)}}function Ia(e){if(e.v===Ue)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(En.has(t)||(t.f&$e)!==0&&Ia(t))return!0;return!1}function so(e){var t=qt;try{return qt=!0,e()}finally{qt=t}}const wf=-7169;function Xe(e,t){e.f=e.f&wf|t}const La=new Set,lo=new Set;function xf(e,t,n,r={}){function i(o){if(r.capture||qr.call(t,o),!o.cancelBubble)return zr(()=>n==null?void 0:n.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?vr(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function qn(e,t,n,r,i){var o={capture:r,passive:i},s=xf(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ga(()=>{t.removeEventListener(e,s,o)})}function yi(e){for(var t=0;t<e.length;t++)La.add(e[t]);for(var n of lo)n(e)}let Da=null;function qr(e){var g;var t=this,n=t.ownerDocument,r=e.type,i=((g=e.composedPath)==null?void 0:g.call(e))||[],o=i[0]||e.target;Da=e;var s=0,l=Da===e&&e.__root;if(l){var u=i.indexOf(l);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var f=i.indexOf(t);if(f===-1)return;u<=f&&(s=u)}if(o=i[s]||e.target,o!==t){Dn(e,"currentTarget",{configurable:!0,get(){return o||n}});var d=oe,c=ue;ft(null),Ft(null);try{for(var h,p=[];o!==null;){var v=o.assignedSlot||o.parentNode||o.host||null;try{var _=o["__"+r];_!=null&&(!o.disabled||e.target===o)&&_.call(o,e)}catch(m){h?p.push(m):h=m}if(e.cancelBubble||v===t||v===null)break;o=v}if(h){for(let m of p)queueMicrotask(()=>{throw m});throw h}}finally{e.__root=t,delete e.currentTarget,ft(d),Ft(c)}}}function yf(e,t,n,r,i,o=!1,s=!1){var f,d;let l,u;try{l=e()}catch(c){u=c}if(typeof l!="function"&&(o||l!=null||u)){const c=r==null?void 0:r[I],h=i?` at ${c}:${i[0]}:${i[1]}`:` in ${c}`,p=((f=n[0])==null?void 0:f.eventPhase)<Event.BUBBLING_PHASE?"capture":"",_=`\`${((d=n[0])==null?void 0:d.type)+p}\` handler${h}`;if(Sl(_,s?"remove the trailing `()`":"add a leading `() =>`"),u)throw u}l==null||l.apply(t,n)}function Ra(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function wr(e,t){var n=ue;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function Z(e,t){var n=(t&1)!==0,r=(t&2)!==0,i,o=!e.startsWith("<!>");return()=>{i===void 0&&(i=Ra(o?e:"<!>"+e),n||(i=fn(i)));var s=r||ro?document.importNode(i,!0):i.cloneNode(!0);if(n){var l=fn(s),u=s.lastChild;wr(l,u)}else wr(s,s);return s}}function bf(e,t,n="svg"){var r=!e.startsWith("<!>"),i=(t&1)!==0,o=`<${n}>${r?e:"<!>"+e}</${n}>`,s;return()=>{if(!s){var l=Ra(o),u=fn(l);if(i)for(s=document.createDocumentFragment();fn(u);)s.appendChild(fn(u));else s=fn(u)}var f=s.cloneNode(!0);if(i){var d=fn(f),c=f.lastChild;wr(d,c)}else wr(f,f);return f}}function Ie(e,t){return bf(e,t,"svg")}function xr(e=""){{var t=ln(e+"");return wr(t,t),t}}function ke(){var e=document.createDocumentFragment(),t=document.createComment(""),n=ln();return e.append(t,n),wr(t,n),e}function k(e,t){e!==null&&e.before(t)}const Ef=["touchstart","touchmove"];function kf(e){return Ef.includes(e)}let fo=!0;function ce(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Mf(e,t){return Tf(e,t)}const yr=new Map;function Tf(e,{target:t,anchor:n,props:r={},events:i,context:o,intro:s=!0}){lf();var l=new Set,u=c=>{for(var h=0;h<c.length;h++){var p=c[h];if(!l.has(p)){l.add(p);var v=kf(p);t.addEventListener(p,qr,{passive:v});var _=yr.get(p);_===void 0?(document.addEventListener(p,qr,{passive:v}),yr.set(p,1)):yr.set(p,_+1)}}};u(ci(La)),lo.add(u);var f=void 0,d=df(()=>{var c=n??t.appendChild(ln());return Ul(c,{pending:()=>{}},h=>{if(o){at({});var p=Le;p.c=o}i&&(r.$$events=i),fo=s,f=e(h,r)||{},fo=!0,o&&st()}),()=>{var v;for(var h of l){t.removeEventListener(h,qr);var p=yr.get(h);--p===0?(document.removeEventListener(h,qr),yr.delete(h)):yr.set(h,p)}lo.delete(u),c!==n&&((v=c.parentNode)==null||v.removeChild(c))}});return uo.set(f,d),f}let uo=new WeakMap;function Sf(e,t){const n=uo.get(e);return n?(uo.delete(e),n(t)):(F&&(Pn in e?Al():Nl()),Promise.resolve())}class Nf{constructor(t,n=!0){nn(this,"anchor");le(this,Ot,new Map);le(this,Jt,new Map);le(this,wt,new Map);le(this,sr,new Set);le(this,ii,!0);le(this,oi,()=>{var t=pe;if(x(this,Ot).has(t)){var n=x(this,Ot).get(t),r=x(this,Jt).get(n);if(r)oo(r),x(this,sr).delete(n);else{var i=x(this,wt).get(n);i&&(x(this,Jt).set(n,i.effect),x(this,wt).delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[o,s]of x(this,Ot)){if(x(this,Ot).delete(o),o===t)break;const l=x(this,wt).get(s);l&&(lt(l.effect),x(this,wt).delete(s))}for(const[o,s]of x(this,Jt)){if(o===n||x(this,sr).has(o))continue;const l=()=>{if(Array.from(x(this,Ot).values()).includes(o)){var f=document.createDocumentFragment();ka(s,f),f.append(ln()),x(this,wt).set(o,{effect:s,fragment:f})}else lt(s);x(this,sr).delete(o),x(this,Jt).delete(o)};x(this,ii)||!r?(x(this,sr).add(o),jn(s,l,!1)):l()}}});le(this,Oi,t=>{x(this,Ot).delete(t);const n=Array.from(x(this,Ot).values());for(const[r,i]of x(this,wt))n.includes(r)||(lt(i.effect),x(this,wt).delete(r))});this.anchor=t,Q(this,ii,n)}ensure(t,n){var r=pe,i=va();if(n&&!x(this,Jt).has(t)&&!x(this,wt).has(t))if(i){var o=document.createDocumentFragment(),s=ln();o.append(s),x(this,wt).set(t,{effect:kt(()=>n(s)),fragment:o})}else x(this,Jt).set(t,kt(()=>n(this.anchor)));if(x(this,Ot).set(r,t),i){for(const[l,u]of x(this,Jt))l===t?r.skipped_effects.delete(u):r.skipped_effects.add(u);for(const[l,u]of x(this,wt))l===t?r.skipped_effects.delete(u.effect):r.skipped_effects.add(u.effect);r.oncommit(x(this,oi)),r.ondiscard(x(this,Oi))}else x(this,oi).call(this)}}if(Ot=new WeakMap,Jt=new WeakMap,wt=new WeakMap,sr=new WeakMap,ii=new WeakMap,oi=new WeakMap,Oi=new WeakMap,F){let e=function(t){if(!(t in globalThis)){let n;Object.defineProperty(globalThis,t,{configurable:!0,get:()=>{if(n!==void 0)return n;yl(t)},set:r=>{n=r}})}};e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}function $(e,t,n){return(...r)=>{const i=e(...r);var o=i.nodeType===cl?i.firstChild:i;return Fa(o,t,n),i}}function Af(e,t,n){e.__svelte_meta={parent:an,loc:{file:t,line:n[0],column:n[1]}},n[2]&&Fa(e.firstChild,t,n[2])}function Fa(e,t,n){for(var r=0;e&&r<n.length;)e.nodeType===ul&&Af(e,t,n[r++]),e=e.nextSibling}function _t(e){e&&vl(e[I]??"a component",e.name)}function mt(){const e=Le==null?void 0:Le.function;function t(n){hl(n,e[I])}return{$destroy:()=>t("$destroy()"),$on:()=>t("$on(...)"),$set:()=>t("$set(...)")}}function j(e,t,n=!1){var r=new Nf(e),i=n?Fn:0;function o(s,l){r.ensure(s,l)}io(()=>{var s=!1;t((l,u=!0)=>{s=!0,o(u,l)}),s||o(!1,null)},i)}function Pa(e,t){return t}function Cf(e,t,n){for(var r=[],i=t.length,o,s=t.length,l=0;l<i;l++){let c=t[l];jn(c,()=>{if(o){if(o.pending.delete(c),o.done.add(c),o.pending.size===0){var h=e.outrogroups;co(ci(o.done)),h.delete(o),h.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var u=r.length===0&&n!==null;if(u){var f=n,d=f.parentNode;ff(d),d.append(f),e.items.clear()}co(t,!u)}else o={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(o)}function co(e,t=!0){for(var n=0;n<e.length;n++)lt(e[n],t)}var Wa;function Ye(e,t,n,r,i,o=null){var s=e,l=new Map,u=(t&4)!==0;if(u){var f=e;s=f.appendChild(ln())}var d=null,c=Ql(()=>{var m=n();return ui(m)?m:m==null?[]:ci(m)}),h,p=!0;function v(){g.fallback=d,Hf(g,h,s,t,r),d!==null&&(h.length===0?(d.f&on)===0?oo(d):(d.f^=on,Xr(d,null,s)):jn(d,()=>{d=null}))}var _=io(()=>{h=a(c);for(var m=h.length,C=new Set,w=pe,M=va(),T=0;T<m;T+=1){var W=h[T],V=r(W,T),H=p?null:l.get(V);H?(H.v&&_r(H.v,W),H.i&&_r(H.i,T),M&&w.skipped_effects.delete(H.e)):(H=If(l,p?s:Wa??(Wa=ln()),W,V,T,i,t,n),p||(H.e.f|=on),l.set(V,H)),C.add(V)}if(m===0&&o&&!d&&(p?d=kt(()=>o(s)):(d=kt(()=>o(Wa??(Wa=ln()))),d.f|=on)),!p)if(M){for(const[L,U]of l)C.has(L)||w.skipped_effects.add(U.e);w.oncommit(v),w.ondiscard(()=>{})}else v();a(c)}),g={effect:_,items:l,outrogroups:null,fallback:d};p=!1}function Hf(e,t,n,r,i){var U,R,te,X,ee,Y,K,ae,me;var o=(r&8)!==0,s=t.length,l=e.items,u=e.effect.first,f,d=null,c,h=[],p=[],v,_,g,m;if(o)for(m=0;m<s;m+=1)v=t[m],_=i(v,m),g=l.get(_).e,(g.f&on)===0&&((R=(U=g.nodes)==null?void 0:U.a)==null||R.measure(),(c??(c=new Set)).add(g));for(m=0;m<s;m+=1){if(v=t[m],_=i(v,m),g=l.get(_).e,e.outrogroups!==null)for(const ne of e.outrogroups)ne.pending.delete(g),ne.done.delete(g);if((g.f&on)!==0)if(g.f^=on,g===u)Xr(g,null,n);else{var C=d?d.next:u;g===e.effect.last&&(e.effect.last=g.prev),g.prev&&(g.prev.next=g.next),g.next&&(g.next.prev=g.prev),Mn(e,d,g),Mn(e,g,C),Xr(g,C,n),d=g,h=[],p=[],u=d.next;continue}if((g.f&gt)!==0&&(oo(g),o&&((X=(te=g.nodes)==null?void 0:te.a)==null||X.unfix(),(c??(c=new Set)).delete(g))),g!==u){if(f!==void 0&&f.has(g)){if(h.length<p.length){var w=p[0],M;d=w.prev;var T=h[0],W=h[h.length-1];for(M=0;M<h.length;M+=1)Xr(h[M],w,n);for(M=0;M<p.length;M+=1)f.delete(p[M]);Mn(e,T.prev,W.next),Mn(e,d,T),Mn(e,W,w),u=w,d=W,m-=1,h=[],p=[]}else f.delete(g),Xr(g,u,n),Mn(e,g.prev,g.next),Mn(e,g,d===null?e.effect.first:d.next),Mn(e,d,g),d=g;continue}for(h=[],p=[];u!==null&&u!==g;)(f??(f=new Set)).add(u),p.push(u),u=u.next;if(u===null)continue}(g.f&on)===0&&h.push(g),d=g,u=g.next}if(e.outrogroups!==null){for(const ne of e.outrogroups)ne.pending.size===0&&(co(ci(ne.done)),(ee=e.outrogroups)==null||ee.delete(ne));e.outrogroups.size===0&&(e.outrogroups=null)}if(u!==null||f!==void 0){var V=[];if(f!==void 0)for(g of f)(g.f&gt)===0&&V.push(g);for(;u!==null;)(u.f&gt)===0&&u!==e.fallback&&V.push(u),u=u.next;var H=V.length;if(H>0){var L=(r&4)!==0&&s===0?n:null;if(o){for(m=0;m<H;m+=1)(K=(Y=V[m].nodes)==null?void 0:Y.a)==null||K.measure();for(m=0;m<H;m+=1)(me=(ae=V[m].nodes)==null?void 0:ae.a)==null||me.fix()}Cf(e,V,L)}}o&&vr(()=>{var ne,Me;if(c!==void 0)for(g of c)(Me=(ne=g.nodes)==null?void 0:ne.a)==null||Me.apply()})}function If(e,t,n,r,i,o,s,l){var u=(s&1)!==0?(s&16)===0?nf(n,!1,!1):Gn(n):null,f=(s&2)!==0?Gn(i):null;return F&&u&&(u.trace=()=>{l()[(f==null?void 0:f.v)??i]}),{v:u,i:f,e:kt(()=>(o(t,u??n,f??i,l),()=>{e.delete(r)}))}}function Xr(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,o=t&&(t.f&on)===0?t.nodes.start:n;r!==null;){var s=Gr(r);if(o.before(r),r===i)return;r=s}}function Mn(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}const Lf=()=>performance.now(),cn={tick:e=>requestAnimationFrame(e),now:()=>Lf(),tasks:new Set};function Oa(){const e=cn.now();cn.tasks.forEach(t=>{t.c(e)||(cn.tasks.delete(t),t.f())}),cn.tasks.size!==0&&cn.tick(Oa)}function Df(e){let t;return cn.tasks.size===0&&cn.tick(Oa),{promise:new Promise(n=>{cn.tasks.add(t={c:e,f:n})}),abort(){cn.tasks.delete(t)}}}function bi(e,t){zr(()=>{e.dispatchEvent(new CustomEvent(t))})}function Rf(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function $a(e){const t={},n=e.split(";");for(const r of n){const[i,o]=r.split(":");if(!i||o===void 0)break;const s=Rf(i.trim());t[s]=o.trim()}return t}const Ff=e=>e;function Ei(e,t,n,r){var g;var i=(e&4)!==0,o="both",s,l=t.inert,u=t.style.overflow,f,d;function c(){return zr(()=>s??(s=n()(t,(r==null?void 0:r())??{},{direction:o})))}var h={is_global:i,in(){t.inert=l,bi(t,"introstart"),f=ho(t,c(),d,1,()=>{bi(t,"introend"),f==null||f.abort(),f=s=void 0,t.style.overflow=u})},out(m){t.inert=!0,bi(t,"outrostart"),d=ho(t,c(),f,0,()=>{bi(t,"outroend"),m==null||m()})},stop:()=>{f==null||f.abort(),d==null||d.abort()}},p=ue;if(((g=p.nodes).t??(g.t=[])).push(h),fo){var v=i;if(!v){for(var _=p.parent;_&&(_.f&Fn)!==0;)for(;(_=_.parent)&&(_.f&jt)===0;);v=!_||(_.f&hi)!==0}v&&hf(()=>{so(()=>h.in())})}}function ho(e,t,n,r,i){var o=r===1;if(ol(t)){var s,l=!1;return vr(()=>{if(!l){var g=t({direction:o?"in":"out"});s=ho(e,g,n,r,i)}}),{abort:()=>{l=!0,s==null||s.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(n==null||n.deactivate(),!(t!=null&&t.duration))return i(),{abort:Rr,deactivate:Rr,reset:Rr,t:()=>r};const{delay:u=0,css:f,tick:d,easing:c=Ff}=t;var h=[];if(o&&n===void 0&&(d&&d(0,1),f)){var p=$a(f(0,1));h.push(p,p)}var v=()=>1-r,_=e.animate(h,{duration:u,fill:"forwards"});return _.onfinish=()=>{_.cancel();var g=(n==null?void 0:n.t())??1-r;n==null||n.abort();var m=r-g,C=t.duration*Math.abs(m),w=[];if(C>0){var M=!1;if(f)for(var T=Math.ceil(C/16.666666666666668),W=0;W<=T;W+=1){var V=g+m*c(W/T),H=$a(f(V,1-V));w.push(H),M||(M=H.overflow==="hidden")}M&&(e.style.overflow="hidden"),v=()=>{var L=_.currentTime;return g+m*c(L/C)},d&&Df(()=>{if(_.playState!=="running")return!1;var L=v();return d(L,1-L),!0})}_=e.animate(w,{duration:C,fill:"forwards"}),_.onfinish=()=>{v=()=>r,d==null||d(r,1-r),i()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=Rr)},deactivate:()=>{i=Rr},reset:()=>{r===0&&(d==null||d(1,0))},t:()=>v()}}const Ga=[...` 	
\r\f \v\uFEFF`];function Pf(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var o=i.length,s=0;(s=r.indexOf(i,s))>=0;){var l=s+o;(s===0||Ga.includes(r[s-1]))&&(l===r.length||Ga.includes(r[l]))?r=(s===0?"":r.substring(0,s))+r.substring(l+1):s=l}}return r===""?null:r}function za(e,t=!1){var n=t?" !important;":";",r="";for(var i in e){var o=e[i];o!=null&&o!==""&&(r+=" "+i+": "+o+n)}return r}function vo(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Wf(e,t){if(t){var n="",r,i;if(Array.isArray(t)?(r=t[0],i=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var o=!1,s=0,l=!1,u=[];r&&u.push(...Object.keys(r).map(vo)),i&&u.push(...Object.keys(i).map(vo));var f=0,d=-1;const _=e.length;for(var c=0;c<_;c++){var h=e[c];if(l?h==="/"&&e[c-1]==="*"&&(l=!1):o?o===h&&(o=!1):h==="/"&&e[c+1]==="*"?l=!0:h==='"'||h==="'"?o=h:h==="("?s++:h===")"&&s--,!l&&o===!1&&s===0){if(h===":"&&d===-1)d=c;else if(h===";"||c===_-1){if(d!==-1){var p=vo(e.substring(f,d).trim());if(!u.includes(p)){h!==";"&&c++;var v=e.substring(f,c).trim();n+=" "+v+";"}}f=c+1,d=-1}}}}return r&&(n+=za(r)),i&&(n+=za(i,!0)),n=n.trim(),n===""?null:n}return e==null?null:String(e)}function Yr(e,t,n,r,i,o){var s=e.__className;if(s!==n||s===void 0){var l=Pf(n,r,o);l==null?e.removeAttribute("class"):t?e.className=l:e.setAttribute("class",l),e.__className=n}else if(o&&i!==o)for(var u in o){var f=!!o[u];(i==null||f!==!!i[u])&&e.classList.toggle(u,f)}return o}function go(e,t={},n,r){for(var i in n){var o=n[i];t[i]!==o&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,o,r))}}function Ge(e,t,n,r){var i=e.__style;if(i!==t){var o=Wf(t,r);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}else r&&(Array.isArray(r)?(go(e,n==null?void 0:n[0],r[0]),go(e,n==null?void 0:n[1],r[1],"important")):go(e,n,r));return r}const Of=Symbol("is custom element"),$f=Symbol("is html");function N(e,t,n,r){var i=Gf(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[fl]=n),n==null?e.removeAttribute(t):typeof n!="string"&&zf(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Gf(e){return e.__attributes??(e.__attributes={[Of]:e.nodeName.includes("-"),[$f]:e.namespaceURI===tl})}var Va=new Map;function zf(e){var t=e.getAttribute("is")||e.nodeName,n=Va.get(t);if(n)return n;Va.set(t,n=[]);for(var r,i=e,o=Element.prototype;o!==i;){r=rl(i);for(var s in r)r[s].set&&n.push(s);i=Vi(i)}return n}function Xn(e,t,n,r){var i=r,o=!0,s=()=>(o&&(o=!1,i=r),i),l;l=e[t],l===void 0&&r!==void 0&&(l=s());var u;return u=()=>{var f=e[t];return f===void 0?s():(o=!0,f)},u}function ut(e,t){ma(()=>{const n=new Map,r=e(),i=ui(r)?r:r==null?[]:Array.from(r),o=i.length;for(let s=0;s<o;s++){const l=t(i[s],s);if(n.has(l)){const u=String(n.get(l)),f=String(s);let d=String(l);d.startsWith("[object ")&&(d=null),pl(u,f,d)}n.set(l,s)}})}function ja(e,...t){return so(()=>{try{let n=!1;const r=[];for(const i of t)i&&typeof i=="object"&&Pn in i?(r.push(Pl(i,!0)),n=!0):r.push(i);n&&(Tl(e),console.log("%c[snapshot]","color: grey",...r))}catch{}}),t}const Vf="5";typeof window<"u"&&((Zs=window.__svelte??(window.__svelte={})).v??(Zs.v=new Set)).add(Vf);function jf(e){const t=e-1;return t*t*t+1}var po=!1;function ki(e,{delay:t=0,duration:n=400,easing:r=jf,axis:i="y"}={}){const o=getComputedStyle(e);F&&!po&&/(contents|inline|table)/.test(o.display)&&(po=!0,Promise.resolve().then(()=>po=!1),Hl(o.display));const s=+o.opacity,l=i==="y"?"height":"width",u=parseFloat(o[l]),f=i==="y"?["top","bottom"]:["left","right"],d=f.map(m=>`${m[0].toUpperCase()}${m.slice(1)}`),c=parseFloat(o[`padding${d[0]}`]),h=parseFloat(o[`padding${d[1]}`]),p=parseFloat(o[`margin${d[0]}`]),v=parseFloat(o[`margin${d[1]}`]),_=parseFloat(o[`border${d[0]}Width`]),g=parseFloat(o[`border${d[1]}Width`]);return{delay:t,duration:n,easing:r,css:m=>`overflow: hidden;opacity: ${Math.min(m*20,1)*s};${l}: ${m*u}px;padding-${f[0]}: ${m*c}px;padding-${f[1]}: ${m*h}px;margin-${f[0]}: ${m*p}px;margin-${f[1]}: ${m*v}px;border-${f[0]}-width: ${m*_}px;border-${f[1]}-width: ${m*g}px;min-${l}: 0`}}br[I]="src/components/forest/RowInterval.svelte";var Bf=$(Ie('<g class="interval-row svelte-1wct561" role="button" tabindex="0"><line stroke="var(--wf-ci-line, #475569)"></line><line stroke="var(--wf-ci-line, #475569)"></line><line stroke="var(--wf-ci-line, #475569)"></line><rect class="point-estimate svelte-1wct561"></rect></g>'),br[I],[[62,2,[[72,4],[82,4],[90,4],[100,4]]]]);function br(e,t){_t(new.target),at(t,!0,br);const n=b(E(()=>$r(t.row.point,null,!1)&&!Number.isNaN(t.row.point)&&$r(t.row.lower,null,!1)&&!Number.isNaN(t.row.lower)&&$r(t.row.upper,null,!1)&&!Number.isNaN(t.row.upper)),"hasValidValues"),r=b(E(()=>a(n)?t.xScale(t.row.lower):0),"x1"),i=b(E(()=>a(n)?t.xScale(t.row.upper):0),"x2"),o=b(E(()=>a(n)?t.xScale(t.row.point):0),"cx"),s=b(E(()=>{var v;const h=((v=t.theme)==null?void 0:v.shapes.pointSize)??6,p=t.row.metadata.weight;if(p){const _=.5+Math.sqrt(p/100)*1.5;return Math.min(Math.max(h*_,3),h*2.5)}return h}),"pointSize"),l=b(E(()=>{if(!t.theme)return"#2563eb";const h=t.layout.nullValue;return t.row.point>h?t.theme.colors.intervalPositive:t.row.point<h?t.theme.colors.intervalNegative:t.theme.colors.muted}),"pointColor");var u={...mt()},f=ke(),d=_e(f);{var c=h=>{var p=Bf();p.__click=function(...C){yf(()=>t.onRowClick,this,C,br,[66,13])},p.__keydown=C=>{var w;return S(C.key,"Enter")&&((w=t.onRowClick)==null?void 0:w.call(t))};var v=G(p),_=q(v),g=q(_),m=q(g);B(()=>{var C,w,M;N(v,"x1",a(r)),N(v,"x2",a(i)),N(v,"y1",t.yPosition),N(v,"y2",t.yPosition),N(v,"stroke-width",((C=t.theme)==null?void 0:C.shapes.lineWidth)??1.5),N(_,"x1",a(r)),N(_,"x2",a(r)),N(_,"y1",t.yPosition-4),N(_,"y2",t.yPosition+4),N(_,"stroke-width",((w=t.theme)==null?void 0:w.shapes.lineWidth)??1.5),N(g,"x1",a(i)),N(g,"x2",a(i)),N(g,"y1",t.yPosition-4),N(g,"y2",t.yPosition+4),N(g,"stroke-width",((M=t.theme)==null?void 0:M.shapes.lineWidth)??1.5),N(m,"x",a(o)-a(s)),N(m,"y",t.yPosition-a(s)),N(m,"width",a(s)*2),N(m,"height",a(s)*2),N(m,"fill",a(l))}),qn("mouseenter",p,C=>{var w;return(w=t.onRowHover)==null?void 0:w.call(t,!0,C)}),qn("mouseleave",p,C=>{var w;return(w=t.onRowHover)==null?void 0:w.call(t,!1,C)}),k(h,p)};A(()=>j(d,h=>{a(n)&&h(c)}),"if",br,61,0)}return k(e,f),st(u)}yi(["click","keydown"]),Pt[I]="src/components/forest/EffectAxis.svelte";function Uf(e){return Math.abs(e)<.01?"0":Math.abs(e)>=100?e.toFixed(0):Math.abs(e)>=10?e.toFixed(1):e.toFixed(2)}var qf=$(Ie('<line stroke="var(--wf-border, #e2e8f0)" stroke-width="1" opacity="0.5"></line>'),Pt[I],[[77,6]]),Xf=$(Ie('<g><line stroke="var(--wf-border, #e2e8f0)" stroke-width="1"></line><text text-anchor="middle" fill="var(--wf-secondary, #64748b)" font-size="var(--wf-font-size-sm, 0.75rem)" class="svelte-hf6bj6"> </text></g>'),Pt[I],[[92,4,[[93,6],[99,6]]]]),Yf=$(Ie('<text text-anchor="middle" fill="var(--wf-secondary, #64748b)" font-size="var(--wf-font-size-sm, 0.75rem)" font-weight="500" class="svelte-hf6bj6"> </text>'),Pt[I],[[112,4]]),Kf=$(Ie('<g class="effect-axis svelte-hf6bj6"><line stroke="var(--wf-border, #e2e8f0)" stroke-width="1"></line><!><!><!></g>'),Pt[I],[[63,0,[[65,2]]]]);function Pt(e,t){_t(new.target),at(t,!0,Pt);let n=Xn(t,"position",3,"bottom"),r=Xn(t,"plotHeight",3,0);const i=b(E(()=>{var w;return(w=t.theme)==null?void 0:w.axis}),"axisConfig"),o=b(E(()=>{var w;return((w=a(i))==null?void 0:w.gridlines)??!1}),"showGridlines"),s=b(E(()=>{var w;return((w=a(i))==null?void 0:w.gridlineStyle)??"dotted"}),"gridlineStyle"),l=b(E(()=>{var U,R;if((U=a(i))!=null&&U.tickValues&&a(i).tickValues.length>0)return a(i).tickValues;const w=50,M=Math.max(2,Math.floor(t.layout.forestWidth/w)),W=((R=a(i))==null?void 0:R.tickCount)??null??Math.min(7,M),V=t.xScale.ticks(W),H=[];let L=-1/0;for(const te of V){const X=t.xScale(te);X-L>=w&&(H.push(te),L=X)}return H}),"ticks"),u=b(E(()=>S(n(),"bottom")?0:t.layout.headerHeight-8),"axisY"),f=b(E(()=>S(n(),"bottom")),"isBottom"),d=b(E(()=>S(a(s),"dashed")?"4,4":S(a(s),"dotted")?"2,2":"none"),"gridlineDashArray");var c={...mt()},h=Kf(),p=G(h);N(p,"x1",0);var v=q(p);{var _=w=>{var M=ke(),T=_e(M);ut(()=>a(l),W=>W),A(()=>Ye(T,16,()=>a(l),W=>W,(W,V)=>{var H=qf();B((L,U)=>{N(H,"x1",L),N(H,"x2",U),N(H,"y1",(a(f),a(u))),N(H,"y2",a(f)?-r():r()),N(H,"stroke-dasharray",a(d))},[()=>t.xScale(V),()=>t.xScale(V)]),k(W,H)}),"each",Pt,76,4),k(w,M)};A(()=>j(v,w=>{a(o)&&r()>0&&w(_)}),"if",Pt,75,2)}var g=q(v);ut(()=>a(l),w=>w),A(()=>Ye(g,16,()=>a(l),w=>w,(w,M)=>{var T=Xf(),W=G(T),V=q(W),H=G(V,!0);B((L,U)=>{N(T,"transform",`translate(${L??""}, 0)`),N(W,"y1",a(f)?a(u):a(u)-4),N(W,"y2",a(f)?a(u)+4:a(u)),N(V,"y",a(f)?a(u)+16:a(u)-8),ce(H,U)},[()=>t.xScale(M),()=>Uf(M)]),k(w,T)}),"each",Pt,91,2);var m=q(g);{var C=w=>{var M=Yf(),T=G(M);B(()=>{N(M,"x",t.layout.forestWidth/2),N(M,"y",a(f)?a(u)+28:a(u)-24),ce(T,t.axisLabel)}),k(w,M)};A(()=>j(m,w=>{t.axisLabel&&w(C)}),"if",Pt,111,2)}return B(()=>{N(p,"x2",t.layout.forestWidth),N(p,"y1",a(u)),N(p,"y2",a(u))}),k(e,h),st(c)}Tn[I]="src/components/forest/SummaryDiamond.svelte";var Zf=$(Ie('<path fill="var(--wf-summary-fill, #2563eb)"></path>'),Tn[I],[[58,4]]),Jf=$(Ie('<path fill="var(--wf-summary-fill, #2563eb)"></path>'),Tn[I],[[66,4]]),Qf=$(Ie('<g class="summary-diamond svelte-1g0hzau"><polygon fill="var(--wf-summary-fill, #2563eb)" stroke="var(--wf-summary-border, #1d4ed8)" stroke-width="1" class="svelte-1g0hzau"></polygon><!><!></g>'),Tn[I],[[47,0,[[49,2]]]]);function Tn(e,t){_t(new.target),at(t,!0,Tn);const n=b(E(()=>{var v;return((v=t.theme)==null?void 0:v.shapes.summaryHeight)??10}),"diamondHeight"),r=b(E(()=>a(n)/2),"halfHeight"),i=b(E(()=>{const v=t.xScale(t.lower),_=t.xScale(t.point),g=t.xScale(t.upper),m=0,C=t.layout.forestWidth,w=Math.max(m,v),M=Math.min(C,g);return[[w,t.yPosition].join(","),[_,t.yPosition-a(r)].join(","),[M,t.yPosition].join(","),[_,t.yPosition+a(r)].join(",")].join(" ")}),"points"),o=b(E(()=>t.xScale(t.lower)<0),"clippedLeft"),s=b(E(()=>t.xScale(t.upper)>t.layout.forestWidth),"clippedRight");var l={...mt()},u=Qf(),f=G(u),d=q(f);{var c=v=>{var _=Zf();B(()=>N(_,"d",`M 4 ${t.yPosition??""} L 10 ${t.yPosition-4} L 10 ${t.yPosition+4} Z`)),k(v,_)};A(()=>j(d,v=>{a(o)&&v(c)}),"if",Tn,57,2)}var h=q(d);{var p=v=>{var _=Jf();B(()=>N(_,"d",`M ${t.layout.forestWidth-4} ${t.yPosition??""} L ${t.layout.forestWidth-10} ${t.yPosition-4} L ${t.layout.forestWidth-10} ${t.yPosition+4} Z`)),k(v,_)};A(()=>j(h,v=>{a(s)&&v(p)}),"if",Tn,65,2)}return B(()=>N(f,"points",a(i))),k(e,u),st(l)}dn[I]="src/components/forest/PlotHeader.svelte";var eu=$(Z('<h2 class="plot-title svelte-xpghc"> </h2>'),dn[I],[[13,6]]),tu=$(Z('<p class="plot-subtitle svelte-xpghc"> </p>'),dn[I],[[16,6]]),nu=$(Z('<div class="plot-header svelte-xpghc"><!> <!></div>'),dn[I],[[11,2]]);function dn(e,t){_t(new.target),at(t,!0,dn);var n={...mt()},r=ke(),i=_e(r);{var o=s=>{var l=nu(),u=G(l);{var f=h=>{var p=eu(),v=G(p);B(()=>ce(v,t.title)),k(h,p)};A(()=>j(u,h=>{t.title&&h(f)}),"if",dn,12,4)}var d=q(u,2);{var c=h=>{var p=tu(),v=G(p);B(()=>ce(v,t.subtitle)),k(h,p)};A(()=>j(d,h=>{t.subtitle&&h(c)}),"if",dn,15,4)}k(s,l)};A(()=>j(i,s=>{(t.title||t.subtitle)&&s(o)}),"if",dn,10,0)}return k(e,r),st(n)}hn[I]="src/components/forest/PlotFooter.svelte";var ru=$(Z('<p class="plot-caption svelte-7xjsde"> </p>'),hn[I],[[13,6]]),iu=$(Z('<p class="plot-footnote svelte-7xjsde"> </p>'),hn[I],[[16,6]]),ou=$(Z('<div class="plot-footer svelte-7xjsde"><!> <!></div>'),hn[I],[[11,2]]);function hn(e,t){_t(new.target),at(t,!0,hn);var n={...mt()},r=ke(),i=_e(r);{var o=s=>{var l=ou(),u=G(l);{var f=h=>{var p=ru(),v=G(p);B(()=>ce(v,t.caption)),k(h,p)};A(()=>j(u,h=>{t.caption&&h(f)}),"if",hn,12,4)}var d=q(u,2);{var c=h=>{var p=iu(),v=G(p);B(()=>ce(v,t.footnote)),k(h,p)};A(()=>j(d,h=>{t.footnote&&h(c)}),"if",hn,15,4)}k(s,l)};A(()=>j(i,s=>{(t.caption||t.footnote)&&s(o)}),"if",hn,10,0)}return k(e,r),st(n)}fe[I]="src/components/table/ColumnHeaders.svelte";var au=$(Z('<div class="resize-handle svelte-e51xkr"></div>'),fe[I],[[128,10]]),su=$(Z('<div class="webforest-label-col header-cell group-row svelte-e51xkr"><span class="header-text svelte-e51xkr"> </span> <!></div>'),fe[I],[[120,6,[[125,8]]]]),lu=$(Z('<div class="webforest-col header-cell group-header group-row svelte-e51xkr"> </div>'),fe[I],[[137,8]]),fu=$(Z('<div class="resize-handle svelte-e51xkr"></div>'),fe[I],[[152,12]]),uu=$(Z('<div class="webforest-col header-cell group-row svelte-e51xkr"><span class="header-text svelte-e51xkr"> </span> <!></div>'),fe[I],[[144,8,[[149,10]]]]),cu=$(Z('<div class="resize-handle svelte-e51xkr"></div>'),fe[I],[[173,16]]),du=$(Z('<div class="webforest-col header-cell column-row svelte-e51xkr"><span class="header-text svelte-e51xkr"> </span> <!></div>'),fe[I],[[166,12,[[170,14]]]]),hu=$(Z('<div class="webforest-header-grid svelte-e51xkr"><!> <!> <!></div>'),fe[I],[[117,2]]),vu=$(Z('<div class="resize-handle svelte-e51xkr"></div>'),fe[I],[[196,10]]),gu=$(Z('<div class="webforest-label-col svelte-e51xkr"><span class="header-text svelte-e51xkr"> </span> <!></div>'),fe[I],[[188,6,[[193,8]]]]),pu=$(Z('<div class="resize-handle svelte-e51xkr"></div>'),fe[I],[[212,10]]),_u=$(Z('<div class="webforest-col svelte-e51xkr"><span class="header-text svelte-e51xkr"> </span> <!></div>'),fe[I],[[204,6,[[209,8]]]]),mu=$(Z('<div class="webforest-table-header svelte-e51xkr"><!> <!></div>'),fe[I],[[186,2]]);function fe(e,t){_t(new.target),at(t,!0,fe);let n=Xn(t,"showLabel",3,!1),r=Xn(t,"labelHeader",3,"Label"),i=Xn(t,"enableResize",3,!1);const o=b(E(()=>t.columnDefs.some(H=>H.isGroup)),"hasGroups");function s(H){const L=[];for(const U of H)U.isGroup?L.push(...s(U.columns)):L.push(U);return L}function l(H){return H.isGroup?s(H.columns).length:1}const u=b(E(()=>s(t.columnDefs)),"leafColumns");function f(H){var L;return((L=t.store)==null?void 0:L.getColumnWidth(H.id))??H.width??void 0}function d(){var H;return(H=t.store)==null?void 0:H.getColumnWidth("__label__")}function c(H){!t.store||!i()||(H.preventDefault(),H.stopPropagation(),ge(p,{id:"__label__"},!0),v=H.clientX,_=d()??150,document.addEventListener("pointermove",m),document.addEventListener("pointerup",C))}const h=b(E(()=>{if(!a(o))return"";const H=[];if(n()){const L=d();H.push(L?`${L}px`:"minmax(120px, 1fr)")}for(const L of a(u)){const U=f(L);U?H.push(`${U}px`):H.push("auto")}return H.join(" ")}),"gridTemplateColumns");let p=b(Se(null),"resizing"),v=0,_=0;function g(H,L){!t.store||!i()||(H.preventDefault(),H.stopPropagation(),ge(p,L,!0),v=H.clientX,_=f(L)??80,document.addEventListener("pointermove",m),document.addEventListener("pointerup",C))}function m(H){if(!a(p)||!t.store)return;const L=H.clientX-v;t.store.setColumnWidth(a(p).id,_+L)}function C(){ge(p,null),document.removeEventListener("pointermove",m),document.removeEventListener("pointerup",C)}var w={...mt()},M=ke(),T=_e(M);{var W=H=>{var L=hu();let U;var R=G(L);{var te=Y=>{var K=su();let ae;var me=G(K),ne=G(me),Me=q(me,2);{var O=y=>{var D=au();D.__pointerdown=c,k(y,D)};A(()=>j(Me,y=>{i()&&t.store&&y(O)}),"if",fe,126,8)}B(y=>{ae=Ge(K,"",ae,y),ce(ne,r())},[()=>({"grid-row":"1 / 3",width:d()?`${d()}px`:void 0})]),k(Y,K)};A(()=>j(R,Y=>{n()&&Y(te)}),"if",fe,119,4)}var X=q(R,2);ut(()=>t.columnDefs,Y=>Y.id),A(()=>Ye(X,17,()=>t.columnDefs,Y=>Y.id,(Y,K)=>{var ae=ke(),me=_e(ae);{var ne=O=>{var y=lu();let D;var se=G(y,!0);B(Ne=>{D=Ge(y,"",D,Ne),ce(se,a(K).header)},[()=>({"grid-column":`span ${l(a(K))??""}`})]),k(O,y)},Me=O=>{var y=uu();let D;var se=G(y),Ne=G(se,!0);var Ze=q(se,2);{var ht=de=>{var ye=fu();ye.__pointerdown=De=>g(De,a(K)),k(de,ye)};A(()=>j(Ze,de=>{i()&&t.store&&de(ht)}),"if",fe,150,10)}B(()=>{D=Ge(y,"",D,{"grid-row":"1 / 3","text-align":a(K).align}),ce(Ne,a(K).header)}),k(O,y)};A(()=>j(me,O=>{a(K).isGroup?O(ne):O(Me,!1)}),"if",fe,136,6)}k(Y,ae)}),"each",fe,135,4);var ee=q(X,2);ut(()=>t.columnDefs,Y=>Y.id),A(()=>Ye(ee,17,()=>t.columnDefs,Y=>Y.id,(Y,K)=>{var ae=ke(),me=_e(ae);{var ne=Me=>{var O=ke(),y=_e(O);ut(()=>a(K).columns,D=>D.id),A(()=>Ye(y,17,()=>a(K).columns,D=>D.id,(D,se)=>{var Ne=ke(),Ze=_e(Ne);{var ht=de=>{var ye=du();let De;var Oe=G(ye),_n=G(Oe,!0);var Cn=q(Oe,2);{var lr=ai=>{var be=cu();be.__pointerdown=Ee=>g(Ee,a(se)),k(ai,be)};A(()=>j(Cn,ai=>{i()&&t.store&&ai(lr)}),"if",fe,171,14)}B(()=>{De=Ge(ye,"",De,{"text-align":a(se).align}),ce(_n,a(se).header)}),k(de,ye)};A(()=>j(Ze,de=>{a(se).isGroup||de(ht)}),"if",fe,165,10)}k(D,Ne)}),"each",fe,164,8),k(Me,O)};A(()=>j(me,Me=>{a(K).isGroup&&Me(ne)}),"if",fe,163,6)}k(Y,ae)}),"each",fe,162,4),B(()=>U=Ge(L,"",U,{"grid-template-columns":a(h)})),k(H,L)},V=H=>{var L=mu(),U=G(L);{var R=X=>{var ee=gu();let Y;var K=G(ee),ae=G(K),me=q(K,2);{var ne=Me=>{var O=vu();O.__pointerdown=c,k(Me,O)};A(()=>j(me,Me=>{i()&&t.store&&Me(ne)}),"if",fe,194,8)}B(Me=>{Y=Ge(ee,"",Y,Me),ce(ae,r())},[()=>({width:d()?`${d()}px`:void 0,flex:d()?"none":"1"})]),k(X,ee)};A(()=>j(U,X=>{n()&&X(R)}),"if",fe,187,4)}var te=q(U,2);ut(()=>a(u),X=>X.id),A(()=>Ye(te,17,()=>a(u),X=>X.id,(X,ee)=>{var Y=_u();let K;var ae=G(Y),me=G(ae,!0);var ne=q(ae,2);{var Me=O=>{var y=pu();y.__pointerdown=D=>g(D,a(ee)),k(O,y)};A(()=>j(ne,O=>{i()&&t.store&&O(Me)}),"if",fe,210,8)}B(O=>{K=Ge(Y,"",K,O),ce(me,a(ee).header)},[()=>({width:f(a(ee))?`${f(a(ee))}px`:"auto","text-align":a(ee).align})]),k(X,Y)}),"each",fe,203,4),k(H,L)};A(()=>j(T,H=>{a(o)?H(W):H(V,!1)}),"if",fe,115,0)}return k(e,M),st(w)}yi(["pointerdown"]),Er[I]="src/components/forest/GroupHeader.svelte";var wu=$(Z('<span class="group-count svelte-16smacw"> </span>'),Er[I],[[22,4]]),xu=$(Z('<div class="group-header svelte-16smacw"><span><svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path d="M2 4L6 8L10 4" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg></span> <span class="group-label svelte-16smacw"> </span> <!></div>'),Er[I],[[14,0,[[15,2,[[16,4,[[17,6]]]]],[20,2]]]]);function Er(e,t){_t(new.target),at(t,!0,Er);var n={...mt()},r=xu(),i=G(r);let o;var s=q(i,2),l=G(s),u=q(s,2);{var f=d=>{var c=wu(),h=G(c);B(()=>ce(h,`(${t.rowCount??""})`)),k(d,c)};A(()=>j(u,d=>{S(t.rowCount,void 0,!1)&&d(f)}),"if",Er,21,2)}return B(()=>{N(r,"aria-expanded",!t.group.collapsed),o=Yr(i,1,"group-chevron svelte-16smacw",null,o,{collapsed:t.group.collapsed}),ce(l,t.group.label)}),k(e,r),st(n)}Yn[I]="src/components/ui/Tooltip.svelte";var yu=$(Z('<div class="tooltip-row svelte-c43bsi"><span class="tooltip-label svelte-c43bsi"> </span> <span class="tooltip-value svelte-c43bsi"> </span></div>'),Yn[I],[[56,8,[[57,10],[58,10]]]]),bu=$(Z('<div class="webforest-tooltip svelte-c43bsi"><div class="tooltip-header svelte-c43bsi"> </div> <div class="tooltip-body svelte-c43bsi"><div class="tooltip-row tooltip-estimate svelte-c43bsi"><span class="tooltip-label svelte-c43bsi">Estimate</span> <span class="tooltip-value svelte-c43bsi"> </span></div> <!></div></div>'),Yn[I],[[46,2,[[47,4],[48,4,[[49,6,[[50,8],[51,8]]]]]]]]);function Yn(e,t){_t(new.target),at(t,!0,Yn);let n=Xn(t,"fields",3,null);function r(d){return S(d,null)||S(d,void 0)?"—":S(typeof d,"number")?Number.isInteger(d)?d.toString():d.toFixed(3):String(d)}const i=b(E(()=>{if(!t.row)return[];const d=Object.entries(t.row.metadata);return n()&&n().length>0?d.filter(([c])=>n().includes(c)):d.filter(([c])=>!c.startsWith("_")&&!c.startsWith("."))}),"displayFields"),o=b(E(()=>t.position?`left: ${t.position.x+10}px; top: ${t.position.y-10}px;`:""),"positionStyle");var s={...mt()},l=ke(),u=_e(l);{var f=d=>{var c=bu(),h=G(c),p=G(h),v=q(h,2),_=G(v),g=q(G(_),2),m=G(g),C=q(_,2);ut(()=>a(i),([w,M])=>w),A(()=>Ye(C,17,()=>a(i),([w,M])=>w,(w,M)=>{var T=E(()=>Yo(a(M),2));let W=()=>a(T)[0];W();let V=()=>a(T)[1];V();var H=yu(),L=G(H),U=G(L,!0);var R=q(L,2),te=G(R,!0);B(X=>{ce(U,W()),ce(te,X)},[()=>r(V())]),k(w,H)}),"each",Yn,55,6),B((w,M,T)=>{Ge(c,a(o)),ce(p,t.row.label),ce(m,`${w??""} (${M??""}, ${T??""})`)},[()=>r(t.row.point),()=>r(t.row.lower),()=>r(t.row.upper)]),k(d,c)};A(()=>j(u,d=>{t.row&&t.position&&d(f)}),"if",Yn,45,0)}return k(e,l),st(s)}Kn[I]="src/components/table/CellBar.svelte";var Eu=$(Z('<span class="bar-label svelte-1l4k3z2"> </span>'),Kn[I],[[38,4]]),ku=$(Z('<div class="cell-bar svelte-1l4k3z2"><div class="bar-track svelte-1l4k3z2"><div class="bar-fill svelte-1l4k3z2"></div></div> <!></div>'),Kn[I],[[29,0,[[30,2,[[31,4]]]]]]);function Kn(e,t){_t(new.target),at(t,!0,Kn);let n=Xn(t,"maxValue",3,100);const r=b(E(()=>{var _;return((_=t.options)==null?void 0:_.maxValue)??n()}),"effectiveMax"),i=b(E(()=>{var _;return((_=t.options)==null?void 0:_.showLabel)??!0}),"showLabel"),o=b(E(()=>{var _;return((_=t.options)==null?void 0:_.color)??"var(--wf-primary, #2563eb)"}),"barColor"),s=b(E(()=>()=>S(t.value,void 0)||S(t.value,null)||a(r)<=0?0:Math.min(100,Math.max(0,t.value/a(r)*100))),"percentage"),l=b(E(()=>()=>S(t.value,void 0)||S(t.value,null)?"":t.value>=100?t.value.toFixed(0):t.value>=10?t.value.toFixed(1):t.value.toFixed(2)),"formattedValue");var u={...mt()},f=ku(),d=G(f),c=G(d);let h;var p=q(d,2);{var v=_=>{var g=Eu(),m=G(g);B(C=>ce(m,C),[()=>a(l)()]),k(_,g)};A(()=>j(p,_=>{a(i)&&_(v)}),"if",Kn,37,2)}return B(_=>h=Ge(c,"",h,_),[()=>({width:`${a(s)()??""}%`,"background-color":a(o)})]),k(e,f),st(u)}Zn[I]="src/components/table/CellPvalue.svelte";var Mu=$(Z('<span class="pvalue-stars svelte-1hymfkc"> </span>'),Zn[I],[[47,4]]),Tu=$(Z('<span><span class="pvalue-number svelte-1hymfkc"> </span> <!></span>'),Zn[I],[[44,0,[[45,2]]]]);function Zn(e,t){_t(new.target),at(t,!0,Zn);const n=b(E(()=>{var _;return((_=t.options)==null?void 0:_.stars)??!0}),"showStars"),r=b(E(()=>{var _;return((_=t.options)==null?void 0:_.thresholds)??[.05,.01,.001]}),"thresholds"),i=b(E(()=>{var _;return((_=t.options)==null?void 0:_.format)??"auto"}),"format"),o=b(E(()=>{if(!a(n)||S(t.value,void 0)||S(t.value,null))return"";const[_,g,m]=a(r);return t.value<m?"***":t.value<g?"**":t.value<_?"*":""}),"stars"),s=b(E(()=>S(t.value,void 0)||S(t.value,null)?"":t.value<1e-4?"<0.0001":S(a(i),"scientific")||S(a(i),"auto")&&t.value<.001?t.value.toExponential(1):t.value>=.1?t.value.toFixed(2):t.value>=.01?t.value.toFixed(3):t.value.toFixed(4)),"formattedValue"),l=b(E(()=>a(o).length>0),"isSignificant");var u={...mt()},f=Tu();let d;var c=G(f),h=G(c),p=q(c,2);{var v=_=>{var g=Mu(),m=G(g);B(()=>ce(m,a(o))),k(_,g)};A(()=>j(p,_=>{a(o)&&_(v)}),"if",Zn,46,2)}return B(()=>{d=Yr(f,1,"cell-pvalue svelte-1hymfkc",null,d,{significant:a(l)}),ce(h,a(s))}),k(e,f),st(u)}function Mi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Su(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ba(e){let t,n,r;e.length!==2?(t=Mi,n=(l,u)=>Mi(e(l),u),r=(l,u)=>e(l)-u):(t=e===Mi||e===Su?e:Nu,n=e,r=e);function i(l,u,f=0,d=l.length){if(f<d){if(t(u,u)!==0)return d;do{const c=f+d>>>1;n(l[c],u)<0?f=c+1:d=c}while(f<d)}return f}function o(l,u,f=0,d=l.length){if(f<d){if(t(u,u)!==0)return d;do{const c=f+d>>>1;n(l[c],u)<=0?f=c+1:d=c}while(f<d)}return f}function s(l,u,f=0,d=l.length){const c=i(l,u,f,d-1);return c>f&&r(l[c-1],u)>-r(l[c],u)?c-1:c}return{left:i,center:s,right:o}}function Nu(){return 0}function Au(e){return e===null?NaN:+e}const Cu=Ba(Mi).right;Ba(Au).center;const Hu=Math.sqrt(50),Iu=Math.sqrt(10),Lu=Math.sqrt(2);function Ti(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Hu?10:o>=Iu?5:o>=Lu?2:1;let l,u,f;return i<0?(f=Math.pow(10,-i)/s,l=Math.round(e*f),u=Math.round(t*f),l/f<e&&++l,u/f>t&&--u,f=-f):(f=Math.pow(10,i)*s,l=Math.round(e/f),u=Math.round(t/f),l*f<e&&++l,u*f>t&&--u),u<l&&.5<=n&&n<2?Ti(e,t,n*2):[l,u,f]}function _o(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?Ti(t,e,n):Ti(e,t,n);if(!(o>=i))return[];const l=o-i+1,u=new Array(l);if(r)if(s<0)for(let f=0;f<l;++f)u[f]=(o-f)/-s;else for(let f=0;f<l;++f)u[f]=(o-f)*s;else if(s<0)for(let f=0;f<l;++f)u[f]=(i+f)/-s;else for(let f=0;f<l;++f)u[f]=(i+f)*s;return u}function mo(e,t,n){return t=+t,e=+e,n=+n,Ti(e,t,n)[2]}function Du(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?mo(t,e,n):mo(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Ua(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function wo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function qa(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Kr(){}var Zr=.7,Si=1/Zr,kr="\\s*([+-]?\\d+)\\s*",Jr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ru=/^#([0-9a-f]{3,8})$/,Fu=new RegExp(`^rgb\\(${kr},${kr},${kr}\\)$`),Pu=new RegExp(`^rgb\\(${Xt},${Xt},${Xt}\\)$`),Wu=new RegExp(`^rgba\\(${kr},${kr},${kr},${Jr}\\)$`),Ou=new RegExp(`^rgba\\(${Xt},${Xt},${Xt},${Jr}\\)$`),$u=new RegExp(`^hsl\\(${Jr},${Xt},${Xt}\\)$`),Gu=new RegExp(`^hsla\\(${Jr},${Xt},${Xt},${Jr}\\)$`),Xa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wo(Kr,Qr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ya,formatHex:Ya,formatHex8:zu,formatHsl:Vu,formatRgb:Ka,toString:Ka});function Ya(){return this.rgb().formatHex()}function zu(){return this.rgb().formatHex8()}function Vu(){return ts(this).formatHsl()}function Ka(){return this.rgb().formatRgb()}function Qr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ru.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Za(t):n===3?new ct(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ni(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ni(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Fu.exec(e))?new ct(t[1],t[2],t[3],1):(t=Pu.exec(e))?new ct(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Wu.exec(e))?Ni(t[1],t[2],t[3],t[4]):(t=Ou.exec(e))?Ni(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$u.exec(e))?es(t[1],t[2]/100,t[3]/100,1):(t=Gu.exec(e))?es(t[1],t[2]/100,t[3]/100,t[4]):Xa.hasOwnProperty(e)?Za(Xa[e]):e==="transparent"?new ct(NaN,NaN,NaN,0):null}function Za(e){return new ct(e>>16&255,e>>8&255,e&255,1)}function Ni(e,t,n,r){return r<=0&&(e=t=n=NaN),new ct(e,t,n,r)}function ju(e){return e instanceof Kr||(e=Qr(e)),e?(e=e.rgb(),new ct(e.r,e.g,e.b,e.opacity)):new ct}function xo(e,t,n,r){return arguments.length===1?ju(e):new ct(e,t,n,r??1)}function ct(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}wo(ct,xo,qa(Kr,{brighter(e){return e=e==null?Si:Math.pow(Si,e),new ct(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zr:Math.pow(Zr,e),new ct(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ct(Jn(this.r),Jn(this.g),Jn(this.b),Ai(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ja,formatHex:Ja,formatHex8:Bu,formatRgb:Qa,toString:Qa}));function Ja(){return`#${Qn(this.r)}${Qn(this.g)}${Qn(this.b)}`}function Bu(){return`#${Qn(this.r)}${Qn(this.g)}${Qn(this.b)}${Qn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Qa(){const e=Ai(this.opacity);return`${e===1?"rgb(":"rgba("}${Jn(this.r)}, ${Jn(this.g)}, ${Jn(this.b)}${e===1?")":`, ${e})`}`}function Ai(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qn(e){return e=Jn(e),(e<16?"0":"")+e.toString(16)}function es(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Wt(e,t,n,r)}function ts(e){if(e instanceof Wt)return new Wt(e.h,e.s,e.l,e.opacity);if(e instanceof Kr||(e=Qr(e)),!e)return new Wt;if(e instanceof Wt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,l=o-i,u=(o+i)/2;return l?(t===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-t)/l+2:s=(t-n)/l+4,l/=u<.5?o+i:2-o-i,s*=60):l=u>0&&u<1?0:s,new Wt(s,l,u,e.opacity)}function Uu(e,t,n,r){return arguments.length===1?ts(e):new Wt(e,t,n,r??1)}function Wt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}wo(Wt,Uu,qa(Kr,{brighter(e){return e=e==null?Si:Math.pow(Si,e),new Wt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zr:Math.pow(Zr,e),new Wt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ct(yo(e>=240?e-240:e+120,i,r),yo(e,i,r),yo(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Wt(ns(this.h),Ci(this.s),Ci(this.l),Ai(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ai(this.opacity);return`${e===1?"hsl(":"hsla("}${ns(this.h)}, ${Ci(this.s)*100}%, ${Ci(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ns(e){return e=(e||0)%360,e<0?e+360:e}function Ci(e){return Math.max(0,Math.min(1,e||0))}function yo(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const bo=e=>()=>e;function qu(e,t){return function(n){return e+n*t}}function Xu(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Yu(e){return(e=+e)==1?rs:function(t,n){return n-t?Xu(t,n,e):bo(isNaN(t)?n:t)}}function rs(e,t){var n=t-e;return n?qu(e,n):bo(isNaN(e)?t:e)}const is=(function e(t){var n=Yu(t);function r(i,o){var s=n((i=xo(i)).r,(o=xo(o)).r),l=n(i.g,o.g),u=n(i.b,o.b),f=rs(i.opacity,o.opacity);return function(d){return i.r=s(d),i.g=l(d),i.b=u(d),i.opacity=f(d),i+""}}return r.gamma=e,r})(1);function Ku(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function Zu(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ju(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Mo(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(l){for(s=0;s<r;++s)o[s]=i[s](l);return o}}function Qu(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Hi(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ec(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Mo(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Eo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ko=new RegExp(Eo.source,"g");function tc(e){return function(){return e}}function nc(e){return function(t){return e(t)+""}}function rc(e,t){var n=Eo.lastIndex=ko.lastIndex=0,r,i,o,s=-1,l=[],u=[];for(e=e+"",t=t+"";(r=Eo.exec(e))&&(i=ko.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,u.push({i:s,x:Hi(r,i)})),n=ko.lastIndex;return n<t.length&&(o=t.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?u[0]?nc(u[0].x):tc(t):(t=u.length,function(f){for(var d=0,c;d<t;++d)l[(c=u[d]).i]=c.x(f);return l.join("")})}function Mo(e,t){var n=typeof t,r;return t==null||n==="boolean"?bo(t):(n==="number"?Hi:n==="string"?(r=Qr(t))?(t=r,is):rc:t instanceof Qr?is:t instanceof Date?Qu:Zu(t)?Ku:Array.isArray(t)?Ju:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ec:Hi)(e,t)}function ic(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function oc(e){return function(){return e}}function ac(e){return+e}var os=[0,1];function Mr(e){return e}function To(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:oc(isNaN(t)?NaN:.5)}function sc(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function lc(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=To(i,r),o=n(s,o)):(r=To(r,i),o=n(o,s)),function(l){return o(r(l))}}function fc(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=To(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(l){var u=Cu(e,l,1,r)-1;return o[u](i[u](l))}}function as(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ss(){var e=os,t=os,n=Mo,r,i,o,s=Mr,l,u,f;function d(){var h=Math.min(e.length,t.length);return s!==Mr&&(s=sc(e[0],e[h-1])),l=h>2?fc:lc,u=f=null,c}function c(h){return h==null||isNaN(h=+h)?o:(u||(u=l(e.map(r),t,n)))(r(s(h)))}return c.invert=function(h){return s(i((f||(f=l(t,e.map(r),Hi)))(h)))},c.domain=function(h){return arguments.length?(e=Array.from(h,ac),d()):e.slice()},c.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},c.rangeRound=function(h){return t=Array.from(h),n=ic,d()},c.clamp=function(h){return arguments.length?(s=h?!0:Mr,d()):s!==Mr},c.interpolate=function(h){return arguments.length?(n=h,d()):n},c.unknown=function(h){return arguments.length?(o=h,c):o},function(h,p){return r=h,i=p,d()}}function uc(){return ss()(Mr,Mr)}function cc(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ii(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Tr(e){return e=Ii(Math.abs(e)),e?e[1]:NaN}function dc(e,t){return function(n,r){for(var i=n.length,o=[],s=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),o.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[s=(s+1)%e.length];return o.reverse().join(t)}}function hc(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var vc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ei(e){if(!(t=vc.exec(e)))throw new Error("invalid format: "+e);var t;return new So({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ei.prototype=So.prototype;function So(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}So.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gc(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var ls;function pc(e,t){var n=Ii(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(ls=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ii(e,Math.max(0,t+o-1))[0]}function fs(e,t){var n=Ii(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const us={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cc,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>fs(e*100,t),r:fs,s:pc,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function cs(e){return e}var ds=Array.prototype.map,hs=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function _c(e){var t=e.grouping===void 0||e.thousands===void 0?cs:dc(ds.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?cs:hc(ds.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(c){c=ei(c);var h=c.fill,p=c.align,v=c.sign,_=c.symbol,g=c.zero,m=c.width,C=c.comma,w=c.precision,M=c.trim,T=c.type;T==="n"?(C=!0,T="g"):us[T]||(w===void 0&&(w=12),M=!0,T="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var W=_==="$"?n:_==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",V=_==="$"?r:/[%p]/.test(T)?s:"",H=us[T],L=/[defgprs%]/.test(T);w=w===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function U(R){var te=W,X=V,ee,Y,K;if(T==="c")X=H(R)+X,R="";else{R=+R;var ae=R<0||1/R<0;if(R=isNaN(R)?u:H(Math.abs(R),w),M&&(R=gc(R)),ae&&+R==0&&v!=="+"&&(ae=!1),te=(ae?v==="("?v:l:v==="-"||v==="("?"":v)+te,X=(T==="s"?hs[8+ls/3]:"")+X+(ae&&v==="("?")":""),L){for(ee=-1,Y=R.length;++ee<Y;)if(K=R.charCodeAt(ee),48>K||K>57){X=(K===46?i+R.slice(ee+1):R.slice(ee))+X,R=R.slice(0,ee);break}}}C&&!g&&(R=t(R,1/0));var me=te.length+R.length+X.length,ne=me<m?new Array(m-me+1).join(h):"";switch(C&&g&&(R=t(ne+R,ne.length?m-X.length:1/0),ne=""),p){case"<":R=te+R+X+ne;break;case"=":R=te+ne+R+X;break;case"^":R=ne.slice(0,me=ne.length>>1)+te+R+X+ne.slice(me);break;default:R=ne+te+R+X;break}return o(R)}return U.toString=function(){return c+""},U}function d(c,h){var p=f((c=ei(c),c.type="f",c)),v=Math.max(-8,Math.min(8,Math.floor(Tr(h)/3)))*3,_=Math.pow(10,-v),g=hs[8+v/3];return function(m){return p(_*m)+g}}return{format:f,formatPrefix:d}}var Li,No,vs;mc({thousands:",",grouping:[3],currency:["$",""]});function mc(e){return Li=_c(e),No=Li.format,vs=Li.formatPrefix,Li}function wc(e){return Math.max(0,-Tr(Math.abs(e)))}function xc(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tr(t)/3)))*3-Tr(Math.abs(e)))}function yc(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Tr(t)-Tr(e))+1}function bc(e,t,n,r){var i=Du(e,t,n),o;switch(r=ei(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=xc(i,s))&&(r.precision=o),vs(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=yc(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=wc(i))&&(r.precision=o-(r.type==="%")*2);break}}return No(r)}function Ec(e){var t=e.domain;return e.ticks=function(n){var r=t();return _o(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return bc(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],l=r[o],u,f,d=10;for(l<s&&(f=s,s=l,l=f,f=i,i=o,o=f);d-- >0;){if(f=mo(s,l,n),f===u)return r[i]=s,r[o]=l,t(r);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;u=f}return e},e}function ti(){var e=uc();return e.copy=function(){return as(e,ti())},Ua.apply(e,arguments),Ec(e)}function kc(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function gs(e){return Math.log(e)}function ps(e){return Math.exp(e)}function Mc(e){return-Math.log(-e)}function Tc(e){return-Math.exp(-e)}function Sc(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Nc(e){return e===10?Sc:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Ac(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function _s(e){return(t,n)=>-e(-t,n)}function Cc(e){const t=e(gs,ps),n=t.domain;let r=10,i,o;function s(){return i=Ac(r),o=Nc(r),n()[0]<0?(i=_s(i),o=_s(o),e(Mc,Tc)):e(gs,ps),t}return t.base=function(l){return arguments.length?(r=+l,s()):r},t.domain=function(l){return arguments.length?(n(l),s()):n()},t.ticks=l=>{const u=n();let f=u[0],d=u[u.length-1];const c=d<f;c&&([f,d]=[d,f]);let h=i(f),p=i(d),v,_;const g=l==null?10:+l;let m=[];if(!(r%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),f>0){for(;h<=p;++h)for(v=1;v<r;++v)if(_=h<0?v/o(-h):v*o(h),!(_<f)){if(_>d)break;m.push(_)}}else for(;h<=p;++h)for(v=r-1;v>=1;--v)if(_=h>0?v/o(-h):v*o(h),!(_<f)){if(_>d)break;m.push(_)}m.length*2<g&&(m=_o(f,d,g))}else m=_o(h,p,Math.min(p-h,g)).map(o);return c?m.reverse():m},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=ei(u)).precision==null&&(u.trim=!0),u=No(u)),l===1/0)return u;const f=Math.max(1,r*l/t.ticks().length);return d=>{let c=d/o(Math.round(i(d)));return c*r<r-.5&&(c*=r),c<=f?u(d):""}},t.nice=()=>n(kc(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),t}function ms(){const e=Cc(ss()).domain([1,10]);return e.copy=()=>as(e,ms()).base(e.base()),Ua.apply(e,arguments),e}function Pe(e){return function(){return e}}const ws=1e-12,Ao=Math.PI,Co=2*Ao,er=1e-6,Hc=Co-er;function xs(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Ic(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return xs;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Lc{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?xs:Ic(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,u=r-t,f=i-n,d=s-t,c=l-n,h=d*d+c*c;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>er)if(!(Math.abs(c*u-f*d)>er)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-s,v=i-l,_=u*u+f*f,g=p*p+v*v,m=Math.sqrt(_),C=Math.sqrt(h),w=o*Math.tan((Ao-Math.acos((_+h-g)/(2*m*C)))/2),M=w/C,T=w/m;Math.abs(M-1)>er&&this._append`L${t+M*d},${n+M*c}`,this._append`A${o},${o},0,0,${+(c*p>d*v)},${this._x1=t+T*u},${this._y1=n+T*f}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),f=t+l,d=n+u,c=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${f},${d}`:(Math.abs(this._x1-f)>er||Math.abs(this._y1-d)>er)&&this._append`L${f},${d}`,r&&(h<0&&(h=h%Co+Co),h>Hc?this._append`A${r},${r},0,1,${c},${t-l},${n-u}A${r},${r},0,1,${c},${this._x1=f},${this._y1=d}`:h>er&&this._append`A${r},${r},0,${+(h>=Ao)},${c},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ys(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Lc(t)}function bs(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Es(e){this._context=e}Es.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ks(e){return new Es(e)}function Ms(e){return e[0]}function Ts(e){return e[1]}function Ss(e,t){var n=Pe(!0),r=null,i=ks,o=null,s=ys(l);e=typeof e=="function"?e:e===void 0?Ms:Pe(e),t=typeof t=="function"?t:t===void 0?Ts:Pe(t);function l(u){var f,d=(u=bs(u)).length,c,h=!1,p;for(r==null&&(o=i(p=s())),f=0;f<=d;++f)!(f<d&&n(c=u[f],f,u))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(c,f,u),+t(c,f,u));if(p)return o=null,p+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Pe(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Pe(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Pe(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),l):r},l}function Dc(e,t,n){var r=null,i=Pe(!0),o=null,s=ks,l=null,u=ys(f);e=typeof e=="function"?e:e===void 0?Ms:Pe(+e),t=typeof t=="function"?t:Pe(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Ts:Pe(+n);function f(c){var h,p,v,_=(c=bs(c)).length,g,m=!1,C,w=new Array(_),M=new Array(_);for(o==null&&(l=s(C=u())),h=0;h<=_;++h){if(!(h<_&&i(g=c[h],h,c))===m)if(m=!m)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=p;--v)l.point(w[v],M[v]);l.lineEnd(),l.areaEnd()}m&&(w[h]=+e(g,h,c),M[h]=+t(g,h,c),l.point(r?+r(g,h,c):w[h],n?+n(g,h,c):M[h]))}if(C)return l=null,C+""||null}function d(){return Ss().defined(i).curve(s).context(o)}return f.x=function(c){return arguments.length?(e=typeof c=="function"?c:Pe(+c),r=null,f):e},f.x0=function(c){return arguments.length?(e=typeof c=="function"?c:Pe(+c),f):e},f.x1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Pe(+c),f):r},f.y=function(c){return arguments.length?(t=typeof c=="function"?c:Pe(+c),n=null,f):t},f.y0=function(c){return arguments.length?(t=typeof c=="function"?c:Pe(+c),f):t},f.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:Pe(+c),f):n},f.lineX0=f.lineY0=function(){return d().x(e).y(t)},f.lineY1=function(){return d().x(e).y(n)},f.lineX1=function(){return d().x(r).y(t)},f.defined=function(c){return arguments.length?(i=typeof c=="function"?c:Pe(!!c),f):i},f.curve=function(c){return arguments.length?(s=c,o!=null&&(l=s(o)),f):s},f.context=function(c){return arguments.length?(c==null?o=l=null:l=s(o=c),f):o},f}function Ns(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Ho(e,t){this._context=e,this._k=(1-t)/6}Ho.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ns(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Ns(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},(function e(t){function n(r){return new Ho(r,t)}return n.tension=function(r){return e(+r)},n})(0);function Rc(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>ws){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>ws){var f=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*f+e._x1*e._l23_2a-t*e._l12_2a)/d,s=(s*f+e._y1*e._l23_2a-n*e._l12_2a)/d}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function As(e,t){this._context=e,this._alpha=t}As.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Rc(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Cs=(function e(t){function n(r){return t?new As(r,t):new Ho(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);et[I]="src/components/table/CellSparkline.svelte";var Fc=$(Ie('<rect opacity="0.8"></rect>'),et[I],[[62,8]]),Pc=$(Ie('<path opacity="0.3"></path><path fill="none" stroke-width="1.5"></path>',1),et[I],[[72,6],[73,6]]),Wc=$(Ie('<circle r="2"></circle>'),et[I],[[79,8]]),Oc=$(Ie('<path fill="none" stroke-width="1.5"></path><!>',1),et[I],[[75,6]]),$c=$(Ie('<text text-anchor="middle" dominant-baseline="middle" fill="var(--wf-muted, #94a3b8)" font-size="8">--</text>'),et[I],[[83,4]]),Gc=$(Ie('<svg class="cell-sparkline svelte-hfafss"><!></svg>'),et[I],[[58,0]]);function et(e,t){_t(new.target),at(t,!0,et);const n=b(E(()=>{var _;return((_=t.options)==null?void 0:_.type)??"line"}),"chartType"),r=b(E(()=>{var _;return((_=t.options)==null?void 0:_.height)??20}),"chartHeight"),i=b(E(()=>{var _;return((_=t.options)==null?void 0:_.color)??"var(--wf-primary, #2563eb)"}),"chartColor"),o=60,s=b(E(()=>{if(!t.data||!Array.isArray(t.data)||S(t.data.length,0))return[];const _=Math.min(...t.data),g=Math.max(...t.data),m=(g-_)*.1||1,C=ti().domain([0,t.data.length-1]).range([2,o-2]),w=ti().domain([_-m,g+m]).range([a(r)-2,2]);return t.data.map((M,T)=>[C(T),w(M)])}),"points"),l=b(E(()=>S(a(s).length,0)?"":Ss().x(g=>g[0]).y(g=>g[1]).curve(Cs.alpha(.5))(a(s))??""),"linePath"),u=b(E(()=>S(a(s).length,0)?"":Dc().x(g=>g[0]).y0(a(r)-2).y1(g=>g[1]).curve(Cs.alpha(.5))(a(s))??""),"areaPath"),f=b(E(()=>a(s).length>0?(o-8)/a(s).length-1:0),"barWidth");var d={...mt()},c=Gc();N(c,"width",o);var h=G(c);{var p=_=>{var g=ke(),m=_e(g);{var C=M=>{var T=ke(),W=_e(T);A(()=>Ye(W,17,()=>a(s),Pa,(V,H)=>{var L=E(()=>Yo(a(H),2));let U=()=>a(L)[0];U();let R=()=>a(L)[1];R();var te=Fc();B(()=>{N(te,"x",U()-a(f)/2),N(te,"y",R()),N(te,"width",a(f)),N(te,"height",a(r)-2-R()),N(te,"fill",a(i))}),k(V,te)}),"each",et,61,6),k(M,T)},w=M=>{var T=ke(),W=_e(T);{var V=L=>{var U=Pc(),R=_e(U),te=q(R);B(()=>{N(R,"d",a(u)),N(R,"fill",a(i)),N(te,"d",a(l)),N(te,"stroke",a(i))}),k(L,U)},H=L=>{var U=Oc(),R=_e(U),te=q(R);{var X=ee=>{const Y=b(E(()=>a(s)[a(s).length-1]),"lastPoint");a(Y);var K=Wc();B(()=>{N(K,"cx",a(Y)[0]),N(K,"cy",a(Y)[1]),N(K,"fill",a(i))}),k(ee,K)};A(()=>j(te,ee=>{a(s).length>0&&ee(X)}),"if",et,77,6)}B(()=>{N(R,"d",a(l)),N(R,"stroke",a(i))}),k(L,U)};A(()=>j(W,L=>{S(a(n),"area")?L(V):L(H,!1)},!0),"if",et,71,4)}k(M,T)};A(()=>j(m,M=>{S(a(n),"bar")?M(C):M(w,!1)}),"if",et,60,4)}k(_,g)},v=_=>{var g=$c();N(g,"x",o/2),B(()=>N(g,"y",a(r)/2)),k(_,g)};A(()=>j(h,_=>{a(s).length>0?_(p):_(v,!1)}),"if",et,59,2)}return B(()=>{N(c,"height",a(r)),N(c,"viewBox",`0 0 60 ${a(r)??""}`)}),k(e,c),st(d)}function Hs(e,t){if(t){const u=Math.floor(Math.log10(Math.max(e[0],.001))),f=Math.ceil(Math.log10(Math.max(e[1],.001)));return[Math.pow(10,u),Math.pow(10,f)]}const n=e[1]-e[0];if(n===0)return e;const r=Math.pow(10,Math.floor(Math.log10(n))),i=n/r;let o;i<=1?o=r*.1:i<=2?o=r*.2:i<=5?o=r*.5:o=r;const s=Math.floor(e[0]/o)*o,l=Math.ceil(e[1]/o)*o;return[s,l]}const Di=.15,Ke={DEFAULT_COLUMN_WIDTH:80,DEFAULT_LABEL_WIDTH:150,AXIS_HEIGHT:32,MIN_FOREST_WIDTH:200,DEFAULT_WIDTH:800},Tt={TITLE_HEIGHT:28,SUBTITLE_HEIGHT:20,CAPTION_HEIGHT:16,FOOTNOTE_HEIGHT:14,DEFAULT_FONT_SIZE:14,REM_BASE:16,TEXT_BASELINE_ADJUSTMENT:1/3},tt={TEXT_PADDING:10,INDENT_PER_LEVEL:12,WHISKER_HALF_HEIGHT:4,DEFAULT_TICK_COUNT:5},Io={GROUP_HEADER_HEIGHT_MULTIPLIER:1.5,OVERALL_ROW_HEIGHT_MULTIPLIER:1.5,AUTO_FOREST_WIDTH_FRACTION:.25};function zc(e,t){var ae,me,ne,Me;const n=e.theme,r=n.spacing.rowHeight,i=n.spacing.padding,o=Array.isArray(e.columns)?e.columns:[],s=Ri(o,"left"),l=Ri(o,"right"),f=Lo(s)||Lo(l)?n.spacing.headerHeight*Io.GROUP_HEADER_HEIGHT_MULTIPLIER:n.spacing.headerHeight,d=!!((ae=e.labels)!=null&&ae.title),c=!!((me=e.labels)!=null&&me.subtitle),h=!!((ne=e.labels)!=null&&ne.caption),p=!!((Me=e.labels)!=null&&Me.footnote),v=d?Tt.TITLE_HEIGHT:0,_=c?Tt.SUBTITLE_HEIGHT:0,g=v+_+(d||c?i:0),m=h?Tt.CAPTION_HEIGHT:0,C=p?Tt.FOOTNOTE_HEIGHT:0,w=m+C+(h||p?i:0),T=Is(e).length,W=!!e.data.overall,V=T*r+(W?r*Io.OVERALL_ROW_HEIGHT_MULTIPLIER:0),H=ni(o,"left"),L=ni(o,"right"),U=Ke.DEFAULT_LABEL_WIDTH+H.reduce((O,y)=>O+(y.width??Ke.DEFAULT_COLUMN_WIDTH),0),R=L.reduce((O,y)=>O+(y.width??Ke.DEFAULT_COLUMN_WIDTH),0),te=t.width??Ke.DEFAULT_WIDTH,X=e.data.includeForest;let ee;X?typeof e.layout.plotWidth=="number"?ee=e.layout.plotWidth:ee=Math.max(te*Io.AUTO_FOREST_WIDTH_FRACTION,Ke.MIN_FOREST_WIDTH):ee=0;const Y=t.width??U+ee+R+i*2,K=g+f+V+Ke.AXIS_HEIGHT+w+i*2;return{totalWidth:Y,totalHeight:t.height??K,tableWidth:U+R,forestWidth:ee,headerHeight:f,rowHeight:r,plotHeight:V,axisHeight:Ke.AXIS_HEIGHT,nullValue:e.data.nullValue,summaryYPosition:V-r,showOverallSummary:W,headerTextHeight:g,footerTextHeight:w,titleY:i+Tt.TITLE_HEIGHT-8,subtitleY:i+v+Tt.SUBTITLE_HEIGHT-4,mainY:g+i,footerY:g+i+f+V+Ke.AXIS_HEIGHT+i}}function Is(e){var d;const t=e.data.rows,n=Array.isArray(e.data.groups)?e.data.groups:[];if(n.length===0)return t.map(c=>({type:"data",row:c,depth:0}));const r=new Map;for(const c of n)r.set(c.id,c);const i=new Map;for(const c of t){const h=c.groupId??null;i.has(h)||i.set(h,[]),i.get(h).push(c)}const o=new Set;for(const c of i.keys()){if(!c)continue;let h=c;for(;h;)o.add(h),h=(d=r.get(h))==null?void 0:d.parentId}function s(c){return n.filter(h=>(h.parentId??null)===c&&o.has(h.id))}function l(c){if(!c)return 0;const h=r.get(c);return h?h.depth+1:0}const u=[];function f(c){var p;if(c){const v=r.get(c);if(!v)return;const _=((p=i.get(c))==null?void 0:p.length)??0;u.push({type:"group_header",groupId:v.id,label:v.label,depth:v.depth,rowCount:_})}for(const v of s(c))f(v.id);const h=i.get(c)??[];for(const v of h)u.push({type:"data",row:v,depth:l(v.groupId)})}return f(null),u}function ni(e,t){const n=[];for(const r of e)r.position===t&&(r.isGroup?n.push(...ni(r.columns,t)):n.push(r));return n}function Ri(e,t){return e.filter(n=>n.position===t)}function Lo(e){return e.some(t=>t.isGroup)}function Ls(e,t){return e.isGroup?e.columns.reduce((n,r)=>n+Ls(r,t),0):e.width??t}function Sn(e){return e.endsWith("rem")?parseFloat(e)*Tt.REM_BASE:e.endsWith("px")?parseFloat(e):Tt.DEFAULT_FONT_SIZE}function Fi(e,t,n){return n==="right"?{textX:e+t-tt.TEXT_PADDING,anchor:"end"}:n==="center"?{textX:e+t/2,anchor:"middle"}:{textX:e+tt.TEXT_PADDING,anchor:"start"}}function nt(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function Ds(e){return e==null||Number.isNaN(e)?"":e.toFixed(2)}function Vc(e,t,n){return e==null||Number.isNaN(e)?"":t==null||n===void 0||n===null||Number.isNaN(t)||Number.isNaN(n)?Ds(e):`${e.toFixed(2)} (${t.toFixed(2)}, ${n.toFixed(2)})`}function jc(e){return Math.abs(e)<.01?"0":Math.abs(e)>=100?e.toFixed(0):Math.abs(e)>=10?e.toFixed(1):e.toFixed(2)}function Bc(e,t){const[n,r]=e,[i,o]=t,s=(o-i)/(r-n),l=u=>i+(u-n)*s;return l.domain=()=>e,l.range=()=>t,l.ticks=u=>{const f=(r-n)/(u-1),d=[];for(let c=0;c<u;c++)d.push(n+f*c);return d},l}function Uc(e,t){const[n,r]=e.map(d=>Math.max(d,.001)),[i,o]=t,s=Math.log10(n),l=Math.log10(r),u=(o-i)/(l-s),f=d=>{const c=Math.log10(Math.max(d,.001));return i+(c-s)*u};return f.domain=()=>[n,r],f.range=()=>t,f.ticks=d=>{const c=[],h=Math.floor(Math.log10(n)),p=Math.ceil(Math.log10(r));for(let v=h;v<=p;v++){const _=Math.pow(10,v);for(const g of[1,2,5]){const m=_*g;m>=n&&m<=r&&c.push(m)}}return c.length>0?c:[n,r]},f}function qc(e,t){const n=e.data.rows,r=e.theme.axis,i=e.data.scale==="log",o=typeof(r==null?void 0:r.rangeMin)=="number",s=typeof(r==null?void 0:r.rangeMax)=="number";let l;if(o&&s)l=[r.rangeMin,r.rangeMax];else{const f=n.flatMap(d=>[d.lower,d.upper]).filter(d=>d!=null&&!Number.isNaN(d)&&Number.isFinite(d));if(f.length===0)l=i?[.1,10]:[0,1];else{const[d,c]=[Math.min(...f),Math.max(...f)],h=c-d||1;l=[o?r.rangeMin:d-h*Di,s?r.rangeMax:c+h*Di]}}const u=Hs(l,i);return i?Uc([Math.max(u[0],.01),Math.max(u[1],.02)],[0,t]):Bc(u,[0,t])}function Xc(e,t,n){var o,s;const r=[],i=n.spacing.padding;if((o=e.labels)!=null&&o.title){const l=Sn(n.typography.fontSizeLg);r.push(`<text x="${i}" y="${t.titleY}"
      font-family="${n.typography.fontFamily}"
      font-size="${l}px"
      font-weight="${n.typography.fontWeightBold}"
      fill="${n.colors.foreground}">${nt(e.labels.title)}</text>`)}if((s=e.labels)!=null&&s.subtitle){const l=Sn(n.typography.fontSizeBase);r.push(`<text x="${i}" y="${t.subtitleY}"
      font-family="${n.typography.fontFamily}"
      font-size="${l}px"
      fill="${n.colors.secondary}">${nt(e.labels.subtitle)}</text>`)}return r.join(`
`)}function Yc(e,t,n){var s,l;const r=[],i=n.spacing.padding;let o=t.footerY;if((s=e.labels)!=null&&s.caption){const u=Sn(n.typography.fontSizeSm);r.push(`<text x="${i}" y="${o}"
      font-family="${n.typography.fontFamily}"
      font-size="${u}px"
      fill="${n.colors.secondary}">${nt(e.labels.caption)}</text>`),o+=Tt.CAPTION_HEIGHT}if((l=e.labels)!=null&&l.footnote){const u=Sn(n.typography.fontSizeSm);r.push(`<text x="${i}" y="${o}"
      font-family="${n.typography.fontFamily}"
      font-size="${u}px"
      font-style="italic"
      fill="${n.colors.muted}">${nt(e.labels.footnote)}</text>`)}return r.join(`
`)}function Rs(e,t,n,r,i,o,s,l){const u=[],f=Sn(o.typography.fontSizeSm),d=o.typography.fontWeightMedium,c=o.typography.fontWeightBold,h=Lo(e),p=Ke.DEFAULT_COLUMN_WIDTH,v=l??Ke.DEFAULT_LABEL_WIDTH,_=(g,m)=>g+m/2+f*Tt.TEXT_BASELINE_ADJUSTMENT;if(h){const g=i/2,m=i/2;let C=n;s&&(u.push(`<text x="${C+tt.TEXT_PADDING}" y="${_(r,i)}"
        font-family="${o.typography.fontFamily}"
        font-size="${f}px"
        font-weight="${d}"
        fill="${o.colors.foreground}">${nt(s)}</text>`),u.push(`<line x1="${C+v}" x2="${C+v}"
        y1="${r}" y2="${r+i}"
        stroke="${o.colors.border}" stroke-width="1" opacity="0.3"/>`),C+=v);for(const w of e)if(w.isGroup){const M=Ls(w,p),T=C+M/2;u.push(`<text x="${T}" y="${_(r,g)}"
          font-family="${o.typography.fontFamily}"
          font-size="${f}px"
          font-weight="${c}"
          text-anchor="middle"
          fill="${o.colors.foreground}">${nt(w.header)}</text>`),u.push(`<line x1="${C}" x2="${C+M}"
          y1="${r+g}" y2="${r+g}"
          stroke="${o.colors.border}" stroke-width="1" opacity="0.5"/>`),C+=M}else{const M=w.width??p,{textX:T,anchor:W}=Fi(C,M,w.align);u.push(`<text x="${T}" y="${_(r,i)}"
          font-family="${o.typography.fontFamily}"
          font-size="${f}px"
          font-weight="${d}"
          text-anchor="${W}"
          fill="${o.colors.foreground}">${nt(w.header)}</text>`),C+=M}C=n+(s?v:0);for(const w of e)if(w.isGroup){for(const M of w.columns)if(!M.isGroup){const T=M.width??p,{textX:W,anchor:V}=Fi(C,T,M.align);u.push(`<text x="${W}" y="${_(r+g,m)}"
              font-family="${o.typography.fontFamily}"
              font-size="${f}px"
              font-weight="${d}"
              text-anchor="${V}"
              fill="${o.colors.foreground}">${nt(M.header)}</text>`),C+=T}}else C+=w.width??p}else{let g=n;s&&(u.push(`<text x="${g+tt.TEXT_PADDING}" y="${_(r,i)}"
        font-family="${o.typography.fontFamily}"
        font-size="${f}px"
        font-weight="${d}"
        fill="${o.colors.foreground}">${nt(s)}</text>`),g+=v);for(const m of t){const C=m.width??p,{textX:w,anchor:M}=Fi(g,C,m.align);u.push(`<text x="${w}" y="${_(r,i)}"
        font-family="${o.typography.fontFamily}"
        font-size="${f}px"
        font-weight="${d}"
        text-anchor="${M}"
        fill="${o.colors.foreground}">${nt(m.header)}</text>`),g+=C}}return u.join(`
`)}function Kc(e,t,n,r,i,o,s){const l=[],u=Sn(s.typography.fontSizeBase),f=r+i/2+u*Tt.TEXT_BASELINE_ADJUSTMENT,d=t*tt.INDENT_PER_LEVEL;return l.push(`<rect x="${n}" y="${r}"
    width="${o}" height="${i}"
    fill="${s.colors.muted}" opacity="0.15"/>`),l.push(`<text x="${n+tt.TEXT_PADDING+d}" y="${f}"
    font-family="${s.typography.fontFamily}"
    font-size="${u}px"
    font-weight="${s.typography.fontWeightBold}"
    fill="${s.colors.foreground}">${nt(e)}</text>`),l.join(`
`)}function Fs(e,t,n,r,i,o,s,l=Ke.DEFAULT_LABEL_WIDTH,u=0){var p,v,_,g,m,C,w,M,T,W,V,H;const f=[],d=Sn(o.typography.fontSizeBase),c=r+i/2+d*Tt.TEXT_BASELINE_ADJUSTMENT;let h=n;if(s){const L=u*tt.INDENT_PER_LEVEL+(((p=e.style)==null?void 0:p.indent)??0)*tt.INDENT_PER_LEVEL,U=(v=e.style)!=null&&v.bold?o.typography.fontWeightBold:o.typography.fontWeightNormal,R=(_=e.style)!=null&&_.italic?"italic":"normal";f.push(`<text x="${h+tt.TEXT_PADDING+L}" y="${c}"
      font-family="${o.typography.fontFamily}"
      font-size="${d}px"
      font-weight="${U}"
      font-style="${R}"
      fill="${((g=e.style)==null?void 0:g.color)??o.colors.foreground}">${nt(e.label)}</text>`),h+=l}for(const L of t){const U=L.width??Ke.DEFAULT_COLUMN_WIDTH,R=Zc(e,L),{textX:te,anchor:X}=Fi(h,U,L.align);if(L.type==="bar"&&typeof e.metadata[L.field]=="number"){const ee=e.metadata[L.field],Y=((C=(m=L.options)==null?void 0:m.bar)==null?void 0:C.maxValue)??100,K=tt.TEXT_PADDING*2,ae=Math.min(ee/Y*(U-K),U-K),me=((M=(w=L.options)==null?void 0:w.bar)==null?void 0:M.color)??o.colors.primary,ne=o.shapes.pointSize*2;f.push(`<rect x="${h+tt.TEXT_PADDING}" y="${r+i/2-ne/2}"
        width="${Math.max(0,ae)}" height="${ne}"
        fill="${me}" opacity="0.7" rx="2"/>`)}else if(L.type==="sparkline"&&Array.isArray(e.metadata[L.field])){const ee=e.metadata[L.field],Y=((W=(T=L.options)==null?void 0:T.sparkline)==null?void 0:W.height)??16,K=((H=(V=L.options)==null?void 0:V.sparkline)==null?void 0:H.color)??o.colors.primary,ae=tt.TEXT_PADDING*2,me=Jc(ee,h+tt.TEXT_PADDING,r+i/2-Y/2,U-ae,Y);f.push(`<path d="${me}" fill="none" stroke="${K}" stroke-width="1.5"/>`)}else f.push(`<text x="${te}" y="${c}"
        font-family="${o.typography.fontFamily}"
        font-size="${d}px"
        text-anchor="${X}"
        fill="${o.colors.foreground}">${nt(R)}</text>`);h+=U}return f.join(`
`)}function Zc(e,t){var r,i,o,s;if(t.type==="interval")return Vc(e.point,e.lower,e.upper);if(t.type==="numeric"){const l=e.metadata[t.field];return typeof l=="number"?Ds(l):""}if(t.type==="pvalue"){const l=e.metadata[t.field];if(typeof l!="number")return"";const u=(i=(r=t.options)==null?void 0:r.pvalue)==null?void 0:i.stars,f=((s=(o=t.options)==null?void 0:o.pvalue)==null?void 0:s.thresholds)??[.05,.01,.001];let d="";return u&&(l<f[2]?d="***":l<f[1]?d="**":l<f[0]&&(d="*")),l<.001?`<0.001${d}`:`${l.toFixed(3)}${d}`}const n=e.metadata[t.field];return n!=null?String(n):""}function Jc(e,t,n,r,i){if(e.length===0)return"";const o=Math.min(...e),l=Math.max(...e)-o||1;return`M${e.map((f,d)=>{const c=t+d/(e.length-1)*r,h=n+i-(f-o)/l*i;return`${c.toFixed(1)},${h.toFixed(1)}`}).join("L")}`}function Qc(e,t,n,r,i){if(e.point==null||Number.isNaN(e.point)||e.lower==null||Number.isNaN(e.lower)||e.upper==null||Number.isNaN(e.upper))return"";const o=n(e.lower),s=n(e.upper),l=n(e.point),u=r.shapes.pointSize,f=e.metadata.weight;let d=u;if(f){const _=.5+Math.sqrt(f/100)*1.5;d=Math.min(Math.max(u*_,3),u*2.5)}const c=e.point>i?r.colors.intervalPositive:e.point<i?r.colors.intervalNegative:r.colors.muted,h=r.shapes.lineWidth,p=r.colors.intervalLine,v=tt.WHISKER_HALF_HEIGHT;return`
    <g class="interval">
      <!-- CI line -->
      <line x1="${o}" x2="${s}" y1="${t}" y2="${t}"
        stroke="${p}" stroke-width="${h}"/>
      <!-- Whiskers -->
      <line x1="${o}" x2="${o}" y1="${t-v}" y2="${t+v}"
        stroke="${p}" stroke-width="${h}"/>
      <line x1="${s}" x2="${s}" y1="${t-v}" y2="${t+v}"
        stroke="${p}" stroke-width="${h}"/>
      <!-- Point -->
      <rect x="${l-d}" y="${t-d}"
        width="${d*2}" height="${d*2}" fill="${c}"/>
    </g>`}function ed(e,t,n,r,i,o,s,l){const f=l.shapes.summaryHeight/2,d=i(t),c=i(e),h=i(n),p=o+Math.max(0,Math.min(s,d)),v=o+Math.max(0,Math.min(s,c)),_=o+Math.max(0,Math.min(s,h));return`<polygon points="${[`${p},${r}`,`${v},${r-f}`,`${_},${r}`,`${v},${r+f}`].join(" ")}"
    fill="${l.colors.summaryFill}"
    stroke="${l.colors.summaryBorder}"
    stroke-width="1"/>`}function td(e,t,n,r,i){const o=[],s=typeof n.axis.tickCount=="number"?n.axis.tickCount:tt.DEFAULT_TICK_COUNT,l=Array.isArray(n.axis.tickValues)?n.axis.tickValues:e.ticks(s),u=Sn(n.typography.fontSizeSm);o.push(`<line x1="${i}" x2="${i+t.forestWidth}"
    y1="0" y2="0" stroke="${n.colors.border}" stroke-width="1"/>`);for(const f of l){const d=i+e(f);o.push(`<line x1="${d}" x2="${d}" y1="0" y2="4"
      stroke="${n.colors.border}" stroke-width="1"/>`),o.push(`<text x="${d}" y="16" text-anchor="middle"
      font-family="${n.typography.fontFamily}"
      font-size="${u}px"
      fill="${n.colors.secondary}">${jc(f)}</text>`)}return r&&o.push(`<text x="${i+t.forestWidth/2}" y="28"
      text-anchor="middle"
      font-family="${n.typography.fontFamily}"
      font-size="${u}px"
      font-weight="500"
      fill="${n.colors.secondary}">${nt(r)}</text>`),`<g transform="translate(0, ${t.mainY+t.headerHeight+t.plotHeight})">${o.join(`
`)}</g>`}function Ps(e,t,n,r,i,o){let l=`<line x1="${e}" x2="${e}" y1="${t}" y2="${n}"
    stroke="${i}" stroke-width="1" stroke-dasharray="${r==="dashed"?"6,4":r==="dotted"?"2,2":"none"}"/>`;return o&&(l+=`<text x="${e}" y="${t-4}" text-anchor="middle"
      font-size="10px" fill="${i}">${nt(o)}</text>`),l}class tr extends Error{constructor(t){super(`SVG Generator: ${t}`),this.name="SVGGeneratorError"}}function nd(e){if(!e||typeof e!="object")throw new tr("Invalid spec: expected an object");const t=e;if(!t.data||typeof t.data!="object")throw new tr("Invalid spec: missing or invalid 'data' property");const n=t.data;if(!Array.isArray(n.rows))throw new tr("Invalid spec: 'data.rows' must be an array");if(!t.theme||typeof t.theme!="object")throw new tr("Invalid spec: missing or invalid 'theme' property");const r=t.theme;if(!r.colors||typeof r.colors!="object")throw new tr("Invalid spec: missing or invalid 'theme.colors'");if(!r.typography||typeof r.typography!="object")throw new tr("Invalid spec: missing or invalid 'theme.typography'");if(!r.spacing||typeof r.spacing!="object")throw new tr("Invalid spec: missing or invalid 'theme.spacing'")}function Ws(e,t={}){nd(e);const n=e.theme,r=zc(e,t),i=n.spacing.padding,o=Array.isArray(e.columns)?e.columns:[],s=Ri(o,"left"),l=Ri(o,"right"),u=ni(o,"left"),f=ni(o,"right"),d=Ke.DEFAULT_LABEL_WIDTH+u.reduce((w,M)=>w+(M.width??Ke.DEFAULT_COLUMN_WIDTH),0),c=i+d,h=qc(e,r.forestWidth),p=c+r.forestWidth,v=[];v.push(`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg"
  width="${r.totalWidth}" height="${r.totalHeight}"
  viewBox="0 0 ${r.totalWidth} ${r.totalHeight}">`);const _=t.backgroundColor??n.colors.background;v.push(`<rect width="100%" height="100%" fill="${_}"/>`),v.push(Xc(e,r,n));const g=r.mainY;v.push(Rs(s,u,i,g,r.headerHeight,n,e.data.labelHeader??"Study",Ke.DEFAULT_LABEL_WIDTH)),f.length>0&&v.push(Rs(l,f,p,g,r.headerHeight,n)),v.push(`<line x1="${i}" x2="${r.totalWidth-i}"
    y1="${g+r.headerHeight}" y2="${g+r.headerHeight}"
    stroke="${n.colors.border}" stroke-width="1"/>`);const m=Is(e);if(e.data.includeForest&&r.forestWidth>0){const w=r.mainY+r.headerHeight,M=c+h(e.data.nullValue);v.push(Ps(M,w,w+r.plotHeight,"dashed",n.colors.muted));const T=Array.isArray(e.annotations)?e.annotations:[];for(const W of T)if(W.type==="reference_line"){const V=c+h(W.x);v.push(Ps(V,w,w+r.plotHeight,W.style,W.color??n.colors.accent,W.label))}if(m.forEach((W,V)=>{if(W.type==="data"){const H=w+V*r.rowHeight+r.rowHeight/2;v.push(Qc(W.row,H,L=>c+h(L),n,e.data.nullValue))}}),e.data.overall&&r.showOverallSummary){const W=w+r.summaryYPosition;v.push(ed(e.data.overall.point,e.data.overall.lower,e.data.overall.upper,W,h,c,r.forestWidth,n))}v.push(td(h,r,n,e.data.axisLabel,c))}const C=r.mainY+r.headerHeight;return m.forEach((w,M)=>{const T=C+M*r.rowHeight;if(w.type==="group_header")v.push(Kc(w.label,w.depth,i,T,r.rowHeight,r.totalWidth-i*2,n));else{const W=w.row,V=w.depth;M%2===1&&v.push(`<rect x="${i}" y="${T}"
          width="${r.totalWidth-i*2}" height="${r.rowHeight}"
          fill="${n.colors.muted}" opacity="0.1"/>`),v.push(Fs(W,u,i,T,r.rowHeight,n,!0,Ke.DEFAULT_LABEL_WIDTH,V)),f.length>0&&v.push(Fs(W,f,p,T,r.rowHeight,n,!1,0,V))}v.push(`<line x1="${i}" x2="${r.totalWidth-i}"
      y1="${T+r.rowHeight}" y2="${T+r.rowHeight}"
      stroke="${n.colors.border}" stroke-width="1" opacity="0.5"/>`)}),v.push(Yc(e,r,n)),v.push("</svg>"),v.join(`
`)}async function rd(e,t=2){return new Promise((n,r)=>{const i=new Image,o=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),s=URL.createObjectURL(o);i.onload=()=>{const l=document.createElement("canvas"),u=l.getContext("2d");if(!u){URL.revokeObjectURL(s),r(new Error("Failed to get canvas context"));return}l.width=i.width*t,l.height=i.height*t,u.scale(t,t),u.drawImage(i,0,0),l.toBlob(f=>{URL.revokeObjectURL(s),f?n(f):r(new Error("Failed to create PNG blob"))},"image/png",1)},i.onerror=()=>{URL.revokeObjectURL(s),r(new Error("Failed to load SVG image"))},i.src=s})}function id(e){return Ws(e)}async function od(e,t=2){const n=Ws(e);return rd(n,t)}function Os(e,t){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}function $s(e){return`forest_plot_${new Date().toISOString().slice(0,19).replace(/[:-]/g,"")}.${e}`}vn[I]="src/components/ui/DownloadButton.svelte";var ad=$(Ie('<svg width="16" height="16" viewBox="0 0 24 24" class="spin svelte-15gslqv"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="31.4" stroke-dashoffset="10"></circle></svg>'),vn[I],[[69,6,[[70,8]]]]),sd=$(Ie('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>'),vn[I],[[73,6,[[74,8],[75,8],[76,8]]]]),ld=$(Z('<div class="download-dropdown svelte-15gslqv"><button class="dropdown-item svelte-15gslqv"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-15gslqv"><rect x="3" y="3" width="18" height="18" rx="2"></rect><text x="12" y="15" text-anchor="middle" font-size="8" fill="currentColor" stroke="none">SVG</text></svg> <span>Download SVG</span></button> <button class="dropdown-item svelte-15gslqv"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-15gslqv"><rect x="3" y="3" width="18" height="18" rx="2"></rect><circle cx="8.5" cy="8.5" r="1.5" fill="currentColor"></circle><path d="M21 15l-5-5L5 21"></path></svg> <span>Download PNG</span></button></div>'),vn[I],[[82,4,[[83,6,[[84,8,[[85,10],[86,10]]],[88,8]]],[90,6,[[91,8,[[92,10],[93,10],[94,10]]],[96,8]]]]]]),fd=$(Z('<div class="download-button-wrapper svelte-15gslqv"><button class="download-btn svelte-15gslqv" aria-label="Download plot"><!></button> <!></div>'),vn[I],[[60,0,[[61,2]]]]);function vn(e,t){_t(new.target),at(t,!0,vn);let n=b(Se(!1),"dropdownOpen"),r=b(Se(!1),"isExporting");function i(){ge(n,!1)}async function o(){if(t.store.spec)try{ge(r,!0);const g=id(t.store.spec),m=new Blob([g],{type:"image/svg+xml;charset=utf-8"});Os(m,$s("svg"))}catch(g){console.error(...ja("error","Failed to export SVG:",g))}finally{ge(r,!1),i()}}async function s(){if(t.store.spec)try{ge(r,!0);const g=(await Kl(od(t.store.spec,2)))();Os(g,$s("png"))}catch(g){console.error(...ja("error","Failed to export PNG:",g))}finally{ge(r,!1),i()}}function l(g){g.target.closest(".download-button-wrapper")||i()}var u={...mt()},f=fd();qn("click",no,l);var d=G(f);d.__click=()=>ge(n,!a(n));var c=G(d);{var h=g=>{var m=ad();k(g,m)},p=g=>{var m=sd();k(g,m)};A(()=>j(c,g=>{a(r)?g(h):g(p,!1)}),"if",vn,68,4)}var v=q(d,2);{var _=g=>{var m=ld(),C=G(m);C.__click=o;var w=q(C,2);w.__click=s,B(()=>{C.disabled=a(r),w.disabled=a(r)}),k(g,m)};A(()=>j(v,g=>{a(n)&&g(_)}),"if",vn,81,2)}return B(()=>{N(d,"aria-expanded",a(n)),d.disabled=a(r)}),k(e,f),st(u)}yi(["click"]),P[I]="src/lib/ForestPlot.svelte";function ud(e,t,n){if(S(e.type,"group_header"))return"band-group";if(S(e.type,"data")){const r=e.row.style;if(S(r==null?void 0:r.type,"header"))return"band-header";if(S(r==null?void 0:r.type,"summary"))return"band-summary";if(S(r==null?void 0:r.type,"spacer"))return"band-spacer"}return n&&e.depth>0?`band-depth-${Math.min(e.depth,4)}`:S(t%2,1)?"band-odd":"band-even"}function Gs(e){return S(e,void 0)||S(e,null)?"":e.toFixed(2)}function zs(e,t,n){return S(e,void 0)||S(e,null)||Number.isNaN(e)?"":S(t,void 0)||S(t,null)||S(n,void 0)||S(n,null)||Number.isNaN(t)||Number.isNaN(n)?e.toFixed(2):`${e.toFixed(2)} (${t.toFixed(2)}, ${n.toFixed(2)})`}function Vs(e,t){var r,i;if((i=(r=t.options)==null?void 0:r.bar)!=null&&i.maxValue)return t.options.bar.maxValue;let n=0;for(const o of e){const s=o.metadata[t.field];S(typeof s,"number")&&s>n&&(n=s)}return n||100}function js(e,t,n,r){const i=["webforest-table-row"];return S(e==null?void 0:e.type,"header")&&i.push("row-header"),S(e==null?void 0:e.type,"summary")&&i.push("row-summary"),S(e==null?void 0:e.type,"spacer")&&i.push("row-spacer"),e!=null&&e.bold&&i.push("row-bold"),e!=null&&e.italic&&i.push("row-italic"),t&&t>0?i.push(`row-depth-${Math.min(t,4)}`):!r&&S(n,void 0,!1)&&S(n%2,1)&&i.push("row-odd"),i.join(" ")}function Bs(e,t){const n=[];return e!=null&&e.color&&n.push(`color: ${e.color}`),e!=null&&e.bg&&n.push(`background-color: ${e.bg}`),e!=null&&e.indent&&n.push(`--row-indent: ${e.indent}`),!(e!=null&&e.indent)&&t&&t>0&&n.push(`--row-indent: ${t}`),n.join("; ")}var cd=$(Z('<div class="webforest-group-row svelte-14l8yxx" role="button" tabindex="0"><!></div>'),P[I],[[172,12]]),dd=$(Z('<span class="row-icon svelte-14l8yxx"> </span>'),P[I],[[210,37]]),hd=$(Z('<span class="row-badge svelte-14l8yxx"> </span>'),P[I],[[212,38]]),vd=$(Z('<div class="webforest-col svelte-14l8yxx"><!></div>'),P[I],[[215,16]]),gd=$(Z('<div role="button" tabindex="0"><div class="webforest-label-col svelte-14l8yxx"><!> <!></div> <!></div>'),P[I],[[193,12,[[204,14]]]]),pd=$(Z('<div class="plot-resize-handle svelte-14l8yxx"></div>'),P[I],[[256,12]]),_d=$(Ie("<rect></rect>"),P[I],[[281,12]]),md=$(Ie('<line stroke="var(--wf-border, #e2e8f0)" stroke-width="1" shape-rendering="crispEdges" class="svelte-14l8yxx"></line>'),P[I],[[295,12]]),wd=$(Ie('<text text-anchor="middle" font-size="var(--wf-font-size-sm)" font-weight="500" class="svelte-14l8yxx"> </text>'),P[I],[[330,16]]),xd=$(Ie('<line stroke-width="1.5" class="svelte-14l8yxx"></line><!>',1),P[I],[[320,14]]),yd=$(Z('<div class="webforest-plot-wrapper svelte-14l8yxx"><!> <svg class="webforest-canvas svelte-14l8yxx"><line stroke="var(--wf-border, #e2e8f0)" stroke-width="1" shape-rendering="crispEdges" class="svelte-14l8yxx"></line><!><!><line stroke="var(--wf-muted)" stroke-width="1" stroke-dasharray="4,4" class="svelte-14l8yxx"></line><!><g class="svelte-14l8yxx"><!><!></g><g class="svelte-14l8yxx"><!></g></svg></div>'),P[I],[[252,8,[[261,10,[[268,10],[307,10],[345,10],[382,10]]]]]]),bd=$(Z('<div class="webforest-group-row-right svelte-14l8yxx"></div>'),P[I],[[404,14]]),Ed=$(Z('<div class="webforest-col svelte-14l8yxx"><!></div>'),P[I],[[421,18]]),kd=$(Z("<div></div>"),P[I],[[413,14]]),Md=$(Z('<div class="webforest-table webforest-table-right svelte-14l8yxx"><!> <!></div>'),P[I],[[391,8]]),Td=$(Z('<!> <!> <div class="webforest-main svelte-14l8yxx"><div class="webforest-table webforest-table-left svelte-14l8yxx"><!> <!></div> <!> <!></div> <!> <!>',1),P[I],[[156,4,[[158,6]]]]),Sd=$(Z('<div class="webforest-empty svelte-14l8yxx">No data</div>'),P[I],[[464,4]]),Nd=$(Z('<div class="webforest-container svelte-14l8yxx"><!></div>'),P[I],[[146,0]]);function P(e,t){_t(new.target),at(t,!0,P);const n=b(E(()=>t.store.spec),"spec"),r=b(E(()=>t.store.visibleRows),"visibleRows"),i=b(E(()=>t.store.displayRows),"displayRows"),o=b(E(()=>t.store.layout),"layout"),s=b(E(()=>t.store.xScale),"xScale"),l=b(E(()=>{var O;return(O=a(n))==null?void 0:O.theme}),"theme"),u=b(E(()=>{var O;return((O=a(n))==null?void 0:O.data.includeForest)??!0}),"includeForest"),f=b(E(()=>t.store.leftColumns),"leftColumns"),d=b(E(()=>t.store.rightColumns),"rightColumns"),c=b(E(()=>t.store.leftColumnDefs),"leftColumnDefs"),h=b(E(()=>t.store.rightColumnDefs),"rightColumnDefs"),p=b(E(()=>{var O;return((O=a(n))==null?void 0:O.data.labelHeader)||"Study"}),"labelHeader"),v=b(E(()=>t.store.tooltipRow),"tooltipRow"),_=b(E(()=>t.store.tooltipPosition),"tooltipPosition"),g=b(E(()=>t.store.selectedRowIds),"selectedRowIds"),m=b(E(()=>t.store.hoveredRowId),"hoveredRowId"),C=b(E(()=>{var O,y;return S((y=(O=a(n))==null?void 0:O.interaction)==null?void 0:y.enableExport,!1,!1)}),"enableExport"),w=b(E(()=>{var O,y;return(((y=(O=a(n))==null?void 0:O.data.groups)==null?void 0:y.length)??0)>0}),"hasGroups");function M(O){return a(g).has(O)}function T(O,y){return S(O.type,"group_header")?`group_${O.group.id}`:O.row.id}function W(O){const D=t.store.getColumnWidth(O.id)??O.width;return D?`${D}px`:"auto"}function V(){const O=t.store.getColumnWidth("__label__");return O?`${O}px`:void 0}function H(){return t.store.getColumnWidth("__label__")?"none":"1"}let L=b(Se(!1),"resizingPlot"),U=0,R=0;function te(O){var y;(y=a(n))!=null&&y.interaction.enableResize&&(O.preventDefault(),O.stopPropagation(),ge(L,!0),U=O.clientX,R=a(o).forestWidth,document.addEventListener("pointermove",X),document.addEventListener("pointerup",ee))}function X(O){if(!a(L))return;const y=O.clientX-U;t.store.setPlotWidth(R+y)}function ee(){ge(L,!1),document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",ee)}const Y=b(E(()=>a(l)?`
      --wf-bg: ${a(l).colors.background};
      --wf-fg: ${a(l).colors.foreground};
      --wf-primary: ${a(l).colors.primary};
      --wf-secondary: ${a(l).colors.secondary};
      --wf-muted: ${a(l).colors.muted};
      --wf-border: ${a(l).colors.border};
      --wf-interval-line: ${a(l).colors.intervalLine};
      --wf-interval-positive: ${a(l).colors.intervalPositive};
      --wf-interval-negative: ${a(l).colors.intervalNegative};
      --wf-summary-fill: ${a(l).colors.summaryFill};
      --wf-summary-border: ${a(l).colors.summaryBorder};
      --wf-accent: ${a(l).colors.accent};
      --wf-font-family: ${a(l).typography.fontFamily};
      --wf-font-size-sm: ${a(l).typography.fontSizeSm};
      --wf-font-size-base: ${a(l).typography.fontSizeBase};
      --wf-font-size-lg: ${a(l).typography.fontSizeLg};
      --wf-font-weight-normal: ${a(l).typography.fontWeightNormal};
      --wf-font-weight-medium: ${a(l).typography.fontWeightMedium};
      --wf-font-weight-bold: ${a(l).typography.fontWeightBold};
      --wf-line-height: ${a(l).typography.lineHeight};
      --wf-row-height: ${a(l).spacing.rowHeight}px;
      --wf-header-height: ${a(l).spacing.headerHeight}px;
      --wf-column-gap: ${a(l).spacing.columnGap}px;
      --wf-padding: ${a(l).spacing.padding}px;
      --wf-cell-padding-x: ${a(l).spacing.cellPaddingX}px;
      --wf-cell-padding-y: ${a(l).spacing.cellPaddingY}px;
      --wf-point-size: ${a(l).shapes.pointSize}px;
      --wf-line-width: ${a(l).shapes.lineWidth}px;
      --wf-border-radius: ${a(l).shapes.borderRadius}px;
      --wf-container-border-radius: ${a(l).layout.containerBorderRadius}px;
    `.trim():""),"cssVars");var K={...mt()},ae=Nd(),me=G(ae);{var ne=O=>{var y=Td(),D=_e(y);{var se=be=>{A(()=>vn(be,{get store(){return t.store}}),"component",P,150,6,{componentTag:"DownloadButton"})};A(()=>j(D,be=>{a(C)&&be(se)}),"if",P,149,4)}var Ne=q(D,2);{let be=E(()=>{var Re;return(Re=a(n).labels)==null?void 0:Re.title}),Ee=E(()=>{var Re;return(Re=a(n).labels)==null?void 0:Re.subtitle});A(()=>dn(Ne,{get title(){return a(be)},get subtitle(){return a(Ee)}}),"component",P,154,4,{componentTag:"PlotHeader"})}var Ze=q(Ne,2),ht=G(Ze),de=G(ht);{let be=E(()=>{var Ee;return((Ee=a(n))==null?void 0:Ee.interaction.enableResize)??!0});A(()=>fe(de,{get columnDefs(){return a(c)},showLabel:!0,get labelHeader(){return a(p)},get store(){return t.store},get enableResize(){return a(be)}}),"component",P,160,8,{componentTag:"ColumnHeaders"})}var ye=q(de,2);ut(()=>a(i),(be,Ee)=>T(be)),A(()=>Ye(ye,19,()=>a(i),(be,Ee)=>T(be,Ee),(be,Ee,Re)=>{var Hr=ke(),vt=_e(Hr);{var Ve=Ct=>{var ie=cd();ie.__click=()=>t.store.toggleGroup(a(Ee).group.id),ie.__keydown=rt=>(S(rt.key,"Enter")||S(rt.key," "))&&t.store.toggleGroup(a(Ee).group.id);let Ht;var $t=G(ie);A(()=>Er($t,{get group(){return a(Ee).group},get rowCount(){return a(Ee).rowCount},get theme(){return a(l)}}),"component",P,181,14,{componentTag:"GroupHeader"}),B(()=>Ht=Ge(ie,"",Ht,{"padding-left":`${a(Ee).depth*12}px`})),Ei(3,ie,()=>ki,()=>({duration:150})),k(Ct,ie)},Ir=Ct=>{const ie=b(E(()=>a(Ee).row),"row");a(ie);const Ht=b(E(()=>a(Ee).depth),"rowDepth");a(Ht);const $t=b(E(()=>{var he;return((he=a(ie).style)==null?void 0:he.indent)??a(Ht)}),"effectiveIndent");a($t);const rt=b(E(()=>M(a(ie).id)),"selected");a(rt);var we=gd();we.__click=()=>t.store.selectRow(a(ie).id),we.__keydown=he=>S(he.key,"Enter")&&t.store.selectRow(a(ie).id);var Qt=G(we);let Hn;var xt=G(Qt);{var re=he=>{var J=dd(),ve=G(J,!0);B(()=>ce(ve,a(ie).style.icon)),k(he,J)};A(()=>j(xt,he=>{var J;(J=a(ie).style)!=null&&J.icon&&he(re)}),"if",P,210,16)}var z=q(xt),je=q(z);{var Ae=he=>{var J=hd(),ve=G(J,!0);B(()=>ce(ve,a(ie).style.badge)),k(he,J)};A(()=>j(je,he=>{var J;(J=a(ie).style)!=null&&J.badge&&he(Ae)}),"if",P,212,16)}var en=q(Qt,2);ut(()=>a(f),he=>he.id),A(()=>Ye(en,17,()=>a(f),he=>he.id,(he,J)=>{var ve=vd();let it;var Gt=G(ve);{var It=Be=>{{let zt=E(()=>Vs(a(r),a(J))),In=E(()=>{var Lr;return(Lr=a(J).options)==null?void 0:Lr.bar});A(()=>Kn(Be,{get value(){return a(ie).metadata[a(J).field]},get maxValue(){return a(zt)},get options(){return a(In)}}),"component",P,221,20,{componentTag:"CellBar"})}},Lt=Be=>{var zt=ke(),In=_e(zt);{var Lr=yt=>{{let mn=E(()=>{var wn;return(wn=a(J).options)==null?void 0:wn.pvalue});A(()=>Zn(yt,{get value(){return a(ie).metadata[a(J).field]},get options(){return a(mn)}}),"component",P,227,20,{componentTag:"CellPvalue"})}},Ro=yt=>{var mn=ke(),wn=_e(mn);{var Fo=bt=>{{let tn=E(()=>{var Ln;return(Ln=a(J).options)==null?void 0:Ln.sparkline});A(()=>et(bt,{get data(){return a(ie).metadata[a(J).field]},get options(){return a(tn)}}),"component",P,232,20,{componentTag:"CellSparkline"})}},Po=bt=>{var tn=ke(),Ln=_e(tn);{var Wo=Et=>{var Vt=xr();B(si=>ce(Vt,si),[()=>Gs(a(ie).metadata[a(J).field])]),k(Et,Vt)},Oo=Et=>{var Vt=ke(),si=_e(Vt);{var Ld=Dr=>{var li=xr();B(Rd=>ce(li,Rd),[()=>zs(a(ie).point,a(ie).lower,a(ie).upper)]),k(Dr,li)},Dd=Dr=>{var li=xr();B(()=>ce(li,a(ie).metadata[a(J).field]??"")),k(Dr,li)};A(()=>j(si,Dr=>{S(a(J).type,"interval")?Dr(Ld):Dr(Dd,!1)},!0),"if",P,238,18)}k(Et,Vt)};A(()=>j(Ln,Et=>{S(a(J).type,"numeric")?Et(Wo):Et(Oo,!1)},!0),"if",P,236,18)}k(bt,tn)};A(()=>j(wn,bt=>{S(a(J).type,"sparkline")?bt(Fo):bt(Po,!1)},!0),"if",P,231,18)}k(yt,mn)};A(()=>j(In,yt=>{S(a(J).type,"pvalue")?yt(Lr):yt(Ro,!1)},!0),"if",P,226,18)}k(Be,zt)};A(()=>j(Gt,Be=>{S(a(J).type,"bar")?Be(It):Be(Lt,!1)}),"if",P,220,18)}B(Be=>it=Ge(ve,"",it,Be),[()=>({width:W(a(J)),"text-align":a(J).align})]),k(he,ve)}),"each",P,214,14),B((he,J,ve)=>{Yr(we,1,`${he??""}${a(rt)?" selected":""}`,"svelte-14l8yxx"),Ge(we,J),Hn=Ge(Qt,"",Hn,ve),ce(z,` ${a(ie).label??""} `)},[()=>js(a(ie).style,a(Ht),a(Re),a(w)),()=>Bs(a(ie).style,a(Ht)),()=>({"padding-left":a($t)?`${a($t)*12}px`:void 0,width:V(),flex:H()})]),qn("mouseenter",we,()=>t.store.setHovered(a(ie).id)),qn("mouseleave",we,()=>t.store.setHovered(null)),Ei(3,we,()=>ki,()=>({duration:150})),k(Ct,we)};A(()=>j(vt,Ct=>{S(a(Ee).type,"group_header")?Ct(Ve):Ct(Ir,!1)}),"if",P,170,10)}k(be,Hr)}),"each",P,169,8);var De=q(ht,2);{var Oe=be=>{var Ee=yd(),Re=G(Ee);{var Hr=re=>{var z=pd();z.__pointerdown=te,k(re,z)};A(()=>j(Re,re=>{var z;(z=a(n))!=null&&z.interaction.enableResize&&re(Hr)}),"if",P,254,10)}var vt=q(Re,2),Ve=G(vt);N(Ve,"x1",0);var Ir=q(Ve);ut(()=>a(i),(re,z)=>T(re)),A(()=>Ye(Ir,19,()=>a(i),(re,z)=>T(re,z),(re,z,je)=>{var Ae=_d();N(Ae,"x",0);let en,he;B((J,ve)=>{var it;N(Ae,"y",a(o).headerHeight+a(je)*a(o).rowHeight),N(Ae,"width",a(o).forestWidth),N(Ae,"height",a(o).rowHeight),en=Yr(Ae,0,`row-band ${J??""}`,"svelte-14l8yxx",en,ve),he=Ge(Ae,"",he,{fill:S(a(z).type,"data")&&((it=a(z).row.style)!=null&&it.bg)?a(z).row.style.bg:void 0})},[()=>ud(a(z),a(je),a(w)),()=>({"row-hovered":S(a(z).type,"data")&&S(a(z).row.id,a(m)),"row-selected":S(a(z).type,"data")&&a(g).has(a(z).row.id)})]),k(re,Ae)}),"each",P,280,10);var Ct=q(Ir);A(()=>Ye(Ct,17,()=>a(i),Pa,(re,z,je)=>{var Ae=md();N(Ae,"x1",0),B(()=>{N(Ae,"x2",a(o).forestWidth),N(Ae,"y1",a(o).headerHeight+(je+1)*a(o).rowHeight),N(Ae,"y2",a(o).headerHeight+(je+1)*a(o).rowHeight)}),k(re,Ae)}),"each",P,294,10);var ie=q(Ct),Ht=q(ie);ut(()=>a(n).annotations,re=>re.id),A(()=>Ye(Ht,17,()=>a(n).annotations,re=>re.id,(re,z)=>{var je=ke(),Ae=_e(je);{var en=he=>{var J=xd(),ve=_e(J),it=q(ve);{var Gt=It=>{var Lt=wd(),Be=G(Lt,!0);B(zt=>{N(Lt,"x",zt),N(Lt,"y",a(o).headerHeight-4),N(Lt,"fill",a(z).color??"var(--wf-secondary)"),ce(Be,a(z).label)},[()=>a(s)(a(z).x)]),k(It,Lt)};A(()=>j(it,It=>{a(z).label&&It(Gt)}),"if",P,329,14)}B((It,Lt)=>{N(ve,"x1",It),N(ve,"x2",Lt),N(ve,"y1",a(o).headerHeight),N(ve,"y2",a(o).headerHeight+a(i).length*a(o).rowHeight),N(ve,"stroke",a(z).color??"var(--wf-accent)"),N(ve,"stroke-dasharray",S(a(z).style,"dashed")?"6,4":S(a(z).style,"dotted")?"2,2":"none")},[()=>a(s)(a(z).x),()=>a(s)(a(z).x)]),k(he,J)};A(()=>j(Ae,he=>{S(a(z).type,"reference_line")&&he(en)}),"if",P,319,12)}k(re,je)}),"each",P,318,10);var $t=q(Ht),rt=G($t);ut(()=>a(i),(re,z)=>T(re)),A(()=>Ye(rt,19,()=>a(i),(re,z)=>T(re,z),(re,z,je)=>{var Ae=ke(),en=_e(Ae);{var he=J=>{{let ve=E(()=>a(je)*a(o).rowHeight+a(o).rowHeight/2);A(()=>br(J,{get row(){return a(z).row},get yPosition(){return a(ve)},get xScale(){return a(s)},get layout(){return a(o)},get theme(){return a(l)},onRowClick:()=>t.store.selectRow(a(z).row.id),onRowHover:(it,Gt)=>{t.store.setHovered(it?a(z).row.id:null),it&&Gt?t.store.setTooltip(a(z).row.id,{x:Gt.clientX,y:Gt.clientY}):t.store.setTooltip(null,null)}}),"component",P,348,16,{componentTag:"RowInterval"})}};A(()=>j(en,J=>{S(a(z).type,"data")&&J(he)}),"if",P,347,14)}k(re,Ae)}),"each",P,346,12);var we=q(rt);{var Qt=re=>{A(()=>Tn(re,{get point(){return a(n).data.overall.point},get lower(){return a(n).data.overall.lower},get upper(){return a(n).data.overall.upper},get yPosition(){return a(o).summaryYPosition},get xScale(){return a(s)},get layout(){return a(o)},get theme(){return a(l)}}),"component",P,369,14,{componentTag:"SummaryDiamond"})};A(()=>j(we,re=>{a(n).data.overall&&a(o).showOverallSummary&&re(Qt)}),"if",P,368,12)}var Hn=q($t),xt=G(Hn);A(()=>Pt(xt,{get xScale(){return a(s)},get layout(){return a(o)},get theme(){return a(l)},get axisLabel(){return a(n).data.axisLabel},position:"bottom",get plotHeight(){return a(o).plotHeight}}),"component",P,383,12,{componentTag:"EffectAxis"}),B((re,z)=>{N(vt,"width",a(o).forestWidth),N(vt,"height",a(o).headerHeight+a(o).plotHeight+a(o).axisHeight),N(vt,"viewBox",`0 0 ${a(o).forestWidth??""} ${a(o).headerHeight+a(o).plotHeight+a(o).axisHeight}`),N(Ve,"x2",a(o).forestWidth),N(Ve,"y1",a(o).headerHeight),N(Ve,"y2",a(o).headerHeight),N(ie,"x1",re),N(ie,"x2",z),N(ie,"y1",a(o).headerHeight),N(ie,"y2",a(o).headerHeight+a(i).length*a(o).rowHeight),N($t,"transform",`translate(0, ${a(o).headerHeight??""})`),N(Hn,"transform",`translate(0, ${a(o).headerHeight+a(o).plotHeight})`)},[()=>a(s)(a(o).nullValue),()=>a(s)(a(o).nullValue)]),k(be,Ee)};A(()=>j(De,be=>{a(u)&&a(o).forestWidth>0&&be(Oe)}),"if",P,251,6)}var _n=q(De,2);{var Cn=be=>{var Ee=Md(),Re=G(Ee);{let vt=E(()=>{var Ve;return((Ve=a(n))==null?void 0:Ve.interaction.enableResize)??!0});A(()=>fe(Re,{get columnDefs(){return a(h)},showLabel:!1,get store(){return t.store},get enableResize(){return a(vt)}}),"component",P,393,10,{componentTag:"ColumnHeaders"})}var Hr=q(Re,2);ut(()=>a(i),(vt,Ve)=>T(vt)),A(()=>Ye(Hr,19,()=>a(i),(vt,Ve)=>T(vt,Ve),(vt,Ve,Ir)=>{var Ct=ke(),ie=_e(Ct);{var Ht=rt=>{var we=bd();Ei(3,we,()=>ki,()=>({duration:150})),k(rt,we)},$t=rt=>{const we=b(E(()=>a(Ve).row),"row");a(we);const Qt=b(E(()=>a(Ve).depth),"rowDepth");a(Qt);const Hn=b(E(()=>M(a(we).id)),"selected");a(Hn);var xt=kd();ut(()=>a(d),re=>re.id),A(()=>Ye(xt,21,()=>a(d),re=>re.id,(re,z)=>{var je=Ed();let Ae;var en=G(je);{var he=ve=>{{let it=E(()=>Vs(a(r),a(z))),Gt=E(()=>{var It;return(It=a(z).options)==null?void 0:It.bar});A(()=>Kn(ve,{get value(){return a(we).metadata[a(z).field]},get maxValue(){return a(it)},get options(){return a(Gt)}}),"component",P,427,22,{componentTag:"CellBar"})}},J=ve=>{var it=ke(),Gt=_e(it);{var It=Be=>{{let zt=E(()=>{var In;return(In=a(z).options)==null?void 0:In.pvalue});A(()=>Zn(Be,{get value(){return a(we).metadata[a(z).field]},get options(){return a(zt)}}),"component",P,433,22,{componentTag:"CellPvalue"})}},Lt=Be=>{var zt=ke(),In=_e(zt);{var Lr=yt=>{{let mn=E(()=>{var wn;return(wn=a(z).options)==null?void 0:wn.sparkline});A(()=>et(yt,{get data(){return a(we).metadata[a(z).field]},get options(){return a(mn)}}),"component",P,438,22,{componentTag:"CellSparkline"})}},Ro=yt=>{var mn=ke(),wn=_e(mn);{var Fo=bt=>{var tn=xr();B(Ln=>ce(tn,Ln),[()=>Gs(a(we).metadata[a(z).field])]),k(bt,tn)},Po=bt=>{var tn=ke(),Ln=_e(tn);{var Wo=Et=>{var Vt=xr();B(si=>ce(Vt,si),[()=>zs(a(we).point,a(we).lower,a(we).upper)]),k(Et,Vt)},Oo=Et=>{var Vt=xr();B(()=>ce(Vt,a(we).metadata[a(z).field]??"")),k(Et,Vt)};A(()=>j(Ln,Et=>{S(a(z).type,"interval")?Et(Wo):Et(Oo,!1)},!0),"if",P,444,20)}k(bt,tn)};A(()=>j(wn,bt=>{S(a(z).type,"numeric")?bt(Fo):bt(Po,!1)},!0),"if",P,442,20)}k(yt,mn)};A(()=>j(In,yt=>{S(a(z).type,"sparkline")?yt(Lr):yt(Ro,!1)},!0),"if",P,437,20)}k(Be,zt)};A(()=>j(Gt,Be=>{S(a(z).type,"pvalue")?Be(It):Be(Lt,!1)},!0),"if",P,432,20)}k(ve,it)};A(()=>j(en,ve=>{S(a(z).type,"bar")?ve(he):ve(J,!1)}),"if",P,426,20)}B(ve=>Ae=Ge(je,"",Ae,ve),[()=>({width:W(a(z)),"text-align":a(z).align})]),k(re,je)}),"each",P,420,16),B((re,z)=>{Yr(xt,1,`${re??""}${a(Hn)?" selected":""}`,"svelte-14l8yxx"),Ge(xt,z)},[()=>js(a(we).style,a(Qt),a(Ir),a(w)),()=>Bs(a(we).style,a(Qt))]),qn("mouseenter",xt,()=>t.store.setHovered(a(we).id)),qn("mouseleave",xt,()=>t.store.setHovered(null)),Ei(3,xt,()=>ki,()=>({duration:150})),k(rt,xt)};A(()=>j(ie,rt=>{S(a(Ve).type,"group_header")?rt(Ht):rt($t,!1)}),"if",P,402,12)}k(vt,Ct)}),"each",P,401,10),k(be,Ee)};A(()=>j(_n,be=>{a(d).length>0&&be(Cn)}),"if",P,390,6)}var lr=q(Ze,2);{let be=E(()=>{var Re;return(Re=a(n).labels)==null?void 0:Re.caption}),Ee=E(()=>{var Re;return(Re=a(n).labels)==null?void 0:Re.footnote});A(()=>hn(lr,{get caption(){return a(be)},get footnote(){return a(Ee)}}),"component",P,459,4,{componentTag:"PlotFooter"})}var ai=q(lr,2);A(()=>Yn(ai,{get row(){return a(v)},get position(){return a(_)},get theme(){return a(l)}}),"component",P,462,4,{componentTag:"Tooltip"}),k(O,y)},Me=O=>{var y=Sd();k(O,y)};A(()=>j(me,O=>{a(n)?O(ne):O(Me,!1)}),"if",P,147,2)}return B(()=>Ge(ae,a(Y))),k(e,ae),st(K)}yi(["click","keydown","pointerdown"]);function Us(){let e=b(Se(null),"spec"),t=b(Se(800),"width"),n=b(Se(400),"height"),r=b(Se(kn(new Set)),"selectedRowIds"),i=b(Se(kn(new Set)),"collapsedGroups"),o=b(Se(null),"sortConfig"),s=b(Se(null),"filterConfig"),l=b(Se(null),"hoveredRowId"),u=b(Se(null),"tooltipRowId"),f=b(Se(null),"tooltipPosition"),d=qi(kn({}),"columnWidths"),c=b(Se(null),"plotWidthOverride");const h=b(E(()=>{if(!a(e))return[];let y=[...a(e).data.rows];return a(s)&&(y=Ad(y,a(s))),a(o)&&(y=Cd(y,a(o))),y}),"visibleRows"),p=b(E(()=>{if(!a(e))return ti().domain([0,1]).range([0,100]);const y=a(e).data.rows,D=a(e).theme.axis,se=$r(D==null?void 0:D.rangeMin,null,!1),Ne=$r(D==null?void 0:D.rangeMax,null,!1);let Ze;if(se&&Ne)Ze=[D.rangeMin,D.rangeMax];else{const De=y.flatMap(lr=>[lr.lower,lr.upper]),[Oe,_n]=[Math.min(...De),Math.max(...De)],Cn=_n-Oe;Ze=[se?D.rangeMin:Oe-Cn*Di,Ne?D.rangeMax:_n+Cn*Di]}const ht=S(a(e).data.scale,"log"),de=a(e).data.includeForest?a(c)??Math.max(a(t)*.25,200):0,ye=Hs(Ze,ht);if(ht){const De=[Math.max(ye[0],.01),Math.max(ye[1],.02)];return ms().domain(De).range([0,de])}return ti().domain(ye).range([0,de])}),"xScale");function v(y,D){const se=[];for(const Ne of y)S(Ne.position,D,!1)||(Ne.isGroup?se.push(...v(Ne.columns,D)):se.push(Ne));return se}const _=b(E(()=>a(e)?v(a(e).columns,"left"):[]),"leftColumns"),g=b(E(()=>a(e)?v(a(e).columns,"right"):[]),"rightColumns"),m=b(E(()=>a(e)?a(e).columns.filter(y=>S(y.position,"left")):[]),"leftColumnDefs"),C=b(E(()=>a(e)?a(e).columns.filter(y=>S(y.position,"right")):[]),"rightColumnDefs"),w=b(E(()=>{const y=new Map;if(!a(e))return y;for(const D of a(e).data.groups)y.set(D.id,D);return y}),"groupMap"),M=b(E(()=>{const y=new Map;if(!a(e))return y;for(const D of a(e).data.groups)y.set(D.id,D.depth);return y}),"groupDepthMap");function T(y){return y?(a(M).get(y)??0)+1:0}function W(y){if(!y)return!1;let D=y;for(;D;){const se=a(w).get(D);if(!se)break;if(se.parentId&&a(i).has(se.parentId))return!0;D=se.parentId}return!1}const V=b(E(()=>{var ht;if(!a(e))return[];const y=[],D=new Map;for(const de of a(h)){const ye=de.groupId??null;D.has(ye)||D.set(ye,[]),D.get(ye).push(de)}const se=new Set;for(const de of D.keys()){if(!de)continue;let ye=de;for(;ye;)se.add(ye),ye=(ht=a(w).get(ye))==null?void 0:ht.parentId}function Ne(de){return a(e).data.groups.filter(ye=>S(ye.parentId??null,de)&&se.has(ye.id))}function Ze(de){var De;if(de){const Oe=a(w).get(de);if(!Oe||W(de))return;const _n=a(i).has(Oe.id),Cn=((De=D.get(de))==null?void 0:De.length)??0;if(y.push({type:"group_header",group:{...Oe,collapsed:_n},rowCount:Cn,depth:Oe.depth}),_n)return}for(const Oe of Ne(de))Ze(Oe.id);const ye=D.get(de)??[];for(const Oe of ye)y.push({type:"data",row:Oe,depth:T(Oe.groupId)})}return Ze(null),y}),"displayRows"),H=b(E(()=>{if(!a(e))return{totalWidth:a(t),totalHeight:a(n),tableWidth:300,forestWidth:400,headerHeight:36,rowHeight:28,plotHeight:300,axisHeight:32,nullValue:0,summaryYPosition:0,showOverallSummary:!1};const y=a(e).theme.spacing.rowHeight,D=a(e).theme.spacing.headerHeight,se=32,Ne=a(e).data.includeForest,Ze=Ne?a(c)??Math.max(a(t)*.25,200):0,ht=a(t)-Ze-(Ne?a(e).theme.spacing.columnGap:0),de=!!a(e).data.overall,De=a(V).length*y+(de?y*1.5:0);return{totalWidth:a(t),totalHeight:Math.max(a(n),De+D+se+a(e).theme.spacing.padding*2),tableWidth:ht,forestWidth:Ze,headerHeight:D,rowHeight:y,plotHeight:De,axisHeight:se,nullValue:a(e).data.nullValue,summaryYPosition:De-y,showOverallSummary:de}}),"layout");function L(y){ge(e,y,!0),ge(i,new Set(y.data.groups.filter(D=>D.collapsed).map(D=>D.id)),!0)}function U(y,D){ge(t,y,!0),ge(n,D,!0)}function R(y){const D=new Set(a(r));D.has(y)?D.delete(y):D.add(y),ge(r,D,!0)}function te(y,D){const se=new Set(a(i));D??!se.has(y)?se.add(y):se.delete(y),ge(i,se,!0)}function X(y,D){ge(o,S(D,"none")?null:{column:y,direction:D},!0)}function ee(y){ge(s,y,!0)}function Y(y){ge(l,y,!0)}function K(y,D){ge(u,y,!0),ge(f,D,!0)}function ae(y,D){d[y]=Math.max(40,D)}function me(y){return d[y]}function ne(y){ge(c,S(y,null)?null:Math.max(100,y),!0)}function Me(){return a(c)}const O=b(E(()=>!a(u)||!a(e)?null:a(e).data.rows.find(y=>S(y.id,a(u)))??null),"tooltipRow");return{get spec(){return a(e)},get width(){return a(t)},get height(){return a(n)},get visibleRows(){return a(h)},get xScale(){return a(p)},get layout(){return a(H)},get selectedRowIds(){return a(r)},get collapsedGroups(){return a(i)},get hoveredRowId(){return a(l)},get leftColumns(){return a(_)},get rightColumns(){return a(g)},get leftColumnDefs(){return a(m)},get rightColumnDefs(){return a(C)},get displayRows(){return a(V)},get tooltipRow(){return a(O)},get tooltipPosition(){return a(f)},get columnWidths(){return d},getRowDepth:T,getColumnWidth:me,getPlotWidth:Me,setSpec:L,setDimensions:U,selectRow:R,toggleGroup:te,sortBy:X,setFilter:ee,setHovered:Y,setTooltip:K,setColumnWidth:ae,setPlotWidth:ne}}function Ad(e,t){return e.filter(n=>{const r=n.metadata[t.field]??n[t.field];switch(t.operator){case"eq":return S(r,t.value);case"neq":return S(r,t.value,!1);case"gt":return S(typeof r,"number")&&r>t.value;case"lt":return S(typeof r,"number")&&r<t.value;case"contains":return S(typeof r,"string")&&r.toLowerCase().includes(t.value.toLowerCase());default:return!0}})}function Cd(e,t){const n=[...e],{column:r,direction:i}=t;return n.sort((o,s)=>{const l=o.metadata[r]??o[r],u=s.metadata[r]??s[r];let f=0;return S(typeof l,"number")&&S(typeof u,"number")?f=l-u:S(typeof l,"string")&&S(typeof u,"string")&&(f=l.localeCompare(u)),S(i,"desc")?-f:f}),n}const qs=new Map,Xs={updateData:(e,t)=>{t.spec&&e.setSpec(t.spec)},toggleGroup:(e,t)=>{e.toggleGroup(t.groupId,t.collapsed)},applyFilter:(e,t)=>{e.setFilter(t.filter)},clearFilter:e=>{e.setFilter(null)},sortBy:(e,t)=>{e.sortBy(t.column,t.direction)}},Hd={name:"webforest",type:"output",factory:(e,t,n)=>{let r=null;const i=Us();return e.id&&qs.set(e.id,i),{renderValue:o=>{i.setSpec(o),i.setDimensions(t,n),r&&Sf(r),r=Mf(P,{target:e,props:{store:i}}),window.Shiny&&e.id&&Id(e.id,i)},resize:(o,s)=>{i.setDimensions(o,s)}}}};function Id(e,t){pa(()=>{var r;const n=t.selectedRowIds;(r=window.Shiny)==null||r.setInputValue(`${e}_selected`,Array.from(n),{priority:"event"})}),pa(()=>{var r;const n=t.hoveredRowId;(r=window.Shiny)==null||r.setInputValue(`${e}_hover`,n,{priority:"event"})})}return S(typeof window,"undefined",!1)&&window.HTMLWidgets&&window.HTMLWidgets.widget(Hd),S(typeof window,"undefined",!1)&&window.Shiny&&window.Shiny.addCustomMessageHandler("webforest-proxy",e=>{const t=qs.get(e.id);t&&e.method in Xs&&Xs[e.method](t,e.args)}),xe.ForestPlot=P,xe.createForestStore=Us,Object.defineProperty(xe,Symbol.toStringTag,{value:"Module"}),xe})({});
