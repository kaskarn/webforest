(function(){"use strict";function ct(t,r){if(r){const c=[.1,.2,.5,1,2,5,10,20,50,100];let f=c[0];for(const s of c)if(s<=t[0])f=s;else break;let a=c[c.length-1];for(let s=c.length-1;s>=0&&c[s]>=t[1];s--)a=c[s];return[f,a]}const n=t[1]-t[0];if(n===0)return t;const o=Math.pow(10,Math.floor(Math.log10(n))),i=n/o;let e;i<=1?e=o*.1:i<=2?e=o*.2:i<=5?e=o*.5:e=o;const h=Math.floor(t[0]/e)*e,l=Math.ceil(t[1]/e)*e;return[h,l]}const Q=.15,ft=.06,ht=.05,tt=.04;function ut(t){return t<=0?0:tt+t*tt}const _={DEFAULT_LABEL_WIDTH:150,DEFAULT_COLUMN_WIDTH:80,AXIS_HEIGHT:32,AXIS_LABEL_HEIGHT:20,BOTTOM_MARGIN:16,MIN_FOREST_WIDTH:200,DEFAULT_WIDTH:800,COLUMN_GAP:16},M={TITLE_HEIGHT:28,SUBTITLE_HEIGHT:20,CAPTION_HEIGHT:16,FOOTNOTE_HEIGHT:14,DEFAULT_FONT_SIZE:14,REM_BASE:16,TEXT_BASELINE_ADJUSTMENT:1/3},w={INDENT_PER_LEVEL:12,TEXT_PADDING:10,WHISKER_HALF_HEIGHT:4,DEFAULT_TICK_COUNT:5},ot={GROUP_HEADER_HEIGHT_MULTIPLIER:1.5,OVERALL_ROW_HEIGHT_MULTIPLIER:1.5};function pt(t,r){var k,q,R,Y;const n=t.theme,o=n.spacing.rowHeight,i=n.spacing.padding,e=Array.isArray(t.columns)?t.columns:[],h=X(e,"left"),l=X(e,"right"),f=j(h)||j(l)?n.spacing.headerHeight*ot.GROUP_HEADER_HEIGHT_MULTIPLIER:n.spacing.headerHeight,a=!!((k=t.labels)!=null&&k.title),s=!!((q=t.labels)!=null&&q.subtitle),p=!!((R=t.labels)!=null&&R.caption),g=!!((Y=t.labels)!=null&&Y.footnote),u=a?M.TITLE_HEIGHT:0,d=s?M.SUBTITLE_HEIGHT:0,$=u+d+(a||s?i:0),x=p?M.CAPTION_HEIGHT:0,y=g?M.FOOTNOTE_HEIGHT:0,m=x+y+(p||g?i:0),A=nt(t).length,E=!!t.data.overall,L=A*o+(E?o*ot.OVERALL_ROW_HEIGHT_MULTIPLIER:0),b=P(e,"left"),H=P(e,"right"),T=_.DEFAULT_LABEL_WIDTH+b.reduce((C,Z)=>C+(Z.width??_.DEFAULT_COLUMN_WIDTH),0),N=H.reduce((C,Z)=>C+(Z.width??_.DEFAULT_COLUMN_WIDTH),0),G=r.width??_.DEFAULT_WIDTH,O=t.data.includeForest,V=T+N;let S;if(!O)S=0;else if(typeof t.layout.plotWidth=="number")S=t.layout.plotWidth;else{const C=G-V-_.COLUMN_GAP*2-i*2;S=Math.max(C,_.MIN_FOREST_WIDTH)}const U=i*2+V+S+_.COLUMN_GAP*2,v=Math.max(r.width??G,U),z=$+i+f+L+_.AXIS_HEIGHT+_.AXIS_LABEL_HEIGHT+m+_.BOTTOM_MARGIN;return{totalWidth:v,totalHeight:r.height??z,tableWidth:T+N,forestWidth:S,headerHeight:f,rowHeight:o,plotHeight:L,axisHeight:_.AXIS_HEIGHT,nullValue:t.data.nullValue,summaryYPosition:L-o,showOverallSummary:E,headerTextHeight:$,footerTextHeight:m,titleY:i+M.TITLE_HEIGHT-8,subtitleY:i+u+M.SUBTITLE_HEIGHT-4,mainY:$+i,footerY:$+i+f+L+_.AXIS_HEIGHT+_.AXIS_LABEL_HEIGHT+i}}function nt(t){var a;const r=t.data.rows,n=Array.isArray(t.data.groups)?t.data.groups:[];if(n.length===0)return r.map(s=>({type:"data",row:s,depth:0}));const o=new Map;for(const s of n)o.set(s.id,s);const i=new Map;for(const s of r){const p=s.groupId??null;i.has(p)||i.set(p,[]),i.get(p).push(s)}const e=new Set;for(const s of i.keys()){if(!s)continue;let p=s;for(;p;)e.add(p),p=(a=o.get(p))==null?void 0:a.parentId}function h(s){return n.filter(p=>(p.parentId??null)===s&&e.has(p.id))}function l(s){if(!s)return 0;const p=o.get(s);return p?p.depth+1:0}const c=[];function f(s){var g;if(s){const u=o.get(s);if(!u)return;const d=((g=i.get(s))==null?void 0:g.length)??0;c.push({type:"group_header",groupId:u.id,label:u.label,depth:u.depth,rowCount:d})}for(const u of h(s))f(u.id);const p=i.get(s)??[];for(const u of p)c.push({type:"data",row:u,depth:l(u.groupId)})}return f(null),c}function P(t,r){const n=[];for(const o of t)o.position===r&&(o.isGroup?n.push(...P(o.columns,r)):n.push(o));return n}function X(t,r){return t.filter(n=>n.position===r)}function j(t){return t.some(r=>r.isGroup)}function et(t,r){return t.isGroup?t.columns.reduce((n,o)=>n+et(o,r),0):t.width??r}function F(t){return t.endsWith("rem")?parseFloat(t)*M.REM_BASE:t.endsWith("px")?parseFloat(t):M.DEFAULT_FONT_SIZE}function B(t,r,n){return n==="right"?{textX:t+r-w.TEXT_PADDING,anchor:"end"}:n==="center"?{textX:t+r/2,anchor:"middle"}:{textX:t+w.TEXT_PADDING,anchor:"start"}}function D(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function J(t){return t==null||Number.isNaN(t)?"":Number.isInteger(t)||Math.abs(t-Math.round(t))<1e-4?Math.round(t).toString():t.toFixed(2)}function dt(t,r,n){return t==null||Number.isNaN(t)?"":r==null||n===void 0||n===null||Number.isNaN(r)||Number.isNaN(n)?J(t):`${t.toFixed(2)} (${r.toFixed(2)}, ${n.toFixed(2)})`}function gt(t){return Math.abs(t)<.01?"0":Math.abs(t)>=100?t.toFixed(0):Math.abs(t)>=10?t.toFixed(1):t.toFixed(2)}function $t(t,r){const[n,o]=t,[i,e]=r,h=(e-i)/(o-n),l=c=>i+(c-n)*h;return l.domain=()=>t,l.range=()=>r,l.ticks=c=>{const f=(o-n)/(c-1),a=[];for(let s=0;s<c;s++)a.push(n+f*s);return a},l}function yt(t,r){const[n,o]=t.map(a=>Math.max(a,.001)),[i,e]=r,h=Math.log10(n),l=Math.log10(o),c=(e-i)/(l-h),f=a=>{const s=Math.log10(Math.max(a,.001));return i+(s-h)*c};return f.domain=()=>[n,o],f.range=()=>r,f.ticks=a=>{const s=[],p=Math.floor(Math.log10(n)),g=Math.ceil(Math.log10(o));for(let u=p;u<=g;u++){const d=Math.pow(10,u);for(const $ of[1,2,5]){const x=d*$;x>=n&&x<=o&&s.push(x)}}return s.length>0?s:[n,o]},f}function xt(t,r){const n=t.data.rows,o=t.theme.axis,i=t.data.scale==="log",e=typeof(o==null?void 0:o.rangeMin)=="number",h=typeof(o==null?void 0:o.rangeMax)=="number";let l;if(e&&h)l=[o.rangeMin,o.rangeMax];else{const f=n.flatMap(a=>[a.lower,a.upper]).filter(a=>a!=null&&!Number.isNaN(a)&&Number.isFinite(a));if(f.length===0)l=i?[.1,10]:[0,1];else{const[a,s]=[Math.min(...f),Math.max(...f)],p=s-a||1;l=[e?o.rangeMin:a-p*Q,h?o.rangeMax:s+p*Q]}}const c=ct(l,i);return i?yt([Math.max(c[0],.01),Math.max(c[1],.02)],[0,r]):$t(c,[0,r])}function Tt(t,r,n){var e,h;const o=[],i=n.spacing.padding;if((e=t.labels)!=null&&e.title){const l=F(n.typography.fontSizeLg);o.push(`<text x="${i}" y="${r.titleY}"
      font-family="${n.typography.fontFamily}"
      font-size="${l}px"
      font-weight="${n.typography.fontWeightBold}"
      fill="${n.colors.foreground}">${D(t.labels.title)}</text>`)}if((h=t.labels)!=null&&h.subtitle){const l=F(n.typography.fontSizeBase);o.push(`<text x="${i}" y="${r.subtitleY}"
      font-family="${n.typography.fontFamily}"
      font-size="${l}px"
      fill="${n.colors.secondary}">${D(t.labels.subtitle)}</text>`)}return o.join(`
`)}function Et(t,r,n){var h,l;const o=[],i=n.spacing.padding;let e=r.footerY;if((h=t.labels)!=null&&h.caption){const c=F(n.typography.fontSizeSm);o.push(`<text x="${i}" y="${e}"
      font-family="${n.typography.fontFamily}"
      font-size="${c}px"
      fill="${n.colors.secondary}">${D(t.labels.caption)}</text>`),e+=M.CAPTION_HEIGHT}if((l=t.labels)!=null&&l.footnote){const c=F(n.typography.fontSizeSm);o.push(`<text x="${i}" y="${e}"
      font-family="${n.typography.fontFamily}"
      font-size="${c}px"
      font-style="italic"
      fill="${n.colors.muted}">${D(t.labels.footnote)}</text>`)}return o.join(`
`)}function rt(t,r,n,o,i,e,h,l){const c=[],f=F(e.typography.fontSizeSm),a=e.typography.fontWeightMedium,s=e.typography.fontWeightBold,p=j(t),g=_.DEFAULT_COLUMN_WIDTH,u=l??_.DEFAULT_LABEL_WIDTH,d=($,x)=>$+x/2+f*M.TEXT_BASELINE_ADJUSTMENT;if(p){const $=i/2,x=i/2;let y=n;h&&(c.push(`<text x="${y+w.TEXT_PADDING}" y="${d(o,i)}"
        font-family="${e.typography.fontFamily}"
        font-size="${f}px"
        font-weight="${a}"
        fill="${e.colors.foreground}">${D(h)}</text>`),c.push(`<line x1="${y+u}" x2="${y+u}"
        y1="${o}" y2="${o+i}"
        stroke="${e.colors.border}" stroke-width="1" opacity="0.3"/>`),y+=u);for(const m of t)if(m.isGroup){const I=et(m,g),A=y+I/2;c.push(`<text x="${A}" y="${d(o,$)}"
          font-family="${e.typography.fontFamily}"
          font-size="${f}px"
          font-weight="${s}"
          text-anchor="middle"
          fill="${e.colors.foreground}">${D(m.header)}</text>`),c.push(`<line x1="${y}" x2="${y+I}"
          y1="${o+$}" y2="${o+$}"
          stroke="${e.colors.border}" stroke-width="1" opacity="0.5"/>`),y+=I}else{const I=m.width??g,{textX:A,anchor:E}=B(y,I,m.align);c.push(`<text x="${A}" y="${d(o,i)}"
          font-family="${e.typography.fontFamily}"
          font-size="${f}px"
          font-weight="${a}"
          text-anchor="${E}"
          fill="${e.colors.foreground}">${D(m.header)}</text>`),y+=I}y=n+(h?u:0);for(const m of t)if(m.isGroup){for(const I of m.columns)if(!I.isGroup){const A=I.width??g,{textX:E,anchor:L}=B(y,A,I.align);c.push(`<text x="${E}" y="${d(o+$,x)}"
              font-family="${e.typography.fontFamily}"
              font-size="${f}px"
              font-weight="${a}"
              text-anchor="${L}"
              fill="${e.colors.foreground}">${D(I.header)}</text>`),y+=A}}else y+=m.width??g}else{let $=n;h&&(c.push(`<text x="${$+w.TEXT_PADDING}" y="${d(o,i)}"
        font-family="${e.typography.fontFamily}"
        font-size="${f}px"
        font-weight="${a}"
        fill="${e.colors.foreground}">${D(h)}</text>`),$+=u);for(const x of r){const y=x.width??g,{textX:m,anchor:I}=B($,y,x.align);c.push(`<text x="${m}" y="${d(o,i)}"
        font-family="${e.typography.fontFamily}"
        font-size="${f}px"
        font-weight="${a}"
        text-anchor="${I}"
        fill="${e.colors.foreground}">${D(x.header)}</text>`),$+=y}}return c.join(`
`)}function mt(t,r,n,o,i,e,h){const l=[],c=F(h.typography.fontSizeBase),f=o+i/2+c*M.TEXT_BASELINE_ADJUSTMENT,a=r*w.INDENT_PER_LEVEL;return l.push(`<rect x="${n}" y="${o}"
    width="${e}" height="${i}"
    fill="${h.colors.primary}" opacity="${ht}"/>`),l.push(`<text x="${n+w.TEXT_PADDING+a}" y="${f}"
    font-family="${h.typography.fontFamily}"
    font-size="${c}px"
    font-weight="${h.typography.fontWeightBold}"
    fill="${h.colors.foreground}">${D(t)}</text>`),l.join(`
`)}function it(t,r){const n=new Map;for(const o of r)if(o.type==="bar"){let i=0;for(const e of t){const h=e.metadata[o.field];typeof h=="number"&&h>i&&(i=h)}n.set(o.field,i>0?i:1)}return n}function st(t,r,n,o,i,e,h,l=_.DEFAULT_LABEL_WIDTH,c=0,f){var u,d,$,x,y,m,I,A,E,L,b,H;const a=[],s=F(e.typography.fontSizeBase),p=o+i/2+s*M.TEXT_BASELINE_ADJUSTMENT;let g=n;if(h){const T=c*w.INDENT_PER_LEVEL+(((u=t.style)==null?void 0:u.indent)??0)*w.INDENT_PER_LEVEL,N=(d=t.style)!=null&&d.bold?e.typography.fontWeightBold:e.typography.fontWeightNormal,G=($=t.style)!=null&&$.italic?"italic":"normal";a.push(`<text x="${g+w.TEXT_PADDING+T}" y="${p}"
      font-family="${e.typography.fontFamily}"
      font-size="${s}px"
      font-weight="${N}"
      font-style="${G}"
      fill="${((x=t.style)==null?void 0:x.color)??e.colors.foreground}">${D(t.label)}</text>`),g+=l}for(const T of r){const N=T.width??_.DEFAULT_COLUMN_WIDTH,G=_t(t,T),{textX:O,anchor:V}=B(g,N,T.align);if(T.type==="bar"&&typeof t.metadata[T.field]=="number"){const S=t.metadata[T.field],U=f==null?void 0:f.get(T.field),v=((m=(y=T.options)==null?void 0:y.bar)==null?void 0:m.maxValue)??U??100,z=((A=(I=T.options)==null?void 0:I.bar)==null?void 0:A.color)??e.colors.primary,k=e.shapes.pointSize*2,R=N-w.TEXT_PADDING*2-50,Y=Math.min(S/v*R,R);a.push(`<rect x="${g+w.TEXT_PADDING}" y="${o+i/2-k/2}"
        width="${Math.max(0,Y)}" height="${k}"
        fill="${z}" opacity="0.7" rx="2"/>`);const C=g+N-w.TEXT_PADDING;a.push(`<text x="${C}" y="${p}"
        font-family="${e.typography.fontFamily}"
        font-size="${s}px"
        text-anchor="end"
        fill="${e.colors.foreground}">${J(S)}</text>`)}else if(T.type==="sparkline"&&Array.isArray(t.metadata[T.field])){const S=t.metadata[T.field],U=((L=(E=T.options)==null?void 0:E.sparkline)==null?void 0:L.height)??16,v=((H=(b=T.options)==null?void 0:b.sparkline)==null?void 0:H.color)??e.colors.primary,z=w.TEXT_PADDING*2,k=It(S,g+w.TEXT_PADDING,o+i/2-U/2,N-z,U);a.push(`<path d="${k}" fill="none" stroke="${v}" stroke-width="1.5"/>`)}else a.push(`<text x="${O}" y="${p}"
        font-family="${e.typography.fontFamily}"
        font-size="${s}px"
        text-anchor="${V}"
        fill="${e.colors.foreground}">${D(G)}</text>`);g+=N}return a.join(`
`)}function _t(t,r){var o,i,e,h;if(r.type==="interval")return dt(t.point,t.lower,t.upper);if(r.type==="numeric"){const l=t.metadata[r.field];return typeof l=="number"?J(l):""}if(r.type==="pvalue"){const l=t.metadata[r.field];if(typeof l!="number")return"";const c=(i=(o=r.options)==null?void 0:o.pvalue)==null?void 0:i.stars,f=((h=(e=r.options)==null?void 0:e.pvalue)==null?void 0:h.thresholds)??[.05,.01,.001];let a="";return c&&(l<f[2]?a="***":l<f[1]?a="**":l<f[0]&&(a="*")),l<.001?`<0.001${a}`:`${l.toFixed(3)}${a}`}const n=t.metadata[r.field];return n!=null?String(n):""}function It(t,r,n,o,i){if(t.length===0)return"";const e=Math.min(...t),l=Math.max(...t)-e||1;return`M${t.map((f,a)=>{const s=r+a/(t.length-1)*o,p=n+i-(f-e)/l*i;return`${s.toFixed(1)},${p.toFixed(1)}`}).join("L")}`}const at=6;function K(t,r,n){const o=t.metadata[r];return o!=null&&typeof o=="number"&&!Number.isNaN(o)?o:n}function Ht(t,r){return r<=1?0:-((r-1)*at)/2+t*at}function At(t,r,n,o,i,e=[]){let h;e.length===0?h=[{point:t.point,lower:t.lower,upper:t.upper,color:null}]:h=e.map(d=>({point:K(t,d.pointCol,t.point),lower:K(t,d.lowerCol,t.lower),upper:K(t,d.upperCol,t.upper),color:d.color??null}));const l=h.filter(d=>d.point!=null&&!Number.isNaN(d.point)&&d.lower!=null&&!Number.isNaN(d.lower)&&d.upper!=null&&!Number.isNaN(d.upper));if(l.length===0)return"";const c=o.shapes.pointSize,f=t.metadata.weight;let a=c;if(f){const d=.5+Math.sqrt(f/100)*1.5;a=Math.min(Math.max(c*d,3),c*2.5)}const s=o.shapes.lineWidth,p=o.colors.intervalLine,g=w.WHISKER_HALF_HEIGHT,u=[];return l.forEach((d,$)=>{const x=r+Ht($,l.length),y=n(d.lower),m=n(d.upper),I=n(d.point),A=d.color??p,E=d.color??(d.point>i?o.colors.intervalPositive:d.point<i?o.colors.intervalNegative:o.colors.muted);u.push(`
      <g class="interval effect-${$}">
        <!-- CI line -->
        <line x1="${y}" x2="${m}" y1="${x}" y2="${x}"
          stroke="${A}" stroke-width="${s}"/>
        <!-- Whiskers -->
        <line x1="${y}" x2="${y}" y1="${x-g}" y2="${x+g}"
          stroke="${A}" stroke-width="${s}"/>
        <line x1="${m}" x2="${m}" y1="${x-g}" y2="${x+g}"
          stroke="${A}" stroke-width="${s}"/>
        <!-- Point -->
        <rect x="${I-a}" y="${x-a}"
          width="${a*2}" height="${a*2}" fill="${E}"/>
      </g>`)}),u.join("")}function wt(t,r,n,o,i,e,h,l){const f=l.shapes.summaryHeight/2,a=i(r),s=i(t),p=i(n),g=e+Math.max(0,Math.min(h,a)),u=e+Math.max(0,Math.min(h,s)),d=e+Math.max(0,Math.min(h,p));return`<polygon points="${[`${g},${o}`,`${u},${o-f}`,`${d},${o}`,`${u},${o+f}`].join(" ")}"
    fill="${l.colors.summaryFill}"
    stroke="${l.colors.summaryBorder}"
    stroke-width="1"/>`}function Lt(t,r,n,o,i){const e=[],h=typeof n.axis.tickCount=="number"?n.axis.tickCount:w.DEFAULT_TICK_COUNT,l=Array.isArray(n.axis.tickValues)?n.axis.tickValues:t.ticks(h),c=F(n.typography.fontSizeSm);e.push(`<line x1="${i}" x2="${i+r.forestWidth}"
    y1="0" y2="0" stroke="${n.colors.border}" stroke-width="1"/>`);for(const f of l){const a=i+t(f);e.push(`<line x1="${a}" x2="${a}" y1="0" y2="4"
      stroke="${n.colors.border}" stroke-width="1"/>`),e.push(`<text x="${a}" y="16" text-anchor="middle"
      font-family="${n.typography.fontFamily}"
      font-size="${c}px"
      fill="${n.colors.secondary}">${gt(f)}</text>`)}return o&&e.push(`<text x="${i+r.forestWidth/2}" y="28"
      text-anchor="middle"
      font-family="${n.typography.fontFamily}"
      font-size="${c}px"
      font-weight="500"
      fill="${n.colors.secondary}">${D(o)}</text>`),`<g transform="translate(0, ${r.mainY+r.headerHeight+r.plotHeight})">${e.join(`
`)}</g>`}function lt(t,r,n,o,i,e){let l=`<line x1="${t}" x2="${t}" y1="${r}" y2="${n}"
    stroke="${i}" stroke-width="1" stroke-dasharray="${o==="dashed"?"6,4":o==="dotted"?"2,2":"none"}"/>`;return e&&(l+=`<text x="${t}" y="${r-4}" text-anchor="middle"
      font-size="10px" fill="${i}">${D(e)}</text>`),l}class W extends Error{constructor(r){super(`SVG Generator: ${r}`),this.name="SVGGeneratorError"}}function Dt(t){if(!t||typeof t!="object")throw new W("Invalid spec: expected an object");const r=t;if(!r.data||typeof r.data!="object")throw new W("Invalid spec: missing or invalid 'data' property");const n=r.data;if(!Array.isArray(n.rows))throw new W("Invalid spec: 'data.rows' must be an array");if(!r.theme||typeof r.theme!="object")throw new W("Invalid spec: missing or invalid 'theme' property");const o=r.theme;if(!o.colors||typeof o.colors!="object")throw new W("Invalid spec: missing or invalid 'theme.colors'");if(!o.typography||typeof o.typography!="object")throw new W("Invalid spec: missing or invalid 'theme.typography'");if(!o.spacing||typeof o.spacing!="object")throw new W("Invalid spec: missing or invalid 'theme.spacing'")}function Nt(t,r={}){Dt(t);const n=t.theme,o=pt(t,r),i=n.spacing.padding,e=Array.isArray(t.columns)?t.columns:[],h=X(e,"left"),l=X(e,"right"),c=P(e,"left"),f=P(e,"right"),a=_.DEFAULT_LABEL_WIDTH+c.reduce((E,L)=>E+(L.width??_.DEFAULT_COLUMN_WIDTH),0),s=i+a,p=xt(t,o.forestWidth),g=s+o.forestWidth,u=[];u.push(`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg"
  width="${o.totalWidth}" height="${o.totalHeight}"
  viewBox="0 0 ${o.totalWidth} ${o.totalHeight}">`);const d=r.backgroundColor??n.colors.background;u.push(`<rect width="100%" height="100%" fill="${d}"/>`),u.push(Tt(t,o,n));const $=o.mainY;u.push(rt(h,c,i,$,o.headerHeight,n,t.data.labelHeader??"Study",_.DEFAULT_LABEL_WIDTH)),f.length>0&&u.push(rt(l,f,g,$,o.headerHeight,n)),u.push(`<line x1="${i}" x2="${o.totalWidth-i}"
    y1="${$+o.headerHeight}" y2="${$+o.headerHeight}"
    stroke="${n.colors.border}" stroke-width="1"/>`);const x=nt(t);if(t.data.includeForest&&o.forestWidth>0){const E=o.mainY+o.headerHeight,L=s+p(t.data.nullValue);u.push(lt(L,E,E+o.plotHeight,"dashed",n.colors.muted));const b=Array.isArray(t.annotations)?t.annotations:[];for(const H of b)if(H.type==="reference_line"){const T=s+p(H.x);u.push(lt(T,E,E+o.plotHeight,H.style,H.color??n.colors.accent,H.label))}if(x.forEach((H,T)=>{if(H.type==="data"){const N=E+T*o.rowHeight+o.rowHeight/2;u.push(At(H.row,N,G=>s+p(G),n,t.data.nullValue,t.data.effects))}}),t.data.overall&&o.showOverallSummary){const H=E+o.summaryYPosition;u.push(wt(t.data.overall.point,t.data.overall.lower,t.data.overall.upper,H,p,s,o.forestWidth,n))}u.push(Lt(p,o,n,t.data.axisLabel,s))}const y=o.mainY+o.headerHeight,m=t.data.rows,I=it(m,c),A=it(m,f);return x.forEach((E,L)=>{const b=y+L*o.rowHeight;if(E.type==="group_header")u.push(mt(E.label,E.depth,i,b,o.rowHeight,o.totalWidth-i*2,n));else{const H=E.row,T=E.depth,N=ut(T),G=L%2===1?ft:0,O=Math.max(N,G);O>0&&u.push(`<rect x="${i}" y="${b}"
          width="${o.totalWidth-i*2}" height="${o.rowHeight}"
          fill="${n.colors.muted}" opacity="${O}"/>`),u.push(st(H,c,i,b,o.rowHeight,n,!0,_.DEFAULT_LABEL_WIDTH,T,I)),f.length>0&&u.push(st(H,f,g,b,o.rowHeight,n,!1,0,T,A))}u.push(`<line x1="${i}" x2="${o.totalWidth-i}"
      y1="${b+o.rowHeight}" y2="${b+o.rowHeight}"
      stroke="${n.colors.border}" stroke-width="1" opacity="0.5"/>`)}),u.push(Et(t,o,n)),u.push("</svg>"),u.join(`
`)}function bt(t,r){const n=JSON.parse(t);return Nt(n,r)}globalThis.generateSVG=bt})();
