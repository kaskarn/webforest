---
title: "tabviz"
subtitle: "Interactive Tables with Embedded Visualizations for R"
---

```{r}
#| include: false
library(tabviz)
```

## Overview

**tabviz** is an R htmlwidgets package for creating interactive tables with embedded visualizations. Build dashboard tables, forest plots, and rich data displays with 16+ column types including sparklines, bar charts, badges, and confidence intervals.

```{r}
#| echo: false
# GLP-1 cardiovascular outcomes meta-analysis
data(glp1_trials)

tabviz(
  glp1_trials,
  label = "study",
  group = "group",
  columns = list(
    col_group("Study Info",
      col_text("drug", "Drug"),
      col_n("n")
    ),
    viz_forest(
      point = "hr", lower = "lower", upper = "upper",
      scale = "log", null_value = 1,
      axis_label = "Hazard Ratio (95% CI)",
      axis_range = c(0.4, 1.5),
      axis_ticks = c(0.5, 0.75, 1.0, 1.25),
      axis_gridlines = TRUE,
      annotations = list(
        refline(0.85, label = "Pooled HR", style = "dashed", color = "#00407a")
      )
    ),
    col_group("Results",
      col_events("events", "n", "Events"),
      col_interval("HR (95% CI)", point = "hr", lower = "lower", upper = "upper"),
      col_pvalue("pvalue", "P")
    )
  ),
  row_type = "row_type", row_bold = "row_bold",
  theme = web_theme_nature(),
  title = "GLP-1 Agonist Cardiovascular Outcomes",
  subtitle = "Major adverse cardiovascular events (MACE)"
)
```

## Creating Tables

Use `tabviz()` with explicit column definitions:

```r
tabviz(data,
  label = "study",
  columns = list(
    col_text("category"),
    col_numeric("value"),
    viz_forest(point = "hr", lower = "lo", upper = "hi",
               scale = "log", null_value = 1),
    col_interval("HR (95% CI)", point = "hr", lower = "lo", upper = "hi"),
    col_sparkline("trend")
  )
)
```

## Features

::: {.grid}
::: {.g-col-6}
**Visualization**

- 9 preset themes (JAMA, Lancet, Nature, etc.)
- 16+ column types (bars, p-values, sparklines)
- Hierarchical grouping with collapsible sections
- Multiple effects per row (ITT vs Per-Protocol)
:::

::: {.g-col-6}
**Interactivity**

- Hover tooltips with custom content
- Column sorting and resizing
- Row selection and highlighting
- Split view navigation for subgroups
:::
:::

::: {.grid}
::: {.g-col-6}
**Export**

- SVG, PNG, PDF output
- Publication-quality figures at 300 DPI
- Consistent rendering between web and export
:::

::: {.g-col-6}
**Developer Experience**

- Fluent API with R pipes
- Declarative column system
- Type-safe styling with column mapping
:::
:::

## Installation

```r
# install.packages("pak")
pak::pak("kaskarn/tabviz")
```

## Quick Example

```r
library(tabviz)

tabviz(data,
  label = "study",
  columns = list(
    col_text("category"),
    viz_forest(point = "estimate", lower = "ci_lower", upper = "ci_upper",
               scale = "log", null_value = 1),
    col_interval("Est (95% CI)", point = "estimate",
                 lower = "ci_lower", upper = "ci_upper"),
    col_numeric("n")
  )
)
```

## Guide

Learn how to use tabviz:

| Chapter | Description |
|---------|-------------|
| [Quick Start](guide/quick-start.qmd) | Installation and basic usage |
| [Columns](guide/columns.qmd) | Column types, usage, and column groups |
| [Row Styling](guide/row-styling.qmd) | Headers, summaries, indentation, and badges |
| [Cell Styling](guide/cell-styling.qmd) | Per-cell conditional formatting |
| [Row Groups](guide/row-groups.qmd) | Collapsible sections from column values |
| [Forest Plots](guide/visualizations/forest-plots.qmd) | Adding forest columns with viz_forest() |
| [Split Plots](guide/split-plots.qmd) | Sidebar navigation for subgroups |
| [Themes](guide/themes.qmd) | Preset themes and customization |
| [Shiny Integration](guide/shiny.qmd) | Reactive tables |
| [Export](guide/export.qmd) | SVG, PNG, PDF output |

## More Resources

- [Concepts](concepts/index.qmd) - Architecture and mental models
- [Cheatsheet](cheatsheet.qmd) - Quick reference
- [Gallery](gallery/index.qmd) - Examples by domain
- [Reference](reference/index.qmd) - API documentation
