---
title: "webforest"
subtitle: "Interactive Forest Plots for R"
---

```{r}
#| include: false
library(webforest)
```

## Overview

**webforest** is an R htmlwidgets package for creating interactive, web-native forest plots. While traditionally used for meta-analysis, it supports any data with point estimates and confidence intervals.

```{r}
#| echo: false
# GLP-1 cardiovascular outcomes meta-analysis
data(glp1_trials)

forest_plot(
  glp1_trials,
  point = "hr", lower = "lower", upper = "upper",
  label = "study",
  group = "group",
  columns = list(
    col_group("Study Info",
      col_text("drug", "Drug"),
      col_n("n"),
      position = "left"
    ),
    col_group("Results",
      col_events("events", "n", "Events"),
      col_interval("HR (95% CI)"),
      col_pvalue("pvalue", "P"),
      position = "right"
    )
  ),
  annotations = list(
    forest_refline(0.85, label = "Pooled HR", style = "dashed", color = "#00407a")
  ),
  row_type = "row_type", row_bold = "row_bold",
  theme = web_theme_nature(),
  scale = "log", null_value = 1,
  axis_range = c(0.4, 1.5),
  axis_ticks = c(0.5, 0.75, 1.0, 1.25),
  axis_gridlines = TRUE,
  axis_label = "Hazard Ratio (95% CI)",
  title = "GLP-1 Agonist Cardiovascular Outcomes",
  subtitle = "Major adverse cardiovascular events (MACE)"
)
```

## Features

::: {.grid}
::: {.g-col-6}
**Visualization**

- 9 preset themes (JAMA, Lancet, Nature, etc.)
- 16+ column types (bars, p-values, sparklines)
- Hierarchical grouping with collapsible sections
- Multiple effects per row (ITT vs Per-Protocol)
:::

::: {.g-col-6}
**Interactivity**

- Hover tooltips with custom content
- Column sorting and resizing
- Row selection and highlighting
- Split view navigation for subgroups
:::
:::

::: {.grid}
::: {.g-col-6}
**Export**

- SVG, PNG, PDF output
- Publication-quality figures at 300 DPI
- Consistent rendering between web and export
:::

::: {.g-col-6}
**Developer Experience**

- Fluent API with R pipes
- Declarative column system
- Type-safe styling with column mapping
:::
:::

## Installation

```r
# install.packages("pak")
pak::pak("kaskarn/webforest")
```

## Quick Example

```r
library(webforest)

forest_plot(data,
  point = "estimate",
  lower = "ci_lower",
  upper = "ci_upper",
  label = "study",
  null_value = 1,
  scale = "log"
)
```

## Guide

Learn how to use webforest:

| Chapter | Description |
|---------|-------------|
| [Quick Start](guide/quick-start.qmd) | Installation and basic usage |
| [Forest Plots](guide/forest-plots.qmd) | Data mapping, markers, axis control, exporting |
| [Columns](guide/columns.qmd) | Column types, usage, and column groups |
| [Row Styling](guide/row-styling.qmd) | Headers, summaries, indentation, and badges |
| [Cell Styling](guide/cell-styling.qmd) | Per-cell conditional formatting |
| [Row Groups](guide/row-groups.qmd) | Collapsible sections from column values |
| [Split Plots](guide/split-plots.qmd) | Sidebar navigation for subgroups |
| [Themes](guide/themes.qmd) | Preset themes and customization |
| [The Fluent API](guide/fluent-api.qmd) | Pipe-based workflows with set_*() |
| [Shiny Integration](guide/shiny.qmd) | Reactive forest plots |
| [Package Data](guide/package-data.qmd) | Built-in datasets and examples |

## More Resources

- [Cheatsheet](cheatsheet.qmd) - Quick reference
- [Gallery - Basic](gallery-basic.qmd) - Simple examples
- [Gallery - Advanced](gallery-advanced.qmd) - Complex examples
- [Reference](reference/index.qmd) - API documentation
