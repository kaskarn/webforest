var tabviz=(function(be){"use strict";var bp=Object.defineProperty;var ef=be=>{throw TypeError(be)};var Mp=(be,Oe,en)=>Oe in be?bp(be,Oe,{enumerable:!0,configurable:!0,writable:!0,value:en}):be[Oe]=en;var Ar=(be,Oe,en)=>Mp(be,typeof Oe!="symbol"?Oe+"":Oe,en),Cl=(be,Oe,en)=>Oe.has(be)||ef("Cannot "+en);var V=(be,Oe,en)=>(Cl(be,Oe,"read from private field"),en?en.call(be):Oe.get(be)),le=(be,Oe,en)=>Oe.has(be)?ef("Cannot add the same private member more than once"):Oe instanceof WeakSet?Oe.add(be):Oe.set(be,en),Gt=(be,Oe,en,Ta)=>(Cl(be,Oe,"write to private field"),Ta?Ta.call(be,en):Oe.set(be,en),en),Ze=(be,Oe,en)=>(Cl(be,Oe,"access private method"),en);var Uc,qc,Ji,Qi,Ti,ki,zo,$i,to,cn,Tl,Do,kl,nf,rf,er,nr,Sl,Cr,Ni,Tr,rr,Rn,kr,Vr,ei,Ai,ni,Hi,Or,_a,rn,Sp,Ep,Nl,Ea,Ca,Al,hr,Nr,Gn,Wi,Lo,Po,ya,Yc;const gn=Symbol(),L=Symbol("filename"),of="http://www.w3.org/1999/xhtml",Hl=(qc=(Uc=globalThis.process)==null?void 0:Uc.env)==null?void 0:qc.NODE_ENV,ot=Hl&&!Hl.toLowerCase().startsWith("prod");var ho=Array.isArray,af=Array.prototype.indexOf,Bo=Array.from,ri=Object.defineProperty,Fi=Object.getOwnPropertyDescriptor,Wl=Object.getOwnPropertyDescriptors,Rl=Object.prototype,lf=Array.prototype,Go=Object.getPrototypeOf,Il=Object.isExtensible;const Fl=()=>{};function sf(t){for(var e=0;e<t.length;e++)t[e]()}function zl(){var t,e,r=new Promise((i,o)=>{t=i,e=o});return{promise:r,resolve:t,reject:e}}function ka(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const r=[];for(const i of t)if(r.push(i),r.length===e)break;return r}const ln=2,Na=4,Aa=8,cf=1<<24,Hr=16,Wr=32,jr=64,Vo=128,or=512,vn=1024,En=2048,pr=4096,zn=8192,Ur=16384,Ha=32768,ii=65536,Oo=1<<17,Ll=1<<18,oi=1<<19,ff=1<<20,Rr=1<<25,qr=32768,Wa=1<<21,Xo=1<<22,Yr=1<<23,mr=Symbol("$state"),uf=Symbol(""),Pl=Symbol("proxy path"),zi=new class extends Error{constructor(){super(...arguments);Ar(this,"name","StaleReactionError");Ar(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}},df=1,hf=11;function Dl(){if(ot){const t=new Error("invalid_snippet_arguments\nA snippet function was passed invalid arguments. Snippets should only be instantiated via `{@render ...}`\nhttps://svelte.dev/e/invalid_snippet_arguments");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/invalid_snippet_arguments")}function gf(){if(ot){const t=new Error("snippet_without_render_tag\nAttempted to render a snippet without a `{@render}` block. This would cause the snippet code to be stringified instead of its content being rendered to the DOM. To fix this, change `{snippet}` to `{@render snippet()}`.\nhttps://svelte.dev/e/snippet_without_render_tag");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/snippet_without_render_tag")}function vf(){if(ot){const t=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/async_derived_orphan")}function pf(t,e){if(ot){const r=new Error(`component_api_changed
Calling \`${t}\` on a component instance (of ${e}) is no longer valid in Svelte 5
https://svelte.dev/e/component_api_changed`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/component_api_changed")}function mf(t,e){if(ot){const r=new Error(`component_api_invalid_new
Attempted to instantiate ${t} with \`new ${e}\`, which is no longer valid in Svelte 5. If this component is not under your control, set the \`compatibility.componentApi\` compiler option to \`4\` to keep it working.
https://svelte.dev/e/component_api_invalid_new`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/component_api_invalid_new")}function _f(){if(ot){const t=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/derived_references_self")}function yf(t,e,r){if(ot){const i=new Error(`each_key_duplicate
${r?`Keyed each block has duplicate key \`${r}\` at indexes ${t} and ${e}`:`Keyed each block has duplicate key at indexes ${t} and ${e}`}
https://svelte.dev/e/each_key_duplicate`);throw i.name="Svelte error",i}else throw new Error("https://svelte.dev/e/each_key_duplicate")}function xf(t){if(ot){const e=new Error(`effect_in_teardown
\`${t}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function wf(){if(ot){const t=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function bf(t){if(ot){const e=new Error(`effect_orphan
\`${t}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_orphan")}function Mf(){if(ot){const t=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Sf(){if(ot){const t=new Error("invalid_snippet\nCould not `{@render}` snippet due to the expression being `null` or `undefined`. Consider using optional chaining `{@render snippet?.()}`\nhttps://svelte.dev/e/invalid_snippet");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/invalid_snippet")}function Ef(t){if(ot){const e=new Error(`rune_outside_svelte
The \`${t}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function Cf(){if(ot){const t=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Tf(){if(ot){const t=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function kf(){if(ot){const t=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Nf(){if(ot){const t=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}var ai="font-weight: bold",li="font-weight: normal";function Af(t){ot?console.warn(`%c[svelte] console_log_state
%cYour \`console.${t}\` contained \`$state\` proxies. Consider using \`$inspect(...)\` or \`$state.snapshot(...)\` instead
https://svelte.dev/e/console_log_state`,ai,li):console.warn("https://svelte.dev/e/console_log_state")}function Hf(t,e){ot?console.warn(`%c[svelte] event_handler_invalid
%c${t} should be a function. Did you mean to ${e}?
https://svelte.dev/e/event_handler_invalid`,ai,li):console.warn("https://svelte.dev/e/event_handler_invalid")}function Wf(){ot?console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,ai,li):console.warn("https://svelte.dev/e/lifecycle_double_unmount")}function Rf(){ot?console.warn("%c[svelte] select_multiple_invalid_value\n%cThe `value` property of a `<select multiple>` element should be an array, but it received a non-array value. The selection will be kept as is.\nhttps://svelte.dev/e/select_multiple_invalid_value",ai,li):console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function go(t){ot?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${t}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,ai,li):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}function If(){ot?console.warn(`%c[svelte] state_proxy_unmount
%cTried to unmount a state proxy, rather than a component
https://svelte.dev/e/state_proxy_unmount`,ai,li):console.warn("https://svelte.dev/e/state_proxy_unmount")}function Ff(){ot?console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",ai,li):console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Ap(t){}function Bl(t){return t===this.v}function Gl(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Vl(t){return!Gl(t,this.v)}let zf=!1;var Lf="font-weight: bold",Pf="font-weight: normal";function Ol(t){ot?console.warn(`%c[svelte] state_snapshot_uncloneable
%c${t?`The following properties cannot be cloned with \`$state.snapshot\` — the return value contains the originals:

${t}`:"Value cannot be cloned with `$state.snapshot` — the original value was returned"}
https://svelte.dev/e/state_snapshot_uncloneable`,Lf,Pf):console.warn("https://svelte.dev/e/state_snapshot_uncloneable")}const Df=[];function Bf(t,e=!1,r=!1){if(ot&&!e){const i=[],o=vo(t,new Map,"",i,null,r);if(i.length===1&&i[0]==="")Ol();else if(i.length>0){const a=i.length>10?i.slice(0,7):i.slice(0,10),l=i.length-a.length;let f=a.map(c=>`- <value>${c}`).join(`
`);l>0&&(f+=`
- ...and ${l} more`),Ol(f)}return o}return vo(t,new Map,"",Df,null,r)}function vo(t,e,r,i,o=null,a=!1){if(typeof t=="object"&&t!==null){var l=e.get(t);if(l!==void 0)return l;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(ho(t)){var f=Array(t.length);e.set(t,f),o!==null&&e.set(o,f);for(var c=0;c<t.length;c+=1){var s=t[c];c in t&&(f[c]=vo(s,e,ot?`${r}[${c}]`:r,i,null,a))}return f}if(Go(t)===Rl){f={},e.set(t,f),o!==null&&e.set(o,f);for(var g in t)f[g]=vo(t[g],e,ot?`${r}.${g}`:r,i,null,a);return f}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function"&&!a)return vo(t.toJSON(),e,ot?`${r}.toJSON()`:r,i,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return ot&&i.push(r),t}}function p(t,e){return t.label=e,Xl(t.v,e),t}function Xl(t,e){var r;return(r=t==null?void 0:t[Pl])==null||r.call(t,e),t}function Gf(t){const e=new Error,r=Vf();return r.length===0?null:(r.unshift(`
`),ri(e,"stack",{value:r.join(`
`)}),ri(e,"name",{value:t}),e)}function Vf(){const t=Error.stackTraceLimit;Error.stackTraceLimit=1/0;const e=new Error().stack;if(Error.stackTraceLimit=t,!e)return[];const r=e.split(`
`),i=[];for(let o=0;o<r.length;o++){const a=r[o],l=a.replaceAll("\\","/");if(a.trim()!=="Error"){if(a.includes("validate_each_keys"))return[];l.includes("svelte/src/internal")||l.includes("node_modules/.vite")||i.push(a)}}return i}let $e=null;function Li(t){$e=t}let Ir=null;function jo(t){Ir=t}function R(t,e,r,i,o,a){const l=Ir;Ir={type:e,file:r[L],line:i,column:o,parent:l,...a};try{return t()}finally{Ir=l}}let Pi=null;function Uo(t){Pi=t}function Me(t,e=!1,r){$e={p:$e,i:!1,c:null,e:null,s:t,x:null,l:null},ot&&($e.function=r,Pi=r)}function Se(t){var e=$e,r=e.e;if(r!==null){e.e=null;for(var i of r)as(i)}return t!==void 0&&(e.x=t),e.i=!0,$e=e.p,ot&&(Pi=($e==null?void 0:$e.function)??null),t??{}}function jl(){return!0}let si=[];function Ul(){var t=si;si=[],sf(t)}function Di(t){if(si.length===0&&!po){var e=si;queueMicrotask(()=>{e===si&&Ul()})}si.push(t)}function Of(){for(;si.length>0;)Ul()}const Ra=new WeakMap;function ql(t){var e=me;if(e===null)return $t.f|=Yr,t;if(ot&&t instanceof Error&&!Ra.has(t)&&Ra.set(t,Xf(t,e)),(e.f&Ha)===0){if((e.f&Vo)===0)throw ot&&!e.parent&&t instanceof Error&&Yl(t),t;e.b.error(t)}else Bi(t,e)}function Bi(t,e){for(;e!==null;){if((e.f&Vo)!==0)try{e.b.error(t);return}catch(r){t=r}e=e.parent}throw ot&&t instanceof Error&&Yl(t),t}function Xf(t,e){var l,f,c;const r=Fi(t,"message");if(!(r&&!r.configurable)){for(var i=Ba?"  ":"	",o=`
${i}in ${((l=e.fn)==null?void 0:l.name)||"<unknown>"}`,a=e.ctx;a!==null;)o+=`
${i}in ${(f=a.function)==null?void 0:f[L].split("/").pop()}`,a=a.p;return{message:t.message+`
${o}
`,stack:(c=t.stack)==null?void 0:c.split(`
`).filter(s=>!s.includes("svelte/src/internal")).join(`
`)}}}function Yl(t){const e=Ra.get(t);e&&(ri(t,"message",{value:e.message}),ri(t,"stack",{value:e.stack}))}const qo=new Set;let se=null,Ke=null,On=[],Yo=null,Ia=!1,po=!1;const ma=class ma{constructor(){le(this,cn);Ar(this,"committed",!1);Ar(this,"current",new Map);Ar(this,"previous",new Map);le(this,Ji,new Set);le(this,Qi,new Set);le(this,Ti,0);le(this,ki,0);le(this,zo,null);le(this,$i,new Set);le(this,to,new Set);Ar(this,"skipped_effects",new Set);Ar(this,"is_fork",!1)}is_deferred(){return this.is_fork||V(this,ki)>0}process(e){var i;On=[],this.apply();var r={parent:null,effect:null,effects:[],render_effects:[]};for(const o of e)Ze(this,cn,Tl).call(this,o,r);this.is_fork||Ze(this,cn,nf).call(this),this.is_deferred()?(Ze(this,cn,Do).call(this,r.effects),Ze(this,cn,Do).call(this,r.render_effects)):(se=null,Kl(r.render_effects),Kl(r.effects),(i=V(this,zo))==null||i.resolve()),Ke=null}capture(e,r){this.previous.has(e)||this.previous.set(e,r),(e.f&Yr)===0&&(this.current.set(e,e.v),Ke==null||Ke.set(e,e.v))}activate(){se=this,this.apply()}deactivate(){se===this&&(se=null,Ke=null)}flush(){if(this.activate(),On.length>0){if(Zl(),se!==null&&se!==this)return}else V(this,Ti)===0&&this.process([]);this.deactivate()}discard(){for(const e of V(this,Qi))e(this);V(this,Qi).clear()}increment(e){Gt(this,Ti,V(this,Ti)+1),e&&Gt(this,ki,V(this,ki)+1)}decrement(e){Gt(this,Ti,V(this,Ti)-1),e&&Gt(this,ki,V(this,ki)-1),this.revive()}revive(){for(const e of V(this,$i))V(this,to).delete(e),pn(e,En),ci(e);for(const e of V(this,to))pn(e,pr),ci(e);this.flush()}oncommit(e){V(this,Ji).add(e)}ondiscard(e){V(this,Qi).add(e)}settled(){return(V(this,zo)??Gt(this,zo,zl())).promise}static ensure(){if(se===null){const e=se=new ma;qo.add(se),po||ma.enqueue(()=>{se===e&&e.flush()})}return se}static enqueue(e){Di(e)}apply(){}};Ji=new WeakMap,Qi=new WeakMap,Ti=new WeakMap,ki=new WeakMap,zo=new WeakMap,$i=new WeakMap,to=new WeakMap,cn=new WeakSet,Tl=function(e,r){var g;e.f^=vn;for(var i=e.first;i!==null;){var o=i.f,a=(o&(Wr|jr))!==0,l=a&&(o&vn)!==0,f=l||(o&zn)!==0||this.skipped_effects.has(i);if((i.f&Vo)!==0&&((g=i.b)!=null&&g.is_pending())&&(r={parent:r,effect:i,effects:[],render_effects:[]}),!f&&i.fn!==null){a?i.f^=vn:(o&Na)!==0?r.effects.push(i):wo(i)&&((i.f&Hr)!==0&&V(this,$i).add(i),bo(i));var c=i.first;if(c!==null){i=c;continue}}var s=i.parent;for(i=i.next;i===null&&s!==null;)s===r.effect&&(Ze(this,cn,Do).call(this,r.effects),Ze(this,cn,Do).call(this,r.render_effects),r=r.parent),i=s.next,s=s.parent}},Do=function(e){for(const r of e)(r.f&En)!==0?V(this,$i).add(r):(r.f&pr)!==0&&V(this,to).add(r),Ze(this,cn,kl).call(this,r.deps),pn(r,vn)},kl=function(e){if(e!==null)for(const r of e)(r.f&ln)===0||(r.f&qr)===0||(r.f^=qr,Ze(this,cn,kl).call(this,r.deps))},nf=function(){if(V(this,ki)===0){for(const e of V(this,Ji))e();V(this,Ji).clear()}V(this,Ti)===0&&Ze(this,cn,rf).call(this)},rf=function(){var a;if(qo.size>1){this.previous.clear();var e=Ke,r=!0,i={parent:null,effect:null,effects:[],render_effects:[]};for(const l of qo){if(l===this){r=!1;continue}const f=[];for(const[s,g]of this.current){if(l.current.has(s))if(r&&g!==l.current.get(s))l.current.set(s,g);else continue;f.push(s)}if(f.length===0)continue;const c=[...l.current.keys()].filter(s=>!this.current.has(s));if(c.length>0){var o=On;On=[];const s=new Set,g=new Map;for(const d of f)Jl(d,c,s,g);if(On.length>0){se=l,l.apply();for(const d of On)Ze(a=l,cn,Tl).call(a,d,i);l.deactivate()}On=o}}se=null,Ke=e}this.committed=!0,qo.delete(this)};let _r=ma;function jf(t){var e=po;po=!0;try{for(var r;;){if(Of(),On.length===0&&(se==null||se.flush(),On.length===0))return Yo=null,r;Zl()}}finally{po=e}}function Zl(){var t=hi;Ia=!0;var e=ot?new Set:null;try{var r=0;for($o(!0);On.length>0;){var i=_r.ensure();if(r++>1e3){if(ot){var o=new Map;for(const l of i.current.keys())for(const[f,c]of l.updated??[]){var a=o.get(f);a||(a={error:c.error,count:0},o.set(f,a)),a.count+=c.count}for(const l of o.values())l.error&&console.error(l.error)}Uf()}if(i.process(On),Zr.clear(),ot)for(const l of i.current.keys())e.add(l)}}finally{if(Ia=!1,$o(t),Yo=null,ot)for(const l of e)l.updated=null}}function Uf(){try{Mf()}catch(t){ot&&ri(t,"stack",{value:""}),Bi(t,Yo)}}let ar=null;function Kl(t){var e=t.length;if(e!==0){for(var r=0;r<e;){var i=t[r++];if((i.f&(Ur|zn))===0&&wo(i)&&(ar=new Set,bo(i),i.deps===null&&i.first===null&&i.nodes===null&&(i.teardown===null&&i.ac===null?fs(i):i.fn=null),(ar==null?void 0:ar.size)>0)){Zr.clear();for(const o of ar){if((o.f&(Ur|zn))!==0)continue;const a=[o];let l=o.parent;for(;l!==null;)ar.has(l)&&(ar.delete(l),a.push(l)),l=l.parent;for(let f=a.length-1;f>=0;f--){const c=a[f];(c.f&(Ur|zn))===0&&bo(c)}}ar.clear()}}ar=null}}function Jl(t,e,r,i){if(!r.has(t)&&(r.add(t),t.reactions!==null))for(const o of t.reactions){const a=o.f;(a&ln)!==0?Jl(o,e,r,i):(a&(Xo|Hr))!==0&&(a&En)===0&&Ql(o,e,i)&&(pn(o,En),ci(o))}}function Ql(t,e,r){const i=r.get(t);if(i!==void 0)return i;if(t.deps!==null)for(const o of t.deps){if(e.includes(o))return!0;if((o.f&ln)!==0&&Ql(o,e,r))return r.set(o,!0),!0}return r.set(t,!1),!1}function ci(t){for(var e=Yo=t;e.parent!==null;){e=e.parent;var r=e.f;if(Ia&&e===me&&(r&Hr)!==0&&(r&Ll)===0)return;if((r&(jr|Wr))!==0){if((r&vn)===0)return;e.f^=vn}}On.push(e)}function qf(t){let e=0,r=fi(0),i;return ot&&p(r,"createSubscriber version"),()=>{yo()&&(n(r),Jo(()=>(e===0&&(i=ea(()=>t(()=>mo(r)))),e+=1,()=>{Di(()=>{e-=1,e===0&&(i==null||i(),i=void 0,mo(r))})})))}}var Yf=ii|oi|Vo;function Zf(t,e,r){new Kf(t,e,r)}class Kf{constructor(e,r,i){le(this,rn);Ar(this,"parent");le(this,er,!1);le(this,nr);le(this,Sl,null);le(this,Cr);le(this,Ni);le(this,Tr);le(this,rr,null);le(this,Rn,null);le(this,kr,null);le(this,Vr,null);le(this,ei,null);le(this,Ai,0);le(this,ni,0);le(this,Hi,!1);le(this,Or,null);le(this,_a,qf(()=>(Gt(this,Or,fi(V(this,Ai))),ot&&p(V(this,Or),"$effect.pending()"),()=>{Gt(this,Or,null)})));Gt(this,nr,e),Gt(this,Cr,r),Gt(this,Ni,i),this.parent=me.b,Gt(this,er,!!V(this,Cr).pending),Gt(this,Tr,Qo(()=>{me.b=this;{var o=Ze(this,rn,Nl).call(this);try{Gt(this,rr,Xn(()=>i(o)))}catch(a){this.error(a)}V(this,ni)>0?Ze(this,rn,Ca).call(this):Gt(this,er,!1)}return()=>{var a;(a=V(this,ei))==null||a.remove()}},Yf))}is_pending(){return V(this,er)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!V(this,Cr).pending}update_pending_count(e){Ze(this,rn,Al).call(this,e),Gt(this,Ai,V(this,Ai)+e),V(this,Or)&&Vi(V(this,Or),V(this,Ai))}get_effect_pending(){return V(this,_a).call(this),n(V(this,Or))}error(e){var r=V(this,Cr).onerror;let i=V(this,Cr).failed;if(V(this,Hi)||!r&&!i)throw e;V(this,rr)&&(xn(V(this,rr)),Gt(this,rr,null)),V(this,Rn)&&(xn(V(this,Rn)),Gt(this,Rn,null)),V(this,kr)&&(xn(V(this,kr)),Gt(this,kr,null));var o=!1,a=!1;const l=()=>{if(o){Ff();return}o=!0,a&&Nf(),_r.ensure(),Gt(this,Ai,0),V(this,kr)!==null&&di(V(this,kr),()=>{Gt(this,kr,null)}),Gt(this,er,this.has_pending_snippet()),Gt(this,rr,Ze(this,rn,Ea).call(this,()=>(Gt(this,Hi,!1),Xn(()=>V(this,Ni).call(this,V(this,nr)))))),V(this,ni)>0?Ze(this,rn,Ca).call(this):Gt(this,er,!1)};var f=$t;try{Cn(null),a=!0,r==null||r(e,l),a=!1}catch(c){Bi(c,V(this,Tr)&&V(this,Tr).parent)}finally{Cn(f)}i&&Di(()=>{Gt(this,kr,Ze(this,rn,Ea).call(this,()=>{_r.ensure(),Gt(this,Hi,!0);try{return Xn(()=>{i(V(this,nr),()=>e,()=>l)})}catch(c){return Bi(c,V(this,Tr).parent),null}finally{Gt(this,Hi,!1)}}))})}}er=new WeakMap,nr=new WeakMap,Sl=new WeakMap,Cr=new WeakMap,Ni=new WeakMap,Tr=new WeakMap,rr=new WeakMap,Rn=new WeakMap,kr=new WeakMap,Vr=new WeakMap,ei=new WeakMap,Ai=new WeakMap,ni=new WeakMap,Hi=new WeakMap,Or=new WeakMap,_a=new WeakMap,rn=new WeakSet,Sp=function(){try{Gt(this,rr,Xn(()=>V(this,Ni).call(this,V(this,nr))))}catch(e){this.error(e)}Gt(this,er,!1)},Ep=function(){const e=V(this,Cr).pending;e&&(Gt(this,Rn,Xn(()=>e(V(this,nr)))),_r.enqueue(()=>{var r=Ze(this,rn,Nl).call(this);Gt(this,rr,Ze(this,rn,Ea).call(this,()=>(_r.ensure(),Xn(()=>V(this,Ni).call(this,r))))),V(this,ni)>0?Ze(this,rn,Ca).call(this):(di(V(this,Rn),()=>{Gt(this,Rn,null)}),Gt(this,er,!1))}))},Nl=function(){var e=V(this,nr);return V(this,er)&&(Gt(this,ei,Kr()),V(this,nr).before(V(this,ei)),e=V(this,ei)),e},Ea=function(e){var r=me,i=$t,o=$e;lr(V(this,Tr)),Cn(V(this,Tr)),Li(V(this,Tr).ctx);try{return e()}catch(a){return ql(a),null}finally{lr(r),Cn(i),Li(o)}},Ca=function(){const e=V(this,Cr).pending;V(this,rr)!==null&&(Gt(this,Vr,document.createDocumentFragment()),V(this,Vr).append(V(this,ei)),hs(V(this,rr),V(this,Vr))),V(this,Rn)===null&&Gt(this,Rn,Xn(()=>e(V(this,nr))))},Al=function(e){var r;if(!this.has_pending_snippet()){this.parent&&Ze(r=this.parent,rn,Al).call(r,e);return}Gt(this,ni,V(this,ni)+e),V(this,ni)===0&&(Gt(this,er,!1),V(this,Rn)&&di(V(this,Rn),()=>{Gt(this,Rn,null)}),V(this,Vr)&&(V(this,nr).before(V(this,Vr)),Gt(this,Vr,null)))};function Jf(t,e,r,i){const o=Fa;if(r.length===0&&t.length===0){i(e.map(o));return}var a=se,l=me,f=Qf();function c(){Promise.all(r.map(s=>eu(s))).then(s=>{f();try{i([...e.map(o),...s])}catch(g){(l.f&Ur)===0&&Bi(g,l)}a==null||a.deactivate(),Zo()}).catch(s=>{Bi(s,l)})}t.length>0?Promise.all(t).then(()=>{f();try{return c()}finally{a==null||a.deactivate(),Zo()}}):c()}function Qf(){var t=me,e=$t,r=$e,i=se;if(ot)var o=Ir;return function(l=!0){lr(t),Cn(e),Li(r),l&&(i==null||i.activate()),ot&&jo(o)}}async function $f(t){var e=await t;return()=>e}function Zo(){lr(null),Cn(null),Li(null),ot&&jo(null)}const tu=new Set;function Fa(t){var e=ln|En,r=$t!==null&&($t.f&ln)!==0?$t:null;return me!==null&&(me.f|=oi),{ctx:$e,deps:null,effects:null,equals:Bl,f:e,fn:t,reactions:null,rv:0,v:gn,wv:0,parent:r??me,ac:null}}function eu(t,e){let r=me;r===null&&vf();var i=r.b,o=void 0,a=fi(gn),l=!$t,f=new Map;return mu(()=>{var u;var c=zl();o=c.promise;try{Promise.resolve(t()).then(c.resolve,c.reject).then(()=>{s===se&&s.committed&&s.deactivate(),Zo()})}catch(h){c.reject(h),Zo()}var s=se;if(l){var g=!i.is_pending();i.update_pending_count(1),s.increment(g),(u=f.get(s))==null||u.reject(zi),f.delete(s),f.set(s,c)}const d=(h,v=void 0)=>{if(s.activate(),v)v!==zi&&(a.f|=Yr,Vi(a,v));else{(a.f&Yr)!==0&&(a.f^=Yr),Vi(a,h);for(const[_,y]of f){if(f.delete(_),_===s)break;y.reject(zi)}}l&&(i.update_pending_count(-1),s.decrement(g))};c.promise.then(d,h=>d(null,h||"unknown"))}),Va(()=>{for(const c of f.values())c.reject(zi)}),ot&&(a.f|=Xo),new Promise(c=>{function s(g){function d(){g===o?c(a):s(o)}g.then(d,d)}s(o)})}function m(t){const e=Fa(t);return vs(e),e}function nu(t){const e=Fa(t);return e.equals=Vl,e}function za(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)xn(e[r])}}let La=[];function ru(t){for(var e=t.parent;e!==null;){if((e.f&ln)===0)return(e.f&Ur)===0?e:null;e=e.parent}return null}function Pa(t){var e,r=me;if(lr(ru(t)),ot){let i=Gi;ts(new Set);try{La.includes(t)&&_f(),La.push(t),t.f&=~qr,za(t),e=Xa(t)}finally{lr(r),ts(i),La.pop()}}else try{t.f&=~qr,za(t),e=Xa(t)}finally{lr(r)}return e}function $l(t){var e=Pa(t);if(t.equals(e)||(se!=null&&se.is_fork||(t.v=e),t.wv=_s()),!Xi)if(Ke!==null)(yo()||se!=null&&se.is_fork)&&Ke.set(t,e);else{var r=(t.f&or)===0?pr:vn;pn(t,r)}}let Gi=new Set;const Zr=new Map;function ts(t){Gi=t}let Da=!1;function iu(){Da=!0}function fi(t,e){var r={f:0,v:t,reactions:null,equals:Bl,rv:0,wv:0};return r}function Nt(t,e){const r=fi(t);return vs(r),r}function ou(t,e=!1,r=!0){const i=fi(t);return e||(i.equals=Vl),i}function et(t,e,r=!1){$t!==null&&(!wr||($t.f&Oo)!==0)&&jl()&&($t.f&(ln|Hr|Xo|Oo))!==0&&!(wn!=null&&wn.includes(t))&&kf();let i=r?yr(e):e;return ot&&Xl(i,t.label),Vi(t,i)}function Vi(t,e){var o;if(!t.equals(e)){var r=t.v;Xi?Zr.set(t,e):Zr.set(t,r),t.v=e;var i=_r.ensure();if(i.capture(t,r),ot){if(me!==null){t.updated??(t.updated=new Map);const a=(((o=t.updated.get(""))==null?void 0:o.count)??0)+1;if(t.updated.set("",{error:null,count:a}),a>5){const l=Gf("updated at");if(l!==null){let f=t.updated.get(l.stack);f||(f={error:l,count:0},t.updated.set(l.stack,f)),f.count++}}}me!==null&&(t.set_during_effect=!0)}(t.f&ln)!==0&&((t.f&En)!==0&&Pa(t),pn(t,(t.f&or)!==0?vn:pr)),t.wv=_s(),ns(t,En),me!==null&&(me.f&vn)!==0&&(me.f&(Wr|jr))===0&&(jn===null?xu([t]):jn.push(t)),!i.is_fork&&Gi.size>0&&!Da&&es()}return e}function es(){Da=!1;var t=hi;$o(!0);const e=Array.from(Gi);try{for(const r of e)(r.f&vn)!==0&&pn(r,pr),wo(r)&&bo(r)}finally{$o(t)}Gi.clear()}function mo(t){et(t,t.v+1)}function ns(t,e){var r=t.reactions;if(r!==null)for(var i=r.length,o=0;o<i;o++){var a=r[o],l=a.f;if(ot&&(l&Oo)!==0){Gi.add(a);continue}var f=(l&En)===0;if(f&&pn(a,e),(l&ln)!==0){var c=a;Ke==null||Ke.delete(c),(l&qr)===0&&(l&or&&(a.f|=qr),ns(c,pr))}else f&&((l&Hr)!==0&&ar!==null&&ar.add(a),ci(a))}}const au=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function yr(t){if(typeof t!="object"||t===null||mr in t)return t;const e=Go(t);if(e!==Rl&&e!==lf)return t;var r=new Map,i=ho(t),o=Nt(0),a=gi,l=g=>{if(gi===a)return g();var d=$t,u=gi;Cn(null),ms(a);var h=g();return Cn(d),ms(u),h};i&&(r.set("length",Nt(t.length)),ot&&(t=cu(t)));var f="";let c=!1;function s(g){if(!c){c=!0,f=g,p(o,`${f} version`);for(const[d,u]of r)p(u,ui(f,d));c=!1}}return new Proxy(t,{defineProperty(g,d,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Cf();var h=r.get(d);return h===void 0?h=l(()=>{var v=Nt(u.value);return r.set(d,v),ot&&typeof d=="string"&&p(v,ui(f,d)),v}):et(h,u.value,!0),!0},deleteProperty(g,d){var u=r.get(d);if(u===void 0){if(d in g){const h=l(()=>Nt(gn));r.set(d,h),mo(o),ot&&p(h,ui(f,d))}}else et(u,gn),mo(o);return!0},get(g,d,u){var y;if(d===mr)return t;if(ot&&d===Pl)return s;var h=r.get(d),v=d in g;if(h===void 0&&(!v||(y=Fi(g,d))!=null&&y.writable)&&(h=l(()=>{var x=yr(v?g[d]:gn),A=Nt(x);return ot&&p(A,ui(f,d)),A}),r.set(d,h)),h!==void 0){var _=n(h);return _===gn?void 0:_}return Reflect.get(g,d,u)},getOwnPropertyDescriptor(g,d){var u=Reflect.getOwnPropertyDescriptor(g,d);if(u&&"value"in u){var h=r.get(d);h&&(u.value=n(h))}else if(u===void 0){var v=r.get(d),_=v==null?void 0:v.v;if(v!==void 0&&_!==gn)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return u},has(g,d){var _;if(d===mr)return!0;var u=r.get(d),h=u!==void 0&&u.v!==gn||Reflect.has(g,d);if(u!==void 0||me!==null&&(!h||(_=Fi(g,d))!=null&&_.writable)){u===void 0&&(u=l(()=>{var y=h?yr(g[d]):gn,x=Nt(y);return ot&&p(x,ui(f,d)),x}),r.set(d,u));var v=n(u);if(v===gn)return!1}return h},set(g,d,u,h){var H;var v=r.get(d),_=d in g;if(i&&d==="length")for(var y=u;y<v.v;y+=1){var x=r.get(y+"");x!==void 0?et(x,gn):y in g&&(x=l(()=>Nt(gn)),r.set(y+"",x),ot&&p(x,ui(f,y)))}if(v===void 0)(!_||(H=Fi(g,d))!=null&&H.writable)&&(v=l(()=>Nt(void 0)),ot&&p(v,ui(f,d)),et(v,yr(u)),r.set(d,v));else{_=v.v!==gn;var A=l(()=>yr(u));et(v,A)}var z=Reflect.getOwnPropertyDescriptor(g,d);if(z!=null&&z.set&&z.set.call(h,u),!_){if(i&&typeof d=="string"){var F=r.get("length"),T=Number(d);Number.isInteger(T)&&T>=F.v&&et(F,T+1)}mo(o)}return!0},ownKeys(g){n(o);var d=Reflect.ownKeys(g).filter(v=>{var _=r.get(v);return _===void 0||_.v!==gn});for(var[u,h]of r)h.v!==gn&&!(u in g)&&d.push(u);return d},setPrototypeOf(){Tf()}})}function ui(t,e){return typeof e=="symbol"?`${t}[Symbol(${e.description??""})]`:au.test(e)?`${t}.${e}`:/^\d+$/.test(e)?`${t}[${e}]`:`${t}['${e}']`}function Fr(t){try{if(t!==null&&typeof t=="object"&&mr in t)return t[mr]}catch{}return t}function lu(t,e){return Object.is(Fr(t),Fr(e))}const su=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function cu(t){return new Proxy(t,{get(e,r,i){var o=Reflect.get(e,r,i);return su.has(r)?function(...a){iu();var l=o.apply(this,a);return es(),l}:o}})}function fu(){const t=Array.prototype,e=Array.__svelte_cleanup;e&&e();const{indexOf:r,lastIndexOf:i,includes:o}=t;t.indexOf=function(a,l){const f=r.call(this,a,l);if(f===-1){for(let c=l??0;c<this.length;c+=1)if(Fr(this[c])===a){go("array.indexOf(...)");break}}return f},t.lastIndexOf=function(a,l){const f=i.call(this,a,l??this.length-1);if(f===-1){for(let c=0;c<=(l??this.length-1);c+=1)if(Fr(this[c])===a){go("array.lastIndexOf(...)");break}}return f},t.includes=function(a,l){const f=o.call(this,a,l);if(!f){for(let c=0;c<this.length;c+=1)if(Fr(this[c])===a){go("array.includes(...)");break}}return f},Array.__svelte_cleanup=()=>{t.indexOf=r,t.lastIndexOf=i,t.includes=o}}function w(t,e,r=!0){try{t===e!=(Fr(t)===Fr(e))&&go(r?"===":"!==")}catch{}return t===e===r}function ue(t,e,r=!0){return t==e!=(Fr(t)==Fr(e))&&go(r?"==":"!="),t==e===r}var Oi,Ba,rs,is;function uu(){if(Oi===void 0){Oi=window,Ba=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;rs=Fi(e,"firstChild").get,is=Fi(e,"nextSibling").get,Il(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Il(r)&&(r.__t=void 0),ot&&(t.__svelte_meta=null,fu())}}function Kr(t=""){return document.createTextNode(t)}function zr(t){return rs.call(t)}function _o(t){return is.call(t)}function Z(t,e){return zr(t)}function ct(t,e=!1){{var r=zr(t);return r instanceof Comment&&r.data===""?_o(r):r}}function tt(t,e=1,r=!1){let i=t;for(;e--;)i=_o(i);return i}function du(t){t.textContent=""}function os(){return!1}function Ga(t){var e=$t,r=me;Cn(null),lr(null);try{return t()}finally{Cn(e),lr(r)}}function hu(t){me===null&&($t===null&&bf(t),wf()),Xi&&xf(t)}function gu(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function xr(t,e,r){var i=me;if(ot)for(;i!==null&&(i.f&Oo)!==0;)i=i.parent;i!==null&&(i.f&zn)!==0&&(t|=zn);var o={ctx:$e,deps:null,nodes:null,f:t|En|or,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,wv:0,ac:null};if(ot&&(o.component_function=Pi),r)try{bo(o),o.f|=Ha}catch(f){throw xn(o),f}else e!==null&&ci(o);var a=o;if(r&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&oi)===0&&(a=a.first,(t&Hr)!==0&&(t&ii)!==0&&a!==null&&(a.f|=ii)),a!==null&&(a.parent=i,i!==null&&gu(a,i),$t!==null&&($t.f&ln)!==0&&(t&jr)===0)){var l=$t;(l.effects??(l.effects=[])).push(a)}return o}function yo(){return $t!==null&&!wr}function Va(t){const e=xr(Aa,null,!1);return pn(e,vn),e.teardown=t,e}function Ko(t){hu("$effect"),ot&&ri(t,"name",{value:"$effect"});var e=me.f,r=!$t&&(e&Wr)!==0&&(e&Ha)===0;if(r){var i=$e;(i.e??(i.e=[])).push(t)}else return as(t)}function as(t){return xr(Na|ff,t,!1)}function vu(t){_r.ensure();const e=xr(jr|oi,t,!0);return()=>{xn(e)}}function pu(t){_r.ensure();const e=xr(jr|oi,t,!0);return(r={})=>new Promise(i=>{r.outro?di(e,()=>{xn(e),i(void 0)}):(xn(e),i(void 0))})}function ls(t){return xr(Na,t,!1)}function mu(t){return xr(Xo|oi,t,!0)}function Jo(t,e=0){return xr(Aa|e,t,!0)}function K(t,e=[],r=[],i=[]){Jf(i,e,r,o=>{xr(Aa,()=>t(...o.map(n)),!0)})}function Qo(t,e=0){var r=xr(Hr|e,t,!0);return ot&&(r.dev_stack=Ir),r}function Xn(t){return xr(Wr|oi,t,!0)}function ss(t){var e=t.teardown;if(e!==null){const r=Xi,i=$t;gs(!0),Cn(null);try{e.call(null)}finally{gs(r),Cn(i)}}}function cs(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){const o=r.ac;o!==null&&Ga(()=>{o.abort(zi)});var i=r.next;(r.f&jr)!==0?r.parent=null:xn(r,e),r=i}}function _u(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&Wr)===0&&xn(e),e=r}}function xn(t,e=!0){var r=!1;(e||(t.f&Ll)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(yu(t.nodes.start,t.nodes.end),r=!0),cs(t,e&&!r),ta(t,0),pn(t,Ur);var i=t.nodes&&t.nodes.t;if(i!==null)for(const a of i)a.stop();ss(t);var o=t.parent;o!==null&&o.first!==null&&fs(t),ot&&(t.component_function=null),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function yu(t,e){for(;t!==null;){var r=t===e?null:_o(t);t.remove(),t=r}}function fs(t){var e=t.parent,r=t.prev,i=t.next;r!==null&&(r.next=i),i!==null&&(i.prev=r),e!==null&&(e.first===t&&(e.first=i),e.last===t&&(e.last=r))}function di(t,e,r=!0){var i=[];us(t,i,!0);var o=()=>{r&&xn(t),e&&e()},a=i.length;if(a>0){var l=()=>--a||o();for(var f of i)f.out(l)}else o()}function us(t,e,r){if((t.f&zn)===0){t.f^=zn;var i=t.nodes&&t.nodes.t;if(i!==null)for(const f of i)(f.is_global||r)&&e.push(f);for(var o=t.first;o!==null;){var a=o.next,l=(o.f&ii)!==0||(o.f&Wr)!==0&&(t.f&Hr)!==0;us(o,e,l?r:!1),o=a}}}function Oa(t){ds(t,!0)}function ds(t,e){if((t.f&zn)!==0){t.f^=zn,(t.f&vn)===0&&(pn(t,En),ci(t));for(var r=t.first;r!==null;){var i=r.next,o=(r.f&ii)!==0||(r.f&Wr)!==0;ds(r,o?e:!1),r=i}var a=t.nodes&&t.nodes.t;if(a!==null)for(const l of a)(l.is_global||e)&&l.in()}}function hs(t,e){if(t.nodes)for(var r=t.nodes.start,i=t.nodes.end;r!==null;){var o=r===i?null:_o(r);e.append(r),r=o}}let hi=!1;function $o(t){hi=t}let Xi=!1;function gs(t){Xi=t}let $t=null,wr=!1;function Cn(t){$t=t}let me=null;function lr(t){me=t}let wn=null;function vs(t){$t!==null&&(wn===null?wn=[t]:wn.push(t))}let bn=null,Ln=0,jn=null;function xu(t){jn=t}let ps=1,xo=0,gi=xo;function ms(t){gi=t}function _s(){return++ps}function wo(t){var e=t.f;if((e&En)!==0)return!0;if(e&ln&&(t.f&=~qr),(e&pr)!==0){var r=t.deps;if(r!==null)for(var i=r.length,o=0;o<i;o++){var a=r[o];if(wo(a)&&$l(a),a.wv>t.wv)return!0}(e&or)!==0&&Ke===null&&pn(t,vn)}return!1}function ys(t,e,r=!0){var i=t.reactions;if(i!==null&&!(wn!=null&&wn.includes(t)))for(var o=0;o<i.length;o++){var a=i[o];(a.f&ln)!==0?ys(a,e,!1):e===a&&(r?pn(a,En):(a.f&vn)!==0&&pn(a,pr),ci(a))}}function Xa(t){var v;var e=bn,r=Ln,i=jn,o=$t,a=wn,l=$e,f=wr,c=gi,s=t.f;bn=null,Ln=0,jn=null,$t=(s&(Wr|jr))===0?t:null,wn=null,Li(t.ctx),wr=!1,gi=++xo,t.ac!==null&&(Ga(()=>{t.ac.abort(zi)}),t.ac=null);try{t.f|=Wa;var g=t.fn,d=g(),u=t.deps;if(bn!==null){var h;if(ta(t,Ln),u!==null&&Ln>0)for(u.length=Ln+bn.length,h=0;h<bn.length;h++)u[Ln+h]=bn[h];else t.deps=u=bn;if(yo()&&(t.f&or)!==0)for(h=Ln;h<u.length;h++)((v=u[h]).reactions??(v.reactions=[])).push(t)}else u!==null&&Ln<u.length&&(ta(t,Ln),u.length=Ln);if(jl()&&jn!==null&&!wr&&u!==null&&(t.f&(ln|pr|En))===0)for(h=0;h<jn.length;h++)ys(jn[h],t);return o!==null&&o!==t&&(xo++,jn!==null&&(i===null?i=jn:i.push(...jn))),(t.f&Yr)!==0&&(t.f^=Yr),d}catch(_){return ql(_)}finally{t.f^=Wa,bn=e,Ln=r,jn=i,$t=o,wn=a,Li(l),wr=f,gi=c}}function wu(t,e){let r=e.reactions;if(r!==null){var i=af.call(r,t);if(i!==-1){var o=r.length-1;o===0?r=e.reactions=null:(r[i]=r[o],r.pop())}}r===null&&(e.f&ln)!==0&&(bn===null||!bn.includes(e))&&(pn(e,pr),(e.f&or)!==0&&(e.f^=or,e.f&=~qr),za(e),ta(e,0))}function ta(t,e){var r=t.deps;if(r!==null)for(var i=e;i<r.length;i++)wu(t,r[i])}function bo(t){var e=t.f;if((e&Ur)===0){pn(t,vn);var r=me,i=hi;if(me=t,hi=!0,ot){var o=Pi;Uo(t.component_function);var a=Ir;jo(t.dev_stack??Ir)}try{(e&(Hr|cf))!==0?_u(t):cs(t),ss(t);var l=Xa(t);t.teardown=typeof l=="function"?l:null,t.wv=ps;var f;ot&&zf&&(t.f&En)!==0&&t.deps}finally{hi=i,me=r,ot&&(Uo(o),jo(a))}}}async function bu(){await Promise.resolve(),jf()}function n(t){var e=t.f,r=(e&ln)!==0;if($t!==null&&!wr){var i=me!==null&&(me.f&Ur)!==0;if(!i&&!(wn!=null&&wn.includes(t))){var o=$t.deps;if(($t.f&Wa)!==0)t.rv<xo&&(t.rv=xo,bn===null&&o!==null&&o[Ln]===t?Ln++:bn===null?bn=[t]:bn.includes(t)||bn.push(t));else{($t.deps??($t.deps=[])).push(t);var a=t.reactions;a===null?t.reactions=[$t]:a.includes($t)||a.push($t)}}}if(ot&&tu.delete(t),Xi){if(Zr.has(t))return Zr.get(t);if(r){var l=t,f=l.v;return((l.f&vn)===0&&l.reactions!==null||ws(l))&&(f=Pa(l)),Zr.set(l,f),f}}else r&&(!(Ke!=null&&Ke.has(t))||se!=null&&se.is_fork&&!yo())&&(l=t,wo(l)&&$l(l),hi&&yo()&&(l.f&or)===0&&xs(l));if(Ke!=null&&Ke.has(t))return Ke.get(t);if((t.f&Yr)!==0)throw t.v;return t.v}function xs(t){if(t.deps!==null){t.f^=or;for(const e of t.deps)(e.reactions??(e.reactions=[])).push(t),(e.f&ln)!==0&&(e.f&or)===0&&xs(e)}}function ws(t){if(t.v===gn)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Zr.has(e)||(e.f&ln)!==0&&ws(e))return!0;return!1}function ea(t){var e=wr;try{return wr=!0,t()}finally{wr=e}}const Mu=-7169;function pn(t,e){t.f=t.f&Mu|e}function Su(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(mr in t)ja(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&mr in r&&ja(r)}}}function ja(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let i in t)try{ja(t[i],e)}catch{}const r=Go(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const i=Wl(r);for(let o in i){const a=i[o].get;if(a)try{a.call(t)}catch{}}}}}const bs=new Set,Ua=new Set;function Eu(t,e,r,i={}){function o(a){if(i.capture||Mo.call(e,a),!a.cancelBubble)return Ga(()=>r==null?void 0:r.call(this,a))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Di(()=>{e.addEventListener(t,o,i)}):e.addEventListener(t,o,i),o}function Pn(t,e,r,i,o){var a={capture:i,passive:o},l=Eu(t,e,r,a);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Va(()=>{e.removeEventListener(t,l,a)})}function vi(t){for(var e=0;e<t.length;e++)bs.add(t[e]);for(var r of Ua)r(t)}let Ms=null;function Mo(t){var y;var e=this,r=e.ownerDocument,i=t.type,o=((y=t.composedPath)==null?void 0:y.call(t))||[],a=o[0]||t.target;Ms=t;var l=0,f=Ms===t&&t.__root;if(f){var c=o.indexOf(f);if(c!==-1&&(e===document||e===window)){t.__root=e;return}var s=o.indexOf(e);if(s===-1)return;c<=s&&(l=c)}if(a=o[l]||t.target,a!==e){ri(t,"currentTarget",{configurable:!0,get(){return a||r}});var g=$t,d=me;Cn(null),lr(null);try{for(var u,h=[];a!==null;){var v=a.assignedSlot||a.parentNode||a.host||null;try{var _=a["__"+i];_!=null&&(!a.disabled||t.target===a)&&_.call(a,t)}catch(x){u?h.push(x):u=x}if(t.cancelBubble||v===e||v===null)break;a=v}if(u){for(let x of h)queueMicrotask(()=>{throw x});throw u}}finally{t.__root=e,delete t.currentTarget,Cn(g),lr(d)}}}function sr(t,e,r,i,o,a=!1,l=!1){var s,g;let f,c;try{f=t()}catch(d){c=d}if(typeof f!="function"&&(a||f!=null||c)){const d=i==null?void 0:i[L],u=o?` at ${d}:${o[0]}:${o[1]}`:` in ${d}`,h=((s=r[0])==null?void 0:s.eventPhase)<Event.BUBBLING_PHASE?"capture":"",_=`\`${((g=r[0])==null?void 0:g.type)+h}\` handler${u}`;if(Hf(_,l?"remove the trailing `()`":"add a leading `() =>`"),c)throw c}f==null||f.apply(e,r)}function Ss(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function So(t,e){var r=me;r.nodes===null&&(r.nodes={start:t,end:e,a:null,t:null})}function vt(t,e){var r=(e&1)!==0,i=(e&2)!==0,o,a=!t.startsWith("<!>");return()=>{o===void 0&&(o=Ss(a?t:"<!>"+t),r||(o=zr(o)));var l=i||Ba?document.importNode(o,!0):o.cloneNode(!0);if(r){var f=zr(l),c=l.lastChild;So(f,c)}else So(l,l);return l}}function Cu(t,e,r="svg"){var i=!t.startsWith("<!>"),o=(e&1)!==0,a=`<${r}>${i?t:"<!>"+t}</${r}>`,l;return()=>{if(!l){var f=Ss(a),c=zr(f);if(o)for(l=document.createDocumentFragment();zr(c);)l.appendChild(zr(c));else l=zr(c)}var s=l.cloneNode(!0);if(o){var g=zr(s),d=s.lastChild;So(g,d)}else So(s,s);return s}}function It(t,e){return Cu(t,e,"svg")}function Mt(){var t=document.createDocumentFragment(),e=document.createComment(""),r=Kr();return t.append(e,r),So(e,r),t}function I(t,e){t!==null&&t.before(e)}const Tu=["touchstart","touchmove"];function ku(t){return Tu.includes(t)}function Yt(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function Nu(t,e){return Au(t,e)}const ji=new Map;function Au(t,{target:e,anchor:r,props:i={},events:o,context:a,intro:l=!0}){uu();var f=new Set,c=d=>{for(var u=0;u<d.length;u++){var h=d[u];if(!f.has(h)){f.add(h);var v=ku(h);e.addEventListener(h,Mo,{passive:v});var _=ji.get(h);_===void 0?(document.addEventListener(h,Mo,{passive:v}),ji.set(h,1)):ji.set(h,_+1)}}};c(Bo(bs)),Ua.add(c);var s=void 0,g=pu(()=>{var d=r??e.appendChild(Kr());return Zf(d,{pending:()=>{}},u=>{if(a){Me({});var h=$e;h.c=a}o&&(i.$$events=o),s=t(u,i)||{},a&&Se()}),()=>{var v;for(var u of f){e.removeEventListener(u,Mo);var h=ji.get(u);--h===0?(document.removeEventListener(u,Mo),ji.delete(u)):ji.set(u,h)}Ua.delete(c),d!==r&&((v=d.parentNode)==null||v.removeChild(d))}});return qa.set(s,g),s}let qa=new WeakMap;function Hu(t,e){const r=qa.get(t);return r?(qa.delete(t),r(e)):(ot&&(mr in t?If():Wf()),Promise.resolve())}function Wu(t){return t.toString=()=>(gf(),""),t}class Es{constructor(e,r=!0){Ar(this,"anchor");le(this,hr,new Map);le(this,Nr,new Map);le(this,Gn,new Map);le(this,Wi,new Set);le(this,Lo,!0);le(this,Po,()=>{var e=se;if(V(this,hr).has(e)){var r=V(this,hr).get(e),i=V(this,Nr).get(r);if(i)Oa(i),V(this,Wi).delete(r);else{var o=V(this,Gn).get(r);o&&(V(this,Nr).set(r,o.effect),V(this,Gn).delete(r),o.fragment.lastChild.remove(),this.anchor.before(o.fragment),i=o.effect)}for(const[a,l]of V(this,hr)){if(V(this,hr).delete(a),a===e)break;const f=V(this,Gn).get(l);f&&(xn(f.effect),V(this,Gn).delete(l))}for(const[a,l]of V(this,Nr)){if(a===r||V(this,Wi).has(a))continue;const f=()=>{if(Array.from(V(this,hr).values()).includes(a)){var s=document.createDocumentFragment();hs(l,s),s.append(Kr()),V(this,Gn).set(a,{effect:l,fragment:s})}else xn(l);V(this,Wi).delete(a),V(this,Nr).delete(a)};V(this,Lo)||!i?(V(this,Wi).add(a),di(l,f,!1)):f()}}});le(this,ya,e=>{V(this,hr).delete(e);const r=Array.from(V(this,hr).values());for(const[i,o]of V(this,Gn))r.includes(i)||(xn(o.effect),V(this,Gn).delete(i))});this.anchor=e,Gt(this,Lo,r)}ensure(e,r){var i=se,o=os();if(r&&!V(this,Nr).has(e)&&!V(this,Gn).has(e))if(o){var a=document.createDocumentFragment(),l=Kr();a.append(l),V(this,Gn).set(e,{effect:Xn(()=>r(l)),fragment:a})}else V(this,Nr).set(e,Xn(()=>r(this.anchor)));if(V(this,hr).set(i,e),o){for(const[f,c]of V(this,Nr))f===e?i.skipped_effects.delete(c):i.skipped_effects.add(c);for(const[f,c]of V(this,Gn))f===e?i.skipped_effects.delete(c.effect):i.skipped_effects.add(c.effect);i.oncommit(V(this,Po)),i.ondiscard(V(this,ya))}else V(this,Po).call(this)}}hr=new WeakMap,Nr=new WeakMap,Gn=new WeakMap,Wi=new WeakMap,Lo=new WeakMap,Po=new WeakMap,ya=new WeakMap;function Ru(t,e,...r){var i=new Es(t);Qo(()=>{const o=e()??null;ot&&o==null&&Sf(),i.ensure(o,o&&(a=>o(a,...r)))},ii)}function Iu(t,e){const r=(i,...o)=>{var a=Pi;Uo(t);try{return e(i,...o)}finally{Uo(a)}};return Wu(r),r}if(ot){let t=function(e){if(!(e in globalThis)){let r;Object.defineProperty(globalThis,e,{configurable:!0,get:()=>{if(r!==void 0)return r;Ef(e)},set:i=>{r=i}})}};t("$state"),t("$effect"),t("$derived"),t("$inspect"),t("$props"),t("$bindable")}function O(t,e,r){return(...i)=>{const o=t(...i);var a=o.nodeType===hf?o.firstChild:o;return Cs(a,e,r),o}}function Fu(t,e,r){t.__svelte_meta={parent:Ir,loc:{file:e,line:r[0],column:r[1]}},r[2]&&Cs(t.firstChild,e,r[2])}function Cs(t,e,r){for(var i=0;t&&i<r.length;)t.nodeType===df&&Fu(t,e,r[i++]),t=t.nextSibling}function ke(t){t&&mf(t[L]??"a component",t.name)}function Ne(){const t=$e==null?void 0:$e.function;function e(r){pf(r,t[L])}return{$destroy:()=>e("$destroy()"),$on:()=>e("$on(...)"),$set:()=>e("$set(...)")}}function zu(t,...e){(typeof t!="object"||!(t instanceof Node))&&Dl();for(let r of e)typeof r!="function"&&Dl()}function j(t,e,r=!1){var i=new Es(t),o=r?ii:0;function a(l,f){i.ensure(l,f)}Qo(()=>{var l=!1;e((f,c=!0)=>{l=!0,a(c,f)}),l||a(!1,null)},o)}function br(t,e){return e}function Lu(t,e,r){for(var i=[],o=e.length,a,l=e.length,f=0;f<o;f++){let d=e[f];di(d,()=>{if(a){if(a.pending.delete(d),a.done.add(d),a.pending.size===0){var u=t.outrogroups;Ya(Bo(a.done)),u.delete(a),u.size===0&&(t.outrogroups=null)}}else l-=1},!1)}if(l===0){var c=i.length===0&&r!==null;if(c){var s=r,g=s.parentNode;du(g),g.append(s),t.items.clear()}Ya(e,!c)}else a={pending:new Set(e),done:new Set},(t.outrogroups??(t.outrogroups=new Set)).add(a)}function Ya(t,e=!0){for(var r=0;r<t.length;r++)xn(t[r],e)}var Ts;function Ae(t,e,r,i,o,a=null){var l=t,f=new Map,c=(e&4)!==0;if(c){var s=t;l=s.appendChild(Kr())}var g=null,d=nu(()=>{var x=r();return ho(x)?x:x==null?[]:Bo(x)}),u,h=!0;function v(){y.fallback=g,Pu(y,u,l,e,i),g!==null&&(u.length===0?(g.f&Rr)===0?Oa(g):(g.f^=Rr,Eo(g,null,l)):di(g,()=>{g=null}))}var _=Qo(()=>{u=n(d);for(var x=u.length,A=new Set,z=se,F=os(),T=0;T<x;T+=1){var H=u[T],b=i(H,T),E=h?null:f.get(b);E?(E.v&&Vi(E.v,H),E.i&&Vi(E.i,T),F&&z.skipped_effects.delete(E.e)):(E=Du(f,h?l:Ts??(Ts=Kr()),H,b,T,o,e,r),h||(E.e.f|=Rr),f.set(b,E)),A.add(b)}if(x===0&&a&&!g&&(h?g=Xn(()=>a(l)):(g=Xn(()=>a(Ts??(Ts=Kr()))),g.f|=Rr)),!h)if(F){for(const[P,S]of f)A.has(P)||z.skipped_effects.add(S.e);z.oncommit(v),z.ondiscard(()=>{})}else v();n(d)}),y={effect:_,items:f,outrogroups:null,fallback:g};h=!1}function Pu(t,e,r,i,o){var S,N,C,G,B,rt,nt,$,St;var a=(i&8)!==0,l=e.length,f=t.items,c=t.effect.first,s,g=null,d,u=[],h=[],v,_,y,x;if(a)for(x=0;x<l;x+=1)v=e[x],_=o(v,x),y=f.get(_).e,(y.f&Rr)===0&&((N=(S=y.nodes)==null?void 0:S.a)==null||N.measure(),(d??(d=new Set)).add(y));for(x=0;x<l;x+=1){if(v=e[x],_=o(v,x),y=f.get(_).e,t.outrogroups!==null)for(const Q of t.outrogroups)Q.pending.delete(y),Q.done.delete(y);if((y.f&Rr)!==0)if(y.f^=Rr,y===c)Eo(y,null,r);else{var A=g?g.next:c;y===t.effect.last&&(t.effect.last=y.prev),y.prev&&(y.prev.next=y.next),y.next&&(y.next.prev=y.prev),Jr(t,g,y),Jr(t,y,A),Eo(y,A,r),g=y,u=[],h=[],c=g.next;continue}if((y.f&zn)!==0&&(Oa(y),a&&((G=(C=y.nodes)==null?void 0:C.a)==null||G.unfix(),(d??(d=new Set)).delete(y))),y!==c){if(s!==void 0&&s.has(y)){if(u.length<h.length){var z=h[0],F;g=z.prev;var T=u[0],H=u[u.length-1];for(F=0;F<u.length;F+=1)Eo(u[F],z,r);for(F=0;F<h.length;F+=1)s.delete(h[F]);Jr(t,T.prev,H.next),Jr(t,g,T),Jr(t,H,z),c=z,g=H,x-=1,u=[],h=[]}else s.delete(y),Eo(y,c,r),Jr(t,y.prev,y.next),Jr(t,y,g===null?t.effect.first:g.next),Jr(t,g,y),g=y;continue}for(u=[],h=[];c!==null&&c!==y;)(s??(s=new Set)).add(c),h.push(c),c=c.next;if(c===null)continue}(y.f&Rr)===0&&u.push(y),g=y,c=y.next}if(t.outrogroups!==null){for(const Q of t.outrogroups)Q.pending.size===0&&(Ya(Bo(Q.done)),(B=t.outrogroups)==null||B.delete(Q));t.outrogroups.size===0&&(t.outrogroups=null)}if(c!==null||s!==void 0){var b=[];if(s!==void 0)for(y of s)(y.f&zn)===0&&b.push(y);for(;c!==null;)(c.f&zn)===0&&c!==t.fallback&&b.push(c),c=c.next;var E=b.length;if(E>0){var P=(i&4)!==0&&l===0?r:null;if(a){for(x=0;x<E;x+=1)(nt=(rt=b[x].nodes)==null?void 0:rt.a)==null||nt.measure();for(x=0;x<E;x+=1)(St=($=b[x].nodes)==null?void 0:$.a)==null||St.fix()}Lu(t,b,P)}}a&&Di(()=>{var Q,Tt;if(d!==void 0)for(y of d)(Tt=(Q=y.nodes)==null?void 0:Q.a)==null||Tt.apply()})}function Du(t,e,r,i,o,a,l,f){var c=(l&1)!==0?(l&16)===0?ou(r,!1,!1):fi(r):null,s=(l&2)!==0?fi(o):null;return ot&&c&&(c.trace=()=>{f()[(s==null?void 0:s.v)??o]}),{v:c,i:s,e:Xn(()=>(a(e,c??r,s??o,f),()=>{t.delete(i)}))}}function Eo(t,e,r){if(t.nodes)for(var i=t.nodes.start,o=t.nodes.end,a=e&&(e.f&Rr)===0?e.nodes.start:r;i!==null;){var l=_o(i);if(a.before(i),i===o)return;i=l}}function Jr(t,e,r){e===null?t.effect.first=r:e.next=r,r===null?t.effect.last=e:r.prev=e}function na(t,e,r){ls(()=>{var i=ea(()=>e(t,r==null?void 0:r())||{});if(r&&(i!=null&&i.update)){var o=!1,a={};Jo(()=>{var l=r();Su(l),o&&Gl(a,l)&&(a=l,i.update(l))}),o=!0}if(i!=null&&i.destroy)return()=>i.destroy()})}const ks=[...` 	
\r\f \v\uFEFF`];function Bu(t,e,r){var i=t==null?"":""+t;if(e&&(i=i?i+" "+e:e),r){for(var o in r)if(r[o])i=i?i+" "+o:o;else if(i.length)for(var a=o.length,l=0;(l=i.indexOf(o,l))>=0;){var f=l+a;(l===0||ks.includes(i[l-1]))&&(f===i.length||ks.includes(i[f]))?i=(l===0?"":i.substring(0,l))+i.substring(f+1):l=f}}return i===""?null:i}function Ns(t,e=!1){var r=e?" !important;":";",i="";for(var o in t){var a=t[o];a!=null&&a!==""&&(i+=" "+o+": "+a+r)}return i}function Za(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function Gu(t,e){if(e){var r="",i,o;if(Array.isArray(e)?(i=e[0],o=e[1]):i=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var a=!1,l=0,f=!1,c=[];i&&c.push(...Object.keys(i).map(Za)),o&&c.push(...Object.keys(o).map(Za));var s=0,g=-1;const _=t.length;for(var d=0;d<_;d++){var u=t[d];if(f?u==="/"&&t[d-1]==="*"&&(f=!1):a?a===u&&(a=!1):u==="/"&&t[d+1]==="*"?f=!0:u==='"'||u==="'"?a=u:u==="("?l++:u===")"&&l--,!f&&a===!1&&l===0){if(u===":"&&g===-1)g=d;else if(u===";"||d===_-1){if(g!==-1){var h=Za(t.substring(s,g).trim());if(!c.includes(h)){u!==";"&&d++;var v=t.substring(s,d).trim();r+=" "+v+";"}}s=d+1,g=-1}}}}return i&&(r+=Ns(i)),o&&(r+=Ns(o,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function Tn(t,e,r,i,o,a){var l=t.__className;if(l!==r||l===void 0){var f=Bu(r,i,a);f==null?t.removeAttribute("class"):t.className=f,t.__className=r}else if(a&&o!==a)for(var c in a){var s=!!a[c];(o==null||s!==!!o[c])&&t.classList.toggle(c,s)}return a}function Ka(t,e={},r,i){for(var o in r){var a=r[o];e[o]!==a&&(r[o]==null?t.style.removeProperty(o):t.style.setProperty(o,a,i))}}function He(t,e,r,i){var o=t.__style;if(o!==e){var a=Gu(e,i);a==null?t.removeAttribute("style"):t.style.cssText=a,t.__style=e}else i&&(Array.isArray(i)?(Ka(t,r==null?void 0:r[0],i[0]),Ka(t,r==null?void 0:r[1],i[1],"important")):Ka(t,r,i));return i}function Ja(t,e,r=!1){if(t.multiple){if(e==null)return;if(!ho(e))return Rf();for(var i of t.options)i.selected=e.includes(Hs(i));return}for(i of t.options){var o=Hs(i);if(lu(o,e)){i.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function As(t){var e=new MutationObserver(()=>{Ja(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Va(()=>{e.disconnect()})}function Hs(t){return"__value"in t?t.__value:t.value}const Vu=Symbol("is custom element"),Ou=Symbol("is html");function Xu(t,e){var r=Qa(t);r.value===(r.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function ju(t,e){var r=Qa(t);r.checked!==(r.checked=e??void 0)&&(t.checked=e)}function k(t,e,r,i){var o=Qa(t);o[e]!==(o[e]=r)&&(e==="loading"&&(t[uf]=r),r==null?t.removeAttribute(e):typeof r!="string"&&Uu(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function Qa(t){return t.__attributes??(t.__attributes={[Vu]:t.nodeName.includes("-"),[Ou]:t.namespaceURI===of})}var Ws=new Map;function Uu(t){var e=t.getAttribute("is")||t.nodeName,r=Ws.get(e);if(r)return r;Ws.set(e,r=[]);for(var i,o=t,a=Element.prototype;a!==o;){i=Wl(o);for(var l in i)i[l].set&&r.push(l);o=Go(o)}return r}function Rs(t,e){return t===e||(t==null?void 0:t[mr])===e}function pi(t={},e,r,i){return ls(()=>{var o,a;return Jo(()=>{o=a,a=[],ea(()=>{t!==r(...a)&&(e(t,...a),o&&Rs(r(...o),t)&&e(null,...o))})}),()=>{Di(()=>{a&&Rs(r(...a),t)&&e(null,...a)})}}),t}function Dn(t,e,r,i){var o=i,a=!0,l=()=>(a&&(a=!1,o=i),o),f;f=t[e],f===void 0&&i!==void 0&&(f=l());var c;return c=()=>{var s=t[e];return s===void 0?l():(a=!0,s)},c}function mn(t,e){Jo(()=>{const r=new Map,i=t(),o=ho(i)?i:i==null?[]:Array.from(i),a=o.length;for(let l=0;l<a;l++){const f=e(o[l],l);if(r.has(f)){const c=String(r.get(f)),s=String(l);let g=String(f);g.startsWith("[object ")&&(g=null),yf(c,s,g)}r.set(f,l)}})}function Is(t,...e){return ea(()=>{try{let r=!1;const i=[];for(const o of e)o&&typeof o=="object"&&mr in o?(i.push(Bf(o,!0)),r=!0):i.push(o);r&&(Af(t),console.log("%c[snapshot]","color: grey",...i))}catch{}}),e}const qu="5";typeof window<"u"&&((Yc=window.__svelte??(window.__svelte={})).v??(Yc.v=new Set)).add(qu);function Fs(t){var i,o;const e=((i=t==null?void 0:t.shapes)==null?void 0:i.lineWidth)??1.5,r=((o=t==null?void 0:t.colors)==null?void 0:o.intervalLine)??"#475569";return{width:Math.max(4,Math.round(e*3)),height:Math.max(6,Math.round(e*4)),color:r,opacity:1}}function ra(t,e,r,i){const{width:o,height:a}=i,l=a/2;return t==="left"?`M ${e} ${r} L ${e+o} ${r-l} L ${e+o} ${r+l} Z`:`M ${e} ${r} L ${e-o} ${r-l} L ${e-o} ${r+l} Z`}const zs=[1,5,2,2.5,4,3],Mr=[.001,.002,.005,.01,.02,.05,.1,.15,.2,.25,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.75,2,2.5,3,4,5,6,7,8,10,12,15,20,25,30,40,50,75,100,150,200,300,500,750,1e3];function ia(t,e){return e?Yu(t):Zu(t)}function Yu(t){if(t[0]<=0||t[1]<=0)return[.1,10];if(t[0]>=t[1])return t;let e=Mr[0];for(const i of Mr)if(i<=t[0])e=i;else break;t[0]<Mr[0]&&(e=Math.pow(10,Math.floor(Math.log10(t[0]))));let r=Mr[Mr.length-1];for(let i=Mr.length-1;i>=0&&Mr[i]>=t[1];i--)r=Mr[i];return t[1]>Mr[Mr.length-1]&&(r=Math.pow(10,Math.ceil(Math.log10(t[1])))),[e,r]}function Zu(t){const e=t[1]-t[0];if(e===0)return t;if(e<0)return[t[1],t[0]];const r=Math.pow(10,Math.floor(Math.log10(e)));let i=r,o=1/0;for(const f of zs)for(const c of[.1,1,10]){const s=f*r*c;if(s<=0)continue;const g=Math.floor(t[0]/s)*s,h=(Math.ceil(t[1]/s)*s-g)/e-1;h>=0&&h<o&&(o=h,i=s)}const a=Math.floor(t[0]/i)*i,l=Math.ceil(t[1]/i)*i;return[Math.round(a*1e10)/1e10,Math.round(l*1e10)/1e10]}function Un(t,e,r,i,o=!1){if(t&&r in t){const a=t[r];if(typeof a=="number"&&Number.isFinite(a)&&(!o||a>0))return a}return r===i&&e!=null&&Number.isFinite(e)&&(!o||e>0)?e:null}const mi=12;function Ls(t){const{rows:e,config:r,scale:i,nullValue:o,forestWidth:a,pointSize:l,effects:f=[],pointCol:c,lowerCol:s,upperCol:g}=t,d=Ku(e,r,i,o,f,c,s,g),u=Ju(d,r,i,a,l),h=Ps(d,r,i,o);return{axisLimits:d,plotRegion:u,ticks:h}}function Ku(t,e,r,i,o=[],a,l,f){const c=e.rangeMin!=null,s=e.rangeMax!=null;if(c&&s)return[e.rangeMin,e.rangeMax];const g=[],d=r==="log",u=a||"point";for(const Q of t){const Tt=Un(Q.metadata,void 0,u,"point",d);Tt!=null&&g.push(Tt);for(const dt of o){const _t=Un(Q.metadata,void 0,dt.pointCol,"point",d);_t!=null&&g.push(_t)}}if(g.length===0)return r==="log"?[.1,10]:[-1,1];let h=Math.min(...g),v=Math.max(...g);(e.includeNull??!0)&&(h=Math.min(h,i),v=Math.max(v,i));const y=h,x=v;let A;if(d){const Q=Math.max(h,.001),Tt=Math.max(v,.001);A=Math.log(Tt)-Math.log(Q)}else A=v-h;if(A===0||!Number.isFinite(A)){const Q=g[0];if(d)return ia([Q/2,Q*2],!0);{const Tt=Math.max(1,Math.abs(Q)*.1);return ia([Q-Tt,Q+Tt],!1)}}const[z,F]=ia([h,v],d),T=e.ciClipFactor??2;let H=z,b=F;const E=[],P=[],S=l||"lower",N=f||"upper";for(const Q of t){const Tt=Un(Q.metadata,void 0,S,"lower",d);Tt!=null&&E.push(Tt);const dt=Un(Q.metadata,void 0,N,"upper",d);dt!=null&&P.push(dt);for(const _t of o){const pt=Un(Q.metadata,void 0,_t.lowerCol,"lower",d);pt!=null&&E.push(pt);const ut=Un(Q.metadata,void 0,_t.upperCol,"upper",d);ut!=null&&P.push(ut)}}let C,G;if(d)C=H/T,G=b*T;else{const Q=b-H;C=H-Q*T,G=b+Q*T}let B=!1,rt=!1;for(const Q of E)Q>=C?H=Math.min(H,Q):B=!0;for(const Q of P)Q<=G?b=Math.max(b,Q):rt=!0;if(B&&(H=Math.min(H,C)),rt&&(b=Math.max(b,G)),e.symmetric===!0&&!c&&!s)if(r==="log"){const Q=Math.log(i),Tt=Math.max(Math.abs(Math.log(Math.max(y,.001))-Q),Math.abs(Math.log(x)-Q));H=Math.exp(Q-Tt),b=Math.exp(Q+Tt)}else{const Q=Math.max(Math.abs(y-i),Math.abs(x-i));H=i-Q,b=i+Q}let $=c?e.rangeMin:H,St=s?e.rangeMax:b;return ia([$,St],r==="log")}function Ju(t,e,r,i,o){if(!(e.markerMargin??!0)||i<=0)return t;const l=i-2*mi;if(l<=0)return t;if(r==="log"){const s=Math.log(Math.max(t[0],.001)),g=Math.log(Math.max(t[1],.001)),d=g-s,u=o/2*(d/l),h=Math.min(u,.5);return[Math.exp(s-h),Math.exp(g+h)]}const f=t[1]-t[0],c=o/2*(f/l);return[t[0]-c,t[1]+c]}function Ps(t,e,r,i){const[o,a]=t,l=i>=o&&i<=a,f=(e.nullTick??!0)&&l;if(e.tickValues&&e.tickValues.length>0){let g=e.tickValues.filter(d=>d>=o&&d<=a);return f&&!g.includes(i)&&(g=[...g,i].sort((d,u)=>d-u)),g}const c=e.tickCount??5;let s=r==="log"?$u(t,c):Qu(t,c);return f&&!s.includes(i)&&(s=[...s,i].sort((g,d)=>g-d)),s}function Qu(t,e){const[r,i]=t,o=i-r;if(o===0)return[r];const a=o/Math.max(e-1,1),l=Math.pow(10,Math.floor(Math.log10(a)));let f=l,c=1/0;for(const d of zs){const u=d*l,h=Math.floor(o/u)+1,v=Math.abs(h-e);v<c&&(c=v,f=u);const _=d*l/10;if(_>0){const y=Math.floor(o/_)+1,x=Math.abs(y-e);x<c&&(c=x,f=_)}}const s=Math.ceil(r/f)*f,g=[];for(let d=s;d<=i+f*.001;d+=f){const u=Math.round(d*1e10)/1e10;u>=r&&u<=i&&g.push(u)}return g.length<2&&(g.includes(r)||g.unshift(r),g.includes(i)||g.push(i)),g}function $u(t,e){const[r,i]=t,a=[.01,.02,.05,.1,.15,.2,.25,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.75,2,2.5,3,4,5,6,7,8,10,12,15,20,25,30,40,50,75,100,150,200,500,1e3].filter(c=>c>=r&&c<=i);if(a.length<=e)return a;const l=[1,.1,10,100,.5,2,5,.2,.25,1.5,3,4,20,50],f=[];for(const c of l)a.includes(c)&&f.length<e&&f.push(c);if(f.length<e){const c=a.filter(g=>!f.includes(g)),s=Math.max(1,Math.floor(c.length/(e-f.length)));for(let g=0;g<c.length&&f.length<e;g+=s)f.push(c[g])}return f.sort((c,s)=>c-s)}const td=.05,ed=.12,nd=.16,rd=.22,qn={RENDERING_BUFFER:4,DEFAULT_AXIS_GAP:12},Sr={FONT_SCALE:.8,PADDING:4,GAP:6},Yn={DEFAULT_COLUMN_WIDTH:100,AXIS_HEIGHT:32,AXIS_LABEL_HEIGHT:32,BOTTOM_MARGIN:16,MIN_FOREST_WIDTH:200,DEFAULT_WIDTH:800,COLUMN_GAP:16},Zn={TITLE_HEIGHT:28,SUBTITLE_HEIGHT:20,CAPTION_HEIGHT:16,FOOTNOTE_HEIGHT:14,DEFAULT_FONT_SIZE:14,REM_BASE:16,TEXT_BASELINE_ADJUSTMENT:1/3},Ee={INDENT_PER_LEVEL:12,TEXT_PADDING:10,DEFAULT_TICK_COUNT:5,AXIS_LABEL_PADDING:30},Ds={GROUP_HEADER_HEIGHT_MULTIPLIER:1.3,OVERALL_ROW_HEIGHT_MULTIPLIER:1.5},Kn={MIN:60,MAX:600,LABEL_MAX:400,VISUAL_MIN:{sparkline:92,bar:100,stars:84,range:84,badge:74,forest:200,viz_bar:150,viz_boxplot:150,viz_violin:150}},Qr={CHEVRON_WIDTH:12,GAP:6,SAFETY_MARGIN:8},Bs={SPACING:6},Gs={EDGE_THRESHOLD:35,MIN_TICK_SPACING:50},Co={success:"#16a34a",warning:"#d97706",error:"#dc2626",info:"#2563eb"};function Vs(t,e){return e<=1?0:-((e-1)*Bs.SPACING)/2+t*Bs.SPACING}Be[L]="src/components/forest/RowInterval.svelte";var id=O(It('<polygon stroke-width="1" class="point-estimate svelte-1wct561"></polygon>'),Be[L],[[251,10]]),od=O(It("<path></path>"),Be[L],[[276,12]]),ad=O(It("<line></line>"),Be[L],[[282,12]]),ld=O(It("<path></path>"),Be[L],[[293,12]]),sd=O(It("<line></line>"),Be[L],[[299,12]]),cd=O(It('<circle class="point-estimate svelte-1wct561"></circle>'),Be[L],[[314,12]]),fd=O(It('<polygon class="point-estimate svelte-1wct561"></polygon>'),Be[L],[[329,12]]),ud=O(It('<polygon class="point-estimate svelte-1wct561"></polygon>'),Be[L],[[341,12]]),dd=O(It('<rect class="point-estimate svelte-1wct561"></rect>'),Be[L],[[349,12]]),hd=O(It("<line></line><!><!><!>",1),Be[L],[[266,10]]),gd=O(It('<g class="interval-row svelte-1wct561" role="button" tabindex="0"></g>'),Be[L],[[218,2]]);function Be(t,e){ke(new.target),Me(e,!0,Be);let r=Dn(e,"weightCol",3,null),i=Dn(e,"isLog",3,!1),o=Dn(e,"forestColumnOptions",3,null);const a=p(m(()=>Fs(e.theme)),"arrowConfig"),l=p(m(()=>{if(!o())return[];const b=w(o().scale,"log")||i();if(o().point&&o().lower&&o().upper){const E=e.row.metadata[o().point],P=e.row.metadata[o().lower],S=e.row.metadata[o().upper],N=!b||ue(E,null,!1)&&E>0?E:null,C=!b||ue(P,null,!1)&&P>0?P:null,G=!b||ue(S,null,!1)&&S>0?S:null;return[{id:"inline",pointCol:o().point,lowerCol:o().lower,upperCol:o().upper,label:null,color:null,shape:null,opacity:null,point:N,lower:C,upper:G}]}return o().effects&&o().effects.length>0?o().effects.map(E=>({...E,point:Un(e.row.metadata,null,E.pointCol,"point",b),lower:Un(e.row.metadata,null,E.lowerCol,"lower",b),upper:Un(e.row.metadata,null,E.upperCol,"upper",b)})):[]}),"effectsToRender"),f=p(m(()=>n(l).some(b=>ue(b.point,null,!1)&&!Number.isNaN(b.point)&&ue(b.lower,null,!1)&&!Number.isNaN(b.lower)&&ue(b.upper,null,!1)&&!Number.isNaN(b.upper))),"hasAnyValidValues"),c=p(m(()=>{var b;return w((b=e.row.style)==null?void 0:b.type,"summary")}),"isSummaryRow");function s(b){return e.clipBounds?b<e.clipBounds[0]:e.xScale(b)<0}function g(b){return e.clipBounds?b>e.clipBounds[1]:e.xScale(b)>e.layout.forestWidth}function d(b){if(!e.clipBounds)return Math.max(0,Math.min(e.layout.forestWidth,e.xScale(b)));const E=Math.max(e.clipBounds[0],Math.min(e.clipBounds[1],b));return e.xScale(E)}const u=p(m(()=>e.clipBounds?e.xScale(e.clipBounds[0]):mi),"leftArrowX"),h=p(m(()=>e.clipBounds?e.xScale(e.clipBounds[1]):e.layout.forestWidth-mi),"rightArrowX"),v=p(m(()=>{var b;return((b=e.theme)==null?void 0:b.shapes.summaryHeight)??10}),"diamondHeight"),_=p(m(()=>n(v)/2),"halfDiamondHeight"),y=p(m(()=>{var b;return((b=e.theme)==null?void 0:b.shapes.pointSize)??6}),"basePointSize");function x(b){var P;if(b&&ue((P=e.row.markerStyle)==null?void 0:P.size,null,!1))return n(y)*e.row.markerStyle.size;const E=r()?e.row.metadata[r()]:void 0;if(E){const S=.5+Math.sqrt(E/100)*1.5;return Math.min(Math.max(n(y)*S,3),n(y)*2.5)}return n(y)}function A(b,E){var $,St,Q,Tt;const P=w(E,0),S=e.row.markerStyle,N=($=e.theme)==null?void 0:$.shapes.effectColors,C=(St=e.theme)==null?void 0:St.shapes.markerShapes,G=["square","circle","diamond","triangle"];let B;P&&(S!=null&&S.color)?B=S.color:b.color?B=b.color:N&&N.length>0?B=N[E%N.length]:B=((Q=e.theme)==null?void 0:Q.colors.interval)??((Tt=e.theme)==null?void 0:Tt.colors.primary)??"#2563eb";let rt;P&&(S!=null&&S.shape)?rt=S.shape:b.shape?rt=b.shape:C&&C.length>0?rt=C[E%C.length]:rt=G[E%G.length];let nt;return P&&ue(S==null?void 0:S.opacity,null,!1)?nt=S.opacity:ue(b.opacity,null,!1)?nt=b.opacity:nt=1,{color:B,shape:rt,opacity:nt}}var z={...Ne()},F=Mt(),T=ct(F);{var H=b=>{var E=gd();E.__click=function(...P){sr(()=>e.onRowClick,this,P,Be,[222,13])},E.__keydown=P=>{var S;return w(P.key,"Enter")&&((S=e.onRowClick)==null?void 0:S.call(e))},R(()=>Ae(E,21,()=>n(l),br,(P,S,N)=>{const C=p(m(()=>ue(n(S).point,null,!1)&&!Number.isNaN(n(S).point)&&ue(n(S).lower,null,!1)&&!Number.isNaN(n(S).lower)&&ue(n(S).upper,null,!1)&&!Number.isNaN(n(S).upper)),"hasValidEffect");n(C);var G=Mt(),B=ct(G);{var rt=nt=>{const $=p(m(()=>e.yPosition+Vs(N,n(l).length)),"effectY");n($);const St=p(m(()=>e.xScale(n(S).lower)),"x1");n(St);const Q=p(m(()=>e.xScale(n(S).upper)),"x2");n(Q);const Tt=p(m(()=>e.xScale(n(S).point)),"cx");n(Tt);const dt=p(m(()=>A(n(S),N)),"style");n(dt);const _t=p(m(()=>x(w(N,0))),"pointSize");n(_t);const pt=p(m(()=>{var jt;return((jt=e.theme)==null?void 0:jt.colors.intervalLine)??"#475569"}),"lineColor");n(pt);var ut=Mt(),Jt=ct(ut);{var te=jt=>{const We=p(m(()=>[`${n(St)},${n($)}`,`${n(Tt)},${n($)-n(_)}`,`${n(Q)},${n($)}`,`${n(Tt)},${n($)+n(_)}`].join(" ")),"summaryDiamondPoints");n(We);var ht=id();K(()=>{var Lt;k(ht,"points",n(We)),k(ht,"fill",n(dt).color),k(ht,"fill-opacity",n(dt).opacity),k(ht,"stroke",((Lt=e.theme)==null?void 0:Lt.colors.summaryBorder)??"#1d4ed8")}),I(jt,ht)},yt=jt=>{const We=p(m(()=>s(n(S).lower)),"clippedL");n(We);const ht=p(m(()=>g(n(S).upper)),"clippedR");n(ht);const Lt=p(m(()=>d(n(S).lower)),"clampedX1");n(Lt);const Ge=p(m(()=>d(n(S).upper)),"clampedX2");n(Ge);const gt=p(m(()=>n(a).height/2),"whiskerHalfHeight");n(gt);const Ct=p(m(()=>d(n(S).point)),"clampedCx");n(Ct);var de=hd(),Je=ct(de),Xe=tt(Je);{var In=Vt=>{var Bt=od();K(ze=>{k(Bt,"d",ze),k(Bt,"fill",n(a).color),k(Bt,"fill-opacity",n(a).opacity)},[()=>ra("left",n(u),n($),n(a))]),I(Vt,Bt)},ee=Vt=>{var Bt=ad();K(()=>{var ze;k(Bt,"x1",n(Lt)),k(Bt,"x2",n(Lt)),k(Bt,"y1",n($)-n(gt)),k(Bt,"y2",n($)+n(gt)),k(Bt,"stroke",n(pt)),k(Bt,"stroke-width",((ze=e.theme)==null?void 0:ze.shapes.lineWidth)??1.5)}),I(Vt,Bt)};R(()=>j(Xe,Vt=>{n(We)?Vt(In):Vt(ee,!1)}),"if",Be,275,10)}var we=tt(Xe);{var je=Vt=>{var Bt=ld();K(ze=>{k(Bt,"d",ze),k(Bt,"fill",n(a).color),k(Bt,"fill-opacity",n(a).opacity)},[()=>ra("right",n(h),n($),n(a))]),I(Vt,Bt)},Ve=Vt=>{var Bt=sd();K(()=>{var ze;k(Bt,"x1",n(Ge)),k(Bt,"x2",n(Ge)),k(Bt,"y1",n($)-n(gt)),k(Bt,"y2",n($)+n(gt)),k(Bt,"stroke",n(pt)),k(Bt,"stroke-width",((ze=e.theme)==null?void 0:ze.shapes.lineWidth)??1.5)}),I(Vt,Bt)};R(()=>j(we,Vt=>{n(ht)?Vt(je):Vt(Ve,!1)}),"if",Be,292,10)}var Ue=tt(we);{var Mn=Vt=>{var Bt=cd();K(()=>{k(Bt,"cx",n(Ct)),k(Bt,"cy",n($)),k(Bt,"r",n(_t)),k(Bt,"fill",n(dt).color),k(Bt,"fill-opacity",n(dt).opacity)}),I(Vt,Bt)},on=Vt=>{var Bt=Mt(),ze=ct(Bt);{var ir=_n=>{const Qe=p(m(()=>[`${n(Ct)},${n($)-n(_t)}`,`${n(Ct)+n(_t)},${n($)}`,`${n(Ct)},${n($)+n(_t)}`,`${n(Ct)-n(_t)},${n($)}`].join(" ")),"diamondPts");n(Qe);var Sn=fd();K(()=>{k(Sn,"points",n(Qe)),k(Sn,"fill",n(dt).color),k(Sn,"fill-opacity",n(dt).opacity)}),I(_n,Sn)},gr=_n=>{var Qe=Mt(),Sn=ct(Qe);{var Xr=qe=>{const fn=p(m(()=>[`${n(Ct)},${n($)-n(_t)}`,`${n(Ct)+n(_t)},${n($)+n(_t)}`,`${n(Ct)-n(_t)},${n($)+n(_t)}`].join(" ")),"trianglePts");n(fn);var Fn=ud();K(()=>{k(Fn,"points",n(fn)),k(Fn,"fill",n(dt).color),k(Fn,"fill-opacity",n(dt).opacity)}),I(qe,Fn)},yn=qe=>{var fn=dd();K(()=>{k(fn,"x",n(Ct)-n(_t)),k(fn,"y",n($)-n(_t)),k(fn,"width",n(_t)*2),k(fn,"height",n(_t)*2),k(fn,"fill",n(dt).color),k(fn,"fill-opacity",n(dt).opacity)}),I(qe,fn)};R(()=>j(Sn,qe=>{w(n(dt).shape,"triangle")?qe(Xr):qe(yn,!1)},!0),"if",Be,335,10)}I(_n,Qe)};R(()=>j(ze,_n=>{w(n(dt).shape,"diamond")?_n(ir):_n(gr,!1)},!0),"if",Be,322,10)}I(Vt,Bt)};R(()=>j(Ue,Vt=>{w(n(dt).shape,"circle")?Vt(Mn):Vt(on,!1)}),"if",Be,313,10)}K(()=>{var Vt;k(Je,"x1",n(Lt)),k(Je,"x2",n(Ge)),k(Je,"y1",n($)),k(Je,"y2",n($)),k(Je,"stroke",n(pt)),k(Je,"stroke-width",((Vt=e.theme)==null?void 0:Vt.shapes.lineWidth)??1.5)}),I(jt,de)};R(()=>j(Jt,jt=>{n(c)?jt(te):jt(yt,!1)}),"if",Be,240,8)}I(nt,ut)};R(()=>j(B,nt=>{n(C)&&nt(rt)}),"if",Be,231,6)}I(P,G)}),"each",Be,227,4),Pn("mouseenter",E,P=>{var S;return(S=e.onRowHover)==null?void 0:S.call(e,!0,P)}),Pn("mouseleave",E,P=>{var S;return(S=e.onRowHover)==null?void 0:S.call(e,!1,P)}),I(b,E)};R(()=>j(T,b=>{n(f)&&b(H)}),"if",Be,217,0)}return I(t,F),Se(z)}vi(["click","keydown"]),kn[L]="src/components/forest/EffectAxis.svelte";function vd(t){return Math.abs(t)<.01?"0":Math.abs(t)>=100?t.toFixed(0):Math.abs(t)>=10?t.toFixed(1):t.toFixed(2)}var pd=O(It('<line stroke="var(--wf-border, #e2e8f0)" stroke-width="1" opacity="0.5"></line>'),kn[L],[[171,6]]),md=O(It('<g><line stroke="var(--wf-border, #e2e8f0)" stroke-width="1"></line><text fill="var(--wf-secondary, #64748b)" font-size="var(--wf-font-size-sm, 0.75rem)" class="svelte-hf6bj6"> </text></g>'),kn[L],[[187,4,[[188,6],[194,6]]]]),_d=O(It('<text text-anchor="middle" fill="var(--wf-secondary, #64748b)" font-size="var(--wf-font-size-sm, 0.75rem)" font-weight="500" class="svelte-hf6bj6"> </text>'),kn[L],[[208,4]]),yd=O(It('<g class="effect-axis svelte-hf6bj6"><line stroke="var(--wf-border, #e2e8f0)" stroke-width="1"></line><!><!><!></g>'),kn[L],[[157,0,[[159,2]]]]);function kn(t,e){ke(new.target),Me(e,!0,kn);let r=Dn(e,"position",3,"bottom"),i=Dn(e,"plotHeight",3,0);const o=p(m(()=>{var b;return(b=e.theme)==null?void 0:b.axis}),"axisConfig"),a=p(m(()=>{var b;return e.gridlines??((b=n(o))==null?void 0:b.gridlines)??!1}),"showGridlines"),l=p(m(()=>{var b;return((b=n(o))==null?void 0:b.gridlineStyle)??"dotted"}),"gridlineStyle"),f=35,c=p(m(()=>{var b;return((b=n(o))==null?void 0:b.nullTick)??!0}),"shouldIncludeNullTick"),s=p(m(()=>{var Jt,te;const[b,E]=e.xScale.domain(),P=e.layout.nullValue,S=P>=b&&P<=E;if((Jt=n(o))!=null&&Jt.tickValues&&n(o).tickValues.length>0){let yt=n(o).tickValues.filter(jt=>jt>=b&&jt<=E);return n(c)&&S&&!yt.includes(P)&&(yt=[...yt,P].sort((jt,We)=>jt-We)),yt}const N=50,C=Math.max(2,Math.floor(e.layout.forestWidth/N)),B=((te=n(o))==null?void 0:te.tickCount)??null??Math.min(7,C),rt=e.baseTicks&&e.baseTicks.length>0?e.baseTicks.filter(yt=>yt>=b&&yt<=E):e.xScale.ticks(B);if(w(rt.length,0))return n(c)&&S?[P]:[];const nt=e.xScale(P),$=rt.filter(yt=>yt<P).reverse(),St=rt.filter(yt=>yt>P),Q=rt.some(yt=>w(yt,P)),Tt=[];let dt=nt;for(const yt of $){const jt=e.xScale(yt);dt-jt>=N&&(Tt.unshift(yt),dt=jt)}const _t=[];let pt=nt;for(const yt of St){const jt=e.xScale(yt);jt-pt>=N&&(_t.push(yt),pt=jt)}const ut=[...Tt];if((Q||n(c)&&S)&&ut.push(P),ut.push(..._t),ut.length<2){const yt=new Set(ut);yt.has(b)||ut.unshift(b),ut.length<2&&!yt.has(E)&&ut.push(E)}return ut}),"ticks"),g=p(m(()=>w(r(),"bottom")?0:e.layout.headerHeight-8),"axisY"),d=p(m(()=>w(r(),"bottom")),"isBottom"),u=p(m(()=>w(n(l),"dashed")?"4,4":w(n(l),"dotted")?"2,2":"none"),"gridlineDashArray");function h(b){return b<f?"start":b>e.layout.forestWidth-f?"end":"middle"}function v(b){return b<f?2:b>e.layout.forestWidth-f?-2:0}var _={...Ne()},y=yd(),x=Z(y),A=tt(x);{var z=b=>{var E=Mt(),P=ct(E);mn(()=>n(s),S=>S),R(()=>Ae(P,16,()=>n(s),S=>S,(S,N)=>{var C=pd();K((G,B)=>{k(C,"x1",G),k(C,"x2",B),k(C,"y1",(n(d),n(g))),k(C,"y2",n(d)?-i():i()),k(C,"stroke-dasharray",n(u))},[()=>e.xScale(N),()=>e.xScale(N)]),I(S,C)}),"each",kn,170,4),I(b,E)};R(()=>j(A,b=>{n(a)&&i()>0&&b(z)}),"if",kn,169,2)}var F=tt(A);mn(()=>n(s),b=>b),R(()=>Ae(F,16,()=>n(s),b=>b,(b,E)=>{const P=p(m(()=>e.xScale(E)),"tickX");n(P);var S=md(),N=Z(S),C=tt(N),G=Z(C,!0);K((B,rt,nt)=>{k(S,"transform",`translate(${n(P)??""}, 0)`),k(N,"y1",n(d)?n(g):n(g)-4),k(N,"y2",n(d)?n(g)+4:n(g)),k(C,"x",B),k(C,"y",n(d)?n(g)+16:n(g)-8),k(C,"text-anchor",rt),Yt(G,nt)},[()=>v(n(P)),()=>h(n(P)),()=>vd(E)]),I(b,S)}),"each",kn,185,2);var T=tt(F);{var H=b=>{var E=_d(),P=Z(E);K(()=>{k(E,"x",e.layout.forestWidth/2),k(E,"y",n(d)?n(g)+28:n(g)-24),Yt(P,e.axisLabel)}),I(b,E)};R(()=>j(T,b=>{e.axisLabel&&b(H)}),"if",kn,207,2)}return K((b,E)=>{k(x,"x1",b),k(x,"x2",E),k(x,"y1",n(g)),k(x,"y2",n(g))},[()=>e.xScale.range()[0],()=>e.xScale.range()[1]]),I(t,y),Se(_)}$r[L]="src/components/forest/SummaryDiamond.svelte";var xd=O(It('<path fill="var(--wf-summary-fill, #2563eb)"></path>'),$r[L],[[58,4]]),wd=O(It('<path fill="var(--wf-summary-fill, #2563eb)"></path>'),$r[L],[[66,4]]),bd=O(It('<g class="summary-diamond svelte-1g0hzau"><polygon fill="var(--wf-summary-fill, #2563eb)" stroke="var(--wf-summary-border, #1d4ed8)" stroke-width="1" class="svelte-1g0hzau"></polygon><!><!></g>'),$r[L],[[47,0,[[49,2]]]]);function $r(t,e){ke(new.target),Me(e,!0,$r);const r=p(m(()=>{var v;return((v=e.theme)==null?void 0:v.shapes.summaryHeight)??10}),"diamondHeight"),i=p(m(()=>n(r)/2),"halfHeight"),o=p(m(()=>{const v=e.xScale(e.lower),_=e.xScale(e.point),y=e.xScale(e.upper),x=0,A=e.layout.forestWidth,z=Math.max(x,v),F=Math.min(A,y);return[[z,e.yPosition].join(","),[_,e.yPosition-n(i)].join(","),[F,e.yPosition].join(","),[_,e.yPosition+n(i)].join(",")].join(" ")}),"points"),a=p(m(()=>e.xScale(e.lower)<0),"clippedLeft"),l=p(m(()=>e.xScale(e.upper)>e.layout.forestWidth),"clippedRight");var f={...Ne()},c=bd(),s=Z(c),g=tt(s);{var d=v=>{var _=xd();K(()=>k(_,"d",`M 4 ${e.yPosition??""} L 10 ${e.yPosition-4} L 10 ${e.yPosition+4} Z`)),I(v,_)};R(()=>j(g,v=>{n(a)&&v(d)}),"if",$r,57,2)}var u=tt(g);{var h=v=>{var _=wd();K(()=>k(_,"d",`M ${e.layout.forestWidth-4} ${e.yPosition??""} L ${e.layout.forestWidth-10} ${e.yPosition-4} L ${e.layout.forestWidth-10} ${e.yPosition+4} Z`)),I(v,_)};R(()=>j(u,v=>{n(l)&&v(h)}),"if",$r,65,2)}return K(()=>k(s,"points",n(o))),I(t,c),Se(f)}Jn[L]="src/components/forest/PlotHeader.svelte";var Md=O(vt('<h2 class="plot-title svelte-xpghc"> </h2>'),Jn[L],[[17,8]]),Sd=O(vt('<p class="plot-subtitle svelte-xpghc"> </p>'),Jn[L],[[20,8]]),Ed=O(vt('<div class="controls-area svelte-xpghc"><!></div>'),Jn[L],[[24,6]]),Cd=O(vt('<div class="header-area svelte-xpghc"><div class="title-area svelte-xpghc"><!> <!></div> <!></div>'),Jn[L],[[14,2,[[15,4]]]]);function Jn(t,e){ke(new.target),Me(e,!0,Jn);var r={...Ne()},i=Mt(),o=ct(i);{var a=l=>{var f=Cd(),c=Z(f),s=Z(c);{var g=_=>{var y=Md(),x=Z(y);K(()=>Yt(x,e.title)),I(_,y)};R(()=>j(s,_=>{e.title&&_(g)}),"if",Jn,16,6)}var d=tt(s,2);{var u=_=>{var y=Sd(),x=Z(y);K(()=>Yt(x,e.subtitle)),I(_,y)};R(()=>j(d,_=>{e.subtitle&&_(u)}),"if",Jn,19,6)}var h=tt(c,2);{var v=_=>{var y=Ed(),x=Z(y);R(()=>Ru(x,()=>e.controls),"render",Jn,25,8),I(_,y)};R(()=>j(h,_=>{e.controls&&_(v)}),"if",Jn,23,4)}I(l,f)};R(()=>j(o,l=>{(e.title||e.subtitle)&&l(a)}),"if",Jn,13,0)}return I(t,i),Se(r)}Lr[L]="src/components/forest/PlotFooter.svelte";var Td=O(vt('<p class="plot-caption svelte-7xjsde"> </p>'),Lr[L],[[13,6]]),kd=O(vt('<p class="plot-footnote svelte-7xjsde"> </p>'),Lr[L],[[16,6]]),Nd=O(vt('<div class="plot-footer svelte-7xjsde"><!> <!></div>'),Lr[L],[[11,2]]);function Lr(t,e){ke(new.target),Me(e,!0,Lr);var r={...Ne()},i=Mt(),o=ct(i);{var a=l=>{var f=Nd(),c=Z(f);{var s=u=>{var h=Td(),v=Z(h);K(()=>Yt(v,e.caption)),I(u,h)};R(()=>j(c,u=>{e.caption&&u(s)}),"if",Lr,12,4)}var g=tt(c,2);{var d=u=>{var h=kd(),v=Z(h);K(()=>Yt(v,e.footnote)),I(u,h)};R(()=>j(g,u=>{e.footnote&&u(d)}),"if",Lr,15,4)}I(l,f)};R(()=>j(o,l=>{(e.caption||e.footnote)&&l(a)}),"if",Lr,10,0)}return I(t,i),Se(r)}Ui[L]="src/components/forest/GroupHeader.svelte";var Ad=O(vt('<span class="group-count svelte-16smacw"> </span>'),Ui[L],[[64,4]]),Hd=O(vt('<div><span><svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path d="M2 4L6 8L10 4" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg></span> <span class="group-label svelte-16smacw"> </span> <!></div>'),Ui[L],[[49,0,[[57,2,[[58,4,[[59,6]]]]],[62,2]]]]);function Ui(t,e){ke(new.target),Me(e,!0,Ui);let r=Dn(e,"level",3,1);function i(_,y){const x=y==null?void 0:y.groupHeaders;return x?w(_,1)?{fontSize:x.level1FontSize,fontWeight:x.level1FontWeight,italic:x.level1Italic,borderBottom:x.level1BorderBottom}:w(_,2)?{fontSize:x.level2FontSize,fontWeight:x.level2FontWeight,italic:x.level2Italic,borderBottom:x.level2BorderBottom}:{fontSize:x.level3FontSize,fontWeight:x.level3FontWeight,italic:x.level3Italic,borderBottom:x.level3BorderBottom}:{fontSize:void 0,fontWeight:void 0,italic:!1,borderBottom:!1}}const o=p(m(()=>i(r(),e.theme)),"levelStyles");var a={...Ne()},l=Hd();let f,c;var s=Z(l);let g;var d=tt(s,2),u=Z(d),h=tt(d,2);{var v=_=>{var y=Ad(),x=Z(y);K(()=>Yt(x,`(${e.rowCount??""})`)),I(_,y)};R(()=>j(h,_=>{w(e.rowCount,void 0,!1)&&_(v)}),"if",Ui,63,2)}return K(()=>{f=Tn(l,1,"group-header svelte-16smacw",null,f,{"has-border":n(o).borderBottom,italic:n(o).italic}),k(l,"aria-expanded",!e.group.collapsed),c=He(l,"",c,{"font-size":n(o).fontSize,"font-weight":n(o).fontWeight}),g=Tn(s,1,"group-chevron svelte-16smacw",null,g,{collapsed:e.group.collapsed}),Yt(u,e.group.label)}),I(t,l),Se(a)}_i[L]="src/components/ui/Tooltip.svelte";var Wd=O(vt('<div class="tooltip-row svelte-c43bsi"><span class="tooltip-label svelte-c43bsi"> </span> <span class="tooltip-value svelte-c43bsi"> </span></div>'),_i[L],[[77,8,[[78,10],[79,10]]]]),Rd=O(vt('<div class="tabviz-tooltip svelte-c43bsi"><div class="tooltip-header svelte-c43bsi"> </div> <div class="tooltip-body svelte-c43bsi"><div class="tooltip-row tooltip-estimate svelte-c43bsi"><span class="tooltip-label svelte-c43bsi">Estimate</span> <span class="tooltip-value svelte-c43bsi"> </span></div> <!></div></div>'),_i[L],[[67,2,[[68,4],[69,4,[[70,6,[[71,8],[72,8]]]]]]]]);function _i(t,e){ke(new.target),Me(e,!0,_i);let r=Dn(e,"fields",3,null),i=p(Nt(void 0),"tooltipEl");function o(u){return w(u,null)||w(u,void 0)?"—":w(typeof u,"number")?Number.isInteger(u)?u.toString():u.toFixed(3):String(u)}const a=p(m(()=>!e.row||!r()||w(r().length,0)?[]:Object.entries(e.row.metadata).filter(([h])=>r().includes(h))),"displayFields"),l=p(m(()=>{if(!e.position)return"";const u=220,h=100,v=10;let _=e.position.x+v,y=e.position.y-v;const x=w(typeof window,"undefined",!1)?window.innerWidth:1e3;return w(typeof window,"undefined",!1)&&window.innerHeight,_+u>x-v&&(_=e.position.x-u-v),y-h<v?(y=e.position.y+v,`left: ${_}px; top: ${y}px; transform: none;`):`left: ${_}px; top: ${y}px;`}),"positionStyle"),f=p(m(()=>e.row&&e.position&&r()&&r().length>0),"shouldShow");var c={...Ne()},s=Mt(),g=ct(s);{var d=u=>{var h=Rd(),v=Z(h),_=Z(v),y=tt(v,2),x=Z(y),A=tt(Z(x),2),z=Z(A),F=tt(x,2);mn(()=>n(a),([T,H])=>T),R(()=>Ae(F,17,()=>n(a),([T,H])=>T,(T,H)=>{var b=m(()=>ka(n(H),2));let E=()=>n(b)[0];E();let P=()=>n(b)[1];P();var S=Wd(),N=Z(S),C=Z(N,!0);var G=tt(N,2),B=Z(G,!0);K(rt=>{Yt(C,E()),Yt(B,rt)},[()=>o(P())]),I(T,S)}),"each",_i,76,6),pi(h,T=>et(i,T),()=>n(i)),K((T,H,b)=>{He(h,n(l)),Yt(_,e.row.label),Yt(z,`${T??""} (${H??""}, ${b??""})`)},[()=>o(e.row.point),()=>o(e.row.lower),()=>o(e.row.upper)]),I(u,h)};R(()=>j(g,u=>{n(f)&&u(d)}),"if",_i,66,0)}return I(t,s),Se(c)}yi[L]="src/components/table/CellBar.svelte";var Id=O(vt('<span class="bar-label svelte-1l4k3z2"> </span>'),yi[L],[[39,6]]),Fd=O(vt('<div class="cell-bar svelte-1l4k3z2"><div class="bar-track svelte-1l4k3z2"><div class="bar-fill svelte-1l4k3z2"></div></div> <!></div>'),yi[L],[[30,2,[[31,4,[[32,6]]]]]]);function yi(t,e){ke(new.target),Me(e,!0,yi);let r=Dn(e,"maxValue",3,100);const i=p(m(()=>{var u;return((u=e.options)==null?void 0:u.maxValue)??r()}),"effectiveMax"),o=p(m(()=>{var u;return((u=e.options)==null?void 0:u.showLabel)??!0}),"showLabel"),a=p(m(()=>{var u;return((u=e.options)==null?void 0:u.color)??"var(--wf-primary, #2563eb)"}),"barColor"),l=p(m(()=>()=>w(e.value,void 0)||w(e.value,null)||n(i)<=0?0:Math.min(100,Math.max(0,e.value/n(i)*100))),"percentage"),f=p(m(()=>()=>w(e.value,void 0)||w(e.value,null)?"":e.value>=100?e.value.toFixed(0):e.value>=10?e.value.toFixed(1):e.value.toFixed(2)),"formattedValue");var c={...Ne()},s=Mt(),g=ct(s);{var d=u=>{var h=Fd(),v=Z(h),_=Z(v);let y;var x=tt(v,2);{var A=z=>{var F=Id(),T=Z(F);K(H=>Yt(T,H),[()=>n(f)()]),I(z,F)};R(()=>j(x,z=>{n(o)&&z(A)}),"if",yi,38,4)}K(z=>y=He(_,"",y,z),[()=>({width:`${n(l)()??""}%`,"background-color":n(a)})]),I(u,h)};R(()=>j(g,u=>{w(e.value,void 0,!1)&&w(e.value,null,!1)&&u(d)}),"if",yi,29,0)}return I(t,s),Se(c)}qi[L]="src/components/table/CellPvalue.svelte";var zd=O(vt('<span class="pvalue-stars svelte-1hymfkc"> </span>'),qi[L],[[99,4]]),Ld=O(vt('<span><span class="pvalue-number svelte-1hymfkc"> </span> <!></span>'),qi[L],[[86,0,[[97,2]]]]);function qi(t,e){ke(new.target),Me(e,!0,qi);const r=p(m(()=>{var C;return((C=e.cellStyle)==null?void 0:C.bold)??!1}),"isBold"),i=p(m(()=>{var C;return((C=e.cellStyle)==null?void 0:C.italic)??!1}),"isItalic"),o=p(m(()=>{var C;return((C=e.cellStyle)==null?void 0:C.color)??null}),"textColor"),a=p(m(()=>{var C;return((C=e.cellStyle)==null?void 0:C.bg)??null}),"bgColor"),l=p(m(()=>{var C;return((C=e.cellStyle)==null?void 0:C.emphasis)??!1}),"isEmphasis"),f=p(m(()=>{var C;return((C=e.cellStyle)==null?void 0:C.muted)??!1}),"isMuted"),c=p(m(()=>{var C;return((C=e.cellStyle)==null?void 0:C.accent)??!1}),"isAccent"),s={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻","+":"⁺"};function g(C){return C.split("").map(G=>s[G]??G).join("")}const d=p(m(()=>{var C;return((C=e.options)==null?void 0:C.stars)??!1}),"showStars"),u=p(m(()=>{var C;return((C=e.options)==null?void 0:C.thresholds)??[.05,.01,.001]}),"thresholds"),h=p(m(()=>{var C;return((C=e.options)==null?void 0:C.format)??"auto"}),"format"),v=p(m(()=>{var C;return((C=e.options)==null?void 0:C.digits)??2}),"digits"),_=p(m(()=>{var C;return((C=e.options)==null?void 0:C.expThreshold)??.001}),"expThreshold"),y=p(m(()=>{var C;return((C=e.options)==null?void 0:C.abbrevThreshold)??null}),"abbrevThreshold"),x=p(m(()=>{if(!n(d)||w(e.value,void 0)||w(e.value,null))return"";const[C,G,B]=n(u);return e.value<B?"***":e.value<G?"**":e.value<C?"*":""}),"stars"),A=p(m(()=>{if(w(e.value,void 0)||w(e.value,null))return"";if(w(n(y),null,!1)&&e.value<n(y))return`<${n(y)}`;if(w(n(h),"scientific")||w(n(h),"auto")&&e.value<n(_)){const C=Math.floor(Math.log10(e.value));return`${(e.value/Math.pow(10,C)).toPrecision(n(v))}×10${g(C.toString())}`}return e.value>=.1?e.value.toFixed(n(v)):e.value>=.01?e.value.toFixed(n(v)+1):e.value.toFixed(n(v)+2)}),"formattedValue"),z=p(m(()=>n(x).length>0),"isSignificant");var F={...Ne()},T=Ld();let H,b;var E=Z(T),P=Z(E),S=tt(E,2);{var N=C=>{var G=zd(),B=Z(G);K(()=>Yt(B,n(x))),I(C,G)};R(()=>j(S,C=>{n(x)&&C(N)}),"if",qi,98,2)}return K(()=>{H=Tn(T,1,"cell-pvalue svelte-1hymfkc",null,H,{significant:n(z),"cell-bold":n(r),"cell-italic":n(i),"cell-emphasis":n(l),"cell-muted":n(f),"cell-accent":n(c)}),b=He(T,"",b,{color:n(o),"background-color":n(a)}),Yt(P,n(A))}),I(t,T),Se(F)}function oa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Pd(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Os(t){let e,r,i;t.length!==2?(e=oa,r=(f,c)=>oa(t(f),c),i=(f,c)=>t(f)-c):(e=t===oa||t===Pd?t:Dd,r=t,i=t);function o(f,c,s=0,g=f.length){if(s<g){if(e(c,c)!==0)return g;do{const d=s+g>>>1;r(f[d],c)<0?s=d+1:g=d}while(s<g)}return s}function a(f,c,s=0,g=f.length){if(s<g){if(e(c,c)!==0)return g;do{const d=s+g>>>1;r(f[d],c)<=0?s=d+1:g=d}while(s<g)}return s}function l(f,c,s=0,g=f.length){const d=o(f,c,s,g-1);return d>s&&i(f[d-1],c)>-i(f[d],c)?d-1:d}return{left:o,center:l,right:a}}function Dd(){return 0}function Bd(t){return t===null?NaN:+t}const Gd=Os(oa).right;Os(Bd).center;const Vd=Math.sqrt(50),Od=Math.sqrt(10),Xd=Math.sqrt(2);function aa(t,e,r){const i=(e-t)/Math.max(0,r),o=Math.floor(Math.log10(i)),a=i/Math.pow(10,o),l=a>=Vd?10:a>=Od?5:a>=Xd?2:1;let f,c,s;return o<0?(s=Math.pow(10,-o)/l,f=Math.round(t*s),c=Math.round(e*s),f/s<t&&++f,c/s>e&&--c,s=-s):(s=Math.pow(10,o)*l,f=Math.round(t/s),c=Math.round(e/s),f*s<t&&++f,c*s>e&&--c),c<f&&.5<=r&&r<2?aa(t,e,r*2):[f,c,s]}function $a(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const i=e<t,[o,a,l]=i?aa(e,t,r):aa(t,e,r);if(!(a>=o))return[];const f=a-o+1,c=new Array(f);if(i)if(l<0)for(let s=0;s<f;++s)c[s]=(a-s)/-l;else for(let s=0;s<f;++s)c[s]=(a-s)*l;else if(l<0)for(let s=0;s<f;++s)c[s]=(o+s)/-l;else for(let s=0;s<f;++s)c[s]=(o+s)*l;return c}function tl(t,e,r){return e=+e,t=+t,r=+r,aa(t,e,r)[2]}function jd(t,e,r){e=+e,t=+t,r=+r;const i=e<t,o=i?tl(e,t,r):tl(t,e,r);return(i?-1:1)*(o<0?1/-o:o)}function Xs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function el(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function js(t,e){var r=Object.create(t.prototype);for(var i in e)r[i]=e[i];return r}function To(){}var ko=.7,la=1/ko,Yi="\\s*([+-]?\\d+)\\s*",No="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Er="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ud=/^#([0-9a-f]{3,8})$/,qd=new RegExp(`^rgb\\(${Yi},${Yi},${Yi}\\)$`),Yd=new RegExp(`^rgb\\(${Er},${Er},${Er}\\)$`),Zd=new RegExp(`^rgba\\(${Yi},${Yi},${Yi},${No}\\)$`),Kd=new RegExp(`^rgba\\(${Er},${Er},${Er},${No}\\)$`),Jd=new RegExp(`^hsl\\(${No},${Er},${Er}\\)$`),Qd=new RegExp(`^hsla\\(${No},${Er},${Er},${No}\\)$`),Us={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};el(To,Ao,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qs,formatHex:qs,formatHex8:$d,formatHsl:th,formatRgb:Ys,toString:Ys});function qs(){return this.rgb().formatHex()}function $d(){return this.rgb().formatHex8()}function th(){return $s(this).formatHsl()}function Ys(){return this.rgb().formatRgb()}function Ao(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Ud.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Zs(e):r===3?new Nn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?sa(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?sa(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=qd.exec(t))?new Nn(e[1],e[2],e[3],1):(e=Yd.exec(t))?new Nn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Zd.exec(t))?sa(e[1],e[2],e[3],e[4]):(e=Kd.exec(t))?sa(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Jd.exec(t))?Qs(e[1],e[2]/100,e[3]/100,1):(e=Qd.exec(t))?Qs(e[1],e[2]/100,e[3]/100,e[4]):Us.hasOwnProperty(t)?Zs(Us[t]):t==="transparent"?new Nn(NaN,NaN,NaN,0):null}function Zs(t){return new Nn(t>>16&255,t>>8&255,t&255,1)}function sa(t,e,r,i){return i<=0&&(t=e=r=NaN),new Nn(t,e,r,i)}function eh(t){return t instanceof To||(t=Ao(t)),t?(t=t.rgb(),new Nn(t.r,t.g,t.b,t.opacity)):new Nn}function nl(t,e,r,i){return arguments.length===1?eh(t):new Nn(t,e,r,i??1)}function Nn(t,e,r,i){this.r=+t,this.g=+e,this.b=+r,this.opacity=+i}el(Nn,nl,js(To,{brighter(t){return t=t==null?la:Math.pow(la,t),new Nn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ko:Math.pow(ko,t),new Nn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Nn(xi(this.r),xi(this.g),xi(this.b),ca(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ks,formatHex:Ks,formatHex8:nh,formatRgb:Js,toString:Js}));function Ks(){return`#${wi(this.r)}${wi(this.g)}${wi(this.b)}`}function nh(){return`#${wi(this.r)}${wi(this.g)}${wi(this.b)}${wi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Js(){const t=ca(this.opacity);return`${t===1?"rgb(":"rgba("}${xi(this.r)}, ${xi(this.g)}, ${xi(this.b)}${t===1?")":`, ${t})`}`}function ca(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function xi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wi(t){return t=xi(t),(t<16?"0":"")+t.toString(16)}function Qs(t,e,r,i){return i<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new cr(t,e,r,i)}function $s(t){if(t instanceof cr)return new cr(t.h,t.s,t.l,t.opacity);if(t instanceof To||(t=Ao(t)),!t)return new cr;if(t instanceof cr)return t;t=t.rgb();var e=t.r/255,r=t.g/255,i=t.b/255,o=Math.min(e,r,i),a=Math.max(e,r,i),l=NaN,f=a-o,c=(a+o)/2;return f?(e===a?l=(r-i)/f+(r<i)*6:r===a?l=(i-e)/f+2:l=(e-r)/f+4,f/=c<.5?a+o:2-a-o,l*=60):f=c>0&&c<1?0:l,new cr(l,f,c,t.opacity)}function rh(t,e,r,i){return arguments.length===1?$s(t):new cr(t,e,r,i??1)}function cr(t,e,r,i){this.h=+t,this.s=+e,this.l=+r,this.opacity=+i}el(cr,rh,js(To,{brighter(t){return t=t==null?la:Math.pow(la,t),new cr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ko:Math.pow(ko,t),new cr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,o=2*r-i;return new Nn(rl(t>=240?t-240:t+120,o,i),rl(t,o,i),rl(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new cr(tc(this.h),fa(this.s),fa(this.l),ca(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ca(this.opacity);return`${t===1?"hsl(":"hsla("}${tc(this.h)}, ${fa(this.s)*100}%, ${fa(this.l)*100}%${t===1?")":`, ${t})`}`}}));function tc(t){return t=(t||0)%360,t<0?t+360:t}function fa(t){return Math.max(0,Math.min(1,t||0))}function rl(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const il=t=>()=>t;function ih(t,e){return function(r){return t+r*e}}function oh(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(i){return Math.pow(t+i*e,r)}}function ah(t){return(t=+t)==1?ec:function(e,r){return r-e?oh(e,r,t):il(isNaN(e)?r:e)}}function ec(t,e){var r=e-t;return r?ih(t,r):il(isNaN(t)?e:t)}const nc=(function t(e){var r=ah(e);function i(o,a){var l=r((o=nl(o)).r,(a=nl(a)).r),f=r(o.g,a.g),c=r(o.b,a.b),s=ec(o.opacity,a.opacity);return function(g){return o.r=l(g),o.g=f(g),o.b=c(g),o.opacity=s(g),o+""}}return i.gamma=t,i})(1);function lh(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,i=e.slice(),o;return function(a){for(o=0;o<r;++o)i[o]=t[o]*(1-a)+e[o]*a;return i}}function sh(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ch(t,e){var r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r),l;for(l=0;l<i;++l)o[l]=ll(t[l],e[l]);for(;l<r;++l)a[l]=e[l];return function(f){for(l=0;l<i;++l)a[l]=o[l](f);return a}}function fh(t,e){var r=new Date;return t=+t,e=+e,function(i){return r.setTime(t*(1-i)+e*i),r}}function ua(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function uh(t,e){var r={},i={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?r[o]=ll(t[o],e[o]):i[o]=e[o];return function(a){for(o in r)i[o]=r[o](a);return i}}var ol=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,al=new RegExp(ol.source,"g");function dh(t){return function(){return t}}function hh(t){return function(e){return t(e)+""}}function gh(t,e){var r=ol.lastIndex=al.lastIndex=0,i,o,a,l=-1,f=[],c=[];for(t=t+"",e=e+"";(i=ol.exec(t))&&(o=al.exec(e));)(a=o.index)>r&&(a=e.slice(r,a),f[l]?f[l]+=a:f[++l]=a),(i=i[0])===(o=o[0])?f[l]?f[l]+=o:f[++l]=o:(f[++l]=null,c.push({i:l,x:ua(i,o)})),r=al.lastIndex;return r<e.length&&(a=e.slice(r),f[l]?f[l]+=a:f[++l]=a),f.length<2?c[0]?hh(c[0].x):dh(e):(e=c.length,function(s){for(var g=0,d;g<e;++g)f[(d=c[g]).i]=d.x(s);return f.join("")})}function ll(t,e){var r=typeof e,i;return e==null||r==="boolean"?il(e):(r==="number"?ua:r==="string"?(i=Ao(e))?(e=i,nc):gh:e instanceof Ao?nc:e instanceof Date?fh:sh(e)?lh:Array.isArray(e)?ch:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?uh:ua)(t,e)}function vh(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function ph(t){return function(){return t}}function mh(t){return+t}var rc=[0,1];function Zi(t){return t}function sl(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:ph(isNaN(e)?NaN:.5)}function _h(t,e){var r;return t>e&&(r=t,t=e,e=r),function(i){return Math.max(t,Math.min(e,i))}}function yh(t,e,r){var i=t[0],o=t[1],a=e[0],l=e[1];return o<i?(i=sl(o,i),a=r(l,a)):(i=sl(i,o),a=r(a,l)),function(f){return a(i(f))}}function xh(t,e,r){var i=Math.min(t.length,e.length)-1,o=new Array(i),a=new Array(i),l=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<i;)o[l]=sl(t[l],t[l+1]),a[l]=r(e[l],e[l+1]);return function(f){var c=Gd(t,f,1,i)-1;return a[c](o[c](f))}}function ic(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function oc(){var t=rc,e=rc,r=ll,i,o,a,l=Zi,f,c,s;function g(){var u=Math.min(t.length,e.length);return l!==Zi&&(l=_h(t[0],t[u-1])),f=u>2?xh:yh,c=s=null,d}function d(u){return u==null||isNaN(u=+u)?a:(c||(c=f(t.map(i),e,r)))(i(l(u)))}return d.invert=function(u){return l(o((s||(s=f(e,t.map(i),ua)))(u)))},d.domain=function(u){return arguments.length?(t=Array.from(u,mh),g()):t.slice()},d.range=function(u){return arguments.length?(e=Array.from(u),g()):e.slice()},d.rangeRound=function(u){return e=Array.from(u),r=vh,g()},d.clamp=function(u){return arguments.length?(l=u?!0:Zi,g()):l!==Zi},d.interpolate=function(u){return arguments.length?(r=u,g()):r},d.unknown=function(u){return arguments.length?(a=u,d):a},function(u,h){return i=u,o=h,g()}}function wh(){return oc()(Zi,Zi)}function bh(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function da(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,i=t.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+t.slice(r+1)]}function Ki(t){return t=da(Math.abs(t)),t?t[1]:NaN}function Mh(t,e){return function(r,i){for(var o=r.length,a=[],l=0,f=t[0],c=0;o>0&&f>0&&(c+f+1>i&&(f=Math.max(1,i-c)),a.push(r.substring(o-=f,o+f)),!((c+=f+1)>i));)f=t[l=(l+1)%t.length];return a.reverse().join(e)}}function Sh(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Eh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ho(t){if(!(e=Eh.exec(t)))throw new Error("invalid format: "+t);var e;return new cl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ho.prototype=cl.prototype;function cl(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}cl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ch(t){t:for(var e=t.length,r=1,i=-1,o;r<e;++r)switch(t[r]){case".":i=o=r;break;case"0":i===0&&(i=r),o=r;break;default:if(!+t[r])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(o+1):t}var ac;function Th(t,e){var r=da(t,e);if(!r)return t+"";var i=r[0],o=r[1],a=o-(ac=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,l=i.length;return a===l?i:a>l?i+new Array(a-l+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+da(t,Math.max(0,e+a-1))[0]}function lc(t,e){var r=da(t,e);if(!r)return t+"";var i=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const sc={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:bh,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>lc(t*100,e),r:lc,s:Th,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function cc(t){return t}var fc=Array.prototype.map,uc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function kh(t){var e=t.grouping===void 0||t.thousands===void 0?cc:Mh(fc.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?cc:Sh(fc.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function s(d){d=Ho(d);var u=d.fill,h=d.align,v=d.sign,_=d.symbol,y=d.zero,x=d.width,A=d.comma,z=d.precision,F=d.trim,T=d.type;T==="n"?(A=!0,T="g"):sc[T]||(z===void 0&&(z=12),F=!0,T="g"),(y||u==="0"&&h==="=")&&(y=!0,u="0",h="=");var H=_==="$"?r:_==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",b=_==="$"?i:/[%p]/.test(T)?l:"",E=sc[T],P=/[defgprs%]/.test(T);z=z===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,z)):Math.max(0,Math.min(20,z));function S(N){var C=H,G=b,B,rt,nt;if(T==="c")G=E(N)+G,N="";else{N=+N;var $=N<0||1/N<0;if(N=isNaN(N)?c:E(Math.abs(N),z),F&&(N=Ch(N)),$&&+N==0&&v!=="+"&&($=!1),C=($?v==="("?v:f:v==="-"||v==="("?"":v)+C,G=(T==="s"?uc[8+ac/3]:"")+G+($&&v==="("?")":""),P){for(B=-1,rt=N.length;++B<rt;)if(nt=N.charCodeAt(B),48>nt||nt>57){G=(nt===46?o+N.slice(B+1):N.slice(B))+G,N=N.slice(0,B);break}}}A&&!y&&(N=e(N,1/0));var St=C.length+N.length+G.length,Q=St<x?new Array(x-St+1).join(u):"";switch(A&&y&&(N=e(Q+N,Q.length?x-G.length:1/0),Q=""),h){case"<":N=C+N+G+Q;break;case"=":N=C+Q+N+G;break;case"^":N=Q.slice(0,St=Q.length>>1)+C+N+G+Q.slice(St);break;default:N=Q+C+N+G;break}return a(N)}return S.toString=function(){return d+""},S}function g(d,u){var h=s((d=Ho(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(Ki(u)/3)))*3,_=Math.pow(10,-v),y=uc[8+v/3];return function(x){return h(_*x)+y}}return{format:s,formatPrefix:g}}var ha,fl,dc;Nh({thousands:",",grouping:[3],currency:["$",""]});function Nh(t){return ha=kh(t),fl=ha.format,dc=ha.formatPrefix,ha}function Ah(t){return Math.max(0,-Ki(Math.abs(t)))}function Hh(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ki(e)/3)))*3-Ki(Math.abs(t)))}function Wh(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ki(e)-Ki(t))+1}function Rh(t,e,r,i){var o=jd(t,e,r),a;switch(i=Ho(i??",f"),i.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(a=Hh(o,l))&&(i.precision=a),dc(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=Wh(o,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=Ah(o))&&(i.precision=a-(i.type==="%")*2);break}}return fl(i)}function Ih(t){var e=t.domain;return t.ticks=function(r){var i=e();return $a(i[0],i[i.length-1],r??10)},t.tickFormat=function(r,i){var o=e();return Rh(o[0],o[o.length-1],r??10,i)},t.nice=function(r){r==null&&(r=10);var i=e(),o=0,a=i.length-1,l=i[o],f=i[a],c,s,g=10;for(f<l&&(s=l,l=f,f=s,s=o,o=a,a=s);g-- >0;){if(s=tl(l,f,r),s===c)return i[o]=l,i[a]=f,e(i);if(s>0)l=Math.floor(l/s)*s,f=Math.ceil(f/s)*s;else if(s<0)l=Math.ceil(l*s)/s,f=Math.floor(f*s)/s;else break;c=s}return t},t}function Qn(){var t=wh();return t.copy=function(){return ic(t,Qn())},Xs.apply(t,arguments),Ih(t)}function Fh(t,e){t=t.slice();var r=0,i=t.length-1,o=t[r],a=t[i],l;return a<o&&(l=r,r=i,i=l,l=o,o=a,a=l),t[r]=e.floor(o),t[i]=e.ceil(a),t}function hc(t){return Math.log(t)}function gc(t){return Math.exp(t)}function zh(t){return-Math.log(-t)}function Lh(t){return-Math.exp(-t)}function Ph(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Dh(t){return t===10?Ph:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Bh(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function vc(t){return(e,r)=>-t(-e,r)}function Gh(t){const e=t(hc,gc),r=e.domain;let i=10,o,a;function l(){return o=Bh(i),a=Dh(i),r()[0]<0?(o=vc(o),a=vc(a),t(zh,Lh)):t(hc,gc),e}return e.base=function(f){return arguments.length?(i=+f,l()):i},e.domain=function(f){return arguments.length?(r(f),l()):r()},e.ticks=f=>{const c=r();let s=c[0],g=c[c.length-1];const d=g<s;d&&([s,g]=[g,s]);let u=o(s),h=o(g),v,_;const y=f==null?10:+f;let x=[];if(!(i%1)&&h-u<y){if(u=Math.floor(u),h=Math.ceil(h),s>0){for(;u<=h;++u)for(v=1;v<i;++v)if(_=u<0?v/a(-u):v*a(u),!(_<s)){if(_>g)break;x.push(_)}}else for(;u<=h;++u)for(v=i-1;v>=1;--v)if(_=u>0?v/a(-u):v*a(u),!(_<s)){if(_>g)break;x.push(_)}x.length*2<y&&(x=$a(s,g,y))}else x=$a(u,h,Math.min(h-u,y)).map(a);return d?x.reverse():x},e.tickFormat=(f,c)=>{if(f==null&&(f=10),c==null&&(c=i===10?"s":","),typeof c!="function"&&(!(i%1)&&(c=Ho(c)).precision==null&&(c.trim=!0),c=fl(c)),f===1/0)return c;const s=Math.max(1,i*f/e.ticks().length);return g=>{let d=g/a(Math.round(o(g)));return d*i<i-.5&&(d*=i),d<=s?c(g):""}},e.nice=()=>r(Fh(r(),{floor:f=>a(Math.floor(o(f))),ceil:f=>a(Math.ceil(o(f)))})),e}function Pr(){const t=Gh(oc()).domain([1,10]);return t.copy=()=>ic(t,Pr()).base(t.base()),Xs.apply(t,arguments),t}function nn(t){return function(){return t}}const pc=1e-12,ul=Math.PI,dl=2*ul,bi=1e-6,Vh=dl-bi;function mc(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Oh(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return mc;const r=10**e;return function(i){this._+=i[0];for(let o=1,a=i.length;o<a;++o)this._+=Math.round(arguments[o]*r)/r+i[o]}}class Xh{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?mc:Oh(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,i,o){this._append`Q${+e},${+r},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(e,r,i,o,a,l){this._append`C${+e},${+r},${+i},${+o},${this._x1=+a},${this._y1=+l}`}arcTo(e,r,i,o,a){if(e=+e,r=+r,i=+i,o=+o,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,f=this._y1,c=i-e,s=o-r,g=l-e,d=f-r,u=g*g+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(u>bi)if(!(Math.abs(d*c-s*g)>bi)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let h=i-l,v=o-f,_=c*c+s*s,y=h*h+v*v,x=Math.sqrt(_),A=Math.sqrt(u),z=a*Math.tan((ul-Math.acos((_+u-y)/(2*x*A)))/2),F=z/A,T=z/x;Math.abs(F-1)>bi&&this._append`L${e+F*g},${r+F*d}`,this._append`A${a},${a},0,0,${+(d*h>g*v)},${this._x1=e+T*c},${this._y1=r+T*s}`}}arc(e,r,i,o,a,l){if(e=+e,r=+r,i=+i,l=!!l,i<0)throw new Error(`negative radius: ${i}`);let f=i*Math.cos(o),c=i*Math.sin(o),s=e+f,g=r+c,d=1^l,u=l?o-a:a-o;this._x1===null?this._append`M${s},${g}`:(Math.abs(this._x1-s)>bi||Math.abs(this._y1-g)>bi)&&this._append`L${s},${g}`,i&&(u<0&&(u=u%dl+dl),u>Vh?this._append`A${i},${i},0,1,${d},${e-f},${r-c}A${i},${i},0,1,${d},${this._x1=s},${this._y1=g}`:u>bi&&this._append`A${i},${i},0,${+(u>=ul)},${d},${this._x1=e+i*Math.cos(a)},${this._y1=r+i*Math.sin(a)}`)}rect(e,r,i,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}}function _c(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const i=Math.floor(r);if(!(i>=0))throw new RangeError(`invalid digits: ${r}`);e=i}return t},()=>new Xh(e)}function yc(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function xc(t){this._context=t}xc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function wc(t){return new xc(t)}function bc(t){return t[0]}function Mc(t){return t[1]}function Sc(t,e){var r=nn(!0),i=null,o=wc,a=null,l=_c(f);t=typeof t=="function"?t:t===void 0?bc:nn(t),e=typeof e=="function"?e:e===void 0?Mc:nn(e);function f(c){var s,g=(c=yc(c)).length,d,u=!1,h;for(i==null&&(a=o(h=l())),s=0;s<=g;++s)!(s<g&&r(d=c[s],s,c))===u&&((u=!u)?a.lineStart():a.lineEnd()),u&&a.point(+t(d,s,c),+e(d,s,c));if(h)return a=null,h+""||null}return f.x=function(c){return arguments.length?(t=typeof c=="function"?c:nn(+c),f):t},f.y=function(c){return arguments.length?(e=typeof c=="function"?c:nn(+c),f):e},f.defined=function(c){return arguments.length?(r=typeof c=="function"?c:nn(!!c),f):r},f.curve=function(c){return arguments.length?(o=c,i!=null&&(a=o(i)),f):o},f.context=function(c){return arguments.length?(c==null?i=a=null:a=o(i=c),f):i},f}function jh(t,e,r){var i=null,o=nn(!0),a=null,l=wc,f=null,c=_c(s);t=typeof t=="function"?t:t===void 0?bc:nn(+t),e=typeof e=="function"?e:nn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Mc:nn(+r);function s(d){var u,h,v,_=(d=yc(d)).length,y,x=!1,A,z=new Array(_),F=new Array(_);for(a==null&&(f=l(A=c())),u=0;u<=_;++u){if(!(u<_&&o(y=d[u],u,d))===x)if(x=!x)h=u,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),v=u-1;v>=h;--v)f.point(z[v],F[v]);f.lineEnd(),f.areaEnd()}x&&(z[u]=+t(y,u,d),F[u]=+e(y,u,d),f.point(i?+i(y,u,d):z[u],r?+r(y,u,d):F[u]))}if(A)return f=null,A+""||null}function g(){return Sc().defined(o).curve(l).context(a)}return s.x=function(d){return arguments.length?(t=typeof d=="function"?d:nn(+d),i=null,s):t},s.x0=function(d){return arguments.length?(t=typeof d=="function"?d:nn(+d),s):t},s.x1=function(d){return arguments.length?(i=d==null?null:typeof d=="function"?d:nn(+d),s):i},s.y=function(d){return arguments.length?(e=typeof d=="function"?d:nn(+d),r=null,s):e},s.y0=function(d){return arguments.length?(e=typeof d=="function"?d:nn(+d),s):e},s.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:nn(+d),s):r},s.lineX0=s.lineY0=function(){return g().x(t).y(e)},s.lineY1=function(){return g().x(t).y(r)},s.lineX1=function(){return g().x(i).y(e)},s.defined=function(d){return arguments.length?(o=typeof d=="function"?d:nn(!!d),s):o},s.curve=function(d){return arguments.length?(l=d,a!=null&&(f=l(a)),s):l},s.context=function(d){return arguments.length?(d==null?a=f=null:f=l(a=d),s):a},s}function Ec(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function hl(t,e){this._context=t,this._k=(1-e)/6}hl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ec(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Ec(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},(function t(e){function r(i){return new hl(i,e)}return r.tension=function(i){return t(+i)},r})(0);function Uh(t,e,r){var i=t._x1,o=t._y1,a=t._x2,l=t._y2;if(t._l01_a>pc){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,o=(o*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>pc){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,g=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*s+t._x1*t._l23_2a-e*t._l12_2a)/g,l=(l*s+t._y1*t._l23_2a-r*t._l12_2a)/g}t._context.bezierCurveTo(i,o,a,l,t._x2,t._y2)}function Cc(t,e){this._context=t,this._alpha=e}Cc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Uh(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Tc=(function t(e){function r(i){return e?new Cc(i,e):new hl(i,0)}return r.alpha=function(i){return t(+i)},r})(.5);An[L]="src/components/table/CellSparkline.svelte";var qh=O(It('<rect opacity="0.8"></rect>'),An[L],[[72,8]]),Yh=O(It('<path opacity="0.3"></path><path fill="none" stroke-width="1.5"></path>',1),An[L],[[82,6],[83,6]]),Zh=O(It('<circle r="2"></circle>'),An[L],[[89,8]]),Kh=O(It('<path fill="none" stroke-width="1.5"></path><!>',1),An[L],[[85,6]]),Jh=O(It('<text text-anchor="middle" dominant-baseline="middle" fill="var(--wf-muted, #94a3b8)" font-size="8">--</text>'),An[L],[[93,4]]),Qh=O(It('<svg class="cell-sparkline svelte-hfafss"><!></svg>'),An[L],[[68,0]]);function An(t,e){ke(new.target),Me(e,!0,An);const r=p(m(()=>{var y;return((y=e.options)==null?void 0:y.type)??"line"}),"chartType"),i=p(m(()=>{var y;return((y=e.options)==null?void 0:y.height)??20}),"chartHeight"),o=p(m(()=>{var y;return((y=e.options)==null?void 0:y.color)??"var(--wf-primary, #2563eb)"}),"chartColor"),a=60,l=p(m(()=>!e.data||!Array.isArray(e.data)||w(e.data.length,0)?[]:Array.isArray(e.data[0])?e.data[0]:e.data),"normalizedData"),f=p(m(()=>{if(w(n(l).length,0))return[];const y=Math.min(...n(l)),x=Math.max(...n(l)),A=(x-y)*.1||1,z=Qn().domain([0,n(l).length-1]).range([2,a-2]),F=Qn().domain([y-A,x+A]).range([n(i)-2,2]);return n(l).map((T,H)=>[z(H),F(T)])}),"points"),c=p(m(()=>w(n(f).length,0)?"":Sc().x(x=>x[0]).y(x=>x[1]).curve(Tc.alpha(.5))(n(f))??""),"linePath"),s=p(m(()=>w(n(f).length,0)?"":jh().x(x=>x[0]).y0(n(i)-2).y1(x=>x[1]).curve(Tc.alpha(.5))(n(f))??""),"areaPath"),g=p(m(()=>n(f).length>0?(a-8)/n(f).length-1:0),"barWidth");var d={...Ne()},u=Qh();k(u,"width",a);var h=Z(u);{var v=y=>{var x=Mt(),A=ct(x);{var z=T=>{var H=Mt(),b=ct(H);R(()=>Ae(b,17,()=>n(f),br,(E,P)=>{var S=m(()=>ka(n(P),2));let N=()=>n(S)[0];N();let C=()=>n(S)[1];C();var G=qh();K(()=>{k(G,"x",N()-n(g)/2),k(G,"y",C()),k(G,"width",n(g)),k(G,"height",n(i)-2-C()),k(G,"fill",n(o))}),I(E,G)}),"each",An,71,6),I(T,H)},F=T=>{var H=Mt(),b=ct(H);{var E=S=>{var N=Yh(),C=ct(N),G=tt(C);K(()=>{k(C,"d",n(s)),k(C,"fill",n(o)),k(G,"d",n(c)),k(G,"stroke",n(o))}),I(S,N)},P=S=>{var N=Kh(),C=ct(N),G=tt(C);{var B=rt=>{const nt=p(m(()=>n(f)[n(f).length-1]),"lastPoint");n(nt);var $=Zh();K(()=>{k($,"cx",n(nt)[0]),k($,"cy",n(nt)[1]),k($,"fill",n(o))}),I(rt,$)};R(()=>j(G,rt=>{n(f).length>0&&rt(B)}),"if",An,87,6)}K(()=>{k(C,"d",n(c)),k(C,"stroke",n(o))}),I(S,N)};R(()=>j(b,S=>{w(n(r),"area")?S(E):S(P,!1)},!0),"if",An,81,4)}I(T,H)};R(()=>j(A,T=>{w(n(r),"bar")?T(z):T(F,!1)}),"if",An,70,4)}I(y,x)},_=y=>{var x=Jh();k(x,"x",a/2),K(()=>k(x,"y",n(i)/2)),I(y,x)};R(()=>j(h,y=>{n(f).length>0?y(v):y(_,!1)}),"if",An,69,2)}return K(()=>{k(u,"height",n(i)),k(u,"viewBox",`0 0 60 ${n(i)??""}`)}),I(t,u),Se(d)}fr[L]="src/components/table/CellContent.svelte";var $h=O(vt('<span class="cell-icon svelte-mxyczy"> </span>'),fr[L],[[34,15]]),tg=O(vt('<span class="cell-badge svelte-mxyczy"> </span>'),fr[L],[[36,16]]),eg=O(vt('<span><!> <span class="cell-value"> </span> <!></span>'),fr[L],[[23,0,[[35,2]]]]);function fr(t,e){ke(new.target),Me(e,!0,fr);const r=p(m(()=>{var T;return!!((T=e.cellStyle)!=null&&T.badge)}),"hasBadge"),i=p(m(()=>{var T;return!!((T=e.cellStyle)!=null&&T.icon)}),"hasIcon"),o=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.bold)??!1}),"isBold"),a=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.italic)??!1}),"isItalic"),l=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.color)??null}),"textColor"),f=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.bg)??null}),"bgColor"),c=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.emphasis)??!1}),"isEmphasis"),s=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.muted)??!1}),"isMuted"),g=p(m(()=>{var T;return((T=e.cellStyle)==null?void 0:T.accent)??!1}),"isAccent");var d={...Ne()},u=eg();let h,v;var _=Z(u);{var y=T=>{var H=$h(),b=Z(H);K(()=>{var E;return Yt(b,(E=e.cellStyle)==null?void 0:E.icon)}),I(T,H)};R(()=>j(_,T=>{n(i)&&T(y)}),"if",fr,34,2)}var x=tt(_,2),A=Z(x),z=tt(x,2);{var F=T=>{var H=tg(),b=Z(H);K(()=>{var E;return Yt(b,(E=e.cellStyle)==null?void 0:E.badge)}),I(T,H)};R(()=>j(z,T=>{n(r)&&T(F)}),"if",fr,36,2)}return K(T=>{h=Tn(u,1,"cell-content svelte-mxyczy",null,h,{"cell-bold":n(o),"cell-italic":n(a),"cell-emphasis":n(c),"cell-muted":n(s),"cell-accent":n(g)}),k(u,"title",T),v=He(u,"",v,{color:n(l),"background-color":n(f)}),Yt(A,e.value??"")},[()=>String(e.value??"")]),I(t,u),Se(d)}Wo[L]="src/components/table/CellIcon.svelte";var ng=O(vt("<span> </span>"),Wo[L],[[32,2]]);function Wo(t,e){ke(new.target),Me(e,!0,Wo);const r=p(m(()=>{var d;return((d=e.options)==null?void 0:d.mapping)??{}}),"mapping"),i=p(m(()=>{var d;return((d=e.options)==null?void 0:d.size)??"base"}),"size"),o=p(m(()=>{var d;return(d=e.options)==null?void 0:d.color}),"color"),a=p(m(()=>{if(w(e.value,void 0)||w(e.value,null))return"";const d=String(e.value);return n(r)&&d in n(r)?n(r)[d]:d}),"displayValue"),l=p(m(()=>w(n(i),"sm")?"icon-sm":w(n(i),"lg")?"icon-lg":"icon-base"),"sizeClass");var f={...Ne()},c=Mt(),s=ct(c);{var g=d=>{var u=ng();let h;var v=Z(u);K(_=>{Tn(u,1,`cell-icon ${n(l)??""}`,"svelte-weao3c"),k(u,"title",_),h=He(u,"",h,{color:n(o)}),Yt(v,n(a))},[()=>String(e.value??"")]),I(d,u)};R(()=>j(s,d=>{n(a)&&d(g)}),"if",Wo,31,0)}return I(t,c),Se(f)}Ro[L]="src/components/table/CellBadge.svelte";var rg=O(vt("<span> </span>"),Ro[L],[[56,2]]);function Ro(t,e){ke(new.target),Me(e,!0,Ro);const r=p(m(()=>{var u;return((u=e.options)==null?void 0:u.variants)??{}}),"variants"),i=p(m(()=>{var u;return((u=e.options)==null?void 0:u.colors)??{}}),"colors"),o=p(m(()=>{var u;return((u=e.options)==null?void 0:u.size)??"base"}),"size"),a=p(m(()=>w(e.value,void 0)||w(e.value,null)?"":String(e.value)),"displayValue"),l=p(m(()=>{const u=String(e.value??"");if(n(i)&&u in n(i))return n(i)[u];if(n(r)&&u in n(r))switch(n(r)[u]){case"success":return"var(--wf-badge-success, #16a34a)";case"warning":return"var(--wf-badge-warning, #f59e0b)";case"error":return"var(--wf-badge-error, #dc2626)";case"info":return"var(--wf-badge-info, #2563eb)";case"muted":return"var(--wf-badge-muted, var(--wf-muted, #64748b))";default:return"var(--wf-primary, #2563eb)"}return"var(--wf-primary, #2563eb)"}),"badgeColor"),f=p(m(()=>w(n(o),"sm")?"badge-sm":"badge-base"),"sizeClass");var c={...Ne()},s=Mt(),g=ct(s);{var d=u=>{var h=rg();let v;var _=Z(h);K(()=>{Tn(h,1,`cell-badge ${n(f)??""}`,"svelte-16nh7k4"),v=He(h,"",v,{"background-color":`color-mix(in srgb, ${n(l)??""} 15%, var(--wf-bg, #fff))`,color:n(l)}),Yt(_,n(a))}),I(u,h)};R(()=>j(g,u=>{n(a)&&u(d)}),"if",Ro,55,0)}return I(t,s),Se(c)}Mi[L]="src/components/table/CellStars.svelte";var ig=O(vt("<span> </span>"),Mi[L],[[44,6]]),og=O(vt('<span class="cell-stars svelte-8zr88i"></span>'),Mi[L],[[42,2]]);function Mi(t,e){ke(new.target),Me(e,!0,Mi);const r=p(m(()=>{var v;return((v=e.options)==null?void 0:v.maxStars)??5}),"maxStars"),i=p(m(()=>{var v;return((v=e.options)==null?void 0:v.color)??"#f59e0b"}),"filledColor"),o=p(m(()=>{var v;return((v=e.options)==null?void 0:v.emptyColor)??"#d1d5db"}),"emptyColor"),a=p(m(()=>{var v;return((v=e.options)==null?void 0:v.halfStars)??!1}),"halfStars"),l="★",f="☆",c="⯪",s=p(m(()=>{if(w(e.value,void 0)||w(e.value,null))return"";const v=Math.max(0,Math.min(n(r),e.value)),_=[];for(let y=1;y<=n(r);y++)y<=v?_.push({char:l,filled:"full"}):n(a)&&y-.5<=v?_.push({char:c,filled:"half"}):_.push({char:f,filled:"empty"});return _}),"starDisplay");var g={...Ne()},d=Mt(),u=ct(d);{var h=v=>{var _=og();R(()=>Ae(_,21,()=>n(s),br,(y,x)=>{var A=ig();let z,F;var T=Z(A,!0);K(()=>{z=Tn(A,1,"star svelte-8zr88i",null,z,{filled:w(n(x).filled,"full"),half:w(n(x).filled,"half")}),F=He(A,"",F,{color:w(n(x).filled,"empty")?n(o):n(i)}),Yt(T,n(x).char)}),I(y,A)}),"each",Mi,43,4),K(()=>k(_,"title",`${e.value??""} / ${n(r)??""}`)),I(v,_)};R(()=>j(u,v=>{w(e.value,void 0,!1)&&w(e.value,null,!1)&&v(h)}),"if",Mi,41,0)}return I(t,d),Se(g)}Si[L]="src/components/table/CellImg.svelte";var ag=O(vt('<img alt="" loading="lazy"/>'),Si[L],[[28,2]]),lg=O(vt('<span class="cell-img-fallback svelte-1rifgp8" title="Image not available"> </span>'),Si[L],[[38,2]]);function Si(t,e){ke(new.target),Me(e,!0,Si);const r=p(m(()=>{var v;return(v=e.options)==null?void 0:v.height}),"imgHeight"),i=p(m(()=>{var v;return(v=e.options)==null?void 0:v.maxWidth}),"maxWidth"),o=p(m(()=>{var v;return((v=e.options)==null?void 0:v.fallback)??"📷"}),"fallback"),a=p(m(()=>{var v;return((v=e.options)==null?void 0:v.shape)??"square"}),"shape");let l=p(Nt(!1),"hasError");const f=p(m(()=>w(n(a),"circle")?"shape-circle":w(n(a),"rounded")?"shape-rounded":""),"shapeClass");function c(){et(l,!0)}var s={...Ne()},g=Mt(),d=ct(g);{var u=v=>{var _=ag();let y;K(()=>{Tn(_,1,`cell-img ${n(f)??""}`,"svelte-1rifgp8"),k(_,"src",e.value),y=He(_,"",y,{height:n(r)?`${n(r)}px`:"calc(var(--wf-row-height, 28px) - 4px)","max-width":n(i)?`${n(i)}px`:"100%"})}),Pn("error",_,c),I(v,_)},h=v=>{var _=Mt(),y=ct(_);{var x=A=>{var z=lg(),F=Z(z);K(()=>Yt(F,n(o))),I(A,z)};R(()=>j(y,A=>{n(o)&&A(x)},!0),"if",Si,37,0)}I(v,_)};R(()=>j(d,v=>{e.value&&!n(l)?v(u):v(h,!1)}),"if",Si,27,0)}return I(t,g),Se(s)}Dr[L]="src/components/table/CellReference.svelte";var sg=O(vt('<span class="reference-icon svelte-186gxpi">↗</span>'),Dr[L],[[44,8]]),cg=O(vt('<a class="cell-reference svelte-186gxpi" target="_blank" rel="noopener noreferrer"><span class="reference-text svelte-186gxpi"> </span> <!></a>'),Dr[L],[[35,4,[[42,6]]]]),fg=O(vt('<span class="cell-reference svelte-186gxpi"> </span>'),Dr[L],[[48,4]]);function Dr(t,e){ke(new.target),Me(e,!0,Dr);const r=p(m(()=>{var h;return((h=e.options)==null?void 0:h.maxChars)??30}),"maxChars"),i=p(m(()=>{var h;return((h=e.options)==null?void 0:h.showIcon)??!0}),"showIcon"),o=p(m(()=>{var h;return(h=e.options)==null?void 0:h.hrefField}),"hrefField"),a=p(m(()=>{if(!n(o))return null;const h=e.metadata[n(o)];return w(typeof h,"string")?h:null}),"href"),l=p(m(()=>{if(w(e.value,void 0)||w(e.value,null))return"";const h=String(e.value);return h.length<=n(r)?h:h.substring(0,n(r))+"..."}),"displayValue"),f=p(m(()=>e.value?String(e.value):""),"fullValue"),c=p(m(()=>n(f).length>n(r)),"isTruncated");var s={...Ne()},g=Mt(),d=ct(g);{var u=h=>{var v=Mt(),_=ct(v);{var y=A=>{var z=cg(),F=Z(z),T=Z(F),H=tt(F,2);{var b=E=>{var P=sg();I(E,P)};R(()=>j(H,E=>{n(i)&&E(b)}),"if",Dr,43,6)}K(()=>{k(z,"href",n(a)),k(z,"title",n(c)?n(f):void 0),Yt(T,n(l))}),I(A,z)},x=A=>{var z=fg(),F=Z(z);K(()=>{k(z,"title",n(c)?n(f):void 0),Yt(F,n(l))}),I(A,z)};R(()=>j(_,A=>{n(a)?A(y):A(x,!1)}),"if",Dr,34,2)}I(h,v)};R(()=>j(d,h=>{e.value&&h(u)}),"if",Dr,33,0)}return I(t,g),Se(s)}Io[L]="src/components/table/CellRange.svelte";var ug=O(vt('<span class="cell-range svelte-jzelx2"> </span>'),Io[L],[[51,2]]);function Io(t,e){ke(new.target),Me(e,!0,Io);const r=p(m(()=>{var _;return((_=e.options)==null?void 0:_.separator)??" – "}),"separator"),i=p(m(()=>{var _;return(_=e.options)==null?void 0:_.decimals}),"decimals"),o=p(m(()=>{var _;return((_=e.options)==null?void 0:_.minField)??""}),"minField"),a=p(m(()=>{var _;return((_=e.options)==null?void 0:_.maxField)??""}),"maxField"),l=p(m(()=>{if(!n(o))return null;const _=e.metadata[n(o)];return w(typeof _,"number")?_:null}),"minValue"),f=p(m(()=>{if(!n(a))return null;const _=e.metadata[n(a)];return w(typeof _,"number")?_:null}),"maxValue");function c(_){return w(_,null)?"":w(n(i),null)||w(n(i),void 0)?Number.isInteger(_)?String(_):_.toFixed(1):_.toFixed(n(i))}const s=p(m(()=>w(n(l),null)&&w(n(f),null)?"":w(n(l),null)?c(n(f)):w(n(f),null)?c(n(l)):`${c(n(l))}${n(r)}${c(n(f))}`),"displayValue"),g=p(m(()=>w(n(l),null,!1)||w(n(f),null,!1)),"hasRange");var d={...Ne()},u=Mt(),h=ct(u);{var v=_=>{var y=ug(),x=Z(y);K((A,z)=>{k(y,"title",`${A??""} to ${z??""}`),Yt(x,n(s))},[()=>c(n(l)),()=>c(n(f))]),I(_,y)};R(()=>j(h,_=>{n(g)&&_(v)}),"if",Io,50,0)}return I(t,u),Se(d)}const dg=["default","minimal","dark","jama","lancet","modern","presentation","cochrane","nature"],At={name:"default",colors:{background:"#ffffff",foreground:"#333333",primary:"#0891b2",secondary:"#64748b",accent:"#8b5cf6",muted:"#94a3b8",border:"#e2e8f0",rowBg:"#ffffff",altBg:"#f8fafc",interval:"#0891b2",intervalPositive:"#0891b2",intervalNegative:"#dc2626",intervalNeutral:"#64748b",intervalLine:"#475569",summaryFill:"#0891b2",summaryBorder:"#0e7490"},typography:{fontFamily:"system-ui, -apple-system, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5,headerFontScale:1.05},spacing:{rowHeight:28,headerHeight:36,sectionGap:16,padding:12,containerPadding:0,cellPaddingX:10,cellPaddingY:4,axisGap:12,groupPadding:8},shapes:{pointSize:6,summaryHeight:10,lineWidth:1.5,borderRadius:2},axis:{rangeMin:null,rangeMax:null,tickCount:null,tickValues:null,gridlines:!1,gridlineStyle:"dotted",ciClipFactor:2,includeNull:!0,symmetric:null,nullTick:!0,markerMargin:!0},layout:{plotPosition:"right",tableWidth:"auto",plotWidth:"auto",rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:8,banding:!0},groupHeaders:{level1FontSize:"1rem",level1FontWeight:700,level1Italic:!1,level1Background:null,level1BorderBottom:!1,level2FontSize:"0.9375rem",level2FontWeight:500,level2Italic:!0,level2Background:null,level2BorderBottom:!1,level3FontSize:"0.875rem",level3FontWeight:400,level3Italic:!1,level3Background:null,level3BorderBottom:!1,indentPerLevel:16}},hg={...At,name:"minimal",colors:{...At.colors,background:"#ffffff",foreground:"#000000",primary:"#000000",secondary:"#333333",accent:"#000000",muted:"#666666",border:"#000000",rowBg:"#ffffff",altBg:"#fafafa",interval:"#000000",intervalPositive:"#000000",intervalNegative:"#000000",intervalNeutral:"#666666",intervalLine:"#000000",summaryFill:"#000000",summaryBorder:"#000000"},typography:{...At.typography,fontFamily:"Georgia, 'Times New Roman', serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.4},spacing:{...At.spacing,rowHeight:24,headerHeight:30,sectionGap:12,padding:10},shapes:{...At.shapes,pointSize:5,summaryHeight:8,lineWidth:1,borderRadius:0},layout:{...At.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:0}},gg={...At,name:"dark",colors:{...At.colors,background:"#1e1e2e",foreground:"#cdd6f4",primary:"#89b4fa",secondary:"#a6adc8",accent:"#f5c2e7",muted:"#6c7086",border:"#313244",rowBg:"#1e1e2e",altBg:"#232334",interval:"#89b4fa",intervalPositive:"#a6e3a1",intervalNegative:"#f38ba8",intervalNeutral:"#6c7086",intervalLine:"#9399b2",summaryFill:"#89b4fa",summaryBorder:"#74c7ec"},typography:{...At.typography,fontFamily:"system-ui, -apple-system, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5},spacing:{...At.spacing,rowHeight:30,headerHeight:38,sectionGap:18,padding:14},shapes:{...At.shapes,pointSize:6,summaryHeight:10,lineWidth:1.5,borderRadius:4},layout:{...At.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:8}},vg={...At,name:"jama",colors:{...At.colors,background:"#ffffff",foreground:"#000000",primary:"#000000",secondary:"#333333",accent:"#000000",muted:"#555555",border:"#000000",rowBg:"#ffffff",altBg:"#f9fafb",interval:"#000000",intervalPositive:"#000000",intervalNegative:"#000000",intervalNeutral:"#555555",intervalLine:"#000000",summaryFill:"#000000",summaryBorder:"#000000"},typography:{...At.typography,fontFamily:"Arial, Helvetica, sans-serif",fontSizeSm:"8pt",fontSizeBase:"9pt",fontSizeLg:"10pt",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.2},spacing:{...At.spacing,rowHeight:18,headerHeight:24,sectionGap:8,padding:6,cellPaddingX:8,cellPaddingY:2},shapes:{...At.shapes,pointSize:4,summaryHeight:7,lineWidth:1.25,borderRadius:0},layout:{...At.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:0}},pg={...At,name:"lancet",colors:{...At.colors,background:"#fdfcfb",foreground:"#1e3a5f",primary:"#00407a",secondary:"#3d5a80",accent:"#b8860b",muted:"#6b7c93",border:"#d4dce6",rowBg:"#fdfcfb",altBg:"#f8f7f6",interval:"#00407a",intervalPositive:"#00407a",intervalNegative:"#9d2933",intervalNeutral:"#3d5a80",intervalLine:"#1e3a5f",summaryFill:"#00407a",summaryBorder:"#002d54"},typography:{...At.typography,fontFamily:"Georgia, 'Times New Roman', serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.5},spacing:{...At.spacing,rowHeight:26,headerHeight:34,sectionGap:16,padding:12,cellPaddingX:12,cellPaddingY:5},shapes:{...At.shapes,pointSize:5,summaryHeight:9,lineWidth:1.25,borderRadius:0},layout:{...At.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:0}},mg={...At,name:"modern",colors:{...At.colors,background:"#fafafa",foreground:"#18181b",primary:"#3b82f6",secondary:"#52525b",accent:"#8b5cf6",muted:"#a1a1aa",border:"#d4d4d8",rowBg:"#fafafa",altBg:"#f4f4f5",interval:"#3b82f6",intervalPositive:"#22c55e",intervalNegative:"#ef4444",intervalNeutral:"#71717a",intervalLine:"#27272a",summaryFill:"#3b82f6",summaryBorder:"#2563eb"},typography:{...At.typography,fontFamily:"Inter, system-ui, -apple-system, sans-serif",fontSizeSm:"0.8125rem",fontSizeBase:"0.9375rem",fontSizeLg:"1.0625rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5},spacing:{...At.spacing,rowHeight:36,headerHeight:44,sectionGap:24,padding:16,cellPaddingX:12,cellPaddingY:6},shapes:{...At.shapes,pointSize:8,summaryHeight:12,lineWidth:1.75,borderRadius:8},layout:{...At.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:12}},_g={...At,name:"presentation",colors:{...At.colors,background:"#ffffff",foreground:"#0f172a",primary:"#0369a1",secondary:"#334155",accent:"#ea580c",muted:"#64748b",border:"#94a3b8",rowBg:"#ffffff",altBg:"#f8fafc",interval:"#0369a1",intervalPositive:"#047857",intervalNegative:"#be123c",intervalNeutral:"#334155",intervalLine:"#0f172a",summaryFill:"#0369a1",summaryBorder:"#0c4a6e"},typography:{...At.typography,fontFamily:"'Source Sans Pro', 'Segoe UI', Roboto, sans-serif",fontSizeSm:"1rem",fontSizeBase:"1.125rem",fontSizeLg:"1.25rem",fontWeightNormal:400,fontWeightMedium:600,fontWeightBold:700,lineHeight:1.4},spacing:{...At.spacing,rowHeight:44,headerHeight:52,sectionGap:28,padding:20,cellPaddingX:14,cellPaddingY:6},shapes:{...At.shapes,pointSize:12,summaryHeight:16,lineWidth:2.5,borderRadius:4},layout:{...At.layout,rowBorder:!0,containerBorder:!1,containerBorderRadius:6}},yg={...At,name:"cochrane",colors:{...At.colors,background:"#ffffff",foreground:"#2c2c2c",primary:"#0099cc",secondary:"#555555",accent:"#006699",muted:"#888888",border:"#b3b3b3",rowBg:"#ffffff",altBg:"#f5f5f5",interval:"#0099cc",intervalPositive:"#0099cc",intervalNegative:"#cc3333",intervalNeutral:"#555555",intervalLine:"#2c2c2c",summaryFill:"#0099cc",summaryBorder:"#006699"},typography:{...At.typography,fontFamily:"Arial, Helvetica, sans-serif",fontSizeSm:"0.6875rem",fontSizeBase:"0.75rem",fontSizeLg:"0.8125rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.25},spacing:{...At.spacing,rowHeight:20,headerHeight:26,sectionGap:8,padding:6,cellPaddingX:6,cellPaddingY:2},shapes:{...At.shapes,pointSize:4,summaryHeight:7,lineWidth:1,borderRadius:0},layout:{...At.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:0}},xg={...At,name:"nature",colors:{...At.colors,background:"#ffffff",foreground:"#1a1a1a",primary:"#1976d2",secondary:"#424242",accent:"#c62828",muted:"#616161",border:"#bdbdbd",rowBg:"#ffffff",altBg:"#fafafa",interval:"#1976d2",intervalPositive:"#1976d2",intervalNegative:"#c62828",intervalNeutral:"#616161",intervalLine:"#1a1a1a",summaryFill:"#1976d2",summaryBorder:"#0d47a1"},typography:{...At.typography,fontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.8125rem",fontSizeLg:"0.9375rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.35},spacing:{...At.spacing,rowHeight:24,headerHeight:32,sectionGap:12,padding:10,cellPaddingX:10,cellPaddingY:4},shapes:{...At.shapes,pointSize:5,summaryHeight:8,lineWidth:1.25,borderRadius:1},layout:{...At.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:2},axis:{...At.axis,gridlines:!1,nullTick:!0}},wg={default:At,minimal:hg,dark:gg,jama:vg,lancet:pg,modern:mg,presentation:_g,cochrane:yg,nature:xg},kc={default:"Default",minimal:"Minimal",dark:"Dark",jama:"JAMA",lancet:"Lancet",modern:"Modern",presentation:"Presentation",cochrane:"Cochrane",nature:"Nature"};function bg(t,e,r={}){const{gap:i=4,viewportPadding:o=8,preferredPosition:a="below",align:l="end"}=r,f=window.innerHeight,c=window.innerWidth,s=f-t.bottom-i-o,g=t.top-i-o;let d,u;a==="below"?s>=e.height?d="below":g>=e.height?d="above":(d=s>=g?"below":"above",u=Math.max(d==="below"?s:g,100)):g>=e.height?d="above":s>=e.height?d="below":(d=g>=s?"above":"below",u=Math.max(d==="above"?g:s,100));const h={};return d==="below"?h.top=t.bottom+i:h.bottom=f-t.top+i,l==="end"?t.right-e.width<o?h.left=Math.max(t.left,o):h.right=c-t.right:t.left+e.width>c-o?h.right=Math.max(c-t.right,o):h.left=t.left,u&&(h.maxHeight=u),h}function Br(t,e){function r(){if(!e.triggerEl)return;const o=e.triggerEl.getBoundingClientRect(),a=t.getBoundingClientRect(),l=bg(o,{width:a.width,height:a.height},{gap:e.gap??4,align:e.align??"end"});t.style.position="fixed",t.style.top="",t.style.bottom="",t.style.left="",t.style.right="",l.top!==void 0&&(t.style.top=`${l.top}px`),l.bottom!==void 0&&(t.style.bottom=`${l.bottom}px`),l.left!==void 0&&(t.style.left=`${l.left}px`),l.right!==void 0&&(t.style.right=`${l.right}px`),l.maxHeight?(t.style.maxHeight=`${l.maxHeight}px`,t.style.overflowY="auto"):(t.style.maxHeight="",t.style.overflowY="")}function i(o){e=o,requestAnimationFrame(r)}return i(e),{update:i,destroy(){}}}ur[L]="src/components/ui/ThemeSwitcher.svelte";var Mg=O(It('<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-35mgh1"><polyline points="20 6 9 17 4 12"></polyline></svg>'),ur[L],[[93,12,[[94,14]]]]),Sg=O(vt('<span class="spacer svelte-35mgh1"></span>'),ur[L],[[97,12]]),Eg=O(vt("<button><!> <span> </span></button>"),ur[L],[[87,8,[[99,10]]]]),Cg=O(vt('<div class="theme-dropdown svelte-35mgh1"></div>'),ur[L],[[85,4]]),Tg=O(vt('<div class="theme-switcher-wrapper svelte-35mgh1"><button class="theme-btn svelte-35mgh1" aria-label="Switch theme"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path></svg></button> <!></div>'),ur[L],[[70,0,[[71,2,[[78,4,[[79,6],[80,6]]]]]]]]);function ur(t,e){ke(new.target),Me(e,!0,ur);let r=p(Nt(!1),"dropdownOpen"),i=p(Nt(null),"triggerEl");const o=p(m(()=>{var v,_;return((_=(v=e.store.spec)==null?void 0:v.theme)==null?void 0:_.name)??"default"}),"currentTheme"),a=p(m(()=>w(e.availableThemes,void 0)||w(e.availableThemes,null)?dg.map(v=>[v,kc[v]]):Object.entries(e.availableThemes).map(([v,_])=>{const y=_.name?kc[_.name]??_.name:v;return[v,y]})),"themeEntries");function l(){et(r,!1)}function f(v){if(e.onThemeChange)e.onThemeChange(v);else if(e.availableThemes&&v in e.availableThemes){const _=e.availableThemes[v];e.store.spec&&e.store.setSpec({...e.store.spec,theme:_})}else e.store.setTheme(v);l()}function c(v){v.target.closest(".theme-switcher-wrapper")||l()}var s={...Ne()},g=Tg();Pn("click",Oi,c);var d=Z(g);d.__click=()=>et(r,!n(r)),pi(d,v=>et(i,v),()=>n(i));var u=tt(d,2);{var h=v=>{var _=Cg();R(()=>Ae(_,21,()=>n(a),br,(y,x)=>{var A=m(()=>ka(n(x),2));let z=()=>n(A)[0];z();let F=()=>n(A)[1];F();var T=Eg();let H;T.__click=()=>f(z());var b=Z(T);{var E=C=>{var G=Mg();I(C,G)},P=C=>{var G=Sg();I(C,G)};R(()=>j(b,C=>{w(n(o),z())?C(E):C(P,!1)}),"if",ur,92,10)}var S=tt(b,2),N=Z(S,!0);K(()=>{H=Tn(T,1,"dropdown-item svelte-35mgh1",null,H,{active:w(n(o),z())}),Yt(N,F())}),I(y,T)}),"each",ur,86,6),na(_,(y,x)=>Br==null?void 0:Br(y,x),()=>({triggerEl:n(i)})),I(v,_)};R(()=>j(u,v=>{n(r)&&v(h)}),"if",ur,84,2)}return K(()=>k(d,"aria-expanded",n(r))),I(t,g),Se(s)}vi(["click"]),Ei[L]="src/components/ui/ViewToggle.svelte";var kg=O(It('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="10" y2="6"></line><line x1="3" y1="12" x2="10" y2="12"></line><line x1="3" y1="18" x2="10" y2="18"></line><line x1="14" y1="12" x2="21" y2="12"></line><circle cx="17" cy="12" r="2" fill="currentColor"></circle></svg>'),Ei[L],[[21,4,[[23,6],[24,6],[25,6],[27,6],[28,6]]]]),Ng=O(It('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>'),Ei[L],[[32,4,[[33,6],[34,6],[35,6]]]]),Ag=O(vt('<button class="view-toggle-btn svelte-1u54q0q"><!></button>'),Ei[L],[[13,0]]);function Ei(t,e){ke(new.target),Me(e,!0,Ei);const r=p(m(()=>{var c,s;return((s=(c=e.store.spec)==null?void 0:c.data)==null?void 0:s.includeForest)??!0}),"includeForest");var i={...Ne()},o=Ag();o.__click=()=>e.store.toggleForestView();var a=Z(o);{var l=c=>{var s=kg();I(c,s)},f=c=>{var s=Ng();I(c,s)};R(()=>j(a,c=>{n(r)?c(l):c(f,!1)}),"if",Ei,19,2)}return K(()=>{k(o,"aria-label",n(r)?"Show table only":"Show forest plot"),k(o,"title",n(r)?"Show table only":"Show forest plot")}),I(t,o),Se(i)}vi(["click"]);function ga(t,e){const r=t.split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,e),r.join(".")}function gl(t){const e=Math.abs(t),r=t<0?"-":"";if(e>=1e12)throw new Error(`Cannot abbreviate value >= 1 trillion: ${t}`);if(e>=1e9){const i=e/1e9;return r+vl(i)+"B"}if(e>=1e6){const i=e/1e6;return r+vl(i)+"M"}if(e>=1e3){const i=e/1e3;return r+vl(i)+"K"}return r+Math.round(e).toString()}function vl(t){const e=Math.round(t*10)/10;return e===Math.floor(e)?e.toFixed(0):e.toFixed(1)}const Hg={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻","+":"⁺"};function Wg(t){return t.split("").map(e=>Hg[e]??e).join("")}function Fo(t,e){var f,c,s,g,d;if(t==null||Number.isNaN(t))return(e==null?void 0:e.naText)??"";if(e!=null&&e.percent){const{decimals:u,digits:h,multiply:v=!0,symbol:_=!0}=e.percent,y=v?t*100:t,x=h!=null?y.toPrecision(h):y.toFixed(u??1);return _?`${x}%`:x}if(((f=e==null?void 0:e.numeric)==null?void 0:f.abbreviate)&&Math.abs(t)>=1e3)return gl(t);const i=(c=e==null?void 0:e.numeric)==null?void 0:c.digits;if(i!=null){const u=t.toPrecision(i),h=(s=e==null?void 0:e.numeric)==null?void 0:s.thousandsSep;return h&&typeof h=="string"?ga(u,h):u}const o=(g=e==null?void 0:e.numeric)==null?void 0:g.decimals,a=(d=e==null?void 0:e.numeric)==null?void 0:d.thousandsSep;let l;return o!==void 0?l=t.toFixed(o):Number.isInteger(t)||Math.abs(t-Math.round(t))<1e-4?l=Math.round(t).toString():l=t.toFixed(2),a&&typeof a=="string"&&(l=ga(l,a)),l}function pl(t,e){const{eventsField:r,nField:i,separator:o="/",showPct:a=!1,thousandsSep:l,abbreviate:f}=e.events,c=t.metadata[r],s=t.metadata[i];if(c==null||s===void 0||s===null)return e.naText??"";const g=Number(c),d=Number(s);let u,h;f&&(g>=1e3||d>=1e3)?(u=g>=1e3?gl(g):String(g),h=d>=1e3?gl(d):String(d)):(u=String(g),h=String(d),l&&typeof l=="string"&&(u=ga(u,l),h=ga(h,l)));let v=`${u}${o}${h}`;if(a&&d>0){const _=(g/d*100).toFixed(1);v+=` (${_}%)`}return v}function ml(t,e,r,i){var f,c,s;if(t==null||Number.isNaN(t))return"";const o=((f=i==null?void 0:i.interval)==null?void 0:f.decimals)??2,a=((c=i==null?void 0:i.interval)==null?void 0:c.sep)??" ",l=(s=i==null?void 0:i.interval)==null?void 0:s.impreciseThreshold;return e==null||r===void 0||r===null||Number.isNaN(e)||Number.isNaN(r)?t.toFixed(o):l!=null&&e>0&&r/e>l?"—":`${t.toFixed(o)}${a}(${e.toFixed(o)}, ${r.toFixed(o)})`}function Nc(t,e){if(t==null||Number.isNaN(t))return(e==null?void 0:e.naText)??"";const r=e==null?void 0:e.pvalue,i=(r==null?void 0:r.digits)??2,o=(r==null?void 0:r.expThreshold)??.001,a=(r==null?void 0:r.abbrevThreshold)??null,l=(r==null?void 0:r.format)??"auto",f=(r==null?void 0:r.stars)??!1,c=(r==null?void 0:r.thresholds)??[.05,.01,.001];let s="";if(f&&(t<c[2]?s="***":t<c[1]?s="**":t<c[0]&&(s="*")),a!==null&&t<a)return`<${a}${s}`;if(l==="scientific"||l==="auto"&&t<o){const d=Math.floor(Math.log10(t));return`${(t/Math.pow(10,d)).toPrecision(i)}×10${Wg(d.toString())}${s}`}let g;return t>=.1?g=t.toFixed(i):t>=.01?g=t.toFixed(i+1):g=t.toFixed(i+2),`${g}${s}`}function Ac(t,e){var a,l,f,c;const{type:r,field:i,options:o}=e;switch(r){case"interval":{const s=(a=o==null?void 0:o.interval)!=null&&a.point?t.metadata[o.interval.point]:t.point,g=(l=o==null?void 0:o.interval)!=null&&l.lower?t.metadata[o.interval.lower]:t.lower,d=(f=o==null?void 0:o.interval)!=null&&f.upper?t.metadata[o.interval.upper]:t.upper;return ml(s,g,d,o)}case"custom":return o!=null&&o.events?pl(t,o):String(t.metadata[i]??"");case"pvalue":return Nc(t.metadata[i],o);case"numeric":return Fo(t.metadata[i],o);case"percent":return Fo(t.metadata[i],o);case"sparkline":case"icon":case"stars":case"img":case"range":return"";case"badge":{const s=t.metadata[i];return s==null?"":`  ${String(s)}  `}case"bar":{if(((c=o==null?void 0:o.bar)==null?void 0:c.showLabel)===!1)return"";const s=t.metadata[i];return s==null?"":s>=100?s.toFixed(0):s>=10?s.toFixed(1):s.toFixed(2)}case"text":default:return String(t.metadata[i]??"")}}function Bn(t,e){const r="⁰¹²³⁴⁵⁶⁷⁸⁹⁺⁻";let i=0;for(const o of t)r.includes(o)?i+=e*.3:"il1.,;:|!()[]{}' ".includes(o)?i+=e*.35:"×−".includes(o)?i+=e*.5:"mwMW@%".includes(o)?i+=e*.85:o>="0"&&o<="9"?i+=e*.6:i+=e*.55;return i}function Rg(t,e){var s,g;const r=new Map,i=$n(t.theme.typography.fontSizeBase),o=t.theme.typography.headerFontScale??1.05,a=i*o,l=t.data.rows,f=(t.theme.spacing.cellPaddingX??10)*2,c=(t.theme.spacing.groupPadding??8)*2;for(const d of e){if(d.width!=="auto"&&d.width!==null&&d.width!==void 0)continue;let u=0;d.header&&(u=Math.max(u,Bn(d.header,a)));for(const _ of l){if(((s=_.style)==null?void 0:s.type)==="header"||((g=_.style)==null?void 0:g.type)==="spacer")continue;const y=Ac(_,d);y&&(u=Math.max(u,Bn(y,i)))}const h=Kn.VISUAL_MIN[d.type]??Kn.MIN,v=Math.ceil(u+f+qn.RENDERING_BUFFER);r.set(d.id,Math.min(Kn.MAX,Math.max(h,v)))}return Ig(t.columns,r,a,c,qn.RENDERING_BUFFER),r}function Ig(t,e,r,i,o){function a(c){return c.isGroup?c.columns.flatMap(a):[c]}function l(c){const s=e.get(c.id);return s!==void 0?s:typeof c.width=="number"?c.width:Kn.MIN}function f(c){if(c.isGroup){for(const s of c.columns)f(s);if(c.header){const s=Bn(c.header,r)+i+o,g=a(c),d=g.reduce((u,h)=>u+l(h),0);if(s>d&&g.length>0){const u=Math.ceil((s-d)/g.length);for(const h of g)e.set(h.id,l(h)+u)}}}}for(const c of t)f(c)}function Hc(t,e,r){let i=r.filter(a=>a.groupId===t).length;const o=e.filter(a=>a.parentId===t);for(const a of o)i+=Hc(a.id,e,r);return i}function Wc(t){var c,s;const e=$n(t.theme.typography.fontSizeBase),r=(t.theme.spacing.cellPaddingX??10)*2;let i=0;const o=new Map,a=Array.isArray(t.data.groups)?t.data.groups:[];for(const g of a)o.set(g.id,g.depth);const l=g=>g?(o.get(g)??0)+1:0;t.data.labelHeader&&(i=Math.max(i,Bn(t.data.labelHeader,e)));for(const g of t.data.rows)if(g.label){const d=l(g.groupId),u=((c=g.style)==null?void 0:c.indent)??0,v=(d+u)*Ee.INDENT_PER_LEVEL;let _=Bn(g.label,e)+v;if((s=g.style)!=null&&s.badge){const y=String(g.style.badge),x=e*Sr.FONT_SCALE,z=Bn(y,x)+Sr.PADDING*2;_+=Sr.GAP+z}i=Math.max(i,_)}for(const g of a)if(g.label){const d=g.depth*Ee.INDENT_PER_LEVEL,u=Bn(g.label,e),v=`(${Hc(g.id,a,t.data.rows)})`,_=e*.75,y=Bn(v,_),x=d+Qr.CHEVRON_WIDTH+Qr.GAP+u+Qr.GAP+y+Qr.SAFETY_MARGIN;i=Math.max(i,x)}const f=Math.ceil(i+r+qn.RENDERING_BUFFER);return Math.min(Kn.LABEL_MAX,Math.max(Kn.MIN,f))}function _l(t,e){const r=e.get(t.id);return r!==void 0?r:typeof t.width=="number"?t.width:Yn.DEFAULT_COLUMN_WIDTH}function Fg(t,e,r=0){var Jt,te,yt,jt,We;const i=t.theme,o=i.spacing.rowHeight,a=i.spacing.padding,l=Array.isArray(t.columns)?t.columns:[],f=Ic(l,"left"),c=Ic(l,"right"),g=bl(f)||bl(c)?i.spacing.headerHeight*Ds.GROUP_HEADER_HEIGHT_MULTIPLIER:i.spacing.headerHeight,d=!!((Jt=t.labels)!=null&&Jt.title),u=!!((te=t.labels)!=null&&te.subtitle),h=!!((yt=t.labels)!=null&&yt.caption),v=!!((jt=t.labels)!=null&&jt.footnote),_=d?Zn.TITLE_HEIGHT:0,y=u?Zn.SUBTITLE_HEIGHT:0,x=_+y+(d||u?a:0),A=h?Zn.CAPTION_HEIGHT:0,z=v?Zn.FOOTNOTE_HEIGHT:0,F=A+z+(h||v?a:0),T=Rc(t),H=!!t.data.overall;let b=0;for(const ht of T){const Lt=ht.type==="data"&&((We=ht.row.style)==null?void 0:We.type)==="spacer";b+=Lt?o/2:o}H&&(b+=o*Ds.OVERALL_ROW_HEIGHT_MULTIPLIER);const E=wl(l,"left"),P=wl(l,"right"),S=xl(l).filter(ht=>ht.position===void 0),N=[...E,...P,...S];let C,G;if(e.columnWidths){C=new Map;for(const[ht,Lt]of Object.entries(e.columnWidths))ht!=="__label__"&&C.set(ht,Lt);G=e.columnWidths.__label__??Wc(t)}else C=Rg(t,N),G=Wc(t);const B=G+E.reduce((ht,Lt)=>ht+_l(Lt,C),0),rt=P.reduce((ht,Lt)=>ht+_l(Lt,C),0),nt=S.filter(ht=>ht.type!=="forest").reduce((ht,Lt)=>ht+_l(Lt,C),0),$=e.width??Yn.DEFAULT_WIDTH,Q=N.some(ht=>ht.type==="forest")||t.data.includeForest,Tt=B+rt+nt;let dt;if(!Q)dt=0;else if(typeof e.forestWidth=="number")dt=e.forestWidth;else if(typeof t.layout.plotWidth=="number")dt=t.layout.plotWidth;else{const ht=$-Tt-Yn.COLUMN_GAP*2-a*2;dt=Math.max(ht,Yn.MIN_FOREST_WIDTH)}const _t=a*2+Tt+dt+Yn.COLUMN_GAP*2,pt=Math.max(e.width??$,_t),ut=x+a+g+b+Yn.AXIS_HEIGHT+Yn.AXIS_LABEL_HEIGHT+F+Yn.BOTTOM_MARGIN;return{totalWidth:pt,totalHeight:e.height??ut,tableWidth:B+rt,forestWidth:dt,headerHeight:g,rowHeight:o,plotHeight:b,axisHeight:Yn.AXIS_HEIGHT,nullValue:r,summaryYPosition:b-o,showOverallSummary:H,headerTextHeight:x,footerTextHeight:F,titleY:a+Zn.TITLE_HEIGHT-8,subtitleY:a+_+Zn.SUBTITLE_HEIGHT-4,mainY:x+a,footerY:x+a+g+b+Yn.AXIS_HEIGHT+Yn.AXIS_LABEL_HEIGHT+a,autoWidths:C,labelWidth:G}}function Rc(t){var d;const e=t.data.rows,r=Array.isArray(t.data.groups)?t.data.groups:[];if(r.length===0)return e.map(u=>({type:"data",row:u,depth:0}));const i=new Map;for(const u of r)i.set(u.id,u);const o=new Map;for(const u of e){const h=u.groupId??null;o.has(h)||o.set(h,[]),o.get(h).push(u)}const a=new Set;for(const u of o.keys()){if(!u)continue;let h=u;for(;h;)a.add(h),h=(d=i.get(h))==null?void 0:d.parentId}function l(u){return r.filter(h=>(h.parentId??null)===u&&a.has(h.id))}function f(u){if(!u)return 0;const h=i.get(u);return h?h.depth+1:0}function c(u){var v;let h=((v=o.get(u))==null?void 0:v.length)??0;for(const _ of l(u))h+=c(_.id);return h}const s=[];function g(u){if(u){const v=i.get(u);if(!v)return;const _=c(u);s.push({type:"group_header",groupId:v.id,label:v.label,depth:v.depth,rowCount:_})}for(const v of l(u))g(v.id);const h=o.get(u)??[];for(const v of h)s.push({type:"data",row:v,depth:f(v.groupId)})}return g(null),s}function yl(t){const e=[];for(const r of t)r.isGroup?e.push(...yl(r.columns)):e.push(r);return e}function xl(t){const e=[];for(const r of t)r.isGroup?e.push(...yl(r.columns)):e.push(r);return e}function wl(t,e){if(e===void 0)return xl(t);const r=[];for(const i of t)i.position===e&&(i.isGroup?r.push(...yl(i.columns)):r.push(i));return r}function Ic(t,e){return t.filter(r=>r.position===e)}function bl(t){return t.some(e=>e.isGroup)}function $n(t){return t.endsWith("rem")?parseFloat(t)*Zn.REM_BASE:t.endsWith("px")?parseFloat(t):Zn.DEFAULT_FONT_SIZE}function va(t,e,r){return r==="right"?{textX:t+e-Ee.TEXT_PADDING,anchor:"end"}:r==="center"?{textX:t+e/2,anchor:"middle"}:{textX:t+Ee.TEXT_PADDING,anchor:"start"}}function sn(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function Fc(t,e,r,i=0){const o=e-i*2;if(Bn(t,r)<=o)return t;const l="…",f=r*.55;let c=0,s=t.length;for(;c<s;){const g=Math.ceil((c+s)/2),d=t.slice(0,g);Bn(d,r)+f<=o?c=g:s=g-1}return c===0?l:t.slice(0,c)+l}function zg(t){return Math.abs(t)<.01?"0":Math.abs(t)>=100?t.toFixed(0):Math.abs(t)>=10?t.toFixed(1):t.toFixed(2)}function zc(t,e){const[r,i]=t,[o,a]=e,l=(a-o)/(i-r),f=c=>o+(c-r)*l;return f.domain=()=>t,f.range=()=>e,f.ticks=c=>{const s=(i-r)/(c-1),g=[];for(let d=0;d<c;d++)g.push(r+s*d);return g},f}function Lc(t,e){const[r,i]=t.map(g=>Math.max(g,.001)),[o,a]=e,l=Math.log10(r),f=Math.log10(i),c=(a-o)/(f-l),s=g=>{const d=Math.log10(Math.max(g,.001));return o+(d-l)*c};return s.domain=()=>[r,i],s.range=()=>e,s.ticks=g=>{const d=[],u=Math.floor(Math.log10(r)),h=Math.ceil(Math.log10(i));for(let v=u;v<=h;v++){const _=Math.pow(10,v);for(const y of[1,2,5]){const x=_*y;x>=r&&x<=i&&d.push(x)}}return d.length>0?d:[r,i]},s}function Lg(t,e,r,i){const o=r.scale==="log",a=Ee.AXIS_LABEL_PADDING,l=a,f=Math.max(e-a,l+50);if(i!=null&&i.xDomain){const u=i.xDomain,h=i.clipBounds??u,v=Ps(h,t.theme.axis,r.scale,r.nullValue);return o?{scale:Lc([Math.max(u[0],.01),Math.max(u[1],.02)],[l,f]),clipBounds:h,ticks:v}:{scale:zc(u,[l,f]),clipBounds:h,ticks:v}}const c=Ls({rows:t.data.rows,config:t.theme.axis,scale:r.scale,nullValue:r.nullValue,forestWidth:e,pointSize:t.theme.shapes.pointSize,effects:r.effects,pointCol:r.pointCol,lowerCol:r.lowerCol,upperCol:r.upperCol}),{plotRegion:s,axisLimits:g,ticks:d}=c;return o?{scale:Lc([Math.max(s[0],.01),Math.max(s[1],.02)],[l,f]),clipBounds:g,ticks:d}:{scale:zc(s,[l,f]),clipBounds:g,ticks:d}}function Pg(t,e,r){var a,l;const i=[],o=r.spacing.padding;if((a=t.labels)!=null&&a.title){const f=$n(r.typography.fontSizeLg);i.push(`<text x="${o}" y="${e.titleY}"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      font-weight="${r.typography.fontWeightBold}"
      fill="${r.colors.foreground}">${sn(t.labels.title)}</text>`)}if((l=t.labels)!=null&&l.subtitle){const f=$n(r.typography.fontSizeBase);i.push(`<text x="${o}" y="${e.subtitleY}"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      fill="${r.colors.secondary}">${sn(t.labels.subtitle)}</text>`)}return i.join(`
`)}function Dg(t,e,r){var l,f;const i=[],o=r.spacing.padding;let a=e.footerY;if((l=t.labels)!=null&&l.caption){const c=$n(r.typography.fontSizeSm);i.push(`<text x="${o}" y="${a}"
      font-family="${r.typography.fontFamily}"
      font-size="${c}px"
      fill="${r.colors.secondary}">${sn(t.labels.caption)}</text>`),a+=Zn.CAPTION_HEIGHT}if((f=t.labels)!=null&&f.footnote){const c=$n(r.typography.fontSizeSm);i.push(`<text x="${o}" y="${a}"
      font-family="${r.typography.fontFamily}"
      font-size="${c}px"
      font-style="italic"
      fill="${r.colors.muted}">${sn(t.labels.footnote)}</text>`)}return i.join(`
`)}function Bg(t,e,r,i,o,a,l){const f=[],c=e+1,s=l.groupHeaders;let g,d,u,h,v;if(c===1?(g=$n((s==null?void 0:s.level1FontSize)??l.typography.fontSizeBase),d=(s==null?void 0:s.level1FontWeight)??l.typography.fontWeightBold,u=(s==null?void 0:s.level1Italic)??!1,h=(s==null?void 0:s.level1Background)??null,v=(s==null?void 0:s.level1BorderBottom)??!1):c===2?(g=$n((s==null?void 0:s.level2FontSize)??l.typography.fontSizeBase),d=(s==null?void 0:s.level2FontWeight)??l.typography.fontWeightMedium,u=(s==null?void 0:s.level2Italic)??!0,h=(s==null?void 0:s.level2Background)??null,v=(s==null?void 0:s.level2BorderBottom)??!1):(g=$n((s==null?void 0:s.level3FontSize)??l.typography.fontSizeBase),d=(s==null?void 0:s.level3FontWeight)??l.typography.fontWeightNormal,u=(s==null?void 0:s.level3Italic)??!1,h=(s==null?void 0:s.level3Background)??null,v=(s==null?void 0:s.level3BorderBottom)??!1),!h){const A=l.colors.primary,z=c===1?.15:c===2?.1:.06,F=A.replace("#",""),T=parseInt(F.substring(0,2),16),H=parseInt(F.substring(2,4),16),b=parseInt(F.substring(4,6),16);h=`rgba(${T}, ${H}, ${b}, ${z})`}const _=i+o/2+g*Zn.TEXT_BASELINE_ADJUSTMENT,y=e*((s==null?void 0:s.indentPerLevel)??Ee.INDENT_PER_LEVEL);f.push(`<rect x="${r}" y="${i}"
    width="${a}" height="${o}"
    fill="${h}"/>`),v&&f.push(`<line x1="${r}" x2="${r+a}" y1="${i+o}" y2="${i+o}"
      stroke="${l.colors.border}" stroke-width="1" opacity="0.5"/>`);const x=u?' font-style="italic"':"";return f.push(`<text x="${r+Ee.TEXT_PADDING+y}" y="${_}"
    font-family="${l.typography.fontFamily}"
    font-size="${g}px"
    font-weight="${d}"${x}
    fill="${l.colors.foreground}">${sn(t)}</text>`),f.join(`
`)}function Gg(t,e){const r=new Map;for(const i of e)if(i.type==="bar"){let o=0;for(const a of t){const l=a.metadata[i.field];typeof l=="number"&&l>o&&(o=l)}r.set(i.field,o>0?o:1)}return r}function Vg(t,e){var i,o,a,l,f,c,s,g,d,u,h,v,_,y,x,A,z,F,T;if(e.type==="interval"){const H=(o=(i=e.options)==null?void 0:i.interval)!=null&&o.point?t.metadata[e.options.interval.point]:t.point,b=(l=(a=e.options)==null?void 0:a.interval)!=null&&l.lower?t.metadata[e.options.interval.lower]:t.lower,E=(c=(f=e.options)==null?void 0:f.interval)!=null&&c.upper?t.metadata[e.options.interval.upper]:t.upper;return ml(H,b,E,e.options)}if(e.type==="numeric"){const H=t.metadata[e.field];return typeof H=="number"?Fo(H,e.options):((s=e.options)==null?void 0:s.naText)??""}if(e.type==="custom"&&((g=e.options)!=null&&g.events))return pl(t,e.options);if(e.type==="pvalue"){const H=t.metadata[e.field];return typeof H!="number"?((d=e.options)==null?void 0:d.naText)??"":Nc(H,e.options)}if(e.type==="icon"){const H=t.metadata[e.field];if(H==null)return"";const b=String(H),E=(h=(u=e.options)==null?void 0:u.icon)==null?void 0:h.mapping;return E&&b in E?E[b]:b}if(e.type==="badge"){const H=t.metadata[e.field];return H!=null?String(H):""}if(e.type==="stars"){const H=t.metadata[e.field];if(typeof H!="number")return"";const b=((_=(v=e.options)==null?void 0:v.stars)==null?void 0:_.maxStars)??5,E=Math.max(0,Math.min(b,H)),P=Math.floor(E),S=b-P;return"★".repeat(P)+"☆".repeat(S)}if(e.type==="img")return((x=(y=e.options)==null?void 0:y.img)==null?void 0:x.fallback)??"[IMG]";if(e.type==="reference"){const H=t.metadata[e.field];if(H==null)return"";const b=String(H),E=((z=(A=e.options)==null?void 0:A.reference)==null?void 0:z.maxChars)??30;return b.length<=E?b:b.substring(0,E)+"..."}if(e.type==="range"){const H=(F=e.options)==null?void 0:F.range;if(!H)return"";const b=t.metadata[H.minField],E=t.metadata[H.maxField],P=H.separator??" – ",S=H.decimals,N=C=>typeof C!="number"?"":S==null?Number.isInteger(C)?String(C):C.toFixed(1):C.toFixed(S);return b===null&&E===null?"":b===null?N(E):E===null?N(b):`${N(b)}${P}${N(E)}`}const r=t.metadata[e.field];return r!=null?String(r):((T=e.options)==null?void 0:T.naText)??""}function Og(t,e,r,i,o){const a=t.filter(g=>Number.isFinite(g));if(a.length===0)return"";if(a.length===1){const g=e+i/2,d=r+o/2;return`M${g.toFixed(1)},${d.toFixed(1)}`}const l=Math.min(...a),c=Math.max(...a)-l||1;return`M${a.map((g,d)=>{const u=e+d/(a.length-1)*i,h=r+o-(g-l)/c*o;return`${u.toFixed(1)},${h.toFixed(1)}`}).join("L")}`}function Xg(t,e,r,i,o,a=[],l,f=0,c=1/0,s,g=!1){var b;let d;if(a.length===0){const E=!g||t.point!=null&&t.point>0?t.point:null,P=!g||t.lower!=null&&t.lower>0?t.lower:null,S=!g||t.upper!=null&&t.upper>0?t.upper:null;d=[{point:E,lower:P,upper:S,color:null,shape:null,opacity:null}]}else d=a.map(E=>({point:Un(t.metadata,t.point,E.pointCol,"point",g),lower:Un(t.metadata,t.lower,E.lowerCol,"lower",g),upper:Un(t.metadata,t.upper,E.upperCol,"upper",g),color:E.color??null,shape:E.shape??null,opacity:E.opacity??null}));const u=d.filter(E=>E.point!=null&&!Number.isNaN(E.point)&&E.lower!=null&&!Number.isNaN(E.lower)&&E.upper!=null&&!Number.isNaN(E.upper));if(u.length===0)return"";const h=i.shapes.pointSize,v=i.shapes.lineWidth,_=i.colors.intervalLine,y=((b=t.style)==null?void 0:b.type)==="summary",A=i.shapes.summaryHeight/2;function z(E){var S;if(E&&((S=t.markerStyle)==null?void 0:S.size)!=null)return h*t.markerStyle.size;const P=l?t.metadata[l]:void 0;if(P){const N=.5+Math.sqrt(P/100)*1.5;return Math.min(Math.max(h*N,3),h*2.5)}return h}function F(E,P){const S=P===0,N=t.markerStyle,C=i.shapes.effectColors,G=i.shapes.markerShapes,B=["square","circle","diamond","triangle"];let rt;S&&(N!=null&&N.color)?rt=N.color:E.color?rt=E.color:C&&C.length>0?rt=C[P%C.length]:rt=i.colors.interval??i.colors.primary??"#2563eb";let nt;S&&(N!=null&&N.shape)?nt=N.shape:E.shape?nt=E.shape:G&&G.length>0?nt=G[P%G.length]:nt=B[P%B.length];let $;return S&&(N==null?void 0:N.opacity)!=null?$=N.opacity:E.opacity!=null?$=E.opacity:$=1,{color:rt,shape:nt,opacity:$}}function T(E,P,S,N){const{color:C,shape:G,opacity:B}=N,rt=B<1?` fill-opacity="${B}"`:"";switch(G){case"circle":return`<circle cx="${E}" cy="${P}" r="${S}" fill="${C}"${rt}/>`;case"diamond":return`<polygon points="${[`${E},${P-S}`,`${E+S},${P}`,`${E},${P+S}`,`${E-S},${P}`].join(" ")}" fill="${C}"${rt}/>`;case"triangle":return`<polygon points="${[`${E},${P-S}`,`${E+S},${P+S}`,`${E-S},${P+S}`].join(" ")}" fill="${C}"${rt}/>`;default:return`<rect x="${E-S}" y="${P-S}" width="${S*2}" height="${S*2}" fill="${C}"${rt}/>`}}const H=[];return u.forEach((E,P)=>{const S=e+Vs(P,u.length),N=r(E.lower),C=r(E.upper),G=r(E.point),B=F(E,P),rt=z(P===0),nt=_;if(y){const $=B.opacity<1?` fill-opacity="${B.opacity}"`:"",St=[`${N},${S}`,`${G},${S-A}`,`${C},${S}`,`${G},${S+A}`].join(" ");H.push(`
        <g class="interval effect-${P} summary">
          <polygon points="${St}"
            fill="${B.color}"${$} stroke="${i.colors.summaryBorder}" stroke-width="1"/>
        </g>`)}else{const $=Ee.AXIS_LABEL_PADDING,St=f+$,Q=f+c-$,Tt=s?E.lower<s[0]:N<St,dt=s?E.upper>s[1]:C>Q;let _t,pt;if(s){const We=Math.max(s[0],Math.min(s[1],E.lower)),ht=Math.max(s[0],Math.min(s[1],E.upper));_t=r(We),pt=r(ht)}else _t=Math.max(St,Math.min(Q,N)),pt=Math.max(St,Math.min(Q,C));const ut=Fs(i),Jt=ut.height/2;let te="";Tt?te=`<path d="${ra("left",St,S,ut)}" fill="${ut.color}"/>`:te=`<line x1="${_t}" x2="${_t}" y1="${S-Jt}" y2="${S+Jt}" stroke="${nt}" stroke-width="${v}"/>`;let yt="";dt?yt=`<path d="${ra("right",Q,S,ut)}" fill="${ut.color}"/>`:yt=`<line x1="${pt}" x2="${pt}" y1="${S-Jt}" y2="${S+Jt}" stroke="${nt}" stroke-width="${v}"/>`;const jt=s?r(Math.max(s[0],Math.min(s[1],E.point))):Math.max(St,Math.min(Q,G));H.push(`
        <g class="interval effect-${P}">
          <line x1="${_t}" x2="${pt}" y1="${S}" y2="${S}"
            stroke="${nt}" stroke-width="${v}"/>
          ${te}
          ${yt}
          ${T(jt,S,rt,B)}
        </g>`)}}),H.join("")}function jg(t,e,r,i,o,a,l,f){const s=f.shapes.summaryHeight/2,[g,d]=o.domain().map(T=>o(T)),u=Math.min(g,d),h=Math.max(g,d),v=o(e),_=o(t),y=o(r),x=a+Math.max(u,Math.min(h,v)),A=a+Math.max(u,Math.min(h,_)),z=a+Math.max(u,Math.min(h,y));return`<polygon points="${[`${x},${i}`,`${A},${i-s}`,`${z},${i}`,`${A},${i+s}`].join(" ")}"
    fill="${f.colors.summaryFill}"
    stroke="${f.colors.summaryBorder}"
    stroke-width="1"/>`}function Ug(t,e,r,i,o,a,l=1,f){const c=[],s=typeof r.axis.tickCount=="number"?r.axis.tickCount:Ee.DEFAULT_TICK_COUNT,g=Zg(t,s,r,l,a,f),d=$n(r.typography.fontSizeSm),u=Gs.EDGE_THRESHOLD,h=_=>_<u?"start":_>a-u?"end":"middle",v=_=>_<u?2:_>a-u?-2:0;c.push(`<line x1="${o}" x2="${o+a}"
    y1="0" y2="0" stroke="${r.colors.border}" stroke-width="1"/>`);for(const _ of g){const y=t(_),x=o+y,A=h(y),z=v(y);c.push(`<line x1="${x}" x2="${x}" y1="0" y2="4"
      stroke="${r.colors.border}" stroke-width="1"/>`),c.push(`<text x="${x+z}" y="16" text-anchor="${A}"
      font-family="${r.typography.fontFamily}"
      font-size="${d}px"
      fill="${r.colors.secondary}">${zg(_)}</text>`)}return i&&c.push(`<text x="${o+a/2}" y="28"
      text-anchor="middle"
      font-family="${r.typography.fontFamily}"
      font-size="${d}px"
      font-weight="500"
      fill="${r.colors.secondary}">${sn(i)}</text>`),`<g transform="translate(0, ${e.mainY+e.headerHeight+e.plotHeight})">${c.join(`
`)}</g>`}function qg(t,e,r,i,o,a,l,f,c,s){const g=[],d=$n(a.typography.fontSizeBase),u=a.typography.headerFontScale??1.05,h=d*u,v=a.typography.fontWeightMedium,_=a.typography.fontWeightBold,y=bl(t),x=(A,z)=>A+z/2+h*Zn.TEXT_BASELINE_ADJUSTMENT;if(y){const A=o/2,z=o/2;let F=r;g.push(`<text x="${F+Ee.TEXT_PADDING}" y="${x(i,o)}"
      font-family="${a.typography.fontFamily}"
      font-size="${h}px"
      font-weight="${v}"
      fill="${a.colors.foreground}">${sn(l)}</text>`),F+=f;const T=[];for(const H of t)if(H.isGroup){const b=H.columns.reduce((P,S)=>S.isGroup?P+S.columns.reduce((N,C)=>N+s(C),0):P+s(S),0),E=F+b/2;g.push(`<text x="${E}" y="${x(i,A)}"
          font-family="${a.typography.fontFamily}"
          font-size="${h}px"
          font-weight="${_}"
          text-anchor="middle"
          fill="${a.colors.foreground}">${sn(H.header)}</text>`),T.push({x1:F,x2:F+b}),F+=b}else{const b=s(H),E=H.headerAlign??H.align,{textX:P,anchor:S}=va(F,b,E),N=Fc(H.header,b,h,Ee.TEXT_PADDING);g.push(`<text x="${P}" y="${x(i,o)}"
          font-family="${a.typography.fontFamily}"
          font-size="${h}px"
          font-weight="${v}"
          text-anchor="${S}"
          fill="${a.colors.foreground}">${sn(N)}</text>`),F+=b}for(const H of T)g.push(`<line x1="${H.x1}" x2="${H.x2}"
        y1="${i+A}" y2="${i+A}"
        stroke="${a.colors.border}" stroke-width="1" opacity="0.5"/>`);F=r+f;for(const H of t)if(H.isGroup){for(const b of H.columns)if(!b.isGroup){const E=s(b),P=b.headerAlign??b.align,{textX:S,anchor:N}=va(F,E,P);g.push(`<text x="${S}" y="${x(i+A,z)}"
              font-family="${a.typography.fontFamily}"
              font-size="${h}px"
              font-weight="${v}"
              text-anchor="${N}"
              fill="${a.colors.foreground}">${sn(b.header)}</text>`),F+=E}}else F+=s(H)}else{let A=r;g.push(`<text x="${A+Ee.TEXT_PADDING}" y="${x(i,o)}"
      font-family="${a.typography.fontFamily}"
      font-size="${h}px"
      font-weight="${v}"
      fill="${a.colors.foreground}">${sn(l)}</text>`),A+=f;for(const z of e){const F=s(z),T=z.headerAlign??z.align,{textX:H,anchor:b}=va(A,F,T),E=Fc(z.header,F,h,Ee.TEXT_PADDING);g.push(`<text x="${H}" y="${x(i,o)}"
        font-family="${a.typography.fontFamily}"
        font-size="${h}px"
        font-weight="${v}"
        text-anchor="${b}"
        fill="${a.colors.foreground}">${sn(E)}</text>`),A+=F}}return g.join(`
`)}function Yg(t,e,r,i,o,a,l,f,c,s,g,d){var z,F,T,H,b,E,P,S,N,C,G,B,rt,nt,$,St,Q,Tt,dt,_t,pt,ut,Jt,te,yt,jt,We,ht,Lt;const u=[],h=$n(a.typography.fontSizeBase),v=i+o/2+h*Zn.TEXT_BASELINE_ADJUSTMENT,_=f*Ee.INDENT_PER_LEVEL+(((z=t.style)==null?void 0:z.indent)??0)*Ee.INDENT_PER_LEVEL,y=(F=t.style)!=null&&F.bold||(T=t.style)!=null&&T.emphasis?a.typography.fontWeightBold:a.typography.fontWeightNormal,x=(H=t.style)!=null&&H.italic?"italic":"normal";let A=a.colors.foreground;if((b=t.style)!=null&&b.color?A=t.style.color:(E=t.style)!=null&&E.muted?A=a.colors.muted:(P=t.style)!=null&&P.accent&&(A=a.colors.accent),u.push(`<text x="${r+Ee.TEXT_PADDING+_}" y="${v}"
    font-family="${a.typography.fontFamily}"
    font-size="${h}px"
    font-weight="${y}"
    font-style="${x}"
    fill="${A}">${sn(t.label)}</text>`),(S=t.style)!=null&&S.badge){const Ge=String(t.style.badge),gt=h*Sr.FONT_SCALE,Ct=gt+Sr.PADDING*2,de=Bn(t.label,h),Je=r+Ee.TEXT_PADDING+_+de+Sr.GAP,In=Bn(Ge,gt)+Sr.PADDING*2,ee=i+(o-Ct)/2;u.push(`<rect x="${Je}" y="${ee}" width="${In}" height="${Ct}"
      rx="3" fill="${a.colors.primary}" opacity="0.15"/>`),u.push(`<text x="${Je+In/2}" y="${ee+Ct/2+gt*.35}"
      text-anchor="middle"
      font-family="${a.typography.fontFamily}"
      font-size="${gt}px"
      font-weight="500"
      fill="${a.colors.primary}">${sn(Ge)}</text>`)}for(let Ge=0;Ge<e.length;Ge++){const gt=e[Ge],Ct=d[Ge],de=g(gt);if(gt.type==="forest")continue;const Je=Vg(t,gt),{textX:Xe,anchor:In}=va(Ct,de,gt.align);if(gt.type==="bar"&&typeof t.metadata[gt.field]=="number"){const ee=t.metadata[gt.field],we=c.get(gt.field),je=((C=(N=gt.options)==null?void 0:N.bar)==null?void 0:C.maxValue)??we??100,Ve=((B=(G=gt.options)==null?void 0:G.bar)==null?void 0:B.color)??a.colors.primary,Ue=a.shapes.pointSize*2,on=de-Ee.TEXT_PADDING*2-50,Vt=Math.min(ee/je*on,on);u.push(`<rect x="${Ct+Ee.TEXT_PADDING}" y="${i+o/2-Ue/2}"
        width="${Math.max(0,Vt)}" height="${Ue}"
        fill="${Ve}" opacity="0.7" rx="2"/>`),u.push(`<text x="${Ct+de-Ee.TEXT_PADDING}" y="${v}"
        font-family="${a.typography.fontFamily}"
        font-size="${h}px"
        text-anchor="end"
        fill="${a.colors.foreground}">${Fo(ee)}</text>`)}else if(gt.type==="sparkline"&&Array.isArray(t.metadata[gt.field])){let ee=t.metadata[gt.field];Array.isArray(ee[0])&&(ee=ee[0]);const we=((nt=(rt=gt.options)==null?void 0:rt.sparkline)==null?void 0:nt.height)??16,je=((St=($=gt.options)==null?void 0:$.sparkline)==null?void 0:St.color)??a.colors.primary,Ve=Ee.TEXT_PADDING*2,Ue=Og(ee,Ct+Ee.TEXT_PADDING,i+o/2-we/2,de-Ve,we);u.push(`<path d="${Ue}" fill="none" stroke="${je}" stroke-width="1.5"/>`)}else if(gt.type==="badge"){const ee=t.metadata[gt.field];if(ee!=null){const we=String(ee),je=h*.85,Ve=je+8,Ue=(Tt=(Q=gt.options)==null?void 0:Q.badge)==null?void 0:Tt.variants,Mn=(_t=(dt=gt.options)==null?void 0:dt.badge)==null?void 0:_t.colors;let on=a.colors.primary,Vt=a.colors.primary;if(Mn&&we in Mn)on=Mn[we],Vt=Mn[we];else if(Ue&&we in Ue){const _n=Ue[we];on={default:a.colors.primary,...Co,muted:a.colors.muted}[_n]??a.colors.primary,Vt=on}const ze=Bn(we,je)+12,ir=gt.align==="right"?Ct+de-Ee.TEXT_PADDING-ze:gt.align==="center"?Ct+(de-ze)/2:Ct+Ee.TEXT_PADDING,gr=i+(o-Ve)/2;u.push(`<rect x="${ir}" y="${gr}" width="${ze}" height="${Ve}"
          rx="${Ve/2}" fill="${on}" opacity="0.15"/>`),u.push(`<text x="${ir+ze/2}" y="${gr+Ve/2+je*.35}"
          text-anchor="middle"
          font-family="${a.typography.fontFamily}"
          font-size="${je}px"
          font-weight="500"
          fill="${Vt}">${sn(we)}</text>`)}}else if(gt.type==="stars"){const ee=t.metadata[gt.field];if(typeof ee=="number"){const we=((ut=(pt=gt.options)==null?void 0:pt.stars)==null?void 0:ut.maxStars)??5,je=((te=(Jt=gt.options)==null?void 0:Jt.stars)==null?void 0:te.color)??"#f59e0b",Ve=((jt=(yt=gt.options)==null?void 0:yt.stars)==null?void 0:jt.emptyColor)??"#d1d5db",Ue=Math.max(0,Math.min(we,ee)),Mn=Math.floor(Ue),on=((ht=(We=gt.options)==null?void 0:We.stars)==null?void 0:ht.halfStars)&&Ue-Mn>=.5,Vt=12,Bt=2,ze=we*Vt+(we-1)*Bt;let ir=gt.align==="right"?Ct+de-Ee.TEXT_PADDING-ze:gt.align==="center"?Ct+(de-ze)/2:Ct+Ee.TEXT_PADDING;const gr=i+(o-Vt)/2,_n=(Qe,Sn,Xr)=>{const yn=Xr/2,qe=yn*.4;let fn="";for(let Fn=0;Fn<5;Fn++){const eo=(Fn*72-90)*Math.PI/180,M=(Fn*72+36-90)*Math.PI/180,W=Qe+yn*Math.cos(eo),X=Sn+yn*Math.sin(eo),q=Qe+qe*Math.cos(M),mt=Sn+qe*Math.sin(M);fn+=(Fn===0?`M${W},${X}`:`L${W},${X}`)+`L${q},${mt}`}return fn+"Z"};for(let Qe=0;Qe<we;Qe++){const Sn=ir+Vt/2,Xr=gr+Vt/2,qe=Qe<Mn||Qe===Mn&&on?je:Ve;u.push(`<path d="${_n(Sn,Xr,Vt)}" fill="${qe}"/>`),ir+=Vt+Bt}}}else{const ee=(Lt=t.cellStyles)==null?void 0:Lt[gt.field];let we=a.typography.fontWeightNormal,je="normal",Ve=a.colors.foreground;ee&&((ee.bold||ee.emphasis)&&(we=a.typography.fontWeightBold),ee.italic&&(je="italic"),ee.color?Ve=ee.color:ee.muted?Ve=a.colors.muted:ee.accent&&(Ve=a.colors.accent)),u.push(`<text x="${Xe}" y="${v}"
        font-family="${a.typography.fontFamily}"
        font-size="${h}px"
        font-weight="${we}"
        font-style="${je}"
        text-anchor="${In}"
        fill="${Ve}">${sn(Je)}</text>`)}}return u.join(`
`)}function Zg(t,e,r,i,o,a){if(Array.isArray(r.axis.tickValues)&&r.axis.tickValues.length>0){const[b,E]=t.domain();let P=r.axis.tickValues.filter(C=>C>=b&&C<=E);const S=r.axis.nullTick!==!1,N=i>=b&&i<=E;return S&&N&&!P.includes(i)&&(P=[...P,i].sort((C,G)=>C-G)),P}const[l,f]=t.domain(),c=r.axis.nullTick!==!1,s=i>=l&&i<=f,g=Gs.MIN_TICK_SPACING,d=Math.max(2,Math.floor(o/g)),u=Math.min(e,Math.min(7,d)),h=a&&a.length>0?a.filter(b=>b>=l&&b<=f):t.ticks(u);if(h.length===0)return c&&s?[i]:[];const v=t(i),_=h.filter(b=>b<i).reverse(),y=h.filter(b=>b>i),x=h.some(b=>b===i),A=[];let z=v;for(const b of _){const E=t(b);z-E>=g&&(A.unshift(b),z=E)}const F=[];let T=v;for(const b of y){const E=t(b);E-T>=g&&(F.push(b),T=E)}const H=[...A];if((x||c&&s)&&H.push(i),H.push(...F),H.length<2){const b=new Set(H);b.has(l)||H.unshift(l),H.length<2&&!b.has(f)&&H.push(f)}return H}function Ml(t,e,r,i,o,a,l=1,f=.6){let s=`<line x1="${t}" x2="${t}" y1="${e}" y2="${r}"
    stroke="${o}" stroke-width="${l}" stroke-opacity="${f}" stroke-dasharray="${i==="dashed"?"6,4":i==="dotted"?"2,2":"none"}"/>`;return a&&(s+=`<text x="${t}" y="${e-4}" text-anchor="middle"
      font-size="10px" fill="${o}">${sn(a)}</text>`),s}class Ci extends Error{constructor(e){super(`SVG Generator: ${e}`),this.name="SVGGeneratorError"}}function Kg(t){if(!t||typeof t!="object")throw new Ci("Invalid spec: expected an object");const e=t;if(!e.data||typeof e.data!="object")throw new Ci("Invalid spec: missing or invalid 'data' property");const r=e.data;if(!Array.isArray(r.rows))throw new Ci("Invalid spec: 'data.rows' must be an array");if(!e.theme||typeof e.theme!="object")throw new Ci("Invalid spec: missing or invalid 'theme' property");const i=e.theme;if(!i.colors||typeof i.colors!="object")throw new Ci("Invalid spec: missing or invalid 'theme.colors'");if(!i.typography||typeof i.typography!="object")throw new Ci("Invalid spec: missing or invalid 'theme.typography'");if(!i.spacing||typeof i.spacing!="object")throw new Ci("Invalid spec: missing or invalid 'theme.spacing'")}function Jg(t){var a;const r=wl(t.columns,void 0).find(l=>l.type==="forest");if(!r||!((a=r.options)!=null&&a.forest))return{scale:"linear",nullValue:0,effects:[],axisLabel:"Effect",pointCol:null,lowerCol:null,upperCol:null};const i=r.options.forest,o=i.scale??"linear";return{scale:o,nullValue:i.nullValue??(o==="log"?1:0),effects:i.effects??[],axisLabel:i.axisLabel??"Effect",pointCol:i.point??null,lowerCol:i.lower??null,upperCol:i.upper??null}}function Pc(t,e={}){var E,P;Kg(t);const r=t.theme,i=r.spacing.padding,o=Array.isArray(t.columns)?t.columns:[],a=xl(o),l=[];for(let S=0;S<a.length;S++)a[S].type==="forest"&&l.push(S);l.length>0;const f=Jg(t),c=Fg(t,e,f.nullValue),s=c.autoWidths,g=S=>{var C,G;if(S.type==="forest")return typeof S.width=="number"?S.width:((G=(C=S.options)==null?void 0:C.forest)==null?void 0:G.width)??c.forestWidth;const N=s.get(S.id);return N!==void 0?N:typeof S.width=="number"?S.width:Yn.DEFAULT_COLUMN_WIDTH},d=[];let u=i+c.labelWidth;for(const S of a)d.push(u),u+=g(S);const h=[];h.push(`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg"
  width="${c.totalWidth}" height="${c.totalHeight}"
  viewBox="0 0 ${c.totalWidth} ${c.totalHeight}">`);const v=e.backgroundColor??r.colors.background;h.push(`<rect width="100%" height="100%" fill="${v}"/>`),h.push(Pg(t,c,r)),h.push(`<line x1="${i}" x2="${c.totalWidth-i}"
    y1="${c.mainY}" y2="${c.mainY}"
    stroke="${r.colors.border}" stroke-width="2"/>`);const _=c.mainY;h.push(qg(o,a,i,_,c.headerHeight,r,t.data.labelHeader??"Study",c.labelWidth,s,g)),h.push(`<line x1="${i}" x2="${c.totalWidth-i}"
    y1="${_+c.headerHeight}" y2="${_+c.headerHeight}"
    stroke="${r.colors.border}" stroke-width="2"/>`);const y=Rc(t),x=[],A=[];let z=0;for(const S of y){const C=S.type==="data"&&((E=S.row.style)==null?void 0:E.type)==="spacer"?c.rowHeight/2:c.rowHeight;x.push(z),A.push(C),z+=C}const F=c.mainY+c.headerHeight;r.layout.banding&&y.forEach((S,N)=>{var C,G;if(S.type==="data"){const B=S.row,rt=((C=B.style)==null?void 0:C.type)==="spacer",nt=(G=B.style)==null?void 0:G.bg;if(!rt&&!nt){const $=F+x[N],St=A[N],Tt=N%2===1?r.colors.altBg:r.colors.rowBg;Tt!==r.colors.background&&h.push(`<rect x="${i}" y="${$}"
              width="${c.totalWidth-i*2}" height="${St}"
              fill="${Tt}"/>`)}}});for(const S of l){const N=a[S],C=d[S],G=g(N),B=(P=N.options)==null?void 0:P.forest,rt=(B==null?void 0:B.scale)??"linear",nt=(B==null?void 0:B.nullValue)??(rt==="log"?1:0),$=(B==null?void 0:B.axisLabel)??"Effect",St=rt==="log";let Q=(B==null?void 0:B.effects)??[];const Tt=(B==null?void 0:B.point)??null,dt=(B==null?void 0:B.lower)??null,_t=(B==null?void 0:B.upper)??null;Q.length===0&&(Tt||dt||_t)&&(Q=[{pointCol:Tt,lowerCol:dt,upperCol:_t}]);const pt={scale:rt,nullValue:nt,effects:Q,pointCol:(B==null?void 0:B.point)??null,lowerCol:(B==null?void 0:B.lower)??null,upperCol:(B==null?void 0:B.upper)??null},{scale:ut,clipBounds:Jt,ticks:te}=Lg(t,G,pt,e),yt=C+ut(nt);h.push(Ml(yt,F,F+c.plotHeight,"dashed",r.colors.muted));const jt=(B==null?void 0:B.annotations)??[];for(const ht of jt)if(ht.type==="reference_line"){const Lt=C+ut(ht.x);h.push(Ml(Lt,F,F+c.plotHeight,ht.style,ht.color??r.colors.accent,ht.label,ht.width??1,ht.opacity??.6))}const We=Array.isArray(t.annotations)?t.annotations:[];for(const ht of We)if(ht.type==="reference_line"){const Lt=C+ut(ht.x);h.push(Ml(Lt,F,F+c.plotHeight,ht.style,ht.color??r.colors.accent,ht.label,ht.width??1,ht.opacity??.6))}if(y.forEach((ht,Lt)=>{if(ht.type==="data"){const Ge=F+x[Lt]+A[Lt]/2;h.push(Xg(ht.row,Ge,gt=>C+ut(gt),r,nt,Q,t.data.weightCol,C,G,Jt,St))}}),t.data.overall&&c.showOverallSummary&&typeof t.data.overall.point=="number"&&!Number.isNaN(t.data.overall.point)&&typeof t.data.overall.lower=="number"&&!Number.isNaN(t.data.overall.lower)&&typeof t.data.overall.upper=="number"&&!Number.isNaN(t.data.overall.upper)){const ht=F+c.summaryYPosition;h.push(jg(t.data.overall.point,t.data.overall.lower,t.data.overall.upper,ht,ut,C,G,r))}h.push(Ug(ut,c,r,$,C,G,nt,te))}const T=c.mainY+c.headerHeight,H=t.data.rows,b=Gg(H,a);return y.forEach((S,N)=>{var B,rt;const C=T+x[N],G=A[N];if(S.type==="group_header")h.push(Bg(S.label,S.depth,i,C,G,c.totalWidth-i*2,r));else{const nt=S.row,$=S.depth;h.push(Yg(nt,a,i,C,G,r,c.labelWidth,$,b,s,g,d))}if(S.type==="data"){const nt=S.row,$=((B=nt.style)==null?void 0:B.type)==="summary",St=((rt=nt.style)==null?void 0:rt.type)==="spacer";$&&h.push(`<line x1="${i}" x2="${c.totalWidth-i}"
          y1="${C}" y2="${C}"
          stroke="${r.colors.border}" stroke-width="2"/>`),St||h.push(`<line x1="${i}" x2="${c.totalWidth-i}"
          y1="${C+G}" y2="${C+G}"
          stroke="${r.colors.border}" stroke-width="1"/>`)}else h.push(`<line x1="${i}" x2="${c.totalWidth-i}"
        y1="${C+G}" y2="${C+G}"
        stroke="${r.colors.border}" stroke-width="1"/>`)}),h.push(Dg(t,c,r)),h.push("</svg>"),h.join(`
`)}async function Qg(t,e=2){return new Promise((r,i)=>{const o=new Image,a=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),l=URL.createObjectURL(a);o.onload=()=>{const f=document.createElement("canvas"),c=f.getContext("2d");if(!c){URL.revokeObjectURL(l),i(new Error("Failed to get canvas context"));return}f.width=o.width*e,f.height=o.height*e,c.scale(e,e),c.drawImage(o,0,0),f.toBlob(s=>{URL.revokeObjectURL(l),s?r(s):i(new Error("Failed to create PNG blob"))},"image/png",1)},o.onerror=()=>{URL.revokeObjectURL(l),i(new Error("Failed to load SVG image"))},o.src=l})}function $g(t,e){return Pc(t,e)}async function tv(t,e,r=2){const i=Pc(t,e);return Qg(i,r)}function Dc(t,e){const r=URL.createObjectURL(t),i=document.createElement("a");i.href=r,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}function Bc(t){return`forest_plot_${new Date().toISOString().slice(0,19).replace(/[:-]/g,"")}.${t}`}Gr[L]="src/components/ui/DownloadButton.svelte";var ev=O(It('<svg width="16" height="16" viewBox="0 0 24 24" class="spin svelte-15gslqv"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="31.4" stroke-dashoffset="10"></circle></svg>'),Gr[L],[[76,6,[[77,8]]]]),nv=O(It('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>'),Gr[L],[[80,6,[[81,8],[82,8],[83,8]]]]),rv=O(vt('<div class="download-dropdown svelte-15gslqv"><button class="dropdown-item svelte-15gslqv"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-15gslqv"><rect x="3" y="3" width="18" height="18" rx="2"></rect><text x="12" y="15" text-anchor="middle" font-size="8" fill="currentColor" stroke="none">SVG</text></svg> <span>Download SVG</span></button> <button class="dropdown-item svelte-15gslqv"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-15gslqv"><rect x="3" y="3" width="18" height="18" rx="2"></rect><circle cx="8.5" cy="8.5" r="1.5" fill="currentColor"></circle><path d="M21 15l-5-5L5 21"></path></svg> <span>Download PNG</span></button></div>'),Gr[L],[[89,4,[[90,6,[[91,8,[[92,10],[93,10]]],[95,8]]],[97,6,[[98,8,[[99,10],[100,10],[101,10]]],[103,8]]]]]]),iv=O(vt('<div class="download-button-wrapper svelte-15gslqv"><button class="download-btn svelte-15gslqv" aria-label="Download plot"><!></button> <!></div>'),Gr[L],[[66,0,[[67,2]]]]);function Gr(t,e){ke(new.target),Me(e,!0,Gr);let r=p(Nt(!1),"dropdownOpen"),i=p(Nt(!1),"isExporting"),o=p(Nt(null),"triggerEl");function a(){et(r,!1)}async function l(){if(e.store.spec)try{et(i,!0);const x=e.store.getExportDimensions(),A=$g(e.store.spec,x),z=new Blob([A],{type:"image/svg+xml;charset=utf-8"});Dc(z,Bc("svg"))}catch(x){console.error(...Is("error","Failed to export SVG:",x))}finally{et(i,!1),a()}}async function f(){if(e.store.spec)try{et(i,!0);const x=e.store.getExportDimensions(),A=(await $f(tv(e.store.spec,x,2)))();Dc(A,Bc("png"))}catch(x){console.error(...Is("error","Failed to export PNG:",x))}finally{et(i,!1),a()}}function c(x){x.target.closest(".download-button-wrapper")||a()}var s={...Ne()},g=iv();Pn("click",Oi,c);var d=Z(g);d.__click=()=>et(r,!n(r));var u=Z(d);{var h=x=>{var A=ev();I(x,A)},v=x=>{var A=nv();I(x,A)};R(()=>j(u,x=>{n(i)?x(h):x(v,!1)}),"if",Gr,75,4)}pi(d,x=>et(o,x),()=>n(o));var _=tt(d,2);{var y=x=>{var A=rv(),z=Z(A);z.__click=l;var F=tt(z,2);F.__click=f,na(A,(T,H)=>Br==null?void 0:Br(T,H),()=>({triggerEl:n(o)})),K(()=>{z.disabled=n(i),F.disabled=n(i)}),I(x,A)};R(()=>j(_,x=>{n(r)&&x(y)}),"if",Gr,88,2)}return K(()=>{k(d,"aria-expanded",n(r)),d.disabled=n(i)}),I(t,g),Se(s)}vi(["click"]),pa[L]="src/components/ui/ResetButton.svelte";var ov=O(vt('<button class="reset-btn svelte-uej7wa" title="Reset view" aria-label="Reset view to default settings"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button>'),pa[L],[[15,0,[[21,2,[[22,4],[23,4]]]]]]);function pa(t,e){ke(new.target),Me(e,!0,pa);function r(){e.store.resetState()}var i={...Ne()},o=ov();return o.__click=r,I(t,o),Se(i)}vi(["click"]),Hn[L]="src/components/ui/ZoomControls.svelte";var av=O(vt('<div class="clamped-note svelte-19w48ay"> </div>'),Hn[L],[[140,8]]),lv=O(vt('<button class="action-btn svelte-19w48ay" title="Reset to 100% (Cmd 0)"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-19w48ay"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg> Reset to 100%</button>'),Hn[L],[[147,8,[[152,10,[[153,12],[154,12]]]]]]),sv=O(vt("<option> </option>"),Hn[L],[[198,14]]),cv=O(vt("<option> </option>"),Hn[L],[[212,14]]),fv=O(vt('<div class="zoom-dropdown svelte-19w48ay"><div class="zoom-row svelte-19w48ay"><button class="zoom-btn svelte-19w48ay" title="Zoom out (Cmd -)" aria-label="Zoom out"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="5" y1="12" x2="19" y2="12"></line></svg></button> <input type="range" class="zoom-slider svelte-19w48ay" min="50" max="200" step="5" title="Zoom level" aria-label="Zoom level"/> <button class="zoom-btn svelte-19w48ay" title="Zoom in (Cmd +)" aria-label="Zoom in"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg></button> <span class="zoom-value svelte-19w48ay"> </span></div> <!> <!> <div class="divider svelte-19w48ay"></div> <button class="action-btn svelte-19w48ay" title="Fit to container width (Cmd 1)"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-19w48ay"><path d="M21 12H3M21 12l-4-4m4 4l-4 4M3 12l4-4m-4 4l4 4"></path></svg> Fit to width</button> <label class="checkbox-row svelte-19w48ay"><input type="checkbox" class="svelte-19w48ay"/> <span>Auto-fit</span> <span class="checkbox-hint svelte-19w48ay">Shrink if too large</span></label> <div class="divider svelte-19w48ay"></div> <div class="section-label svelte-19w48ay">Max Size</div> <div class="select-row svelte-19w48ay"><label class="svelte-19w48ay"><span class="select-label svelte-19w48ay">Width</span> <select class="svelte-19w48ay"></select></label></div> <div class="select-row svelte-19w48ay"><label class="svelte-19w48ay"><span class="select-label svelte-19w48ay">Height</span> <select class="svelte-19w48ay"></select></label></div></div>'),Hn[L],[[97,4,[[99,6,[[100,8,[[106,10,[[107,12]]]]],[111,8],[123,8,[[129,10,[[130,12],[131,12]]]]],[135,8]]],[160,6],[163,6,[[168,8,[[169,10]]]]],[175,6,[[176,8],[181,8],[182,8]]],[185,6],[188,6],[190,6,[[191,8,[[192,10],[193,10]]]]],[204,6,[[205,8,[[206,10],[207,10]]]]]]]]),uv=O(vt('<div class="zoom-controls-wrapper svelte-19w48ay"><button class="zoom-trigger-btn svelte-19w48ay" aria-label="Zoom and display options"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path><path d="M11 8v6"></path><path d="M8 11h6"></path></svg> <span class="zoom-text svelte-19w48ay"> </span></button> <!></div>'),Hn[L],[[76,0,[[78,2,[[87,4,[[88,6],[89,6],[90,6],[91,6]]],[93,4]]]]]]);function Hn(t,e){ke(new.target),Me(e,!0,Hn);let r=p(Nt(!1),"dropdownOpen"),i=p(Nt(null),"triggerEl");const o=p(m(()=>e.store.zoom),"zoom"),a=p(m(()=>e.store.autoFit),"autoFit"),l=p(m(()=>e.store.actualScale),"actualScale"),f=p(m(()=>e.store.isClamped),"isClamped"),c=p(m(()=>e.store.maxWidth),"maxWidth"),s=p(m(()=>e.store.maxHeight),"maxHeight"),g=p(m(()=>Math.round(n(l)*100)),"displayPercent"),d=p(m(()=>Math.round(n(o)*100)),"zoomPercent"),u=[{value:null,label:"None"},{value:600,label:"600px"},{value:800,label:"800px"},{value:1e3,label:"1000px"},{value:1200,label:"1200px"}],h=[{value:null,label:"None"},{value:400,label:"400px"},{value:600,label:"600px"},{value:800,label:"800px"}];function v(){et(r,!1)}function _(S){const N=S.target;e.store.setZoom(parseFloat(N.value)/100)}function y(S){const N=S.target,C=w(N.value,"null")?null:parseInt(N.value);e.store.setMaxWidth(C)}function x(S){const N=S.target,C=w(N.value,"null")?null:parseInt(N.value);e.store.setMaxHeight(C)}function A(S){S.target.closest(".zoom-controls-wrapper")||v()}var z={...Ne()},F=uv();Pn("click",Oi,A);var T=Z(F);T.__click=()=>et(r,!n(r));var H=tt(Z(T),2),b=Z(H);pi(T,S=>et(i,S),()=>n(i));var E=tt(T,2);{var P=S=>{var N=fv(),C=Z(N),G=Z(C);G.__click=()=>e.store.zoomOut();var B=tt(G,2);B.__change=_;var rt=tt(B,2);rt.__click=()=>e.store.zoomIn();var nt=tt(rt,2),$=Z(nt),St=tt(C,2);{var Q=gt=>{var Ct=av(),de=Z(Ct);K(()=>Yt(de,`Showing ${n(g)??""}% (auto-fit)`)),I(gt,Ct)};R(()=>j(St,gt=>{n(f)&&gt(Q)}),"if",Hn,139,6)}var Tt=tt(St,2);{var dt=gt=>{var Ct=lv();Ct.__click=()=>e.store.resetZoom(),I(gt,Ct)};R(()=>j(Tt,gt=>{w(n(o),1,!1)&&gt(dt)}),"if",Hn,146,6)}var _t=tt(Tt,4);_t.__click=()=>e.store.fitToWidth();var pt=tt(_t,2),ut=Z(pt);ut.__change=gt=>e.store.setAutoFit(gt.target.checked);var Jt=tt(pt,6),te=Z(Jt),yt=tt(Z(te),2);yt.__change=y,R(()=>Ae(yt,21,()=>u,br,(gt,Ct)=>{var de=sv(),Je=Z(de,!0);var Xe={};K(()=>{Yt(Je,n(Ct).label),Xe!==(Xe=w(n(Ct).value,null)?"null":n(Ct).value)&&(de.value=(de.__value=w(n(Ct).value,null)?"null":n(Ct).value)??"")}),I(gt,de)}),"each",Hn,197,12);var jt;As(yt);var We=tt(Jt,2),ht=Z(We),Lt=tt(Z(ht),2);Lt.__change=x,R(()=>Ae(Lt,21,()=>h,br,(gt,Ct)=>{var de=cv(),Je=Z(de,!0);var Xe={};K(()=>{Yt(Je,n(Ct).label),Xe!==(Xe=w(n(Ct).value,null)?"null":n(Ct).value)&&(de.value=(de.__value=w(n(Ct).value,null)?"null":n(Ct).value)??"")}),I(gt,de)}),"each",Hn,211,12);var Ge;As(Lt),na(N,(gt,Ct)=>Br==null?void 0:Br(gt,Ct),()=>({triggerEl:n(i)})),K(()=>{Xu(B,n(d)),Yt($,`${n(d)??""}%`),ju(ut,n(a)),jt!==(jt=w(n(c),null)?"null":n(c))&&(yt.value=(yt.__value=w(n(c),null)?"null":n(c))??"",Ja(yt,w(n(c),null)?"null":n(c))),Ge!==(Ge=w(n(s),null)?"null":n(s))&&(Lt.value=(Lt.__value=w(n(s),null)?"null":n(s))??"",Ja(Lt,w(n(s),null)?"null":n(s)))}),I(S,N)};R(()=>j(E,S=>{n(r)&&S(P)}),"if",Hn,96,2)}return K(()=>{k(T,"aria-expanded",n(r)),k(T,"title",`Zoom: ${n(g)??""}%`),Yt(b,`${n(g)??""}%`)}),I(t,F),Se(z)}vi(["click","change"]),Wn[L]="src/components/ui/ControlToolbar.svelte";var dv=O(vt('<div class="control-toolbar svelte-rjvd17"><!> <!> <!> <!> <!></div>'),Wn[L],[[37,0]]);function Wn(t,e){ke(new.target),Me(e,!0,Wn);let r=Dn(e,"enableExport",3,!0),i=Dn(e,"enableThemes",3,void 0),o=Dn(e,"enableViewToggle",3,!0),a=Dn(e,"enableZoomControls",3,!0),l=Dn(e,"enableReset",3,!0);const f=p(m(()=>a()&&e.store.showZoomControls),"showZoomControls"),c=p(m(()=>w(i(),null,!1)),"showThemeSwitcher");var s={...Ne()},g=dv(),d=Z(g);{var u=T=>{R(()=>Hn(T,{get store(){return e.store}}),"component",Wn,39,4,{componentTag:"ZoomControls"})};R(()=>j(d,T=>{n(f)&&T(u)}),"if",Wn,38,2)}var h=tt(d,2);{var v=T=>{R(()=>ur(T,{get store(){return e.store},get availableThemes(){return i()},get onThemeChange(){return e.onThemeChange}}),"component",Wn,42,4,{componentTag:"ThemeSwitcher"})};R(()=>j(h,T=>{n(c)&&T(v)}),"if",Wn,41,2)}var _=tt(h,2);{var y=T=>{R(()=>Ei(T,{get store(){return e.store}}),"component",Wn,45,4,{componentTag:"ViewToggle"})};R(()=>j(_,T=>{o()&&T(y)}),"if",Wn,44,2)}var x=tt(_,2);{var A=T=>{R(()=>pa(T,{get store(){return e.store}}),"component",Wn,48,4,{componentTag:"ResetButton"})};R(()=>j(x,T=>{l()&&T(A)}),"if",Wn,47,2)}var z=tt(x,2);{var F=T=>{R(()=>Gr(T,{get store(){return e.store}}),"component",Wn,51,4,{componentTag:"DownloadButton"})};R(()=>j(z,T=>{r()&&T(F)}),"if",Wn,50,2)}return I(t,g),Se(s)}ti[L]="src/components/viz/VizBar.svelte";var hv=O(It('<rect rx="2" class="bar-segment svelte-1pgs700"></rect>'),ti[L],[[107,8]]),gv=O(It('<g class="viz-bar-row svelte-1pgs700"></g>'),ti[L],[[96,2]]);function ti(t,e){ke(new.target),Me(e,!0,ti);const r=p(m(()=>{var y,x,A,z;if(e.sharedScale)return e.sharedScale;const u=w(e.options.scale,"log"),h=((x=(y=e.theme)==null?void 0:y.spacing)==null?void 0:x.padding)??12;let v=((A=e.options.axisRange)==null?void 0:A[0])??0,_=((z=e.options.axisRange)==null?void 0:z[1])??100;if(!e.options.axisRange){const F=[];for(const T of e.options.effects){const H=e.row.metadata[T.value];ue(H,null,!1)&&!Number.isNaN(H)&&F.push(H)}F.length>0&&(v=Math.min(0,...F),_=Math.max(...F)*1.1)}return u?Pr().domain([Math.max(.01,v),_]).range([h,e.width-h]):Qn().domain([v,_]).range([h,e.width-h])}),"xScale"),i=p(m(()=>{const u=e.options.effects.length,h=e.rowHeight*.7,v=u>1?2:0,_=(h-v*(u-1))/u;return{barHeight:Math.max(4,_),barGap:v,totalHeight:h}}),"barConfig"),o=p(m(()=>{var u,h;return((h=(u=e.theme)==null?void 0:u.shapes)==null?void 0:h.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function a(u,h){return u.color??n(o)[h%n(o).length]}function l(u){return u.opacity??.85}const f=p(m(()=>e.options.effects.some(u=>{const h=e.row.metadata[u.value];return ue(h,null,!1)&&!Number.isNaN(h)})),"hasValidData");var c={...Ne()},s=Mt(),g=ct(s);{var d=u=>{var h=gv();R(()=>Ae(h,21,()=>e.options.effects,br,(v,_,y)=>{const x=p(m(()=>e.row.metadata[n(_).value]),"value");n(x);var A=Mt(),z=ct(A);{var F=T=>{const H=p(m(()=>e.yPosition-n(i).totalHeight/2+y*(n(i).barHeight+n(i).barGap)),"barY");n(H);const b=p(m(()=>n(r)(Math.min(0,n(x)))),"barX");n(b);const E=p(m(()=>Math.abs(n(r)(n(x))-n(r)(0))),"barWidth");n(E);const P=p(m(()=>a(n(_),y)),"color");n(P);const S=p(m(()=>l(n(_))),"opacity");n(S);var N=hv();K(C=>{k(N,"x",n(b)),k(N,"y",n(H)),k(N,"width",C),k(N,"height",n(i).barHeight),k(N,"fill",n(P)),k(N,"fill-opacity",n(S))},[()=>Math.max(1,n(E))]),I(T,N)};R(()=>j(z,T=>{ue(n(x),null,!1)&&!Number.isNaN(n(x))&&T(F)}),"if",ti,100,6)}I(v,A)}),"each",ti,98,4),I(u,h)};R(()=>j(g,u=>{n(f)&&u(d)}),"if",ti,95,0)}return I(t,s),Se(c)}function Gc(t){if(!t||t.length===0)return{min:NaN,q1:NaN,median:NaN,q3:NaN,max:NaN};const e=t.filter(o=>o!=null&&!Number.isNaN(o)).sort((o,a)=>o-a);if(e.length===0)return{min:NaN,q1:NaN,median:NaN,q3:NaN,max:NaN};const r=e.length,i=o=>{if(r===1)return e[0];const a=(r-1)*o,l=Math.floor(a),f=Math.ceil(a);return l===f?e[l]:e[l]+(a-l)*(e[f]-e[l])};return{min:e[0],q1:i(.25),median:i(.5),q3:i(.75),max:e[r-1]}}function vv(t,e,r){if(!t||t.length===0||Number.isNaN(e)||Number.isNaN(r))return[];const i=r-e,o=e-1.5*i,a=r+1.5*i;return t.filter(l=>l!=null&&!Number.isNaN(l)&&(l<o||l>a))}function Vc(t){const e=Gc(t),r=vv(t,e.q1,e.q3);return{...e,outliers:r}}function pv(t){if(!t||t.length<2)return 1;const e=t.filter(h=>h!=null&&!Number.isNaN(h)).sort((h,v)=>h-v);if(e.length<2)return 1;const r=e.length,i=e.reduce((h,v)=>h+v,0)/r,o=e.reduce((h,v)=>h+(v-i)**2,0)/(r-1),a=Math.sqrt(o),l=Math.floor((r-1)*.25),f=Math.floor((r-1)*.75),c=e[l],g=e[f]-c,u=.9*Math.min(a,g/1.34)*Math.pow(r,-.2);return Math.max(u,.001)}function mv(t){return Math.exp(-.5*t*t)/Math.sqrt(2*Math.PI)}function _v(t,e,r=128){if(!t||t.length===0)return{x:[],y:[]};const i=t.filter(h=>h!=null&&!Number.isNaN(h));if(i.length===0)return{x:[],y:[]};const o=e??pv(i),a=Math.min(...i),l=Math.max(...i),f=3*o,c=a-f,g=(l+f-c)/(r-1),d=[],u=[];for(let h=0;h<r;h++){const v=c+h*g;d.push(v);let _=0;for(const y of i)_+=mv((v-y)/o);_/=i.length*o,u.push(_)}return{x:d,y:u}}function yv(t,e){if(t.y.length===0)return t;const r=Math.max(...t.y);if(r===0)return t;const i=t.y.map(o=>o/r*e);return{x:t.x,y:i}}dr[L]="src/components/viz/VizBoxplot.svelte";var xv=O(It('<circle r="2.5" fill="none" stroke-width="1.5" class="outlier svelte-5apth9"></circle>'),dr[L],[[210,12]]),wv=O(It('<line stroke-width="1"></line><line stroke-width="1"></line><line stroke-width="1"></line><line stroke-width="1"></line><rect stroke-width="1" class="box-rect svelte-5apth9"></rect><line stroke-width="2"></line><!>',1),dr[L],[[147,10],[156,10],[166,10],[175,10],[185,8],[198,8]]),bv=O(It('<g class="viz-boxplot-row svelte-5apth9"></g>'),dr[L],[[135,2]]);function dr(t,e){ke(new.target),Me(e,!0,dr);const r=p(m(()=>e.options.effects.map(h=>{if(h.data){const v=e.row.metadata[h.data];return!v||!Array.isArray(v)||w(v.length,0)?null:Vc(v)}if(h.min&&h.q1&&h.median&&h.q3&&h.max){const v=e.row.metadata[h.min],_=e.row.metadata[h.q1],y=e.row.metadata[h.median],x=e.row.metadata[h.q3],A=e.row.metadata[h.max];if([v,_,y,x,A].some(F=>ue(F,null)||Number.isNaN(F)))return null;let z=[];if(h.outliers){const F=e.row.metadata[h.outliers];F&&Array.isArray(F)&&(z=F)}return{min:v,q1:_,median:y,q3:x,max:A,outliers:z}}return null})),"effectStats"),i=p(m(()=>n(r).some(h=>w(h,null,!1))),"hasValidData"),o=p(m(()=>{var x,A,z,F;if(e.sharedScale)return e.sharedScale;const h=w(e.options.scale,"log"),v=((A=(x=e.theme)==null?void 0:x.spacing)==null?void 0:A.padding)??12;let _=(z=e.options.axisRange)==null?void 0:z[0],y=(F=e.options.axisRange)==null?void 0:F[1];if(ue(_,null)||ue(y,null)){const T=[];for(const H of n(r))H&&(T.push(H.min,H.max),w(e.options.showOutliers,!1,!1)&&T.push(...H.outliers));if(T.length>0){const H=Math.min(...T),b=Math.max(...T),E=b-H;_=_??H-E*.05,y=y??b+E*.05}else _=_??0,y=y??100}return h?Pr().domain([Math.max(.01,_),y]).range([v,e.width-v]):Qn().domain([_,y]).range([v,e.width-v])}),"xScale"),a=p(m(()=>{const h=e.options.effects.length,v=e.rowHeight*.7,_=(v-(h-1)*2)/h;return{boxHeight:Math.max(8,_),boxGap:h>1?2:0,totalHeight:v}}),"boxConfig"),l=p(m(()=>{var h,v;return((v=(h=e.theme)==null?void 0:h.shapes)==null?void 0:v.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function f(h,v){return h.color??n(l)[v%n(l).length]}function c(h){return h.fillOpacity??.7}var s={...Ne()},g=Mt(),d=ct(g);{var u=h=>{var v=bv();R(()=>Ae(v,21,()=>e.options.effects,br,(_,y,x)=>{const A=p(m(()=>n(r)[x]),"stats");n(A);var z=Mt(),F=ct(z);{var T=H=>{const b=p(m(()=>e.yPosition-n(a).totalHeight/2+x*(n(a).boxHeight+n(a).boxGap)),"boxY");n(b);const E=p(m(()=>n(b)+n(a).boxHeight/2),"boxCenterY");n(E);const P=p(m(()=>f(n(y),x)),"color");n(P);const S=p(m(()=>c(n(y))),"opacity");n(S);const N=p(m(()=>{var dt;return((dt=e.theme)==null?void 0:dt.colors.foreground)??"#1a1a1a"}),"lineColor");n(N);var C=wv(),G=ct(C),B=tt(G),rt=tt(B),nt=tt(rt),$=tt(nt),St=tt($),Q=tt(St);{var Tt=dt=>{var _t=Mt(),pt=ct(_t);R(()=>Ae(pt,17,()=>n(A).outliers,br,(ut,Jt)=>{var te=xv();K(yt=>{k(te,"cx",yt),k(te,"cy",n(E)),k(te,"stroke",n(P))},[()=>n(o)(n(Jt))]),I(ut,te)}),"each",dr,209,10),I(dt,_t)};R(()=>j(Q,dt=>{w(e.options.showOutliers,!1,!1)&&n(A).outliers.length>0&&dt(Tt)}),"if",dr,208,8)}K((dt,_t,pt,ut,Jt,te,yt,jt,We,ht,Lt,Ge)=>{k(G,"x1",dt),k(G,"x2",_t),k(G,"y1",n(E)),k(G,"y2",n(E)),k(G,"stroke",n(N)),k(B,"x1",pt),k(B,"x2",ut),k(B,"y1",n(E)-n(a).boxHeight/4),k(B,"y2",n(E)+n(a).boxHeight/4),k(B,"stroke",n(N)),k(rt,"x1",Jt),k(rt,"x2",te),k(rt,"y1",n(E)),k(rt,"y2",n(E)),k(rt,"stroke",n(N)),k(nt,"x1",yt),k(nt,"x2",jt),k(nt,"y1",n(E)-n(a).boxHeight/4),k(nt,"y2",n(E)+n(a).boxHeight/4),k(nt,"stroke",n(N)),k($,"x",We),k($,"y",n(b)),k($,"width",ht),k($,"height",n(a).boxHeight),k($,"fill",n(P)),k($,"fill-opacity",n(S)),k($,"stroke",n(N)),k(St,"x1",Lt),k(St,"x2",Ge),k(St,"y1",n(b)),k(St,"y2",n(b)+n(a).boxHeight),k(St,"stroke",n(N))},[()=>n(o)(n(A).min),()=>n(o)(n(A).q1),()=>n(o)(n(A).min),()=>n(o)(n(A).min),()=>n(o)(n(A).q3),()=>n(o)(n(A).max),()=>n(o)(n(A).max),()=>n(o)(n(A).max),()=>n(o)(n(A).q1),()=>Math.max(2,n(o)(n(A).q3)-n(o)(n(A).q1)),()=>n(o)(n(A).median),()=>n(o)(n(A).median)]),I(H,C)};R(()=>j(F,H=>{n(A)&&H(T)}),"if",dr,138,6)}I(_,z)}),"each",dr,136,4),I(h,v)};R(()=>j(d,h=>{n(i)&&h(u)}),"if",dr,134,0)}return I(t,g),Se(s)}tr[L]="src/components/viz/VizViolin.svelte";var Mv=O(It('<line stroke-width="2"></line>'),tr[L],[[165,10]]),Sv=O(It('<line stroke-width="1" stroke-dasharray="2,2"></line><line stroke-width="1" stroke-dasharray="2,2"></line>',1),tr[L],[[179,10],[188,10]]),Ev=O(It('<path stroke-width="0.5" class="violin-path svelte-1ywbnva"></path><!><!>',1),tr[L],[[153,8]]),Cv=O(It('<g class="viz-violin-row svelte-1ywbnva"></g>'),tr[L],[[140,2]]);function tr(t,e){ke(new.target),Me(e,!0,tr);const r=p(m(()=>e.options.effects.map(_=>{const y=e.row.metadata[_.data];return!y||!Array.isArray(y)||y.length<2?null:_v(y,e.options.bandwidth)})),"effectKDEs"),i=p(m(()=>e.options.effects.map(_=>{const y=e.row.metadata[_.data];return!y||!Array.isArray(y)||y.length<2?null:Gc(y)})),"effectQuartiles"),o=p(m(()=>n(r).some(_=>w(_,null,!1))),"hasValidData"),a=p(m(()=>{var z,F,T,H;if(e.sharedScale)return e.sharedScale;const _=w(e.options.scale,"log"),y=((F=(z=e.theme)==null?void 0:z.spacing)==null?void 0:F.padding)??12;let x=(T=e.options.axisRange)==null?void 0:T[0],A=(H=e.options.axisRange)==null?void 0:H[1];if(ue(x,null)||ue(A,null)){const b=[];for(const E of n(r))E&&E.x.length>0&&b.push(...E.x);b.length>0?(x=x??Math.min(...b),A=A??Math.max(...b)):(x=x??0,A=A??100)}return _?Pr().domain([Math.max(.01,x),A]).range([y,e.width-y]):Qn().domain([x,A]).range([y,e.width-y])}),"xScale"),l=p(m(()=>{const _=e.options.effects.length,y=e.rowHeight*.8,x=(y-(_-1)*2)/_;return{maxWidth:x/2,violinHeight:Math.max(10,x),gap:_>1?2:0,totalHeight:y}}),"violinConfig"),f=p(m(()=>{var _,y;return((y=(_=e.theme)==null?void 0:_.shapes)==null?void 0:y.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function c(_,y){return _.color??n(f)[y%n(f).length]}function s(_){return _.fillOpacity??.5}function g(_,y,x){if(_.x.length<2)return"";const A=yv(_,x),z=[];for(let F=0;F<A.x.length;F++){const T=n(a)(A.x[F]),H=y-A.y[F];z.push(w(F,0)?`M ${T} ${H}`:`L ${T} ${H}`)}for(let F=A.x.length-1;F>=0;F--){const T=n(a)(A.x[F]),H=y+A.y[F];z.push(`L ${T} ${H}`)}return z.push("Z"),z.join(" ")}var d={...Ne()},u=Mt(),h=ct(u);{var v=_=>{var y=Cv();R(()=>Ae(y,21,()=>e.options.effects,br,(x,A,z)=>{const F=p(m(()=>n(r)[z]),"kde");n(F);const T=p(m(()=>n(i)[z]),"quartiles");n(T);var H=Mt(),b=ct(H);{var E=P=>{const S=p(m(()=>e.yPosition-n(l).totalHeight/2+n(l).violinHeight/2+z*(n(l).violinHeight+n(l).gap)),"violinCenterY");n(S);const N=p(m(()=>c(n(A),z)),"color");n(N);const C=p(m(()=>s(n(A))),"opacity");n(C);const G=p(m(()=>g(n(F),n(S),n(l).maxWidth)),"path");n(G);const B=p(m(()=>{var dt;return((dt=e.theme)==null?void 0:dt.colors.foreground)??"#1a1a1a"}),"lineColor");n(B);var rt=Ev(),nt=ct(rt),$=tt(nt);{var St=dt=>{const _t=p(m(()=>n(a)(n(T).median)),"medianX");n(_t);var pt=Mv();K(()=>{k(pt,"x1",n(_t)),k(pt,"x2",n(_t)),k(pt,"y1",n(S)-n(l).maxWidth*.6),k(pt,"y2",n(S)+n(l).maxWidth*.6),k(pt,"stroke",n(B))}),I(dt,pt)};R(()=>j($,dt=>{w(e.options.showMedian,!1,!1)&&n(T)&&dt(St)}),"if",tr,163,8)}var Q=tt($);{var Tt=dt=>{const _t=p(m(()=>n(a)(n(T).q1)),"q1X");n(_t);const pt=p(m(()=>n(a)(n(T).q3)),"q3X");n(pt);var ut=Sv(),Jt=ct(ut),te=tt(Jt);K(()=>{k(Jt,"x1",n(_t)),k(Jt,"x2",n(_t)),k(Jt,"y1",n(S)-n(l).maxWidth*.4),k(Jt,"y2",n(S)+n(l).maxWidth*.4),k(Jt,"stroke",n(B)),k(te,"x1",n(pt)),k(te,"x2",n(pt)),k(te,"y1",n(S)-n(l).maxWidth*.4),k(te,"y2",n(S)+n(l).maxWidth*.4),k(te,"stroke",n(B))}),I(dt,ut)};R(()=>j(Q,dt=>{e.options.showQuartiles&&n(T)&&dt(Tt)}),"if",tr,176,8)}K(()=>{k(nt,"d",n(G)),k(nt,"fill",n(N)),k(nt,"fill-opacity",n(C)),k(nt,"stroke",n(B))}),I(P,rt)};R(()=>j(b,P=>{n(F)&&n(F).x.length>=2&&P(E)}),"if",tr,144,6)}I(x,H)}),"each",tr,141,4),I(_,y)};R(()=>j(h,_=>{n(o)&&_(v)}),"if",tr,139,0)}return I(t,u),Se(d)}D[L]="src/lib/ForestPlot.svelte";function Tv(t,e){var i,o;if((o=(i=e.options)==null?void 0:i.bar)!=null&&o.maxValue)return e.options.bar.maxValue;let r=0;for(const a of t){const l=a.metadata[e.field];w(typeof l,"number")&&l>r&&(r=l)}return r||100}function kv(t,e,r){const i=[],o=w(t==null?void 0:t.type,"header")||w(t==null?void 0:t.type,"summary")||w(t==null?void 0:t.type,"spacer");return w(t==null?void 0:t.type,"header")&&i.push("row-header"),w(t==null?void 0:t.type,"summary")&&i.push("row-summary"),t!=null&&t.bold&&i.push("row-bold"),t!=null&&t.italic&&i.push("row-italic"),t!=null&&t.emphasis&&i.push("row-emphasis"),t!=null&&t.muted&&i.push("row-muted"),t!=null&&t.accent&&i.push("row-accent"),!o&&r&&w(e,void 0,!1)&&w(e%2,1)&&i.push("row-odd"),i.join(" ")}function Nv(t,e){const r=[];return t!=null&&t.color&&r.push(`color: ${t.color}`),t!=null&&t.bg&&r.push(`background-color: ${t.bg}`),t!=null&&t.indent&&r.push(`--row-indent: ${t.indent}`),!(t!=null&&t.indent)&&e&&e>0&&r.push(`--row-indent: ${e}`),r.join("; ")}function Av(t,e){var r;if((r=t.cellStyles)!=null&&r[e.field])return t.cellStyles[e.field];if(e.styleMapping){const i={},o=t.metadata;if(e.styleMapping.bold&&o[e.styleMapping.bold]&&(i.bold=!!o[e.styleMapping.bold]),e.styleMapping.italic&&o[e.styleMapping.italic]&&(i.italic=!!o[e.styleMapping.italic]),e.styleMapping.color&&o[e.styleMapping.color]&&(i.color=String(o[e.styleMapping.color])),e.styleMapping.bg&&o[e.styleMapping.bg]&&(i.bg=String(o[e.styleMapping.bg])),e.styleMapping.badge&&o[e.styleMapping.badge]&&(i.badge=String(o[e.styleMapping.badge])),e.styleMapping.icon&&o[e.styleMapping.icon]&&(i.icon=String(o[e.styleMapping.icon])),Object.keys(i).length>0)return i}}var Hv=O(vt('<div class="resize-handle svelte-14l8yxx"></div>'),D[L],[[941,12]]),Wv=O(vt('<div class="grid-cell header-cell column-group-header svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span></div>'),D[L],[[952,12,[[957,14]]]]),Rv=O(vt('<span class="header-text svelte-14l8yxx"> </span>'),D[L],[[978,16]]),Iv=O(vt('<div class="resize-handle svelte-14l8yxx"></div>'),D[L],[[982,16]]),Fv=O(vt('<div class="grid-cell header-cell plot-header svelte-14l8yxx"><!> <!></div>'),D[L],[[971,12]]),zv=O(vt('<div class="resize-handle svelte-14l8yxx"></div>'),D[L],[[1e3,16]]),Lv=O(vt('<div class="grid-cell header-cell svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span> <!></div>'),D[L],[[991,12,[[997,14]]]]),Pv=O(vt('<span class="row-icon svelte-14l8yxx"> </span>'),D[L],[[1047,35]]),Dv=O(vt('<span class="row-badge svelte-14l8yxx"> </span>'),D[L],[[1049,36]]),Bv=O(vt("<!> <!>",1),D[L],[]),Gv=O(vt("<div></div>"),D[L],[[1057,14]]),Vv=O(vt("<div><!></div>"),D[L],[[1072,14]]),Ov=O(vt("<div><!></div> <!>",1),D[L],[[1022,10]]),Xv=O(vt('<div class="grid-cell axis-cell svelte-14l8yxx"></div>'),D[L],[[1100,14]]),jv=O(vt('<div class="grid-cell axis-spacer svelte-14l8yxx"></div>'),D[L],[[1102,14]]),Uv=O(vt('<!> <div class="grid-cell axis-spacer svelte-14l8yxx"></div>',1),D[L],[[1106,10]]),qv=O(It('<text text-anchor="middle" font-size="var(--wf-font-size-sm)" font-weight="500" class="svelte-14l8yxx"> </text>'),D[L],[[1157,18]]),Yv=O(It('<line class="svelte-14l8yxx"></line><!>',1),D[L],[[1145,16]]),Zv=O(It('<g class="svelte-14l8yxx"><!></g>'),D[L],[[1218,14]]),Kv=O(It('<svg class="plot-overlay svelte-14l8yxx"><line stroke="var(--wf-muted)" stroke-width="1" stroke-dasharray="4,4" class="svelte-14l8yxx"></line><!><!><!><!></svg>'),D[L],[[1120,10,[[1129,12]]]]),Jv=O(It('<g class="svelte-14l8yxx"><!></g>'),D[L],[[1261,16]]),Qv=O(It('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),D[L],[[1234,12]]),$v=O(It('<g class="svelte-14l8yxx"><!></g>'),D[L],[[1314,16]]),tp=O(It('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),D[L],[[1287,12]]),ep=O(It('<g class="svelte-14l8yxx"><!></g>'),D[L],[[1367,16]]),np=O(It('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),D[L],[[1340,12]]),rp=O(vt('<!> <div class="tabviz-scalable svelte-14l8yxx"><!>  <div><div class="grid-cell header-cell label-header svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span> <!></div> <!> <!> <!> <!> <!> <!> <!></div> <!></div> <!>',1),D[L],[[855,4,[[930,6,[[933,8,[[938,10]]]]]]]]),ip=O(vt('<div class="tabviz-empty svelte-14l8yxx">No data</div>'),D[L],[[1392,4]]),op=O(vt("<div><!></div>"),D[L],[[840,0]]);function D(t,e){ke(new.target),Me(e,!0,D);const r=p(m(()=>e.store.spec),"spec"),i=p(m(()=>e.store.visibleRows),"visibleRows"),o=p(m(()=>e.store.displayRows),"displayRows"),a=p(m(()=>e.store.layout),"layout"),l=p(m(()=>e.store.xScale),"xScale"),f=p(m(()=>e.store.axisComputation),"axisComputation"),c=p(m(()=>n(f).axisLimits),"clipBounds"),s=p(m(()=>{var M;return(M=n(r))==null?void 0:M.theme}),"theme"),g=p(m(()=>{var M,W;return((W=(M=n(s))==null?void 0:M.layout)==null?void 0:W.banding)??!1}),"bandingEnabled"),d=p(m(()=>e.store.allColumns),"allColumns"),u=p(m(()=>e.store.allColumnDefs),"allColumnDefs"),h=p(m(()=>e.store.forestColumns),"forestColumns");p(m(()=>n(h).length>0),"hasForestColumns");const v=p(m(()=>e.store.vizColumns),"vizColumns"),_=p(m(()=>n(v).length>0),"hasVizColumns"),y=p(m(()=>{var M;return((M=n(r))==null?void 0:M.data.labelHeader)||"Study"}),"labelHeader"),x=p(m(()=>{var M,W,X,q;return!!((W=(M=n(r))==null?void 0:M.labels)!=null&&W.title)||!!((q=(X=n(r))==null?void 0:X.labels)!=null&&q.subtitle)}),"hasPlotHeader");p(m(()=>n(u).some(M=>M.isGroup)),"hasColumnGroups");const A=p(m(()=>e.store.tooltipRow),"tooltipRow"),z=p(m(()=>e.store.tooltipPosition),"tooltipPosition"),F=p(m(()=>e.store.selectedRowIds),"selectedRowIds"),T=p(m(()=>e.store.hoveredRowId),"hoveredRowId"),H=p(m(()=>e.store.zoom),"zoom"),b=p(m(()=>e.store.autoFit),"autoFit"),E=p(m(()=>e.store.actualScale),"actualScale"),P=p(m(()=>e.store.maxWidth),"maxWidth"),S=p(m(()=>e.store.maxHeight),"maxHeight");p(m(()=>e.store.showZoomControls),"showZoomControls");const N=p(m(()=>({...e.store.columnWidths})),"columnWidthsSnapshot");let C=p(Nt(void 0),"containerRef"),G=p(Nt(void 0),"scalableRef"),B=p(Nt(0),"containerContentWidth"),rt=p(Nt(0),"scalableNaturalWidth"),nt=p(Nt(0),"scalableNaturalHeight");p(m(()=>e.store.naturalContentWidth),"naturalContentWidth");const $=p(m(()=>n(rt)*n(E)),"scaledWidth"),St=p(m(()=>n(nt)*n(E)),"scaledHeight"),Q=p(m(()=>{if(!n(b)||n(B)<=0||n($)<=0)return 0;const M=(n(B)-n($))/2;return Math.max(0,M)}),"centeringMargin");Ko(()=>{if(!n(C)||!n(G))return;n(C).id&&e.store.setContainerElementId(n(C).id);const M=new ResizeObserver(W=>{for(const X of W)w(X.target,n(C))?(et(B,X.contentRect.width,!0),e.store.setContainerDimensions(X.contentRect.width,X.contentRect.height)):w(X.target,n(G))&&(et(rt,X.contentRect.width,!0),et(nt,X.contentRect.height,!0),e.store.setScalableNaturalDimensions(X.contentRect.width,X.contentRect.height))});return M.observe(n(C)),M.observe(n(G)),()=>{M.disconnect()}});const Tt=p(m(()=>{var M,W;return w((W=(M=n(r))==null?void 0:M.interaction)==null?void 0:W.enableExport,!1,!1)}),"enableExport"),dt=p(m(()=>{var M,W;return(W=(M=n(r))==null?void 0:M.interaction)==null?void 0:W.enableThemes}),"enableThemes");function _t(M){var W;if(!(!M.metaKey&&!M.ctrlKey)&&!w((W=M.target)==null?void 0:W.tagName,"INPUT"))switch(M.key){case"=":case"+":M.preventDefault(),e.store.zoomIn();break;case"-":M.preventDefault(),e.store.zoomOut();break;case"0":M.preventDefault(),e.store.resetZoom();break;case"1":M.preventDefault(),e.store.fitToWidth();break}}const pt=p(m(()=>{var q;const M=[],W=[];let X=0;for(const mt of n(o)){const Et=w(mt.type,"data")&&w((q=mt.row.style)==null?void 0:q.type,"spacer")?n(a).rowHeight/2:n(a).rowHeight;M.push(X),W.push(Et),X+=Et}return{positions:M,heights:W,totalHeight:X}}),"rowLayout"),ut=p(m(()=>n(pt).totalHeight),"rowsAreaHeight");function Jt(M){const W=M.filter(Et=>w(Et.type,"reference_line")&&Et.label).map(Et=>({id:Et.id,x:n(l)(Et.x),label:Et.label})).sort((Et,Ot)=>Et.x-Ot.x),X={},q=120,mt=-18;for(let Et=0;Et<W.length;Et++){const Ot=W[Et];if(X[Ot.id]=0,Et>0){const xt=W[Et-1];Ot.x-xt.x<q&&(X[Ot.id]=w(X[xt.id],0)?mt:0)}}return X}function te(M){return n(F).has(M)}function yt(M,W){return w(M.type,"group_header")?`group_${M.group.id}`:M.row.id}function jt(M){return M.isGroup?M.columns.reduce((W,X)=>W+jt(X),0):1}function We(M){let W=0;for(const X of M)if(X.isGroup){const q=1+We(X.columns);W=Math.max(W,q)}return W}function ht(M,W){var re,Kt;const X=W==null?void 0:W.groupHeaders,q=((re=W==null?void 0:W.colors)==null?void 0:re.primary)??"#0891b2",mt=((Kt=W==null?void 0:W.colors)==null?void 0:Kt.background)??"#ffffff";if(w(M,1)&&(X!=null&&X.level1Background))return X.level1Background;if(w(M,2)&&(X!=null&&X.level2Background))return X.level2Background;if(M>=3&&(X!=null&&X.level3Background))return X.level3Background;const Ot=[.15,.1,.06][Math.min(M-1,2)],xt=oe=>{const kt=oe.replace("#","");return{r:parseInt(kt.substring(0,2),16),g:parseInt(kt.substring(2,4),16),b:parseInt(kt.substring(4,6),16)}},bt=xt(q),Pt=xt(mt),zt=(oe,kt)=>Math.round(oe*Ot+kt*(1-Ot)),Le=zt(bt.r,Pt.r),Dt=zt(bt.g,Pt.g),_e=zt(bt.b,Pt.b);return`rgb(${Le}, ${Dt}, ${_e})`}const Lt=p(m(()=>Math.max(1,1+We(n(u)))),"headerDepth"),Ge=p(m(()=>{const M=[];let W=2;function X(q,mt){const Et=jt(q),Ot=W;if(q.isGroup){M.push({col:q,gridColumnStart:Ot,colspan:Et,rowStart:mt+1,rowSpan:1,isGroupHeader:!0,isForest:!1});for(const xt of q.columns)X(xt,mt+1)}else{const xt=!q.isGroup&&Ct.includes(q.type);M.push({col:q,gridColumnStart:Ot,colspan:1,rowStart:mt+1,rowSpan:n(Lt)-mt,isGroupHeader:!1,isForest:xt}),W++}}for(const q of n(u))X(q,0);return M}),"headerCells");function gt(M){const W=n(N)[M.id];return w(typeof W,"number")?`${W}px`:w(typeof M.width,"number")?`${M.width}px`:"max-content"}const Ct=["forest","viz_bar","viz_boxplot","viz_violin"],de=p(m(()=>{var X,q,mt,Et,Ot,xt,bt,Pt;const M=[],W=n(N).__label__;M.push(W?`${W}px`:"max-content");for(const zt of n(d))if(Ct.includes(zt.type)){const Le=n(N)[zt.id];let Dt;w(typeof Le,"number")?Dt=Le:w(typeof zt.width,"number")?Dt=zt.width:w(zt.type,"forest")?Dt=((q=(X=zt.options)==null?void 0:X.forest)==null?void 0:q.width)??n(a).forestWidth:w(zt.type,"viz_bar")?Dt=((Et=(mt=zt.options)==null?void 0:mt.vizBar)==null?void 0:Et.width)??n(a).forestWidth:w(zt.type,"viz_boxplot")?Dt=((xt=(Ot=zt.options)==null?void 0:Ot.vizBoxplot)==null?void 0:xt.width)??n(a).forestWidth:w(zt.type,"viz_violin")?Dt=((Pt=(bt=zt.options)==null?void 0:bt.vizViolin)==null?void 0:Pt.width)??n(a).forestWidth:Dt=n(a).forestWidth,M.push(`${Dt}px`)}else M.push(gt(zt));return M.join(" ")}),"gridTemplateColumns");p(m(()=>1+n(d).length),"totalColumns");const Je=p(m(()=>{const M=[];for(let W=0;W<n(d).length;W++)Ct.includes(n(d)[W].type)&&M.push({gridCol:2+W,column:n(d)[W]});return M}),"vizColumnGridIndices");n(Je);let Xe=p(Nt(yr(new Map)),"forestColumnRefs"),In=p(Nt(yr(new Map)),"forestColumnPositions"),ee=p(Nt(void 0),"labelHeaderRef"),we=p(Nt(0),"measuredHeaderHeight");Ko(()=>{n(N),n(a).forestWidth,n(Lt),bu().then(()=>{const M=new Map;for(const[W,X]of n(Xe))X&&M.set(W,X.offsetLeft);et(In,M,!0),n(ee)&&et(we,n(ee).offsetHeight,!0)})});function je(M,W){return n(Xe).set(W,M),et(Xe,new Map(n(Xe)),!0),{destroy(){n(Xe).delete(W),et(Xe,new Map(n(Xe)),!0)}}}const Ve=p(m(()=>n(we)>0?n(we):n(a).headerHeight),"actualHeaderHeight"),Ue=p(m(()=>{var X,q,mt,Et,Ot,xt,bt,Pt,zt;const M=new Map,W=mi;for(const Le of n(v)){const Dt=Le.column,_e=W;if(w(Dt.type,"viz_bar")){const re=(X=Dt.options)==null?void 0:X.vizBar;if(!re)continue;const Kt=n(N)[Dt.id],oe=w(typeof Kt,"number")?Kt:w(typeof Dt.width,"number")?Dt.width:re.width??n(a).forestWidth;let kt=(q=re.axisRange)==null?void 0:q[0],lt=(mt=re.axisRange)==null?void 0:mt[1];if(ue(kt,null)||ue(lt,null)){const he=[];for(const Pe of n(o))if(w(Pe.type,"data"))for(const De of re.effects){const ce=Pe.row.metadata[De.value];ue(ce,null,!1)&&!Number.isNaN(ce)&&he.push(ce)}he.length>0?(kt=kt??Math.min(0,...he),lt=lt??Math.max(...he)*1.1):(kt=kt??0,lt=lt??100)}const Qt=w(re.scale,"log")?Pr().domain([Math.max(.01,kt),lt]).range([_e,oe-_e]):Qn().domain([kt,lt]).range([_e,oe-_e]);M.set(Dt.id,Qt)}else if(w(Dt.type,"viz_boxplot")){const re=(Et=Dt.options)==null?void 0:Et.vizBoxplot;if(!re)continue;const Kt=n(N)[Dt.id],oe=w(typeof Kt,"number")?Kt:w(typeof Dt.width,"number")?Dt.width:re.width??n(a).forestWidth;let kt=(Ot=re.axisRange)==null?void 0:Ot[0],lt=(xt=re.axisRange)==null?void 0:xt[1];if(ue(kt,null)||ue(lt,null)){const he=[];for(const Pe of n(o))if(w(Pe.type,"data")){for(const De of re.effects)if(De.data){const ce=Pe.row.metadata[De.data];if(ce&&Array.isArray(ce)){const Xt=Vc(ce);he.push(Xt.min,Xt.max),w(re.showOutliers,!1,!1)&&he.push(...Xt.outliers)}}else if(De.min&&De.max){const ce=Pe.row.metadata[De.min],Xt=Pe.row.metadata[De.max];ue(ce,null,!1)&&!Number.isNaN(ce)&&he.push(ce),ue(Xt,null,!1)&&!Number.isNaN(Xt)&&he.push(Xt)}}if(he.length>0){const Pe=Math.min(...he),De=Math.max(...he),ce=De-Pe;kt=kt??Pe-ce*.05,lt=lt??De+ce*.05}else kt=kt??0,lt=lt??100}const Qt=w(re.scale,"log")?Pr().domain([Math.max(.01,kt),lt]).range([_e,oe-_e]):Qn().domain([kt,lt]).range([_e,oe-_e]);M.set(Dt.id,Qt)}else if(w(Dt.type,"viz_violin")){const re=(bt=Dt.options)==null?void 0:bt.vizViolin;if(!re)continue;const Kt=n(N)[Dt.id],oe=w(typeof Kt,"number")?Kt:w(typeof Dt.width,"number")?Dt.width:re.width??n(a).forestWidth;let kt=(Pt=re.axisRange)==null?void 0:Pt[0],lt=(zt=re.axisRange)==null?void 0:zt[1];if(ue(kt,null)||ue(lt,null)){const he=[];for(const Pe of n(o))if(w(Pe.type,"data"))for(const De of re.effects){const ce=Pe.row.metadata[De.data];ce&&Array.isArray(ce)&&he.push(...ce.filter(Xt=>ue(Xt,null,!1)&&!Number.isNaN(Xt)))}if(he.length>0){kt=kt??Math.min(...he),lt=lt??Math.max(...he);const Pe=lt-kt;kt=kt-Pe*.1,lt=lt+Pe*.1}else kt=kt??0,lt=lt??100}const Qt=w(re.scale,"log")?Pr().domain([Math.max(.01,kt),lt]).range([_e,oe-_e]):Qn().domain([kt,lt]).range([_e,oe-_e]);M.set(Dt.id,Qt)}}return M}),"vizColumnScales"),Mn=p(m(()=>{var X;const M=new Map,W=mi;for(const q of n(h)){const mt=q.column,Et=(X=mt.options)==null?void 0:X.forest,Ot=n(N)[mt.id],xt=w(typeof Ot,"number")?Ot:w(typeof mt.width,"number")?mt.width:(Et==null?void 0:Et.width)??n(a).forestWidth,bt=w(Et==null?void 0:Et.scale,"log"),Pt=n(f).axisLimits,zt=W,Le=Math.max(xt-W,zt+50);if(bt){const Dt=[Math.max(Pt[0],.01),Math.max(Pt[1],.02)];M.set(mt.id,Pr().domain(Dt).range([zt,Le]))}else M.set(mt.id,Qn().domain(Pt).range([zt,Le]))}return M}),"forestColumnScales");p(Nt(!1),"resizingPlot");let on=p(Nt(null),"resizingColumn"),Vt=0,Bt=0;function ze(M,W,X){var q;(q=n(r))!=null&&q.interaction.enableResize&&(M.preventDefault(),M.stopPropagation(),et(on,W,!0),Vt=M.clientX,Bt=X,document.addEventListener("pointermove",ir),document.addEventListener("pointerup",gr))}function ir(M){if(!n(on))return;const W=M.clientX-Vt,X=Math.max(40,Bt+W);e.store.setColumnWidth(n(on),X)}function gr(){et(on,null),document.removeEventListener("pointermove",ir),document.removeEventListener("pointerup",gr)}function _n(M,W){e.store.setHovered(M),e.store.setTooltip(M,{x:W.clientX,y:W.clientY})}function Qe(){e.store.setHovered(null),e.store.setTooltip(null,null)}const Sn=p(m(()=>n(s)?`
      --wf-max-width: ${n(P)?`${n(P)}px`:"none"};
      --wf-max-height: ${n(S)?`${n(S)}px`:"none"};
      --wf-bg: ${n(s).colors.background};
      --wf-fg: ${n(s).colors.foreground};
      --wf-primary: ${n(s).colors.primary};
      --wf-secondary: ${n(s).colors.secondary};
      --wf-muted: ${n(s).colors.muted};
      --wf-border: ${n(s).colors.border};
      --wf-row-bg: ${n(s).colors.rowBg};
      --wf-alt-bg: ${n(s).colors.altBg};
      --wf-interval-line: ${n(s).colors.intervalLine};
      --wf-interval-positive: ${n(s).colors.intervalPositive};
      --wf-interval-negative: ${n(s).colors.intervalNegative};
      --wf-summary-fill: ${n(s).colors.summaryFill};
      --wf-summary-border: ${n(s).colors.summaryBorder};
      --wf-accent: ${n(s).colors.accent};
      --wf-badge-success: ${Co.success};
      --wf-badge-warning: ${Co.warning};
      --wf-badge-error: ${Co.error};
      --wf-badge-info: ${Co.info};
      --wf-badge-muted: ${n(s).colors.muted};
      --wf-font-family: ${n(s).typography.fontFamily};
      --wf-font-size-sm: ${n(s).typography.fontSizeSm};
      --wf-font-size-base: ${n(s).typography.fontSizeBase};
      --wf-font-size-lg: ${n(s).typography.fontSizeLg};
      --wf-font-weight-normal: ${n(s).typography.fontWeightNormal};
      --wf-font-weight-medium: ${n(s).typography.fontWeightMedium};
      --wf-font-weight-bold: ${n(s).typography.fontWeightBold};
      --wf-line-height: ${n(s).typography.lineHeight};
      --wf-header-font-scale: ${n(s).typography.headerFontScale??1.05};
      --wf-row-height: ${n(s).spacing.rowHeight}px;
      --wf-header-height: ${n(s).spacing.headerHeight}px;
      --wf-header-row-height: ${n(s).spacing.headerHeight/n(Lt)}px;
      --wf-header-depth: ${n(Lt)};
      --wf-padding: ${n(s).spacing.padding}px;
      --wf-container-padding: ${n(s).spacing.containerPadding}px;
      --wf-cell-padding-x: ${n(s).spacing.cellPaddingX}px;
      --wf-cell-padding-y: ${n(s).spacing.cellPaddingY}px;
      --wf-axis-gap: ${n(s).spacing.axisGap??qn.DEFAULT_AXIS_GAP}px;
      --wf-axis-height: ${n(a).axisHeight}px;
      --wf-group-padding: ${n(s).spacing.groupPadding??8}px;
      --wf-column-gap: ${n(s).spacing.columnGap??8}px;
      --wf-plot-width: ${n(a).forestWidth}px;
      --wf-point-size: ${n(s).shapes.pointSize}px;
      --wf-line-width: ${n(s).shapes.lineWidth}px;
      --wf-border-radius: ${n(s).shapes.borderRadius}px;
      --wf-container-border: ${n(s).layout.containerBorder?"1px solid var(--wf-border)":"none"};
      --wf-container-border-radius: ${n(s).layout.containerBorderRadius}px;
      --wf-group-header-opacity: ${td};
      --wf-row-hover-opacity: ${ed};
      --wf-row-selected-opacity: ${nd};
      --wf-row-selected-hover-opacity: ${rd};
      --wf-actual-scale: ${n(E)};
      --wf-zoom: ${n(H)};
    `.trim():""),"cssVars");var Xr={...Ne()},yn=op();Pn("keydown",Oi,_t);let qe;var fn=Z(yn);{var Fn=M=>{var W=rp(),X=ct(W);R(()=>Wn(X,{get store(){return e.store},get enableExport(){return n(Tt)},get enableThemes(){return n(dt)},get onThemeChange(){return e.onThemeChange}}),"component",D,852,4,{componentTag:"ControlToolbar"});var q=tt(X,2);let mt;{const ce=Iu(D,function(at,Y=Fl,U=Fl){zu(...arguments);const Ht=p(m(()=>Av(Y(),U())),"cellStyle");n(Ht);var it=Mt(),Re=ct(it);{var ae=ge=>{{let Ie=m(()=>Tv(n(i),U())),ye=m(()=>{var ft;return(ft=U().options)==null?void 0:ft.bar});R(()=>yi(ge,{get value(){return Y().metadata[U().field]},get maxValue(){return n(Ie)},get options(){return n(ye)}}),"component",D,865,10,{componentTag:"CellBar"})}},ne=ge=>{var Ie=Mt(),ye=ct(Ie);{var ft=Ft=>{{let ie=m(()=>{var Ce;return(Ce=U().options)==null?void 0:Ce.pvalue});R(()=>qi(Ft,{get value(){return Y().metadata[U().field]},get options(){return n(ie)},get cellStyle(){return n(Ht)}}),"component",D,871,10,{componentTag:"CellPvalue"})}},wt=Ft=>{var ie=Mt(),Ce=ct(ie);{var dn=Wt=>{{let fe=m(()=>{var st;return(st=U().options)==null?void 0:st.sparkline});R(()=>An(Wt,{get data(){return Y().metadata[U().field]},get options(){return n(fe)}}),"component",D,877,10,{componentTag:"CellSparkline"})}},Ut=Wt=>{var fe=Mt(),st=ct(fe);{var J=Zt=>{{let xe=m(()=>{var Te;return(Te=U().options)==null?void 0:Te.icon});R(()=>Wo(Zt,{get value(){return Y().metadata[U().field]},get options(){return n(xe)}}),"component",D,882,10,{componentTag:"CellIcon"})}},Rt=Zt=>{var xe=Mt(),Te=ct(xe);{var ve=Ye=>{{let hn=m(()=>{var an;return(an=U().options)==null?void 0:an.badge});R(()=>Ro(Ye,{get value(){return Y().metadata[U().field]},get options(){return n(hn)}}),"component",D,887,10,{componentTag:"CellBadge"})}},qt=Ye=>{var hn=Mt(),an=ct(hn);{var tn=Fe=>{{let no=m(()=>{var ro;return(ro=U().options)==null?void 0:ro.stars});R(()=>Mi(Fe,{get value(){return Y().metadata[U().field]},get options(){return n(no)}}),"component",D,892,10,{componentTag:"CellStars"})}},pe=Fe=>{var no=Mt(),ro=ct(no);{var Ri=Vn=>{{let oo=m(()=>{var ao;return(ao=U().options)==null?void 0:ao.img});R(()=>Si(Vn,{get value(){return Y().metadata[U().field]},get options(){return n(oo)}}),"component",D,897,10,{componentTag:"CellImg"})}},io=Vn=>{var oo=Mt(),ao=ct(oo);{var fp=lo=>{{let xa=m(()=>{var wa;return(wa=U().options)==null?void 0:wa.reference});R(()=>Dr(lo,{get value(){return Y().metadata[U().field]},get metadata(){return Y().metadata},get options(){return n(xa)}}),"component",D,902,10,{componentTag:"CellReference"})}},up=lo=>{var xa=Mt(),wa=ct(xa);{var dp=so=>{{let ba=m(()=>{var Ma;return(Ma=U().options)==null?void 0:Ma.range});R(()=>Io(so,{get value(){return Y().metadata[U().field]},get metadata(){return Y().metadata},get options(){return n(ba)}}),"component",D,908,10,{componentTag:"CellRange"})}},hp=so=>{var ba=Mt(),Ma=ct(ba);{var gp=co=>{{let Sa=m(()=>Fo(Y().metadata[U().field],U().options));R(()=>fr(co,{get value(){return n(Sa)},get cellStyle(){return n(Ht)}}),"component",D,914,10,{componentTag:"CellContent"})}},vp=co=>{var Sa=Mt(),pp=ct(Sa);{var mp=fo=>{{let Ii=m(()=>pl(Y(),U().options));R(()=>fr(fo,{get value(){return n(Ii)},get cellStyle(){return n(Ht)}}),"component",D,916,10,{componentTag:"CellContent"})}},_p=fo=>{var Ii=Mt(),yp=ct(Ii);{var xp=uo=>{{let El=m(()=>{var Zc,Kc,Jc,Qc,$c,tf;return ml((Kc=(Zc=U().options)==null?void 0:Zc.interval)!=null&&Kc.point?Y().metadata[U().options.interval.point]:void 0,(Qc=(Jc=U().options)==null?void 0:Jc.interval)!=null&&Qc.lower?Y().metadata[U().options.interval.lower]:void 0,(tf=($c=U().options)==null?void 0:$c.interval)!=null&&tf.upper?Y().metadata[U().options.interval.upper]:void 0,U().options)});R(()=>fr(uo,{get value(){return n(El)},get cellStyle(){return n(Ht)}}),"component",D,918,10,{componentTag:"CellContent"})}},wp=uo=>{{let El=m(()=>Y().metadata[U().field]??"");R(()=>fr(uo,{get value(){return n(El)},get cellStyle(){return n(Ht)}}),"component",D,925,10,{componentTag:"CellContent"})}};R(()=>j(yp,uo=>{w(U().type,"interval")?uo(xp):uo(wp,!1)},!0),"if",D,917,8)}I(fo,Ii)};R(()=>j(pp,fo=>{var Ii;w(U().type,"custom")&&((Ii=U().options)!=null&&Ii.events)?fo(mp):fo(_p,!1)},!0),"if",D,915,8)}I(co,Sa)};R(()=>j(Ma,co=>{w(U().type,"numeric")?co(gp):co(vp,!1)},!0),"if",D,913,8)}I(so,ba)};R(()=>j(wa,so=>{w(U().type,"range")?so(dp):so(hp,!1)},!0),"if",D,907,8)}I(lo,xa)};R(()=>j(ao,lo=>{w(U().type,"reference")?lo(fp):lo(up,!1)},!0),"if",D,901,8)}I(Vn,oo)};R(()=>j(ro,Vn=>{w(U().type,"img")?Vn(Ri):Vn(io,!1)},!0),"if",D,896,8)}I(Fe,no)};R(()=>j(an,Fe=>{w(U().type,"stars")?Fe(tn):Fe(pe,!1)},!0),"if",D,891,8)}I(Ye,hn)};R(()=>j(Te,Ye=>{w(U().type,"badge")?Ye(ve):Ye(qt,!1)},!0),"if",D,886,8)}I(Zt,xe)};R(()=>j(st,Zt=>{w(U().type,"icon")?Zt(J):Zt(Rt,!1)},!0),"if",D,881,8)}I(Wt,fe)};R(()=>j(Ce,Wt=>{w(U().type,"sparkline")?Wt(dn):Wt(Ut,!1)},!0),"if",D,876,8)}I(Ft,ie)};R(()=>j(ye,Ft=>{w(U().type,"pvalue")?Ft(ft):Ft(wt,!1)},!0),"if",D,870,8)}I(ge,Ie)};R(()=>j(Re,ge=>{w(U().type,"bar")?ge(ae):ge(ne,!1)}),"if",D,864,8)}I(at,it)});var Et=Z(q);{var Ot=at=>{{let Y=m(()=>{var Ht;return(Ht=n(r).labels)==null?void 0:Ht.title}),U=m(()=>{var Ht;return(Ht=n(r).labels)==null?void 0:Ht.subtitle});R(()=>Jn(at,{get title(){return n(Y)},get subtitle(){return n(U)}}),"component",D,858,8,{componentTag:"PlotHeader"})}};R(()=>j(Et,at=>{n(x)&&at(Ot)}),"if",D,857,6)}var xt=tt(Et,2);let Xt,un;var bt=Z(xt);let vr;var Pt=Z(bt),zt=Z(Pt),Le=tt(Pt,2);{var Dt=at=>{var Y=Hv();Y.__pointerdown=U=>ze(U,"__label__",n(N).__label__??150),I(at,Y)};R(()=>j(Le,at=>{var Y;(Y=n(r))!=null&&Y.interaction.enableResize&&at(Dt)}),"if",D,939,10)}pi(bt,at=>et(ee,at),()=>n(ee));var _e=tt(bt,2);mn(()=>n(Ge),at=>at.col.id),R(()=>Ae(_e,17,()=>n(Ge),at=>at.col.id,(at,Y)=>{var U=Mt(),Ht=ct(U);{var it=ae=>{var ne=Wv();let ge;var Ie=Z(ne),ye=Z(Ie,!0);K(()=>{ge=He(ne,"",ge,{"grid-column":`${n(Y).gridColumnStart??""} / span ${n(Y).colspan??""}`,"grid-row":`${n(Y).rowStart??""} / span ${n(Y).rowSpan??""}`}),Yt(ye,n(Y).col.header)}),I(ae,ne)},Re=ae=>{var ne=Mt(),ge=ct(ne);{var Ie=ft=>{const wt=p(m(()=>n(Y).col),"column");n(wt);const Ft=p(m(()=>{var st,J,Rt,Zt,xe,Te,ve,qt;return w(n(wt).type,"forest")?((J=(st=n(wt).options)==null?void 0:st.forest)==null?void 0:J.width)??n(a).forestWidth:w(n(wt).type,"viz_bar")?((Zt=(Rt=n(wt).options)==null?void 0:Rt.vizBar)==null?void 0:Zt.width)??n(a).forestWidth:w(n(wt).type,"viz_boxplot")?((Te=(xe=n(wt).options)==null?void 0:xe.vizBoxplot)==null?void 0:Te.width)??n(a).forestWidth:w(n(wt).type,"viz_violin")?((qt=(ve=n(wt).options)==null?void 0:ve.vizViolin)==null?void 0:qt.width)??n(a).forestWidth:n(a).forestWidth}),"vizDefaultWidth");n(Ft);var ie=Fv();let Ce;var dn=Z(ie);{var Ut=st=>{var J=Rv(),Rt=Z(J,!0);K(()=>Yt(Rt,n(wt).header)),I(st,J)};R(()=>j(dn,st=>{n(wt).header&&st(Ut)}),"if",D,977,14)}var Wt=tt(dn,2);{var fe=st=>{var J=Iv();J.__pointerdown=Rt=>ze(Rt,n(wt).id,n(N)[n(wt).id]??n(Ft)),I(st,J)};R(()=>j(Wt,st=>{var J;(J=n(r))!=null&&J.interaction.enableResize&&st(fe)}),"if",D,980,14)}na(ie,(st,J)=>je==null?void 0:je(st,J),()=>n(wt).id),K(()=>Ce=He(ie,"",Ce,{"grid-column":n(Y).gridColumnStart,"grid-row":`${n(Y).rowStart??""} / span ${n(Y).rowSpan??""}`})),I(ft,ie)},ye=ft=>{const wt=p(m(()=>n(Y).col),"column");n(wt);var Ft=Lv();let ie;var Ce=Z(Ft),dn=Z(Ce,!0);var Ut=tt(Ce,2);{var Wt=fe=>{var st=zv();st.__pointerdown=J=>ze(J,n(wt).id,n(N)[n(wt).id]??(w(typeof n(wt).width,"number")?n(wt).width:80)),I(fe,st)};R(()=>j(Ut,fe=>{var st;(st=n(r))!=null&&st.interaction.enableResize&&fe(Wt)}),"if",D,998,14)}K(()=>{ie=He(Ft,"",ie,{"grid-column":n(Y).gridColumnStart,"grid-row":`${n(Y).rowStart??""} / span ${n(Y).rowSpan??""}`,"text-align":n(wt).headerAlign??n(wt).align}),Yt(dn,n(wt).header)}),I(ft,Ft)};R(()=>j(ge,ft=>{n(Y).isForest?ft(Ie):ft(ye,!1)},!0),"if",D,959,10)}I(ae,ne)};R(()=>j(Ht,ae=>{n(Y).isGroupHeader?ae(it):ae(Re,!1)}),"if",D,950,10)}I(at,U)}),"each",D,949,8);var re=tt(_e,2);mn(()=>n(o),(at,Y)=>yt(at)),R(()=>Ae(re,19,()=>n(o),(at,Y)=>yt(at,Y),(at,Y,U)=>{const Ht=p(m(()=>w(n(Y).type,"group_header")),"isGroupHeader");n(Ht);const it=p(m(()=>n(Ht)?null:n(Y).row),"row");n(it);const Re=p(m(()=>n(Y).depth),"rowDepth");n(Re);const ae=p(m(()=>n(it)?te(n(it).id):!1),"selected");n(ae);const ne=p(m(()=>n(it)?kv(n(it).style,n(U),n(g)):""),"rowClasses");n(ne);const ge=p(m(()=>n(it)?Nv(n(it).style,n(Re)):""),"rowStyles");n(ge);const Ie=p(m(()=>{var st,J;return w((J=(st=n(it))==null?void 0:st.style)==null?void 0:J.type,"spacer")}),"isSpacerRow");n(Ie);const ye=p(m(()=>n(Lt)+1+n(U)),"gridRow");n(ye);const ft=p(m(()=>n(Ht)?ht(n(Re)+1,n(s)):void 0),"groupBg");n(ft);var wt=Ov(),Ft=ct(wt);let ie,Ce;Ft.__click=function(...st){sr(()=>n(Ht)?()=>e.store.toggleGroup(n(Y).group.id):n(it)?()=>e.store.selectRow(n(it).id):void 0,this,st,D,[1034,21])},Ft.__keydown=function(...st){sr(()=>n(Ht)?J=>(w(J.key,"Enter")||w(J.key," "))&&e.store.toggleGroup(n(Y).group.id):void 0,this,st,D,[1035,23])};var dn=Z(Ft);{var Ut=st=>{{let J=m(()=>n(Y).depth+1);R(()=>Ui(st,{get group(){return n(Y).group},get rowCount(){return n(Y).rowCount},get level(){return n(J)},get theme(){return n(s)}}),"component",D,1040,14,{componentTag:"GroupHeader"})}},Wt=st=>{var J=Mt(),Rt=ct(J);{var Zt=xe=>{var Te=Bv(),ve=ct(Te);{var qt=tn=>{var pe=Pv(),Fe=Z(pe,!0);K(()=>Yt(Fe,n(it).style.icon)),I(tn,pe)};R(()=>j(ve,tn=>{var pe;(pe=n(it).style)!=null&&pe.icon&&tn(qt)}),"if",D,1047,14)}var Ye=tt(ve),hn=tt(Ye);{var an=tn=>{var pe=Dv(),Fe=Z(pe,!0);K(()=>Yt(Fe,n(it).style.badge)),I(tn,pe)};R(()=>j(hn,tn=>{var pe;(pe=n(it).style)!=null&&pe.badge&&tn(an)}),"if",D,1049,14)}K(()=>Yt(Ye,` ${n(it).label??""} `)),I(xe,Te)};R(()=>j(Rt,xe=>{n(it)&&xe(Zt)},!0),"if",D,1046,12)}I(st,J)};R(()=>j(dn,st=>{n(Ht)?st(Ut):st(Wt,!1)}),"if",D,1039,12)}var fe=tt(Ft,2);mn(()=>n(d),st=>st.id),R(()=>Ae(fe,17,()=>n(d),st=>st.id,(st,J)=>{var Rt=Mt(),Zt=ct(Rt);{var xe=ve=>{var qt=Gv();let Ye,hn;qt.__click=function(...an){sr(()=>n(it)?()=>e.store.selectRow(n(it).id):void 0,this,an,D,[1068,25])},K(()=>{Ye=Tn(qt,1,`grid-cell data-cell plot-cell ${n(ne)??""}`,"svelte-14l8yxx",Ye,{"group-row":n(Ht),selected:n(ae),hovered:n(it)&&w(n(T),n(it).id),"spacer-row":n(Ie)}),hn=He(qt,n(ge)||void 0,hn,{"grid-row":n(ye),"background-color":n(ft)})}),Pn("mouseenter",qt,function(...an){sr(()=>n(it)?tn=>_n(n(it).id,tn):void 0,this,an,D,[1066,30])}),Pn("mouseleave",qt,function(...an){sr(()=>n(it)?()=>Qe():void 0,this,an,D,[1067,30])}),I(ve,qt)},Te=ve=>{var qt=Vv();let Ye,hn;qt.__click=function(...pe){sr(()=>n(it)?()=>e.store.selectRow(n(it).id):void 0,this,pe,D,[1085,25])};var an=Z(qt);{var tn=pe=>{R(()=>ce(pe,()=>n(it),()=>n(J)),"render",D,1088,18)};R(()=>j(an,pe=>{n(it)&&pe(tn)}),"if",D,1087,16)}K(()=>{Ye=Tn(qt,1,`grid-cell data-cell ${n(ne)??""}`,"svelte-14l8yxx",Ye,{"group-row":n(Ht),selected:n(ae),hovered:n(it)&&w(n(T),n(it).id),"spacer-row":n(Ie),"wrap-enabled":n(J).wrap}),hn=He(qt,n(ge)||void 0,hn,{"grid-row":n(ye),"background-color":n(ft),"text-align":n(J).align})}),Pn("mouseenter",qt,function(...pe){sr(()=>n(it)?Fe=>_n(n(it).id,Fe):void 0,this,pe,D,[1083,30])}),Pn("mouseleave",qt,function(...pe){sr(()=>n(it)?()=>Qe():void 0,this,pe,D,[1084,30])}),I(ve,qt)};R(()=>j(Zt,ve=>{Ct.includes(n(J).type)?ve(xe):ve(Te,!1)}),"if",D,1055,12)}I(st,Rt)}),"each",D,1054,10),K(()=>{var st,J,Rt,Zt;ie=Tn(Ft,1,`grid-cell data-cell label-cell ${n(ne)??""}`,"svelte-14l8yxx",ie,{"group-row":n(Ht),selected:n(ae),hovered:n(it)&&w(n(T),n(it).id),"spacer-row":n(Ie)}),Ce=He(Ft,n(ge)||void 0,Ce,{"grid-row":n(ye),"background-color":n(ft),"padding-left":n(Ht)?`${n(Re)*12}px`:((J=(st=n(it))==null?void 0:st.style)==null?void 0:J.indent)??n(Re)?`${(((Zt=(Rt=n(it))==null?void 0:Rt.style)==null?void 0:Zt.indent)??n(Re))*12}px`:void 0}),k(Ft,"role",n(Ht)?"button":void 0),k(Ft,"tabindex",n(Ht)?0:void 0)}),Pn("mouseenter",Ft,function(...st){sr(()=>n(it)?J=>_n(n(it).id,J):void 0,this,st,D,[1036,26])}),Pn("mouseleave",Ft,function(...st){sr(()=>n(it)?()=>Qe():void 0,this,st,D,[1037,26])}),I(at,wt)}),"each",D,1010,8);var Kt=tt(re,2);{var oe=at=>{const Y=p(m(()=>n(Lt)+1+n(o).length),"axisRowNum");n(Y);var U=Uv(),Ht=ct(U);mn(()=>n(d),ae=>ae.id),R(()=>Ae(Ht,19,()=>n(d),ae=>ae.id,(ae,ne,ge)=>{var Ie=Mt(),ye=ct(Ie);{var ft=Ft=>{var ie=Xv();let Ce;K(()=>Ce=He(ie,"",Ce,{"grid-column":2+n(ge),"grid-row":n(Y)})),I(Ft,ie)},wt=Ft=>{var ie=jv();let Ce;K(()=>Ce=He(ie,"",Ce,{"grid-column":2+n(ge),"grid-row":n(Y)})),I(Ft,ie)};R(()=>j(ye,Ft=>{Ct.includes(n(ne).type)?Ft(ft):Ft(wt,!1)}),"if",D,1099,12)}I(ae,Ie)}),"each",D,1098,10);var it=tt(Ht,2);let Re;K(()=>Re=He(it,"",Re,{"grid-column":"1","grid-row":n(Y)})),I(at,U)};R(()=>j(Kt,at=>{n(_)&&at(oe)}),"if",D,1096,8)}var kt=tt(Kt,2);mn(()=>n(h),at=>at.column.id),R(()=>Ae(kt,17,()=>n(h),at=>at.column.id,(at,Y)=>{const U=p(m(()=>{var J;return(J=n(Y).column.options)==null?void 0:J.forest}),"forestOpts");n(U);const Ht=p(m(()=>n(N)[n(Y).column.id]),"dynamicForestWidth");n(Ht);const it=p(m(()=>{var J;return w(typeof n(Ht),"number")?n(Ht):w(typeof n(Y).column.width,"number")?n(Y).column.width:((J=n(U))==null?void 0:J.width)??n(a).forestWidth}),"forestWidth");n(it);const Re=p(m(()=>n(In).get(n(Y).column.id)??0),"forestLeft");n(Re);const ae=p(m(()=>{var J;return((J=n(s))==null?void 0:J.spacing.axisGap)??qn.DEFAULT_AXIS_GAP}),"axisGap");n(ae);const ne=p(m(()=>{var J;return((J=n(U))==null?void 0:J.nullValue)??n(a).nullValue}),"nullValue");n(ne);const ge=p(m(()=>{var J;return((J=n(U))==null?void 0:J.axisLabel)??"Effect"}),"axisLabel");n(ge);const Ie=p(m(()=>{var J;return w((J=n(U))==null?void 0:J.scale,"log")}),"isLog");n(Ie);const ye=p(m(()=>n(Mn).get(n(Y).column.id)??n(l)),"colScale");n(ye);var ft=Kv();let wt;var Ft=Z(ft);k(Ft,"y1",0);var ie=tt(Ft);{var Ce=J=>{const Rt=p(m(()=>{var ve;return[...n(r).annotations??[],...((ve=n(U))==null?void 0:ve.annotations)??[]]}),"allAnnotations");n(Rt);const Zt=p(m(()=>Jt(n(Rt))),"annotationLabelOffsets");n(Zt);var xe=Mt(),Te=ct(xe);mn(()=>n(Rt),ve=>ve.id),R(()=>Ae(Te,17,()=>n(Rt),ve=>ve.id,(ve,qt)=>{var Ye=Mt(),hn=ct(Ye);{var an=tn=>{var pe=Yv(),Fe=ct(pe);k(Fe,"y1",0);var no=tt(Fe);{var ro=Ri=>{const io=p(m(()=>n(Zt)[n(qt).id]??0),"yOffset");n(io);var Vn=qv(),oo=Z(Vn,!0);K(ao=>{k(Vn,"x",ao),k(Vn,"y",-4+n(io)),k(Vn,"fill",n(qt).color??"var(--wf-secondary)"),Yt(oo,n(qt).label)},[()=>n(ye)(n(qt).x)]),I(Ri,Vn)};R(()=>j(no,Ri=>{n(qt).label&&Ri(ro)}),"if",D,1155,16)}K((Ri,io)=>{k(Fe,"x1",Ri),k(Fe,"x2",io),k(Fe,"y2",n(ut)),k(Fe,"stroke",n(qt).color??"var(--wf-accent)"),k(Fe,"stroke-width",n(qt).width??1.5),k(Fe,"stroke-opacity",n(qt).opacity??.6),k(Fe,"stroke-dasharray",w(n(qt).style,"dashed")?"6,4":w(n(qt).style,"dotted")?"2,2":"none")},[()=>n(ye)(n(qt).x),()=>n(ye)(n(qt).x)]),I(tn,pe)};R(()=>j(hn,tn=>{w(n(qt).type,"reference_line")&&tn(an)}),"if",D,1144,14)}I(ve,Ye)}),"each",D,1143,14),I(J,xe)};R(()=>j(ie,J=>{J(Ce)}),"if",D,1140,12)}var dn=tt(ie);mn(()=>n(o),(J,Rt)=>yt(J,Rt)),R(()=>Ae(dn,19,()=>n(o),(J,Rt)=>yt(J,Rt),(J,Rt,Zt)=>{var xe=Mt(),Te=ct(xe);{var ve=qt=>{const Ye=p(m(()=>n(pt).positions[n(Zt)]??n(Zt)*n(a).rowHeight),"rowY");n(Ye);const hn=p(m(()=>n(pt).heights[n(Zt)]??n(a).rowHeight),"rowH");n(hn);{let an=m(()=>n(Ye)+n(hn)/2),tn=m(()=>({...n(a),forestWidth:n(it)}));R(()=>Be(qt,{get row(){return n(Rt).row},get yPosition(){return n(an)},get xScale(){return n(ye)},get layout(){return n(tn)},get theme(){return n(s)},get clipBounds(){return n(c)},get isLog(){return n(Ie)},get weightCol(){return n(r).data.weightCol},get forestColumnOptions(){return n(U)},onRowClick:()=>e.store.selectRow(n(Rt).row.id),onRowHover:(pe,Fe)=>{e.store.setHovered(pe?n(Rt).row.id:null),pe&&Fe?e.store.setTooltip(n(Rt).row.id,{x:Fe.clientX,y:Fe.clientY}):e.store.setTooltip(null,null)}}),"component",D,1177,16,{componentTag:"RowInterval"})}};R(()=>j(Te,qt=>{w(n(Rt).type,"data")&&qt(ve)}),"if",D,1174,14)}I(J,xe)}),"each",D,1173,12);var Ut=tt(dn);{var Wt=J=>{{let Rt=m(()=>n(ut)+n(a).rowHeight/2),Zt=m(()=>({...n(a),forestWidth:n(it)}));R(()=>$r(J,{get point(){return n(r).data.overall.point},get lower(){return n(r).data.overall.lower},get upper(){return n(r).data.overall.upper},get yPosition(){return n(Rt)},get xScale(){return n(ye)},get layout(){return n(Zt)},get theme(){return n(s)}}),"component",D,1205,14,{componentTag:"SummaryDiamond"})}};R(()=>j(Ut,J=>{n(r).data.overall&&n(a).showOverallSummary&&w(typeof n(r).data.overall.point,"number")&&!Number.isNaN(n(r).data.overall.point)&&w(typeof n(r).data.overall.lower,"number")&&!Number.isNaN(n(r).data.overall.lower)&&w(typeof n(r).data.overall.upper,"number")&&!Number.isNaN(n(r).data.overall.upper)&&J(Wt)}),"if",D,1201,12)}var fe=tt(Ut);{var st=J=>{var Rt=Zv(),Zt=Z(Rt);{let xe=m(()=>({...n(a),forestWidth:n(it)}));R(()=>kn(Zt,{get xScale(){return n(ye)},get layout(){return n(xe)},get theme(){return n(s)},get axisLabel(){return n(ge)},position:"bottom",get plotHeight(){return n(a).plotHeight},get baseTicks(){return n(f).ticks}}),"component",D,1219,16,{componentTag:"EffectAxis"})}K(()=>k(Rt,"transform",`translate(0, ${n(ut)+n(ae)})`)),I(J,Rt)};R(()=>j(fe,J=>{var Rt;w((Rt=n(U))==null?void 0:Rt.showAxis,!1,!1)&&J(st)}),"if",D,1217,12)}K((J,Rt)=>{k(ft,"width",n(it)),k(ft,"height",n(ut)+n(a).axisHeight),k(ft,"viewBox",`0 0 ${n(it)??""} ${n(ut)+n(a).axisHeight}`),wt=He(ft,"",wt,{top:`${n(Ve)??""}px`,left:`${n(Re)??""}px`}),k(Ft,"x1",J),k(Ft,"x2",Rt),k(Ft,"y2",n(ut))},[()=>n(ye)(n(ne)),()=>n(ye)(n(ne))]),I(at,ft)}),"each",D,1110,8);var lt=tt(kt,2);mn(()=>n(v).filter(at=>w(at.column.type,"viz_bar")),at=>at.column.id),R(()=>Ae(lt,17,()=>n(v).filter(at=>w(at.column.type,"viz_bar")),at=>at.column.id,(at,Y)=>{const U=p(m(()=>{var ft;return(ft=n(Y).column.options)==null?void 0:ft.vizBar}),"vizOpts");n(U);const Ht=p(m(()=>n(N)[n(Y).column.id]),"dynamicVizWidth");n(Ht);const it=p(m(()=>{var ft;return w(typeof n(Ht),"number")?n(Ht):n(Y).column.width??((ft=n(U))==null?void 0:ft.width)??n(a).forestWidth}),"vizWidth");n(it);const Re=p(m(()=>n(In).get(n(Y).column.id)??0),"vizLeft");n(Re);const ae=p(m(()=>{var ft;return((ft=n(s))==null?void 0:ft.spacing.axisGap)??qn.DEFAULT_AXIS_GAP}),"axisGap");n(ae);const ne=p(m(()=>n(Ue).get(n(Y).column.id)),"sharedScale");n(ne);var ge=Mt(),Ie=ct(ge);{var ye=ft=>{var wt=Qv();let Ft;var ie=Z(wt);mn(()=>n(o),(Ut,Wt)=>yt(Ut,Wt)),R(()=>Ae(ie,19,()=>n(o),(Ut,Wt)=>yt(Ut,Wt),(Ut,Wt,fe)=>{var st=Mt(),J=ct(st);{var Rt=Zt=>{const xe=p(m(()=>n(pt).positions[n(fe)]??n(fe)*n(a).rowHeight),"rowY");n(xe);const Te=p(m(()=>n(pt).heights[n(fe)]??n(a).rowHeight),"rowH");n(Te);{let ve=m(()=>n(xe)+n(Te)/2);R(()=>ti(Zt,{get row(){return n(Wt).row},get yPosition(){return n(ve)},get rowHeight(){return n(Te)},get width(){return n(it)},get options(){return n(U)},get theme(){return n(s)},get sharedScale(){return n(ne)}}),"component",D,1247,18,{componentTag:"VizBar"})}};R(()=>j(J,Zt=>{w(n(Wt).type,"data")&&Zt(Rt)}),"if",D,1244,16)}I(Ut,st)}),"each",D,1243,14);var Ce=tt(ie);{var dn=Ut=>{var Wt=Jv(),fe=Z(Wt);{let st=m(()=>({...n(a),forestWidth:n(it),nullValue:0})),J=m(()=>n(U).axisLabel??"Value");R(()=>kn(fe,{get xScale(){return n(ne)},get layout(){return n(st)},get theme(){return n(s)},get axisLabel(){return n(J)},position:"bottom",get plotHeight(){return n(ut)},get baseTicks(){return n(U).axisTicks},get gridlines(){return n(U).axisGridlines}}),"component",D,1262,18,{componentTag:"EffectAxis"})}K(()=>k(Wt,"transform",`translate(0, ${n(ut)+n(ae)})`)),I(Ut,Wt)};R(()=>j(Ce,Ut=>{w(n(U).showAxis,!1,!1)&&n(ne)&&Ut(dn)}),"if",D,1260,14)}K(()=>{k(wt,"width",n(it)),k(wt,"height",n(ut)+n(a).axisHeight),k(wt,"viewBox",`0 0 ${n(it)??""} ${n(ut)+n(a).axisHeight}`),Ft=He(wt,"",Ft,{top:`${n(Ve)??""}px`,left:`${n(Re)??""}px`})}),I(ft,wt)};R(()=>j(Ie,ft=>{n(U)&&ft(ye)}),"if",D,1233,10)}I(at,ge)}),"each",D,1226,8);var Qt=tt(lt,2);mn(()=>n(v).filter(at=>w(at.column.type,"viz_boxplot")),at=>at.column.id),R(()=>Ae(Qt,17,()=>n(v).filter(at=>w(at.column.type,"viz_boxplot")),at=>at.column.id,(at,Y)=>{const U=p(m(()=>{var ft;return(ft=n(Y).column.options)==null?void 0:ft.vizBoxplot}),"vizOpts");n(U);const Ht=p(m(()=>n(N)[n(Y).column.id]),"dynamicVizWidth");n(Ht);const it=p(m(()=>{var ft;return w(typeof n(Ht),"number")?n(Ht):n(Y).column.width??((ft=n(U))==null?void 0:ft.width)??n(a).forestWidth}),"vizWidth");n(it);const Re=p(m(()=>n(In).get(n(Y).column.id)??0),"vizLeft");n(Re);const ae=p(m(()=>{var ft;return((ft=n(s))==null?void 0:ft.spacing.axisGap)??qn.DEFAULT_AXIS_GAP}),"axisGap");n(ae);const ne=p(m(()=>n(Ue).get(n(Y).column.id)),"sharedScale");n(ne);var ge=Mt(),Ie=ct(ge);{var ye=ft=>{var wt=tp();let Ft;var ie=Z(wt);mn(()=>n(o),(Ut,Wt)=>yt(Ut,Wt)),R(()=>Ae(ie,19,()=>n(o),(Ut,Wt)=>yt(Ut,Wt),(Ut,Wt,fe)=>{var st=Mt(),J=ct(st);{var Rt=Zt=>{const xe=p(m(()=>n(pt).positions[n(fe)]??n(fe)*n(a).rowHeight),"rowY");n(xe);const Te=p(m(()=>n(pt).heights[n(fe)]??n(a).rowHeight),"rowH");n(Te);{let ve=m(()=>n(xe)+n(Te)/2);R(()=>dr(Zt,{get row(){return n(Wt).row},get yPosition(){return n(ve)},get rowHeight(){return n(Te)},get width(){return n(it)},get options(){return n(U)},get theme(){return n(s)},get sharedScale(){return n(ne)}}),"component",D,1300,18,{componentTag:"VizBoxplot"})}};R(()=>j(J,Zt=>{w(n(Wt).type,"data")&&Zt(Rt)}),"if",D,1297,16)}I(Ut,st)}),"each",D,1296,14);var Ce=tt(ie);{var dn=Ut=>{var Wt=$v(),fe=Z(Wt);{let st=m(()=>({...n(a),forestWidth:n(it),nullValue:0})),J=m(()=>n(U).axisLabel??"Value");R(()=>kn(fe,{get xScale(){return n(ne)},get layout(){return n(st)},get theme(){return n(s)},get axisLabel(){return n(J)},position:"bottom",get plotHeight(){return n(ut)},get baseTicks(){return n(U).axisTicks},get gridlines(){return n(U).axisGridlines}}),"component",D,1315,18,{componentTag:"EffectAxis"})}K(()=>k(Wt,"transform",`translate(0, ${n(ut)+n(ae)})`)),I(Ut,Wt)};R(()=>j(Ce,Ut=>{w(n(U).showAxis,!1,!1)&&n(ne)&&Ut(dn)}),"if",D,1313,14)}K(()=>{k(wt,"width",n(it)),k(wt,"height",n(ut)+n(a).axisHeight),k(wt,"viewBox",`0 0 ${n(it)??""} ${n(ut)+n(a).axisHeight}`),Ft=He(wt,"",Ft,{top:`${n(Ve)??""}px`,left:`${n(Re)??""}px`})}),I(ft,wt)};R(()=>j(Ie,ft=>{n(U)&&ft(ye)}),"if",D,1286,10)}I(at,ge)}),"each",D,1279,8);var he=tt(Qt,2);mn(()=>n(v).filter(at=>w(at.column.type,"viz_violin")),at=>at.column.id),R(()=>Ae(he,17,()=>n(v).filter(at=>w(at.column.type,"viz_violin")),at=>at.column.id,(at,Y)=>{const U=p(m(()=>{var ft;return(ft=n(Y).column.options)==null?void 0:ft.vizViolin}),"vizOpts");n(U);const Ht=p(m(()=>n(N)[n(Y).column.id]),"dynamicVizWidth");n(Ht);const it=p(m(()=>{var ft;return w(typeof n(Ht),"number")?n(Ht):n(Y).column.width??((ft=n(U))==null?void 0:ft.width)??n(a).forestWidth}),"vizWidth");n(it);const Re=p(m(()=>n(In).get(n(Y).column.id)??0),"vizLeft");n(Re);const ae=p(m(()=>{var ft;return((ft=n(s))==null?void 0:ft.spacing.axisGap)??qn.DEFAULT_AXIS_GAP}),"axisGap");n(ae);const ne=p(m(()=>n(Ue).get(n(Y).column.id)),"sharedScale");n(ne);var ge=Mt(),Ie=ct(ge);{var ye=ft=>{var wt=np();let Ft;var ie=Z(wt);mn(()=>n(o),(Ut,Wt)=>yt(Ut,Wt)),R(()=>Ae(ie,19,()=>n(o),(Ut,Wt)=>yt(Ut,Wt),(Ut,Wt,fe)=>{var st=Mt(),J=ct(st);{var Rt=Zt=>{const xe=p(m(()=>n(pt).positions[n(fe)]??n(fe)*n(a).rowHeight),"rowY");n(xe);const Te=p(m(()=>n(pt).heights[n(fe)]??n(a).rowHeight),"rowH");n(Te);{let ve=m(()=>n(xe)+n(Te)/2);R(()=>tr(Zt,{get row(){return n(Wt).row},get yPosition(){return n(ve)},get rowHeight(){return n(Te)},get width(){return n(it)},get options(){return n(U)},get theme(){return n(s)},get sharedScale(){return n(ne)}}),"component",D,1353,18,{componentTag:"VizViolin"})}};R(()=>j(J,Zt=>{w(n(Wt).type,"data")&&Zt(Rt)}),"if",D,1350,16)}I(Ut,st)}),"each",D,1349,14);var Ce=tt(ie);{var dn=Ut=>{var Wt=ep(),fe=Z(Wt);{let st=m(()=>({...n(a),forestWidth:n(it),nullValue:0})),J=m(()=>n(U).axisLabel??"Value");R(()=>kn(fe,{get xScale(){return n(ne)},get layout(){return n(st)},get theme(){return n(s)},get axisLabel(){return n(J)},position:"bottom",get plotHeight(){return n(ut)},get baseTicks(){return n(U).axisTicks},get gridlines(){return n(U).axisGridlines}}),"component",D,1368,18,{componentTag:"EffectAxis"})}K(()=>k(Wt,"transform",`translate(0, ${n(ut)+n(ae)})`)),I(Ut,Wt)};R(()=>j(Ce,Ut=>{w(n(U).showAxis,!1,!1)&&n(ne)&&Ut(dn)}),"if",D,1366,14)}K(()=>{k(wt,"width",n(it)),k(wt,"height",n(ut)+n(a).axisHeight),k(wt,"viewBox",`0 0 ${n(it)??""} ${n(ut)+n(a).axisHeight}`),Ft=He(wt,"",Ft,{top:`${n(Ve)??""}px`,left:`${n(Re)??""}px`})}),I(ft,wt)};R(()=>j(Ie,ft=>{n(U)&&ft(ye)}),"if",D,1339,10)}I(at,ge)}),"each",D,1332,8);var Pe=tt(xt,2);{let at=m(()=>{var U;return(U=n(r).labels)==null?void 0:U.caption}),Y=m(()=>{var U;return(U=n(r).labels)==null?void 0:U.footnote});R(()=>Lr(Pe,{get caption(){return n(at)},get footnote(){return n(Y)}}),"component",D,1386,6,{componentTag:"PlotFooter"})}pi(q,at=>et(G,at),()=>n(G)),K(()=>{Xt=Tn(xt,1,"tabviz-main svelte-14l8yxx",null,Xt,{"has-header":n(x)}),un=He(xt,"",un,{"grid-template-columns":n(de)}),vr=He(bt,"",vr,{"grid-row":`1 / span ${n(Lt)??""}`}),Yt(zt,n(y))})}var De=tt(q,2);{let ce=m(()=>{var Xt,un;return(un=(Xt=n(r))==null?void 0:Xt.interaction)==null?void 0:un.tooltipFields});R(()=>_i(De,{get row(){return n(A)},get position(){return n(z)},get fields(){return n(ce)},get theme(){return n(s)}}),"component",D,1390,4,{componentTag:"Tooltip"})}K(()=>mt=He(q,"",mt,{"margin-left":`${n(Q)??""}px`})),I(M,W)},eo=M=>{var W=ip();I(M,W)};R(()=>j(fn,M=>{n(r)?M(Fn):M(eo,!1)}),"if",D,850,2)}return pi(yn,M=>et(C,M),()=>n(C)),K(M=>{qe=Tn(yn,1,"tabviz-container svelte-14l8yxx",null,qe,{"auto-fit":n(b),"has-max-width":w(n(P),null,!1),"has-max-height":w(n(S),null,!1),zoomed:w(n(H),1,!1)}),k(yn,"data-zoom",`${M??""}%`),He(yn,`${n(Sn)??""}; ${n(b)&&n(St)>0?`height: ${n(St)}px`:""}`)},[()=>Math.round(n(E)*100)]),I(t,yn),Se(Xr)}vi(["pointerdown","click","keydown"]);function Oc(){let t=p(Nt(null),"spec"),e=p(Nt(800),"initialWidth"),r=p(Nt(400),"initialHeight"),i=p(Nt(yr(new Set)),"selectedRowIds"),o=p(Nt(yr(new Set)),"collapsedGroups"),a=p(Nt(null),"sortConfig"),l=p(Nt(null),"filterConfig"),f=p(Nt(null),"hoveredRowId"),c=p(Nt(null),"tooltipRowId"),s=p(Nt(null),"tooltipPosition"),g=p(Nt(yr({})),"columnWidths"),d=p(Nt(null),"plotWidthOverride"),u=p(Nt(1),"zoom"),h=p(Nt(!0),"autoFit"),v=p(Nt(null),"maxWidth"),_=p(Nt(null),"maxHeight"),y=p(Nt(!0),"showZoomControls"),x=p(Nt(0),"containerWidth"),A=p(Nt(0),"containerHeight"),z=p(Nt(0),"scalableNaturalWidth"),F=p(Nt(0),"scalableNaturalHeight"),T=p(Nt(null),"containerElementId");const H=p(m(()=>n(x)>0?n(x):n(e)),"effectiveWidth"),b=p(m(()=>n(A)>0?n(A):n(r)),"effectiveHeight"),E=p(m(()=>{if(!n(t))return[];let M=[...n(t).data.rows];return n(l)&&(M=ap(M,n(l))),n(a)&&(M=lp(M,n(a))),M}),"visibleRows"),P=p(m(()=>{var Le,Dt;if(!n(t))return{axisLimits:[0,1],plotRegion:[0,1],ticks:[0,.5,1]};const M=(Le=n(B)[0])==null?void 0:Le.column,X=n(B).length>0?n(d)??Math.max(n(H)*.25,200):0,q=(Dt=M==null?void 0:M.options)==null?void 0:Dt.forest,mt=(q==null?void 0:q.scale)??"linear",Et=(q==null?void 0:q.nullValue)??(w(mt,"log")?1:0),Ot=(q==null?void 0:q.effects)??[],xt=(q==null?void 0:q.point)??null,bt=(q==null?void 0:q.lower)??null,Pt=(q==null?void 0:q.upper)??null,zt={...n(t).theme.axis};return q!=null&&q.axisRange&&Array.isArray(q.axisRange)&&w(q.axisRange.length,2)&&(zt.rangeMin=q.axisRange[0],zt.rangeMax=q.axisRange[1]),q!=null&&q.axisTicks&&Array.isArray(q.axisTicks)&&(zt.tickValues=q.axisTicks),Ls({rows:n(t).data.rows,config:zt,scale:mt,nullValue:Et,forestWidth:X,pointSize:n(t).theme.shapes.pointSize,effects:Ot,pointCol:xt,lowerCol:bt,upperCol:Pt})}),"axisComputation"),S=p(m(()=>{var bt,Pt;if(!n(t))return Qn().domain([0,1]).range([0,100]);const M=(bt=n(B)[0])==null?void 0:bt.column,W=(Pt=M==null?void 0:M.options)==null?void 0:Pt.forest,X=w((W==null?void 0:W.scale)??"linear","log"),{plotRegion:q}=n(P),Et=n(B).length>0?n(d)??Math.max(n(H)*.25,200):0,Ot=mi,xt=Math.max(Et-mi,Ot+50);if(X){const zt=[Math.max(q[0],.01),Math.max(q[1],.02)];return Pr().domain(zt).range([Ot,xt])}return Qn().domain(q).range([Ot,xt])}),"xScale");function N(M){const W=[];for(const X of M)X.isGroup?W.push(...N(X.columns)):W.push(X);return W}const C=p(m(()=>n(t)?N(n(t).columns):[]),"allColumns"),G=p(m(()=>n(t)?n(t).columns:[]),"allColumnDefs"),B=p(m(()=>{if(!n(t))return[];const M=[],W=n(C);for(let X=0;X<W.length;X++)w(W[X].type,"forest")&&M.push({index:X,column:W[X]});return M}),"forestColumns"),rt=p(m(()=>n(B).length>0),"hasExplicitForestColumns"),nt=p(m(()=>{if(!n(t))return[];const M=[],W=n(C),X=["forest","viz_bar","viz_boxplot","viz_violin"];for(let q=0;q<W.length;q++)X.includes(W[q].type)&&M.push({index:q,column:W[q]});return M}),"vizColumns"),$=p(m(()=>n(nt).length>0),"hasVizColumns"),St=p(m(()=>{const M=new Map;if(!n(t))return M;for(const W of n(t).data.groups)M.set(W.id,W);return M}),"groupMap"),Q=p(m(()=>{const M=new Map;if(!n(t))return M;for(const W of n(t).data.groups)M.set(W.id,W.depth);return M}),"groupDepthMap");function Tt(M){return M?(n(Q).get(M)??0)+1:0}function dt(M){if(!M)return!1;let W=M;for(;W;){const X=n(St).get(W);if(!X)break;if(X.parentId&&n(o).has(X.parentId))return!0;W=X.parentId}return!1}const _t=p(m(()=>{var Ot;if(!n(t))return[];const M=[],W=new Map;for(const xt of n(E)){const bt=xt.groupId??null;W.has(bt)||W.set(bt,[]),W.get(bt).push(xt)}const X=new Set;for(const xt of W.keys()){if(!xt)continue;let bt=xt;for(;bt;)X.add(bt),bt=(Ot=n(St).get(bt))==null?void 0:Ot.parentId}function q(xt){return n(t).data.groups.filter(bt=>w(bt.parentId??null,xt)&&X.has(bt.id))}function mt(xt){var Pt;let bt=((Pt=W.get(xt))==null?void 0:Pt.length)??0;for(const zt of q(xt))bt+=mt(zt.id);return bt}function Et(xt){if(xt){const Pt=n(St).get(xt);if(!Pt||dt(xt))return;const zt=n(o).has(Pt.id),Le=mt(xt);if(M.push({type:"group_header",group:{...Pt,collapsed:zt},rowCount:Le,depth:Pt.depth}),zt)return}for(const Pt of q(xt))Et(Pt.id);const bt=W.get(xt)??[];for(const Pt of bt)M.push({type:"data",row:Pt,depth:Tt(Pt.groupId)})}return Et(null),M}),"displayRows"),pt=p(m(()=>{var oe,kt,lt;if(!n(t))return{totalWidth:n(H),totalHeight:n(b),tableWidth:300,forestWidth:400,headerHeight:36,rowHeight:28,plotHeight:300,axisHeight:32,nullValue:0,summaryYPosition:0,showOverallSummary:!1,rowPositions:[],rowHeights:[]};const M=n(t).theme.spacing.rowHeight,W=n(t).theme.spacing.headerHeight,q=32+(n(t).theme.spacing.axisGap??qn.DEFAULT_AXIS_GAP),Et=n(B).length>0?n(d)??Math.max(n(H)*.25,200):0,Ot=n(H)-Et,xt=!!n(t).data.overall,bt=[];for(const Qt of n(_t))w(Qt.type,"data")&&w((oe=Qt.row.style)==null?void 0:oe.type,"spacer")?bt.push(M/2):bt.push(M);const Pt=[];let zt=0;for(const Qt of bt)Pt.push(zt),zt+=Qt;const Le=zt+(xt?M*1.5:0),Dt=(kt=n(B)[0])==null?void 0:kt.column,_e=(lt=Dt==null?void 0:Dt.options)==null?void 0:lt.forest,re=(_e==null?void 0:_e.scale)??"linear",Kt=(_e==null?void 0:_e.nullValue)??(w(re,"log")?1:0);return{totalWidth:n(H),totalHeight:Math.max(n(b),Le+W+q+n(t).theme.spacing.padding*2),tableWidth:Ot,forestWidth:Et,headerHeight:W,rowHeight:M,plotHeight:Le,axisHeight:q,nullValue:Kt,summaryYPosition:Le-M,showOverallSummary:xt,rowPositions:Pt,rowHeights:bt}}),"layout"),ut=p(m(()=>{if(!n(t))return 800;const M=100,W=150,X=250;let q=0;for(const xt of n(C)){if(w(xt.type,"forest"))continue;const bt=n(g)[xt.id]??(w(typeof xt.width,"number")?xt.width:null)??M;q+=bt}q+=W;const Et=n(B).length>0?n(d)??X:0,Ot=n(t).theme.spacing.padding*2;return q+Et+Ot}),"naturalContentWidth"),Jt=p(m(()=>{if(n(x)<=0||n(z)<=0)return 1;const M=n(z)*n(u);return M>n(x)?n(x)/M:1}),"fitScale"),te=p(m(()=>n(h)?Math.max(.5,n(u)*n(Jt)):Math.max(.5,Math.min(2,n(u)))),"actualScale"),yt=p(m(()=>n(h)&&n(Jt)<1),"isClamped");function jt(M){et(t,{...M},!0),et(o,new Set(M.data.groups.filter(W=>W.collapsed).map(W=>W.id)),!0),We()}function We(){if(!n(t)||w(typeof document,"undefined"))return;const M=n(t).theme.typography.fontFamily;let W=n(t).theme.typography.fontSizeBase;if(w(typeof W,"string")&&(W.endsWith("rem")||W.endsWith("em"))){const X=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;W=`${parseFloat(W)*X}px`}ht(W,M),document.fonts&&document.fonts.ready&&document.fonts.ready.then(()=>{ht(W,M,!0)})}function ht(M,W,X=!1){var oe,kt;if(!n(t))return;const mt=document.createElement("canvas").getContext("2d");if(!mt)return;const Et=n(t).theme.typography.headerFontScale??1.05;let Ot=M;if(w(typeof M,"string")){const lt=M.match(/^([\d.]+)(px|rem|em)$/);lt&&(Ot=`${parseFloat(lt[1])*Et}${lt[2]}`)}const bt=`${n(t).theme.typography.fontWeightBold??600} ${Ot} ${W}`,Pt=`${M} ${W}`,zt=(n(t).theme.spacing.cellPaddingX??10)*2,Le=(n(t).theme.spacing.groupPadding??8)*2;function Dt(lt){return lt.isGroup?lt.columns.flatMap(Dt):[lt]}function _e(lt){return w(n(g)[lt.id],void 0,!1)?n(g)[lt.id]:w(typeof lt.width,"number")?lt.width:Kn.MIN}function re(lt){var De,ce;if(w(typeof lt.width,"number")||ue(lt.width,null,!1)&&w(lt.width,"auto",!1))return;let Qt=0;lt.header&&(mt.font=bt,Qt=Math.max(Qt,mt.measureText(lt.header).width)),mt.font=Pt;for(const Xt of n(t).data.rows){if(w((De=Xt.style)==null?void 0:De.type,"header")||w((ce=Xt.style)==null?void 0:ce.type,"spacer"))continue;const un=Ac(Xt,lt);un&&(Qt=Math.max(Qt,mt.measureText(un).width))}const he=Kn.VISUAL_MIN[lt.type]??Kn.MIN,Pe=Math.min(Kn.MAX,Math.max(he,Math.ceil(Qt+zt+qn.RENDERING_BUFFER)));n(g)[lt.id]=Pe}function Kt(lt){if(lt.isGroup){for(const Qt of lt.columns)Kt(Qt);if(lt.header){mt.font=bt;const Qt=mt.measureText(lt.header).width+Le+qn.RENDERING_BUFFER,he=Dt(lt),Pe=he.reduce((De,ce)=>De+_e(ce),0);if(Qt>Pe&&he.length>0){const De=Math.ceil((Qt-Pe)/he.length);for(const ce of he)n(g)[ce.id]=_e(ce)+De}}return}re(lt)}for(const lt of n(t).columns)Kt(lt);if(n(t).data.labelCol){let lt=function(Xt){let un=0;for(const vr of n(t).data.rows)w(vr.groupId,Xt)&&un++;for(const vr of n(t).data.groups)w(vr.parentId,Xt)&&(un+=lt(vr.id));return un},Qt=0;const he=new Map;for(const Xt of n(t).data.groups)he.set(Xt.id,Xt.depth);const Pe=Xt=>Xt?(he.get(Xt)??0)+1:0;n(t).data.labelHeader&&(mt.font=bt,Qt=Math.max(Qt,mt.measureText(n(t).data.labelHeader).width)),mt.font=Pt;const De=parseFloat(M);for(const Xt of n(t).data.rows)if(Xt.label){const un=Pe(Xt.groupId),vr=((oe=Xt.style)==null?void 0:oe.indent)??0,Y=(un+vr)*Ee.INDENT_PER_LEVEL;let U=mt.measureText(Xt.label).width+Y;if((kt=Xt.style)!=null&&kt.badge){const Ht=String(Xt.style.badge),it=De*Sr.FONT_SCALE;mt.font=`${it}px ${W}`;const ae=mt.measureText(Ht).width+Sr.PADDING*2;U+=Sr.GAP+ae,mt.font=Pt}Qt=Math.max(Qt,U)}mt.font=bt;for(const Xt of n(t).data.groups)if(Xt.label){const un=Xt.depth*Ee.INDENT_PER_LEVEL,vr=mt.measureText(Xt.label).width,Y=`(${lt(Xt.id)})`,U=De*.75;mt.font=`${U}px ${W}`;const Ht=mt.measureText(Y).width;mt.font=bt;const it=un+Qr.CHEVRON_WIDTH+Qr.GAP+vr+Qr.GAP+Ht+Qr.SAFETY_MARGIN;Qt=Math.max(Qt,it)}const ce=Math.min(Kn.LABEL_MAX,Math.max(Kn.MIN,Math.ceil(Qt+zt+qn.RENDERING_BUFFER)));n(g).__label__=ce}}function Lt(M,W){et(e,M,!0),et(r,W,!0)}function Ge(M){const W=new Set(n(i));W.has(M)?W.delete(M):W.add(M),et(i,W,!0)}function gt(M,W){const X=new Set(n(o));W??!X.has(M)?X.add(M):X.delete(M),et(o,X,!0)}function Ct(M,W){et(a,w(W,"none")?null:{column:M,direction:W},!0)}function de(M){et(l,M,!0)}function Je(M){et(f,M,!0)}function Xe(M,W){et(c,M,!0),et(s,W,!0)}function In(M,W){n(g)[M]=Math.max(40,W)}function ee(M){return n(g)[M]}function we(M){et(d,w(M,null)?null:Math.max(100,M),!0)}function je(){return n(d)}function Ve(M){const W=wg[M];!n(t)||!W||et(t,{...n(t),theme:W},!0)}function Ue(M){et(u,Math.max(.5,Math.min(2,M)),!0),qe()}function Mn(){et(u,1),qe()}function on(){Ue(n(u)*1.1)}function Vt(){Ue(n(u)/1.1)}function Bt(M){et(h,M,!0),qe()}function ze(){!n(x)||!n(z)||(et(u,Math.min(2,Math.max(.5,n(x)/n(z))),!0),qe())}function ir(M){et(v,M,!0),qe()}function gr(M){et(_,M,!0),qe()}function _n(M){et(y,M,!0)}function Qe(M,W){et(x,M,!0),et(A,W,!0)}function Sn(M,W){et(z,M,!0),et(F,W,!0)}function Xr(M){et(T,M,!0),M&&fn()}function yn(){return n(T)?`tabviz_zoom_${n(T)}`:null}function qe(){const M=yn();if(M)try{const W={zoom:n(u),autoFit:n(h),maxWidth:n(v),maxHeight:n(_),version:2};localStorage.setItem(M,JSON.stringify(W))}catch{}}function fn(){const M=yn();if(M)try{const W=localStorage.getItem(M);if(W){const X=JSON.parse(W);w(X.version,2)&&(et(u,X.zoom??1,!0),et(h,X.autoFit??!0,!0),et(v,X.maxWidth??null,!0),et(_,X.maxHeight??null,!0))}}catch{}}function Fn(){et(i,new Set,!0),et(o,new Set,!0),et(a,null),et(l,null),et(g,{},!0),et(d,null),et(u,1),et(h,!0),et(v,null),et(_,null),et(f,null),et(c,null),et(s,null)}const eo=p(m(()=>!n(c)||!n(t)?null:n(t).data.rows.find(M=>w(M.id,n(c)))??null),"tooltipRow");return{get spec(){return n(t)},get width(){return n(H)},get height(){return n(b)},get visibleRows(){return n(E)},get xScale(){return n(S)},get axisComputation(){return n(P)},get layout(){return n(pt)},get selectedRowIds(){return n(i)},get collapsedGroups(){return n(o)},get hoveredRowId(){return n(f)},get allColumns(){return n(C)},get allColumnDefs(){return n(G)},get forestColumns(){return n(B)},get hasExplicitForestColumns(){return n(rt)},get vizColumns(){return n(nt)},get hasVizColumns(){return n($)},get displayRows(){return n(_t)},get tooltipRow(){return n(eo)},get tooltipPosition(){return n(s)},get columnWidths(){return n(g)},get zoom(){return n(u)},get autoFit(){return n(h)},get actualScale(){return n(te)},get isClamped(){return n(yt)},get maxWidth(){return n(v)},get maxHeight(){return n(_)},get showZoomControls(){return n(y)},get naturalContentWidth(){return n(ut)},getRowDepth:Tt,getColumnWidth:ee,getPlotWidth:je,getExportDimensions(){var Le,Dt,_e,re;const M=n(S).domain(),W=[],X={},q={},mt=n(g).__label__??150;q.__label__=mt;let Et=mt;for(const Kt of n(C)){W.push(Kt.id),X[Kt.id]=Et;let oe;w(Kt.type,"forest")?oe=n(g)[Kt.id]??(w(typeof Kt.width,"number")?Kt.width:null)??((Dt=(Le=Kt.options)==null?void 0:Le.forest)==null?void 0:Dt.width)??n(pt).forestWidth:oe=n(g)[Kt.id]??(w(typeof Kt.width,"number")?Kt.width:100),q[Kt.id]=oe,Et+=oe}const Ot=[];for(const Kt of n(B)){const oe=Kt.column,kt=(_e=oe.options)==null?void 0:_e.forest,lt=q[oe.id]??n(pt).forestWidth,Qt=(kt==null?void 0:kt.scale)??"linear",he=(kt==null?void 0:kt.nullValue)??(w(Qt,"log")?1:0);Ot.push({columnId:oe.id,xPosition:X[oe.id],width:lt,xDomain:M,clipBounds:n(P).axisLimits,ticks:n(P).ticks,scale:Qt,nullValue:he,axisLabel:(kt==null?void 0:kt.axisLabel)??"Effect"})}const xt=[],bt=[];let Pt=0;for(const Kt of n(_t)){const oe=w(Kt.type,"data")&&w((re=Kt.row.style)==null?void 0:re.type,"spacer")?n(pt).rowHeight/2:n(pt).rowHeight;bt.push(Pt),xt.push(oe),Pt+=oe}const zt=n(G).some(Kt=>Kt.isGroup)?2:1;return{columnOrder:W,columnWidths:q,columnPositions:X,forestColumns:Ot,rowHeights:xt,rowPositions:bt,totalRowsHeight:Pt,headerHeight:n(pt).headerHeight,headerDepth:zt,width:n(ut)*n(u),height:(n(F)||400)*n(u),naturalWidth:Et,naturalHeight:Pt+n(pt).headerHeight+n(pt).axisHeight,forestWidth:n(pt).forestWidth*n(u),xDomain:M,clipBounds:n(P).axisLimits,scale:n(u)}},setSpec:jt,setDimensions:Lt,selectRow:Ge,toggleGroup:gt,sortBy:Ct,setFilter:de,setHovered:Je,setTooltip:Xe,setColumnWidth:In,setPlotWidth:we,setTheme:Ve,setZoom:Ue,resetZoom:Mn,zoomIn:on,zoomOut:Vt,setAutoFit:Bt,fitToWidth:ze,setMaxWidth:ir,setMaxHeight:gr,setShowZoomControls:_n,setContainerDimensions:Qe,setScalableNaturalDimensions:Sn,setContainerElementId:Xr,resetState:Fn}}function ap(t,e){return t.filter(r=>{const i=r.metadata[e.field]??r[e.field];switch(e.operator){case"eq":return w(i,e.value);case"neq":return w(i,e.value,!1);case"gt":return w(typeof i,"number")&&i>e.value;case"lt":return w(typeof i,"number")&&i<e.value;case"contains":return w(typeof i,"string")&&i.toLowerCase().includes(e.value.toLowerCase());default:return!0}})}function lp(t,e){const r=[...t],{column:i,direction:o}=e;return r.sort((a,l)=>{const f=a.metadata[i]??a[i],c=l.metadata[i]??l[i];let s=0;return w(typeof f,"number")&&w(typeof c,"number")?s=f-c:w(typeof f,"string")&&w(typeof c,"string")&&(s=f.localeCompare(c)),w(o,"desc")?-s:s}),r}const Xc=new Map,jc={updateData:(t,e)=>{e.spec&&t.setSpec(e.spec)},toggleGroup:(t,e)=>{t.toggleGroup(e.groupId,e.collapsed)},applyFilter:(t,e)=>{t.setFilter(e.filter)},clearFilter:t=>{t.setFilter(null)},sortBy:(t,e)=>{t.sortBy(e.column,e.direction)}},sp={name:"tabviz",type:"output",factory:(t,e,r)=>{let i=null;const o=Oc();return t.id&&Xc.set(t.id,o),{renderValue:a=>{o.setSpec(a),o.setDimensions(e,r),w(typeof a.zoom,"number")&&o.setZoom(a.zoom),w(typeof a.autoFit,"boolean")&&o.setAutoFit(a.autoFit),w(a.maxWidth,void 0,!1)&&o.setMaxWidth(a.maxWidth),w(a.maxHeight,void 0,!1)&&o.setMaxHeight(a.maxHeight),w(typeof a.showZoomControls,"boolean")&&o.setShowZoomControls(a.showZoomControls),t.style.height="auto",i&&Hu(i),i=Nu(D,{target:t,props:{store:o}}),window.Shiny&&t.id&&cp(t.id,o)},resize:(a,l)=>{o.setDimensions(a,l)}}}};function cp(t,e){vu(()=>{Ko(()=>{var i;const r=e.selectedRowIds;(i=window.Shiny)==null||i.setInputValue(`${t}_selected`,Array.from(r),{priority:"event"})}),Ko(()=>{var i;const r=e.hoveredRowId;(i=window.Shiny)==null||i.setInputValue(`${t}_hover`,r,{priority:"event"})})})}return w(typeof window,"undefined",!1)&&window.HTMLWidgets&&window.HTMLWidgets.widget(sp),w(typeof window,"undefined",!1)&&window.Shiny&&window.Shiny.addCustomMessageHandler("tabviz-proxy",t=>{const e=Xc.get(t.id);e&&t.method in jc&&jc[t.method](e,t.args)}),be.ForestPlot=D,be.createForestStore=Oc,Object.defineProperty(be,Symbol.toStringTag,{value:"Module"}),be})({});
