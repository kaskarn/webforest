var tabviz_split=(function(Te){"use strict";var $p=Object.defineProperty;var ff=Te=>{throw TypeError(Te)};var Zp=(Te,qe,nn)=>qe in Te?$p(Te,qe,{enumerable:!0,configurable:!0,writable:!0,value:nn}):Te[qe]=nn;var Wr=(Te,qe,nn)=>Zp(Te,typeof qe!="symbol"?qe+"":qe,nn),Is=(Te,qe,nn)=>qe.has(Te)||ff("Cannot "+nn);var j=(Te,qe,nn)=>(Is(Te,qe,"read from private field"),nn?nn.call(Te):qe.get(Te)),ce=(Te,qe,nn)=>qe.has(Te)?ff("Cannot add the same private member more than once"):qe instanceof WeakSet?qe.add(Te):qe.set(Te,nn),jt=(Te,qe,nn,za)=>(Is(Te,qe,"write to private field"),za?za.call(Te,nn):qe.set(Te,nn),nn),Ke=(Te,qe,nn)=>(Is(Te,qe,"access private method"),nn);var tf,ef,ei,ni,Ao,Ho,Oi,ri,oi,un,Ls,Ui,Fs,uf,df,or,ir,Rs,Tr,Wo,Nr,ar,In,Ar,jr,ao,Ro,so,zo,qr,Ea,an,Kp,Qp,Ps,Wa,Ra,Ds,mr,Hr,qn,Io,ji,qi,ka,nf;const pn=Symbol(),D=Symbol("filename"),hf="http://www.w3.org/1999/xhtml",Bs=(ef=(tf=globalThis.process)==null?void 0:tf.env)==null?void 0:ef.NODE_ENV,ht=Bs&&!Bs.toLowerCase().startsWith("prod");var pi=Array.isArray,gf=Array.prototype.indexOf,Xi=Array.from,lo=Object.defineProperty,Po=Object.getOwnPropertyDescriptor,Gs=Object.getOwnPropertyDescriptors,Vs=Object.prototype,vf=Array.prototype,Yi=Object.getPrototypeOf,Os=Object.isExtensible;const mi=()=>{};function pf(t){for(var e=0;e<t.length;e++)t[e]()}function js(){var t,e,r=new Promise((o,i)=>{t=o,e=i});return{promise:r,resolve:t,reject:e}}function Ia(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const r=[];for(const o of t)if(r.push(o),r.length===e)break;return r}const cn=2,La=4,Fa=8,mf=1<<24,Rr=16,zr=32,Xr=64,$i=128,lr=512,mn=1024,Cn=2048,xr=4096,Pn=8192,Yr=16384,Pa=32768,co=65536,Zi=1<<17,qs=1<<18,fo=1<<19,_f=1<<20,Ir=1<<25,$r=32768,Da=1<<21,Ki=1<<22,Zr=1<<23,wr=Symbol("$state"),yf=Symbol(""),Us=Symbol("proxy path"),Do=new class extends Error{constructor(){super(...arguments);Wr(this,"name","StaleReactionError");Wr(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}},xf=1,wf=11;function Xs(){if(ht){const t=new Error("invalid_snippet_arguments\nA snippet function was passed invalid arguments. Snippets should only be instantiated via `{@render ...}`\nhttps://svelte.dev/e/invalid_snippet_arguments");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/invalid_snippet_arguments")}function bf(){if(ht){const t=new Error("snippet_without_render_tag\nAttempted to render a snippet without a `{@render}` block. This would cause the snippet code to be stringified instead of its content being rendered to the DOM. To fix this, change `{snippet}` to `{@render snippet()}`.\nhttps://svelte.dev/e/snippet_without_render_tag");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/snippet_without_render_tag")}function Mf(){if(ht){const t=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/async_derived_orphan")}function Sf(t,e){if(ht){const r=new Error(`component_api_changed
Calling \`${t}\` on a component instance (of ${e}) is no longer valid in Svelte 5
https://svelte.dev/e/component_api_changed`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/component_api_changed")}function Ef(t,e){if(ht){const r=new Error(`component_api_invalid_new
Attempted to instantiate ${t} with \`new ${e}\`, which is no longer valid in Svelte 5. If this component is not under your control, set the \`compatibility.componentApi\` compiler option to \`4\` to keep it working.
https://svelte.dev/e/component_api_invalid_new`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/component_api_invalid_new")}function kf(){if(ht){const t=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/derived_references_self")}function Cf(t,e,r){if(ht){const o=new Error(`each_key_duplicate
${r?`Keyed each block has duplicate key \`${r}\` at indexes ${t} and ${e}`:`Keyed each block has duplicate key at indexes ${t} and ${e}`}
https://svelte.dev/e/each_key_duplicate`);throw o.name="Svelte error",o}else throw new Error("https://svelte.dev/e/each_key_duplicate")}function Tf(t){if(ht){const e=new Error(`effect_in_teardown
\`${t}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function Nf(){if(ht){const t=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Af(t){if(ht){const e=new Error(`effect_orphan
\`${t}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_orphan")}function Hf(){if(ht){const t=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Wf(){if(ht){const t=new Error("invalid_snippet\nCould not `{@render}` snippet due to the expression being `null` or `undefined`. Consider using optional chaining `{@render snippet?.()}`\nhttps://svelte.dev/e/invalid_snippet");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/invalid_snippet")}function Rf(t){if(ht){const e=new Error(`rune_outside_svelte
The \`${t}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function zf(){if(ht){const t=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function If(){if(ht){const t=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Lf(){if(ht){const t=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ff(){if(ht){const t=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}var uo="font-weight: bold",ho="font-weight: normal";function Pf(t){ht?console.warn(`%c[svelte] console_log_state
%cYour \`console.${t}\` contained \`$state\` proxies. Consider using \`$inspect(...)\` or \`$state.snapshot(...)\` instead
https://svelte.dev/e/console_log_state`,uo,ho):console.warn("https://svelte.dev/e/console_log_state")}function Df(t,e){ht?console.warn(`%c[svelte] event_handler_invalid
%c${t} should be a function. Did you mean to ${e}?
https://svelte.dev/e/event_handler_invalid`,uo,ho):console.warn("https://svelte.dev/e/event_handler_invalid")}function Bf(){ht?console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,uo,ho):console.warn("https://svelte.dev/e/lifecycle_double_unmount")}function Gf(){ht?console.warn("%c[svelte] select_multiple_invalid_value\n%cThe `value` property of a `<select multiple>` element should be an array, but it received a non-array value. The selection will be kept as is.\nhttps://svelte.dev/e/select_multiple_invalid_value",uo,ho):console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function _i(t){ht?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${t}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,uo,ho):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}function Vf(){ht?console.warn(`%c[svelte] state_proxy_unmount
%cTried to unmount a state proxy, rather than a component
https://svelte.dev/e/state_proxy_unmount`,uo,ho):console.warn("https://svelte.dev/e/state_proxy_unmount")}function Of(){ht?console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",uo,ho):console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function r0(t){}function Ys(t){return t===this.v}function $s(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Zs(t){return!$s(t,this.v)}let jf=!1;var qf="font-weight: bold",Uf="font-weight: normal";function Ks(t){ht?console.warn(`%c[svelte] state_snapshot_uncloneable
%c${t?`The following properties cannot be cloned with \`$state.snapshot\` — the return value contains the originals:

${t}`:"Value cannot be cloned with `$state.snapshot` — the original value was returned"}
https://svelte.dev/e/state_snapshot_uncloneable`,qf,Uf):console.warn("https://svelte.dev/e/state_snapshot_uncloneable")}const Xf=[];function Yf(t,e=!1,r=!1){if(ht&&!e){const o=[],i=yi(t,new Map,"",o,null,r);if(o.length===1&&o[0]==="")Ks();else if(o.length>0){const a=o.length>10?o.slice(0,7):o.slice(0,10),l=o.length-a.length;let c=a.map(f=>`- <value>${f}`).join(`
`);l>0&&(c+=`
- ...and ${l} more`),Ks(c)}return i}return yi(t,new Map,"",Xf,null,r)}function yi(t,e,r,o,i=null,a=!1){if(typeof t=="object"&&t!==null){var l=e.get(t);if(l!==void 0)return l;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(pi(t)){var c=Array(t.length);e.set(t,c),i!==null&&e.set(i,c);for(var f=0;f<t.length;f+=1){var s=t[f];f in t&&(c[f]=yi(s,e,ht?`${r}[${f}]`:r,o,null,a))}return c}if(Yi(t)===Vs){c={},e.set(t,c),i!==null&&e.set(i,c);for(var h in t)c[h]=yi(t[h],e,ht?`${r}.${h}`:r,o,null,a);return c}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function"&&!a)return yi(t.toJSON(),e,ht?`${r}.toJSON()`:r,o,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return ht&&o.push(r),t}}function p(t,e){return t.label=e,Qs(t.v,e),t}function Qs(t,e){var r;return(r=t==null?void 0:t[Us])==null||r.call(t,e),t}function $f(t){const e=new Error,r=Zf();return r.length===0?null:(r.unshift(`
`),lo(e,"stack",{value:r.join(`
`)}),lo(e,"name",{value:t}),e)}function Zf(){const t=Error.stackTraceLimit;Error.stackTraceLimit=1/0;const e=new Error().stack;if(Error.stackTraceLimit=t,!e)return[];const r=e.split(`
`),o=[];for(let i=0;i<r.length;i++){const a=r[i],l=a.replaceAll("\\","/");if(a.trim()!=="Error"){if(a.includes("validate_each_keys"))return[];l.includes("svelte/src/internal")||l.includes("node_modules/.vite")||o.push(a)}}return o}let tn=null;function Bo(t){tn=t}let Lr=null;function Qi(t){Lr=t}function z(t,e,r,o,i,a){const l=Lr;Lr={type:e,file:r[D],line:o,column:i,parent:l,...a};try{return t()}finally{Lr=l}}let Go=null;function Ji(t){Go=t}function _e(t,e=!1,r){tn={p:tn,i:!1,c:null,e:null,s:t,x:null,l:null},ht&&(tn.function=r,Go=r)}function ye(t){var e=tn,r=e.e;if(r!==null){e.e=null;for(var o of r)gl(o)}return t!==void 0&&(e.x=t),e.i=!0,tn=e.p,ht&&(Go=(tn==null?void 0:tn.function)??null),t??{}}function Js(){return!0}let go=[];function tl(){var t=go;go=[],pf(t)}function Vo(t){if(go.length===0&&!xi){var e=go;queueMicrotask(()=>{e===go&&tl()})}go.push(t)}function Kf(){for(;go.length>0;)tl()}const Ba=new WeakMap;function el(t){var e=xe;if(e===null)return te.f|=Zr,t;if(ht&&t instanceof Error&&!Ba.has(t)&&Ba.set(t,Qf(t,e)),(e.f&Pa)===0){if((e.f&$i)===0)throw ht&&!e.parent&&t instanceof Error&&nl(t),t;e.b.error(t)}else Oo(t,e)}function Oo(t,e){for(;e!==null;){if((e.f&$i)!==0)try{e.b.error(t);return}catch(r){t=r}e=e.parent}throw ht&&t instanceof Error&&nl(t),t}function Qf(t,e){var l,c,f;const r=Po(t,"message");if(!(r&&!r.configurable)){for(var o=Xa?"  ":"	",i=`
${o}in ${((l=e.fn)==null?void 0:l.name)||"<unknown>"}`,a=e.ctx;a!==null;)i+=`
${o}in ${(c=a.function)==null?void 0:c[D].split("/").pop()}`,a=a.p;return{message:t.message+`
${i}
`,stack:(f=t.stack)==null?void 0:f.split(`
`).filter(s=>!s.includes("svelte/src/internal")).join(`
`)}}}function nl(t){const e=Ba.get(t);e&&(lo(t,"message",{value:e.message}),lo(t,"stack",{value:e.stack}))}const ta=new Set;let fe=null,Qe=null,Xn=[],ea=null,Ga=!1,xi=!1;const Sa=class Sa{constructor(){ce(this,un);Wr(this,"committed",!1);Wr(this,"current",new Map);Wr(this,"previous",new Map);ce(this,ei,new Set);ce(this,ni,new Set);ce(this,Ao,0);ce(this,Ho,0);ce(this,Oi,null);ce(this,ri,new Set);ce(this,oi,new Set);Wr(this,"skipped_effects",new Set);Wr(this,"is_fork",!1)}is_deferred(){return this.is_fork||j(this,Ho)>0}process(e){var o;Xn=[],this.apply();var r={parent:null,effect:null,effects:[],render_effects:[]};for(const i of e)Ke(this,un,Ls).call(this,i,r);this.is_fork||Ke(this,un,uf).call(this),this.is_deferred()?(Ke(this,un,Ui).call(this,r.effects),Ke(this,un,Ui).call(this,r.render_effects)):(fe=null,ol(r.render_effects),ol(r.effects),(o=j(this,Oi))==null||o.resolve()),Qe=null}capture(e,r){this.previous.has(e)||this.previous.set(e,r),(e.f&Zr)===0&&(this.current.set(e,e.v),Qe==null||Qe.set(e,e.v))}activate(){fe=this,this.apply()}deactivate(){fe===this&&(fe=null,Qe=null)}flush(){if(this.activate(),Xn.length>0){if(rl(),fe!==null&&fe!==this)return}else j(this,Ao)===0&&this.process([]);this.deactivate()}discard(){for(const e of j(this,ni))e(this);j(this,ni).clear()}increment(e){jt(this,Ao,j(this,Ao)+1),e&&jt(this,Ho,j(this,Ho)+1)}decrement(e){jt(this,Ao,j(this,Ao)-1),e&&jt(this,Ho,j(this,Ho)-1),this.revive()}revive(){for(const e of j(this,ri))j(this,oi).delete(e),_n(e,Cn),vo(e);for(const e of j(this,oi))_n(e,xr),vo(e);this.flush()}oncommit(e){j(this,ei).add(e)}ondiscard(e){j(this,ni).add(e)}settled(){return(j(this,Oi)??jt(this,Oi,js())).promise}static ensure(){if(fe===null){const e=fe=new Sa;ta.add(fe),xi||Sa.enqueue(()=>{fe===e&&e.flush()})}return fe}static enqueue(e){Vo(e)}apply(){}};ei=new WeakMap,ni=new WeakMap,Ao=new WeakMap,Ho=new WeakMap,Oi=new WeakMap,ri=new WeakMap,oi=new WeakMap,un=new WeakSet,Ls=function(e,r){var h;e.f^=mn;for(var o=e.first;o!==null;){var i=o.f,a=(i&(zr|Xr))!==0,l=a&&(i&mn)!==0,c=l||(i&Pn)!==0||this.skipped_effects.has(o);if((o.f&$i)!==0&&((h=o.b)!=null&&h.is_pending())&&(r={parent:r,effect:o,effects:[],render_effects:[]}),!c&&o.fn!==null){a?o.f^=mn:(i&La)!==0?r.effects.push(o):Ci(o)&&((o.f&Rr)!==0&&j(this,ri).add(o),Ti(o));var f=o.first;if(f!==null){o=f;continue}}var s=o.parent;for(o=o.next;o===null&&s!==null;)s===r.effect&&(Ke(this,un,Ui).call(this,r.effects),Ke(this,un,Ui).call(this,r.render_effects),r=r.parent),o=s.next,s=s.parent}},Ui=function(e){for(const r of e)(r.f&Cn)!==0?j(this,ri).add(r):(r.f&xr)!==0&&j(this,oi).add(r),Ke(this,un,Fs).call(this,r.deps),_n(r,mn)},Fs=function(e){if(e!==null)for(const r of e)(r.f&cn)===0||(r.f&$r)===0||(r.f^=$r,Ke(this,un,Fs).call(this,r.deps))},uf=function(){if(j(this,Ho)===0){for(const e of j(this,ei))e();j(this,ei).clear()}j(this,Ao)===0&&Ke(this,un,df).call(this)},df=function(){var a;if(ta.size>1){this.previous.clear();var e=Qe,r=!0,o={parent:null,effect:null,effects:[],render_effects:[]};for(const l of ta){if(l===this){r=!1;continue}const c=[];for(const[s,h]of this.current){if(l.current.has(s))if(r&&h!==l.current.get(s))l.current.set(s,h);else continue;c.push(s)}if(c.length===0)continue;const f=[...l.current.keys()].filter(s=>!this.current.has(s));if(f.length>0){var i=Xn;Xn=[];const s=new Set,h=new Map;for(const d of c)il(d,f,s,h);if(Xn.length>0){fe=l,l.apply();for(const d of Xn)Ke(a=l,un,Ls).call(a,d,o);l.deactivate()}Xn=i}}fe=null,Qe=e}this.committed=!0,ta.delete(this)};let br=Sa;function Jf(t){var e=xi;xi=!0;try{for(var r;;){if(Kf(),Xn.length===0&&(fe==null||fe.flush(),Xn.length===0))return ea=null,r;rl()}}finally{xi=e}}function rl(){var t=yo;Ga=!0;var e=ht?new Set:null;try{var r=0;for(oa(!0);Xn.length>0;){var o=br.ensure();if(r++>1e3){if(ht){var i=new Map;for(const l of o.current.keys())for(const[c,f]of l.updated??[]){var a=i.get(c);a||(a={error:f.error,count:0},i.set(c,a)),a.count+=f.count}for(const l of i.values())l.error&&console.error(l.error)}tu()}if(o.process(Xn),Kr.clear(),ht)for(const l of o.current.keys())e.add(l)}}finally{if(Ga=!1,oa(t),ea=null,ht)for(const l of e)l.updated=null}}function tu(){try{Hf()}catch(t){ht&&lo(t,"stack",{value:""}),Oo(t,ea)}}let cr=null;function ol(t){var e=t.length;if(e!==0){for(var r=0;r<e;){var o=t[r++];if((o.f&(Yr|Pn))===0&&Ci(o)&&(cr=new Set,Ti(o),o.deps===null&&o.first===null&&o.nodes===null&&(o.teardown===null&&o.ac===null?_l(o):o.fn=null),(cr==null?void 0:cr.size)>0)){Kr.clear();for(const i of cr){if((i.f&(Yr|Pn))!==0)continue;const a=[i];let l=i.parent;for(;l!==null;)cr.has(l)&&(cr.delete(l),a.push(l)),l=l.parent;for(let c=a.length-1;c>=0;c--){const f=a[c];(f.f&(Yr|Pn))===0&&Ti(f)}}cr.clear()}}cr=null}}function il(t,e,r,o){if(!r.has(t)&&(r.add(t),t.reactions!==null))for(const i of t.reactions){const a=i.f;(a&cn)!==0?il(i,e,r,o):(a&(Ki|Rr))!==0&&(a&Cn)===0&&al(i,e,o)&&(_n(i,Cn),vo(i))}}function al(t,e,r){const o=r.get(t);if(o!==void 0)return o;if(t.deps!==null)for(const i of t.deps){if(e.includes(i))return!0;if((i.f&cn)!==0&&al(i,e,r))return r.set(i,!0),!0}return r.set(t,!1),!1}function vo(t){for(var e=ea=t;e.parent!==null;){e=e.parent;var r=e.f;if(Ga&&e===xe&&(r&Rr)!==0&&(r&qs)===0)return;if((r&(Xr|zr))!==0){if((r&mn)===0)return;e.f^=mn}}Xn.push(e)}function eu(t){let e=0,r=po(0),o;return ht&&p(r,"createSubscriber version"),()=>{Mi()&&(n(r),ra(()=>(e===0&&(o=aa(()=>t(()=>wi(r)))),e+=1,()=>{Vo(()=>{e-=1,e===0&&(o==null||o(),o=void 0,wi(r))})})))}}var nu=co|fo|$i;function ru(t,e,r){new ou(t,e,r)}class ou{constructor(e,r,o){ce(this,an);Wr(this,"parent");ce(this,or,!1);ce(this,ir);ce(this,Rs,null);ce(this,Tr);ce(this,Wo);ce(this,Nr);ce(this,ar,null);ce(this,In,null);ce(this,Ar,null);ce(this,jr,null);ce(this,ao,null);ce(this,Ro,0);ce(this,so,0);ce(this,zo,!1);ce(this,qr,null);ce(this,Ea,eu(()=>(jt(this,qr,po(j(this,Ro))),ht&&p(j(this,qr),"$effect.pending()"),()=>{jt(this,qr,null)})));jt(this,ir,e),jt(this,Tr,r),jt(this,Wo,o),this.parent=xe.b,jt(this,or,!!j(this,Tr).pending),jt(this,Nr,Ei(()=>{xe.b=this;{var i=Ke(this,an,Ps).call(this);try{jt(this,ar,Yn(()=>o(i)))}catch(a){this.error(a)}j(this,so)>0?Ke(this,an,Ra).call(this):jt(this,or,!1)}return()=>{var a;(a=j(this,ao))==null||a.remove()}},nu))}is_pending(){return j(this,or)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!j(this,Tr).pending}update_pending_count(e){Ke(this,an,Ds).call(this,e),jt(this,Ro,j(this,Ro)+e),j(this,qr)&&qo(j(this,qr),j(this,Ro))}get_effect_pending(){return j(this,Ea).call(this),n(j(this,qr))}error(e){var r=j(this,Tr).onerror;let o=j(this,Tr).failed;if(j(this,zo)||!r&&!o)throw e;j(this,ar)&&(bn(j(this,ar)),jt(this,ar,null)),j(this,In)&&(bn(j(this,In)),jt(this,In,null)),j(this,Ar)&&(bn(j(this,Ar)),jt(this,Ar,null));var i=!1,a=!1;const l=()=>{if(i){Of();return}i=!0,a&&Ff(),br.ensure(),jt(this,Ro,0),j(this,Ar)!==null&&_o(j(this,Ar),()=>{jt(this,Ar,null)}),jt(this,or,this.has_pending_snippet()),jt(this,ar,Ke(this,an,Wa).call(this,()=>(jt(this,zo,!1),Yn(()=>j(this,Wo).call(this,j(this,ir)))))),j(this,so)>0?Ke(this,an,Ra).call(this):jt(this,or,!1)};var c=te;try{Tn(null),a=!0,r==null||r(e,l),a=!1}catch(f){Oo(f,j(this,Nr)&&j(this,Nr).parent)}finally{Tn(c)}o&&Vo(()=>{jt(this,Ar,Ke(this,an,Wa).call(this,()=>{br.ensure(),jt(this,zo,!0);try{return Yn(()=>{o(j(this,ir),()=>e,()=>l)})}catch(f){return Oo(f,j(this,Nr).parent),null}finally{jt(this,zo,!1)}}))})}}or=new WeakMap,ir=new WeakMap,Rs=new WeakMap,Tr=new WeakMap,Wo=new WeakMap,Nr=new WeakMap,ar=new WeakMap,In=new WeakMap,Ar=new WeakMap,jr=new WeakMap,ao=new WeakMap,Ro=new WeakMap,so=new WeakMap,zo=new WeakMap,qr=new WeakMap,Ea=new WeakMap,an=new WeakSet,Kp=function(){try{jt(this,ar,Yn(()=>j(this,Wo).call(this,j(this,ir))))}catch(e){this.error(e)}jt(this,or,!1)},Qp=function(){const e=j(this,Tr).pending;e&&(jt(this,In,Yn(()=>e(j(this,ir)))),br.enqueue(()=>{var r=Ke(this,an,Ps).call(this);jt(this,ar,Ke(this,an,Wa).call(this,()=>(br.ensure(),Yn(()=>j(this,Wo).call(this,r))))),j(this,so)>0?Ke(this,an,Ra).call(this):(_o(j(this,In),()=>{jt(this,In,null)}),jt(this,or,!1))}))},Ps=function(){var e=j(this,ir);return j(this,or)&&(jt(this,ao,Qr()),j(this,ir).before(j(this,ao)),e=j(this,ao)),e},Wa=function(e){var r=xe,o=te,i=tn;ur(j(this,Nr)),Tn(j(this,Nr)),Bo(j(this,Nr).ctx);try{return e()}catch(a){return el(a),null}finally{ur(r),Tn(o),Bo(i)}},Ra=function(){const e=j(this,Tr).pending;j(this,ar)!==null&&(jt(this,jr,document.createDocumentFragment()),j(this,jr).append(j(this,ao)),wl(j(this,ar),j(this,jr))),j(this,In)===null&&jt(this,In,Yn(()=>e(j(this,ir))))},Ds=function(e){var r;if(!this.has_pending_snippet()){this.parent&&Ke(r=this.parent,an,Ds).call(r,e);return}jt(this,so,j(this,so)+e),j(this,so)===0&&(jt(this,or,!1),j(this,In)&&_o(j(this,In),()=>{jt(this,In,null)}),j(this,jr)&&(j(this,ir).before(j(this,jr)),jt(this,jr,null)))};function iu(t,e,r,o){const i=Va;if(r.length===0&&t.length===0){o(e.map(i));return}var a=fe,l=xe,c=au();function f(){Promise.all(r.map(s=>cu(s))).then(s=>{c();try{o([...e.map(i),...s])}catch(h){(l.f&Yr)===0&&Oo(h,l)}a==null||a.deactivate(),na()}).catch(s=>{Oo(s,l)})}t.length>0?Promise.all(t).then(()=>{c();try{return f()}finally{a==null||a.deactivate(),na()}}):f()}function au(){var t=xe,e=te,r=tn,o=fe;if(ht)var i=Lr;return function(l=!0){ur(t),Tn(e),Bo(r),l&&(o==null||o.activate()),ht&&Qi(i)}}async function su(t){var e=await t;return()=>e}function na(){ur(null),Tn(null),Bo(null),ht&&Qi(null)}const lu=new Set;function Va(t){var e=cn|Cn,r=te!==null&&(te.f&cn)!==0?te:null;return xe!==null&&(xe.f|=fo),{ctx:tn,deps:null,effects:null,equals:Ys,f:e,fn:t,reactions:null,rv:0,v:pn,wv:0,parent:r??xe,ac:null}}function cu(t,e){let r=xe;r===null&&Mf();var o=r.b,i=void 0,a=po(pn),l=!te,c=new Map;return Eu(()=>{var u;var f=js();i=f.promise;try{Promise.resolve(t()).then(f.resolve,f.reject).then(()=>{s===fe&&s.committed&&s.deactivate(),na()})}catch(g){f.reject(g),na()}var s=fe;if(l){var h=!o.is_pending();o.update_pending_count(1),s.increment(h),(u=c.get(s))==null||u.reject(Do),c.delete(s),c.set(s,f)}const d=(g,v=void 0)=>{if(s.activate(),v)v!==Do&&(a.f|=Zr,qo(a,v));else{(a.f&Zr)!==0&&(a.f^=Zr),qo(a,g);for(const[_,x]of c){if(c.delete(_),_===s)break;x.reject(Do)}}l&&(o.update_pending_count(-1),s.decrement(h))};f.promise.then(d,g=>d(null,g||"unknown"))}),$a(()=>{for(const f of c.values())f.reject(Do)}),ht&&(a.f|=Ki),new Promise(f=>{function s(h){function d(){h===i?f(a):s(i)}h.then(d,d)}s(i)})}function m(t){const e=Va(t);return Ml(e),e}function fu(t){const e=Va(t);return e.equals=Zs,e}function Oa(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)bn(e[r])}}let ja=[];function uu(t){for(var e=t.parent;e!==null;){if((e.f&cn)===0)return(e.f&Yr)===0?e:null;e=e.parent}return null}function qa(t){var e,r=xe;if(ur(uu(t)),ht){let o=jo;ll(new Set);try{ja.includes(t)&&kf(),ja.push(t),t.f&=~$r,Oa(t),e=Ka(t)}finally{ur(r),ll(o),ja.pop()}}else try{t.f&=~$r,Oa(t),e=Ka(t)}finally{ur(r)}return e}function sl(t){var e=qa(t);if(t.equals(e)||(fe!=null&&fe.is_fork||(t.v=e),t.wv=kl()),!Xo)if(Qe!==null)(Mi()||fe!=null&&fe.is_fork)&&Qe.set(t,e);else{var r=(t.f&lr)===0?xr:mn;_n(t,r)}}let jo=new Set;const Kr=new Map;function ll(t){jo=t}let Ua=!1;function du(){Ua=!0}function po(t,e){var r={f:0,v:t,reactions:null,equals:Ys,rv:0,wv:0};return r}function bt(t,e){const r=po(t);return Ml(r),r}function hu(t,e=!1,r=!0){const o=po(t);return e||(o.equals=Zs),o}function ot(t,e,r=!1){te!==null&&(!Sr||(te.f&Zi)!==0)&&Js()&&(te.f&(cn|Rr|Ki|Zi))!==0&&!(Mn!=null&&Mn.includes(t))&&Lf();let o=r?fr(e):e;return ht&&Qs(o,t.label),qo(t,o)}function qo(t,e){var i;if(!t.equals(e)){var r=t.v;Xo?Kr.set(t,e):Kr.set(t,r),t.v=e;var o=br.ensure();if(o.capture(t,r),ht){if(xe!==null){t.updated??(t.updated=new Map);const a=(((i=t.updated.get(""))==null?void 0:i.count)??0)+1;if(t.updated.set("",{error:null,count:a}),a>5){const l=$f("updated at");if(l!==null){let c=t.updated.get(l.stack);c||(c={error:l,count:0},t.updated.set(l.stack,c)),c.count++}}}xe!==null&&(t.set_during_effect=!0)}(t.f&cn)!==0&&((t.f&Cn)!==0&&qa(t),_n(t,(t.f&lr)!==0?mn:xr)),t.wv=kl(),fl(t,Cn),xe!==null&&(xe.f&mn)!==0&&(xe.f&(zr|Xr))===0&&($n===null?Tu([t]):$n.push(t)),!o.is_fork&&jo.size>0&&!Ua&&cl()}return e}function cl(){Ua=!1;var t=yo;oa(!0);const e=Array.from(jo);try{for(const r of e)(r.f&mn)!==0&&_n(r,xr),Ci(r)&&Ti(r)}finally{oa(t)}jo.clear()}function wi(t){ot(t,t.v+1)}function fl(t,e){var r=t.reactions;if(r!==null)for(var o=r.length,i=0;i<o;i++){var a=r[i],l=a.f;if(ht&&(l&Zi)!==0){jo.add(a);continue}var c=(l&Cn)===0;if(c&&_n(a,e),(l&cn)!==0){var f=a;Qe==null||Qe.delete(f),(l&$r)===0&&(l&lr&&(a.f|=$r),fl(f,xr))}else c&&((l&Rr)!==0&&cr!==null&&cr.add(a),vo(a))}}const gu=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function fr(t){if(typeof t!="object"||t===null||wr in t)return t;const e=Yi(t);if(e!==Vs&&e!==vf)return t;var r=new Map,o=pi(t),i=bt(0),a=xo,l=h=>{if(xo===a)return h();var d=te,u=xo;Tn(null),El(a);var g=h();return Tn(d),El(u),g};o&&(r.set("length",bt(t.length)),ht&&(t=mu(t)));var c="";let f=!1;function s(h){if(!f){f=!0,c=h,p(i,`${c} version`);for(const[d,u]of r)p(u,mo(c,d));f=!1}}return new Proxy(t,{defineProperty(h,d,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&zf();var g=r.get(d);return g===void 0?g=l(()=>{var v=bt(u.value);return r.set(d,v),ht&&typeof d=="string"&&p(v,mo(c,d)),v}):ot(g,u.value,!0),!0},deleteProperty(h,d){var u=r.get(d);if(u===void 0){if(d in h){const g=l(()=>bt(pn));r.set(d,g),wi(i),ht&&p(g,mo(c,d))}}else ot(u,pn),wi(i);return!0},get(h,d,u){var x;if(d===wr)return t;if(ht&&d===Us)return s;var g=r.get(d),v=d in h;if(g===void 0&&(!v||(x=Po(h,d))!=null&&x.writable)&&(g=l(()=>{var y=fr(v?h[d]:pn),S=bt(y);return ht&&p(S,mo(c,d)),S}),r.set(d,g)),g!==void 0){var _=n(g);return _===pn?void 0:_}return Reflect.get(h,d,u)},getOwnPropertyDescriptor(h,d){var u=Reflect.getOwnPropertyDescriptor(h,d);if(u&&"value"in u){var g=r.get(d);g&&(u.value=n(g))}else if(u===void 0){var v=r.get(d),_=v==null?void 0:v.v;if(v!==void 0&&_!==pn)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return u},has(h,d){var _;if(d===wr)return!0;var u=r.get(d),g=u!==void 0&&u.v!==pn||Reflect.has(h,d);if(u!==void 0||xe!==null&&(!g||(_=Po(h,d))!=null&&_.writable)){u===void 0&&(u=l(()=>{var x=g?fr(h[d]):pn,y=bt(x);return ht&&p(y,mo(c,d)),y}),r.set(d,u));var v=n(u);if(v===pn)return!1}return g},set(h,d,u,g){var T;var v=r.get(d),_=d in h;if(o&&d==="length")for(var x=u;x<v.v;x+=1){var y=r.get(x+"");y!==void 0?ot(y,pn):x in h&&(y=l(()=>bt(pn)),r.set(x+"",y),ht&&p(y,mo(c,x)))}if(v===void 0)(!_||(T=Po(h,d))!=null&&T.writable)&&(v=l(()=>bt(void 0)),ht&&p(v,mo(c,d)),ot(v,fr(u)),r.set(d,v));else{_=v.v!==pn;var S=l(()=>fr(u));ot(v,S)}var A=Reflect.getOwnPropertyDescriptor(h,d);if(A!=null&&A.set&&A.set.call(g,u),!_){if(o&&typeof d=="string"){var R=r.get("length"),w=Number(d);Number.isInteger(w)&&w>=R.v&&ot(R,w+1)}wi(i)}return!0},ownKeys(h){n(i);var d=Reflect.ownKeys(h).filter(v=>{var _=r.get(v);return _===void 0||_.v!==pn});for(var[u,g]of r)g.v!==pn&&!(u in h)&&d.push(u);return d},setPrototypeOf(){If()}})}function mo(t,e){return typeof e=="symbol"?`${t}[Symbol(${e.description??""})]`:gu.test(e)?`${t}.${e}`:/^\d+$/.test(e)?`${t}[${e}]`:`${t}['${e}']`}function Fr(t){try{if(t!==null&&typeof t=="object"&&wr in t)return t[wr]}catch{}return t}function vu(t,e){return Object.is(Fr(t),Fr(e))}const pu=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function mu(t){return new Proxy(t,{get(e,r,o){var i=Reflect.get(e,r,o);return pu.has(r)?function(...a){du();var l=i.apply(this,a);return cl(),l}:i}})}function _u(){const t=Array.prototype,e=Array.__svelte_cleanup;e&&e();const{indexOf:r,lastIndexOf:o,includes:i}=t;t.indexOf=function(a,l){const c=r.call(this,a,l);if(c===-1){for(let f=l??0;f<this.length;f+=1)if(Fr(this[f])===a){_i("array.indexOf(...)");break}}return c},t.lastIndexOf=function(a,l){const c=o.call(this,a,l??this.length-1);if(c===-1){for(let f=0;f<=(l??this.length-1);f+=1)if(Fr(this[f])===a){_i("array.lastIndexOf(...)");break}}return c},t.includes=function(a,l){const c=i.call(this,a,l);if(!c){for(let f=0;f<this.length;f+=1)if(Fr(this[f])===a){_i("array.includes(...)");break}}return c},Array.__svelte_cleanup=()=>{t.indexOf=r,t.lastIndexOf=o,t.includes=i}}function M(t,e,r=!0){try{t===e!=(Fr(t)===Fr(e))&&_i(r?"===":"!==")}catch{}return t===e===r}function ge(t,e,r=!0){return t==e!=(Fr(t)==Fr(e))&&_i(r?"==":"!="),t==e===r}var Uo,Xa,ul,dl;function yu(){if(Uo===void 0){Uo=window,Xa=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;ul=Po(e,"firstChild").get,dl=Po(e,"nextSibling").get,Os(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Os(r)&&(r.__t=void 0),ht&&(t.__svelte_meta=null,_u())}}function Qr(t=""){return document.createTextNode(t)}function Pr(t){return ul.call(t)}function bi(t){return dl.call(t)}function $(t,e){return Pr(t)}function mt(t,e=!1){{var r=Pr(t);return r instanceof Comment&&r.data===""?bi(r):r}}function et(t,e=1,r=!1){let o=t;for(;e--;)o=bi(o);return o}function xu(t){t.textContent=""}function hl(){return!1}function Ya(t){var e=te,r=xe;Tn(null),ur(null);try{return t()}finally{Tn(e),ur(r)}}function wu(t){xe===null&&(te===null&&Af(t),Nf()),Xo&&Tf(t)}function bu(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function Mr(t,e,r){var o=xe;if(ht)for(;o!==null&&(o.f&Zi)!==0;)o=o.parent;o!==null&&(o.f&Pn)!==0&&(t|=Pn);var i={ctx:tn,deps:null,nodes:null,f:t|Cn|lr,first:null,fn:e,last:null,next:null,parent:o,b:o&&o.b,prev:null,teardown:null,wv:0,ac:null};if(ht&&(i.component_function=Go),r)try{Ti(i),i.f|=Pa}catch(c){throw bn(i),c}else e!==null&&vo(i);var a=i;if(r&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&fo)===0&&(a=a.first,(t&Rr)!==0&&(t&co)!==0&&a!==null&&(a.f|=co)),a!==null&&(a.parent=o,o!==null&&bu(a,o),te!==null&&(te.f&cn)!==0&&(t&Xr)===0)){var l=te;(l.effects??(l.effects=[])).push(a)}return i}function Mi(){return te!==null&&!Sr}function $a(t){const e=Mr(Fa,null,!1);return _n(e,mn),e.teardown=t,e}function Si(t){wu("$effect"),ht&&lo(t,"name",{value:"$effect"});var e=xe.f,r=!te&&(e&zr)!==0&&(e&Pa)===0;if(r){var o=tn;(o.e??(o.e=[])).push(t)}else return gl(t)}function gl(t){return Mr(La|_f,t,!1)}function Mu(t){br.ensure();const e=Mr(Xr|fo,t,!0);return()=>{bn(e)}}function Su(t){br.ensure();const e=Mr(Xr|fo,t,!0);return(r={})=>new Promise(o=>{r.outro?_o(e,()=>{bn(e),o(void 0)}):(bn(e),o(void 0))})}function vl(t){return Mr(La,t,!1)}function Eu(t){return Mr(Ki|fo,t,!0)}function ra(t,e=0){return Mr(Fa|e,t,!0)}function tt(t,e=[],r=[],o=[]){iu(o,e,r,i=>{Mr(Fa,()=>t(...i.map(n)),!0)})}function Ei(t,e=0){var r=Mr(Rr|e,t,!0);return ht&&(r.dev_stack=Lr),r}function Yn(t){return Mr(zr|fo,t,!0)}function pl(t){var e=t.teardown;if(e!==null){const r=Xo,o=te;bl(!0),Tn(null);try{e.call(null)}finally{bl(r),Tn(o)}}}function ml(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){const i=r.ac;i!==null&&Ya(()=>{i.abort(Do)});var o=r.next;(r.f&Xr)!==0?r.parent=null:bn(r,e),r=o}}function ku(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&zr)===0&&bn(e),e=r}}function bn(t,e=!0){var r=!1;(e||(t.f&qs)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(Cu(t.nodes.start,t.nodes.end),r=!0),ml(t,e&&!r),ia(t,0),_n(t,Yr);var o=t.nodes&&t.nodes.t;if(o!==null)for(const a of o)a.stop();pl(t);var i=t.parent;i!==null&&i.first!==null&&_l(t),ht&&(t.component_function=null),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function Cu(t,e){for(;t!==null;){var r=t===e?null:bi(t);t.remove(),t=r}}function _l(t){var e=t.parent,r=t.prev,o=t.next;r!==null&&(r.next=o),o!==null&&(o.prev=r),e!==null&&(e.first===t&&(e.first=o),e.last===t&&(e.last=r))}function _o(t,e,r=!0){var o=[];yl(t,o,!0);var i=()=>{r&&bn(t),e&&e()},a=o.length;if(a>0){var l=()=>--a||i();for(var c of o)c.out(l)}else i()}function yl(t,e,r){if((t.f&Pn)===0){t.f^=Pn;var o=t.nodes&&t.nodes.t;if(o!==null)for(const c of o)(c.is_global||r)&&e.push(c);for(var i=t.first;i!==null;){var a=i.next,l=(i.f&co)!==0||(i.f&zr)!==0&&(t.f&Rr)!==0;yl(i,e,l?r:!1),i=a}}}function Za(t){xl(t,!0)}function xl(t,e){if((t.f&Pn)!==0){t.f^=Pn,(t.f&mn)===0&&(_n(t,Cn),vo(t));for(var r=t.first;r!==null;){var o=r.next,i=(r.f&co)!==0||(r.f&zr)!==0;xl(r,i?e:!1),r=o}var a=t.nodes&&t.nodes.t;if(a!==null)for(const l of a)(l.is_global||e)&&l.in()}}function wl(t,e){if(t.nodes)for(var r=t.nodes.start,o=t.nodes.end;r!==null;){var i=r===o?null:bi(r);e.append(r),r=i}}let yo=!1;function oa(t){yo=t}let Xo=!1;function bl(t){Xo=t}let te=null,Sr=!1;function Tn(t){te=t}let xe=null;function ur(t){xe=t}let Mn=null;function Ml(t){te!==null&&(Mn===null?Mn=[t]:Mn.push(t))}let Sn=null,Dn=0,$n=null;function Tu(t){$n=t}let Sl=1,ki=0,xo=ki;function El(t){xo=t}function kl(){return++Sl}function Ci(t){var e=t.f;if((e&Cn)!==0)return!0;if(e&cn&&(t.f&=~$r),(e&xr)!==0){var r=t.deps;if(r!==null)for(var o=r.length,i=0;i<o;i++){var a=r[i];if(Ci(a)&&sl(a),a.wv>t.wv)return!0}(e&lr)!==0&&Qe===null&&_n(t,mn)}return!1}function Cl(t,e,r=!0){var o=t.reactions;if(o!==null&&!(Mn!=null&&Mn.includes(t)))for(var i=0;i<o.length;i++){var a=o[i];(a.f&cn)!==0?Cl(a,e,!1):e===a&&(r?_n(a,Cn):(a.f&mn)!==0&&_n(a,xr),vo(a))}}function Ka(t){var v;var e=Sn,r=Dn,o=$n,i=te,a=Mn,l=tn,c=Sr,f=xo,s=t.f;Sn=null,Dn=0,$n=null,te=(s&(zr|Xr))===0?t:null,Mn=null,Bo(t.ctx),Sr=!1,xo=++ki,t.ac!==null&&(Ya(()=>{t.ac.abort(Do)}),t.ac=null);try{t.f|=Da;var h=t.fn,d=h(),u=t.deps;if(Sn!==null){var g;if(ia(t,Dn),u!==null&&Dn>0)for(u.length=Dn+Sn.length,g=0;g<Sn.length;g++)u[Dn+g]=Sn[g];else t.deps=u=Sn;if(Mi()&&(t.f&lr)!==0)for(g=Dn;g<u.length;g++)((v=u[g]).reactions??(v.reactions=[])).push(t)}else u!==null&&Dn<u.length&&(ia(t,Dn),u.length=Dn);if(Js()&&$n!==null&&!Sr&&u!==null&&(t.f&(cn|xr|Cn))===0)for(g=0;g<$n.length;g++)Cl($n[g],t);return i!==null&&i!==t&&(ki++,$n!==null&&(o===null?o=$n:o.push(...$n))),(t.f&Zr)!==0&&(t.f^=Zr),d}catch(_){return el(_)}finally{t.f^=Da,Sn=e,Dn=r,$n=o,te=i,Mn=a,Bo(l),Sr=c,xo=f}}function Nu(t,e){let r=e.reactions;if(r!==null){var o=gf.call(r,t);if(o!==-1){var i=r.length-1;i===0?r=e.reactions=null:(r[o]=r[i],r.pop())}}r===null&&(e.f&cn)!==0&&(Sn===null||!Sn.includes(e))&&(_n(e,xr),(e.f&lr)!==0&&(e.f^=lr,e.f&=~$r),Oa(e),ia(e,0))}function ia(t,e){var r=t.deps;if(r!==null)for(var o=e;o<r.length;o++)Nu(t,r[o])}function Ti(t){var e=t.f;if((e&Yr)===0){_n(t,mn);var r=xe,o=yo;if(xe=t,yo=!0,ht){var i=Go;Ji(t.component_function);var a=Lr;Qi(t.dev_stack??Lr)}try{(e&(Rr|mf))!==0?ku(t):ml(t),pl(t);var l=Ka(t);t.teardown=typeof l=="function"?l:null,t.wv=Sl;var c;ht&&jf&&(t.f&Cn)!==0&&t.deps}finally{yo=o,xe=r,ht&&(Ji(i),Qi(a))}}}async function Au(){await Promise.resolve(),Jf()}function n(t){var e=t.f,r=(e&cn)!==0;if(te!==null&&!Sr){var o=xe!==null&&(xe.f&Yr)!==0;if(!o&&!(Mn!=null&&Mn.includes(t))){var i=te.deps;if((te.f&Da)!==0)t.rv<ki&&(t.rv=ki,Sn===null&&i!==null&&i[Dn]===t?Dn++:Sn===null?Sn=[t]:Sn.includes(t)||Sn.push(t));else{(te.deps??(te.deps=[])).push(t);var a=t.reactions;a===null?t.reactions=[te]:a.includes(te)||a.push(te)}}}if(ht&&lu.delete(t),Xo){if(Kr.has(t))return Kr.get(t);if(r){var l=t,c=l.v;return((l.f&mn)===0&&l.reactions!==null||Nl(l))&&(c=qa(l)),Kr.set(l,c),c}}else r&&(!(Qe!=null&&Qe.has(t))||fe!=null&&fe.is_fork&&!Mi())&&(l=t,Ci(l)&&sl(l),yo&&Mi()&&(l.f&lr)===0&&Tl(l));if(Qe!=null&&Qe.has(t))return Qe.get(t);if((t.f&Zr)!==0)throw t.v;return t.v}function Tl(t){if(t.deps!==null){t.f^=lr;for(const e of t.deps)(e.reactions??(e.reactions=[])).push(t),(e.f&cn)!==0&&(e.f&lr)===0&&Tl(e)}}function Nl(t){if(t.v===pn)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Kr.has(e)||(e.f&cn)!==0&&Nl(e))return!0;return!1}function aa(t){var e=Sr;try{return Sr=!0,t()}finally{Sr=e}}const Hu=-7169;function _n(t,e){t.f=t.f&Hu|e}function Wu(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(wr in t)Qa(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&wr in r&&Qa(r)}}}function Qa(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let o in t)try{Qa(t[o],e)}catch{}const r=Yi(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const o=Gs(r);for(let i in o){const a=o[i].get;if(a)try{a.call(t)}catch{}}}}}const Al=new Set,Ja=new Set;function Ru(t,e,r,o={}){function i(a){if(o.capture||Ni.call(e,a),!a.cancelBubble)return Ya(()=>r==null?void 0:r.call(this,a))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Vo(()=>{e.addEventListener(t,i,o)}):e.addEventListener(t,i,o),i}function Bn(t,e,r,o,i){var a={capture:o,passive:i},l=Ru(t,e,r,a);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&$a(()=>{e.removeEventListener(t,l,a)})}function Jr(t){for(var e=0;e<t.length;e++)Al.add(t[e]);for(var r of Ja)r(t)}let Hl=null;function Ni(t){var x;var e=this,r=e.ownerDocument,o=t.type,i=((x=t.composedPath)==null?void 0:x.call(t))||[],a=i[0]||t.target;Hl=t;var l=0,c=Hl===t&&t.__root;if(c){var f=i.indexOf(c);if(f!==-1&&(e===document||e===window)){t.__root=e;return}var s=i.indexOf(e);if(s===-1)return;f<=s&&(l=f)}if(a=i[l]||t.target,a!==e){lo(t,"currentTarget",{configurable:!0,get(){return a||r}});var h=te,d=xe;Tn(null),ur(null);try{for(var u,g=[];a!==null;){var v=a.assignedSlot||a.parentNode||a.host||null;try{var _=a["__"+o];_!=null&&(!a.disabled||t.target===a)&&_.call(a,t)}catch(y){u?g.push(y):u=y}if(t.cancelBubble||v===e||v===null)break;a=v}if(u){for(let y of g)queueMicrotask(()=>{throw y});throw u}}finally{t.__root=e,delete t.currentTarget,Tn(h),ur(d)}}}function dr(t,e,r,o,i,a=!1,l=!1){var s,h;let c,f;try{c=t()}catch(d){f=d}if(typeof c!="function"&&(a||c!=null||f)){const d=o==null?void 0:o[D],u=i?` at ${d}:${i[0]}:${i[1]}`:` in ${d}`,g=((s=r[0])==null?void 0:s.eventPhase)<Event.BUBBLING_PHASE?"capture":"",_=`\`${((h=r[0])==null?void 0:h.type)+g}\` handler${u}`;if(Df(_,l?"remove the trailing `()`":"add a leading `() =>`"),f)throw f}c==null||c.apply(e,r)}function Wl(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Ai(t,e){var r=xe;r.nodes===null&&(r.nodes={start:t,end:e,a:null,t:null})}function dt(t,e){var r=(e&1)!==0,o=(e&2)!==0,i,a=!t.startsWith("<!>");return()=>{i===void 0&&(i=Wl(a?t:"<!>"+t),r||(i=Pr(i)));var l=o||Xa?document.importNode(i,!0):i.cloneNode(!0);if(r){var c=Pr(l),f=l.lastChild;Ai(c,f)}else Ai(l,l);return l}}function zu(t,e,r="svg"){var o=!t.startsWith("<!>"),i=(e&1)!==0,a=`<${r}>${o?t:"<!>"+t}</${r}>`,l;return()=>{if(!l){var c=Wl(a),f=Pr(c);if(i)for(l=document.createDocumentFragment();Pr(f);)l.appendChild(Pr(f));else l=Pr(f)}var s=l.cloneNode(!0);if(i){var h=Pr(s),d=s.lastChild;Ai(h,d)}else Ai(s,s);return s}}function At(t,e){return zu(t,e,"svg")}function kt(){var t=document.createDocumentFragment(),e=document.createComment(""),r=Qr();return t.append(e,r),Ai(e,r),t}function I(t,e){t!==null&&t.before(e)}const Iu=["touchstart","touchmove"];function Lu(t){return Iu.includes(t)}function Bt(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function Fu(t,e){return Pu(t,e)}const Yo=new Map;function Pu(t,{target:e,anchor:r,props:o={},events:i,context:a,intro:l=!0}){yu();var c=new Set,f=d=>{for(var u=0;u<d.length;u++){var g=d[u];if(!c.has(g)){c.add(g);var v=Lu(g);e.addEventListener(g,Ni,{passive:v});var _=Yo.get(g);_===void 0?(document.addEventListener(g,Ni,{passive:v}),Yo.set(g,1)):Yo.set(g,_+1)}}};f(Xi(Al)),Ja.add(f);var s=void 0,h=Su(()=>{var d=r??e.appendChild(Qr());return ru(d,{pending:()=>{}},u=>{if(a){_e({});var g=tn;g.c=a}i&&(o.$$events=i),s=t(u,o)||{},a&&ye()}),()=>{var v;for(var u of c){e.removeEventListener(u,Ni);var g=Yo.get(u);--g===0?(document.removeEventListener(u,Ni),Yo.delete(u)):Yo.set(u,g)}Ja.delete(f),d!==r&&((v=d.parentNode)==null||v.removeChild(d))}});return ts.set(s,h),s}let ts=new WeakMap;function Du(t,e){const r=ts.get(t);return r?(ts.delete(t),r(e)):(ht&&(wr in t?Vf():Bf()),Promise.resolve())}function Bu(t){return t.toString=()=>(bf(),""),t}class es{constructor(e,r=!0){Wr(this,"anchor");ce(this,mr,new Map);ce(this,Hr,new Map);ce(this,qn,new Map);ce(this,Io,new Set);ce(this,ji,!0);ce(this,qi,()=>{var e=fe;if(j(this,mr).has(e)){var r=j(this,mr).get(e),o=j(this,Hr).get(r);if(o)Za(o),j(this,Io).delete(r);else{var i=j(this,qn).get(r);i&&(j(this,Hr).set(r,i.effect),j(this,qn).delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),o=i.effect)}for(const[a,l]of j(this,mr)){if(j(this,mr).delete(a),a===e)break;const c=j(this,qn).get(l);c&&(bn(c.effect),j(this,qn).delete(l))}for(const[a,l]of j(this,Hr)){if(a===r||j(this,Io).has(a))continue;const c=()=>{if(Array.from(j(this,mr).values()).includes(a)){var s=document.createDocumentFragment();wl(l,s),s.append(Qr()),j(this,qn).set(a,{effect:l,fragment:s})}else bn(l);j(this,Io).delete(a),j(this,Hr).delete(a)};j(this,ji)||!o?(j(this,Io).add(a),_o(l,c,!1)):c()}}});ce(this,ka,e=>{j(this,mr).delete(e);const r=Array.from(j(this,mr).values());for(const[o,i]of j(this,qn))r.includes(o)||(bn(i.effect),j(this,qn).delete(o))});this.anchor=e,jt(this,ji,r)}ensure(e,r){var o=fe,i=hl();if(r&&!j(this,Hr).has(e)&&!j(this,qn).has(e))if(i){var a=document.createDocumentFragment(),l=Qr();a.append(l),j(this,qn).set(e,{effect:Yn(()=>r(l)),fragment:a})}else j(this,Hr).set(e,Yn(()=>r(this.anchor)));if(j(this,mr).set(o,e),i){for(const[c,f]of j(this,Hr))c===e?o.skipped_effects.delete(f):o.skipped_effects.add(f);for(const[c,f]of j(this,qn))c===e?o.skipped_effects.delete(f.effect):o.skipped_effects.add(f.effect);o.oncommit(j(this,qi)),o.ondiscard(j(this,ka))}else j(this,qi).call(this)}}mr=new WeakMap,Hr=new WeakMap,qn=new WeakMap,Io=new WeakMap,ji=new WeakMap,qi=new WeakMap,ka=new WeakMap;function Gu(t,e,...r){var o=new es(t);Ei(()=>{const i=e()??null;ht&&i==null&&Wf(),o.ensure(i,i&&(a=>i(a,...r)))},co)}function Rl(t,e){const r=(o,...i)=>{var a=Go;Ji(t);try{return e(o,...i)}finally{Ji(a)}};return Bu(r),r}if(ht){let t=function(e){if(!(e in globalThis)){let r;Object.defineProperty(globalThis,e,{configurable:!0,get:()=>{if(r!==void 0)return r;Rf(e)},set:o=>{r=o}})}};t("$state"),t("$effect"),t("$derived"),t("$inspect"),t("$props"),t("$bindable")}function V(t,e,r){return(...o)=>{const i=t(...o);var a=i.nodeType===wf?i.firstChild:i;return zl(a,e,r),i}}function Vu(t,e,r){t.__svelte_meta={parent:Lr,loc:{file:e,line:r[0],column:r[1]}},r[2]&&zl(t.firstChild,e,r[2])}function zl(t,e,r){for(var o=0;t&&o<r.length;)t.nodeType===xf&&Vu(t,e,r[o++]),t=t.nextSibling}function Se(t){t&&Ef(t[D]??"a component",t.name)}function Ee(){const t=tn==null?void 0:tn.function;function e(r){Sf(r,t[D])}return{$destroy:()=>e("$destroy()"),$on:()=>e("$on(...)"),$set:()=>e("$set(...)")}}function Il(t,...e){(typeof t!="object"||!(t instanceof Node))&&Xs();for(let r of e)typeof r!="function"&&Xs()}function q(t,e,r=!1){var o=new es(t),i=r?co:0;function a(l,c){o.ensure(l,c)}Ei(()=>{var l=!1;e((c,f=!0)=>{l=!0,a(f,c)}),l||a(!1,null)},i)}function Ou(t,e,r){var o=new es(t);Ei(()=>{var i=e();o.ensure(i,r)})}function Zn(t,e){return e}function ju(t,e,r){for(var o=[],i=e.length,a,l=e.length,c=0;c<i;c++){let d=e[c];_o(d,()=>{if(a){if(a.pending.delete(d),a.done.add(d),a.pending.size===0){var u=t.outrogroups;ns(Xi(a.done)),u.delete(a),u.size===0&&(t.outrogroups=null)}}else l-=1},!1)}if(l===0){var f=o.length===0&&r!==null;if(f){var s=r,h=s.parentNode;xu(h),h.append(s),t.items.clear()}ns(e,!f)}else a={pending:new Set(e),done:new Set},(t.outrogroups??(t.outrogroups=new Set)).add(a)}function ns(t,e=!0){for(var r=0;r<t.length;r++)bn(t[r],e)}var Ll;function Ne(t,e,r,o,i,a=null){var l=t,c=new Map,f=(e&4)!==0;if(f){var s=t;l=s.appendChild(Qr())}var h=null,d=fu(()=>{var y=r();return pi(y)?y:y==null?[]:Xi(y)}),u,g=!0;function v(){x.fallback=h,qu(x,u,l,e,o),h!==null&&(u.length===0?(h.f&Ir)===0?Za(h):(h.f^=Ir,Hi(h,null,l)):_o(h,()=>{h=null}))}var _=Ei(()=>{u=n(d);for(var y=u.length,S=new Set,A=fe,R=hl(),w=0;w<y;w+=1){var T=u[w],b=o(T,w),E=g?null:c.get(b);E?(E.v&&qo(E.v,T),E.i&&qo(E.i,w),R&&A.skipped_effects.delete(E.e)):(E=Uu(c,g?l:Ll??(Ll=Qr()),T,b,w,i,e,r),g||(E.e.f|=Ir),c.set(b,E)),S.add(b)}if(y===0&&a&&!h&&(g?h=Yn(()=>a(l)):(h=Yn(()=>a(Ll??(Ll=Qr()))),h.f|=Ir)),!g)if(R){for(const[F,N]of c)S.has(F)||A.skipped_effects.add(N.e);A.oncommit(v),A.ondiscard(()=>{})}else v();n(d)}),x={effect:_,items:c,outrogroups:null,fallback:h};g=!1}function qu(t,e,r,o,i){var N,H,C,B,P,Z,X,U,O;var a=(o&8)!==0,l=e.length,c=t.items,f=t.effect.first,s,h=null,d,u=[],g=[],v,_,x,y;if(a)for(y=0;y<l;y+=1)v=e[y],_=i(v,y),x=c.get(_).e,(x.f&Ir)===0&&((H=(N=x.nodes)==null?void 0:N.a)==null||H.measure(),(d??(d=new Set)).add(x));for(y=0;y<l;y+=1){if(v=e[y],_=i(v,y),x=c.get(_).e,t.outrogroups!==null)for(const Q of t.outrogroups)Q.pending.delete(x),Q.done.delete(x);if((x.f&Ir)!==0)if(x.f^=Ir,x===f)Hi(x,null,r);else{var S=h?h.next:f;x===t.effect.last&&(t.effect.last=x.prev),x.prev&&(x.prev.next=x.next),x.next&&(x.next.prev=x.prev),to(t,h,x),to(t,x,S),Hi(x,S,r),h=x,u=[],g=[],f=h.next;continue}if((x.f&Pn)!==0&&(Za(x),a&&((B=(C=x.nodes)==null?void 0:C.a)==null||B.unfix(),(d??(d=new Set)).delete(x))),x!==f){if(s!==void 0&&s.has(x)){if(u.length<g.length){var A=g[0],R;h=A.prev;var w=u[0],T=u[u.length-1];for(R=0;R<u.length;R+=1)Hi(u[R],A,r);for(R=0;R<g.length;R+=1)s.delete(g[R]);to(t,w.prev,T.next),to(t,h,w),to(t,T,A),f=A,h=T,y-=1,u=[],g=[]}else s.delete(x),Hi(x,f,r),to(t,x.prev,x.next),to(t,x,h===null?t.effect.first:h.next),to(t,h,x),h=x;continue}for(u=[],g=[];f!==null&&f!==x;)(s??(s=new Set)).add(f),g.push(f),f=f.next;if(f===null)continue}(x.f&Ir)===0&&u.push(x),h=x,f=x.next}if(t.outrogroups!==null){for(const Q of t.outrogroups)Q.pending.size===0&&(ns(Xi(Q.done)),(P=t.outrogroups)==null||P.delete(Q));t.outrogroups.size===0&&(t.outrogroups=null)}if(f!==null||s!==void 0){var b=[];if(s!==void 0)for(x of s)(x.f&Pn)===0&&b.push(x);for(;f!==null;)(f.f&Pn)===0&&f!==t.fallback&&b.push(f),f=f.next;var E=b.length;if(E>0){var F=(o&4)!==0&&l===0?r:null;if(a){for(y=0;y<E;y+=1)(X=(Z=b[y].nodes)==null?void 0:Z.a)==null||X.measure();for(y=0;y<E;y+=1)(O=(U=b[y].nodes)==null?void 0:U.a)==null||O.fix()}ju(t,b,F)}}a&&Vo(()=>{var Q,gt;if(d!==void 0)for(x of d)(gt=(Q=x.nodes)==null?void 0:Q.a)==null||gt.apply()})}function Uu(t,e,r,o,i,a,l,c){var f=(l&1)!==0?(l&16)===0?hu(r,!1,!1):po(r):null,s=(l&2)!==0?po(i):null;return ht&&f&&(f.trace=()=>{c()[(s==null?void 0:s.v)??i]}),{v:f,i:s,e:Yn(()=>(a(e,f??r,s??i,c),()=>{t.delete(o)}))}}function Hi(t,e,r){if(t.nodes)for(var o=t.nodes.start,i=t.nodes.end,a=e&&(e.f&Ir)===0?e.nodes.start:r;o!==null;){var l=bi(o);if(a.before(o),o===i)return;o=l}}function to(t,e,r){e===null?t.effect.first=r:e.next=r,r===null?t.effect.last=e:r.prev=e}function sa(t,e,r){vl(()=>{var o=aa(()=>e(t,r==null?void 0:r())||{});if(r&&(o!=null&&o.update)){var i=!1,a={};ra(()=>{var l=r();Wu(l),i&&$s(a,l)&&(a=l,o.update(l))}),i=!0}if(o!=null&&o.destroy)return()=>o.destroy()})}const Fl=[...` 	
\r\f \v\uFEFF`];function Xu(t,e,r){var o=t==null?"":""+t;if(e&&(o=o?o+" "+e:e),r){for(var i in r)if(r[i])o=o?o+" "+i:i;else if(o.length)for(var a=i.length,l=0;(l=o.indexOf(i,l))>=0;){var c=l+a;(l===0||Fl.includes(o[l-1]))&&(c===o.length||Fl.includes(o[c]))?o=(l===0?"":o.substring(0,l))+o.substring(c+1):l=c}}return o===""?null:o}function Pl(t,e=!1){var r=e?" !important;":";",o="";for(var i in t){var a=t[i];a!=null&&a!==""&&(o+=" "+i+": "+a+r)}return o}function rs(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function Yu(t,e){if(e){var r="",o,i;if(Array.isArray(e)?(o=e[0],i=e[1]):o=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var a=!1,l=0,c=!1,f=[];o&&f.push(...Object.keys(o).map(rs)),i&&f.push(...Object.keys(i).map(rs));var s=0,h=-1;const _=t.length;for(var d=0;d<_;d++){var u=t[d];if(c?u==="/"&&t[d-1]==="*"&&(c=!1):a?a===u&&(a=!1):u==="/"&&t[d+1]==="*"?c=!0:u==='"'||u==="'"?a=u:u==="("?l++:u===")"&&l--,!c&&a===!1&&l===0){if(u===":"&&h===-1)h=d;else if(u===";"||d===_-1){if(h!==-1){var g=rs(t.substring(s,h).trim());if(!f.includes(g)){u!==";"&&d++;var v=t.substring(s,d).trim();r+=" "+v+";"}}s=d+1,h=-1}}}}return o&&(r+=Pl(o)),i&&(r+=Pl(i,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function fn(t,e,r,o,i,a){var l=t.__className;if(l!==r||l===void 0){var c=Xu(r,o,a);c==null?t.removeAttribute("class"):t.className=c,t.__className=r}else if(a&&i!==a)for(var f in a){var s=!!a[f];(i==null||s!==!!i[f])&&t.classList.toggle(f,s)}return a}function os(t,e={},r,o){for(var i in r){var a=r[i];e[i]!==a&&(r[i]==null?t.style.removeProperty(i):t.style.setProperty(i,a,o))}}function ke(t,e,r,o){var i=t.__style;if(i!==e){var a=Yu(e,o);a==null?t.removeAttribute("style"):t.style.cssText=a,t.__style=e}else o&&(Array.isArray(o)?(os(t,r==null?void 0:r[0],o[0]),os(t,r==null?void 0:r[1],o[1],"important")):os(t,r,o));return o}function is(t,e,r=!1){if(t.multiple){if(e==null)return;if(!pi(e))return Gf();for(var o of t.options)o.selected=e.includes(Bl(o));return}for(o of t.options){var i=Bl(o);if(vu(i,e)){o.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function Dl(t){var e=new MutationObserver(()=>{is(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),$a(()=>{e.disconnect()})}function Bl(t){return"__value"in t?t.__value:t.value}const $u=Symbol("is custom element"),Zu=Symbol("is html");function Gl(t,e){var r=as(t);r.value===(r.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function Ku(t,e){var r=as(t);r.checked!==(r.checked=e??void 0)&&(t.checked=e)}function W(t,e,r,o){var i=as(t);i[e]!==(i[e]=r)&&(e==="loading"&&(t[yf]=r),r==null?t.removeAttribute(e):typeof r!="string"&&Qu(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function as(t){return t.__attributes??(t.__attributes={[$u]:t.nodeName.includes("-"),[Zu]:t.namespaceURI===hf})}var Vl=new Map;function Qu(t){var e=t.getAttribute("is")||t.nodeName,r=Vl.get(e);if(r)return r;Vl.set(e,r=[]);for(var o,i=t,a=Element.prototype;a!==i;){o=Gs(i);for(var l in o)o[l].set&&r.push(l);i=Yi(i)}return r}function Ol(t,e){return t===e||(t==null?void 0:t[wr])===e}function eo(t={},e,r,o){return vl(()=>{var i,a;return ra(()=>{i=a,a=[],aa(()=>{t!==r(...a)&&(e(t,...a),i&&Ol(r(...i),t)&&e(null,...i))})}),()=>{Vo(()=>{a&&Ol(r(...a),t)&&e(null,...a)})}}),t}function Gn(t,e,r,o){var i=o,a=!0,l=()=>(a&&(a=!1,i=o),i),c;c=t[e],c===void 0&&o!==void 0&&(c=l());var f;return f=()=>{var s=t[e];return s===void 0?l():(a=!0,s)},f}function yn(t,e){ra(()=>{const r=new Map,o=t(),i=pi(o)?o:o==null?[]:Array.from(o),a=i.length;for(let l=0;l<a;l++){const c=e(i[l],l);if(r.has(c)){const f=String(r.get(c)),s=String(l);let h=String(c);h.startsWith("[object ")&&(h=null),Cf(f,s,h)}r.set(c,l)}})}function jl(t,...e){return aa(()=>{try{let r=!1;const o=[];for(const i of e)i&&typeof i=="object"&&wr in i?(o.push(Yf(i,!0)),r=!0):o.push(i);r&&(Pf(t),console.log("%c[snapshot]","color: grey",...o))}catch{}}),e}const Ju="5";typeof window<"u"&&((nf=window.__svelte??(window.__svelte={})).v??(nf.v=new Set)).add(Ju);function ql(t){var o,i;const e=((o=t==null?void 0:t.shapes)==null?void 0:o.lineWidth)??1.5,r=((i=t==null?void 0:t.colors)==null?void 0:i.intervalLine)??"#475569";return{width:Math.max(4,Math.round(e*3)),height:Math.max(6,Math.round(e*4)),color:r,opacity:1}}function la(t,e,r,o){const{width:i,height:a}=o,l=a/2;return t==="left"?`M ${e} ${r} L ${e+i} ${r-l} L ${e+i} ${r+l} Z`:`M ${e} ${r} L ${e-i} ${r-l} L ${e-i} ${r+l} Z`}const Ul=[1,5,2,2.5,4,3],Er=[.001,.002,.005,.01,.02,.05,.1,.15,.2,.25,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.75,2,2.5,3,4,5,6,7,8,10,12,15,20,25,30,40,50,75,100,150,200,300,500,750,1e3];function ca(t,e){return e?td(t):ed(t)}function td(t){if(t[0]<=0||t[1]<=0)return[.1,10];if(t[0]>=t[1])return t;let e=Er[0];for(const o of Er)if(o<=t[0])e=o;else break;t[0]<Er[0]&&(e=Math.pow(10,Math.floor(Math.log10(t[0]))));let r=Er[Er.length-1];for(let o=Er.length-1;o>=0&&Er[o]>=t[1];o--)r=Er[o];return t[1]>Er[Er.length-1]&&(r=Math.pow(10,Math.ceil(Math.log10(t[1])))),[e,r]}function ed(t){const e=t[1]-t[0];if(e===0)return t;if(e<0)return[t[1],t[0]];const r=Math.pow(10,Math.floor(Math.log10(e)));let o=r,i=1/0;for(const c of Ul)for(const f of[.1,1,10]){const s=c*r*f;if(s<=0)continue;const h=Math.floor(t[0]/s)*s,g=(Math.ceil(t[1]/s)*s-h)/e-1;g>=0&&g<i&&(i=g,o=s)}const a=Math.floor(t[0]/o)*o,l=Math.ceil(t[1]/o)*o;return[Math.round(a*1e10)/1e10,Math.round(l*1e10)/1e10]}function Kn(t,e,r,o,i=!1){if(t&&r in t){const a=t[r];if(typeof a=="number"&&Number.isFinite(a)&&(!i||a>0))return a}return r===o&&e!=null&&Number.isFinite(e)&&(!i||e>0)?e:null}const Nn=12;function Xl(t){const{rows:e,config:r,scale:o,nullValue:i,forestWidth:a,pointSize:l,effects:c=[],pointCol:f,lowerCol:s,upperCol:h}=t,d=nd(e,r,o,i,c,f,s,h),u=rd(d,r,o,a,l),g=Yl(d,r,o,i);return{axisLimits:d,plotRegion:u,ticks:g}}function nd(t,e,r,o,i=[],a,l,c){const f=e.rangeMin!=null,s=e.rangeMax!=null;if(f&&s)return[e.rangeMin,e.rangeMax];const h=[],d=r==="log",u=a||"point";for(const Q of t){const gt=Kn(Q.metadata,void 0,u,"point",d);gt!=null&&h.push(gt);for(const at of i){const st=Kn(Q.metadata,void 0,at.pointCol,"point",d);st!=null&&h.push(st)}}if(h.length===0)return r==="log"?[.1,10]:[-1,1];let g=Math.min(...h),v=Math.max(...h);(e.includeNull??!0)&&(g=Math.min(g,o),v=Math.max(v,o));const x=g,y=v;let S;if(d){const Q=Math.max(g,.001),gt=Math.max(v,.001);S=Math.log(gt)-Math.log(Q)}else S=v-g;if(S===0||!Number.isFinite(S)){const Q=h[0];if(d)return ca([Q/2,Q*2],!0);{const gt=Math.max(1,Math.abs(Q)*.1);return ca([Q-gt,Q+gt],!1)}}const[A,R]=ca([g,v],d),w=e.ciClipFactor??2;let T=A,b=R;const E=[],F=[],N=l||"lower",H=c||"upper";for(const Q of t){const gt=Kn(Q.metadata,void 0,N,"lower",d);gt!=null&&E.push(gt);const at=Kn(Q.metadata,void 0,H,"upper",d);at!=null&&F.push(at);for(const st of i){const it=Kn(Q.metadata,void 0,st.lowerCol,"lower",d);it!=null&&E.push(it);const lt=Kn(Q.metadata,void 0,st.upperCol,"upper",d);lt!=null&&F.push(lt)}}let C,B;if(d)C=T/w,B=b*w;else{const Q=b-T;C=T-Q*w,B=b+Q*w}let P=!1,Z=!1;for(const Q of E)Q>=C?T=Math.min(T,Q):P=!0;for(const Q of F)Q<=B?b=Math.max(b,Q):Z=!0;if(P&&(T=Math.min(T,C)),Z&&(b=Math.max(b,B)),e.symmetric===!0&&!f&&!s)if(r==="log"){const Q=Math.log(o),gt=Math.max(Math.abs(Math.log(Math.max(x,.001))-Q),Math.abs(Math.log(y)-Q));T=Math.exp(Q-gt),b=Math.exp(Q+gt)}else{const Q=Math.max(Math.abs(x-o),Math.abs(y-o));T=o-Q,b=o+Q}let U=f?e.rangeMin:T,O=s?e.rangeMax:b;return ca([U,O],r==="log")}function rd(t,e,r,o,i){if(!(e.markerMargin??!0)||o<=0)return t;const l=o-2*Nn;if(l<=0)return t;if(r==="log"){const s=Math.log(Math.max(t[0],.001)),h=Math.log(Math.max(t[1],.001)),d=h-s,u=i/2*(d/l),g=Math.min(u,.5);return[Math.exp(s-g),Math.exp(h+g)]}const c=t[1]-t[0],f=i/2*(c/l);return[t[0]-f,t[1]+f]}function Yl(t,e,r,o){const[i,a]=t,l=o>=i&&o<=a,c=(e.nullTick??!0)&&l;if(e.tickValues&&e.tickValues.length>0){let h=e.tickValues.filter(d=>d>=i&&d<=a);return c&&!h.includes(o)&&(h=[...h,o].sort((d,u)=>d-u)),h}const f=e.tickCount??5;let s=r==="log"?id(t,f):od(t,f);return c&&!s.includes(o)&&(s=[...s,o].sort((h,d)=>h-d)),s}function od(t,e){const[r,o]=t,i=o-r;if(i===0)return[r];const a=i/Math.max(e-1,1),l=Math.pow(10,Math.floor(Math.log10(a)));let c=l,f=1/0;for(const d of Ul){const u=d*l,g=Math.floor(i/u)+1,v=Math.abs(g-e);v<f&&(f=v,c=u);const _=d*l/10;if(_>0){const x=Math.floor(i/_)+1,y=Math.abs(x-e);y<f&&(f=y,c=_)}}const s=Math.ceil(r/c)*c,h=[];for(let d=s;d<=o+c*.001;d+=c){const u=Math.round(d*1e10)/1e10;u>=r&&u<=o&&h.push(u)}return h.length<2&&(h.includes(r)||h.unshift(r),h.includes(o)||h.push(o)),h}function id(t,e){const[r,o]=t,a=[.01,.02,.05,.1,.15,.2,.25,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.75,2,2.5,3,4,5,6,7,8,10,12,15,20,25,30,40,50,75,100,150,200,500,1e3].filter(f=>f>=r&&f<=o);if(a.length<=e)return a;const l=[1,.1,10,100,.5,2,5,.2,.25,1.5,3,4,20,50],c=[];for(const f of l)a.includes(f)&&c.length<e&&c.push(f);if(c.length<e){const f=a.filter(h=>!c.includes(h)),s=Math.max(1,Math.floor(f.length/(e-c.length)));for(let h=0;h<f.length&&c.length<e;h+=s)c.push(f[h])}return c.sort((f,s)=>f-s)}const ad=.05,sd=.12,ld=.16,cd=.22,Qn={RENDERING_BUFFER:4,DEFAULT_AXIS_GAP:12},kr={FONT_SCALE:.8,PADDING:4,GAP:6},no={DEFAULT_COLUMN_WIDTH:100,AXIS_HEIGHT:32,BOTTOM_MARGIN:16,MIN_FOREST_WIDTH:200,DEFAULT_WIDTH:800,COLUMN_GAP:16},Jn={TITLE_HEIGHT:28,SUBTITLE_HEIGHT:20,CAPTION_HEIGHT:16,FOOTNOTE_HEIGHT:14,DEFAULT_FONT_SIZE:14,REM_BASE:16,TEXT_BASELINE_ADJUSTMENT:1/3},Ie={INDENT_PER_LEVEL:12,TEXT_PADDING:10,DEFAULT_TICK_COUNT:5},fd={OVERALL_ROW_HEIGHT_MULTIPLIER:1.5},tr={MIN:60,MAX:600,LABEL_MAX:400,VISUAL_MIN:{sparkline:92,bar:100,stars:84,range:84,badge:74,forest:200,viz_bar:150,viz_boxplot:150,viz_violin:150}},ro={CHEVRON_WIDTH:12,GAP:6,SAFETY_MARGIN:8},$l={SPACING:6},ss={EDGE_THRESHOLD:35,MIN_TICK_SPACING:50},Wi={success:"#16a34a",warning:"#d97706",error:"#dc2626",info:"#2563eb"};function Zl(t,e){return e<=1?0:-((e-1)*$l.SPACING)/2+t*$l.SPACING}Oe[D]="src/components/forest/RowInterval.svelte";var ud=V(At('<polygon stroke-width="1" class="point-estimate svelte-1wct561"></polygon>'),Oe[D],[[251,10]]),dd=V(At("<path></path>"),Oe[D],[[276,12]]),hd=V(At("<line></line>"),Oe[D],[[282,12]]),gd=V(At("<path></path>"),Oe[D],[[293,12]]),vd=V(At("<line></line>"),Oe[D],[[299,12]]),pd=V(At('<circle class="point-estimate svelte-1wct561"></circle>'),Oe[D],[[314,12]]),md=V(At('<polygon class="point-estimate svelte-1wct561"></polygon>'),Oe[D],[[329,12]]),_d=V(At('<polygon class="point-estimate svelte-1wct561"></polygon>'),Oe[D],[[341,12]]),yd=V(At('<rect class="point-estimate svelte-1wct561"></rect>'),Oe[D],[[349,12]]),xd=V(At("<line></line><!><!><!>",1),Oe[D],[[266,10]]),wd=V(At('<g class="interval-row svelte-1wct561" role="button" tabindex="0"></g>'),Oe[D],[[218,2]]);function Oe(t,e){Se(new.target),_e(e,!0,Oe);let r=Gn(e,"weightCol",3,null),o=Gn(e,"isLog",3,!1),i=Gn(e,"forestColumnOptions",3,null);const a=p(m(()=>ql(e.theme)),"arrowConfig"),l=p(m(()=>{if(!i())return[];const b=M(i().scale,"log")||o();if(i().point&&i().lower&&i().upper){const E=e.row.metadata[i().point],F=e.row.metadata[i().lower],N=e.row.metadata[i().upper],H=!b||ge(E,null,!1)&&E>0?E:null,C=!b||ge(F,null,!1)&&F>0?F:null,B=!b||ge(N,null,!1)&&N>0?N:null;return[{id:"inline",pointCol:i().point,lowerCol:i().lower,upperCol:i().upper,label:null,color:null,shape:null,opacity:null,point:H,lower:C,upper:B}]}return i().effects&&i().effects.length>0?i().effects.map(E=>({...E,point:Kn(e.row.metadata,null,E.pointCol,"point",b),lower:Kn(e.row.metadata,null,E.lowerCol,"lower",b),upper:Kn(e.row.metadata,null,E.upperCol,"upper",b)})):[]}),"effectsToRender"),c=p(m(()=>n(l).some(b=>ge(b.point,null,!1)&&!Number.isNaN(b.point)&&ge(b.lower,null,!1)&&!Number.isNaN(b.lower)&&ge(b.upper,null,!1)&&!Number.isNaN(b.upper))),"hasAnyValidValues"),f=p(m(()=>{var b;return M((b=e.row.style)==null?void 0:b.type,"summary")}),"isSummaryRow");function s(b){return e.clipBounds?b<e.clipBounds[0]:e.xScale(b)<0}function h(b){return e.clipBounds?b>e.clipBounds[1]:e.xScale(b)>e.layout.forestWidth}function d(b){if(!e.clipBounds)return Math.max(0,Math.min(e.layout.forestWidth,e.xScale(b)));const E=Math.max(e.clipBounds[0],Math.min(e.clipBounds[1],b));return e.xScale(E)}const u=p(m(()=>e.clipBounds?e.xScale(e.clipBounds[0]):Nn),"leftArrowX"),g=p(m(()=>e.clipBounds?e.xScale(e.clipBounds[1]):e.layout.forestWidth-Nn),"rightArrowX"),v=p(m(()=>{var b;return((b=e.theme)==null?void 0:b.shapes.summaryHeight)??10}),"diamondHeight"),_=p(m(()=>n(v)/2),"halfDiamondHeight"),x=p(m(()=>{var b;return((b=e.theme)==null?void 0:b.shapes.pointSize)??6}),"basePointSize");function y(b){var F;if(b&&ge((F=e.row.markerStyle)==null?void 0:F.size,null,!1))return n(x)*e.row.markerStyle.size;const E=r()?e.row.metadata[r()]:void 0;if(E){const N=.5+Math.sqrt(E/100)*1.5;return Math.min(Math.max(n(x)*N,3),n(x)*2.5)}return n(x)}function S(b,E){var U,O,Q,gt;const F=M(E,0),N=e.row.markerStyle,H=(U=e.theme)==null?void 0:U.shapes.effectColors,C=(O=e.theme)==null?void 0:O.shapes.markerShapes,B=["square","circle","diamond","triangle"];let P;F&&(N!=null&&N.color)?P=N.color:b.color?P=b.color:H&&H.length>0?P=H[E%H.length]:P=((Q=e.theme)==null?void 0:Q.colors.interval)??((gt=e.theme)==null?void 0:gt.colors.primary)??"#2563eb";let Z;F&&(N!=null&&N.shape)?Z=N.shape:b.shape?Z=b.shape:C&&C.length>0?Z=C[E%C.length]:Z=B[E%B.length];let X;return F&&ge(N==null?void 0:N.opacity,null,!1)?X=N.opacity:ge(b.opacity,null,!1)?X=b.opacity:X=1,{color:P,shape:Z,opacity:X}}var A={...Ee()},R=kt(),w=mt(R);{var T=b=>{var E=wd();E.__click=function(...F){dr(()=>e.onRowClick,this,F,Oe,[222,13])},E.__keydown=F=>{var N;return M(F.key,"Enter")&&((N=e.onRowClick)==null?void 0:N.call(e))},z(()=>Ne(E,21,()=>n(l),Zn,(F,N,H)=>{const C=p(m(()=>ge(n(N).point,null,!1)&&!Number.isNaN(n(N).point)&&ge(n(N).lower,null,!1)&&!Number.isNaN(n(N).lower)&&ge(n(N).upper,null,!1)&&!Number.isNaN(n(N).upper)),"hasValidEffect");n(C);var B=kt(),P=mt(B);{var Z=X=>{const U=p(m(()=>e.yPosition+Zl(H,n(l).length)),"effectY");n(U);const O=p(m(()=>e.xScale(n(N).lower)),"x1");n(O);const Q=p(m(()=>e.xScale(n(N).upper)),"x2");n(Q);const gt=p(m(()=>e.xScale(n(N).point)),"cx");n(gt);const at=p(m(()=>S(n(N),H)),"style");n(at);const st=p(m(()=>y(M(H,0))),"pointSize");n(st);const it=p(m(()=>{var Mt;return((Mt=e.theme)==null?void 0:Mt.colors.intervalLine)??"#475569"}),"lineColor");n(it);var lt=kt(),Gt=mt(lt);{var Qt=Mt=>{const oe=p(m(()=>[`${n(O)},${n(U)}`,`${n(gt)},${n(U)-n(_)}`,`${n(Q)},${n(U)}`,`${n(gt)},${n(U)+n(_)}`].join(" ")),"summaryDiamondPoints");n(oe);var Ae=ud();tt(()=>{var Jt;W(Ae,"points",n(oe)),W(Ae,"fill",n(at).color),W(Ae,"fill-opacity",n(at).opacity),W(Ae,"stroke",((Jt=e.theme)==null?void 0:Jt.colors.summaryBorder)??"#1d4ed8")}),I(Mt,Ae)},_t=Mt=>{const oe=p(m(()=>s(n(N).lower)),"clippedL");n(oe);const Ae=p(m(()=>h(n(N).upper)),"clippedR");n(Ae);const Jt=p(m(()=>d(n(N).lower)),"clampedX1");n(Jt);const Re=p(m(()=>d(n(N).upper)),"clampedX2");n(Re);const vt=p(m(()=>n(a).height/2),"whiskerHalfHeight");n(vt);const ct=p(m(()=>d(n(N).point)),"clampedCx");n(ct);var qt=xd(),Vt=mt(qt),se=et(Vt);{var Ln=Ut=>{var Dt=dd();tt(Be=>{W(Dt,"d",Be),W(Dt,"fill",n(a).color),W(Dt,"fill-opacity",n(a).opacity)},[()=>la("left",n(u),n(U),n(a))]),I(Ut,Dt)},ee=Ut=>{var Dt=hd();tt(()=>{var Be;W(Dt,"x1",n(Jt)),W(Dt,"x2",n(Jt)),W(Dt,"y1",n(U)-n(vt)),W(Dt,"y2",n(U)+n(vt)),W(Dt,"stroke",n(it)),W(Dt,"stroke-width",((Be=e.theme)==null?void 0:Be.shapes.lineWidth)??1.5)}),I(Ut,Dt)};z(()=>q(se,Ut=>{n(oe)?Ut(Ln):Ut(ee,!1)}),"if",Oe,275,10)}var Ce=et(se);{var Xe=Ut=>{var Dt=gd();tt(Be=>{W(Dt,"d",Be),W(Dt,"fill",n(a).color),W(Dt,"fill-opacity",n(a).opacity)},[()=>la("right",n(g),n(U),n(a))]),I(Ut,Dt)},je=Ut=>{var Dt=vd();tt(()=>{var Be;W(Dt,"x1",n(Re)),W(Dt,"x2",n(Re)),W(Dt,"y1",n(U)-n(vt)),W(Dt,"y2",n(U)+n(vt)),W(Dt,"stroke",n(it)),W(Dt,"stroke-width",((Be=e.theme)==null?void 0:Be.shapes.lineWidth)??1.5)}),I(Ut,Dt)};z(()=>q(Ce,Ut=>{n(Ae)?Ut(Xe):Ut(je,!1)}),"if",Oe,292,10)}var Ye=et(Ce);{var En=Ut=>{var Dt=pd();tt(()=>{W(Dt,"cx",n(ct)),W(Dt,"cy",n(U)),W(Dt,"r",n(st)),W(Dt,"fill",n(at).color),W(Dt,"fill-opacity",n(at).opacity)}),I(Ut,Dt)},sn=Ut=>{var Dt=kt(),Be=mt(Dt);{var sr=xn=>{const Je=p(m(()=>[`${n(ct)},${n(U)-n(st)}`,`${n(ct)+n(st)},${n(U)}`,`${n(ct)},${n(U)+n(st)}`,`${n(ct)-n(st)},${n(U)}`].join(" ")),"diamondPts");n(Je);var kn=md();tt(()=>{W(kn,"points",n(Je)),W(kn,"fill",n(at).color),W(kn,"fill-opacity",n(at).opacity)}),I(xn,kn)},_r=xn=>{var Je=kt(),kn=mt(Je);{var Ur=$e=>{const dn=p(m(()=>[`${n(ct)},${n(U)-n(st)}`,`${n(ct)+n(st)},${n(U)+n(st)}`,`${n(ct)-n(st)},${n(U)+n(st)}`].join(" ")),"trianglePts");n(dn);var Fn=_d();tt(()=>{W(Fn,"points",n(dn)),W(Fn,"fill",n(at).color),W(Fn,"fill-opacity",n(at).opacity)}),I($e,Fn)},wn=$e=>{var dn=yd();tt(()=>{W(dn,"x",n(ct)-n(st)),W(dn,"y",n(U)-n(st)),W(dn,"width",n(st)*2),W(dn,"height",n(st)*2),W(dn,"fill",n(at).color),W(dn,"fill-opacity",n(at).opacity)}),I($e,dn)};z(()=>q(kn,$e=>{M(n(at).shape,"triangle")?$e(Ur):$e(wn,!1)},!0),"if",Oe,335,10)}I(xn,Je)};z(()=>q(Be,xn=>{M(n(at).shape,"diamond")?xn(sr):xn(_r,!1)},!0),"if",Oe,322,10)}I(Ut,Dt)};z(()=>q(Ye,Ut=>{M(n(at).shape,"circle")?Ut(En):Ut(sn,!1)}),"if",Oe,313,10)}tt(()=>{var Ut;W(Vt,"x1",n(Jt)),W(Vt,"x2",n(Re)),W(Vt,"y1",n(U)),W(Vt,"y2",n(U)),W(Vt,"stroke",n(it)),W(Vt,"stroke-width",((Ut=e.theme)==null?void 0:Ut.shapes.lineWidth)??1.5)}),I(Mt,qt)};z(()=>q(Gt,Mt=>{n(f)?Mt(Qt):Mt(_t,!1)}),"if",Oe,240,8)}I(X,lt)};z(()=>q(P,X=>{n(C)&&X(Z)}),"if",Oe,231,6)}I(F,B)}),"each",Oe,227,4),Bn("mouseenter",E,F=>{var N;return(N=e.onRowHover)==null?void 0:N.call(e,!0,F)}),Bn("mouseleave",E,F=>{var N;return(N=e.onRowHover)==null?void 0:N.call(e,!1,F)}),I(b,E)};z(()=>q(w,b=>{n(c)&&b(T)}),"if",Oe,217,0)}return I(t,R),ye(A)}Jr(["click","keydown"]),An[D]="src/components/forest/EffectAxis.svelte";function bd(t){return Math.abs(t)<.01?"0":Math.abs(t)>=100?t.toFixed(0):Math.abs(t)>=10?t.toFixed(1):t.toFixed(2)}var Md=V(At('<line stroke="var(--wf-border, #e2e8f0)" stroke-width="1" opacity="0.5"></line>'),An[D],[[171,6]]),Sd=V(At('<g><line stroke="var(--wf-border, #e2e8f0)" stroke-width="1"></line><text fill="var(--wf-secondary, #64748b)" font-size="var(--wf-font-size-sm, 0.75rem)" class="svelte-hf6bj6"> </text></g>'),An[D],[[187,4,[[188,6],[194,6]]]]),Ed=V(At('<text text-anchor="middle" fill="var(--wf-secondary, #64748b)" font-size="var(--wf-font-size-sm, 0.75rem)" font-weight="500" class="svelte-hf6bj6"> </text>'),An[D],[[208,4]]),kd=V(At('<g class="effect-axis svelte-hf6bj6"><line stroke="var(--wf-border, #e2e8f0)" stroke-width="1"></line><!><!><!></g>'),An[D],[[157,0,[[159,2]]]]);function An(t,e){Se(new.target),_e(e,!0,An);let r=Gn(e,"position",3,"bottom"),o=Gn(e,"plotHeight",3,0);const i=p(m(()=>{var b;return(b=e.theme)==null?void 0:b.axis}),"axisConfig"),a=p(m(()=>{var b;return e.gridlines??((b=n(i))==null?void 0:b.gridlines)??!1}),"showGridlines"),l=p(m(()=>{var b;return((b=n(i))==null?void 0:b.gridlineStyle)??"dotted"}),"gridlineStyle"),c=35,f=p(m(()=>{var b;return((b=n(i))==null?void 0:b.nullTick)??!0}),"shouldIncludeNullTick"),s=p(m(()=>{var Gt,Qt;const[b,E]=e.xScale.domain(),F=e.layout.nullValue,N=F>=b&&F<=E;if((Gt=n(i))!=null&&Gt.tickValues&&n(i).tickValues.length>0){let _t=n(i).tickValues.filter(Mt=>Mt>=b&&Mt<=E);return n(f)&&N&&!_t.includes(F)&&(_t=[..._t,F].sort((Mt,oe)=>Mt-oe)),_t}const H=50,C=Math.max(2,Math.floor(e.layout.forestWidth/H)),P=((Qt=n(i))==null?void 0:Qt.tickCount)??null??Math.min(7,C),Z=e.baseTicks&&e.baseTicks.length>0?e.baseTicks.filter(_t=>_t>=b&&_t<=E):e.xScale.ticks(P);if(M(Z.length,0))return n(f)&&N?[F]:[];const X=e.xScale(F),U=Z.filter(_t=>_t<F).reverse(),O=Z.filter(_t=>_t>F),Q=Z.some(_t=>M(_t,F)),gt=[];let at=X;for(const _t of U){const Mt=e.xScale(_t);at-Mt>=H&&(gt.unshift(_t),at=Mt)}const st=[];let it=X;for(const _t of O){const Mt=e.xScale(_t);Mt-it>=H&&(st.push(_t),it=Mt)}const lt=[...gt];if((Q||n(f)&&N)&&lt.push(F),lt.push(...st),lt.length<2){const _t=new Set(lt);_t.has(b)||lt.unshift(b),lt.length<2&&!_t.has(E)&&lt.push(E)}return lt}),"ticks"),h=p(m(()=>M(r(),"bottom")?0:e.layout.headerHeight-8),"axisY"),d=p(m(()=>M(r(),"bottom")),"isBottom"),u=p(m(()=>M(n(l),"dashed")?"4,4":M(n(l),"dotted")?"2,2":"none"),"gridlineDashArray");function g(b){return b<c?"start":b>e.layout.forestWidth-c?"end":"middle"}function v(b){return b<c?2:b>e.layout.forestWidth-c?-2:0}var _={...Ee()},x=kd(),y=$(x),S=et(y);{var A=b=>{var E=kt(),F=mt(E);yn(()=>n(s),N=>N),z(()=>Ne(F,16,()=>n(s),N=>N,(N,H)=>{var C=Md();tt((B,P)=>{W(C,"x1",B),W(C,"x2",P),W(C,"y1",(n(d),n(h))),W(C,"y2",n(d)?-o():o()),W(C,"stroke-dasharray",n(u))},[()=>e.xScale(H),()=>e.xScale(H)]),I(N,C)}),"each",An,170,4),I(b,E)};z(()=>q(S,b=>{n(a)&&o()>0&&b(A)}),"if",An,169,2)}var R=et(S);yn(()=>n(s),b=>b),z(()=>Ne(R,16,()=>n(s),b=>b,(b,E)=>{const F=p(m(()=>e.xScale(E)),"tickX");n(F);var N=Sd(),H=$(N),C=et(H),B=$(C,!0);tt((P,Z,X)=>{W(N,"transform",`translate(${n(F)??""}, 0)`),W(H,"y1",n(d)?n(h):n(h)-4),W(H,"y2",n(d)?n(h)+4:n(h)),W(C,"x",P),W(C,"y",n(d)?n(h)+16:n(h)-8),W(C,"text-anchor",Z),Bt(B,X)},[()=>v(n(F)),()=>g(n(F)),()=>bd(E)]),I(b,N)}),"each",An,185,2);var w=et(R);{var T=b=>{var E=Ed(),F=$(E);tt(()=>{W(E,"x",e.layout.forestWidth/2),W(E,"y",n(d)?n(h)+28:n(h)-24),Bt(F,e.axisLabel)}),I(b,E)};z(()=>q(w,b=>{e.axisLabel&&b(T)}),"if",An,207,2)}return tt((b,E)=>{W(y,"x1",b),W(y,"x2",E),W(y,"y1",n(h)),W(y,"y2",n(h))},[()=>e.xScale.range()[0],()=>e.xScale.range()[1]]),I(t,x),ye(_)}oo[D]="src/components/forest/SummaryDiamond.svelte";var Cd=V(At('<path fill="var(--wf-summary-fill, #2563eb)"></path>'),oo[D],[[58,4]]),Td=V(At('<path fill="var(--wf-summary-fill, #2563eb)"></path>'),oo[D],[[66,4]]),Nd=V(At('<g class="summary-diamond svelte-1g0hzau"><polygon fill="var(--wf-summary-fill, #2563eb)" stroke="var(--wf-summary-border, #1d4ed8)" stroke-width="1" class="svelte-1g0hzau"></polygon><!><!></g>'),oo[D],[[47,0,[[49,2]]]]);function oo(t,e){Se(new.target),_e(e,!0,oo);const r=p(m(()=>{var v;return((v=e.theme)==null?void 0:v.shapes.summaryHeight)??10}),"diamondHeight"),o=p(m(()=>n(r)/2),"halfHeight"),i=p(m(()=>{const v=e.xScale(e.lower),_=e.xScale(e.point),x=e.xScale(e.upper),y=0,S=e.layout.forestWidth,A=Math.max(y,v),R=Math.min(S,x);return[[A,e.yPosition].join(","),[_,e.yPosition-n(o)].join(","),[R,e.yPosition].join(","),[_,e.yPosition+n(o)].join(",")].join(" ")}),"points"),a=p(m(()=>e.xScale(e.lower)<0),"clippedLeft"),l=p(m(()=>e.xScale(e.upper)>e.layout.forestWidth),"clippedRight");var c={...Ee()},f=Nd(),s=$(f),h=et(s);{var d=v=>{var _=Cd();tt(()=>W(_,"d",`M 4 ${e.yPosition??""} L 10 ${e.yPosition-4} L 10 ${e.yPosition+4} Z`)),I(v,_)};z(()=>q(h,v=>{n(a)&&v(d)}),"if",oo,57,2)}var u=et(h);{var g=v=>{var _=Td();tt(()=>W(_,"d",`M ${e.layout.forestWidth-4} ${e.yPosition??""} L ${e.layout.forestWidth-10} ${e.yPosition-4} L ${e.layout.forestWidth-10} ${e.yPosition+4} Z`)),I(v,_)};z(()=>q(u,v=>{n(l)&&v(g)}),"if",oo,65,2)}return tt(()=>W(s,"points",n(i))),I(t,f),ye(c)}er[D]="src/components/forest/PlotHeader.svelte";var Ad=V(dt('<h2 class="plot-title svelte-xpghc"> </h2>'),er[D],[[17,8]]),Hd=V(dt('<p class="plot-subtitle svelte-xpghc"> </p>'),er[D],[[20,8]]),Wd=V(dt('<div class="controls-area svelte-xpghc"><!></div>'),er[D],[[24,6]]),Rd=V(dt('<div class="header-area svelte-xpghc"><div class="title-area svelte-xpghc"><!> <!></div> <!></div>'),er[D],[[14,2,[[15,4]]]]);function er(t,e){Se(new.target),_e(e,!0,er);var r={...Ee()},o=kt(),i=mt(o);{var a=l=>{var c=Rd(),f=$(c),s=$(f);{var h=_=>{var x=Ad(),y=$(x);tt(()=>Bt(y,e.title)),I(_,x)};z(()=>q(s,_=>{e.title&&_(h)}),"if",er,16,6)}var d=et(s,2);{var u=_=>{var x=Hd(),y=$(x);tt(()=>Bt(y,e.subtitle)),I(_,x)};z(()=>q(d,_=>{e.subtitle&&_(u)}),"if",er,19,6)}var g=et(f,2);{var v=_=>{var x=Wd(),y=$(x);z(()=>Gu(y,()=>e.controls),"render",er,25,8),I(_,x)};z(()=>q(g,_=>{e.controls&&_(v)}),"if",er,23,4)}I(l,c)};z(()=>q(i,l=>{(e.title||e.subtitle)&&l(a)}),"if",er,13,0)}return I(t,o),ye(r)}Dr[D]="src/components/forest/PlotFooter.svelte";var zd=V(dt('<p class="plot-caption svelte-7xjsde"> </p>'),Dr[D],[[13,6]]),Id=V(dt('<p class="plot-footnote svelte-7xjsde"> </p>'),Dr[D],[[16,6]]),Ld=V(dt('<div class="plot-footer svelte-7xjsde"><!> <!></div>'),Dr[D],[[11,2]]);function Dr(t,e){Se(new.target),_e(e,!0,Dr);var r={...Ee()},o=kt(),i=mt(o);{var a=l=>{var c=Ld(),f=$(c);{var s=u=>{var g=zd(),v=$(g);tt(()=>Bt(v,e.caption)),I(u,g)};z(()=>q(f,u=>{e.caption&&u(s)}),"if",Dr,12,4)}var h=et(f,2);{var d=u=>{var g=Id(),v=$(g);tt(()=>Bt(v,e.footnote)),I(u,g)};z(()=>q(h,u=>{e.footnote&&u(d)}),"if",Dr,15,4)}I(l,c)};z(()=>q(i,l=>{(e.caption||e.footnote)&&l(a)}),"if",Dr,10,0)}return I(t,o),ye(r)}$o[D]="src/components/forest/GroupHeader.svelte";var Fd=V(dt('<span class="group-count svelte-16smacw"> </span>'),$o[D],[[64,4]]),Pd=V(dt('<div><span><svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path d="M2 4L6 8L10 4" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg></span> <span class="group-label svelte-16smacw"> </span> <!></div>'),$o[D],[[49,0,[[57,2,[[58,4,[[59,6]]]]],[62,2]]]]);function $o(t,e){Se(new.target),_e(e,!0,$o);let r=Gn(e,"level",3,1);function o(_,x){const y=x==null?void 0:x.groupHeaders;return y?M(_,1)?{fontSize:y.level1FontSize,fontWeight:y.level1FontWeight,italic:y.level1Italic,borderBottom:y.level1BorderBottom}:M(_,2)?{fontSize:y.level2FontSize,fontWeight:y.level2FontWeight,italic:y.level2Italic,borderBottom:y.level2BorderBottom}:{fontSize:y.level3FontSize,fontWeight:y.level3FontWeight,italic:y.level3Italic,borderBottom:y.level3BorderBottom}:{fontSize:void 0,fontWeight:void 0,italic:!1,borderBottom:!1}}const i=p(m(()=>o(r(),e.theme)),"levelStyles");var a={...Ee()},l=Pd();let c,f;var s=$(l);let h;var d=et(s,2),u=$(d),g=et(d,2);{var v=_=>{var x=Fd(),y=$(x);tt(()=>Bt(y,`(${e.rowCount??""})`)),I(_,x)};z(()=>q(g,_=>{M(e.rowCount,void 0,!1)&&_(v)}),"if",$o,63,2)}return tt(()=>{c=fn(l,1,"group-header svelte-16smacw",null,c,{"has-border":n(i).borderBottom,italic:n(i).italic}),W(l,"aria-expanded",!e.group.collapsed),f=ke(l,"",f,{"font-size":n(i).fontSize,"font-weight":n(i).fontWeight}),h=fn(s,1,"group-chevron svelte-16smacw",null,h,{collapsed:e.group.collapsed}),Bt(u,e.group.label)}),I(t,l),ye(a)}wo[D]="src/components/ui/Tooltip.svelte";var Dd=V(dt('<div class="tooltip-row svelte-c43bsi"><span class="tooltip-label svelte-c43bsi"> </span> <span class="tooltip-value svelte-c43bsi"> </span></div>'),wo[D],[[77,8,[[78,10],[79,10]]]]),Bd=V(dt('<div class="tabviz-tooltip svelte-c43bsi"><div class="tooltip-header svelte-c43bsi"> </div> <div class="tooltip-body svelte-c43bsi"><div class="tooltip-row tooltip-estimate svelte-c43bsi"><span class="tooltip-label svelte-c43bsi">Estimate</span> <span class="tooltip-value svelte-c43bsi"> </span></div> <!></div></div>'),wo[D],[[67,2,[[68,4],[69,4,[[70,6,[[71,8],[72,8]]]]]]]]);function wo(t,e){Se(new.target),_e(e,!0,wo);let r=Gn(e,"fields",3,null),o=p(bt(void 0),"tooltipEl");function i(u){return M(u,null)||M(u,void 0)?"—":M(typeof u,"number")?Number.isInteger(u)?u.toString():u.toFixed(3):String(u)}const a=p(m(()=>!e.row||!r()||M(r().length,0)?[]:Object.entries(e.row.metadata).filter(([g])=>r().includes(g))),"displayFields"),l=p(m(()=>{if(!e.position)return"";const u=220,g=100,v=10;let _=e.position.x+v,x=e.position.y-v;const y=M(typeof window,"undefined",!1)?window.innerWidth:1e3;return M(typeof window,"undefined",!1)&&window.innerHeight,_+u>y-v&&(_=e.position.x-u-v),x-g<v?(x=e.position.y+v,`left: ${_}px; top: ${x}px; transform: none;`):`left: ${_}px; top: ${x}px;`}),"positionStyle"),c=p(m(()=>e.row&&e.position&&r()&&r().length>0),"shouldShow");var f={...Ee()},s=kt(),h=mt(s);{var d=u=>{var g=Bd(),v=$(g),_=$(v),x=et(v,2),y=$(x),S=et($(y),2),A=$(S),R=et(y,2);yn(()=>n(a),([w,T])=>w),z(()=>Ne(R,17,()=>n(a),([w,T])=>w,(w,T)=>{var b=m(()=>Ia(n(T),2));let E=()=>n(b)[0];E();let F=()=>n(b)[1];F();var N=Dd(),H=$(N),C=$(H,!0);var B=et(H,2),P=$(B,!0);tt(Z=>{Bt(C,E()),Bt(P,Z)},[()=>i(F())]),I(w,N)}),"each",wo,76,6),eo(g,w=>ot(o,w),()=>n(o)),tt((w,T,b)=>{ke(g,n(l)),Bt(_,e.row.label),Bt(A,`${w??""} (${T??""}, ${b??""})`)},[()=>i(e.row.point),()=>i(e.row.lower),()=>i(e.row.upper)]),I(u,g)};z(()=>q(h,u=>{n(c)&&u(d)}),"if",wo,66,0)}return I(t,s),ye(f)}bo[D]="src/components/table/CellBar.svelte";var Gd=V(dt('<span class="bar-label svelte-1l4k3z2"> </span>'),bo[D],[[39,6]]),Vd=V(dt('<div class="cell-bar svelte-1l4k3z2"><div class="bar-track svelte-1l4k3z2"><div class="bar-fill svelte-1l4k3z2"></div></div> <!></div>'),bo[D],[[30,2,[[31,4,[[32,6]]]]]]);function bo(t,e){Se(new.target),_e(e,!0,bo);let r=Gn(e,"maxValue",3,100);const o=p(m(()=>{var u;return((u=e.options)==null?void 0:u.maxValue)??r()}),"effectiveMax"),i=p(m(()=>{var u;return((u=e.options)==null?void 0:u.showLabel)??!0}),"showLabel"),a=p(m(()=>{var u;return((u=e.options)==null?void 0:u.color)??"var(--wf-primary, #2563eb)"}),"barColor"),l=p(m(()=>()=>M(e.value,void 0)||M(e.value,null)||n(o)<=0?0:Math.min(100,Math.max(0,e.value/n(o)*100))),"percentage"),c=p(m(()=>()=>M(e.value,void 0)||M(e.value,null)?"":e.value>=100?e.value.toFixed(0):e.value>=10?e.value.toFixed(1):e.value.toFixed(2)),"formattedValue");var f={...Ee()},s=kt(),h=mt(s);{var d=u=>{var g=Vd(),v=$(g),_=$(v);let x;var y=et(v,2);{var S=A=>{var R=Gd(),w=$(R);tt(T=>Bt(w,T),[()=>n(c)()]),I(A,R)};z(()=>q(y,A=>{n(i)&&A(S)}),"if",bo,38,4)}tt(A=>x=ke(_,"",x,A),[()=>({width:`${n(l)()??""}%`,"background-color":n(a)})]),I(u,g)};z(()=>q(h,u=>{M(e.value,void 0,!1)&&M(e.value,null,!1)&&u(d)}),"if",bo,29,0)}return I(t,s),ye(f)}Zo[D]="src/components/table/CellPvalue.svelte";var Od=V(dt('<span class="pvalue-stars svelte-1hymfkc"> </span>'),Zo[D],[[99,4]]),jd=V(dt('<span><span class="pvalue-number svelte-1hymfkc"> </span> <!></span>'),Zo[D],[[86,0,[[97,2]]]]);function Zo(t,e){Se(new.target),_e(e,!0,Zo);const r=p(m(()=>{var C;return((C=e.cellStyle)==null?void 0:C.bold)??!1}),"isBold"),o=p(m(()=>{var C;return((C=e.cellStyle)==null?void 0:C.italic)??!1}),"isItalic"),i=p(m(()=>{var C;return((C=e.cellStyle)==null?void 0:C.color)??null}),"textColor"),a=p(m(()=>{var C;return((C=e.cellStyle)==null?void 0:C.bg)??null}),"bgColor"),l=p(m(()=>{var C;return((C=e.cellStyle)==null?void 0:C.emphasis)??!1}),"isEmphasis"),c=p(m(()=>{var C;return((C=e.cellStyle)==null?void 0:C.muted)??!1}),"isMuted"),f=p(m(()=>{var C;return((C=e.cellStyle)==null?void 0:C.accent)??!1}),"isAccent"),s={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻","+":"⁺"};function h(C){return C.split("").map(B=>s[B]??B).join("")}const d=p(m(()=>{var C;return((C=e.options)==null?void 0:C.stars)??!1}),"showStars"),u=p(m(()=>{var C;return((C=e.options)==null?void 0:C.thresholds)??[.05,.01,.001]}),"thresholds"),g=p(m(()=>{var C;return((C=e.options)==null?void 0:C.format)??"auto"}),"format"),v=p(m(()=>{var C;return((C=e.options)==null?void 0:C.digits)??2}),"digits"),_=p(m(()=>{var C;return((C=e.options)==null?void 0:C.expThreshold)??.001}),"expThreshold"),x=p(m(()=>{var C;return((C=e.options)==null?void 0:C.abbrevThreshold)??null}),"abbrevThreshold"),y=p(m(()=>{if(!n(d)||M(e.value,void 0)||M(e.value,null))return"";const[C,B,P]=n(u);return e.value<P?"***":e.value<B?"**":e.value<C?"*":""}),"stars"),S=p(m(()=>{if(M(e.value,void 0)||M(e.value,null))return"";if(M(n(x),null,!1)&&e.value<n(x))return`<${n(x)}`;if(M(n(g),"scientific")||M(n(g),"auto")&&e.value<n(_)){const C=Math.floor(Math.log10(e.value));return`${(e.value/Math.pow(10,C)).toPrecision(n(v))}×10${h(C.toString())}`}return e.value>=.1?e.value.toFixed(n(v)):e.value>=.01?e.value.toFixed(n(v)+1):e.value.toFixed(n(v)+2)}),"formattedValue"),A=p(m(()=>n(y).length>0),"isSignificant");var R={...Ee()},w=jd();let T,b;var E=$(w),F=$(E),N=et(E,2);{var H=C=>{var B=Od(),P=$(B);tt(()=>Bt(P,n(y))),I(C,B)};z(()=>q(N,C=>{n(y)&&C(H)}),"if",Zo,98,2)}return tt(()=>{T=fn(w,1,"cell-pvalue svelte-1hymfkc",null,T,{significant:n(A),"cell-bold":n(r),"cell-italic":n(o),"cell-emphasis":n(l),"cell-muted":n(c),"cell-accent":n(f)}),b=ke(w,"",b,{color:n(i),"background-color":n(a)}),Bt(F,n(S))}),I(t,w),ye(R)}function fa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qd(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Kl(t){let e,r,o;t.length!==2?(e=fa,r=(c,f)=>fa(t(c),f),o=(c,f)=>t(c)-f):(e=t===fa||t===qd?t:Ud,r=t,o=t);function i(c,f,s=0,h=c.length){if(s<h){if(e(f,f)!==0)return h;do{const d=s+h>>>1;r(c[d],f)<0?s=d+1:h=d}while(s<h)}return s}function a(c,f,s=0,h=c.length){if(s<h){if(e(f,f)!==0)return h;do{const d=s+h>>>1;r(c[d],f)<=0?s=d+1:h=d}while(s<h)}return s}function l(c,f,s=0,h=c.length){const d=i(c,f,s,h-1);return d>s&&o(c[d-1],f)>-o(c[d],f)?d-1:d}return{left:i,center:l,right:a}}function Ud(){return 0}function Xd(t){return t===null?NaN:+t}const Yd=Kl(fa).right;Kl(Xd).center;const $d=Math.sqrt(50),Zd=Math.sqrt(10),Kd=Math.sqrt(2);function ua(t,e,r){const o=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(o)),a=o/Math.pow(10,i),l=a>=$d?10:a>=Zd?5:a>=Kd?2:1;let c,f,s;return i<0?(s=Math.pow(10,-i)/l,c=Math.round(t*s),f=Math.round(e*s),c/s<t&&++c,f/s>e&&--f,s=-s):(s=Math.pow(10,i)*l,c=Math.round(t/s),f=Math.round(e/s),c*s<t&&++c,f*s>e&&--f),f<c&&.5<=r&&r<2?ua(t,e,r*2):[c,f,s]}function ls(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const o=e<t,[i,a,l]=o?ua(e,t,r):ua(t,e,r);if(!(a>=i))return[];const c=a-i+1,f=new Array(c);if(o)if(l<0)for(let s=0;s<c;++s)f[s]=(a-s)/-l;else for(let s=0;s<c;++s)f[s]=(a-s)*l;else if(l<0)for(let s=0;s<c;++s)f[s]=(i+s)/-l;else for(let s=0;s<c;++s)f[s]=(i+s)*l;return f}function cs(t,e,r){return e=+e,t=+t,r=+r,ua(t,e,r)[2]}function Qd(t,e,r){e=+e,t=+t,r=+r;const o=e<t,i=o?cs(e,t,r):cs(t,e,r);return(o?-1:1)*(i<0?1/-i:i)}function Ql(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function fs(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Jl(t,e){var r=Object.create(t.prototype);for(var o in e)r[o]=e[o];return r}function Ri(){}var zi=.7,da=1/zi,Ko="\\s*([+-]?\\d+)\\s*",Ii="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Cr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Jd=/^#([0-9a-f]{3,8})$/,th=new RegExp(`^rgb\\(${Ko},${Ko},${Ko}\\)$`),eh=new RegExp(`^rgb\\(${Cr},${Cr},${Cr}\\)$`),nh=new RegExp(`^rgba\\(${Ko},${Ko},${Ko},${Ii}\\)$`),rh=new RegExp(`^rgba\\(${Cr},${Cr},${Cr},${Ii}\\)$`),oh=new RegExp(`^hsl\\(${Ii},${Cr},${Cr}\\)$`),ih=new RegExp(`^hsla\\(${Ii},${Cr},${Cr},${Ii}\\)$`),tc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fs(Ri,Li,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ec,formatHex:ec,formatHex8:ah,formatHsl:sh,formatRgb:nc,toString:nc});function ec(){return this.rgb().formatHex()}function ah(){return this.rgb().formatHex8()}function sh(){return sc(this).formatHsl()}function nc(){return this.rgb().formatRgb()}function Li(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Jd.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?rc(e):r===3?new Hn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?ha(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?ha(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=th.exec(t))?new Hn(e[1],e[2],e[3],1):(e=eh.exec(t))?new Hn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=nh.exec(t))?ha(e[1],e[2],e[3],e[4]):(e=rh.exec(t))?ha(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=oh.exec(t))?ac(e[1],e[2]/100,e[3]/100,1):(e=ih.exec(t))?ac(e[1],e[2]/100,e[3]/100,e[4]):tc.hasOwnProperty(t)?rc(tc[t]):t==="transparent"?new Hn(NaN,NaN,NaN,0):null}function rc(t){return new Hn(t>>16&255,t>>8&255,t&255,1)}function ha(t,e,r,o){return o<=0&&(t=e=r=NaN),new Hn(t,e,r,o)}function lh(t){return t instanceof Ri||(t=Li(t)),t?(t=t.rgb(),new Hn(t.r,t.g,t.b,t.opacity)):new Hn}function us(t,e,r,o){return arguments.length===1?lh(t):new Hn(t,e,r,o??1)}function Hn(t,e,r,o){this.r=+t,this.g=+e,this.b=+r,this.opacity=+o}fs(Hn,us,Jl(Ri,{brighter(t){return t=t==null?da:Math.pow(da,t),new Hn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?zi:Math.pow(zi,t),new Hn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Hn(Mo(this.r),Mo(this.g),Mo(this.b),ga(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oc,formatHex:oc,formatHex8:ch,formatRgb:ic,toString:ic}));function oc(){return`#${So(this.r)}${So(this.g)}${So(this.b)}`}function ch(){return`#${So(this.r)}${So(this.g)}${So(this.b)}${So((isNaN(this.opacity)?1:this.opacity)*255)}`}function ic(){const t=ga(this.opacity);return`${t===1?"rgb(":"rgba("}${Mo(this.r)}, ${Mo(this.g)}, ${Mo(this.b)}${t===1?")":`, ${t})`}`}function ga(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Mo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function So(t){return t=Mo(t),(t<16?"0":"")+t.toString(16)}function ac(t,e,r,o){return o<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new hr(t,e,r,o)}function sc(t){if(t instanceof hr)return new hr(t.h,t.s,t.l,t.opacity);if(t instanceof Ri||(t=Li(t)),!t)return new hr;if(t instanceof hr)return t;t=t.rgb();var e=t.r/255,r=t.g/255,o=t.b/255,i=Math.min(e,r,o),a=Math.max(e,r,o),l=NaN,c=a-i,f=(a+i)/2;return c?(e===a?l=(r-o)/c+(r<o)*6:r===a?l=(o-e)/c+2:l=(e-r)/c+4,c/=f<.5?a+i:2-a-i,l*=60):c=f>0&&f<1?0:l,new hr(l,c,f,t.opacity)}function fh(t,e,r,o){return arguments.length===1?sc(t):new hr(t,e,r,o??1)}function hr(t,e,r,o){this.h=+t,this.s=+e,this.l=+r,this.opacity=+o}fs(hr,fh,Jl(Ri,{brighter(t){return t=t==null?da:Math.pow(da,t),new hr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?zi:Math.pow(zi,t),new hr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,o=r+(r<.5?r:1-r)*e,i=2*r-o;return new Hn(ds(t>=240?t-240:t+120,i,o),ds(t,i,o),ds(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new hr(lc(this.h),va(this.s),va(this.l),ga(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ga(this.opacity);return`${t===1?"hsl(":"hsla("}${lc(this.h)}, ${va(this.s)*100}%, ${va(this.l)*100}%${t===1?")":`, ${t})`}`}}));function lc(t){return t=(t||0)%360,t<0?t+360:t}function va(t){return Math.max(0,Math.min(1,t||0))}function ds(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const hs=t=>()=>t;function uh(t,e){return function(r){return t+r*e}}function dh(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(o){return Math.pow(t+o*e,r)}}function hh(t){return(t=+t)==1?cc:function(e,r){return r-e?dh(e,r,t):hs(isNaN(e)?r:e)}}function cc(t,e){var r=e-t;return r?uh(t,r):hs(isNaN(t)?e:t)}const fc=(function t(e){var r=hh(e);function o(i,a){var l=r((i=us(i)).r,(a=us(a)).r),c=r(i.g,a.g),f=r(i.b,a.b),s=cc(i.opacity,a.opacity);return function(h){return i.r=l(h),i.g=c(h),i.b=f(h),i.opacity=s(h),i+""}}return o.gamma=t,o})(1);function gh(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,o=e.slice(),i;return function(a){for(i=0;i<r;++i)o[i]=t[i]*(1-a)+e[i]*a;return o}}function vh(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ph(t,e){var r=e?e.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r),l;for(l=0;l<o;++l)i[l]=ps(t[l],e[l]);for(;l<r;++l)a[l]=e[l];return function(c){for(l=0;l<o;++l)a[l]=i[l](c);return a}}function mh(t,e){var r=new Date;return t=+t,e=+e,function(o){return r.setTime(t*(1-o)+e*o),r}}function pa(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function _h(t,e){var r={},o={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=ps(t[i],e[i]):o[i]=e[i];return function(a){for(i in r)o[i]=r[i](a);return o}}var gs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vs=new RegExp(gs.source,"g");function yh(t){return function(){return t}}function xh(t){return function(e){return t(e)+""}}function wh(t,e){var r=gs.lastIndex=vs.lastIndex=0,o,i,a,l=-1,c=[],f=[];for(t=t+"",e=e+"";(o=gs.exec(t))&&(i=vs.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),c[l]?c[l]+=a:c[++l]=a),(o=o[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,f.push({i:l,x:pa(o,i)})),r=vs.lastIndex;return r<e.length&&(a=e.slice(r),c[l]?c[l]+=a:c[++l]=a),c.length<2?f[0]?xh(f[0].x):yh(e):(e=f.length,function(s){for(var h=0,d;h<e;++h)c[(d=f[h]).i]=d.x(s);return c.join("")})}function ps(t,e){var r=typeof e,o;return e==null||r==="boolean"?hs(e):(r==="number"?pa:r==="string"?(o=Li(e))?(e=o,fc):wh:e instanceof Li?fc:e instanceof Date?mh:vh(e)?gh:Array.isArray(e)?ph:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?_h:pa)(t,e)}function bh(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Mh(t){return function(){return t}}function Sh(t){return+t}var uc=[0,1];function Qo(t){return t}function ms(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Mh(isNaN(e)?NaN:.5)}function Eh(t,e){var r;return t>e&&(r=t,t=e,e=r),function(o){return Math.max(t,Math.min(e,o))}}function kh(t,e,r){var o=t[0],i=t[1],a=e[0],l=e[1];return i<o?(o=ms(i,o),a=r(l,a)):(o=ms(o,i),a=r(a,l)),function(c){return a(o(c))}}function Ch(t,e,r){var o=Math.min(t.length,e.length)-1,i=new Array(o),a=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)i[l]=ms(t[l],t[l+1]),a[l]=r(e[l],e[l+1]);return function(c){var f=Yd(t,c,1,o)-1;return a[f](i[f](c))}}function dc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function hc(){var t=uc,e=uc,r=ps,o,i,a,l=Qo,c,f,s;function h(){var u=Math.min(t.length,e.length);return l!==Qo&&(l=Eh(t[0],t[u-1])),c=u>2?Ch:kh,f=s=null,d}function d(u){return u==null||isNaN(u=+u)?a:(f||(f=c(t.map(o),e,r)))(o(l(u)))}return d.invert=function(u){return l(i((s||(s=c(e,t.map(o),pa)))(u)))},d.domain=function(u){return arguments.length?(t=Array.from(u,Sh),h()):t.slice()},d.range=function(u){return arguments.length?(e=Array.from(u),h()):e.slice()},d.rangeRound=function(u){return e=Array.from(u),r=bh,h()},d.clamp=function(u){return arguments.length?(l=u?!0:Qo,h()):l!==Qo},d.interpolate=function(u){return arguments.length?(r=u,h()):r},d.unknown=function(u){return arguments.length?(a=u,d):a},function(u,g){return o=u,i=g,h()}}function Th(){return hc()(Qo,Qo)}function Nh(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ma(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,o=t.slice(0,r);return[o.length>1?o[0]+o.slice(2):o,+t.slice(r+1)]}function Jo(t){return t=ma(Math.abs(t)),t?t[1]:NaN}function Ah(t,e){return function(r,o){for(var i=r.length,a=[],l=0,c=t[0],f=0;i>0&&c>0&&(f+c+1>o&&(c=Math.max(1,o-f)),a.push(r.substring(i-=c,i+c)),!((f+=c+1)>o));)c=t[l=(l+1)%t.length];return a.reverse().join(e)}}function Hh(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Wh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fi(t){if(!(e=Wh.exec(t)))throw new Error("invalid format: "+t);var e;return new _s({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Fi.prototype=_s.prototype;function _s(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}_s.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Rh(t){t:for(var e=t.length,r=1,o=-1,i;r<e;++r)switch(t[r]){case".":o=i=r;break;case"0":o===0&&(o=r),i=r;break;default:if(!+t[r])break t;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(i+1):t}var gc;function zh(t,e){var r=ma(t,e);if(!r)return t+"";var o=r[0],i=r[1],a=i-(gc=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=o.length;return a===l?o:a>l?o+new Array(a-l+1).join("0"):a>0?o.slice(0,a)+"."+o.slice(a):"0."+new Array(1-a).join("0")+ma(t,Math.max(0,e+a-1))[0]}function vc(t,e){var r=ma(t,e);if(!r)return t+"";var o=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const pc={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Nh,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>vc(t*100,e),r:vc,s:zh,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function mc(t){return t}var _c=Array.prototype.map,yc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ih(t){var e=t.grouping===void 0||t.thousands===void 0?mc:Ah(_c.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?mc:Hh(_c.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function s(d){d=Fi(d);var u=d.fill,g=d.align,v=d.sign,_=d.symbol,x=d.zero,y=d.width,S=d.comma,A=d.precision,R=d.trim,w=d.type;w==="n"?(S=!0,w="g"):pc[w]||(A===void 0&&(A=12),R=!0,w="g"),(x||u==="0"&&g==="=")&&(x=!0,u="0",g="=");var T=_==="$"?r:_==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",b=_==="$"?o:/[%p]/.test(w)?l:"",E=pc[w],F=/[defgprs%]/.test(w);A=A===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function N(H){var C=T,B=b,P,Z,X;if(w==="c")B=E(H)+B,H="";else{H=+H;var U=H<0||1/H<0;if(H=isNaN(H)?f:E(Math.abs(H),A),R&&(H=Rh(H)),U&&+H==0&&v!=="+"&&(U=!1),C=(U?v==="("?v:c:v==="-"||v==="("?"":v)+C,B=(w==="s"?yc[8+gc/3]:"")+B+(U&&v==="("?")":""),F){for(P=-1,Z=H.length;++P<Z;)if(X=H.charCodeAt(P),48>X||X>57){B=(X===46?i+H.slice(P+1):H.slice(P))+B,H=H.slice(0,P);break}}}S&&!x&&(H=e(H,1/0));var O=C.length+H.length+B.length,Q=O<y?new Array(y-O+1).join(u):"";switch(S&&x&&(H=e(Q+H,Q.length?y-B.length:1/0),Q=""),g){case"<":H=C+H+B+Q;break;case"=":H=C+Q+H+B;break;case"^":H=Q.slice(0,O=Q.length>>1)+C+H+B+Q.slice(O);break;default:H=Q+C+H+B;break}return a(H)}return N.toString=function(){return d+""},N}function h(d,u){var g=s((d=Fi(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(Jo(u)/3)))*3,_=Math.pow(10,-v),x=yc[8+v/3];return function(y){return g(_*y)+x}}return{format:s,formatPrefix:h}}var _a,ys,xc;Lh({thousands:",",grouping:[3],currency:["$",""]});function Lh(t){return _a=Ih(t),ys=_a.format,xc=_a.formatPrefix,_a}function Fh(t){return Math.max(0,-Jo(Math.abs(t)))}function Ph(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jo(e)/3)))*3-Jo(Math.abs(t)))}function Dh(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Jo(e)-Jo(t))+1}function Bh(t,e,r,o){var i=Qd(t,e,r),a;switch(o=Fi(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(a=Ph(i,l))&&(o.precision=a),xc(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(a=Dh(i,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=a-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(a=Fh(i))&&(o.precision=a-(o.type==="%")*2);break}}return ys(o)}function Gh(t){var e=t.domain;return t.ticks=function(r){var o=e();return ls(o[0],o[o.length-1],r??10)},t.tickFormat=function(r,o){var i=e();return Bh(i[0],i[i.length-1],r??10,o)},t.nice=function(r){r==null&&(r=10);var o=e(),i=0,a=o.length-1,l=o[i],c=o[a],f,s,h=10;for(c<l&&(s=l,l=c,c=s,s=i,i=a,a=s);h-- >0;){if(s=cs(l,c,r),s===f)return o[i]=l,o[a]=c,e(o);if(s>0)l=Math.floor(l/s)*s,c=Math.ceil(c/s)*s;else if(s<0)l=Math.ceil(l*s)/s,c=Math.floor(c*s)/s;else break;f=s}return t},t}function nr(){var t=Th();return t.copy=function(){return dc(t,nr())},Ql.apply(t,arguments),Gh(t)}function Vh(t,e){t=t.slice();var r=0,o=t.length-1,i=t[r],a=t[o],l;return a<i&&(l=r,r=o,o=l,l=i,i=a,a=l),t[r]=e.floor(i),t[o]=e.ceil(a),t}function wc(t){return Math.log(t)}function bc(t){return Math.exp(t)}function Oh(t){return-Math.log(-t)}function jh(t){return-Math.exp(-t)}function qh(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Uh(t){return t===10?qh:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Xh(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Mc(t){return(e,r)=>-t(-e,r)}function Yh(t){const e=t(wc,bc),r=e.domain;let o=10,i,a;function l(){return i=Xh(o),a=Uh(o),r()[0]<0?(i=Mc(i),a=Mc(a),t(Oh,jh)):t(wc,bc),e}return e.base=function(c){return arguments.length?(o=+c,l()):o},e.domain=function(c){return arguments.length?(r(c),l()):r()},e.ticks=c=>{const f=r();let s=f[0],h=f[f.length-1];const d=h<s;d&&([s,h]=[h,s]);let u=i(s),g=i(h),v,_;const x=c==null?10:+c;let y=[];if(!(o%1)&&g-u<x){if(u=Math.floor(u),g=Math.ceil(g),s>0){for(;u<=g;++u)for(v=1;v<o;++v)if(_=u<0?v/a(-u):v*a(u),!(_<s)){if(_>h)break;y.push(_)}}else for(;u<=g;++u)for(v=o-1;v>=1;--v)if(_=u>0?v/a(-u):v*a(u),!(_<s)){if(_>h)break;y.push(_)}y.length*2<x&&(y=ls(s,h,x))}else y=ls(u,g,Math.min(g-u,x)).map(a);return d?y.reverse():y},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=o===10?"s":","),typeof f!="function"&&(!(o%1)&&(f=Fi(f)).precision==null&&(f.trim=!0),f=ys(f)),c===1/0)return f;const s=Math.max(1,o*c/e.ticks().length);return h=>{let d=h/a(Math.round(i(h)));return d*o<o-.5&&(d*=o),d<=s?f(h):""}},e.nice=()=>r(Vh(r(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function Br(){const t=Yh(hc()).domain([1,10]);return t.copy=()=>dc(t,Br()).base(t.base()),Ql.apply(t,arguments),t}function rn(t){return function(){return t}}const Sc=1e-12,xs=Math.PI,ws=2*xs,Eo=1e-6,$h=ws-Eo;function Ec(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Zh(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Ec;const r=10**e;return function(o){this._+=o[0];for(let i=1,a=o.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+o[i]}}class Kh{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Ec:Zh(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,o,i){this._append`Q${+e},${+r},${this._x1=+o},${this._y1=+i}`}bezierCurveTo(e,r,o,i,a,l){this._append`C${+e},${+r},${+o},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,r,o,i,a){if(e=+e,r=+r,o=+o,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,c=this._y1,f=o-e,s=i-r,h=l-e,d=c-r,u=h*h+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(u>Eo)if(!(Math.abs(d*f-s*h)>Eo)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let g=o-l,v=i-c,_=f*f+s*s,x=g*g+v*v,y=Math.sqrt(_),S=Math.sqrt(u),A=a*Math.tan((xs-Math.acos((_+u-x)/(2*y*S)))/2),R=A/S,w=A/y;Math.abs(R-1)>Eo&&this._append`L${e+R*h},${r+R*d}`,this._append`A${a},${a},0,0,${+(d*g>h*v)},${this._x1=e+w*f},${this._y1=r+w*s}`}}arc(e,r,o,i,a,l){if(e=+e,r=+r,o=+o,l=!!l,o<0)throw new Error(`negative radius: ${o}`);let c=o*Math.cos(i),f=o*Math.sin(i),s=e+c,h=r+f,d=1^l,u=l?i-a:a-i;this._x1===null?this._append`M${s},${h}`:(Math.abs(this._x1-s)>Eo||Math.abs(this._y1-h)>Eo)&&this._append`L${s},${h}`,o&&(u<0&&(u=u%ws+ws),u>$h?this._append`A${o},${o},0,1,${d},${e-c},${r-f}A${o},${o},0,1,${d},${this._x1=s},${this._y1=h}`:u>Eo&&this._append`A${o},${o},0,${+(u>=xs)},${d},${this._x1=e+o*Math.cos(a)},${this._y1=r+o*Math.sin(a)}`)}rect(e,r,o,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${o=+o}v${+i}h${-o}Z`}toString(){return this._}}function kc(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const o=Math.floor(r);if(!(o>=0))throw new RangeError(`invalid digits: ${r}`);e=o}return t},()=>new Kh(e)}function Cc(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Tc(t){this._context=t}Tc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Nc(t){return new Tc(t)}function Ac(t){return t[0]}function Hc(t){return t[1]}function Wc(t,e){var r=rn(!0),o=null,i=Nc,a=null,l=kc(c);t=typeof t=="function"?t:t===void 0?Ac:rn(t),e=typeof e=="function"?e:e===void 0?Hc:rn(e);function c(f){var s,h=(f=Cc(f)).length,d,u=!1,g;for(o==null&&(a=i(g=l())),s=0;s<=h;++s)!(s<h&&r(d=f[s],s,f))===u&&((u=!u)?a.lineStart():a.lineEnd()),u&&a.point(+t(d,s,f),+e(d,s,f));if(g)return a=null,g+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:rn(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:rn(+f),c):e},c.defined=function(f){return arguments.length?(r=typeof f=="function"?f:rn(!!f),c):r},c.curve=function(f){return arguments.length?(i=f,o!=null&&(a=i(o)),c):i},c.context=function(f){return arguments.length?(f==null?o=a=null:a=i(o=f),c):o},c}function Qh(t,e,r){var o=null,i=rn(!0),a=null,l=Nc,c=null,f=kc(s);t=typeof t=="function"?t:t===void 0?Ac:rn(+t),e=typeof e=="function"?e:rn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Hc:rn(+r);function s(d){var u,g,v,_=(d=Cc(d)).length,x,y=!1,S,A=new Array(_),R=new Array(_);for(a==null&&(c=l(S=f())),u=0;u<=_;++u){if(!(u<_&&i(x=d[u],u,d))===y)if(y=!y)g=u,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),v=u-1;v>=g;--v)c.point(A[v],R[v]);c.lineEnd(),c.areaEnd()}y&&(A[u]=+t(x,u,d),R[u]=+e(x,u,d),c.point(o?+o(x,u,d):A[u],r?+r(x,u,d):R[u]))}if(S)return c=null,S+""||null}function h(){return Wc().defined(i).curve(l).context(a)}return s.x=function(d){return arguments.length?(t=typeof d=="function"?d:rn(+d),o=null,s):t},s.x0=function(d){return arguments.length?(t=typeof d=="function"?d:rn(+d),s):t},s.x1=function(d){return arguments.length?(o=d==null?null:typeof d=="function"?d:rn(+d),s):o},s.y=function(d){return arguments.length?(e=typeof d=="function"?d:rn(+d),r=null,s):e},s.y0=function(d){return arguments.length?(e=typeof d=="function"?d:rn(+d),s):e},s.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:rn(+d),s):r},s.lineX0=s.lineY0=function(){return h().x(t).y(e)},s.lineY1=function(){return h().x(t).y(r)},s.lineX1=function(){return h().x(o).y(e)},s.defined=function(d){return arguments.length?(i=typeof d=="function"?d:rn(!!d),s):i},s.curve=function(d){return arguments.length?(l=d,a!=null&&(c=l(a)),s):l},s.context=function(d){return arguments.length?(d==null?a=c=null:c=l(a=d),s):a},s}function Rc(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function bs(t,e){this._context=t,this._k=(1-e)/6}bs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Rc(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Rc(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},(function t(e){function r(o){return new bs(o,e)}return r.tension=function(o){return t(+o)},r})(0);function Jh(t,e,r){var o=t._x1,i=t._y1,a=t._x2,l=t._y2;if(t._l01_a>Sc){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,f=3*t._l01_a*(t._l01_a+t._l12_a);o=(o*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/f,i=(i*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/f}if(t._l23_a>Sc){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*s+t._x1*t._l23_2a-e*t._l12_2a)/h,l=(l*s+t._y1*t._l23_2a-r*t._l12_2a)/h}t._context.bezierCurveTo(o,i,a,l,t._x2,t._y2)}function zc(t,e){this._context=t,this._alpha=e}zc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,o=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+o*o,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Jh(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Ic=(function t(e){function r(o){return e?new zc(o,e):new bs(o,0)}return r.alpha=function(o){return t(+o)},r})(.5);Wn[D]="src/components/table/CellSparkline.svelte";var tg=V(At('<rect opacity="0.8"></rect>'),Wn[D],[[72,8]]),eg=V(At('<path opacity="0.3"></path><path fill="none" stroke-width="1.5"></path>',1),Wn[D],[[82,6],[83,6]]),ng=V(At('<circle r="2"></circle>'),Wn[D],[[89,8]]),rg=V(At('<path fill="none" stroke-width="1.5"></path><!>',1),Wn[D],[[85,6]]),og=V(At('<text text-anchor="middle" dominant-baseline="middle" fill="var(--wf-muted, #94a3b8)" font-size="8">--</text>'),Wn[D],[[93,4]]),ig=V(At('<svg class="cell-sparkline svelte-hfafss"><!></svg>'),Wn[D],[[68,0]]);function Wn(t,e){Se(new.target),_e(e,!0,Wn);const r=p(m(()=>{var x;return((x=e.options)==null?void 0:x.type)??"line"}),"chartType"),o=p(m(()=>{var x;return((x=e.options)==null?void 0:x.height)??20}),"chartHeight"),i=p(m(()=>{var x;return((x=e.options)==null?void 0:x.color)??"var(--wf-primary, #2563eb)"}),"chartColor"),a=60,l=p(m(()=>!e.data||!Array.isArray(e.data)||M(e.data.length,0)?[]:Array.isArray(e.data[0])?e.data[0]:e.data),"normalizedData"),c=p(m(()=>{if(M(n(l).length,0))return[];const x=Math.min(...n(l)),y=Math.max(...n(l)),S=(y-x)*.1||1,A=nr().domain([0,n(l).length-1]).range([2,a-2]),R=nr().domain([x-S,y+S]).range([n(o)-2,2]);return n(l).map((w,T)=>[A(T),R(w)])}),"points"),f=p(m(()=>M(n(c).length,0)?"":Wc().x(y=>y[0]).y(y=>y[1]).curve(Ic.alpha(.5))(n(c))??""),"linePath"),s=p(m(()=>M(n(c).length,0)?"":Qh().x(y=>y[0]).y0(n(o)-2).y1(y=>y[1]).curve(Ic.alpha(.5))(n(c))??""),"areaPath"),h=p(m(()=>n(c).length>0?(a-8)/n(c).length-1:0),"barWidth");var d={...Ee()},u=ig();W(u,"width",a);var g=$(u);{var v=x=>{var y=kt(),S=mt(y);{var A=w=>{var T=kt(),b=mt(T);z(()=>Ne(b,17,()=>n(c),Zn,(E,F)=>{var N=m(()=>Ia(n(F),2));let H=()=>n(N)[0];H();let C=()=>n(N)[1];C();var B=tg();tt(()=>{W(B,"x",H()-n(h)/2),W(B,"y",C()),W(B,"width",n(h)),W(B,"height",n(o)-2-C()),W(B,"fill",n(i))}),I(E,B)}),"each",Wn,71,6),I(w,T)},R=w=>{var T=kt(),b=mt(T);{var E=N=>{var H=eg(),C=mt(H),B=et(C);tt(()=>{W(C,"d",n(s)),W(C,"fill",n(i)),W(B,"d",n(f)),W(B,"stroke",n(i))}),I(N,H)},F=N=>{var H=rg(),C=mt(H),B=et(C);{var P=Z=>{const X=p(m(()=>n(c)[n(c).length-1]),"lastPoint");n(X);var U=ng();tt(()=>{W(U,"cx",n(X)[0]),W(U,"cy",n(X)[1]),W(U,"fill",n(i))}),I(Z,U)};z(()=>q(B,Z=>{n(c).length>0&&Z(P)}),"if",Wn,87,6)}tt(()=>{W(C,"d",n(f)),W(C,"stroke",n(i))}),I(N,H)};z(()=>q(b,N=>{M(n(r),"area")?N(E):N(F,!1)},!0),"if",Wn,81,4)}I(w,T)};z(()=>q(S,w=>{M(n(r),"bar")?w(A):w(R,!1)}),"if",Wn,70,4)}I(x,y)},_=x=>{var y=og();W(y,"x",a/2),tt(()=>W(y,"y",n(o)/2)),I(x,y)};z(()=>q(g,x=>{n(c).length>0?x(v):x(_,!1)}),"if",Wn,69,2)}return tt(()=>{W(u,"height",n(o)),W(u,"viewBox",`0 0 60 ${n(o)??""}`)}),I(t,u),ye(d)}gr[D]="src/components/table/CellContent.svelte";var ag=V(dt('<span class="cell-icon svelte-mxyczy"> </span>'),gr[D],[[34,15]]),sg=V(dt('<span class="cell-badge svelte-mxyczy"> </span>'),gr[D],[[36,16]]),lg=V(dt('<span><!> <span class="cell-value"> </span> <!></span>'),gr[D],[[23,0,[[35,2]]]]);function gr(t,e){Se(new.target),_e(e,!0,gr);const r=p(m(()=>{var w;return!!((w=e.cellStyle)!=null&&w.badge)}),"hasBadge"),o=p(m(()=>{var w;return!!((w=e.cellStyle)!=null&&w.icon)}),"hasIcon"),i=p(m(()=>{var w;return((w=e.cellStyle)==null?void 0:w.bold)??!1}),"isBold"),a=p(m(()=>{var w;return((w=e.cellStyle)==null?void 0:w.italic)??!1}),"isItalic"),l=p(m(()=>{var w;return((w=e.cellStyle)==null?void 0:w.color)??null}),"textColor"),c=p(m(()=>{var w;return((w=e.cellStyle)==null?void 0:w.bg)??null}),"bgColor"),f=p(m(()=>{var w;return((w=e.cellStyle)==null?void 0:w.emphasis)??!1}),"isEmphasis"),s=p(m(()=>{var w;return((w=e.cellStyle)==null?void 0:w.muted)??!1}),"isMuted"),h=p(m(()=>{var w;return((w=e.cellStyle)==null?void 0:w.accent)??!1}),"isAccent");var d={...Ee()},u=lg();let g,v;var _=$(u);{var x=w=>{var T=ag(),b=$(T);tt(()=>{var E;return Bt(b,(E=e.cellStyle)==null?void 0:E.icon)}),I(w,T)};z(()=>q(_,w=>{n(o)&&w(x)}),"if",gr,34,2)}var y=et(_,2),S=$(y),A=et(y,2);{var R=w=>{var T=sg(),b=$(T);tt(()=>{var E;return Bt(b,(E=e.cellStyle)==null?void 0:E.badge)}),I(w,T)};z(()=>q(A,w=>{n(r)&&w(R)}),"if",gr,36,2)}return tt(w=>{g=fn(u,1,"cell-content svelte-mxyczy",null,g,{"cell-bold":n(i),"cell-italic":n(a),"cell-emphasis":n(f),"cell-muted":n(s),"cell-accent":n(h)}),W(u,"title",w),v=ke(u,"",v,{color:n(l),"background-color":n(c)}),Bt(S,e.value??"")},[()=>String(e.value??"")]),I(t,u),ye(d)}Pi[D]="src/components/table/CellIcon.svelte";var cg=V(dt("<span> </span>"),Pi[D],[[32,2]]);function Pi(t,e){Se(new.target),_e(e,!0,Pi);const r=p(m(()=>{var d;return((d=e.options)==null?void 0:d.mapping)??{}}),"mapping"),o=p(m(()=>{var d;return((d=e.options)==null?void 0:d.size)??"base"}),"size"),i=p(m(()=>{var d;return(d=e.options)==null?void 0:d.color}),"color"),a=p(m(()=>{if(M(e.value,void 0)||M(e.value,null))return"";const d=String(e.value);return n(r)&&d in n(r)?n(r)[d]:d}),"displayValue"),l=p(m(()=>M(n(o),"sm")?"icon-sm":M(n(o),"lg")?"icon-lg":"icon-base"),"sizeClass");var c={...Ee()},f=kt(),s=mt(f);{var h=d=>{var u=cg();let g;var v=$(u);tt(_=>{fn(u,1,`cell-icon ${n(l)??""}`,"svelte-weao3c"),W(u,"title",_),g=ke(u,"",g,{color:n(i)}),Bt(v,n(a))},[()=>String(e.value??"")]),I(d,u)};z(()=>q(s,d=>{n(a)&&d(h)}),"if",Pi,31,0)}return I(t,f),ye(c)}Di[D]="src/components/table/CellBadge.svelte";var fg=V(dt("<span> </span>"),Di[D],[[56,2]]);function Di(t,e){Se(new.target),_e(e,!0,Di);const r=p(m(()=>{var u;return((u=e.options)==null?void 0:u.variants)??{}}),"variants"),o=p(m(()=>{var u;return((u=e.options)==null?void 0:u.colors)??{}}),"colors"),i=p(m(()=>{var u;return((u=e.options)==null?void 0:u.size)??"base"}),"size"),a=p(m(()=>M(e.value,void 0)||M(e.value,null)?"":String(e.value)),"displayValue"),l=p(m(()=>{const u=String(e.value??"");if(n(o)&&u in n(o))return n(o)[u];if(n(r)&&u in n(r))switch(n(r)[u]){case"success":return"var(--wf-badge-success, #16a34a)";case"warning":return"var(--wf-badge-warning, #f59e0b)";case"error":return"var(--wf-badge-error, #dc2626)";case"info":return"var(--wf-badge-info, #2563eb)";case"muted":return"var(--wf-badge-muted, var(--wf-muted, #64748b))";default:return"var(--wf-primary, #2563eb)"}return"var(--wf-primary, #2563eb)"}),"badgeColor"),c=p(m(()=>M(n(i),"sm")?"badge-sm":"badge-base"),"sizeClass");var f={...Ee()},s=kt(),h=mt(s);{var d=u=>{var g=fg();let v;var _=$(g);tt(()=>{fn(g,1,`cell-badge ${n(c)??""}`,"svelte-16nh7k4"),v=ke(g,"",v,{"background-color":`color-mix(in srgb, ${n(l)??""} 15%, var(--wf-bg, #fff))`,color:n(l)}),Bt(_,n(a))}),I(u,g)};z(()=>q(h,u=>{n(a)&&u(d)}),"if",Di,55,0)}return I(t,s),ye(f)}ko[D]="src/components/table/CellStars.svelte";var ug=V(dt("<span> </span>"),ko[D],[[44,6]]),dg=V(dt('<span class="cell-stars svelte-8zr88i"></span>'),ko[D],[[42,2]]);function ko(t,e){Se(new.target),_e(e,!0,ko);const r=p(m(()=>{var v;return((v=e.options)==null?void 0:v.maxStars)??5}),"maxStars"),o=p(m(()=>{var v;return((v=e.options)==null?void 0:v.color)??"#f59e0b"}),"filledColor"),i=p(m(()=>{var v;return((v=e.options)==null?void 0:v.emptyColor)??"#d1d5db"}),"emptyColor"),a=p(m(()=>{var v;return((v=e.options)==null?void 0:v.halfStars)??!1}),"halfStars"),l="★",c="☆",f="⯪",s=p(m(()=>{if(M(e.value,void 0)||M(e.value,null))return"";const v=Math.max(0,Math.min(n(r),e.value)),_=[];for(let x=1;x<=n(r);x++)x<=v?_.push({char:l,filled:"full"}):n(a)&&x-.5<=v?_.push({char:f,filled:"half"}):_.push({char:c,filled:"empty"});return _}),"starDisplay");var h={...Ee()},d=kt(),u=mt(d);{var g=v=>{var _=dg();z(()=>Ne(_,21,()=>n(s),Zn,(x,y)=>{var S=ug();let A,R;var w=$(S,!0);tt(()=>{A=fn(S,1,"star svelte-8zr88i",null,A,{filled:M(n(y).filled,"full"),half:M(n(y).filled,"half")}),R=ke(S,"",R,{color:M(n(y).filled,"empty")?n(i):n(o)}),Bt(w,n(y).char)}),I(x,S)}),"each",ko,43,4),tt(()=>W(_,"title",`${e.value??""} / ${n(r)??""}`)),I(v,_)};z(()=>q(u,v=>{M(e.value,void 0,!1)&&M(e.value,null,!1)&&v(g)}),"if",ko,41,0)}return I(t,d),ye(h)}Co[D]="src/components/table/CellImg.svelte";var hg=V(dt('<img alt="" loading="lazy"/>'),Co[D],[[28,2]]),gg=V(dt('<span class="cell-img-fallback svelte-1rifgp8" title="Image not available"> </span>'),Co[D],[[38,2]]);function Co(t,e){Se(new.target),_e(e,!0,Co);const r=p(m(()=>{var v;return(v=e.options)==null?void 0:v.height}),"imgHeight"),o=p(m(()=>{var v;return(v=e.options)==null?void 0:v.maxWidth}),"maxWidth"),i=p(m(()=>{var v;return((v=e.options)==null?void 0:v.fallback)??"📷"}),"fallback"),a=p(m(()=>{var v;return((v=e.options)==null?void 0:v.shape)??"square"}),"shape");let l=p(bt(!1),"hasError");const c=p(m(()=>M(n(a),"circle")?"shape-circle":M(n(a),"rounded")?"shape-rounded":""),"shapeClass");function f(){ot(l,!0)}var s={...Ee()},h=kt(),d=mt(h);{var u=v=>{var _=hg();let x;tt(()=>{fn(_,1,`cell-img ${n(c)??""}`,"svelte-1rifgp8"),W(_,"src",e.value),x=ke(_,"",x,{height:n(r)?`${n(r)}px`:"calc(var(--wf-row-height, 28px) - 4px)","max-width":n(o)?`${n(o)}px`:"100%"})}),Bn("error",_,f),I(v,_)},g=v=>{var _=kt(),x=mt(_);{var y=S=>{var A=gg(),R=$(A);tt(()=>Bt(R,n(i))),I(S,A)};z(()=>q(x,S=>{n(i)&&S(y)},!0),"if",Co,37,0)}I(v,_)};z(()=>q(d,v=>{e.value&&!n(l)?v(u):v(g,!1)}),"if",Co,27,0)}return I(t,h),ye(s)}Gr[D]="src/components/table/CellReference.svelte";var vg=V(dt('<span class="reference-icon svelte-186gxpi">↗</span>'),Gr[D],[[44,8]]),pg=V(dt('<a class="cell-reference svelte-186gxpi" target="_blank" rel="noopener noreferrer"><span class="reference-text svelte-186gxpi"> </span> <!></a>'),Gr[D],[[35,4,[[42,6]]]]),mg=V(dt('<span class="cell-reference svelte-186gxpi"> </span>'),Gr[D],[[48,4]]);function Gr(t,e){Se(new.target),_e(e,!0,Gr);const r=p(m(()=>{var g;return((g=e.options)==null?void 0:g.maxChars)??30}),"maxChars"),o=p(m(()=>{var g;return((g=e.options)==null?void 0:g.showIcon)??!0}),"showIcon"),i=p(m(()=>{var g;return(g=e.options)==null?void 0:g.hrefField}),"hrefField"),a=p(m(()=>{if(!n(i))return null;const g=e.metadata[n(i)];return M(typeof g,"string")?g:null}),"href"),l=p(m(()=>{if(M(e.value,void 0)||M(e.value,null))return"";const g=String(e.value);return g.length<=n(r)?g:g.substring(0,n(r))+"..."}),"displayValue"),c=p(m(()=>e.value?String(e.value):""),"fullValue"),f=p(m(()=>n(c).length>n(r)),"isTruncated");var s={...Ee()},h=kt(),d=mt(h);{var u=g=>{var v=kt(),_=mt(v);{var x=S=>{var A=pg(),R=$(A),w=$(R),T=et(R,2);{var b=E=>{var F=vg();I(E,F)};z(()=>q(T,E=>{n(o)&&E(b)}),"if",Gr,43,6)}tt(()=>{W(A,"href",n(a)),W(A,"title",n(f)?n(c):void 0),Bt(w,n(l))}),I(S,A)},y=S=>{var A=mg(),R=$(A);tt(()=>{W(A,"title",n(f)?n(c):void 0),Bt(R,n(l))}),I(S,A)};z(()=>q(_,S=>{n(a)?S(x):S(y,!1)}),"if",Gr,34,2)}I(g,v)};z(()=>q(d,g=>{e.value&&g(u)}),"if",Gr,33,0)}return I(t,h),ye(s)}Bi[D]="src/components/table/CellRange.svelte";var _g=V(dt('<span class="cell-range svelte-jzelx2"> </span>'),Bi[D],[[51,2]]);function Bi(t,e){Se(new.target),_e(e,!0,Bi);const r=p(m(()=>{var _;return((_=e.options)==null?void 0:_.separator)??" – "}),"separator"),o=p(m(()=>{var _;return(_=e.options)==null?void 0:_.decimals}),"decimals"),i=p(m(()=>{var _;return((_=e.options)==null?void 0:_.minField)??""}),"minField"),a=p(m(()=>{var _;return((_=e.options)==null?void 0:_.maxField)??""}),"maxField"),l=p(m(()=>{if(!n(i))return null;const _=e.metadata[n(i)];return M(typeof _,"number")?_:null}),"minValue"),c=p(m(()=>{if(!n(a))return null;const _=e.metadata[n(a)];return M(typeof _,"number")?_:null}),"maxValue");function f(_){return M(_,null)?"":M(n(o),null)||M(n(o),void 0)?Number.isInteger(_)?String(_):_.toFixed(1):_.toFixed(n(o))}const s=p(m(()=>M(n(l),null)&&M(n(c),null)?"":M(n(l),null)?f(n(c)):M(n(c),null)?f(n(l)):`${f(n(l))}${n(r)}${f(n(c))}`),"displayValue"),h=p(m(()=>M(n(l),null,!1)||M(n(c),null,!1)),"hasRange");var d={...Ee()},u=kt(),g=mt(u);{var v=_=>{var x=_g(),y=$(x);tt((S,A)=>{W(x,"title",`${S??""} to ${A??""}`),Bt(y,n(s))},[()=>f(n(l)),()=>f(n(c))]),I(_,x)};z(()=>q(g,_=>{n(h)&&_(v)}),"if",Bi,50,0)}return I(t,u),ye(d)}const yg=["default","minimal","dark","jama","lancet","modern","presentation","cochrane","nature"],Ht={name:"default",colors:{background:"#ffffff",foreground:"#333333",primary:"#0891b2",secondary:"#64748b",accent:"#8b5cf6",muted:"#94a3b8",border:"#e2e8f0",rowBg:"#ffffff",altBg:"#f8fafc",interval:"#0891b2",intervalPositive:"#0891b2",intervalNegative:"#dc2626",intervalNeutral:"#64748b",intervalLine:"#475569",summaryFill:"#0891b2",summaryBorder:"#0e7490"},typography:{fontFamily:"system-ui, -apple-system, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5,headerFontScale:1.05},spacing:{rowHeight:28,headerHeight:36,sectionGap:16,padding:12,containerPadding:0,cellPaddingX:10,cellPaddingY:4,axisGap:12,groupPadding:8},shapes:{pointSize:6,summaryHeight:10,lineWidth:1.5,borderRadius:2},axis:{rangeMin:null,rangeMax:null,tickCount:null,tickValues:null,gridlines:!1,gridlineStyle:"dotted",ciClipFactor:2,includeNull:!0,symmetric:null,nullTick:!0,markerMargin:!0},layout:{plotPosition:"right",tableWidth:"auto",plotWidth:"auto",rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:8,banding:!0},groupHeaders:{level1FontSize:"1rem",level1FontWeight:700,level1Italic:!1,level1Background:null,level1BorderBottom:!1,level2FontSize:"0.9375rem",level2FontWeight:500,level2Italic:!0,level2Background:null,level2BorderBottom:!1,level3FontSize:"0.875rem",level3FontWeight:400,level3Italic:!1,level3Background:null,level3BorderBottom:!1,indentPerLevel:16}},xg={...Ht,name:"minimal",colors:{...Ht.colors,background:"#ffffff",foreground:"#000000",primary:"#000000",secondary:"#333333",accent:"#000000",muted:"#666666",border:"#000000",rowBg:"#ffffff",altBg:"#fafafa",interval:"#000000",intervalPositive:"#000000",intervalNegative:"#000000",intervalNeutral:"#666666",intervalLine:"#000000",summaryFill:"#000000",summaryBorder:"#000000"},typography:{...Ht.typography,fontFamily:"Georgia, 'Times New Roman', serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.4},spacing:{...Ht.spacing,rowHeight:24,headerHeight:30,sectionGap:12,padding:10},shapes:{...Ht.shapes,pointSize:5,summaryHeight:8,lineWidth:1,borderRadius:0},layout:{...Ht.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:0}},wg={...Ht,name:"dark",colors:{...Ht.colors,background:"#1e1e2e",foreground:"#cdd6f4",primary:"#89b4fa",secondary:"#a6adc8",accent:"#f5c2e7",muted:"#6c7086",border:"#313244",rowBg:"#1e1e2e",altBg:"#232334",interval:"#89b4fa",intervalPositive:"#a6e3a1",intervalNegative:"#f38ba8",intervalNeutral:"#6c7086",intervalLine:"#9399b2",summaryFill:"#89b4fa",summaryBorder:"#74c7ec"},typography:{...Ht.typography,fontFamily:"system-ui, -apple-system, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5},spacing:{...Ht.spacing,rowHeight:30,headerHeight:38,sectionGap:18,padding:14},shapes:{...Ht.shapes,pointSize:6,summaryHeight:10,lineWidth:1.5,borderRadius:4},layout:{...Ht.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:8}},bg={...Ht,name:"jama",colors:{...Ht.colors,background:"#ffffff",foreground:"#000000",primary:"#000000",secondary:"#333333",accent:"#000000",muted:"#555555",border:"#000000",rowBg:"#ffffff",altBg:"#f9fafb",interval:"#000000",intervalPositive:"#000000",intervalNegative:"#000000",intervalNeutral:"#555555",intervalLine:"#000000",summaryFill:"#000000",summaryBorder:"#000000"},typography:{...Ht.typography,fontFamily:"Arial, Helvetica, sans-serif",fontSizeSm:"8pt",fontSizeBase:"9pt",fontSizeLg:"10pt",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.2},spacing:{...Ht.spacing,rowHeight:18,headerHeight:24,sectionGap:8,padding:6,cellPaddingX:8,cellPaddingY:2},shapes:{...Ht.shapes,pointSize:4,summaryHeight:7,lineWidth:1.25,borderRadius:0},layout:{...Ht.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:0}},Mg={...Ht,name:"lancet",colors:{...Ht.colors,background:"#fdfcfb",foreground:"#1e3a5f",primary:"#00407a",secondary:"#3d5a80",accent:"#b8860b",muted:"#6b7c93",border:"#d4dce6",rowBg:"#fdfcfb",altBg:"#f8f7f6",interval:"#00407a",intervalPositive:"#00407a",intervalNegative:"#9d2933",intervalNeutral:"#3d5a80",intervalLine:"#1e3a5f",summaryFill:"#00407a",summaryBorder:"#002d54"},typography:{...Ht.typography,fontFamily:"Georgia, 'Times New Roman', serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.5},spacing:{...Ht.spacing,rowHeight:26,headerHeight:34,sectionGap:16,padding:12,cellPaddingX:12,cellPaddingY:5},shapes:{...Ht.shapes,pointSize:5,summaryHeight:9,lineWidth:1.25,borderRadius:0},layout:{...Ht.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:0}},Sg={...Ht,name:"modern",colors:{...Ht.colors,background:"#fafafa",foreground:"#18181b",primary:"#3b82f6",secondary:"#52525b",accent:"#8b5cf6",muted:"#a1a1aa",border:"#d4d4d8",rowBg:"#fafafa",altBg:"#f4f4f5",interval:"#3b82f6",intervalPositive:"#22c55e",intervalNegative:"#ef4444",intervalNeutral:"#71717a",intervalLine:"#27272a",summaryFill:"#3b82f6",summaryBorder:"#2563eb"},typography:{...Ht.typography,fontFamily:"Inter, system-ui, -apple-system, sans-serif",fontSizeSm:"0.8125rem",fontSizeBase:"0.9375rem",fontSizeLg:"1.0625rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5},spacing:{...Ht.spacing,rowHeight:36,headerHeight:44,sectionGap:24,padding:16,cellPaddingX:12,cellPaddingY:6},shapes:{...Ht.shapes,pointSize:8,summaryHeight:12,lineWidth:1.75,borderRadius:8},layout:{...Ht.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:12}},Eg={...Ht,name:"presentation",colors:{...Ht.colors,background:"#ffffff",foreground:"#0f172a",primary:"#0369a1",secondary:"#334155",accent:"#ea580c",muted:"#64748b",border:"#94a3b8",rowBg:"#ffffff",altBg:"#f8fafc",interval:"#0369a1",intervalPositive:"#047857",intervalNegative:"#be123c",intervalNeutral:"#334155",intervalLine:"#0f172a",summaryFill:"#0369a1",summaryBorder:"#0c4a6e"},typography:{...Ht.typography,fontFamily:"'Source Sans Pro', 'Segoe UI', Roboto, sans-serif",fontSizeSm:"1rem",fontSizeBase:"1.125rem",fontSizeLg:"1.25rem",fontWeightNormal:400,fontWeightMedium:600,fontWeightBold:700,lineHeight:1.4},spacing:{...Ht.spacing,rowHeight:44,headerHeight:52,sectionGap:28,padding:20,cellPaddingX:14,cellPaddingY:6},shapes:{...Ht.shapes,pointSize:12,summaryHeight:16,lineWidth:2.5,borderRadius:4},layout:{...Ht.layout,rowBorder:!0,containerBorder:!1,containerBorderRadius:6}},kg={...Ht,name:"cochrane",colors:{...Ht.colors,background:"#ffffff",foreground:"#2c2c2c",primary:"#0099cc",secondary:"#555555",accent:"#006699",muted:"#888888",border:"#b3b3b3",rowBg:"#ffffff",altBg:"#f5f5f5",interval:"#0099cc",intervalPositive:"#0099cc",intervalNegative:"#cc3333",intervalNeutral:"#555555",intervalLine:"#2c2c2c",summaryFill:"#0099cc",summaryBorder:"#006699"},typography:{...Ht.typography,fontFamily:"Arial, Helvetica, sans-serif",fontSizeSm:"0.6875rem",fontSizeBase:"0.75rem",fontSizeLg:"0.8125rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.25},spacing:{...Ht.spacing,rowHeight:20,headerHeight:26,sectionGap:8,padding:6,cellPaddingX:6,cellPaddingY:2},shapes:{...Ht.shapes,pointSize:4,summaryHeight:7,lineWidth:1,borderRadius:0},layout:{...Ht.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:0}},Cg={...Ht,name:"nature",colors:{...Ht.colors,background:"#ffffff",foreground:"#1a1a1a",primary:"#1976d2",secondary:"#424242",accent:"#c62828",muted:"#616161",border:"#bdbdbd",rowBg:"#ffffff",altBg:"#fafafa",interval:"#1976d2",intervalPositive:"#1976d2",intervalNegative:"#c62828",intervalNeutral:"#616161",intervalLine:"#1a1a1a",summaryFill:"#1976d2",summaryBorder:"#0d47a1"},typography:{...Ht.typography,fontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.8125rem",fontSizeLg:"0.9375rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.35},spacing:{...Ht.spacing,rowHeight:24,headerHeight:32,sectionGap:12,padding:10,cellPaddingX:10,cellPaddingY:4},shapes:{...Ht.shapes,pointSize:5,summaryHeight:8,lineWidth:1.25,borderRadius:1},layout:{...Ht.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:2},axis:{...Ht.axis,gridlines:!1,nullTick:!0}},Tg={default:Ht,minimal:xg,dark:wg,jama:bg,lancet:Mg,modern:Sg,presentation:Eg,cochrane:kg,nature:Cg},Lc={default:"Default",minimal:"Minimal",dark:"Dark",jama:"JAMA",lancet:"Lancet",modern:"Modern",presentation:"Presentation",cochrane:"Cochrane",nature:"Nature"};function Ng(t,e,r={}){const{gap:o=4,viewportPadding:i=8,preferredPosition:a="below",align:l="end"}=r,c=window.innerHeight,f=window.innerWidth,s=c-t.bottom-o-i,h=t.top-o-i;let d,u;a==="below"?s>=e.height?d="below":h>=e.height?d="above":(d=s>=h?"below":"above",u=Math.max(d==="below"?s:h,100)):h>=e.height?d="above":s>=e.height?d="below":(d=h>=s?"above":"below",u=Math.max(d==="above"?h:s,100));const g={};return d==="below"?g.top=t.bottom+o:g.bottom=c-t.top+o,l==="end"?t.right-e.width<i?g.left=Math.max(t.left,i):g.right=f-t.right:t.left+e.width>f-i?g.right=Math.max(f-t.right,i):g.left=t.left,u&&(g.maxHeight=u),g}function Vr(t,e){function r(){if(!e.triggerEl)return;const i=e.triggerEl.getBoundingClientRect(),a=t.getBoundingClientRect(),l=Ng(i,{width:a.width,height:a.height},{gap:e.gap??4,align:e.align??"end"});t.style.position="fixed",t.style.top="",t.style.bottom="",t.style.left="",t.style.right="",l.top!==void 0&&(t.style.top=`${l.top}px`),l.bottom!==void 0&&(t.style.bottom=`${l.bottom}px`),l.left!==void 0&&(t.style.left=`${l.left}px`),l.right!==void 0&&(t.style.right=`${l.right}px`),l.maxHeight?(t.style.maxHeight=`${l.maxHeight}px`,t.style.overflowY="auto"):(t.style.maxHeight="",t.style.overflowY="")}function o(i){e=i,requestAnimationFrame(r)}return o(e),{update:o,destroy(){}}}vr[D]="src/components/ui/ThemeSwitcher.svelte";var Ag=V(At('<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-35mgh1"><polyline points="20 6 9 17 4 12"></polyline></svg>'),vr[D],[[93,12,[[94,14]]]]),Hg=V(dt('<span class="spacer svelte-35mgh1"></span>'),vr[D],[[97,12]]),Wg=V(dt("<button><!> <span> </span></button>"),vr[D],[[87,8,[[99,10]]]]),Rg=V(dt('<div class="theme-dropdown svelte-35mgh1"></div>'),vr[D],[[85,4]]),zg=V(dt('<div class="theme-switcher-wrapper svelte-35mgh1"><button class="theme-btn svelte-35mgh1" aria-label="Switch theme"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path></svg></button> <!></div>'),vr[D],[[70,0,[[71,2,[[78,4,[[79,6],[80,6]]]]]]]]);function vr(t,e){Se(new.target),_e(e,!0,vr);let r=p(bt(!1),"dropdownOpen"),o=p(bt(null),"triggerEl");const i=p(m(()=>{var v,_;return((_=(v=e.store.spec)==null?void 0:v.theme)==null?void 0:_.name)??"default"}),"currentTheme"),a=p(m(()=>M(e.availableThemes,void 0)||M(e.availableThemes,null)?yg.map(v=>[v,Lc[v]]):Object.entries(e.availableThemes).map(([v,_])=>{const x=_.name?Lc[_.name]??_.name:v;return[v,x]})),"themeEntries");function l(){ot(r,!1)}function c(v){if(e.onThemeChange)e.onThemeChange(v);else if(e.availableThemes&&v in e.availableThemes){const _=e.availableThemes[v];e.store.spec&&e.store.setSpec({...e.store.spec,theme:_})}else e.store.setTheme(v);l()}function f(v){v.target.closest(".theme-switcher-wrapper")||l()}var s={...Ee()},h=zg();Bn("click",Uo,f);var d=$(h);d.__click=()=>ot(r,!n(r)),eo(d,v=>ot(o,v),()=>n(o));var u=et(d,2);{var g=v=>{var _=Rg();z(()=>Ne(_,21,()=>n(a),Zn,(x,y)=>{var S=m(()=>Ia(n(y),2));let A=()=>n(S)[0];A();let R=()=>n(S)[1];R();var w=Wg();let T;w.__click=()=>c(A());var b=$(w);{var E=C=>{var B=Ag();I(C,B)},F=C=>{var B=Hg();I(C,B)};z(()=>q(b,C=>{M(n(i),A())?C(E):C(F,!1)}),"if",vr,92,10)}var N=et(b,2),H=$(N,!0);tt(()=>{T=fn(w,1,"dropdown-item svelte-35mgh1",null,T,{active:M(n(i),A())}),Bt(H,R())}),I(x,w)}),"each",vr,86,6),sa(_,(x,y)=>Vr==null?void 0:Vr(x,y),()=>({triggerEl:n(o)})),I(v,_)};z(()=>q(u,v=>{n(r)&&v(g)}),"if",vr,84,2)}return tt(()=>W(d,"aria-expanded",n(r))),I(t,h),ye(s)}Jr(["click"]),To[D]="src/components/ui/ViewToggle.svelte";var Ig=V(At('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="10" y2="6"></line><line x1="3" y1="12" x2="10" y2="12"></line><line x1="3" y1="18" x2="10" y2="18"></line><line x1="14" y1="12" x2="21" y2="12"></line><circle cx="17" cy="12" r="2" fill="currentColor"></circle></svg>'),To[D],[[21,4,[[23,6],[24,6],[25,6],[27,6],[28,6]]]]),Lg=V(At('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>'),To[D],[[32,4,[[33,6],[34,6],[35,6]]]]),Fg=V(dt('<button class="view-toggle-btn svelte-1u54q0q"><!></button>'),To[D],[[13,0]]);function To(t,e){Se(new.target),_e(e,!0,To);const r=p(m(()=>{var f,s;return((s=(f=e.store.spec)==null?void 0:f.data)==null?void 0:s.includeForest)??!0}),"includeForest");var o={...Ee()},i=Fg();i.__click=()=>e.store.toggleForestView();var a=$(i);{var l=f=>{var s=Ig();I(f,s)},c=f=>{var s=Lg();I(f,s)};z(()=>q(a,f=>{n(r)?f(l):f(c,!1)}),"if",To,19,2)}return tt(()=>{W(i,"aria-label",n(r)?"Show table only":"Show forest plot"),W(i,"title",n(r)?"Show table only":"Show forest plot")}),I(t,i),ye(o)}Jr(["click"]);function ya(t,e){const r=t.split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,e),r.join(".")}function Ms(t){const e=Math.abs(t),r=t<0?"-":"";if(e>=1e12)throw new Error(`Cannot abbreviate value >= 1 trillion: ${t}`);if(e>=1e9){const o=e/1e9;return r+Ss(o)+"B"}if(e>=1e6){const o=e/1e6;return r+Ss(o)+"M"}if(e>=1e3){const o=e/1e3;return r+Ss(o)+"K"}return r+Math.round(e).toString()}function Ss(t){const e=Math.round(t*10)/10;return e===Math.floor(e)?e.toFixed(0):e.toFixed(1)}const Pg={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻","+":"⁺"};function Dg(t){return t.split("").map(e=>Pg[e]??e).join("")}function ti(t,e){var c,f,s,h,d;if(t==null||Number.isNaN(t))return(e==null?void 0:e.naText)??"";if(e!=null&&e.percent){const{decimals:u,digits:g,multiply:v=!0,symbol:_=!0}=e.percent,x=v?t*100:t,y=g!=null?x.toPrecision(g):x.toFixed(u??1);return _?`${y}%`:y}if(((c=e==null?void 0:e.numeric)==null?void 0:c.abbreviate)&&Math.abs(t)>=1e3)return Ms(t);const o=(f=e==null?void 0:e.numeric)==null?void 0:f.digits;if(o!=null){const u=t.toPrecision(o),g=(s=e==null?void 0:e.numeric)==null?void 0:s.thousandsSep;return g&&typeof g=="string"?ya(u,g):u}const i=(h=e==null?void 0:e.numeric)==null?void 0:h.decimals,a=(d=e==null?void 0:e.numeric)==null?void 0:d.thousandsSep;let l;return i!==void 0?l=t.toFixed(i):Number.isInteger(t)||Math.abs(t-Math.round(t))<1e-4?l=Math.round(t).toString():l=t.toFixed(2),a&&typeof a=="string"&&(l=ya(l,a)),l}function Es(t,e){const{eventsField:r,nField:o,separator:i="/",showPct:a=!1,thousandsSep:l,abbreviate:c}=e.events,f=t.metadata[r],s=t.metadata[o];if(f==null||s===void 0||s===null)return e.naText??"";const h=Number(f),d=Number(s);let u,g;c&&(h>=1e3||d>=1e3)?(u=h>=1e3?Ms(h):String(h),g=d>=1e3?Ms(d):String(d)):(u=String(h),g=String(d),l&&typeof l=="string"&&(u=ya(u,l),g=ya(g,l)));let v=`${u}${i}${g}`;if(a&&d>0){const _=(h/d*100).toFixed(1);v+=` (${_}%)`}return v}function ks(t,e,r,o){var c,f,s;if(t==null||Number.isNaN(t))return"";const i=((c=o==null?void 0:o.interval)==null?void 0:c.decimals)??2,a=((f=o==null?void 0:o.interval)==null?void 0:f.sep)??" ",l=(s=o==null?void 0:o.interval)==null?void 0:s.impreciseThreshold;return e==null||r===void 0||r===null||Number.isNaN(e)||Number.isNaN(r)?t.toFixed(i):l!=null&&e>0&&r/e>l?"—":`${t.toFixed(i)}${a}(${e.toFixed(i)}, ${r.toFixed(i)})`}function Fc(t,e){if(t==null||Number.isNaN(t))return(e==null?void 0:e.naText)??"";const r=e==null?void 0:e.pvalue,o=(r==null?void 0:r.digits)??2,i=(r==null?void 0:r.expThreshold)??.001,a=(r==null?void 0:r.abbrevThreshold)??null,l=(r==null?void 0:r.format)??"auto",c=(r==null?void 0:r.stars)??!1,f=(r==null?void 0:r.thresholds)??[.05,.01,.001];let s="";if(c&&(t<f[2]?s="***":t<f[1]?s="**":t<f[0]&&(s="*")),a!==null&&t<a)return`<${a}${s}`;if(l==="scientific"||l==="auto"&&t<i){const d=Math.floor(Math.log10(t));return`${(t/Math.pow(10,d)).toPrecision(o)}×10${Dg(d.toString())}${s}`}let h;return t>=.1?h=t.toFixed(o):t>=.01?h=t.toFixed(o+1):h=t.toFixed(o+2),`${h}${s}`}function Pc(t,e){var a,l,c,f;const{type:r,field:o,options:i}=e;switch(r){case"interval":{const s=(a=i==null?void 0:i.interval)!=null&&a.point?t.metadata[i.interval.point]:t.point,h=(l=i==null?void 0:i.interval)!=null&&l.lower?t.metadata[i.interval.lower]:t.lower,d=(c=i==null?void 0:i.interval)!=null&&c.upper?t.metadata[i.interval.upper]:t.upper;return ks(s,h,d,i)}case"custom":return i!=null&&i.events?Es(t,i):String(t.metadata[o]??"");case"pvalue":return Fc(t.metadata[o],i);case"numeric":return ti(t.metadata[o],i);case"percent":return ti(t.metadata[o],i);case"sparkline":case"icon":case"stars":case"img":case"range":return"";case"badge":{const s=t.metadata[o];return s==null?"":`  ${String(s)}  `}case"bar":{if(((f=i==null?void 0:i.bar)==null?void 0:f.showLabel)===!1)return"";const s=t.metadata[o];return s==null?"":s>=100?s.toFixed(0):s>=10?s.toFixed(1):s.toFixed(2)}case"text":default:return String(t.metadata[o]??"")}}function Vn(t,e){const r="⁰¹²³⁴⁵⁶⁷⁸⁹⁺⁻";let o=0;for(const i of t)r.includes(i)?o+=e*.3:"il1.,;:|!()[]{}' ".includes(i)?o+=e*.35:"×−".includes(i)?o+=e*.5:"mwMW@%".includes(i)?o+=e*.85:i>="0"&&i<="9"?o+=e*.6:o+=e*.55;return o}function Dc(t){if(!t||t.length===0)return{min:NaN,q1:NaN,median:NaN,q3:NaN,max:NaN};const e=t.filter(i=>i!=null&&!Number.isNaN(i)).sort((i,a)=>i-a);if(e.length===0)return{min:NaN,q1:NaN,median:NaN,q3:NaN,max:NaN};const r=e.length,o=i=>{if(r===1)return e[0];const a=(r-1)*i,l=Math.floor(a),c=Math.ceil(a);return l===c?e[l]:e[l]+(a-l)*(e[c]-e[l])};return{min:e[0],q1:o(.25),median:o(.5),q3:o(.75),max:e[r-1]}}function Bg(t,e,r){if(!t||t.length===0||Number.isNaN(e)||Number.isNaN(r))return[];const o=r-e,i=e-1.5*o,a=r+1.5*o;return t.filter(l=>l!=null&&!Number.isNaN(l)&&(l<i||l>a))}function xa(t){const e=Dc(t),r=Bg(t,e.q1,e.q3);return{...e,outliers:r}}function Gg(t){if(!t||t.length<2)return 1;const e=t.filter(g=>g!=null&&!Number.isNaN(g)).sort((g,v)=>g-v);if(e.length<2)return 1;const r=e.length,o=e.reduce((g,v)=>g+v,0)/r,i=e.reduce((g,v)=>g+(v-o)**2,0)/(r-1),a=Math.sqrt(i),l=Math.floor((r-1)*.25),c=Math.floor((r-1)*.75),f=e[l],h=e[c]-f,u=.9*Math.min(a,h/1.34)*Math.pow(r,-.2);return Math.max(u,.001)}function Vg(t){return Math.exp(-.5*t*t)/Math.sqrt(2*Math.PI)}function Bc(t,e,r=128){if(!t||t.length===0)return{x:[],y:[]};const o=t.filter(g=>g!=null&&!Number.isNaN(g));if(o.length===0)return{x:[],y:[]};const i=e??Gg(o),a=Math.min(...o),l=Math.max(...o),c=3*i,f=a-c,h=(l+c-f)/(r-1),d=[],u=[];for(let g=0;g<r;g++){const v=f+g*h;d.push(v);let _=0;for(const x of o)_+=Vg((v-x)/i);_/=o.length*i,u.push(_)}return{x:d,y:u}}function Gc(t,e){if(t.y.length===0)return t;const r=Math.max(...t.y);if(r===0)return t;const o=t.y.map(i=>i/r*e);return{x:t.x,y:o}}function Og(t,e){var s,h;const r=new Map,o=On(t.theme.typography.fontSizeBase),i=t.theme.typography.headerFontScale??1.05,a=Math.round(o*i*100)/100,l=t.data.rows,c=(t.theme.spacing.cellPaddingX??10)*2,f=(t.theme.spacing.groupPadding??8)*2;for(const d of e){if(d.width!=="auto"&&d.width!==null&&d.width!==void 0)continue;let u=0;d.header&&(u=Math.max(u,Vn(d.header,a)));for(const _ of l){if(((s=_.style)==null?void 0:s.type)==="header"||((h=_.style)==null?void 0:h.type)==="spacer")continue;const x=Pc(_,d);x&&(u=Math.max(u,Vn(x,o)))}const g=tr.VISUAL_MIN[d.type]??tr.MIN,v=Math.ceil(u+c+Qn.RENDERING_BUFFER);r.set(d.id,Math.min(tr.MAX,Math.max(g,v)))}return jg(t.columns,r,a,f,Qn.RENDERING_BUFFER),r}function jg(t,e,r,o,i){function a(f){return f.isGroup?f.columns.flatMap(a):[f]}function l(f){const s=e.get(f.id);return s!==void 0?s:typeof f.width=="number"?f.width:tr.MIN}function c(f){if(f.isGroup){for(const s of f.columns)c(s);if(f.header){const s=Vn(f.header,r)+o+i,h=a(f),d=h.reduce((u,g)=>u+l(g),0);if(s>d&&h.length>0){const u=Math.ceil((s-d)/h.length);for(const g of h)e.set(g.id,l(g)+u)}}}}for(const f of t)c(f)}function Vc(t,e,r){let o=r.filter(a=>a.groupId===t).length;const i=e.filter(a=>a.parentId===t);for(const a of i)o+=Vc(a.id,e,r);return o}function Oc(t){var f,s;const e=On(t.theme.typography.fontSizeBase),r=(t.theme.spacing.cellPaddingX??10)*2;let o=0;const i=new Map,a=Array.isArray(t.data.groups)?t.data.groups:[];for(const h of a)i.set(h.id,h.depth);const l=h=>h?(i.get(h)??0)+1:0;t.data.labelHeader&&(o=Math.max(o,Vn(t.data.labelHeader,e)));for(const h of t.data.rows)if(h.label){const d=l(h.groupId),u=((f=h.style)==null?void 0:f.indent)??0,v=(d+u)*Ie.INDENT_PER_LEVEL;let _=Vn(h.label,e)+v;if((s=h.style)!=null&&s.badge){const x=String(h.style.badge),y=e*kr.FONT_SCALE,A=Vn(x,y)+kr.PADDING*2;_+=kr.GAP+A}o=Math.max(o,_)}for(const h of a)if(h.label){const d=h.depth*Ie.INDENT_PER_LEVEL,u=Vn(h.label,e),v=`(${Vc(h.id,a,t.data.rows)})`,_=e*.75,x=Vn(v,_),y=d+ro.CHEVRON_WIDTH+ro.GAP+u+ro.GAP+x+ro.SAFETY_MARGIN;o=Math.max(o,y)}const c=Math.ceil(o+r+Qn.RENDERING_BUFFER);return Math.min(tr.LABEL_MAX,Math.max(tr.MIN,c))}function Cs(t,e){const r=e.get(t.id);return r!==void 0?r:typeof t.width=="number"?t.width:no.DEFAULT_COLUMN_WIDTH}function qg(t,e,r=0){var Jt,Re,vt,ct,qt;const o=t.theme,i=o.spacing.rowHeight,a=o.spacing.padding,l=Array.isArray(t.columns)?t.columns:[],c=qc(l,"left"),f=qc(l,"right"),s=wa(c)||wa(f)||wa(l),h=s?2:1,d=o.spacing.cellPaddingY??4,v=(o.spacing.headerHeight/h+(s?d*2:0))*h,_=!!((Jt=t.labels)!=null&&Jt.title),x=!!((Re=t.labels)!=null&&Re.subtitle),y=!!((vt=t.labels)!=null&&vt.caption),S=!!((ct=t.labels)!=null&&ct.footnote),A=_?Jn.TITLE_HEIGHT:0,R=x?Jn.SUBTITLE_HEIGHT:0,w=A+R+(_||x?a:0),T=y?Jn.CAPTION_HEIGHT:0,b=S?Jn.FOOTNOTE_HEIGHT:0,E=T+b+(y||S?a:0),F=jc(t),N=!!t.data.overall;let H=0;for(const Vt of F){const se=Vt.type==="data"&&((qt=Vt.row.style)==null?void 0:qt.type)==="spacer";H+=se?i/2:i}N&&(H+=i*fd.OVERALL_ROW_HEIGHT_MULTIPLIER);const C=As(l,"left"),B=As(l,"right"),P=Ns(l).filter(Vt=>Vt.position===void 0),Z=[...C,...B,...P];let X,U;if(e.columnWidths){X=new Map;for(const[Vt,se]of Object.entries(e.columnWidths))Vt!=="__label__"&&X.set(Vt,se);U=e.columnWidths.__label__??Oc(t)}else X=Og(t,Z),U=Oc(t);const O=U+C.reduce((Vt,se)=>Vt+Cs(se,X),0),Q=B.reduce((Vt,se)=>Vt+Cs(se,X),0),gt=P.filter(Vt=>Vt.type!=="forest").reduce((Vt,se)=>Vt+Cs(se,X),0),at=e.width??no.DEFAULT_WIDTH,it=Z.some(Vt=>Vt.type==="forest")||t.data.includeForest,lt=O+Q+gt;let Gt;if(!it)Gt=0;else if(typeof e.forestWidth=="number")Gt=e.forestWidth;else if(typeof t.layout.plotWidth=="number")Gt=t.layout.plotWidth;else{const Vt=at-lt-no.COLUMN_GAP*2-a*2;Gt=Math.max(Vt,no.MIN_FOREST_WIDTH)}const Qt=a*2+lt+Gt+no.COLUMN_GAP*2,_t=Math.max(e.width??at,Qt),oe=32+(o.spacing.axisGap??12),Ae=w+a+v+H+oe+E+no.BOTTOM_MARGIN;return{totalWidth:_t,totalHeight:e.height??Ae,tableWidth:O+Q,forestWidth:Gt,headerHeight:v,rowHeight:i,plotHeight:H,axisHeight:no.AXIS_HEIGHT,nullValue:r,summaryYPosition:H-i,showOverallSummary:N,headerTextHeight:w,footerTextHeight:E,titleY:a+Jn.TITLE_HEIGHT-8,subtitleY:a+A+Jn.SUBTITLE_HEIGHT-4,mainY:w+a,footerY:w+a+v+H+oe+8,autoWidths:X,labelWidth:U}}function jc(t){var d;const e=t.data.rows,r=Array.isArray(t.data.groups)?t.data.groups:[];if(r.length===0)return e.map(u=>({type:"data",row:u,depth:0}));const o=new Map;for(const u of r)o.set(u.id,u);const i=new Map;for(const u of e){const g=u.groupId??null;i.has(g)||i.set(g,[]),i.get(g).push(u)}const a=new Set;for(const u of i.keys()){if(!u)continue;let g=u;for(;g;)a.add(g),g=(d=o.get(g))==null?void 0:d.parentId}function l(u){return r.filter(g=>(g.parentId??null)===u&&a.has(g.id))}function c(u){if(!u)return 0;const g=o.get(u);return g?g.depth+1:0}function f(u){var v;let g=((v=i.get(u))==null?void 0:v.length)??0;for(const _ of l(u))g+=f(_.id);return g}const s=[];function h(u){if(u){const v=o.get(u);if(!v)return;const _=f(u);s.push({type:"group_header",groupId:v.id,label:v.label,depth:v.depth,rowCount:_})}for(const v of l(u))h(v.id);const g=i.get(u)??[];for(const v of g)s.push({type:"data",row:v,depth:c(v.groupId)})}return h(null),s}function Ts(t){const e=[];for(const r of t)r.isGroup?e.push(...Ts(r.columns)):e.push(r);return e}function Ns(t){const e=[];for(const r of t)r.isGroup?e.push(...Ts(r.columns)):e.push(r);return e}function As(t,e){if(e===void 0)return Ns(t);const r=[];for(const o of t)o.position===e&&(o.isGroup?r.push(...Ts(o.columns)):r.push(o));return r}function qc(t,e){return t.filter(r=>r.position===e)}function wa(t){return t.some(e=>e.isGroup)}function On(t){let e;return t.endsWith("rem")?e=parseFloat(t)*Jn.REM_BASE:t.endsWith("px")?e=parseFloat(t):e=Jn.DEFAULT_FONT_SIZE,Math.round(e*100)/100}function ba(t,e,r){return r==="right"?{textX:t+e-Ie.TEXT_PADDING,anchor:"end"}:r==="center"?{textX:t+e/2,anchor:"middle"}:{textX:t+Ie.TEXT_PADDING,anchor:"start"}}function on(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function Uc(t,e,r,o=0){const i=e-o*2;if(Vn(t,r)<=i)return t;const l="…",c=r*.55;let f=0,s=t.length;for(;f<s;){const h=Math.ceil((f+s)/2),d=t.slice(0,h);Vn(d,r)+c<=i?f=h:s=h-1}return f===0?l:t.slice(0,f)+l}function Ug(t){return Math.abs(t)<.01?"0":Math.abs(t)>=100?t.toFixed(0):Math.abs(t)>=10?t.toFixed(1):t.toFixed(2)}function Gi(t,e){const[r,o]=t,[i,a]=e,l=(a-i)/(o-r),c=f=>i+(f-r)*l;return c.domain=()=>t,c.range=()=>e,c.ticks=f=>{const s=(o-r)/(f-1),h=[];for(let d=0;d<f;d++)h.push(r+s*d);return h},c}function Vi(t,e){const[r,o]=t.map(h=>Math.max(h,.001)),[i,a]=e,l=Math.log10(r),c=Math.log10(o),f=(a-i)/(c-l),s=h=>{const d=Math.log10(Math.max(h,.001));return i+(d-l)*f};return s.domain=()=>[r,o],s.range=()=>e,s.ticks=h=>{const d=[],u=Math.floor(Math.log10(r)),g=Math.ceil(Math.log10(o));for(let v=u;v<=g;v++){const _=Math.pow(10,v);for(const x of[1,2,5]){const y=_*x;y>=r&&y<=o&&d.push(y)}}return d.length>0?d:[r,o]},s}function Xg(t,e,r,o){const i=r.scale==="log",a=Nn,l=Math.max(e-Nn,a+50);if(o!=null&&o.xDomain){const d=o.xDomain,u=o.clipBounds??d,g=Yl(u,t.theme.axis,r.scale,r.nullValue);return i?{scale:Vi([Math.max(d[0],.01),Math.max(d[1],.02)],[a,l]),clipBounds:u,ticks:g}:{scale:Gi(d,[a,l]),clipBounds:u,ticks:g}}const c=Xl({rows:t.data.rows,config:t.theme.axis,scale:r.scale,nullValue:r.nullValue,forestWidth:e,pointSize:t.theme.shapes.pointSize,effects:r.effects,pointCol:r.pointCol,lowerCol:r.lowerCol,upperCol:r.upperCol}),{plotRegion:f,axisLimits:s,ticks:h}=c;return i?{scale:Vi([Math.max(f[0],.01),Math.max(f[1],.02)],[a,l]),clipBounds:s,ticks:h}:{scale:Gi(f,[a,l]),clipBounds:s,ticks:h}}function Yg(t,e,r){var a,l;const o=[],i=r.spacing.padding;if((a=t.labels)!=null&&a.title){const c=On(r.typography.fontSizeLg);o.push(`<text x="${i}" y="${e.titleY}"
      font-family="${r.typography.fontFamily}"
      font-size="${c}px"
      font-weight="${r.typography.fontWeightBold}"
      fill="${r.colors.foreground}">${on(t.labels.title)}</text>`)}if((l=t.labels)!=null&&l.subtitle){const c=On(r.typography.fontSizeBase);o.push(`<text x="${i}" y="${e.subtitleY}"
      font-family="${r.typography.fontFamily}"
      font-size="${c}px"
      fill="${r.colors.secondary}">${on(t.labels.subtitle)}</text>`)}return o.join(`
`)}function $g(t,e,r){var l,c;const o=[],i=r.spacing.padding;let a=e.footerY;if((l=t.labels)!=null&&l.caption){const f=On(r.typography.fontSizeSm);o.push(`<text x="${i}" y="${a}"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      fill="${r.colors.secondary}">${on(t.labels.caption)}</text>`),a+=Jn.CAPTION_HEIGHT}if((c=t.labels)!=null&&c.footnote){const f=On(r.typography.fontSizeSm);o.push(`<text x="${i}" y="${a}"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      font-style="italic"
      fill="${r.colors.muted}">${on(t.labels.footnote)}</text>`)}return o.join(`
`)}function Zg(t,e,r,o,i,a,l){const c=[],f=e+1,s=l.groupHeaders;let h,d,u,g,v;if(f===1?(h=On((s==null?void 0:s.level1FontSize)??l.typography.fontSizeBase),d=(s==null?void 0:s.level1FontWeight)??l.typography.fontWeightBold,u=(s==null?void 0:s.level1Italic)??!1,g=(s==null?void 0:s.level1Background)??null,v=(s==null?void 0:s.level1BorderBottom)??!1):f===2?(h=On((s==null?void 0:s.level2FontSize)??l.typography.fontSizeBase),d=(s==null?void 0:s.level2FontWeight)??l.typography.fontWeightMedium,u=(s==null?void 0:s.level2Italic)??!0,g=(s==null?void 0:s.level2Background)??null,v=(s==null?void 0:s.level2BorderBottom)??!1):(h=On((s==null?void 0:s.level3FontSize)??l.typography.fontSizeBase),d=(s==null?void 0:s.level3FontWeight)??l.typography.fontWeightNormal,u=(s==null?void 0:s.level3Italic)??!1,g=(s==null?void 0:s.level3Background)??null,v=(s==null?void 0:s.level3BorderBottom)??!1),!g){const S=l.colors.primary,A=f===1?.15:f===2?.1:.06,R=S.replace("#",""),w=parseInt(R.substring(0,2),16),T=parseInt(R.substring(2,4),16),b=parseInt(R.substring(4,6),16);g=`rgba(${w}, ${T}, ${b}, ${A})`}const _=o+i/2+h*Jn.TEXT_BASELINE_ADJUSTMENT,x=e*((s==null?void 0:s.indentPerLevel)??Ie.INDENT_PER_LEVEL);c.push(`<rect x="${r}" y="${o}"
    width="${a}" height="${i}"
    fill="${g}"/>`),v&&c.push(`<line x1="${r}" x2="${r+a}" y1="${o+i}" y2="${o+i}"
      stroke="${l.colors.border}" stroke-width="1" opacity="0.5"/>`);const y=u?' font-style="italic"':"";return c.push(`<text x="${r+Ie.TEXT_PADDING+x}" y="${_}"
    font-family="${l.typography.fontFamily}"
    font-size="${h}px"
    font-weight="${d}"${y}
    fill="${l.colors.foreground}">${on(t)}</text>`),c.join(`
`)}function Kg(t,e){const r=new Map;for(const o of e)if(o.type==="bar"){let i=0;for(const a of t){const l=a.metadata[o.field];typeof l=="number"&&l>i&&(i=l)}r.set(o.field,i>0?i:1)}return r}function Qg(t,e){var o,i,a,l,c,f,s,h,d,u,g,v,_,x,y,S,A,R,w;if(e.type==="interval"){const T=(i=(o=e.options)==null?void 0:o.interval)!=null&&i.point?t.metadata[e.options.interval.point]:t.point,b=(l=(a=e.options)==null?void 0:a.interval)!=null&&l.lower?t.metadata[e.options.interval.lower]:t.lower,E=(f=(c=e.options)==null?void 0:c.interval)!=null&&f.upper?t.metadata[e.options.interval.upper]:t.upper;return ks(T,b,E,e.options)}if(e.type==="numeric"){const T=t.metadata[e.field];return typeof T=="number"?ti(T,e.options):((s=e.options)==null?void 0:s.naText)??""}if(e.type==="custom"&&((h=e.options)!=null&&h.events))return Es(t,e.options);if(e.type==="pvalue"){const T=t.metadata[e.field];return typeof T!="number"?((d=e.options)==null?void 0:d.naText)??"":Fc(T,e.options)}if(e.type==="icon"){const T=t.metadata[e.field];if(T==null)return"";const b=String(T),E=(g=(u=e.options)==null?void 0:u.icon)==null?void 0:g.mapping;return E&&b in E?E[b]:b}if(e.type==="badge"){const T=t.metadata[e.field];return T!=null?String(T):""}if(e.type==="stars"){const T=t.metadata[e.field];if(typeof T!="number")return"";const b=((_=(v=e.options)==null?void 0:v.stars)==null?void 0:_.maxStars)??5,E=Math.max(0,Math.min(b,T)),F=Math.floor(E),N=b-F;return"★".repeat(F)+"☆".repeat(N)}if(e.type==="img")return((y=(x=e.options)==null?void 0:x.img)==null?void 0:y.fallback)??"[IMG]";if(e.type==="reference"){const T=t.metadata[e.field];if(T==null)return"";const b=String(T),E=((A=(S=e.options)==null?void 0:S.reference)==null?void 0:A.maxChars)??30;return b.length<=E?b:b.substring(0,E)+"..."}if(e.type==="range"){const T=(R=e.options)==null?void 0:R.range;if(!T)return"";const b=t.metadata[T.minField],E=t.metadata[T.maxField],F=T.separator??" – ",N=T.decimals,H=C=>typeof C!="number"?"":N==null?Number.isInteger(C)?String(C):C.toFixed(1):C.toFixed(N);return b===null&&E===null?"":b===null?H(E):E===null?H(b):`${H(b)}${F}${H(E)}`}const r=t.metadata[e.field];return r!=null?String(r):((w=e.options)==null?void 0:w.naText)??""}function Jg(t,e,r,o,i){const a=t.filter(h=>Number.isFinite(h));if(a.length===0)return"";if(a.length===1){const h=e+o/2,d=r+i/2;return`M${h.toFixed(1)},${d.toFixed(1)}`}const l=Math.min(...a),f=Math.max(...a)-l||1;return`M${a.map((h,d)=>{const u=e+d/(a.length-1)*o,g=r+i-(h-l)/f*i;return`${u.toFixed(1)},${g.toFixed(1)}`}).join("L")}`}function tv(t,e,r,o,i,a=[],l,c=0,f=1/0,s,h=!1){var b;let d;if(a.length===0){const E=!h||t.point!=null&&t.point>0?t.point:null,F=!h||t.lower!=null&&t.lower>0?t.lower:null,N=!h||t.upper!=null&&t.upper>0?t.upper:null;d=[{point:E,lower:F,upper:N,color:null,shape:null,opacity:null}]}else d=a.map(E=>({point:Kn(t.metadata,t.point,E.pointCol,"point",h),lower:Kn(t.metadata,t.lower,E.lowerCol,"lower",h),upper:Kn(t.metadata,t.upper,E.upperCol,"upper",h),color:E.color??null,shape:E.shape??null,opacity:E.opacity??null}));const u=d.filter(E=>E.point!=null&&!Number.isNaN(E.point)&&E.lower!=null&&!Number.isNaN(E.lower)&&E.upper!=null&&!Number.isNaN(E.upper));if(u.length===0)return"";const g=o.shapes.pointSize,v=o.shapes.lineWidth,_=o.colors.intervalLine,x=((b=t.style)==null?void 0:b.type)==="summary",S=o.shapes.summaryHeight/2;function A(E){var N;if(E&&((N=t.markerStyle)==null?void 0:N.size)!=null)return g*t.markerStyle.size;const F=l?t.metadata[l]:void 0;if(F){const H=.5+Math.sqrt(F/100)*1.5;return Math.min(Math.max(g*H,3),g*2.5)}return g}function R(E,F){const N=F===0,H=t.markerStyle,C=o.shapes.effectColors,B=o.shapes.markerShapes,P=["square","circle","diamond","triangle"];let Z;N&&(H!=null&&H.color)?Z=H.color:E.color?Z=E.color:C&&C.length>0?Z=C[F%C.length]:Z=o.colors.interval??o.colors.primary??"#2563eb";let X;N&&(H!=null&&H.shape)?X=H.shape:E.shape?X=E.shape:B&&B.length>0?X=B[F%B.length]:X=P[F%P.length];let U;return N&&(H==null?void 0:H.opacity)!=null?U=H.opacity:E.opacity!=null?U=E.opacity:U=1,{color:Z,shape:X,opacity:U}}function w(E,F,N,H){const{color:C,shape:B,opacity:P}=H,Z=P<1?` fill-opacity="${P}"`:"";switch(B){case"circle":return`<circle cx="${E}" cy="${F}" r="${N}" fill="${C}"${Z}/>`;case"diamond":return`<polygon points="${[`${E},${F-N}`,`${E+N},${F}`,`${E},${F+N}`,`${E-N},${F}`].join(" ")}" fill="${C}"${Z}/>`;case"triangle":return`<polygon points="${[`${E},${F-N}`,`${E+N},${F+N}`,`${E-N},${F+N}`].join(" ")}" fill="${C}"${Z}/>`;default:return`<rect x="${E-N}" y="${F-N}" width="${N*2}" height="${N*2}" fill="${C}"${Z}/>`}}const T=[];return u.forEach((E,F)=>{const N=e+Zl(F,u.length),H=r(E.lower),C=r(E.upper),B=r(E.point),P=R(E,F),Z=A(F===0),X=_;if(x){const U=P.opacity<1?` fill-opacity="${P.opacity}"`:"",O=[`${H},${N}`,`${B},${N-S}`,`${C},${N}`,`${B},${N+S}`].join(" ");T.push(`
        <g class="interval effect-${F} summary">
          <polygon points="${O}"
            fill="${P.color}"${U} stroke="${o.colors.summaryBorder}" stroke-width="1"/>
        </g>`)}else{const U=c+Nn,O=c+f-Nn,Q=s?E.lower<s[0]:H<U,gt=s?E.upper>s[1]:C>O;let at,st;if(s){const Ae=Math.max(s[0],Math.min(s[1],E.lower)),Jt=Math.max(s[0],Math.min(s[1],E.upper));at=r(Ae),st=r(Jt)}else at=Math.max(U,Math.min(O,H)),st=Math.max(U,Math.min(O,C));const it=ql(o),lt=it.height/2,Gt=s?r(s[0]):U,Qt=s?r(s[1]):O;let _t="";Q?_t=`<path d="${la("left",Gt,N,it)}" fill="${it.color}"/>`:_t=`<line x1="${at}" x2="${at}" y1="${N-lt}" y2="${N+lt}" stroke="${X}" stroke-width="${v}"/>`;let Mt="";gt?Mt=`<path d="${la("right",Qt,N,it)}" fill="${it.color}"/>`:Mt=`<line x1="${st}" x2="${st}" y1="${N-lt}" y2="${N+lt}" stroke="${X}" stroke-width="${v}"/>`;const oe=s?r(Math.max(s[0],Math.min(s[1],E.point))):Math.max(U,Math.min(O,B));T.push(`
        <g class="interval effect-${F}">
          <line x1="${at}" x2="${st}" y1="${N}" y2="${N}"
            stroke="${X}" stroke-width="${v}"/>
          ${_t}
          ${Mt}
          ${w(oe,N,Z,P)}
        </g>`)}}),T.join("")}function ev(t,e,r,o,i,a,l,c){const s=c.shapes.summaryHeight/2,[h,d]=i.domain().map(w=>i(w)),u=Math.min(h,d),g=Math.max(h,d),v=i(e),_=i(t),x=i(r),y=a+Math.max(u,Math.min(g,v)),S=a+Math.max(u,Math.min(g,_)),A=a+Math.max(u,Math.min(g,x));return`<polygon points="${[`${y},${o}`,`${S},${o-s}`,`${A},${o}`,`${S},${o+s}`].join(" ")}"
    fill="${c.colors.summaryFill}"
    stroke="${c.colors.summaryBorder}"
    stroke-width="1"/>`}function nv(t,e,r,o,i,a,l,c){const f=[],s=a.effects,h=s.length;if(!s.some(y=>{const S=t.metadata[y.value];return S!=null&&!Number.isNaN(S)}))return"";const u=r*.7,g=h>1?2:0,v=(u-g*(h-1))/h,_=Math.max(4,v),x=c.shapes.effectColors??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"];return s.forEach((y,S)=>{const A=t.metadata[y.value];if(A==null||Number.isNaN(A))return;const R=e-u/2+S*(_+g),w=o+l(Math.min(0,A)),T=Math.abs(l(A)-l(0)),b=y.color??x[S%x.length],E=y.opacity??.85;f.push(`<rect
      x="${w}" y="${R}"
      width="${Math.max(1,T)}" height="${_}"
      fill="${b}" fill-opacity="${E}" rx="2"
      class="viz-bar-segment"/>`)}),f.join(`
`)}function rv(t,e,r,o,i,a,l,c){const f=[],s=a.effects,h=s.length,d=s.map(S=>{if(S.data){const A=t.metadata[S.data];return!A||!Array.isArray(A)||A.length===0?null:xa(A)}if(S.min&&S.q1&&S.median&&S.q3&&S.max){const A=t.metadata[S.min],R=t.metadata[S.q1],w=t.metadata[S.median],T=t.metadata[S.q3],b=t.metadata[S.max];if([A,R,w,T,b].some(F=>F==null||Number.isNaN(F)))return null;let E=[];if(S.outliers){const F=t.metadata[S.outliers];F&&Array.isArray(F)&&(E=F)}return{min:A,q1:R,median:w,q3:T,max:b,outliers:E}}return null});if(!d.some(S=>S!==null))return"";const g=r*.7,v=h>1?2:0,_=Math.max(8,(g-(h-1)*v)/h),x=c.shapes.effectColors??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"],y=c.colors.foreground??"#1a1a1a";return s.forEach((S,A)=>{const R=d[A];if(!R)return;const w=e-g/2+A*(_+v),T=w+_/2,b=S.color??x[A%x.length],E=S.fillOpacity??.7;f.push(`<line
      x1="${o+l(R.min)}" x2="${o+l(R.q1)}"
      y1="${T}" y2="${T}"
      stroke="${y}" stroke-width="1"/>`),f.push(`<line
      x1="${o+l(R.min)}" x2="${o+l(R.min)}"
      y1="${T-_/4}" y2="${T+_/4}"
      stroke="${y}" stroke-width="1"/>`),f.push(`<line
      x1="${o+l(R.q3)}" x2="${o+l(R.max)}"
      y1="${T}" y2="${T}"
      stroke="${y}" stroke-width="1"/>`),f.push(`<line
      x1="${o+l(R.max)}" x2="${o+l(R.max)}"
      y1="${T-_/4}" y2="${T+_/4}"
      stroke="${y}" stroke-width="1"/>`);const F=Math.max(2,l(R.q3)-l(R.q1));if(f.push(`<rect
      x="${o+l(R.q1)}" y="${w}"
      width="${F}" height="${_}"
      fill="${b}" fill-opacity="${E}"
      stroke="${y}" stroke-width="1"/>`),f.push(`<line
      x1="${o+l(R.median)}" x2="${o+l(R.median)}"
      y1="${w}" y2="${w+_}"
      stroke="${y}" stroke-width="2"/>`),a.showOutliers!==!1&&R.outliers.length>0)for(const N of R.outliers)f.push(`<circle
          cx="${o+l(N)}" cy="${T}"
          r="2.5"
          fill="none" stroke="${b}" stroke-width="1.5"/>`)}),f.join(`
`)}function ov(t,e,r,o,i,a,l,c){const f=[],s=a.effects,h=s.length,d=s.map(R=>{const w=t.metadata[R.data];return!w||!Array.isArray(w)||w.length<2?null:Bc(w,a.bandwidth)}),u=s.map(R=>{const w=t.metadata[R.data];if(!w||!Array.isArray(w)||w.length<2)return null;const T=w.filter(F=>F!=null&&!Number.isNaN(F)).sort((F,N)=>F-N);if(T.length===0)return null;const b=T.length,E=F=>{if(b===1)return T[0];const N=(b-1)*F,H=Math.floor(N),C=Math.ceil(N);return H===C?T[H]:T[H]+(N-H)*(T[C]-T[H])};return{q1:E(.25),median:E(.5),q3:E(.75)}});if(!d.some(R=>R!==null))return"";const v=r*.8,_=h>1?2:0,x=Math.max(10,(v-(h-1)*_)/h),y=x/2,S=c.shapes.effectColors??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"],A=c.colors.foreground??"#1a1a1a";return s.forEach((R,w)=>{const T=d[w],b=u[w];if(!T||T.x.length<2)return;const E=e-v/2+x/2+w*(x+_),F=R.color??S[w%S.length],N=R.fillOpacity??.5,H=Gc(T,y),C=[];for(let B=0;B<H.x.length;B++){const P=o+l(H.x[B]),Z=E-H.y[B];C.push(B===0?`M ${P} ${Z}`:`L ${P} ${Z}`)}for(let B=H.x.length-1;B>=0;B--){const P=o+l(H.x[B]),Z=E+H.y[B];C.push(`L ${P} ${Z}`)}if(C.push("Z"),f.push(`<path
      d="${C.join(" ")}"
      fill="${F}" fill-opacity="${N}"
      stroke="${A}" stroke-width="0.5"/>`),a.showMedian!==!1&&b){const B=o+l(b.median);f.push(`<line
        x1="${B}" x2="${B}"
        y1="${E-y*.6}" y2="${E+y*.6}"
        stroke="${A}" stroke-width="2"/>`)}if(a.showQuartiles&&b){const B=o+l(b.q1),P=o+l(b.q3);f.push(`<line
        x1="${B}" x2="${B}"
        y1="${E-y*.4}" y2="${E+y*.4}"
        stroke="${A}" stroke-width="1" stroke-dasharray="2,2"/>`),f.push(`<line
        x1="${P}" x2="${P}"
        y1="${E-y*.4}" y2="${E+y*.4}"
        stroke="${A}" stroke-width="1" stroke-dasharray="2,2"/>`)}}),f.join(`
`)}function iv(t,e,r){var c,f;const o=e.scale==="log",i=Nn;let a=(c=e.axisRange)==null?void 0:c[0],l=(f=e.axisRange)==null?void 0:f[1];if(a==null||l==null){const s=[];for(const h of t)for(const d of e.effects){const u=h.metadata[d.value];u!=null&&!Number.isNaN(u)&&s.push(u)}s.length>0?(a=a??Math.min(0,...s),l=l??Math.max(...s)*1.1):(a=a??0,l=l??100)}return o?Vi([Math.max(.01,a),l],[i,r-i]):Gi([a,l],[i,r-i])}function av(t,e,r){var c,f;const o=e.scale==="log",i=Nn;let a=(c=e.axisRange)==null?void 0:c[0],l=(f=e.axisRange)==null?void 0:f[1];if(a==null||l==null){const s=[];for(const h of t)for(const d of e.effects)if(d.data){const u=h.metadata[d.data];if(u&&Array.isArray(u)){const g=xa(u);s.push(g.min,g.max),e.showOutliers!==!1&&s.push(...g.outliers)}}else if(d.min&&d.max){const u=h.metadata[d.min],g=h.metadata[d.max];u!=null&&!Number.isNaN(u)&&s.push(u),g!=null&&!Number.isNaN(g)&&s.push(g)}if(s.length>0){const h=Math.min(...s),d=Math.max(...s),u=d-h;a=a??h-u*.05,l=l??d+u*.05}else a=a??0,l=l??100}return o?Vi([Math.max(.01,a),l],[i,r-i]):Gi([a,l],[i,r-i])}function sv(t,e,r){var c,f;const o=e.scale==="log",i=Nn;let a=(c=e.axisRange)==null?void 0:c[0],l=(f=e.axisRange)==null?void 0:f[1];if(a==null||l==null){const s=[];for(const h of t)for(const d of e.effects){const u=h.metadata[d.data];u&&Array.isArray(u)&&s.push(...u.filter(g=>g!=null&&!Number.isNaN(g)))}if(s.length>0){a=a??Math.min(...s),l=l??Math.max(...s);const h=(l??0)-(a??0);a=(a??0)-h*.1,l=(l??0)+h*.1}else a=a??0,l=l??100}return o?Vi([Math.max(.01,a),l],[i,r-i]):Gi([a,l],[i,r-i])}function Hs(t,e,r,o,i,a,l){const c=[],f=On(r.typography.fontSizeSm),s=ss.EDGE_THRESHOLD,h=x=>x<s?"start":x>a-s?"end":"middle",d=x=>x<s?2:x>a-s?-2:0;c.push(`<line x1="${i}" x2="${i+a}"
    y1="0" y2="0" stroke="${r.colors.border}" stroke-width="1"/>`);const u=t.domain(),g=5,v=[],_=u[1]-u[0];for(let x=0;x<=g;x++)v.push(u[0]+_*x/g);for(const x of v){const y=t(x),S=i+y,A=h(y),R=d(y),w=ti(x);c.push(`<line x1="${S}" x2="${S}" y1="0" y2="4" stroke="${r.colors.border}" stroke-width="1"/>`),c.push(`<text x="${S+R}" y="14"
      text-anchor="${A}"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      fill="${r.colors.foreground}">${w}</text>`)}return o&&c.push(`<text x="${i+a/2}" y="28"
      text-anchor="middle"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      fill="${r.colors.foreground}">${on(o)}</text>`),c.join(`
`)}function lv(t,e,r,o,i,a,l=1,c){const f=[],s=typeof r.axis.tickCount=="number"?r.axis.tickCount:Ie.DEFAULT_TICK_COUNT,h=uv(t,s,r,l,a,c),d=On(r.typography.fontSizeSm),u=ss.EDGE_THRESHOLD,g=_=>_<u?"start":_>a-u?"end":"middle",v=_=>_<u?2:_>a-u?-2:0;f.push(`<line x1="${i}" x2="${i+a}"
    y1="0" y2="0" stroke="${r.colors.border}" stroke-width="1"/>`);for(const _ of h){const x=t(_),y=i+x,S=g(x),A=v(x);f.push(`<line x1="${y}" x2="${y}" y1="0" y2="4"
      stroke="${r.colors.border}" stroke-width="1"/>`),f.push(`<text x="${y+A}" y="16" text-anchor="${S}"
      font-family="${r.typography.fontFamily}"
      font-size="${d}px"
      fill="${r.colors.secondary}">${Ug(_)}</text>`)}return o&&f.push(`<text x="${i+a/2}" y="28"
      text-anchor="middle"
      font-family="${r.typography.fontFamily}"
      font-size="${d}px"
      font-weight="500"
      fill="${r.colors.secondary}">${on(o)}</text>`),`<g transform="translate(0, ${e.mainY+e.headerHeight+e.plotHeight})">${f.join(`
`)}</g>`}function cv(t,e,r,o,i,a,l,c,f,s){const h=[],d=On(a.typography.fontSizeBase),u=a.typography.headerFontScale??1.05,g=Math.round(d*u*100)/100,v=a.typography.fontWeightBold,_=a.typography.fontWeightBold,x=wa(t),y=(S,A)=>S+A/2+g*Jn.TEXT_BASELINE_ADJUSTMENT;if(x){const S=i/2,A=i/2;let R=r;h.push(`<text x="${R+Ie.TEXT_PADDING}" y="${y(o,i)}"
      font-family="${a.typography.fontFamily}"
      font-size="${g}px"
      font-weight="${v}"
      fill="${a.colors.foreground}">${on(l)}</text>`),R+=c;const w=[];for(const T of t)if(T.isGroup){const b=T.columns.reduce((F,N)=>N.isGroup?F+N.columns.reduce((H,C)=>H+s(C),0):F+s(N),0),E=R+b/2;h.push(`<text x="${E}" y="${y(o,S)}"
          font-family="${a.typography.fontFamily}"
          font-size="${g}px"
          font-weight="${_}"
          text-anchor="middle"
          fill="${a.colors.foreground}">${on(T.header)}</text>`),w.push({x1:R,x2:R+b}),R+=b}else{const b=s(T),E=T.headerAlign??T.align,{textX:F,anchor:N}=ba(R,b,E),H=Uc(T.header,b,g,Ie.TEXT_PADDING);h.push(`<text x="${F}" y="${y(o,i)}"
          font-family="${a.typography.fontFamily}"
          font-size="${g}px"
          font-weight="${v}"
          text-anchor="${N}"
          fill="${a.colors.foreground}">${on(H)}</text>`),R+=b}for(const T of w)h.push(`<line x1="${T.x1}" x2="${T.x2}"
        y1="${o+S}" y2="${o+S}"
        stroke="${a.colors.border}" stroke-width="1" opacity="0.5"/>`);R=r+c;for(const T of t)if(T.isGroup){for(const b of T.columns)if(!b.isGroup){const E=s(b),F=b.headerAlign??b.align,{textX:N,anchor:H}=ba(R,E,F);h.push(`<text x="${N}" y="${y(o+S,A)}"
              font-family="${a.typography.fontFamily}"
              font-size="${g}px"
              font-weight="${v}"
              text-anchor="${H}"
              fill="${a.colors.foreground}">${on(b.header)}</text>`),R+=E}}else R+=s(T)}else{let S=r;h.push(`<text x="${S+Ie.TEXT_PADDING}" y="${y(o,i)}"
      font-family="${a.typography.fontFamily}"
      font-size="${g}px"
      font-weight="${v}"
      fill="${a.colors.foreground}">${on(l)}</text>`),S+=c;for(const A of e){const R=s(A),w=A.headerAlign??A.align,{textX:T,anchor:b}=ba(S,R,w),E=Uc(A.header,R,g,Ie.TEXT_PADDING);h.push(`<text x="${T}" y="${y(o,i)}"
        font-family="${a.typography.fontFamily}"
        font-size="${g}px"
        font-weight="${v}"
        text-anchor="${b}"
        fill="${a.colors.foreground}">${on(E)}</text>`),S+=R}}return h.join(`
`)}function fv(t,e,r,o,i,a,l,c,f,s,h,d){var A,R,w,T,b,E,F,N,H,C,B,P,Z,X,U,O,Q,gt,at,st,it,lt,Gt,Qt,_t,Mt,oe,Ae,Jt;const u=[],g=On(a.typography.fontSizeBase),v=o+i/2+g*Jn.TEXT_BASELINE_ADJUSTMENT,_=c*Ie.INDENT_PER_LEVEL+(((A=t.style)==null?void 0:A.indent)??0)*Ie.INDENT_PER_LEVEL,x=(R=t.style)!=null&&R.bold||(w=t.style)!=null&&w.emphasis?a.typography.fontWeightBold:a.typography.fontWeightNormal,y=(T=t.style)!=null&&T.italic?"italic":"normal";let S=a.colors.foreground;if((b=t.style)!=null&&b.color?S=t.style.color:(E=t.style)!=null&&E.muted?S=a.colors.muted:(F=t.style)!=null&&F.accent&&(S=a.colors.accent),u.push(`<text x="${r+Ie.TEXT_PADDING+_}" y="${v}"
    font-family="${a.typography.fontFamily}"
    font-size="${g}px"
    font-weight="${x}"
    font-style="${y}"
    fill="${S}">${on(t.label)}</text>`),(N=t.style)!=null&&N.badge){const Re=String(t.style.badge),vt=g*kr.FONT_SCALE,ct=vt+kr.PADDING*2,qt=Vn(t.label,g),Vt=r+Ie.TEXT_PADDING+_+qt+kr.GAP,Ln=Vn(Re,vt)+kr.PADDING*2,ee=o+(i-ct)/2;u.push(`<rect x="${Vt}" y="${ee}" width="${Ln}" height="${ct}"
      rx="3" fill="${a.colors.primary}" opacity="0.15"/>`),u.push(`<text x="${Vt+Ln/2}" y="${ee+ct/2+vt*.35}"
      text-anchor="middle"
      font-family="${a.typography.fontFamily}"
      font-size="${vt}px"
      font-weight="500"
      fill="${a.colors.primary}">${on(Re)}</text>`)}for(let Re=0;Re<e.length;Re++){const vt=e[Re],ct=d[Re],qt=h(vt);if(vt.type==="forest"||vt.type==="viz_bar"||vt.type==="viz_boxplot"||vt.type==="viz_violin")continue;const Vt=Qg(t,vt),{textX:se,anchor:Ln}=ba(ct,qt,vt.align);if(vt.type==="bar"&&typeof t.metadata[vt.field]=="number"){const ee=t.metadata[vt.field],Ce=f.get(vt.field),Xe=((C=(H=vt.options)==null?void 0:H.bar)==null?void 0:C.maxValue)??Ce??100,je=((P=(B=vt.options)==null?void 0:B.bar)==null?void 0:P.color)??a.colors.primary,Ye=a.shapes.pointSize*2,sn=qt-Ie.TEXT_PADDING*2-50,Ut=Math.min(ee/Xe*sn,sn);u.push(`<rect x="${ct+Ie.TEXT_PADDING}" y="${o+i/2-Ye/2}"
        width="${Math.max(0,Ut)}" height="${Ye}"
        fill="${je}" opacity="0.7" rx="2"/>`),u.push(`<text x="${ct+qt-Ie.TEXT_PADDING}" y="${v}"
        font-family="${a.typography.fontFamily}"
        font-size="${g}px"
        text-anchor="end"
        fill="${a.colors.foreground}">${ti(ee)}</text>`)}else if(vt.type==="sparkline"&&Array.isArray(t.metadata[vt.field])){let ee=t.metadata[vt.field];Array.isArray(ee[0])&&(ee=ee[0]);const Ce=((X=(Z=vt.options)==null?void 0:Z.sparkline)==null?void 0:X.height)??16,Xe=((O=(U=vt.options)==null?void 0:U.sparkline)==null?void 0:O.color)??a.colors.primary,je=Ie.TEXT_PADDING*2,Ye=Jg(ee,ct+Ie.TEXT_PADDING,o+i/2-Ce/2,qt-je,Ce);u.push(`<path d="${Ye}" fill="none" stroke="${Xe}" stroke-width="1.5"/>`)}else if(vt.type==="badge"){const ee=t.metadata[vt.field];if(ee!=null){const Ce=String(ee),Xe=g*.85,je=Xe+8,Ye=(gt=(Q=vt.options)==null?void 0:Q.badge)==null?void 0:gt.variants,En=(st=(at=vt.options)==null?void 0:at.badge)==null?void 0:st.colors;let sn=a.colors.primary,Ut=a.colors.primary;if(En&&Ce in En)sn=En[Ce],Ut=En[Ce];else if(Ye&&Ce in Ye){const xn=Ye[Ce];sn={default:a.colors.primary,...Wi,muted:a.colors.muted}[xn]??a.colors.primary,Ut=sn}const Be=Vn(Ce,Xe)+12,sr=vt.align==="right"?ct+qt-Ie.TEXT_PADDING-Be:vt.align==="center"?ct+(qt-Be)/2:ct+Ie.TEXT_PADDING,_r=o+(i-je)/2;u.push(`<rect x="${sr}" y="${_r}" width="${Be}" height="${je}"
          rx="${je/2}" fill="${sn}" opacity="0.15"/>`),u.push(`<text x="${sr+Be/2}" y="${_r+je/2+Xe*.35}"
          text-anchor="middle"
          font-family="${a.typography.fontFamily}"
          font-size="${Xe}px"
          font-weight="500"
          fill="${Ut}">${on(Ce)}</text>`)}}else if(vt.type==="stars"){const ee=t.metadata[vt.field];if(typeof ee=="number"){const Ce=((lt=(it=vt.options)==null?void 0:it.stars)==null?void 0:lt.maxStars)??5,Xe=((Qt=(Gt=vt.options)==null?void 0:Gt.stars)==null?void 0:Qt.color)??"#f59e0b",je=((Mt=(_t=vt.options)==null?void 0:_t.stars)==null?void 0:Mt.emptyColor)??"#d1d5db",Ye=Math.max(0,Math.min(Ce,ee)),En=Math.floor(Ye),sn=((Ae=(oe=vt.options)==null?void 0:oe.stars)==null?void 0:Ae.halfStars)&&Ye-En>=.5,Ut=12,Dt=2,Be=Ce*Ut+(Ce-1)*Dt;let sr=vt.align==="right"?ct+qt-Ie.TEXT_PADDING-Be:vt.align==="center"?ct+(qt-Be)/2:ct+Ie.TEXT_PADDING;const _r=o+(i-Ut)/2,xn=(Je,kn,Ur)=>{const wn=Ur/2,$e=wn*.4;let dn="";for(let Fn=0;Fn<5;Fn++){const ii=(Fn*72-90)*Math.PI/180,k=(Fn*72+36-90)*Math.PI/180,L=Je+wn*Math.cos(ii),Y=kn+wn*Math.sin(ii),J=Je+$e*Math.cos(k),wt=kn+$e*Math.sin(k);dn+=(Fn===0?`M${L},${Y}`:`L${L},${Y}`)+`L${J},${wt}`}return dn+"Z"};for(let Je=0;Je<Ce;Je++){const kn=sr+Ut/2,Ur=_r+Ut/2,$e=Je<En||Je===En&&sn?Xe:je;u.push(`<path d="${xn(kn,Ur,Ut)}" fill="${$e}"/>`),sr+=Ut+Dt}}}else{const ee=(Jt=t.cellStyles)==null?void 0:Jt[vt.field];let Ce=a.typography.fontWeightNormal,Xe="normal",je=a.colors.foreground;ee&&((ee.bold||ee.emphasis)&&(Ce=a.typography.fontWeightBold),ee.italic&&(Xe="italic"),ee.color?je=ee.color:ee.muted?je=a.colors.muted:ee.accent&&(je=a.colors.accent)),u.push(`<text x="${se}" y="${v}"
        font-family="${a.typography.fontFamily}"
        font-size="${g}px"
        font-weight="${Ce}"
        font-style="${Xe}"
        text-anchor="${Ln}"
        fill="${je}">${on(Vt)}</text>`)}}return u.join(`
`)}function uv(t,e,r,o,i,a){if(Array.isArray(r.axis.tickValues)&&r.axis.tickValues.length>0){const[b,E]=t.domain();let F=r.axis.tickValues.filter(C=>C>=b&&C<=E);const N=r.axis.nullTick!==!1,H=o>=b&&o<=E;return N&&H&&!F.includes(o)&&(F=[...F,o].sort((C,B)=>C-B)),F}const[l,c]=t.domain(),f=r.axis.nullTick!==!1,s=o>=l&&o<=c,h=ss.MIN_TICK_SPACING,d=Math.max(2,Math.floor(i/h)),u=Math.min(e,Math.min(7,d)),g=a&&a.length>0?a.filter(b=>b>=l&&b<=c):t.ticks(u);if(g.length===0)return f&&s?[o]:[];const v=t(o),_=g.filter(b=>b<o).reverse(),x=g.filter(b=>b>o),y=g.some(b=>b===o),S=[];let A=v;for(const b of _){const E=t(b);A-E>=h&&(S.unshift(b),A=E)}const R=[];let w=v;for(const b of x){const E=t(b);E-w>=h&&(R.push(b),w=E)}const T=[...S];if((y||f&&s)&&T.push(o),T.push(...R),T.length<2){const b=new Set(T);b.has(l)||T.unshift(l),T.length<2&&!b.has(c)&&T.push(c)}return T}function Ws(t,e,r,o,i,a,l=1,c=.6){let s=`<line x1="${t}" x2="${t}" y1="${e}" y2="${r}"
    stroke="${i}" stroke-width="${l}" stroke-opacity="${c}" stroke-dasharray="${o==="dashed"?"6,4":o==="dotted"?"2,2":"none"}"/>`;return a&&(s+=`<text x="${t}" y="${e-4}" text-anchor="middle"
      font-size="10px" fill="${i}">${on(a)}</text>`),s}class No extends Error{constructor(e){super(`SVG Generator: ${e}`),this.name="SVGGeneratorError"}}function dv(t){if(!t||typeof t!="object")throw new No("Invalid spec: expected an object");const e=t;if(!e.data||typeof e.data!="object")throw new No("Invalid spec: missing or invalid 'data' property");const r=e.data;if(!Array.isArray(r.rows))throw new No("Invalid spec: 'data.rows' must be an array");if(!e.theme||typeof e.theme!="object")throw new No("Invalid spec: missing or invalid 'theme' property");const o=e.theme;if(!o.colors||typeof o.colors!="object")throw new No("Invalid spec: missing or invalid 'theme.colors'");if(!o.typography||typeof o.typography!="object")throw new No("Invalid spec: missing or invalid 'theme.typography'");if(!o.spacing||typeof o.spacing!="object")throw new No("Invalid spec: missing or invalid 'theme.spacing'")}function hv(t){var a;const r=As(t.columns,void 0).find(l=>l.type==="forest");if(!r||!((a=r.options)!=null&&a.forest))return{scale:"linear",nullValue:0,effects:[],axisLabel:"Effect",pointCol:null,lowerCol:null,upperCol:null};const o=r.options.forest,i=o.scale??"linear";return{scale:i,nullValue:o.nullValue??(i==="log"?1:0),effects:o.effects??[],axisLabel:o.axisLabel??"Effect",pointCol:o.point??null,lowerCol:o.lower??null,upperCol:o.upper??null}}function Xc(t,e={}){var F,N,H,C,B;dv(t);const r=t.theme,o=r.spacing.padding,i=Array.isArray(t.columns)?t.columns:[],a=Ns(i),l=[];for(let P=0;P<a.length;P++)a[P].type==="forest"&&l.push(P);l.length>0;const c=[];for(let P=0;P<a.length;P++){const Z=a[P];(Z.type==="viz_bar"||Z.type==="viz_boxplot"||Z.type==="viz_violin")&&c.push({index:P,type:Z.type,column:Z})}const f=hv(t),s=qg(t,e,f.nullValue),h=s.autoWidths,d=P=>{var X,U,O,Q,gt,at,st,it;if(P.type==="forest"){const lt=h.get(P.id);return lt!==void 0?lt:typeof P.width=="number"?P.width:((U=(X=P.options)==null?void 0:X.forest)==null?void 0:U.width)??s.forestWidth}if(P.type==="viz_bar"){const lt=h.get(P.id);return lt!==void 0?lt:typeof P.width=="number"?P.width:((Q=(O=P.options)==null?void 0:O.vizBar)==null?void 0:Q.width)??s.forestWidth}if(P.type==="viz_boxplot"){const lt=h.get(P.id);return lt!==void 0?lt:typeof P.width=="number"?P.width:((at=(gt=P.options)==null?void 0:gt.vizBoxplot)==null?void 0:at.width)??s.forestWidth}if(P.type==="viz_violin"){const lt=h.get(P.id);return lt!==void 0?lt:typeof P.width=="number"?P.width:((it=(st=P.options)==null?void 0:st.vizViolin)==null?void 0:it.width)??s.forestWidth}const Z=h.get(P.id);return Z!==void 0?Z:typeof P.width=="number"?P.width:no.DEFAULT_COLUMN_WIDTH},u=[];let g=o+s.labelWidth;for(const P of a)u.push(g),g+=d(P);const v=[];v.push(`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg"
  width="${s.totalWidth}" height="${s.totalHeight}"
  viewBox="0 0 ${s.totalWidth} ${s.totalHeight}">`);const _=e.backgroundColor??r.colors.background;v.push(`<rect width="100%" height="100%" fill="${_}"/>`),v.push(Yg(t,s,r)),v.push(`<line x1="${o}" x2="${s.totalWidth-o}"
    y1="${s.mainY}" y2="${s.mainY}"
    stroke="${r.colors.border}" stroke-width="2"/>`);const x=s.mainY;v.push(cv(i,a,o,x,s.headerHeight,r,t.data.labelHeader??"Study",s.labelWidth,h,d)),v.push(`<line x1="${o}" x2="${s.totalWidth-o}"
    y1="${x+s.headerHeight}" y2="${x+s.headerHeight}"
    stroke="${r.colors.border}" stroke-width="2"/>`);const y=jc(t),S=[],A=[];let R=0;for(const P of y){const X=P.type==="data"&&((F=P.row.style)==null?void 0:F.type)==="spacer"?s.rowHeight/2:s.rowHeight;S.push(R),A.push(X),R+=X}const w=s.mainY+s.headerHeight;r.layout.banding&&y.forEach((P,Z)=>{var X,U;if(P.type==="data"){const O=P.row,Q=((X=O.style)==null?void 0:X.type)==="spacer",gt=(U=O.style)==null?void 0:U.bg;if(!Q&&!gt){const at=w+S[Z],st=A[Z],lt=Z%2===1?r.colors.altBg:r.colors.rowBg;lt!==r.colors.background&&v.push(`<rect x="${o}" y="${at}"
              width="${s.totalWidth-o*2}" height="${st}"
              fill="${lt}"/>`)}}});for(const P of l){const Z=a[P],X=u[P],U=d(Z),O=(N=Z.options)==null?void 0:N.forest,Q=(O==null?void 0:O.scale)??"linear",gt=(O==null?void 0:O.nullValue)??(Q==="log"?1:0),at=(O==null?void 0:O.axisLabel)??"Effect",st=Q==="log";let it=(O==null?void 0:O.effects)??[];const lt=(O==null?void 0:O.point)??null,Gt=(O==null?void 0:O.lower)??null,Qt=(O==null?void 0:O.upper)??null;it.length===0&&(lt||Gt||Qt)&&(it=[{pointCol:lt,lowerCol:Gt,upperCol:Qt}]);const _t={scale:Q,nullValue:gt,effects:it,pointCol:(O==null?void 0:O.point)??null,lowerCol:(O==null?void 0:O.lower)??null,upperCol:(O==null?void 0:O.upper)??null},{scale:Mt,clipBounds:oe,ticks:Ae}=Xg(t,U,_t,e),Jt=X+Mt(gt);v.push(Ws(Jt,w,w+s.plotHeight,"dashed",r.colors.muted));const Re=(O==null?void 0:O.annotations)??[];for(const ct of Re)if(ct.type==="reference_line"){const qt=X+Mt(ct.x);v.push(Ws(qt,w,w+s.plotHeight,ct.style,ct.color??r.colors.accent,ct.label,ct.width??1,ct.opacity??.6))}const vt=Array.isArray(t.annotations)?t.annotations:[];for(const ct of vt)if(ct.type==="reference_line"){const qt=X+Mt(ct.x);v.push(Ws(qt,w,w+s.plotHeight,ct.style,ct.color??r.colors.accent,ct.label,ct.width??1,ct.opacity??.6))}if(y.forEach((ct,qt)=>{if(ct.type==="data"){const Vt=w+S[qt]+A[qt]/2;v.push(tv(ct.row,Vt,se=>X+Mt(se),r,gt,it,t.data.weightCol,X,U,oe,st))}}),t.data.overall&&s.showOverallSummary&&typeof t.data.overall.point=="number"&&!Number.isNaN(t.data.overall.point)&&typeof t.data.overall.lower=="number"&&!Number.isNaN(t.data.overall.lower)&&typeof t.data.overall.upper=="number"&&!Number.isNaN(t.data.overall.upper)){const ct=w+s.summaryYPosition;v.push(ev(t.data.overall.point,t.data.overall.lower,t.data.overall.upper,ct,Mt,X,U,r))}v.push(lv(Mt,s,r,at,X,U,gt,Ae))}const T=t.data.rows;for(const P of c){const Z=P.column,X=u[P.index],U=d(Z);if(P.type==="viz_bar"){const O=(H=Z.options)==null?void 0:H.vizBar;if(!O)continue;const Q=iv(T,O,U);y.forEach((gt,at)=>{if(gt.type==="data"){const st=w+S[at]+A[at]/2,it=A[at];v.push(nv(gt.row,st,it,X,U,O,Q,r))}}),O.showAxis!==!1&&(v.push(`<g transform="translate(0, ${w+s.plotHeight})">`),v.push(Hs(Q,s,r,O.axisLabel,X,U,O.nullValue)),v.push("</g>"))}else if(P.type==="viz_boxplot"){const O=(C=Z.options)==null?void 0:C.vizBoxplot;if(!O)continue;const Q=av(T,O,U);y.forEach((gt,at)=>{if(gt.type==="data"){const st=w+S[at]+A[at]/2,it=A[at];v.push(rv(gt.row,st,it,X,U,O,Q,r))}}),O.showAxis!==!1&&(v.push(`<g transform="translate(0, ${w+s.plotHeight})">`),v.push(Hs(Q,s,r,O.axisLabel,X,U,O.nullValue)),v.push("</g>"))}else if(P.type==="viz_violin"){const O=(B=Z.options)==null?void 0:B.vizViolin;if(!O)continue;const Q=sv(T,O,U);y.forEach((gt,at)=>{if(gt.type==="data"){const st=w+S[at]+A[at]/2,it=A[at];v.push(ov(gt.row,st,it,X,U,O,Q,r))}}),O.showAxis!==!1&&(v.push(`<g transform="translate(0, ${w+s.plotHeight})">`),v.push(Hs(Q,s,r,O.axisLabel,X,U,O.nullValue)),v.push("</g>"))}}const b=s.mainY+s.headerHeight,E=Kg(T,a);return y.forEach((P,Z)=>{var O,Q;const X=b+S[Z],U=A[Z];if(P.type==="group_header")v.push(Zg(P.label,P.depth,o,X,U,s.totalWidth-o*2,r));else{const gt=P.row,at=P.depth;v.push(fv(gt,a,o,X,U,r,s.labelWidth,at,E,h,d,u))}if(P.type==="data"){const gt=P.row,at=((O=gt.style)==null?void 0:O.type)==="summary",st=((Q=gt.style)==null?void 0:Q.type)==="spacer";at&&v.push(`<line x1="${o}" x2="${s.totalWidth-o}"
          y1="${X}" y2="${X}"
          stroke="${r.colors.border}" stroke-width="2"/>`),st||v.push(`<line x1="${o}" x2="${s.totalWidth-o}"
          y1="${X+U}" y2="${X+U}"
          stroke="${r.colors.border}" stroke-width="1"/>`)}else v.push(`<line x1="${o}" x2="${s.totalWidth-o}"
        y1="${X+U}" y2="${X+U}"
        stroke="${r.colors.border}" stroke-width="1"/>`)}),v.push($g(t,s,r)),v.push("</svg>"),v.join(`
`)}async function gv(t,e=2){return new Promise((r,o)=>{const i=new Image,a=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),l=URL.createObjectURL(a);i.onload=()=>{const c=document.createElement("canvas"),f=c.getContext("2d");if(!f){URL.revokeObjectURL(l),o(new Error("Failed to get canvas context"));return}c.width=i.width*e,c.height=i.height*e,f.scale(e,e),f.drawImage(i,0,0),c.toBlob(s=>{URL.revokeObjectURL(l),s?r(s):o(new Error("Failed to create PNG blob"))},"image/png",1)},i.onerror=()=>{URL.revokeObjectURL(l),o(new Error("Failed to load SVG image"))},i.src=l})}function vv(t,e){return Xc(t,e)}async function pv(t,e,r=2){const o=Xc(t,e);return gv(o,r)}function Yc(t,e){const r=URL.createObjectURL(t),o=document.createElement("a");o.href=r,o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)}function $c(t){return`forest_plot_${new Date().toISOString().slice(0,19).replace(/[:-]/g,"")}.${t}`}Or[D]="src/components/ui/DownloadButton.svelte";var mv=V(At('<svg width="16" height="16" viewBox="0 0 24 24" class="spin svelte-15gslqv"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="31.4" stroke-dashoffset="10"></circle></svg>'),Or[D],[[76,6,[[77,8]]]]),_v=V(At('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>'),Or[D],[[80,6,[[81,8],[82,8],[83,8]]]]),yv=V(dt('<div class="download-dropdown svelte-15gslqv"><button class="dropdown-item svelte-15gslqv"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-15gslqv"><rect x="3" y="3" width="18" height="18" rx="2"></rect><text x="12" y="15" text-anchor="middle" font-size="8" fill="currentColor" stroke="none">SVG</text></svg> <span>Download SVG</span></button> <button class="dropdown-item svelte-15gslqv"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-15gslqv"><rect x="3" y="3" width="18" height="18" rx="2"></rect><circle cx="8.5" cy="8.5" r="1.5" fill="currentColor"></circle><path d="M21 15l-5-5L5 21"></path></svg> <span>Download PNG</span></button></div>'),Or[D],[[89,4,[[90,6,[[91,8,[[92,10],[93,10]]],[95,8]]],[97,6,[[98,8,[[99,10],[100,10],[101,10]]],[103,8]]]]]]),xv=V(dt('<div class="download-button-wrapper svelte-15gslqv"><button class="download-btn svelte-15gslqv" aria-label="Download plot"><!></button> <!></div>'),Or[D],[[66,0,[[67,2]]]]);function Or(t,e){Se(new.target),_e(e,!0,Or);let r=p(bt(!1),"dropdownOpen"),o=p(bt(!1),"isExporting"),i=p(bt(null),"triggerEl");function a(){ot(r,!1)}async function l(){if(e.store.spec)try{ot(o,!0);const y=e.store.getExportDimensions(),S=vv(e.store.spec,y),A=new Blob([S],{type:"image/svg+xml;charset=utf-8"});Yc(A,$c("svg"))}catch(y){console.error(...jl("error","Failed to export SVG:",y))}finally{ot(o,!1),a()}}async function c(){if(e.store.spec)try{ot(o,!0);const y=e.store.getExportDimensions(),S=(await su(pv(e.store.spec,y,2)))();Yc(S,$c("png"))}catch(y){console.error(...jl("error","Failed to export PNG:",y))}finally{ot(o,!1),a()}}function f(y){y.target.closest(".download-button-wrapper")||a()}var s={...Ee()},h=xv();Bn("click",Uo,f);var d=$(h);d.__click=()=>ot(r,!n(r));var u=$(d);{var g=y=>{var S=mv();I(y,S)},v=y=>{var S=_v();I(y,S)};z(()=>q(u,y=>{n(o)?y(g):y(v,!1)}),"if",Or,75,4)}eo(d,y=>ot(i,y),()=>n(i));var _=et(d,2);{var x=y=>{var S=yv(),A=$(S);A.__click=l;var R=et(A,2);R.__click=c,sa(S,(w,T)=>Vr==null?void 0:Vr(w,T),()=>({triggerEl:n(i)})),tt(()=>{A.disabled=n(o),R.disabled=n(o)}),I(y,S)};z(()=>q(_,y=>{n(r)&&y(x)}),"if",Or,88,2)}return tt(()=>{W(d,"aria-expanded",n(r)),d.disabled=n(o)}),I(t,h),ye(s)}Jr(["click"]),Ma[D]="src/components/ui/ResetButton.svelte";var wv=V(dt('<button class="reset-btn svelte-uej7wa" title="Reset view" aria-label="Reset view to default settings"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button>'),Ma[D],[[15,0,[[21,2,[[22,4],[23,4]]]]]]);function Ma(t,e){Se(new.target),_e(e,!0,Ma);function r(){e.store.resetState()}var o={...Ee()},i=wv();return i.__click=r,I(t,i),ye(o)}Jr(["click"]),Rn[D]="src/components/ui/ZoomControls.svelte";var bv=V(dt('<div class="clamped-note svelte-19w48ay"> </div>'),Rn[D],[[140,8]]),Mv=V(dt('<button class="action-btn svelte-19w48ay" title="Reset to 100% (Cmd 0)"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-19w48ay"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg> Reset to 100%</button>'),Rn[D],[[147,8,[[152,10,[[153,12],[154,12]]]]]]),Sv=V(dt("<option> </option>"),Rn[D],[[198,14]]),Ev=V(dt("<option> </option>"),Rn[D],[[212,14]]),kv=V(dt('<div class="zoom-dropdown svelte-19w48ay"><div class="zoom-row svelte-19w48ay"><button class="zoom-btn svelte-19w48ay" title="Zoom out (Cmd -)" aria-label="Zoom out"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="5" y1="12" x2="19" y2="12"></line></svg></button> <input type="range" class="zoom-slider svelte-19w48ay" min="50" max="200" step="5" title="Zoom level" aria-label="Zoom level"/> <button class="zoom-btn svelte-19w48ay" title="Zoom in (Cmd +)" aria-label="Zoom in"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg></button> <span class="zoom-value svelte-19w48ay"> </span></div> <!> <!> <div class="divider svelte-19w48ay"></div> <button class="action-btn svelte-19w48ay" title="Fit to container width (Cmd 1)"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-19w48ay"><path d="M21 12H3M21 12l-4-4m4 4l-4 4M3 12l4-4m-4 4l4 4"></path></svg> Fit to width</button> <label class="checkbox-row svelte-19w48ay"><input type="checkbox" class="svelte-19w48ay"/> <span>Auto-fit</span> <span class="checkbox-hint svelte-19w48ay">Shrink if too large</span></label> <div class="divider svelte-19w48ay"></div> <div class="section-label svelte-19w48ay">Max Size</div> <div class="select-row svelte-19w48ay"><label class="svelte-19w48ay"><span class="select-label svelte-19w48ay">Width</span> <select class="svelte-19w48ay"></select></label></div> <div class="select-row svelte-19w48ay"><label class="svelte-19w48ay"><span class="select-label svelte-19w48ay">Height</span> <select class="svelte-19w48ay"></select></label></div></div>'),Rn[D],[[97,4,[[99,6,[[100,8,[[106,10,[[107,12]]]]],[111,8],[123,8,[[129,10,[[130,12],[131,12]]]]],[135,8]]],[160,6],[163,6,[[168,8,[[169,10]]]]],[175,6,[[176,8],[181,8],[182,8]]],[185,6],[188,6],[190,6,[[191,8,[[192,10],[193,10]]]]],[204,6,[[205,8,[[206,10],[207,10]]]]]]]]),Cv=V(dt('<div class="zoom-controls-wrapper svelte-19w48ay"><button class="zoom-trigger-btn svelte-19w48ay" aria-label="Zoom and display options"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path><path d="M11 8v6"></path><path d="M8 11h6"></path></svg> <span class="zoom-text svelte-19w48ay"> </span></button> <!></div>'),Rn[D],[[76,0,[[78,2,[[87,4,[[88,6],[89,6],[90,6],[91,6]]],[93,4]]]]]]);function Rn(t,e){Se(new.target),_e(e,!0,Rn);let r=p(bt(!1),"dropdownOpen"),o=p(bt(null),"triggerEl");const i=p(m(()=>e.store.zoom),"zoom"),a=p(m(()=>e.store.autoFit),"autoFit"),l=p(m(()=>e.store.actualScale),"actualScale"),c=p(m(()=>e.store.isClamped),"isClamped"),f=p(m(()=>e.store.maxWidth),"maxWidth"),s=p(m(()=>e.store.maxHeight),"maxHeight"),h=p(m(()=>Math.round(n(l)*100)),"displayPercent"),d=p(m(()=>Math.round(n(i)*100)),"zoomPercent"),u=[{value:null,label:"None"},{value:600,label:"600px"},{value:800,label:"800px"},{value:1e3,label:"1000px"},{value:1200,label:"1200px"}],g=[{value:null,label:"None"},{value:400,label:"400px"},{value:600,label:"600px"},{value:800,label:"800px"}];function v(){ot(r,!1)}function _(N){const H=N.target;e.store.setZoom(parseFloat(H.value)/100)}function x(N){const H=N.target,C=M(H.value,"null")?null:parseInt(H.value);e.store.setMaxWidth(C)}function y(N){const H=N.target,C=M(H.value,"null")?null:parseInt(H.value);e.store.setMaxHeight(C)}function S(N){N.target.closest(".zoom-controls-wrapper")||v()}var A={...Ee()},R=Cv();Bn("click",Uo,S);var w=$(R);w.__click=()=>ot(r,!n(r));var T=et($(w),2),b=$(T);eo(w,N=>ot(o,N),()=>n(o));var E=et(w,2);{var F=N=>{var H=kv(),C=$(H),B=$(C);B.__click=()=>e.store.zoomOut();var P=et(B,2);P.__change=_;var Z=et(P,2);Z.__click=()=>e.store.zoomIn();var X=et(Z,2),U=$(X),O=et(C,2);{var Q=vt=>{var ct=bv(),qt=$(ct);tt(()=>Bt(qt,`Showing ${n(h)??""}% (auto-fit)`)),I(vt,ct)};z(()=>q(O,vt=>{n(c)&&vt(Q)}),"if",Rn,139,6)}var gt=et(O,2);{var at=vt=>{var ct=Mv();ct.__click=()=>e.store.resetZoom(),I(vt,ct)};z(()=>q(gt,vt=>{M(n(i),1,!1)&&vt(at)}),"if",Rn,146,6)}var st=et(gt,4);st.__click=()=>e.store.fitToWidth();var it=et(st,2),lt=$(it);lt.__change=vt=>e.store.setAutoFit(vt.target.checked);var Gt=et(it,6),Qt=$(Gt),_t=et($(Qt),2);_t.__change=x,z(()=>Ne(_t,21,()=>u,Zn,(vt,ct)=>{var qt=Sv(),Vt=$(qt,!0);var se={};tt(()=>{Bt(Vt,n(ct).label),se!==(se=M(n(ct).value,null)?"null":n(ct).value)&&(qt.value=(qt.__value=M(n(ct).value,null)?"null":n(ct).value)??"")}),I(vt,qt)}),"each",Rn,197,12);var Mt;Dl(_t);var oe=et(Gt,2),Ae=$(oe),Jt=et($(Ae),2);Jt.__change=y,z(()=>Ne(Jt,21,()=>g,Zn,(vt,ct)=>{var qt=Ev(),Vt=$(qt,!0);var se={};tt(()=>{Bt(Vt,n(ct).label),se!==(se=M(n(ct).value,null)?"null":n(ct).value)&&(qt.value=(qt.__value=M(n(ct).value,null)?"null":n(ct).value)??"")}),I(vt,qt)}),"each",Rn,211,12);var Re;Dl(Jt),sa(H,(vt,ct)=>Vr==null?void 0:Vr(vt,ct),()=>({triggerEl:n(o)})),tt(()=>{Gl(P,n(d)),Bt(U,`${n(d)??""}%`),Ku(lt,n(a)),Mt!==(Mt=M(n(f),null)?"null":n(f))&&(_t.value=(_t.__value=M(n(f),null)?"null":n(f))??"",is(_t,M(n(f),null)?"null":n(f))),Re!==(Re=M(n(s),null)?"null":n(s))&&(Jt.value=(Jt.__value=M(n(s),null)?"null":n(s))??"",is(Jt,M(n(s),null)?"null":n(s)))}),I(N,H)};z(()=>q(E,N=>{n(r)&&N(F)}),"if",Rn,96,2)}return tt(()=>{W(w,"aria-expanded",n(r)),W(w,"title",`Zoom: ${n(h)??""}%`),Bt(b,`${n(h)??""}%`)}),I(t,R),ye(A)}Jr(["click","change"]),zn[D]="src/components/ui/ControlToolbar.svelte";var Tv=V(dt('<div class="control-toolbar svelte-rjvd17"><!> <!> <!> <!> <!></div>'),zn[D],[[37,0]]);function zn(t,e){Se(new.target),_e(e,!0,zn);let r=Gn(e,"enableExport",3,!0),o=Gn(e,"enableThemes",3,void 0),i=Gn(e,"enableViewToggle",3,!0),a=Gn(e,"enableZoomControls",3,!0),l=Gn(e,"enableReset",3,!0);const c=p(m(()=>a()&&e.store.showZoomControls),"showZoomControls"),f=p(m(()=>M(o(),null,!1)),"showThemeSwitcher");var s={...Ee()},h=Tv(),d=$(h);{var u=w=>{z(()=>Rn(w,{get store(){return e.store}}),"component",zn,39,4,{componentTag:"ZoomControls"})};z(()=>q(d,w=>{n(c)&&w(u)}),"if",zn,38,2)}var g=et(d,2);{var v=w=>{z(()=>vr(w,{get store(){return e.store},get availableThemes(){return o()},get onThemeChange(){return e.onThemeChange}}),"component",zn,42,4,{componentTag:"ThemeSwitcher"})};z(()=>q(g,w=>{n(f)&&w(v)}),"if",zn,41,2)}var _=et(g,2);{var x=w=>{z(()=>To(w,{get store(){return e.store}}),"component",zn,45,4,{componentTag:"ViewToggle"})};z(()=>q(_,w=>{i()&&w(x)}),"if",zn,44,2)}var y=et(_,2);{var S=w=>{z(()=>Ma(w,{get store(){return e.store}}),"component",zn,48,4,{componentTag:"ResetButton"})};z(()=>q(y,w=>{l()&&w(S)}),"if",zn,47,2)}var A=et(y,2);{var R=w=>{z(()=>Or(w,{get store(){return e.store}}),"component",zn,51,4,{componentTag:"DownloadButton"})};z(()=>q(A,w=>{r()&&w(R)}),"if",zn,50,2)}return I(t,h),ye(s)}io[D]="src/components/viz/VizBar.svelte";var Nv=V(At('<rect rx="2" class="bar-segment svelte-1pgs700"></rect>'),io[D],[[107,8]]),Av=V(At('<g class="viz-bar-row svelte-1pgs700"></g>'),io[D],[[96,2]]);function io(t,e){Se(new.target),_e(e,!0,io);const r=p(m(()=>{var x,y,S,A;if(e.sharedScale)return e.sharedScale;const u=M(e.options.scale,"log"),g=((y=(x=e.theme)==null?void 0:x.spacing)==null?void 0:y.padding)??12;let v=((S=e.options.axisRange)==null?void 0:S[0])??0,_=((A=e.options.axisRange)==null?void 0:A[1])??100;if(!e.options.axisRange){const R=[];for(const w of e.options.effects){const T=e.row.metadata[w.value];ge(T,null,!1)&&!Number.isNaN(T)&&R.push(T)}R.length>0&&(v=Math.min(0,...R),_=Math.max(...R)*1.1)}return u?Br().domain([Math.max(.01,v),_]).range([g,e.width-g]):nr().domain([v,_]).range([g,e.width-g])}),"xScale"),o=p(m(()=>{const u=e.options.effects.length,g=e.rowHeight*.7,v=u>1?2:0,_=(g-v*(u-1))/u;return{barHeight:Math.max(4,_),barGap:v,totalHeight:g}}),"barConfig"),i=p(m(()=>{var u,g;return((g=(u=e.theme)==null?void 0:u.shapes)==null?void 0:g.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function a(u,g){return u.color??n(i)[g%n(i).length]}function l(u){return u.opacity??.85}const c=p(m(()=>e.options.effects.some(u=>{const g=e.row.metadata[u.value];return ge(g,null,!1)&&!Number.isNaN(g)})),"hasValidData");var f={...Ee()},s=kt(),h=mt(s);{var d=u=>{var g=Av();z(()=>Ne(g,21,()=>e.options.effects,Zn,(v,_,x)=>{const y=p(m(()=>e.row.metadata[n(_).value]),"value");n(y);var S=kt(),A=mt(S);{var R=w=>{const T=p(m(()=>e.yPosition-n(o).totalHeight/2+x*(n(o).barHeight+n(o).barGap)),"barY");n(T);const b=p(m(()=>n(r)(Math.min(0,n(y)))),"barX");n(b);const E=p(m(()=>Math.abs(n(r)(n(y))-n(r)(0))),"barWidth");n(E);const F=p(m(()=>a(n(_),x)),"color");n(F);const N=p(m(()=>l(n(_))),"opacity");n(N);var H=Nv();tt(C=>{W(H,"x",n(b)),W(H,"y",n(T)),W(H,"width",C),W(H,"height",n(o).barHeight),W(H,"fill",n(F)),W(H,"fill-opacity",n(N))},[()=>Math.max(1,n(E))]),I(w,H)};z(()=>q(A,w=>{ge(n(y),null,!1)&&!Number.isNaN(n(y))&&w(R)}),"if",io,100,6)}I(v,S)}),"each",io,98,4),I(u,g)};z(()=>q(h,u=>{n(c)&&u(d)}),"if",io,95,0)}return I(t,s),ye(f)}pr[D]="src/components/viz/VizBoxplot.svelte";var Hv=V(At('<circle r="2.5" fill="none" stroke-width="1.5" class="outlier svelte-5apth9"></circle>'),pr[D],[[210,12]]),Wv=V(At('<line stroke-width="1"></line><line stroke-width="1"></line><line stroke-width="1"></line><line stroke-width="1"></line><rect stroke-width="1" class="box-rect svelte-5apth9"></rect><line stroke-width="2"></line><!>',1),pr[D],[[147,10],[156,10],[166,10],[175,10],[185,8],[198,8]]),Rv=V(At('<g class="viz-boxplot-row svelte-5apth9"></g>'),pr[D],[[135,2]]);function pr(t,e){Se(new.target),_e(e,!0,pr);const r=p(m(()=>e.options.effects.map(g=>{if(g.data){const v=e.row.metadata[g.data];return!v||!Array.isArray(v)||M(v.length,0)?null:xa(v)}if(g.min&&g.q1&&g.median&&g.q3&&g.max){const v=e.row.metadata[g.min],_=e.row.metadata[g.q1],x=e.row.metadata[g.median],y=e.row.metadata[g.q3],S=e.row.metadata[g.max];if([v,_,x,y,S].some(R=>ge(R,null)||Number.isNaN(R)))return null;let A=[];if(g.outliers){const R=e.row.metadata[g.outliers];R&&Array.isArray(R)&&(A=R)}return{min:v,q1:_,median:x,q3:y,max:S,outliers:A}}return null})),"effectStats"),o=p(m(()=>n(r).some(g=>M(g,null,!1))),"hasValidData"),i=p(m(()=>{var y,S,A,R;if(e.sharedScale)return e.sharedScale;const g=M(e.options.scale,"log"),v=((S=(y=e.theme)==null?void 0:y.spacing)==null?void 0:S.padding)??12;let _=(A=e.options.axisRange)==null?void 0:A[0],x=(R=e.options.axisRange)==null?void 0:R[1];if(ge(_,null)||ge(x,null)){const w=[];for(const T of n(r))T&&(w.push(T.min,T.max),M(e.options.showOutliers,!1,!1)&&w.push(...T.outliers));if(w.length>0){const T=Math.min(...w),b=Math.max(...w),E=b-T;_=_??T-E*.05,x=x??b+E*.05}else _=_??0,x=x??100}return g?Br().domain([Math.max(.01,_),x]).range([v,e.width-v]):nr().domain([_,x]).range([v,e.width-v])}),"xScale"),a=p(m(()=>{const g=e.options.effects.length,v=e.rowHeight*.7,_=(v-(g-1)*2)/g;return{boxHeight:Math.max(8,_),boxGap:g>1?2:0,totalHeight:v}}),"boxConfig"),l=p(m(()=>{var g,v;return((v=(g=e.theme)==null?void 0:g.shapes)==null?void 0:v.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function c(g,v){return g.color??n(l)[v%n(l).length]}function f(g){return g.fillOpacity??.7}var s={...Ee()},h=kt(),d=mt(h);{var u=g=>{var v=Rv();z(()=>Ne(v,21,()=>e.options.effects,Zn,(_,x,y)=>{const S=p(m(()=>n(r)[y]),"stats");n(S);var A=kt(),R=mt(A);{var w=T=>{const b=p(m(()=>e.yPosition-n(a).totalHeight/2+y*(n(a).boxHeight+n(a).boxGap)),"boxY");n(b);const E=p(m(()=>n(b)+n(a).boxHeight/2),"boxCenterY");n(E);const F=p(m(()=>c(n(x),y)),"color");n(F);const N=p(m(()=>f(n(x))),"opacity");n(N);const H=p(m(()=>{var at;return((at=e.theme)==null?void 0:at.colors.foreground)??"#1a1a1a"}),"lineColor");n(H);var C=Wv(),B=mt(C),P=et(B),Z=et(P),X=et(Z),U=et(X),O=et(U),Q=et(O);{var gt=at=>{var st=kt(),it=mt(st);z(()=>Ne(it,17,()=>n(S).outliers,Zn,(lt,Gt)=>{var Qt=Hv();tt(_t=>{W(Qt,"cx",_t),W(Qt,"cy",n(E)),W(Qt,"stroke",n(F))},[()=>n(i)(n(Gt))]),I(lt,Qt)}),"each",pr,209,10),I(at,st)};z(()=>q(Q,at=>{M(e.options.showOutliers,!1,!1)&&n(S).outliers.length>0&&at(gt)}),"if",pr,208,8)}tt((at,st,it,lt,Gt,Qt,_t,Mt,oe,Ae,Jt,Re)=>{W(B,"x1",at),W(B,"x2",st),W(B,"y1",n(E)),W(B,"y2",n(E)),W(B,"stroke",n(H)),W(P,"x1",it),W(P,"x2",lt),W(P,"y1",n(E)-n(a).boxHeight/4),W(P,"y2",n(E)+n(a).boxHeight/4),W(P,"stroke",n(H)),W(Z,"x1",Gt),W(Z,"x2",Qt),W(Z,"y1",n(E)),W(Z,"y2",n(E)),W(Z,"stroke",n(H)),W(X,"x1",_t),W(X,"x2",Mt),W(X,"y1",n(E)-n(a).boxHeight/4),W(X,"y2",n(E)+n(a).boxHeight/4),W(X,"stroke",n(H)),W(U,"x",oe),W(U,"y",n(b)),W(U,"width",Ae),W(U,"height",n(a).boxHeight),W(U,"fill",n(F)),W(U,"fill-opacity",n(N)),W(U,"stroke",n(H)),W(O,"x1",Jt),W(O,"x2",Re),W(O,"y1",n(b)),W(O,"y2",n(b)+n(a).boxHeight),W(O,"stroke",n(H))},[()=>n(i)(n(S).min),()=>n(i)(n(S).q1),()=>n(i)(n(S).min),()=>n(i)(n(S).min),()=>n(i)(n(S).q3),()=>n(i)(n(S).max),()=>n(i)(n(S).max),()=>n(i)(n(S).max),()=>n(i)(n(S).q1),()=>Math.max(2,n(i)(n(S).q3)-n(i)(n(S).q1)),()=>n(i)(n(S).median),()=>n(i)(n(S).median)]),I(T,C)};z(()=>q(R,T=>{n(S)&&T(w)}),"if",pr,138,6)}I(_,A)}),"each",pr,136,4),I(g,v)};z(()=>q(d,g=>{n(o)&&g(u)}),"if",pr,134,0)}return I(t,h),ye(s)}rr[D]="src/components/viz/VizViolin.svelte";var zv=V(At('<line stroke-width="2"></line>'),rr[D],[[165,10]]),Iv=V(At('<line stroke-width="1" stroke-dasharray="2,2"></line><line stroke-width="1" stroke-dasharray="2,2"></line>',1),rr[D],[[179,10],[188,10]]),Lv=V(At('<path stroke-width="0.5" class="violin-path svelte-1ywbnva"></path><!><!>',1),rr[D],[[153,8]]),Fv=V(At('<g class="viz-violin-row svelte-1ywbnva"></g>'),rr[D],[[140,2]]);function rr(t,e){Se(new.target),_e(e,!0,rr);const r=p(m(()=>e.options.effects.map(_=>{const x=e.row.metadata[_.data];return!x||!Array.isArray(x)||x.length<2?null:Bc(x,e.options.bandwidth)})),"effectKDEs"),o=p(m(()=>e.options.effects.map(_=>{const x=e.row.metadata[_.data];return!x||!Array.isArray(x)||x.length<2?null:Dc(x)})),"effectQuartiles"),i=p(m(()=>n(r).some(_=>M(_,null,!1))),"hasValidData"),a=p(m(()=>{var A,R,w,T;if(e.sharedScale)return e.sharedScale;const _=M(e.options.scale,"log"),x=((R=(A=e.theme)==null?void 0:A.spacing)==null?void 0:R.padding)??12;let y=(w=e.options.axisRange)==null?void 0:w[0],S=(T=e.options.axisRange)==null?void 0:T[1];if(ge(y,null)||ge(S,null)){const b=[];for(const E of n(r))E&&E.x.length>0&&b.push(...E.x);b.length>0?(y=y??Math.min(...b),S=S??Math.max(...b)):(y=y??0,S=S??100)}return _?Br().domain([Math.max(.01,y),S]).range([x,e.width-x]):nr().domain([y,S]).range([x,e.width-x])}),"xScale"),l=p(m(()=>{const _=e.options.effects.length,x=e.rowHeight*.8,y=(x-(_-1)*2)/_;return{maxWidth:y/2,violinHeight:Math.max(10,y),gap:_>1?2:0,totalHeight:x}}),"violinConfig"),c=p(m(()=>{var _,x;return((x=(_=e.theme)==null?void 0:_.shapes)==null?void 0:x.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function f(_,x){return _.color??n(c)[x%n(c).length]}function s(_){return _.fillOpacity??.5}function h(_,x,y){if(_.x.length<2)return"";const S=Gc(_,y),A=[];for(let R=0;R<S.x.length;R++){const w=n(a)(S.x[R]),T=x-S.y[R];A.push(M(R,0)?`M ${w} ${T}`:`L ${w} ${T}`)}for(let R=S.x.length-1;R>=0;R--){const w=n(a)(S.x[R]),T=x+S.y[R];A.push(`L ${w} ${T}`)}return A.push("Z"),A.join(" ")}var d={...Ee()},u=kt(),g=mt(u);{var v=_=>{var x=Fv();z(()=>Ne(x,21,()=>e.options.effects,Zn,(y,S,A)=>{const R=p(m(()=>n(r)[A]),"kde");n(R);const w=p(m(()=>n(o)[A]),"quartiles");n(w);var T=kt(),b=mt(T);{var E=F=>{const N=p(m(()=>e.yPosition-n(l).totalHeight/2+n(l).violinHeight/2+A*(n(l).violinHeight+n(l).gap)),"violinCenterY");n(N);const H=p(m(()=>f(n(S),A)),"color");n(H);const C=p(m(()=>s(n(S))),"opacity");n(C);const B=p(m(()=>h(n(R),n(N),n(l).maxWidth)),"path");n(B);const P=p(m(()=>{var at;return((at=e.theme)==null?void 0:at.colors.foreground)??"#1a1a1a"}),"lineColor");n(P);var Z=Lv(),X=mt(Z),U=et(X);{var O=at=>{const st=p(m(()=>n(a)(n(w).median)),"medianX");n(st);var it=zv();tt(()=>{W(it,"x1",n(st)),W(it,"x2",n(st)),W(it,"y1",n(N)-n(l).maxWidth*.6),W(it,"y2",n(N)+n(l).maxWidth*.6),W(it,"stroke",n(P))}),I(at,it)};z(()=>q(U,at=>{M(e.options.showMedian,!1,!1)&&n(w)&&at(O)}),"if",rr,163,8)}var Q=et(U);{var gt=at=>{const st=p(m(()=>n(a)(n(w).q1)),"q1X");n(st);const it=p(m(()=>n(a)(n(w).q3)),"q3X");n(it);var lt=Iv(),Gt=mt(lt),Qt=et(Gt);tt(()=>{W(Gt,"x1",n(st)),W(Gt,"x2",n(st)),W(Gt,"y1",n(N)-n(l).maxWidth*.4),W(Gt,"y2",n(N)+n(l).maxWidth*.4),W(Gt,"stroke",n(P)),W(Qt,"x1",n(it)),W(Qt,"x2",n(it)),W(Qt,"y1",n(N)-n(l).maxWidth*.4),W(Qt,"y2",n(N)+n(l).maxWidth*.4),W(Qt,"stroke",n(P))}),I(at,lt)};z(()=>q(Q,at=>{e.options.showQuartiles&&n(w)&&at(gt)}),"if",rr,176,8)}tt(()=>{W(X,"d",n(B)),W(X,"fill",n(H)),W(X,"fill-opacity",n(C)),W(X,"stroke",n(P))}),I(F,Z)};z(()=>q(b,F=>{n(R)&&n(R).x.length>=2&&F(E)}),"if",rr,144,6)}I(y,T)}),"each",rr,141,4),I(_,x)};z(()=>q(g,_=>{n(i)&&_(v)}),"if",rr,139,0)}return I(t,u),ye(d)}G[D]="src/lib/ForestPlot.svelte";function Pv(t,e){var o,i;if((i=(o=e.options)==null?void 0:o.bar)!=null&&i.maxValue)return e.options.bar.maxValue;let r=0;for(const a of t){const l=a.metadata[e.field];M(typeof l,"number")&&l>r&&(r=l)}return r||100}function Dv(t,e,r){const o=[],i=M(t==null?void 0:t.type,"header")||M(t==null?void 0:t.type,"summary")||M(t==null?void 0:t.type,"spacer");return M(t==null?void 0:t.type,"header")&&o.push("row-header"),M(t==null?void 0:t.type,"summary")&&o.push("row-summary"),t!=null&&t.bold&&o.push("row-bold"),t!=null&&t.italic&&o.push("row-italic"),t!=null&&t.emphasis&&o.push("row-emphasis"),t!=null&&t.muted&&o.push("row-muted"),t!=null&&t.accent&&o.push("row-accent"),!i&&r&&M(e,void 0,!1)&&M(e%2,1)&&o.push("row-odd"),o.join(" ")}function Bv(t,e){const r=[];return t!=null&&t.color&&r.push(`color: ${t.color}`),t!=null&&t.bg&&r.push(`background-color: ${t.bg}`),t!=null&&t.indent&&r.push(`--row-indent: ${t.indent}`),!(t!=null&&t.indent)&&e&&e>0&&r.push(`--row-indent: ${e}`),r.join("; ")}function Gv(t,e){var r;if((r=t.cellStyles)!=null&&r[e.field])return t.cellStyles[e.field];if(e.styleMapping){const o={},i=t.metadata;if(e.styleMapping.bold&&i[e.styleMapping.bold]&&(o.bold=!!i[e.styleMapping.bold]),e.styleMapping.italic&&i[e.styleMapping.italic]&&(o.italic=!!i[e.styleMapping.italic]),e.styleMapping.color&&i[e.styleMapping.color]&&(o.color=String(i[e.styleMapping.color])),e.styleMapping.bg&&i[e.styleMapping.bg]&&(o.bg=String(i[e.styleMapping.bg])),e.styleMapping.badge&&i[e.styleMapping.badge]&&(o.badge=String(i[e.styleMapping.badge])),e.styleMapping.icon&&i[e.styleMapping.icon]&&(o.icon=String(i[e.styleMapping.icon])),Object.keys(o).length>0)return o}}var Vv=V(dt('<div class="resize-handle svelte-14l8yxx"></div>'),G[D],[[941,12]]),Ov=V(dt('<div class="grid-cell header-cell column-group-header svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span></div>'),G[D],[[952,12,[[957,14]]]]),jv=V(dt('<span class="header-text svelte-14l8yxx"> </span>'),G[D],[[978,16]]),qv=V(dt('<div class="resize-handle svelte-14l8yxx"></div>'),G[D],[[982,16]]),Uv=V(dt('<div class="grid-cell header-cell plot-header svelte-14l8yxx"><!> <!></div>'),G[D],[[971,12]]),Xv=V(dt('<div class="resize-handle svelte-14l8yxx"></div>'),G[D],[[1e3,16]]),Yv=V(dt('<div class="grid-cell header-cell svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span> <!></div>'),G[D],[[991,12,[[997,14]]]]),$v=V(dt('<span class="row-icon svelte-14l8yxx"> </span>'),G[D],[[1047,35]]),Zv=V(dt('<span class="row-badge svelte-14l8yxx"> </span>'),G[D],[[1049,36]]),Kv=V(dt("<!> <!>",1),G[D],[]),Qv=V(dt("<div></div>"),G[D],[[1057,14]]),Jv=V(dt("<div><!></div>"),G[D],[[1072,14]]),tp=V(dt("<div><!></div> <!>",1),G[D],[[1022,10]]),ep=V(dt('<div class="grid-cell axis-cell svelte-14l8yxx"></div>'),G[D],[[1100,14]]),np=V(dt('<div class="grid-cell axis-spacer svelte-14l8yxx"></div>'),G[D],[[1102,14]]),rp=V(dt('<!> <div class="grid-cell axis-spacer svelte-14l8yxx"></div>',1),G[D],[[1106,10]]),op=V(At('<text text-anchor="middle" font-size="var(--wf-font-size-sm)" font-weight="500" class="svelte-14l8yxx"> </text>'),G[D],[[1157,18]]),ip=V(At('<line class="svelte-14l8yxx"></line><!>',1),G[D],[[1145,16]]),ap=V(At('<g class="svelte-14l8yxx"><!></g>'),G[D],[[1218,14]]),sp=V(At('<svg class="plot-overlay svelte-14l8yxx"><line stroke="var(--wf-muted)" stroke-width="1" stroke-dasharray="4,4" class="svelte-14l8yxx"></line><!><!><!><!></svg>'),G[D],[[1120,10,[[1129,12]]]]),lp=V(At('<g class="svelte-14l8yxx"><!></g>'),G[D],[[1261,16]]),cp=V(At('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),G[D],[[1234,12]]),fp=V(At('<g class="svelte-14l8yxx"><!></g>'),G[D],[[1314,16]]),up=V(At('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),G[D],[[1287,12]]),dp=V(At('<g class="svelte-14l8yxx"><!></g>'),G[D],[[1367,16]]),hp=V(At('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),G[D],[[1340,12]]),gp=V(dt('<!> <div class="tabviz-scalable svelte-14l8yxx"><!>  <div><div class="grid-cell header-cell label-header svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span> <!></div> <!> <!> <!> <!> <!> <!> <!></div> <!></div> <!>',1),G[D],[[855,4,[[930,6,[[933,8,[[938,10]]]]]]]]),vp=V(dt('<div class="tabviz-empty svelte-14l8yxx">No data</div>'),G[D],[[1392,4]]),pp=V(dt("<div><!></div>"),G[D],[[840,0]]);function G(t,e){Se(new.target),_e(e,!0,G);const r=p(m(()=>e.store.spec),"spec"),o=p(m(()=>e.store.visibleRows),"visibleRows"),i=p(m(()=>e.store.displayRows),"displayRows"),a=p(m(()=>e.store.layout),"layout"),l=p(m(()=>e.store.xScale),"xScale"),c=p(m(()=>e.store.axisComputation),"axisComputation"),f=p(m(()=>n(c).axisLimits),"clipBounds"),s=p(m(()=>{var k;return(k=n(r))==null?void 0:k.theme}),"theme"),h=p(m(()=>{var k,L;return((L=(k=n(s))==null?void 0:k.layout)==null?void 0:L.banding)??!1}),"bandingEnabled"),d=p(m(()=>e.store.allColumns),"allColumns"),u=p(m(()=>e.store.allColumnDefs),"allColumnDefs"),g=p(m(()=>e.store.forestColumns),"forestColumns");p(m(()=>n(g).length>0),"hasForestColumns");const v=p(m(()=>e.store.vizColumns),"vizColumns"),_=p(m(()=>n(v).length>0),"hasVizColumns"),x=p(m(()=>{var k;return((k=n(r))==null?void 0:k.data.labelHeader)||"Study"}),"labelHeader"),y=p(m(()=>{var k,L,Y,J;return!!((L=(k=n(r))==null?void 0:k.labels)!=null&&L.title)||!!((J=(Y=n(r))==null?void 0:Y.labels)!=null&&J.subtitle)}),"hasPlotHeader");p(m(()=>n(u).some(k=>k.isGroup)),"hasColumnGroups");const S=p(m(()=>e.store.tooltipRow),"tooltipRow"),A=p(m(()=>e.store.tooltipPosition),"tooltipPosition"),R=p(m(()=>e.store.selectedRowIds),"selectedRowIds"),w=p(m(()=>e.store.hoveredRowId),"hoveredRowId"),T=p(m(()=>e.store.zoom),"zoom"),b=p(m(()=>e.store.autoFit),"autoFit"),E=p(m(()=>e.store.actualScale),"actualScale"),F=p(m(()=>e.store.maxWidth),"maxWidth"),N=p(m(()=>e.store.maxHeight),"maxHeight");p(m(()=>e.store.showZoomControls),"showZoomControls");const H=p(m(()=>({...e.store.columnWidths})),"columnWidthsSnapshot");let C=p(bt(void 0),"containerRef"),B=p(bt(void 0),"scalableRef"),P=p(bt(0),"containerContentWidth"),Z=p(bt(0),"scalableNaturalWidth"),X=p(bt(0),"scalableNaturalHeight");p(m(()=>e.store.naturalContentWidth),"naturalContentWidth");const U=p(m(()=>n(Z)*n(E)),"scaledWidth"),O=p(m(()=>n(X)*n(E)),"scaledHeight"),Q=p(m(()=>{if(!n(b)||n(P)<=0||n(U)<=0)return 0;const k=(n(P)-n(U))/2;return Math.max(0,k)}),"centeringMargin");Si(()=>{if(!n(C)||!n(B))return;n(C).id&&e.store.setContainerElementId(n(C).id);const k=new ResizeObserver(L=>{for(const Y of L)M(Y.target,n(C))?(ot(P,Y.contentRect.width,!0),e.store.setContainerDimensions(Y.contentRect.width,Y.contentRect.height)):M(Y.target,n(B))&&(ot(Z,Y.contentRect.width,!0),ot(X,Y.contentRect.height,!0),e.store.setScalableNaturalDimensions(Y.contentRect.width,Y.contentRect.height))});return k.observe(n(C)),k.observe(n(B)),()=>{k.disconnect()}});const gt=p(m(()=>{var k,L;return M((L=(k=n(r))==null?void 0:k.interaction)==null?void 0:L.enableExport,!1,!1)}),"enableExport"),at=p(m(()=>{var k,L;return(L=(k=n(r))==null?void 0:k.interaction)==null?void 0:L.enableThemes}),"enableThemes");function st(k){var L;if(!(!k.metaKey&&!k.ctrlKey)&&!M((L=k.target)==null?void 0:L.tagName,"INPUT"))switch(k.key){case"=":case"+":k.preventDefault(),e.store.zoomIn();break;case"-":k.preventDefault(),e.store.zoomOut();break;case"0":k.preventDefault(),e.store.resetZoom();break;case"1":k.preventDefault(),e.store.fitToWidth();break}}const it=p(m(()=>{var J;const k=[],L=[];let Y=0;for(const wt of n(i)){const St=M(wt.type,"data")&&M((J=wt.row.style)==null?void 0:J.type,"spacer")?n(a).rowHeight/2:n(a).rowHeight;k.push(Y),L.push(St),Y+=St}return{positions:k,heights:L,totalHeight:Y}}),"rowLayout"),lt=p(m(()=>n(it).totalHeight),"rowsAreaHeight");function Gt(k){const L=k.filter(St=>M(St.type,"reference_line")&&St.label).map(St=>({id:St.id,x:n(l)(St.x),label:St.label})).sort((St,Ot)=>St.x-Ot.x),Y={},J=120,wt=-18;for(let St=0;St<L.length;St++){const Ot=L[St];if(Y[Ot.id]=0,St>0){const Nt=L[St-1];Ot.x-Nt.x<J&&(Y[Ot.id]=M(Y[Nt.id],0)?wt:0)}}return Y}function Qt(k){return n(R).has(k)}function _t(k,L){return M(k.type,"group_header")?`group_${k.group.id}`:k.row.id}function Mt(k){return k.isGroup?k.columns.reduce((L,Y)=>L+Mt(Y),0):1}function oe(k){let L=0;for(const Y of k)if(Y.isGroup){const J=1+oe(Y.columns);L=Math.max(L,J)}return L}function Ae(k,L){var ie,Ue;const Y=L==null?void 0:L.groupHeaders,J=((ie=L==null?void 0:L.colors)==null?void 0:ie.primary)??"#0891b2",wt=((Ue=L==null?void 0:L.colors)==null?void 0:Ue.background)??"#ffffff";if(M(k,1)&&(Y!=null&&Y.level1Background))return Y.level1Background;if(M(k,2)&&(Y!=null&&Y.level2Background))return Y.level2Background;if(k>=3&&(Y!=null&&Y.level3Background))return Y.level3Background;const Ot=[.15,.1,.06][Math.min(k-1,2)],Nt=Zt=>{const Ct=Zt.replace("#","");return{r:parseInt(Ct.substring(0,2),16),g:parseInt(Ct.substring(2,4),16),b:parseInt(Ct.substring(4,6),16)}},Tt=Nt(J),Ft=Nt(wt),Lt=(Zt,Ct)=>Math.round(Zt*Ot+Ct*(1-Ot)),Ge=Lt(Tt.r,Ft.r),Pt=Lt(Tt.g,Ft.g),we=Lt(Tt.b,Ft.b);return`rgb(${Ge}, ${Pt}, ${we})`}const Jt=p(m(()=>Math.max(1,1+oe(n(u)))),"headerDepth"),Re=p(m(()=>{const k=[];let L=2;function Y(J,wt){const St=Mt(J),Ot=L;if(J.isGroup){k.push({col:J,gridColumnStart:Ot,colspan:St,rowStart:wt+1,rowSpan:1,isGroupHeader:!0,isForest:!1});for(const Nt of J.columns)Y(Nt,wt+1)}else{const Nt=!J.isGroup&&ct.includes(J.type);k.push({col:J,gridColumnStart:Ot,colspan:1,rowStart:wt+1,rowSpan:n(Jt)-wt,isGroupHeader:!1,isForest:Nt}),L++}}for(const J of n(u))Y(J,0);return k}),"headerCells");function vt(k){const L=n(H)[k.id];return M(typeof L,"number")?`${L}px`:M(typeof k.width,"number")?`${k.width}px`:"max-content"}const ct=["forest","viz_bar","viz_boxplot","viz_violin"],qt=p(m(()=>{var Y,J,wt,St,Ot,Nt,Tt,Ft;const k=[],L=n(H).__label__;k.push(L?`${L}px`:"max-content");for(const Lt of n(d))if(ct.includes(Lt.type)){const Ge=n(H)[Lt.id];let Pt;M(typeof Ge,"number")?Pt=Ge:M(typeof Lt.width,"number")?Pt=Lt.width:M(Lt.type,"forest")?Pt=((J=(Y=Lt.options)==null?void 0:Y.forest)==null?void 0:J.width)??n(a).forestWidth:M(Lt.type,"viz_bar")?Pt=((St=(wt=Lt.options)==null?void 0:wt.vizBar)==null?void 0:St.width)??n(a).forestWidth:M(Lt.type,"viz_boxplot")?Pt=((Nt=(Ot=Lt.options)==null?void 0:Ot.vizBoxplot)==null?void 0:Nt.width)??n(a).forestWidth:M(Lt.type,"viz_violin")?Pt=((Ft=(Tt=Lt.options)==null?void 0:Tt.vizViolin)==null?void 0:Ft.width)??n(a).forestWidth:Pt=n(a).forestWidth,k.push(`${Pt}px`)}else k.push(vt(Lt));return k.join(" ")}),"gridTemplateColumns");p(m(()=>1+n(d).length),"totalColumns");const Vt=p(m(()=>{const k=[];for(let L=0;L<n(d).length;L++)ct.includes(n(d)[L].type)&&k.push({gridCol:2+L,column:n(d)[L]});return k}),"vizColumnGridIndices");n(Vt);let se=p(bt(fr(new Map)),"forestColumnRefs"),Ln=p(bt(fr(new Map)),"forestColumnPositions"),ee=p(bt(void 0),"labelHeaderRef"),Ce=p(bt(0),"measuredHeaderHeight");Si(()=>{n(H),n(a).forestWidth,n(Jt),Au().then(()=>{const k=new Map;for(const[L,Y]of n(se))Y&&k.set(L,Y.offsetLeft);ot(Ln,k,!0),n(ee)&&ot(Ce,n(ee).offsetHeight,!0)})});function Xe(k,L){return n(se).set(L,k),ot(se,new Map(n(se)),!0),{destroy(){n(se).delete(L),ot(se,new Map(n(se)),!0)}}}const je=p(m(()=>n(Ce)>0?n(Ce):n(a).headerHeight),"actualHeaderHeight"),Ye=p(m(()=>{var Y,J,wt,St,Ot,Nt,Tt,Ft,Lt;const k=new Map,L=Nn;for(const Ge of n(v)){const Pt=Ge.column,we=L;if(M(Pt.type,"viz_bar")){const ie=(Y=Pt.options)==null?void 0:Y.vizBar;if(!ie)continue;const Ue=n(H)[Pt.id],Zt=M(typeof Ue,"number")?Ue:M(typeof Pt.width,"number")?Pt.width:ie.width??n(a).forestWidth;let Ct=(J=ie.axisRange)==null?void 0:J[0],ft=(wt=ie.axisRange)==null?void 0:wt[1];if(ge(Ct,null)||ge(ft,null)){const ue=[];for(const ze of n(i))if(M(ze.type,"data"))for(const Ve of ie.effects){const de=ze.row.metadata[Ve.value];ge(de,null,!1)&&!Number.isNaN(de)&&ue.push(de)}ue.length>0?(Ct=Ct??Math.min(0,...ue),ft=ft??Math.max(...ue)*1.1):(Ct=Ct??0,ft=ft??100)}const ne=M(ie.scale,"log")?Br().domain([Math.max(.01,Ct),ft]).range([we,Zt-we]):nr().domain([Ct,ft]).range([we,Zt-we]);k.set(Pt.id,ne)}else if(M(Pt.type,"viz_boxplot")){const ie=(St=Pt.options)==null?void 0:St.vizBoxplot;if(!ie)continue;const Ue=n(H)[Pt.id],Zt=M(typeof Ue,"number")?Ue:M(typeof Pt.width,"number")?Pt.width:ie.width??n(a).forestWidth;let Ct=(Ot=ie.axisRange)==null?void 0:Ot[0],ft=(Nt=ie.axisRange)==null?void 0:Nt[1];if(ge(Ct,null)||ge(ft,null)){const ue=[];for(const ze of n(i))if(M(ze.type,"data")){for(const Ve of ie.effects)if(Ve.data){const de=ze.row.metadata[Ve.data];if(de&&Array.isArray(de)){const Xt=xa(de);ue.push(Xt.min,Xt.max),M(ie.showOutliers,!1,!1)&&ue.push(...Xt.outliers)}}else if(Ve.min&&Ve.max){const de=ze.row.metadata[Ve.min],Xt=ze.row.metadata[Ve.max];ge(de,null,!1)&&!Number.isNaN(de)&&ue.push(de),ge(Xt,null,!1)&&!Number.isNaN(Xt)&&ue.push(Xt)}}if(ue.length>0){const ze=Math.min(...ue),Ve=Math.max(...ue),de=Ve-ze;Ct=Ct??ze-de*.05,ft=ft??Ve+de*.05}else Ct=Ct??0,ft=ft??100}const ne=M(ie.scale,"log")?Br().domain([Math.max(.01,Ct),ft]).range([we,Zt-we]):nr().domain([Ct,ft]).range([we,Zt-we]);k.set(Pt.id,ne)}else if(M(Pt.type,"viz_violin")){const ie=(Tt=Pt.options)==null?void 0:Tt.vizViolin;if(!ie)continue;const Ue=n(H)[Pt.id],Zt=M(typeof Ue,"number")?Ue:M(typeof Pt.width,"number")?Pt.width:ie.width??n(a).forestWidth;let Ct=(Ft=ie.axisRange)==null?void 0:Ft[0],ft=(Lt=ie.axisRange)==null?void 0:Lt[1];if(ge(Ct,null)||ge(ft,null)){const ue=[];for(const ze of n(i))if(M(ze.type,"data"))for(const Ve of ie.effects){const de=ze.row.metadata[Ve.data];de&&Array.isArray(de)&&ue.push(...de.filter(Xt=>ge(Xt,null,!1)&&!Number.isNaN(Xt)))}if(ue.length>0){Ct=Ct??Math.min(...ue),ft=ft??Math.max(...ue);const ze=ft-Ct;Ct=Ct-ze*.1,ft=ft+ze*.1}else Ct=Ct??0,ft=ft??100}const ne=M(ie.scale,"log")?Br().domain([Math.max(.01,Ct),ft]).range([we,Zt-we]):nr().domain([Ct,ft]).range([we,Zt-we]);k.set(Pt.id,ne)}}return k}),"vizColumnScales"),En=p(m(()=>{var Y;const k=new Map,L=Nn;for(const J of n(g)){const wt=J.column,St=(Y=wt.options)==null?void 0:Y.forest,Ot=n(H)[wt.id],Nt=M(typeof Ot,"number")?Ot:M(typeof wt.width,"number")?wt.width:(St==null?void 0:St.width)??n(a).forestWidth,Tt=M(St==null?void 0:St.scale,"log"),Ft=n(c).axisLimits,Lt=L,Ge=Math.max(Nt-L,Lt+50);if(Tt){const Pt=[Math.max(Ft[0],.01),Math.max(Ft[1],.02)];k.set(wt.id,Br().domain(Pt).range([Lt,Ge]))}else k.set(wt.id,nr().domain(Ft).range([Lt,Ge]))}return k}),"forestColumnScales");p(bt(!1),"resizingPlot");let sn=p(bt(null),"resizingColumn"),Ut=0,Dt=0;function Be(k,L,Y){var J;(J=n(r))!=null&&J.interaction.enableResize&&(k.preventDefault(),k.stopPropagation(),ot(sn,L,!0),Ut=k.clientX,Dt=Y,document.addEventListener("pointermove",sr),document.addEventListener("pointerup",_r))}function sr(k){if(!n(sn))return;const L=k.clientX-Ut,Y=Math.max(40,Dt+L);e.store.setColumnWidth(n(sn),Y)}function _r(){ot(sn,null),document.removeEventListener("pointermove",sr),document.removeEventListener("pointerup",_r)}function xn(k,L){e.store.setHovered(k),e.store.setTooltip(k,{x:L.clientX,y:L.clientY})}function Je(){e.store.setHovered(null),e.store.setTooltip(null,null)}const kn=p(m(()=>n(s)?`
      --wf-max-width: ${n(F)?`${n(F)}px`:"none"};
      --wf-max-height: ${n(N)?`${n(N)}px`:"none"};
      --wf-bg: ${n(s).colors.background};
      --wf-fg: ${n(s).colors.foreground};
      --wf-primary: ${n(s).colors.primary};
      --wf-secondary: ${n(s).colors.secondary};
      --wf-muted: ${n(s).colors.muted};
      --wf-border: ${n(s).colors.border};
      --wf-row-bg: ${n(s).colors.rowBg};
      --wf-alt-bg: ${n(s).colors.altBg};
      --wf-interval-line: ${n(s).colors.intervalLine};
      --wf-interval-positive: ${n(s).colors.intervalPositive};
      --wf-interval-negative: ${n(s).colors.intervalNegative};
      --wf-summary-fill: ${n(s).colors.summaryFill};
      --wf-summary-border: ${n(s).colors.summaryBorder};
      --wf-accent: ${n(s).colors.accent};
      --wf-badge-success: ${Wi.success};
      --wf-badge-warning: ${Wi.warning};
      --wf-badge-error: ${Wi.error};
      --wf-badge-info: ${Wi.info};
      --wf-badge-muted: ${n(s).colors.muted};
      --wf-font-family: ${n(s).typography.fontFamily};
      --wf-font-size-sm: ${n(s).typography.fontSizeSm};
      --wf-font-size-base: ${n(s).typography.fontSizeBase};
      --wf-font-size-lg: ${n(s).typography.fontSizeLg};
      --wf-font-weight-normal: ${n(s).typography.fontWeightNormal};
      --wf-font-weight-medium: ${n(s).typography.fontWeightMedium};
      --wf-font-weight-bold: ${n(s).typography.fontWeightBold};
      --wf-line-height: ${n(s).typography.lineHeight};
      --wf-header-font-scale: ${n(s).typography.headerFontScale??1.05};
      --wf-row-height: ${n(s).spacing.rowHeight}px;
      --wf-header-height: ${n(s).spacing.headerHeight}px;
      --wf-header-row-height: ${n(s).spacing.headerHeight/n(Jt)}px;
      --wf-header-depth: ${n(Jt)};
      --wf-padding: ${n(s).spacing.padding}px;
      --wf-container-padding: ${n(s).spacing.containerPadding}px;
      --wf-cell-padding-x: ${n(s).spacing.cellPaddingX}px;
      --wf-cell-padding-y: ${n(s).spacing.cellPaddingY}px;
      --wf-axis-gap: ${n(s).spacing.axisGap??Qn.DEFAULT_AXIS_GAP}px;
      --wf-axis-height: ${n(a).axisHeight}px;
      --wf-group-padding: ${n(s).spacing.groupPadding??8}px;
      --wf-column-gap: ${n(s).spacing.columnGap??8}px;
      --wf-plot-width: ${n(a).forestWidth}px;
      --wf-point-size: ${n(s).shapes.pointSize}px;
      --wf-line-width: ${n(s).shapes.lineWidth}px;
      --wf-border-radius: ${n(s).shapes.borderRadius}px;
      --wf-container-border: ${n(s).layout.containerBorder?"1px solid var(--wf-border)":"none"};
      --wf-container-border-radius: ${n(s).layout.containerBorderRadius}px;
      --wf-group-header-opacity: ${ad};
      --wf-row-hover-opacity: ${sd};
      --wf-row-selected-opacity: ${ld};
      --wf-row-selected-hover-opacity: ${cd};
      --wf-actual-scale: ${n(E)};
      --wf-zoom: ${n(T)};
    `.trim():""),"cssVars");var Ur={...Ee()},wn=pp();Bn("keydown",Uo,st);let $e;var dn=$(wn);{var Fn=k=>{var L=gp(),Y=mt(L);z(()=>zn(Y,{get store(){return e.store},get enableExport(){return n(gt)},get enableThemes(){return n(at)},get onThemeChange(){return e.onThemeChange}}),"component",G,852,4,{componentTag:"ControlToolbar"});var J=et(Y,2);let wt;{const de=Rl(G,function(pt,nt=mi,K=mi){Il(...arguments);const Wt=p(m(()=>Gv(nt(),K())),"cellStyle");n(Wt);var ut=kt(),Le=mt(ut);{var le=ve=>{{let Fe=m(()=>Pv(n(o),K())),be=m(()=>{var xt;return(xt=K().options)==null?void 0:xt.bar});z(()=>bo(ve,{get value(){return nt().metadata[K().field]},get maxValue(){return n(Fe)},get options(){return n(be)}}),"component",G,865,10,{componentTag:"CellBar"})}},re=ve=>{var Fe=kt(),be=mt(Fe);{var xt=It=>{{let ae=m(()=>{var He;return(He=K().options)==null?void 0:He.pvalue});z(()=>Zo(It,{get value(){return nt().metadata[K().field]},get options(){return n(ae)},get cellStyle(){return n(Wt)}}),"component",G,871,10,{componentTag:"CellPvalue"})}},Et=It=>{var ae=kt(),He=mt(ae);{var gn=Rt=>{{let he=m(()=>{var yt;return(yt=K().options)==null?void 0:yt.sparkline});z(()=>Wn(Rt,{get data(){return nt().metadata[K().field]},get options(){return n(he)}}),"component",G,877,10,{componentTag:"CellSparkline"})}},Yt=Rt=>{var he=kt(),yt=mt(he);{var rt=Kt=>{{let Me=m(()=>{var We;return(We=K().options)==null?void 0:We.icon});z(()=>Pi(Kt,{get value(){return nt().metadata[K().field]},get options(){return n(Me)}}),"component",G,882,10,{componentTag:"CellIcon"})}},zt=Kt=>{var Me=kt(),We=mt(Me);{var pe=Ze=>{{let vn=m(()=>{var ln;return(ln=K().options)==null?void 0:ln.badge});z(()=>Di(Ze,{get value(){return nt().metadata[K().field]},get options(){return n(vn)}}),"component",G,887,10,{componentTag:"CellBadge"})}},$t=Ze=>{var vn=kt(),ln=mt(vn);{var en=Pe=>{{let ai=m(()=>{var si;return(si=K().options)==null?void 0:si.stars});z(()=>ko(Pe,{get value(){return nt().metadata[K().field]},get options(){return n(ai)}}),"component",G,892,10,{componentTag:"CellStars"})}},me=Pe=>{var ai=kt(),si=mt(ai);{var Lo=Un=>{{let ci=m(()=>{var fi;return(fi=K().options)==null?void 0:fi.img});z(()=>Co(Un,{get value(){return nt().metadata[K().field]},get options(){return n(ci)}}),"component",G,897,10,{componentTag:"CellImg"})}},li=Un=>{var ci=kt(),fi=mt(ci);{var Fp=ui=>{{let Ca=m(()=>{var Ta;return(Ta=K().options)==null?void 0:Ta.reference});z(()=>Gr(ui,{get value(){return nt().metadata[K().field]},get metadata(){return nt().metadata},get options(){return n(Ca)}}),"component",G,902,10,{componentTag:"CellReference"})}},Pp=ui=>{var Ca=kt(),Ta=mt(Ca);{var Dp=di=>{{let Na=m(()=>{var Aa;return(Aa=K().options)==null?void 0:Aa.range});z(()=>Bi(di,{get value(){return nt().metadata[K().field]},get metadata(){return nt().metadata},get options(){return n(Na)}}),"component",G,908,10,{componentTag:"CellRange"})}},Bp=di=>{var Na=kt(),Aa=mt(Na);{var Gp=hi=>{{let Ha=m(()=>ti(nt().metadata[K().field],K().options));z(()=>gr(hi,{get value(){return n(Ha)},get cellStyle(){return n(Wt)}}),"component",G,914,10,{componentTag:"CellContent"})}},Vp=hi=>{var Ha=kt(),Op=mt(Ha);{var jp=gi=>{{let Fo=m(()=>Es(nt(),K().options));z(()=>gr(gi,{get value(){return n(Fo)},get cellStyle(){return n(Wt)}}),"component",G,916,10,{componentTag:"CellContent"})}},qp=gi=>{var Fo=kt(),Up=mt(Fo);{var Xp=vi=>{{let zs=m(()=>{var rf,of,af,sf,lf,cf;return ks((of=(rf=K().options)==null?void 0:rf.interval)!=null&&of.point?nt().metadata[K().options.interval.point]:void 0,(sf=(af=K().options)==null?void 0:af.interval)!=null&&sf.lower?nt().metadata[K().options.interval.lower]:void 0,(cf=(lf=K().options)==null?void 0:lf.interval)!=null&&cf.upper?nt().metadata[K().options.interval.upper]:void 0,K().options)});z(()=>gr(vi,{get value(){return n(zs)},get cellStyle(){return n(Wt)}}),"component",G,918,10,{componentTag:"CellContent"})}},Yp=vi=>{{let zs=m(()=>nt().metadata[K().field]??"");z(()=>gr(vi,{get value(){return n(zs)},get cellStyle(){return n(Wt)}}),"component",G,925,10,{componentTag:"CellContent"})}};z(()=>q(Up,vi=>{M(K().type,"interval")?vi(Xp):vi(Yp,!1)},!0),"if",G,917,8)}I(gi,Fo)};z(()=>q(Op,gi=>{var Fo;M(K().type,"custom")&&((Fo=K().options)!=null&&Fo.events)?gi(jp):gi(qp,!1)},!0),"if",G,915,8)}I(hi,Ha)};z(()=>q(Aa,hi=>{M(K().type,"numeric")?hi(Gp):hi(Vp,!1)},!0),"if",G,913,8)}I(di,Na)};z(()=>q(Ta,di=>{M(K().type,"range")?di(Dp):di(Bp,!1)},!0),"if",G,907,8)}I(ui,Ca)};z(()=>q(fi,ui=>{M(K().type,"reference")?ui(Fp):ui(Pp,!1)},!0),"if",G,901,8)}I(Un,ci)};z(()=>q(si,Un=>{M(K().type,"img")?Un(Lo):Un(li,!1)},!0),"if",G,896,8)}I(Pe,ai)};z(()=>q(ln,Pe=>{M(K().type,"stars")?Pe(en):Pe(me,!1)},!0),"if",G,891,8)}I(Ze,vn)};z(()=>q(We,Ze=>{M(K().type,"badge")?Ze(pe):Ze($t,!1)},!0),"if",G,886,8)}I(Kt,Me)};z(()=>q(yt,Kt=>{M(K().type,"icon")?Kt(rt):Kt(zt,!1)},!0),"if",G,881,8)}I(Rt,he)};z(()=>q(He,Rt=>{M(K().type,"sparkline")?Rt(gn):Rt(Yt,!1)},!0),"if",G,876,8)}I(It,ae)};z(()=>q(be,It=>{M(K().type,"pvalue")?It(xt):It(Et,!1)},!0),"if",G,870,8)}I(ve,Fe)};z(()=>q(Le,ve=>{M(K().type,"bar")?ve(le):ve(re,!1)}),"if",G,864,8)}I(pt,ut)});var St=$(J);{var Ot=pt=>{{let nt=m(()=>{var Wt;return(Wt=n(r).labels)==null?void 0:Wt.title}),K=m(()=>{var Wt;return(Wt=n(r).labels)==null?void 0:Wt.subtitle});z(()=>er(pt,{get title(){return n(nt)},get subtitle(){return n(K)}}),"component",G,858,8,{componentTag:"PlotHeader"})}};z(()=>q(St,pt=>{n(y)&&pt(Ot)}),"if",G,857,6)}var Nt=et(St,2);let Xt,hn;var Tt=$(Nt);let yr;var Ft=$(Tt),Lt=$(Ft),Ge=et(Ft,2);{var Pt=pt=>{var nt=Vv();nt.__pointerdown=K=>Be(K,"__label__",n(H).__label__??150),I(pt,nt)};z(()=>q(Ge,pt=>{var nt;(nt=n(r))!=null&&nt.interaction.enableResize&&pt(Pt)}),"if",G,939,10)}eo(Tt,pt=>ot(ee,pt),()=>n(ee));var we=et(Tt,2);yn(()=>n(Re),pt=>pt.col.id),z(()=>Ne(we,17,()=>n(Re),pt=>pt.col.id,(pt,nt)=>{var K=kt(),Wt=mt(K);{var ut=le=>{var re=Ov();let ve;var Fe=$(re),be=$(Fe,!0);tt(()=>{ve=ke(re,"",ve,{"grid-column":`${n(nt).gridColumnStart??""} / span ${n(nt).colspan??""}`,"grid-row":`${n(nt).rowStart??""} / span ${n(nt).rowSpan??""}`}),Bt(be,n(nt).col.header)}),I(le,re)},Le=le=>{var re=kt(),ve=mt(re);{var Fe=xt=>{const Et=p(m(()=>n(nt).col),"column");n(Et);const It=p(m(()=>{var yt,rt,zt,Kt,Me,We,pe,$t;return M(n(Et).type,"forest")?((rt=(yt=n(Et).options)==null?void 0:yt.forest)==null?void 0:rt.width)??n(a).forestWidth:M(n(Et).type,"viz_bar")?((Kt=(zt=n(Et).options)==null?void 0:zt.vizBar)==null?void 0:Kt.width)??n(a).forestWidth:M(n(Et).type,"viz_boxplot")?((We=(Me=n(Et).options)==null?void 0:Me.vizBoxplot)==null?void 0:We.width)??n(a).forestWidth:M(n(Et).type,"viz_violin")?(($t=(pe=n(Et).options)==null?void 0:pe.vizViolin)==null?void 0:$t.width)??n(a).forestWidth:n(a).forestWidth}),"vizDefaultWidth");n(It);var ae=Uv();let He;var gn=$(ae);{var Yt=yt=>{var rt=jv(),zt=$(rt,!0);tt(()=>Bt(zt,n(Et).header)),I(yt,rt)};z(()=>q(gn,yt=>{n(Et).header&&yt(Yt)}),"if",G,977,14)}var Rt=et(gn,2);{var he=yt=>{var rt=qv();rt.__pointerdown=zt=>Be(zt,n(Et).id,n(H)[n(Et).id]??n(It)),I(yt,rt)};z(()=>q(Rt,yt=>{var rt;(rt=n(r))!=null&&rt.interaction.enableResize&&yt(he)}),"if",G,980,14)}sa(ae,(yt,rt)=>Xe==null?void 0:Xe(yt,rt),()=>n(Et).id),tt(()=>He=ke(ae,"",He,{"grid-column":n(nt).gridColumnStart,"grid-row":`${n(nt).rowStart??""} / span ${n(nt).rowSpan??""}`})),I(xt,ae)},be=xt=>{const Et=p(m(()=>n(nt).col),"column");n(Et);var It=Yv();let ae;var He=$(It),gn=$(He,!0);var Yt=et(He,2);{var Rt=he=>{var yt=Xv();yt.__pointerdown=rt=>Be(rt,n(Et).id,n(H)[n(Et).id]??(M(typeof n(Et).width,"number")?n(Et).width:80)),I(he,yt)};z(()=>q(Yt,he=>{var yt;(yt=n(r))!=null&&yt.interaction.enableResize&&he(Rt)}),"if",G,998,14)}tt(()=>{ae=ke(It,"",ae,{"grid-column":n(nt).gridColumnStart,"grid-row":`${n(nt).rowStart??""} / span ${n(nt).rowSpan??""}`,"text-align":n(Et).headerAlign??n(Et).align}),Bt(gn,n(Et).header)}),I(xt,It)};z(()=>q(ve,xt=>{n(nt).isForest?xt(Fe):xt(be,!1)},!0),"if",G,959,10)}I(le,re)};z(()=>q(Wt,le=>{n(nt).isGroupHeader?le(ut):le(Le,!1)}),"if",G,950,10)}I(pt,K)}),"each",G,949,8);var ie=et(we,2);yn(()=>n(i),(pt,nt)=>_t(pt)),z(()=>Ne(ie,19,()=>n(i),(pt,nt)=>_t(pt,nt),(pt,nt,K)=>{const Wt=p(m(()=>M(n(nt).type,"group_header")),"isGroupHeader");n(Wt);const ut=p(m(()=>n(Wt)?null:n(nt).row),"row");n(ut);const Le=p(m(()=>n(nt).depth),"rowDepth");n(Le);const le=p(m(()=>n(ut)?Qt(n(ut).id):!1),"selected");n(le);const re=p(m(()=>n(ut)?Dv(n(ut).style,n(K),n(h)):""),"rowClasses");n(re);const ve=p(m(()=>n(ut)?Bv(n(ut).style,n(Le)):""),"rowStyles");n(ve);const Fe=p(m(()=>{var yt,rt;return M((rt=(yt=n(ut))==null?void 0:yt.style)==null?void 0:rt.type,"spacer")}),"isSpacerRow");n(Fe);const be=p(m(()=>n(Jt)+1+n(K)),"gridRow");n(be);const xt=p(m(()=>n(Wt)?Ae(n(Le)+1,n(s)):void 0),"groupBg");n(xt);var Et=tp(),It=mt(Et);let ae,He;It.__click=function(...yt){dr(()=>n(Wt)?()=>e.store.toggleGroup(n(nt).group.id):n(ut)?()=>e.store.selectRow(n(ut).id):void 0,this,yt,G,[1034,21])},It.__keydown=function(...yt){dr(()=>n(Wt)?rt=>(M(rt.key,"Enter")||M(rt.key," "))&&e.store.toggleGroup(n(nt).group.id):void 0,this,yt,G,[1035,23])};var gn=$(It);{var Yt=yt=>{{let rt=m(()=>n(nt).depth+1);z(()=>$o(yt,{get group(){return n(nt).group},get rowCount(){return n(nt).rowCount},get level(){return n(rt)},get theme(){return n(s)}}),"component",G,1040,14,{componentTag:"GroupHeader"})}},Rt=yt=>{var rt=kt(),zt=mt(rt);{var Kt=Me=>{var We=Kv(),pe=mt(We);{var $t=en=>{var me=$v(),Pe=$(me,!0);tt(()=>Bt(Pe,n(ut).style.icon)),I(en,me)};z(()=>q(pe,en=>{var me;(me=n(ut).style)!=null&&me.icon&&en($t)}),"if",G,1047,14)}var Ze=et(pe),vn=et(Ze);{var ln=en=>{var me=Zv(),Pe=$(me,!0);tt(()=>Bt(Pe,n(ut).style.badge)),I(en,me)};z(()=>q(vn,en=>{var me;(me=n(ut).style)!=null&&me.badge&&en(ln)}),"if",G,1049,14)}tt(()=>Bt(Ze,` ${n(ut).label??""} `)),I(Me,We)};z(()=>q(zt,Me=>{n(ut)&&Me(Kt)},!0),"if",G,1046,12)}I(yt,rt)};z(()=>q(gn,yt=>{n(Wt)?yt(Yt):yt(Rt,!1)}),"if",G,1039,12)}var he=et(It,2);yn(()=>n(d),yt=>yt.id),z(()=>Ne(he,17,()=>n(d),yt=>yt.id,(yt,rt)=>{var zt=kt(),Kt=mt(zt);{var Me=pe=>{var $t=Qv();let Ze,vn;$t.__click=function(...ln){dr(()=>n(ut)?()=>e.store.selectRow(n(ut).id):void 0,this,ln,G,[1068,25])},tt(()=>{Ze=fn($t,1,`grid-cell data-cell plot-cell ${n(re)??""}`,"svelte-14l8yxx",Ze,{"group-row":n(Wt),selected:n(le),hovered:n(ut)&&M(n(w),n(ut).id),"spacer-row":n(Fe)}),vn=ke($t,n(ve)||void 0,vn,{"grid-row":n(be),"background-color":n(xt)})}),Bn("mouseenter",$t,function(...ln){dr(()=>n(ut)?en=>xn(n(ut).id,en):void 0,this,ln,G,[1066,30])}),Bn("mouseleave",$t,function(...ln){dr(()=>n(ut)?()=>Je():void 0,this,ln,G,[1067,30])}),I(pe,$t)},We=pe=>{var $t=Jv();let Ze,vn;$t.__click=function(...me){dr(()=>n(ut)?()=>e.store.selectRow(n(ut).id):void 0,this,me,G,[1085,25])};var ln=$($t);{var en=me=>{z(()=>de(me,()=>n(ut),()=>n(rt)),"render",G,1088,18)};z(()=>q(ln,me=>{n(ut)&&me(en)}),"if",G,1087,16)}tt(()=>{Ze=fn($t,1,`grid-cell data-cell ${n(re)??""}`,"svelte-14l8yxx",Ze,{"group-row":n(Wt),selected:n(le),hovered:n(ut)&&M(n(w),n(ut).id),"spacer-row":n(Fe),"wrap-enabled":n(rt).wrap}),vn=ke($t,n(ve)||void 0,vn,{"grid-row":n(be),"background-color":n(xt),"text-align":n(rt).align})}),Bn("mouseenter",$t,function(...me){dr(()=>n(ut)?Pe=>xn(n(ut).id,Pe):void 0,this,me,G,[1083,30])}),Bn("mouseleave",$t,function(...me){dr(()=>n(ut)?()=>Je():void 0,this,me,G,[1084,30])}),I(pe,$t)};z(()=>q(Kt,pe=>{ct.includes(n(rt).type)?pe(Me):pe(We,!1)}),"if",G,1055,12)}I(yt,zt)}),"each",G,1054,10),tt(()=>{var yt,rt,zt,Kt;ae=fn(It,1,`grid-cell data-cell label-cell ${n(re)??""}`,"svelte-14l8yxx",ae,{"group-row":n(Wt),selected:n(le),hovered:n(ut)&&M(n(w),n(ut).id),"spacer-row":n(Fe)}),He=ke(It,n(ve)||void 0,He,{"grid-row":n(be),"background-color":n(xt),"padding-left":n(Wt)?`${n(Le)*12}px`:((rt=(yt=n(ut))==null?void 0:yt.style)==null?void 0:rt.indent)??n(Le)?`${(((Kt=(zt=n(ut))==null?void 0:zt.style)==null?void 0:Kt.indent)??n(Le))*12}px`:void 0}),W(It,"role",n(Wt)?"button":void 0),W(It,"tabindex",n(Wt)?0:void 0)}),Bn("mouseenter",It,function(...yt){dr(()=>n(ut)?rt=>xn(n(ut).id,rt):void 0,this,yt,G,[1036,26])}),Bn("mouseleave",It,function(...yt){dr(()=>n(ut)?()=>Je():void 0,this,yt,G,[1037,26])}),I(pt,Et)}),"each",G,1010,8);var Ue=et(ie,2);{var Zt=pt=>{const nt=p(m(()=>n(Jt)+1+n(i).length),"axisRowNum");n(nt);var K=rp(),Wt=mt(K);yn(()=>n(d),le=>le.id),z(()=>Ne(Wt,19,()=>n(d),le=>le.id,(le,re,ve)=>{var Fe=kt(),be=mt(Fe);{var xt=It=>{var ae=ep();let He;tt(()=>He=ke(ae,"",He,{"grid-column":2+n(ve),"grid-row":n(nt)})),I(It,ae)},Et=It=>{var ae=np();let He;tt(()=>He=ke(ae,"",He,{"grid-column":2+n(ve),"grid-row":n(nt)})),I(It,ae)};z(()=>q(be,It=>{ct.includes(n(re).type)?It(xt):It(Et,!1)}),"if",G,1099,12)}I(le,Fe)}),"each",G,1098,10);var ut=et(Wt,2);let Le;tt(()=>Le=ke(ut,"",Le,{"grid-column":"1","grid-row":n(nt)})),I(pt,K)};z(()=>q(Ue,pt=>{n(_)&&pt(Zt)}),"if",G,1096,8)}var Ct=et(Ue,2);yn(()=>n(g),pt=>pt.column.id),z(()=>Ne(Ct,17,()=>n(g),pt=>pt.column.id,(pt,nt)=>{const K=p(m(()=>{var rt;return(rt=n(nt).column.options)==null?void 0:rt.forest}),"forestOpts");n(K);const Wt=p(m(()=>n(H)[n(nt).column.id]),"dynamicForestWidth");n(Wt);const ut=p(m(()=>{var rt;return M(typeof n(Wt),"number")?n(Wt):M(typeof n(nt).column.width,"number")?n(nt).column.width:((rt=n(K))==null?void 0:rt.width)??n(a).forestWidth}),"forestWidth");n(ut);const Le=p(m(()=>n(Ln).get(n(nt).column.id)??0),"forestLeft");n(Le);const le=p(m(()=>{var rt;return((rt=n(s))==null?void 0:rt.spacing.axisGap)??Qn.DEFAULT_AXIS_GAP}),"axisGap");n(le);const re=p(m(()=>{var rt;return((rt=n(K))==null?void 0:rt.nullValue)??n(a).nullValue}),"nullValue");n(re);const ve=p(m(()=>{var rt;return((rt=n(K))==null?void 0:rt.axisLabel)??"Effect"}),"axisLabel");n(ve);const Fe=p(m(()=>{var rt;return M((rt=n(K))==null?void 0:rt.scale,"log")}),"isLog");n(Fe);const be=p(m(()=>n(En).get(n(nt).column.id)??n(l)),"colScale");n(be);var xt=sp();let Et;var It=$(xt);W(It,"y1",0);var ae=et(It);{var He=rt=>{const zt=p(m(()=>{var pe;return[...n(r).annotations??[],...((pe=n(K))==null?void 0:pe.annotations)??[]]}),"allAnnotations");n(zt);const Kt=p(m(()=>Gt(n(zt))),"annotationLabelOffsets");n(Kt);var Me=kt(),We=mt(Me);yn(()=>n(zt),pe=>pe.id),z(()=>Ne(We,17,()=>n(zt),pe=>pe.id,(pe,$t)=>{var Ze=kt(),vn=mt(Ze);{var ln=en=>{var me=ip(),Pe=mt(me);W(Pe,"y1",0);var ai=et(Pe);{var si=Lo=>{const li=p(m(()=>n(Kt)[n($t).id]??0),"yOffset");n(li);var Un=op(),ci=$(Un,!0);tt(fi=>{W(Un,"x",fi),W(Un,"y",-4+n(li)),W(Un,"fill",n($t).color??"var(--wf-secondary)"),Bt(ci,n($t).label)},[()=>n(be)(n($t).x)]),I(Lo,Un)};z(()=>q(ai,Lo=>{n($t).label&&Lo(si)}),"if",G,1155,16)}tt((Lo,li)=>{W(Pe,"x1",Lo),W(Pe,"x2",li),W(Pe,"y2",n(lt)),W(Pe,"stroke",n($t).color??"var(--wf-accent)"),W(Pe,"stroke-width",n($t).width??1.5),W(Pe,"stroke-opacity",n($t).opacity??.6),W(Pe,"stroke-dasharray",M(n($t).style,"dashed")?"6,4":M(n($t).style,"dotted")?"2,2":"none")},[()=>n(be)(n($t).x),()=>n(be)(n($t).x)]),I(en,me)};z(()=>q(vn,en=>{M(n($t).type,"reference_line")&&en(ln)}),"if",G,1144,14)}I(pe,Ze)}),"each",G,1143,14),I(rt,Me)};z(()=>q(ae,rt=>{rt(He)}),"if",G,1140,12)}var gn=et(ae);yn(()=>n(i),(rt,zt)=>_t(rt,zt)),z(()=>Ne(gn,19,()=>n(i),(rt,zt)=>_t(rt,zt),(rt,zt,Kt)=>{var Me=kt(),We=mt(Me);{var pe=$t=>{const Ze=p(m(()=>n(it).positions[n(Kt)]??n(Kt)*n(a).rowHeight),"rowY");n(Ze);const vn=p(m(()=>n(it).heights[n(Kt)]??n(a).rowHeight),"rowH");n(vn);{let ln=m(()=>n(Ze)+n(vn)/2),en=m(()=>({...n(a),forestWidth:n(ut)}));z(()=>Oe($t,{get row(){return n(zt).row},get yPosition(){return n(ln)},get xScale(){return n(be)},get layout(){return n(en)},get theme(){return n(s)},get clipBounds(){return n(f)},get isLog(){return n(Fe)},get weightCol(){return n(r).data.weightCol},get forestColumnOptions(){return n(K)},onRowClick:()=>e.store.selectRow(n(zt).row.id),onRowHover:(me,Pe)=>{e.store.setHovered(me?n(zt).row.id:null),me&&Pe?e.store.setTooltip(n(zt).row.id,{x:Pe.clientX,y:Pe.clientY}):e.store.setTooltip(null,null)}}),"component",G,1177,16,{componentTag:"RowInterval"})}};z(()=>q(We,$t=>{M(n(zt).type,"data")&&$t(pe)}),"if",G,1174,14)}I(rt,Me)}),"each",G,1173,12);var Yt=et(gn);{var Rt=rt=>{{let zt=m(()=>n(lt)+n(a).rowHeight/2),Kt=m(()=>({...n(a),forestWidth:n(ut)}));z(()=>oo(rt,{get point(){return n(r).data.overall.point},get lower(){return n(r).data.overall.lower},get upper(){return n(r).data.overall.upper},get yPosition(){return n(zt)},get xScale(){return n(be)},get layout(){return n(Kt)},get theme(){return n(s)}}),"component",G,1205,14,{componentTag:"SummaryDiamond"})}};z(()=>q(Yt,rt=>{n(r).data.overall&&n(a).showOverallSummary&&M(typeof n(r).data.overall.point,"number")&&!Number.isNaN(n(r).data.overall.point)&&M(typeof n(r).data.overall.lower,"number")&&!Number.isNaN(n(r).data.overall.lower)&&M(typeof n(r).data.overall.upper,"number")&&!Number.isNaN(n(r).data.overall.upper)&&rt(Rt)}),"if",G,1201,12)}var he=et(Yt);{var yt=rt=>{var zt=ap(),Kt=$(zt);{let Me=m(()=>({...n(a),forestWidth:n(ut)}));z(()=>An(Kt,{get xScale(){return n(be)},get layout(){return n(Me)},get theme(){return n(s)},get axisLabel(){return n(ve)},position:"bottom",get plotHeight(){return n(a).plotHeight},get baseTicks(){return n(c).ticks}}),"component",G,1219,16,{componentTag:"EffectAxis"})}tt(()=>W(zt,"transform",`translate(0, ${n(lt)+n(le)})`)),I(rt,zt)};z(()=>q(he,rt=>{var zt;M((zt=n(K))==null?void 0:zt.showAxis,!1,!1)&&rt(yt)}),"if",G,1217,12)}tt((rt,zt)=>{W(xt,"width",n(ut)),W(xt,"height",n(lt)+n(a).axisHeight),W(xt,"viewBox",`0 0 ${n(ut)??""} ${n(lt)+n(a).axisHeight}`),Et=ke(xt,"",Et,{top:`${n(je)??""}px`,left:`${n(Le)??""}px`}),W(It,"x1",rt),W(It,"x2",zt),W(It,"y2",n(lt))},[()=>n(be)(n(re)),()=>n(be)(n(re))]),I(pt,xt)}),"each",G,1110,8);var ft=et(Ct,2);yn(()=>n(v).filter(pt=>M(pt.column.type,"viz_bar")),pt=>pt.column.id),z(()=>Ne(ft,17,()=>n(v).filter(pt=>M(pt.column.type,"viz_bar")),pt=>pt.column.id,(pt,nt)=>{const K=p(m(()=>{var xt;return(xt=n(nt).column.options)==null?void 0:xt.vizBar}),"vizOpts");n(K);const Wt=p(m(()=>n(H)[n(nt).column.id]),"dynamicVizWidth");n(Wt);const ut=p(m(()=>{var xt;return M(typeof n(Wt),"number")?n(Wt):n(nt).column.width??((xt=n(K))==null?void 0:xt.width)??n(a).forestWidth}),"vizWidth");n(ut);const Le=p(m(()=>n(Ln).get(n(nt).column.id)??0),"vizLeft");n(Le);const le=p(m(()=>{var xt;return((xt=n(s))==null?void 0:xt.spacing.axisGap)??Qn.DEFAULT_AXIS_GAP}),"axisGap");n(le);const re=p(m(()=>n(Ye).get(n(nt).column.id)),"sharedScale");n(re);var ve=kt(),Fe=mt(ve);{var be=xt=>{var Et=cp();let It;var ae=$(Et);yn(()=>n(i),(Yt,Rt)=>_t(Yt,Rt)),z(()=>Ne(ae,19,()=>n(i),(Yt,Rt)=>_t(Yt,Rt),(Yt,Rt,he)=>{var yt=kt(),rt=mt(yt);{var zt=Kt=>{const Me=p(m(()=>n(it).positions[n(he)]??n(he)*n(a).rowHeight),"rowY");n(Me);const We=p(m(()=>n(it).heights[n(he)]??n(a).rowHeight),"rowH");n(We);{let pe=m(()=>n(Me)+n(We)/2);z(()=>io(Kt,{get row(){return n(Rt).row},get yPosition(){return n(pe)},get rowHeight(){return n(We)},get width(){return n(ut)},get options(){return n(K)},get theme(){return n(s)},get sharedScale(){return n(re)}}),"component",G,1247,18,{componentTag:"VizBar"})}};z(()=>q(rt,Kt=>{M(n(Rt).type,"data")&&Kt(zt)}),"if",G,1244,16)}I(Yt,yt)}),"each",G,1243,14);var He=et(ae);{var gn=Yt=>{var Rt=lp(),he=$(Rt);{let yt=m(()=>({...n(a),forestWidth:n(ut),nullValue:0})),rt=m(()=>n(K).axisLabel??"Value");z(()=>An(he,{get xScale(){return n(re)},get layout(){return n(yt)},get theme(){return n(s)},get axisLabel(){return n(rt)},position:"bottom",get plotHeight(){return n(lt)},get baseTicks(){return n(K).axisTicks},get gridlines(){return n(K).axisGridlines}}),"component",G,1262,18,{componentTag:"EffectAxis"})}tt(()=>W(Rt,"transform",`translate(0, ${n(lt)+n(le)})`)),I(Yt,Rt)};z(()=>q(He,Yt=>{M(n(K).showAxis,!1,!1)&&n(re)&&Yt(gn)}),"if",G,1260,14)}tt(()=>{W(Et,"width",n(ut)),W(Et,"height",n(lt)+n(a).axisHeight),W(Et,"viewBox",`0 0 ${n(ut)??""} ${n(lt)+n(a).axisHeight}`),It=ke(Et,"",It,{top:`${n(je)??""}px`,left:`${n(Le)??""}px`})}),I(xt,Et)};z(()=>q(Fe,xt=>{n(K)&&xt(be)}),"if",G,1233,10)}I(pt,ve)}),"each",G,1226,8);var ne=et(ft,2);yn(()=>n(v).filter(pt=>M(pt.column.type,"viz_boxplot")),pt=>pt.column.id),z(()=>Ne(ne,17,()=>n(v).filter(pt=>M(pt.column.type,"viz_boxplot")),pt=>pt.column.id,(pt,nt)=>{const K=p(m(()=>{var xt;return(xt=n(nt).column.options)==null?void 0:xt.vizBoxplot}),"vizOpts");n(K);const Wt=p(m(()=>n(H)[n(nt).column.id]),"dynamicVizWidth");n(Wt);const ut=p(m(()=>{var xt;return M(typeof n(Wt),"number")?n(Wt):n(nt).column.width??((xt=n(K))==null?void 0:xt.width)??n(a).forestWidth}),"vizWidth");n(ut);const Le=p(m(()=>n(Ln).get(n(nt).column.id)??0),"vizLeft");n(Le);const le=p(m(()=>{var xt;return((xt=n(s))==null?void 0:xt.spacing.axisGap)??Qn.DEFAULT_AXIS_GAP}),"axisGap");n(le);const re=p(m(()=>n(Ye).get(n(nt).column.id)),"sharedScale");n(re);var ve=kt(),Fe=mt(ve);{var be=xt=>{var Et=up();let It;var ae=$(Et);yn(()=>n(i),(Yt,Rt)=>_t(Yt,Rt)),z(()=>Ne(ae,19,()=>n(i),(Yt,Rt)=>_t(Yt,Rt),(Yt,Rt,he)=>{var yt=kt(),rt=mt(yt);{var zt=Kt=>{const Me=p(m(()=>n(it).positions[n(he)]??n(he)*n(a).rowHeight),"rowY");n(Me);const We=p(m(()=>n(it).heights[n(he)]??n(a).rowHeight),"rowH");n(We);{let pe=m(()=>n(Me)+n(We)/2);z(()=>pr(Kt,{get row(){return n(Rt).row},get yPosition(){return n(pe)},get rowHeight(){return n(We)},get width(){return n(ut)},get options(){return n(K)},get theme(){return n(s)},get sharedScale(){return n(re)}}),"component",G,1300,18,{componentTag:"VizBoxplot"})}};z(()=>q(rt,Kt=>{M(n(Rt).type,"data")&&Kt(zt)}),"if",G,1297,16)}I(Yt,yt)}),"each",G,1296,14);var He=et(ae);{var gn=Yt=>{var Rt=fp(),he=$(Rt);{let yt=m(()=>({...n(a),forestWidth:n(ut),nullValue:0})),rt=m(()=>n(K).axisLabel??"Value");z(()=>An(he,{get xScale(){return n(re)},get layout(){return n(yt)},get theme(){return n(s)},get axisLabel(){return n(rt)},position:"bottom",get plotHeight(){return n(lt)},get baseTicks(){return n(K).axisTicks},get gridlines(){return n(K).axisGridlines}}),"component",G,1315,18,{componentTag:"EffectAxis"})}tt(()=>W(Rt,"transform",`translate(0, ${n(lt)+n(le)})`)),I(Yt,Rt)};z(()=>q(He,Yt=>{M(n(K).showAxis,!1,!1)&&n(re)&&Yt(gn)}),"if",G,1313,14)}tt(()=>{W(Et,"width",n(ut)),W(Et,"height",n(lt)+n(a).axisHeight),W(Et,"viewBox",`0 0 ${n(ut)??""} ${n(lt)+n(a).axisHeight}`),It=ke(Et,"",It,{top:`${n(je)??""}px`,left:`${n(Le)??""}px`})}),I(xt,Et)};z(()=>q(Fe,xt=>{n(K)&&xt(be)}),"if",G,1286,10)}I(pt,ve)}),"each",G,1279,8);var ue=et(ne,2);yn(()=>n(v).filter(pt=>M(pt.column.type,"viz_violin")),pt=>pt.column.id),z(()=>Ne(ue,17,()=>n(v).filter(pt=>M(pt.column.type,"viz_violin")),pt=>pt.column.id,(pt,nt)=>{const K=p(m(()=>{var xt;return(xt=n(nt).column.options)==null?void 0:xt.vizViolin}),"vizOpts");n(K);const Wt=p(m(()=>n(H)[n(nt).column.id]),"dynamicVizWidth");n(Wt);const ut=p(m(()=>{var xt;return M(typeof n(Wt),"number")?n(Wt):n(nt).column.width??((xt=n(K))==null?void 0:xt.width)??n(a).forestWidth}),"vizWidth");n(ut);const Le=p(m(()=>n(Ln).get(n(nt).column.id)??0),"vizLeft");n(Le);const le=p(m(()=>{var xt;return((xt=n(s))==null?void 0:xt.spacing.axisGap)??Qn.DEFAULT_AXIS_GAP}),"axisGap");n(le);const re=p(m(()=>n(Ye).get(n(nt).column.id)),"sharedScale");n(re);var ve=kt(),Fe=mt(ve);{var be=xt=>{var Et=hp();let It;var ae=$(Et);yn(()=>n(i),(Yt,Rt)=>_t(Yt,Rt)),z(()=>Ne(ae,19,()=>n(i),(Yt,Rt)=>_t(Yt,Rt),(Yt,Rt,he)=>{var yt=kt(),rt=mt(yt);{var zt=Kt=>{const Me=p(m(()=>n(it).positions[n(he)]??n(he)*n(a).rowHeight),"rowY");n(Me);const We=p(m(()=>n(it).heights[n(he)]??n(a).rowHeight),"rowH");n(We);{let pe=m(()=>n(Me)+n(We)/2);z(()=>rr(Kt,{get row(){return n(Rt).row},get yPosition(){return n(pe)},get rowHeight(){return n(We)},get width(){return n(ut)},get options(){return n(K)},get theme(){return n(s)},get sharedScale(){return n(re)}}),"component",G,1353,18,{componentTag:"VizViolin"})}};z(()=>q(rt,Kt=>{M(n(Rt).type,"data")&&Kt(zt)}),"if",G,1350,16)}I(Yt,yt)}),"each",G,1349,14);var He=et(ae);{var gn=Yt=>{var Rt=dp(),he=$(Rt);{let yt=m(()=>({...n(a),forestWidth:n(ut),nullValue:0})),rt=m(()=>n(K).axisLabel??"Value");z(()=>An(he,{get xScale(){return n(re)},get layout(){return n(yt)},get theme(){return n(s)},get axisLabel(){return n(rt)},position:"bottom",get plotHeight(){return n(lt)},get baseTicks(){return n(K).axisTicks},get gridlines(){return n(K).axisGridlines}}),"component",G,1368,18,{componentTag:"EffectAxis"})}tt(()=>W(Rt,"transform",`translate(0, ${n(lt)+n(le)})`)),I(Yt,Rt)};z(()=>q(He,Yt=>{M(n(K).showAxis,!1,!1)&&n(re)&&Yt(gn)}),"if",G,1366,14)}tt(()=>{W(Et,"width",n(ut)),W(Et,"height",n(lt)+n(a).axisHeight),W(Et,"viewBox",`0 0 ${n(ut)??""} ${n(lt)+n(a).axisHeight}`),It=ke(Et,"",It,{top:`${n(je)??""}px`,left:`${n(Le)??""}px`})}),I(xt,Et)};z(()=>q(Fe,xt=>{n(K)&&xt(be)}),"if",G,1339,10)}I(pt,ve)}),"each",G,1332,8);var ze=et(Nt,2);{let pt=m(()=>{var K;return(K=n(r).labels)==null?void 0:K.caption}),nt=m(()=>{var K;return(K=n(r).labels)==null?void 0:K.footnote});z(()=>Dr(ze,{get caption(){return n(pt)},get footnote(){return n(nt)}}),"component",G,1386,6,{componentTag:"PlotFooter"})}eo(J,pt=>ot(B,pt),()=>n(B)),tt(()=>{Xt=fn(Nt,1,"tabviz-main svelte-14l8yxx",null,Xt,{"has-header":n(y)}),hn=ke(Nt,"",hn,{"grid-template-columns":n(qt)}),yr=ke(Tt,"",yr,{"grid-row":`1 / span ${n(Jt)??""}`}),Bt(Lt,n(x))})}var Ve=et(J,2);{let de=m(()=>{var Xt,hn;return(hn=(Xt=n(r))==null?void 0:Xt.interaction)==null?void 0:hn.tooltipFields});z(()=>wo(Ve,{get row(){return n(S)},get position(){return n(A)},get fields(){return n(de)},get theme(){return n(s)}}),"component",G,1390,4,{componentTag:"Tooltip"})}tt(()=>wt=ke(J,"",wt,{"margin-left":`${n(Q)??""}px`})),I(k,L)},ii=k=>{var L=vp();I(k,L)};z(()=>q(dn,k=>{n(r)?k(Fn):k(ii,!1)}),"if",G,850,2)}return eo(wn,k=>ot(C,k),()=>n(C)),tt(k=>{$e=fn(wn,1,"tabviz-container svelte-14l8yxx",null,$e,{"auto-fit":n(b),"has-max-width":M(n(F),null,!1),"has-max-height":M(n(N),null,!1),zoomed:M(n(T),1,!1)}),W(wn,"data-zoom",`${k??""}%`),ke(wn,`${n(kn)??""}; ${n(b)&&n(O)>0?`height: ${n(O)}px`:""}`)},[()=>Math.round(n(E)*100)]),I(t,wn),ye(Ur)}Jr(["pointerdown","click","keydown"]),De[D]="src/components/split/SplitSidebar.svelte";var mp=V(dt('<span class="tree-line svelte-1c2ts73"></span>'),De[D],[[101,8]]),_p=V(At('<svg width="12" height="12" viewBox="0 0 12 12" fill="none"><rect x="1" y="1" width="10" height="10" rx="2" stroke="currentColor" stroke-width="1.2"></rect><line x1="3" y1="6" x2="9" y2="6" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"></line></svg>'),De[D],[[119,14,[[120,16],[121,16]]]]),yp=V(At('<svg width="12" height="12" viewBox="0 0 12 12" fill="none"><rect x="1" y="1" width="10" height="10" rx="2" stroke="currentColor" stroke-width="1.2"></rect><line x1="6" y1="3" x2="6" y2="9" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"></line><line x1="3" y1="6" x2="9" y2="6" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"></line></svg>'),De[D],[[124,14,[[125,16],[126,16],[127,16]]]]),xp=V(dt("<span><!></span>"),De[D],[[117,10]]),wp=V(dt('<div class="section-header nested svelte-1c2ts73"> </div>'),De[D],[[139,10]]),bp=V(dt('<div class="children-wrapper svelte-1c2ts73"><!> <ul class="tree-list nested svelte-1c2ts73"></ul></div>'),De[D],[[137,6,[[141,8]]]]),Mp=V(dt('<li><div class="tree-row svelte-1c2ts73"><!> <button><!> <span class="label svelte-1c2ts73"> </span></button></div> <!></li>'),De[D],[[98,2,[[99,4,[[103,6,[[132,8]]]]]]]]),Sp=V(dt('<div class="sidebar-collapsed svelte-1c2ts73"><button class="toggle-btn svelte-1c2ts73" title="Expand navigation"><svg width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M7 4L12 9L7 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div>'),De[D],[[41,2,[[42,4,[[47,6,[[48,8]]]]]]]]),Ep=V(dt('<div class="section-header svelte-1c2ts73"> </div>'),De[D],[[80,8]]),kp=V(dt('<aside class="split-sidebar svelte-1c2ts73" role="navigation" aria-label="Subgroup navigation"><div class="sidebar-header svelte-1c2ts73"><span class="sidebar-title svelte-1c2ts73">Subgroups</span> <button class="toggle-btn svelte-1c2ts73" title="Collapse navigation"><svg width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M11 4L6 9L11 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div> <div class="sidebar-search svelte-1c2ts73"><input type="text" placeholder="Search..." class="search-input svelte-1c2ts73"/></div> <nav class="sidebar-nav svelte-1c2ts73"><!> <ul class="tree-list svelte-1c2ts73"></ul></nav></aside>'),De[D],[[53,2,[[54,4,[[55,6],[56,6,[[61,8,[[62,10]]]]]]],[67,4,[[68,6]]],[78,4,[[83,6]]]]]]);function De(t,e){Se(new.target),_e(e,!0,De);const r=Rl(De,function(y,S=mi,A=mi,R=mi){Il(...arguments);const w=p(m(()=>S().children&&S().children.length>0),"hasChildren");n(w);const T=p(m(()=>n(a).has(S().key)),"isExpanded");n(T);const b=p(m(()=>M(n(i),S().key)),"isActive");n(b);const E=p(m(()=>!n(w)),"isLeaf");n(E);var F=Mp();let N;var H=$(F),C=$(H);{var B=st=>{var it=mp();I(st,it)};z(()=>q(C,st=>{A()>0&&st(B)}),"if",De,100,6)}var P=et(C,2);let Z;P.__click=()=>{n(E)?e.store.selectSpec(S().key):e.store.toggleExpanded(S().key)},P.__keydown=h;var X=$(P);{var U=st=>{var it=xp();let lt;var Gt=$(it);{var Qt=Mt=>{var oe=_p();I(Mt,oe)},_t=Mt=>{var oe=yp();I(Mt,oe)};z(()=>q(Gt,Mt=>{n(T)?Mt(Qt):Mt(_t,!1)}),"if",De,118,12)}tt(()=>lt=fn(it,1,"tree-toggle svelte-1c2ts73",null,lt,{expanded:n(T)})),I(st,it)};z(()=>q(X,st=>{n(w)&&st(U)}),"if",De,116,8)}var O=et(X,2),Q=$(O,!0);var gt=et(H,2);{var at=st=>{var it=bp(),lt=$(it);{var Gt=_t=>{var Mt=wp(),oe=$(Mt,!0);tt(Ae=>{ke(Mt,`--depth: ${A()??""}`),Bt(oe,Ae)},[()=>d(n(c)[A()+1])]),I(_t,Mt)};z(()=>q(lt,_t=>{n(c).length>A()+1&&_t(Gt)}),"if",De,138,8)}var Qt=et(lt,2);z(()=>Ne(Qt,21,()=>S().children,Zn,(_t,Mt,oe)=>{z(()=>r(_t,()=>n(Mt),()=>A()+1,()=>M(oe,S().children.length-1)),"render",De,143,12)}),"each",De,142,10),I(st,it)};z(()=>q(gt,st=>{n(w)&&n(T)&&st(at)}),"if",De,136,4)}tt(()=>{N=fn(F,1,"tree-item svelte-1c2ts73",null,N,{"is-last":R()}),ke(H,`--depth: ${A()??""}`),Z=fn(P,1,"node-btn svelte-1c2ts73",null,Z,{active:n(b),parent:n(w)}),Bt(Q,S().label)}),I(y,F)}),o=p(m(()=>e.store.navTree),"navTree"),i=p(m(()=>e.store.activeKey),"activeKey"),a=p(m(()=>e.store.expandedNodes),"expandedNodes"),l=p(m(()=>e.store.searchQuery),"searchQuery"),c=p(m(()=>e.store.splitVars),"splitVars"),f=p(m(()=>e.store.sidebarCollapsed),"collapsed");function s(y){const S=y.target;e.store.setSearch(S.value)}function h(y){M(y.key,"ArrowDown")?(y.preventDefault(),e.store.selectNext()):M(y.key,"ArrowUp")&&(y.preventDefault(),e.store.selectPrevious())}function d(y){return y.replace(/_/g," ").replace(/\b\w/g,S=>S.toUpperCase())}var u={...Ee()},g=kt(),v=mt(g);{var _=y=>{var S=Sp(),A=$(S);A.__click=()=>e.store.toggleSidebar(),I(y,S)},x=y=>{var S=kp(),A=$(S),R=et($(A),2);R.__click=()=>e.store.toggleSidebar();var w=et(A,2),T=$(w);T.__input=s,T.__keydown=h;var b=et(w,2),E=$(b);{var F=H=>{var C=Ep(),B=$(C);tt(P=>Bt(B,P),[()=>d(n(c)[0])]),I(H,C)};z(()=>q(E,H=>{n(c).length>0&&H(F)}),"if",De,79,6)}var N=et(E,2);z(()=>Ne(N,21,()=>n(o),Zn,(H,C,B)=>{z(()=>r(H,()=>n(C),()=>0,()=>M(B,n(o).length-1)),"render",De,85,10)}),"each",De,84,8),tt(()=>Gl(T,n(l))),I(y,S)};z(()=>q(v,y=>{n(f)?y(_):y(x,!1)}),"if",De,40,0)}return I(t,g),ye(u)}Jr(["click","keydown","input"]),jn[D]="src/lib/SplitForestPlot.svelte";var Cp=V(dt('<div class="split-forest-empty svelte-1y0d7q9">Select a plot from the sidebar</div>'),jn[D],[[57,8]]),Tp=V(dt('<!> <div class="split-forest-main svelte-1y0d7q9"><!></div>',1),jn[D],[[51,4]]),Np=V(dt('<div class="split-forest-loading svelte-1y0d7q9">Loading...</div>'),jn[D],[[63,4]]),Ap=V(dt('<div class="split-forest-container svelte-1y0d7q9"><!></div>'),jn[D],[[45,0]]);function jn(t,e){Se(new.target),_e(e,!0,jn);const r=p(m(()=>e.store.activeStore),"activeStore"),o=p(m(()=>e.store.activeKey),"activeKey"),i=p(m(()=>e.store.payload),"payload"),a=p(m(()=>e.store.sidebarWidth),"sidebarWidth");function l(v){e.store.setTheme(v)}let c=p(bt(void 0),"containerRef");Si(()=>{if(!n(c))return;const v=new ResizeObserver(_=>{for(const x of _){const{width:y,height:S}=x.contentRect;e.store.setDimensions(y,S)}});return v.observe(n(c)),()=>{v.disconnect()}});var f={...Ee()},s=Ap();let h;var d=$(s);{var u=v=>{var _=Tp(),x=mt(_);z(()=>De(x,{get store(){return e.store}}),"component",jn,48,4,{componentTag:"SplitSidebar"});var y=et(x,2),S=$(y);{var A=w=>{var T=kt(),b=mt(T);z(()=>Ou(b,()=>n(o),E=>{z(()=>G(E,{get store(){return n(r)},onThemeChange:l}),"component",jn,54,10,{componentTag:"ForestPlot"})}),"key",jn,53,8),I(w,T)},R=w=>{var T=Cp();I(w,T)};z(()=>q(S,w=>{n(r).spec?w(A):w(R,!1)}),"if",jn,52,6)}I(v,_)},g=v=>{var _=Np();I(v,_)};z(()=>q(d,v=>{n(i)?v(u):v(g,!1)}),"if",jn,46,2)}return eo(s,v=>ot(c,v),()=>n(c)),tt(()=>h=ke(s,"",h,{"--sidebar-width":`${n(a)??""}px`})),I(t,s),ye(f)}function Hp(){let t=p(bt(null),"spec"),e=p(bt(800),"initialWidth"),r=p(bt(400),"initialHeight"),o=p(bt(fr(new Set)),"selectedRowIds"),i=p(bt(fr(new Set)),"collapsedGroups"),a=p(bt(null),"sortConfig"),l=p(bt(null),"filterConfig"),c=p(bt(null),"hoveredRowId"),f=p(bt(null),"tooltipRowId"),s=p(bt(null),"tooltipPosition"),h=p(bt(fr({})),"columnWidths"),d=p(bt(null),"plotWidthOverride"),u=p(bt(1),"zoom"),g=p(bt(!0),"autoFit"),v=p(bt(null),"maxWidth"),_=p(bt(null),"maxHeight"),x=p(bt(!0),"showZoomControls"),y=p(bt(0),"containerWidth"),S=p(bt(0),"containerHeight"),A=p(bt(0),"scalableNaturalWidth"),R=p(bt(0),"scalableNaturalHeight"),w=p(bt(null),"containerElementId");const T=p(m(()=>n(y)>0?n(y):n(e)),"effectiveWidth"),b=p(m(()=>n(S)>0?n(S):n(r)),"effectiveHeight"),E=p(m(()=>{if(!n(t))return[];let k=[...n(t).data.rows];return n(l)&&(k=Wp(k,n(l))),n(a)&&(k=Rp(k,n(a))),k}),"visibleRows"),F=p(m(()=>{var Ge,Pt;if(!n(t))return{axisLimits:[0,1],plotRegion:[0,1],ticks:[0,.5,1]};const k=(Ge=n(P)[0])==null?void 0:Ge.column,Y=n(P).length>0?n(d)??Math.max(n(T)*.25,200):0,J=(Pt=k==null?void 0:k.options)==null?void 0:Pt.forest,wt=(J==null?void 0:J.scale)??"linear",St=(J==null?void 0:J.nullValue)??(M(wt,"log")?1:0),Ot=(J==null?void 0:J.effects)??[],Nt=(J==null?void 0:J.point)??null,Tt=(J==null?void 0:J.lower)??null,Ft=(J==null?void 0:J.upper)??null,Lt={...n(t).theme.axis};return J!=null&&J.axisRange&&Array.isArray(J.axisRange)&&M(J.axisRange.length,2)&&(Lt.rangeMin=J.axisRange[0],Lt.rangeMax=J.axisRange[1]),J!=null&&J.axisTicks&&Array.isArray(J.axisTicks)&&(Lt.tickValues=J.axisTicks),Xl({rows:n(t).data.rows,config:Lt,scale:wt,nullValue:St,forestWidth:Y,pointSize:n(t).theme.shapes.pointSize,effects:Ot,pointCol:Nt,lowerCol:Tt,upperCol:Ft})}),"axisComputation"),N=p(m(()=>{var Tt,Ft;if(!n(t))return nr().domain([0,1]).range([0,100]);const k=(Tt=n(P)[0])==null?void 0:Tt.column,L=(Ft=k==null?void 0:k.options)==null?void 0:Ft.forest,Y=M((L==null?void 0:L.scale)??"linear","log"),{plotRegion:J}=n(F),St=n(P).length>0?n(d)??Math.max(n(T)*.25,200):0,Ot=Nn,Nt=Math.max(St-Nn,Ot+50);if(Y){const Lt=[Math.max(J[0],.01),Math.max(J[1],.02)];return Br().domain(Lt).range([Ot,Nt])}return nr().domain(J).range([Ot,Nt])}),"xScale");function H(k){const L=[];for(const Y of k)Y.isGroup?L.push(...H(Y.columns)):L.push(Y);return L}const C=p(m(()=>n(t)?H(n(t).columns):[]),"allColumns"),B=p(m(()=>n(t)?n(t).columns:[]),"allColumnDefs"),P=p(m(()=>{if(!n(t))return[];const k=[],L=n(C);for(let Y=0;Y<L.length;Y++)M(L[Y].type,"forest")&&k.push({index:Y,column:L[Y]});return k}),"forestColumns"),Z=p(m(()=>n(P).length>0),"hasExplicitForestColumns"),X=p(m(()=>{if(!n(t))return[];const k=[],L=n(C),Y=["forest","viz_bar","viz_boxplot","viz_violin"];for(let J=0;J<L.length;J++)Y.includes(L[J].type)&&k.push({index:J,column:L[J]});return k}),"vizColumns"),U=p(m(()=>n(X).length>0),"hasVizColumns"),O=p(m(()=>{const k=new Map;if(!n(t))return k;for(const L of n(t).data.groups)k.set(L.id,L);return k}),"groupMap"),Q=p(m(()=>{const k=new Map;if(!n(t))return k;for(const L of n(t).data.groups)k.set(L.id,L.depth);return k}),"groupDepthMap");function gt(k){return k?(n(Q).get(k)??0)+1:0}function at(k){if(!k)return!1;let L=k;for(;L;){const Y=n(O).get(L);if(!Y)break;if(Y.parentId&&n(i).has(Y.parentId))return!0;L=Y.parentId}return!1}const st=p(m(()=>{var Ot;if(!n(t))return[];const k=[],L=new Map;for(const Nt of n(E)){const Tt=Nt.groupId??null;L.has(Tt)||L.set(Tt,[]),L.get(Tt).push(Nt)}const Y=new Set;for(const Nt of L.keys()){if(!Nt)continue;let Tt=Nt;for(;Tt;)Y.add(Tt),Tt=(Ot=n(O).get(Tt))==null?void 0:Ot.parentId}function J(Nt){return n(t).data.groups.filter(Tt=>M(Tt.parentId??null,Nt)&&Y.has(Tt.id))}function wt(Nt){var Ft;let Tt=((Ft=L.get(Nt))==null?void 0:Ft.length)??0;for(const Lt of J(Nt))Tt+=wt(Lt.id);return Tt}function St(Nt){if(Nt){const Ft=n(O).get(Nt);if(!Ft||at(Nt))return;const Lt=n(i).has(Ft.id),Ge=wt(Nt);if(k.push({type:"group_header",group:{...Ft,collapsed:Lt},rowCount:Ge,depth:Ft.depth}),Lt)return}for(const Ft of J(Nt))St(Ft.id);const Tt=L.get(Nt)??[];for(const Ft of Tt)k.push({type:"data",row:Ft,depth:gt(Ft.groupId)})}return St(null),k}),"displayRows"),it=p(m(()=>{var Zt,Ct,ft;if(!n(t))return{totalWidth:n(T),totalHeight:n(b),tableWidth:300,forestWidth:400,headerHeight:36,rowHeight:28,plotHeight:300,axisHeight:32,nullValue:0,summaryYPosition:0,showOverallSummary:!1,rowPositions:[],rowHeights:[]};const k=n(t).theme.spacing.rowHeight,L=n(t).theme.spacing.headerHeight,J=32+(n(t).theme.spacing.axisGap??Qn.DEFAULT_AXIS_GAP),St=n(P).length>0?n(d)??Math.max(n(T)*.25,200):0,Ot=n(T)-St,Nt=!!n(t).data.overall,Tt=[];for(const ne of n(st))M(ne.type,"data")&&M((Zt=ne.row.style)==null?void 0:Zt.type,"spacer")?Tt.push(k/2):Tt.push(k);const Ft=[];let Lt=0;for(const ne of Tt)Ft.push(Lt),Lt+=ne;const Ge=Lt+(Nt?k*1.5:0),Pt=(Ct=n(P)[0])==null?void 0:Ct.column,we=(ft=Pt==null?void 0:Pt.options)==null?void 0:ft.forest,ie=(we==null?void 0:we.scale)??"linear",Ue=(we==null?void 0:we.nullValue)??(M(ie,"log")?1:0);return{totalWidth:n(T),totalHeight:Math.max(n(b),Ge+L+J+n(t).theme.spacing.padding*2),tableWidth:Ot,forestWidth:St,headerHeight:L,rowHeight:k,plotHeight:Ge,axisHeight:J,nullValue:Ue,summaryYPosition:Ge-k,showOverallSummary:Nt,rowPositions:Ft,rowHeights:Tt}}),"layout"),lt=p(m(()=>{if(!n(t))return 800;const k=100,L=150;let Y=0;for(const St of n(C)){if(M(St.type,"forest"))continue;const Ot=n(h)[St.id]??(M(typeof St.width,"number")?St.width:null)??k;Y+=Ot}Y+=n(h).__label__??L;const J=n(it).forestWidth,wt=n(t).theme.spacing.padding*2;return Y+J+wt}),"naturalContentWidth"),Gt=p(m(()=>{if(n(y)<=0||n(A)<=0)return 1;const k=n(A)*n(u);return k>n(y)?n(y)/k:1}),"fitScale"),Qt=p(m(()=>n(g)?Math.max(.5,n(u)*n(Gt)):Math.max(.5,Math.min(2,n(u)))),"actualScale"),_t=p(m(()=>n(g)&&n(Gt)<1),"isClamped");function Mt(k){ot(t,{...k},!0),ot(i,new Set(k.data.groups.filter(L=>L.collapsed).map(L=>L.id)),!0),oe()}function oe(){if(!n(t)||M(typeof document,"undefined"))return;const k=n(t).theme.typography.fontFamily;let L=n(t).theme.typography.fontSizeBase;if(M(typeof L,"string")&&(L.endsWith("rem")||L.endsWith("em"))){const Y=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;L=`${parseFloat(L)*Y}px`}Ae(L,k),document.fonts&&document.fonts.ready&&document.fonts.ready.then(()=>{Ae(L,k,!0)})}function Ae(k,L,Y=!1){var Zt,Ct;if(!n(t))return;const wt=document.createElement("canvas").getContext("2d");if(!wt)return;const St=n(t).theme.typography.headerFontScale??1.05;let Ot=k;if(M(typeof k,"string")){const ft=k.match(/^([\d.]+)(px|rem|em)$/);ft&&(Ot=`${parseFloat(ft[1])*St}${ft[2]}`)}const Tt=`${n(t).theme.typography.fontWeightBold??600} ${Ot} ${L}`,Ft=`${k} ${L}`,Lt=(n(t).theme.spacing.cellPaddingX??10)*2,Ge=(n(t).theme.spacing.groupPadding??8)*2;function Pt(ft){return ft.isGroup?ft.columns.flatMap(Pt):[ft]}function we(ft){return M(n(h)[ft.id],void 0,!1)?n(h)[ft.id]:M(typeof ft.width,"number")?ft.width:tr.MIN}function ie(ft){var Ve,de;if(M(typeof ft.width,"number")||ge(ft.width,null,!1)&&M(ft.width,"auto",!1))return;let ne=0;ft.header&&(wt.font=Tt,ne=Math.max(ne,wt.measureText(ft.header).width)),wt.font=Ft;for(const Xt of n(t).data.rows){if(M((Ve=Xt.style)==null?void 0:Ve.type,"header")||M((de=Xt.style)==null?void 0:de.type,"spacer"))continue;const hn=Pc(Xt,ft);hn&&(ne=Math.max(ne,wt.measureText(hn).width))}const ue=tr.VISUAL_MIN[ft.type]??tr.MIN,ze=Math.min(tr.MAX,Math.max(ue,Math.ceil(ne+Lt+Qn.RENDERING_BUFFER)));n(h)[ft.id]=ze}function Ue(ft){if(ft.isGroup){for(const ne of ft.columns)Ue(ne);if(ft.header){wt.font=Tt;const ne=wt.measureText(ft.header).width+Ge+Qn.RENDERING_BUFFER,ue=Pt(ft),ze=ue.reduce((Ve,de)=>Ve+we(de),0);if(ne>ze&&ue.length>0){const Ve=Math.ceil((ne-ze)/ue.length);for(const de of ue)n(h)[de.id]=we(de)+Ve}}return}ie(ft)}for(const ft of n(t).columns)Ue(ft);if(n(t).data.labelCol){let ft=function(Xt){let hn=0;for(const yr of n(t).data.rows)M(yr.groupId,Xt)&&hn++;for(const yr of n(t).data.groups)M(yr.parentId,Xt)&&(hn+=ft(yr.id));return hn},ne=0;const ue=new Map;for(const Xt of n(t).data.groups)ue.set(Xt.id,Xt.depth);const ze=Xt=>Xt?(ue.get(Xt)??0)+1:0;n(t).data.labelHeader&&(wt.font=Tt,ne=Math.max(ne,wt.measureText(n(t).data.labelHeader).width)),wt.font=Ft;const Ve=parseFloat(k);for(const Xt of n(t).data.rows)if(Xt.label){const hn=ze(Xt.groupId),yr=((Zt=Xt.style)==null?void 0:Zt.indent)??0,nt=(hn+yr)*Ie.INDENT_PER_LEVEL;let K=wt.measureText(Xt.label).width+nt;if((Ct=Xt.style)!=null&&Ct.badge){const Wt=String(Xt.style.badge),ut=Ve*kr.FONT_SCALE;wt.font=`${ut}px ${L}`;const le=wt.measureText(Wt).width+kr.PADDING*2;K+=kr.GAP+le,wt.font=Ft}ne=Math.max(ne,K)}wt.font=Tt;for(const Xt of n(t).data.groups)if(Xt.label){const hn=Xt.depth*Ie.INDENT_PER_LEVEL,yr=wt.measureText(Xt.label).width,nt=`(${ft(Xt.id)})`,K=Ve*.75;wt.font=`${K}px ${L}`;const Wt=wt.measureText(nt).width;wt.font=Tt;const ut=hn+ro.CHEVRON_WIDTH+ro.GAP+yr+ro.GAP+Wt+ro.SAFETY_MARGIN;ne=Math.max(ne,ut)}const de=Math.min(tr.LABEL_MAX,Math.max(tr.MIN,Math.ceil(ne+Lt+Qn.RENDERING_BUFFER)));n(h).__label__=de}}function Jt(k,L){ot(e,k,!0),ot(r,L,!0)}function Re(k){const L=new Set(n(o));L.has(k)?L.delete(k):L.add(k),ot(o,L,!0)}function vt(k,L){const Y=new Set(n(i));L??!Y.has(k)?Y.add(k):Y.delete(k),ot(i,Y,!0)}function ct(k,L){ot(a,M(L,"none")?null:{column:k,direction:L},!0)}function qt(k){ot(l,k,!0)}function Vt(k){ot(c,k,!0)}function se(k,L){ot(f,k,!0),ot(s,L,!0)}function Ln(k,L){n(h)[k]=Math.max(40,L)}function ee(k){return n(h)[k]}function Ce(k){ot(d,M(k,null)?null:Math.max(100,k),!0)}function Xe(){return n(d)}function je(k){const L=Tg[k];!n(t)||!L||ot(t,{...n(t),theme:L},!0)}function Ye(k){ot(u,Math.max(.5,Math.min(2,k)),!0),$e()}function En(){ot(u,1),$e()}function sn(){Ye(n(u)*1.1)}function Ut(){Ye(n(u)/1.1)}function Dt(k){ot(g,k,!0),$e()}function Be(){!n(y)||!n(A)||(ot(u,Math.min(2,Math.max(.5,n(y)/n(A))),!0),$e())}function sr(k){ot(v,k,!0),$e()}function _r(k){ot(_,k,!0),$e()}function xn(k){ot(x,k,!0)}function Je(k,L){ot(y,k,!0),ot(S,L,!0)}function kn(k,L){ot(A,k,!0),ot(R,L,!0)}function Ur(k){ot(w,k,!0),k&&dn()}function wn(){return n(w)?`tabviz_zoom_${n(w)}`:null}function $e(){const k=wn();if(k)try{const L={zoom:n(u),autoFit:n(g),maxWidth:n(v),maxHeight:n(_),version:2};localStorage.setItem(k,JSON.stringify(L))}catch{}}function dn(){const k=wn();if(k)try{const L=localStorage.getItem(k);if(L){const Y=JSON.parse(L);M(Y.version,2)&&(ot(u,Y.zoom??1,!0),ot(g,Y.autoFit??!0,!0),ot(v,Y.maxWidth??null,!0),ot(_,Y.maxHeight??null,!0))}}catch{}}function Fn(){ot(o,new Set,!0),ot(i,new Set,!0),ot(a,null),ot(l,null),ot(h,{},!0),ot(d,null),ot(u,1),ot(g,!0),ot(v,null),ot(_,null),ot(c,null),ot(f,null),ot(s,null)}const ii=p(m(()=>!n(f)||!n(t)?null:n(t).data.rows.find(k=>M(k.id,n(f)))??null),"tooltipRow");return{get spec(){return n(t)},get width(){return n(T)},get height(){return n(b)},get visibleRows(){return n(E)},get xScale(){return n(N)},get axisComputation(){return n(F)},get layout(){return n(it)},get selectedRowIds(){return n(o)},get collapsedGroups(){return n(i)},get hoveredRowId(){return n(c)},get allColumns(){return n(C)},get allColumnDefs(){return n(B)},get forestColumns(){return n(P)},get hasExplicitForestColumns(){return n(Z)},get vizColumns(){return n(X)},get hasVizColumns(){return n(U)},get displayRows(){return n(st)},get tooltipRow(){return n(ii)},get tooltipPosition(){return n(s)},get columnWidths(){return n(h)},get zoom(){return n(u)},get autoFit(){return n(g)},get actualScale(){return n(Qt)},get isClamped(){return n(_t)},get maxWidth(){return n(v)},get maxHeight(){return n(_)},get showZoomControls(){return n(x)},get naturalContentWidth(){return n(lt)},getRowDepth:gt,getColumnWidth:ee,getPlotWidth:Xe,getExportDimensions(){var Ge,Pt,we,ie,Ue;const k=n(N).domain(),L=[],Y={},J={},wt=n(h).__label__??150;J.__label__=wt;let St=wt;for(const Zt of n(C)){L.push(Zt.id),Y[Zt.id]=St;let Ct;M(Zt.type,"forest")?Ct=n(h)[Zt.id]??(M(typeof Zt.width,"number")?Zt.width:null)??((Pt=(Ge=Zt.options)==null?void 0:Ge.forest)==null?void 0:Pt.width)??n(it).forestWidth:Ct=n(h)[Zt.id]??(M(typeof Zt.width,"number")?Zt.width:100),J[Zt.id]=Ct,St+=Ct}const Ot=[];for(const Zt of n(P)){const Ct=Zt.column,ft=(we=Ct.options)==null?void 0:we.forest,ne=J[Ct.id]??n(it).forestWidth,ue=(ft==null?void 0:ft.scale)??"linear",ze=(ft==null?void 0:ft.nullValue)??(M(ue,"log")?1:0);Ot.push({columnId:Ct.id,xPosition:Y[Ct.id],width:ne,xDomain:k,clipBounds:n(F).axisLimits,ticks:n(F).ticks,scale:ue,nullValue:ze,axisLabel:(ft==null?void 0:ft.axisLabel)??"Effect"})}const Nt=[],Tt=[];let Ft=0;for(const Zt of n(st)){const Ct=M(Zt.type,"data")&&M((ie=Zt.row.style)==null?void 0:ie.type,"spacer")?n(it).rowHeight/2:n(it).rowHeight;Tt.push(Ft),Nt.push(Ct),Ft+=Ct}const Lt=n(B).some(Zt=>Zt.isGroup)?2:1;return{columnOrder:L,columnWidths:J,columnPositions:Y,forestColumns:Ot,rowHeights:Nt,rowPositions:Tt,totalRowsHeight:Ft,headerHeight:n(it).headerHeight,headerDepth:Lt,width:n(lt)*n(u),height:(n(R)||400)*n(u),naturalWidth:St,naturalHeight:Ft+n(it).headerHeight+n(it).axisHeight,forestWidth:(((Ue=Ot[0])==null?void 0:Ue.width)??n(it).forestWidth)*n(u),xDomain:k,clipBounds:n(F).axisLimits,scale:n(u)}},setSpec:Mt,setDimensions:Jt,selectRow:Re,toggleGroup:vt,sortBy:ct,setFilter:qt,setHovered:Vt,setTooltip:se,setColumnWidth:Ln,setPlotWidth:Ce,setTheme:je,setZoom:Ye,resetZoom:En,zoomIn:sn,zoomOut:Ut,setAutoFit:Dt,fitToWidth:Be,setMaxWidth:sr,setMaxHeight:_r,setShowZoomControls:xn,setContainerDimensions:Je,setScalableNaturalDimensions:kn,setContainerElementId:Ur,resetState:Fn}}function Wp(t,e){return t.filter(r=>{const o=r.metadata[e.field]??r[e.field];switch(e.operator){case"eq":return M(o,e.value);case"neq":return M(o,e.value,!1);case"gt":return M(typeof o,"number")&&o>e.value;case"lt":return M(typeof o,"number")&&o<e.value;case"contains":return M(typeof o,"string")&&o.toLowerCase().includes(e.value.toLowerCase());default:return!0}})}function Rp(t,e){const r=[...t],{column:o,direction:i}=e;return r.sort((a,l)=>{const c=a.metadata[o]??a[o],f=l.metadata[o]??l[o];let s=0;return M(typeof c,"number")&&M(typeof f,"number")?s=c-f:M(typeof c,"string")&&M(typeof f,"string")&&(s=c.localeCompare(f)),M(i,"desc")?-s:s}),r}function Zc(){let t=p(bt(null),"payload"),e=p(bt(null),"activeKey"),r=p(bt(""),"searchQuery"),o=p(bt(fr(new Set)),"expandedNodes"),i=p(bt(!1),"sidebarCollapsed"),a=p(bt(null),"userTheme"),l=p(bt(800),"containerWidth"),c=p(bt(600),"containerHeight");const f=216,s=44,h=Hp(),d=p(m(()=>n(t)?n(r).trim()?Kc(n(t).navTree,n(r).toLowerCase()):n(t).navTree:[]),"filteredNavTree"),u=p(m(()=>!n(e)||!n(t)?null:n(t).specs[n(e)]??null),"activeSpec"),g=p(m(()=>n(t)?zp(n(t).navTree):[]),"allLeafKeys"),v=p(m(()=>n(e)?n(g).indexOf(n(e)):-1),"currentIndex"),_=p(m(()=>{var C;return((C=n(t))==null?void 0:C.splitVars)??[]}),"splitVars"),x=p(m(()=>n(i)?s:f),"effectiveSidebarWidth");function y(C){ot(t,C,!0);const B=Qc(C.navTree);B&&S(B)}function S(C){if(!n(t))return;ot(e,C,!0);const B=n(t).specs[C];B&&(h.setSpec(B),n(a)&&h.setTheme(n(a)),h.setDimensions(n(l)-n(x),n(c))),b(C)}function A(C,B){ot(l,C,!0),ot(c,B,!0),h.setDimensions(C-n(x),B)}function R(){ot(i,!n(i)),h.setDimensions(n(l)-n(x),n(c))}function w(C){ot(r,C,!0)}function T(C){const B=new Set(n(o));B.has(C)?B.delete(C):B.add(C),ot(o,B,!0)}function b(C){const B=C.split("__"),P=new Set;let Z="";for(let X=0;X<B.length-1;X++)Z=Z?`${Z}__${B[X]}`:B[X],P.add(Z);ot(o,P,!0)}function E(){n(v)>=0&&n(v)<n(g).length-1&&S(n(g)[n(v)+1])}function F(){n(v)>0&&S(n(g)[n(v)-1])}function N(C){ot(a,C,!0),h.setTheme(C)}function H(){if(ot(a,null),n(e)&&n(t)){const C=n(t).specs[n(e)];C&&(h.setSpec(C),h.setDimensions(n(l)-n(x),n(c)))}}return{get payload(){return n(t)},get activeKey(){return n(e)},get activeSpec(){return n(u)},get activeStore(){return h},get navTree(){return n(d)},get searchQuery(){return n(r)},get expandedNodes(){return n(o)},get splitVars(){return n(_)},get sidebarWidth(){return n(x)},get sidebarCollapsed(){return n(i)},get userTheme(){return n(a)},setPayload:y,selectSpec:S,setDimensions:A,setSearch:w,toggleExpanded:T,toggleSidebar:R,selectNext:E,selectPrevious:F,setTheme:N,resetTheme:H}}function Kc(t,e){const r=[];for(const o of t){const i=o.label.toLowerCase().includes(e);if(o.children&&o.children.length>0){const a=Kc(o.children,e);(a.length>0||i)&&r.push({...o,children:a.length>0?a:o.children})}else i&&r.push(o)}return r}function Qc(t){for(const e of t){if(!e.children||M(e.children.length,0))return e.key;const r=Qc(e.children);if(r)return r}return null}function zp(t){const e=[];function r(o){for(const i of o)!i.children||M(i.children.length,0)?e.push(i.key):r(i.children)}return r(t),e}const Jc=new Map,Ip={name:"tabviz_split",type:"output",factory:(t,e,r)=>{let o=null;const i=Zc();return t.id&&Jc.set(t.id,i),{renderValue:a=>{i.setPayload(a),i.setDimensions(e,r),t.style.height="100%",t.style.minHeight="400px",o&&Du(o),o=Fu(jn,{target:t,props:{store:i}}),window.Shiny&&t.id&&Lp(t.id,i)},resize:(a,l)=>{i.setDimensions(a,l)}}}};function Lp(t,e){Mu(()=>{Si(()=>{var o;const r=e.activeKey;(o=window.Shiny)==null||o.setInputValue(`${t}_active_plot`,r,{priority:"event"})}),Si(()=>{var o;const r=e.activeStore.selectedRowIds;(o=window.Shiny)==null||o.setInputValue(`${t}_selected`,Array.from(r),{priority:"event"})})})}return M(typeof window,"undefined",!1)&&window.HTMLWidgets&&window.HTMLWidgets.widget(Ip),M(typeof window,"undefined",!1)&&window.Shiny&&window.Shiny.addCustomMessageHandler("tabviz-split-proxy",t=>{const e=Jc.get(t.id);e&&M(t.method,"selectPlot")&&M(typeof t.args.key,"string")&&e.selectSpec(t.args.key)}),Te.SplitForestPlot=jn,Te.createSplitForestStore=Zc,Object.defineProperty(Te,Symbol.toStringTag,{value:"Module"}),Te})({});
