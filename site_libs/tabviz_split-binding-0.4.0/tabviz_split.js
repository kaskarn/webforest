var tabviz_split=(function(Te){"use strict";var Vp=Object.defineProperty;var lf=Te=>{throw TypeError(Te)};var Op=(Te,je,nn)=>je in Te?Vp(Te,je,{enumerable:!0,configurable:!0,writable:!0,value:nn}):Te[je]=nn;var Wr=(Te,je,nn)=>Op(Te,typeof je!="symbol"?je+"":je,nn),As=(Te,je,nn)=>je.has(Te)||lf("Cannot "+nn);var O=(Te,je,nn)=>(As(Te,je,"read from private field"),nn?nn.call(Te):je.get(Te)),le=(Te,je,nn)=>je.has(Te)?lf("Cannot add the same private member more than once"):je instanceof WeakSet?je.add(Te):je.set(Te,nn),Ot=(Te,je,nn,Aa)=>(As(Te,je,"write to private field"),Aa?Aa.call(Te,nn):je.set(Te,nn),nn),Ke=(Te,je,nn)=>(As(Te,je,"access private method"),nn);var Jc,$c,$i,to,Ni,Ai,Go,eo,no,un,Hs,jo,Ws,cf,ff,ir,or,Ts,Tr,Hi,Nr,ar,In,Ar,jr,oi,Wi,ai,Ri,Xr,wa,on,jp,Xp,Rs,Ta,Na,Is,mr,Hr,On,Ii,Vo,Oo,ba,tf;const pn=Symbol(),P=Symbol("filename"),uf="http://www.w3.org/1999/xhtml",Ls=($c=(Jc=globalThis.process)==null?void 0:Jc.env)==null?void 0:$c.NODE_ENV,at=Ls&&!Ls.toLowerCase().startsWith("prod");var vo=Array.isArray,df=Array.prototype.indexOf,Xo=Array.from,si=Object.defineProperty,Pi=Object.getOwnPropertyDescriptor,Fs=Object.getOwnPropertyDescriptors,Ps=Object.prototype,hf=Array.prototype,Uo=Object.getPrototypeOf,zs=Object.isExtensible;const po=()=>{};function gf(t){for(var e=0;e<t.length;e++)t[e]()}function Ds(){var t,e,r=new Promise((i,o)=>{t=i,e=o});return{promise:r,resolve:t,reject:e}}function Ha(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const r=[];for(const i of t)if(r.push(i),r.length===e)break;return r}const ln=2,Wa=4,Ra=8,vf=1<<24,Rr=16,Ir=32,qr=64,qo=128,lr=512,mn=1024,Cn=2048,xr=4096,Pn=8192,Yr=16384,Ia=32768,li=65536,Yo=1<<17,Bs=1<<18,ci=1<<19,pf=1<<20,Lr=1<<25,Zr=32768,La=1<<21,Zo=1<<22,Kr=1<<23,wr=Symbol("$state"),mf=Symbol(""),Gs=Symbol("proxy path"),zi=new class extends Error{constructor(){super(...arguments);Wr(this,"name","StaleReactionError");Wr(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}},_f=1,yf=11;function Vs(){if(at){const t=new Error("invalid_snippet_arguments\nA snippet function was passed invalid arguments. Snippets should only be instantiated via `{@render ...}`\nhttps://svelte.dev/e/invalid_snippet_arguments");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/invalid_snippet_arguments")}function xf(){if(at){const t=new Error("snippet_without_render_tag\nAttempted to render a snippet without a `{@render}` block. This would cause the snippet code to be stringified instead of its content being rendered to the DOM. To fix this, change `{snippet}` to `{@render snippet()}`.\nhttps://svelte.dev/e/snippet_without_render_tag");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/snippet_without_render_tag")}function wf(){if(at){const t=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/async_derived_orphan")}function bf(t,e){if(at){const r=new Error(`component_api_changed
Calling \`${t}\` on a component instance (of ${e}) is no longer valid in Svelte 5
https://svelte.dev/e/component_api_changed`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/component_api_changed")}function Mf(t,e){if(at){const r=new Error(`component_api_invalid_new
Attempted to instantiate ${t} with \`new ${e}\`, which is no longer valid in Svelte 5. If this component is not under your control, set the \`compatibility.componentApi\` compiler option to \`4\` to keep it working.
https://svelte.dev/e/component_api_invalid_new`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/component_api_invalid_new")}function Sf(){if(at){const t=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/derived_references_self")}function Ef(t,e,r){if(at){const i=new Error(`each_key_duplicate
${r?`Keyed each block has duplicate key \`${r}\` at indexes ${t} and ${e}`:`Keyed each block has duplicate key at indexes ${t} and ${e}`}
https://svelte.dev/e/each_key_duplicate`);throw i.name="Svelte error",i}else throw new Error("https://svelte.dev/e/each_key_duplicate")}function kf(t){if(at){const e=new Error(`effect_in_teardown
\`${t}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function Cf(){if(at){const t=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Tf(t){if(at){const e=new Error(`effect_orphan
\`${t}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_orphan")}function Nf(){if(at){const t=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Af(){if(at){const t=new Error("invalid_snippet\nCould not `{@render}` snippet due to the expression being `null` or `undefined`. Consider using optional chaining `{@render snippet?.()}`\nhttps://svelte.dev/e/invalid_snippet");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/invalid_snippet")}function Hf(t){if(at){const e=new Error(`rune_outside_svelte
The \`${t}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function Wf(){if(at){const t=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Rf(){if(at){const t=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function If(){if(at){const t=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Lf(){if(at){const t=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}var fi="font-weight: bold",ui="font-weight: normal";function Ff(t){at?console.warn(`%c[svelte] console_log_state
%cYour \`console.${t}\` contained \`$state\` proxies. Consider using \`$inspect(...)\` or \`$state.snapshot(...)\` instead
https://svelte.dev/e/console_log_state`,fi,ui):console.warn("https://svelte.dev/e/console_log_state")}function Pf(t,e){at?console.warn(`%c[svelte] event_handler_invalid
%c${t} should be a function. Did you mean to ${e}?
https://svelte.dev/e/event_handler_invalid`,fi,ui):console.warn("https://svelte.dev/e/event_handler_invalid")}function zf(){at?console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,fi,ui):console.warn("https://svelte.dev/e/lifecycle_double_unmount")}function Df(){at?console.warn("%c[svelte] select_multiple_invalid_value\n%cThe `value` property of a `<select multiple>` element should be an array, but it received a non-array value. The selection will be kept as is.\nhttps://svelte.dev/e/select_multiple_invalid_value",fi,ui):console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function mo(t){at?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${t}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,fi,ui):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}function Bf(){at?console.warn(`%c[svelte] state_proxy_unmount
%cTried to unmount a state proxy, rather than a component
https://svelte.dev/e/state_proxy_unmount`,fi,ui):console.warn("https://svelte.dev/e/state_proxy_unmount")}function Gf(){at?console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",fi,ui):console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Kp(t){}function Os(t){return t===this.v}function js(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Xs(t){return!js(t,this.v)}let Vf=!1;var Of="font-weight: bold",jf="font-weight: normal";function Us(t){at?console.warn(`%c[svelte] state_snapshot_uncloneable
%c${t?`The following properties cannot be cloned with \`$state.snapshot\` — the return value contains the originals:

${t}`:"Value cannot be cloned with `$state.snapshot` — the original value was returned"}
https://svelte.dev/e/state_snapshot_uncloneable`,Of,jf):console.warn("https://svelte.dev/e/state_snapshot_uncloneable")}const Xf=[];function Uf(t,e=!1,r=!1){if(at&&!e){const i=[],o=_o(t,new Map,"",i,null,r);if(i.length===1&&i[0]==="")Us();else if(i.length>0){const a=i.length>10?i.slice(0,7):i.slice(0,10),s=i.length-a.length;let c=a.map(f=>`- <value>${f}`).join(`
`);s>0&&(c+=`
- ...and ${s} more`),Us(c)}return o}return _o(t,new Map,"",Xf,null,r)}function _o(t,e,r,i,o=null,a=!1){if(typeof t=="object"&&t!==null){var s=e.get(t);if(s!==void 0)return s;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(vo(t)){var c=Array(t.length);e.set(t,c),o!==null&&e.set(o,c);for(var f=0;f<t.length;f+=1){var l=t[f];f in t&&(c[f]=_o(l,e,at?`${r}[${f}]`:r,i,null,a))}return c}if(Uo(t)===Ps){c={},e.set(t,c),o!==null&&e.set(o,c);for(var g in t)c[g]=_o(t[g],e,at?`${r}.${g}`:r,i,null,a);return c}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function"&&!a)return _o(t.toJSON(),e,at?`${r}.toJSON()`:r,i,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return at&&i.push(r),t}}function v(t,e){return t.label=e,qs(t.v,e),t}function qs(t,e){var r;return(r=t==null?void 0:t[Gs])==null||r.call(t,e),t}function qf(t){const e=new Error,r=Yf();return r.length===0?null:(r.unshift(`
`),si(e,"stack",{value:r.join(`
`)}),si(e,"name",{value:t}),e)}function Yf(){const t=Error.stackTraceLimit;Error.stackTraceLimit=1/0;const e=new Error().stack;if(Error.stackTraceLimit=t,!e)return[];const r=e.split(`
`),i=[];for(let o=0;o<r.length;o++){const a=r[o],s=a.replaceAll("\\","/");if(a.trim()!=="Error"){if(a.includes("validate_each_keys"))return[];s.includes("svelte/src/internal")||s.includes("node_modules/.vite")||i.push(a)}}return i}let tn=null;function Di(t){tn=t}let Fr=null;function Ko(t){Fr=t}function W(t,e,r,i,o,a){const s=Fr;Fr={type:e,file:r[P],line:i,column:o,parent:s,...a};try{return t()}finally{Fr=s}}let Bi=null;function Qo(t){Bi=t}function _e(t,e=!1,r){tn={p:tn,i:!1,c:null,e:null,s:t,x:null,l:null},at&&(tn.function=r,Bi=r)}function ye(t){var e=tn,r=e.e;if(r!==null){e.e=null;for(var i of r)cl(i)}return t!==void 0&&(e.x=t),e.i=!0,tn=e.p,at&&(Bi=(tn==null?void 0:tn.function)??null),t??{}}function Ys(){return!0}let di=[];function Zs(){var t=di;di=[],gf(t)}function Gi(t){if(di.length===0&&!yo){var e=di;queueMicrotask(()=>{e===di&&Zs()})}di.push(t)}function Zf(){for(;di.length>0;)Zs()}const Fa=new WeakMap;function Ks(t){var e=xe;if(e===null)return te.f|=Kr,t;if(at&&t instanceof Error&&!Fa.has(t)&&Fa.set(t,Kf(t,e)),(e.f&Ia)===0){if((e.f&qo)===0)throw at&&!e.parent&&t instanceof Error&&Qs(t),t;e.b.error(t)}else Vi(t,e)}function Vi(t,e){for(;e!==null;){if((e.f&qo)!==0)try{e.b.error(t);return}catch(r){t=r}e=e.parent}throw at&&t instanceof Error&&Qs(t),t}function Kf(t,e){var s,c,f;const r=Pi(t,"message");if(!(r&&!r.configurable)){for(var i=Oa?"  ":"	",o=`
${i}in ${((s=e.fn)==null?void 0:s.name)||"<unknown>"}`,a=e.ctx;a!==null;)o+=`
${i}in ${(c=a.function)==null?void 0:c[P].split("/").pop()}`,a=a.p;return{message:t.message+`
${o}
`,stack:(f=t.stack)==null?void 0:f.split(`
`).filter(l=>!l.includes("svelte/src/internal")).join(`
`)}}}function Qs(t){const e=Fa.get(t);e&&(si(t,"message",{value:e.message}),si(t,"stack",{value:e.stack}))}const Jo=new Set;let ce=null,Qe=null,Xn=[],$o=null,Pa=!1,yo=!1;const xa=class xa{constructor(){le(this,un);Wr(this,"committed",!1);Wr(this,"current",new Map);Wr(this,"previous",new Map);le(this,$i,new Set);le(this,to,new Set);le(this,Ni,0);le(this,Ai,0);le(this,Go,null);le(this,eo,new Set);le(this,no,new Set);Wr(this,"skipped_effects",new Set);Wr(this,"is_fork",!1)}is_deferred(){return this.is_fork||O(this,Ai)>0}process(e){var i;Xn=[],this.apply();var r={parent:null,effect:null,effects:[],render_effects:[]};for(const o of e)Ke(this,un,Hs).call(this,o,r);this.is_fork||Ke(this,un,cf).call(this),this.is_deferred()?(Ke(this,un,jo).call(this,r.effects),Ke(this,un,jo).call(this,r.render_effects)):(ce=null,$s(r.render_effects),$s(r.effects),(i=O(this,Go))==null||i.resolve()),Qe=null}capture(e,r){this.previous.has(e)||this.previous.set(e,r),(e.f&Kr)===0&&(this.current.set(e,e.v),Qe==null||Qe.set(e,e.v))}activate(){ce=this,this.apply()}deactivate(){ce===this&&(ce=null,Qe=null)}flush(){if(this.activate(),Xn.length>0){if(Js(),ce!==null&&ce!==this)return}else O(this,Ni)===0&&this.process([]);this.deactivate()}discard(){for(const e of O(this,to))e(this);O(this,to).clear()}increment(e){Ot(this,Ni,O(this,Ni)+1),e&&Ot(this,Ai,O(this,Ai)+1)}decrement(e){Ot(this,Ni,O(this,Ni)-1),e&&Ot(this,Ai,O(this,Ai)-1),this.revive()}revive(){for(const e of O(this,eo))O(this,no).delete(e),_n(e,Cn),hi(e);for(const e of O(this,no))_n(e,xr),hi(e);this.flush()}oncommit(e){O(this,$i).add(e)}ondiscard(e){O(this,to).add(e)}settled(){return(O(this,Go)??Ot(this,Go,Ds())).promise}static ensure(){if(ce===null){const e=ce=new xa;Jo.add(ce),yo||xa.enqueue(()=>{ce===e&&e.flush()})}return ce}static enqueue(e){Gi(e)}apply(){}};$i=new WeakMap,to=new WeakMap,Ni=new WeakMap,Ai=new WeakMap,Go=new WeakMap,eo=new WeakMap,no=new WeakMap,un=new WeakSet,Hs=function(e,r){var g;e.f^=mn;for(var i=e.first;i!==null;){var o=i.f,a=(o&(Ir|qr))!==0,s=a&&(o&mn)!==0,c=s||(o&Pn)!==0||this.skipped_effects.has(i);if((i.f&qo)!==0&&((g=i.b)!=null&&g.is_pending())&&(r={parent:r,effect:i,effects:[],render_effects:[]}),!c&&i.fn!==null){a?i.f^=mn:(o&Wa)!==0?r.effects.push(i):ko(i)&&((i.f&Rr)!==0&&O(this,eo).add(i),Co(i));var f=i.first;if(f!==null){i=f;continue}}var l=i.parent;for(i=i.next;i===null&&l!==null;)l===r.effect&&(Ke(this,un,jo).call(this,r.effects),Ke(this,un,jo).call(this,r.render_effects),r=r.parent),i=l.next,l=l.parent}},jo=function(e){for(const r of e)(r.f&Cn)!==0?O(this,eo).add(r):(r.f&xr)!==0&&O(this,no).add(r),Ke(this,un,Ws).call(this,r.deps),_n(r,mn)},Ws=function(e){if(e!==null)for(const r of e)(r.f&ln)===0||(r.f&Zr)===0||(r.f^=Zr,Ke(this,un,Ws).call(this,r.deps))},cf=function(){if(O(this,Ai)===0){for(const e of O(this,$i))e();O(this,$i).clear()}O(this,Ni)===0&&Ke(this,un,ff).call(this)},ff=function(){var a;if(Jo.size>1){this.previous.clear();var e=Qe,r=!0,i={parent:null,effect:null,effects:[],render_effects:[]};for(const s of Jo){if(s===this){r=!1;continue}const c=[];for(const[l,g]of this.current){if(s.current.has(l))if(r&&g!==s.current.get(l))s.current.set(l,g);else continue;c.push(l)}if(c.length===0)continue;const f=[...s.current.keys()].filter(l=>!this.current.has(l));if(f.length>0){var o=Xn;Xn=[];const l=new Set,g=new Map;for(const d of c)tl(d,f,l,g);if(Xn.length>0){ce=s,s.apply();for(const d of Xn)Ke(a=s,un,Hs).call(a,d,i);s.deactivate()}Xn=o}}ce=null,Qe=e}this.committed=!0,Jo.delete(this)};let br=xa;function Qf(t){var e=yo;yo=!0;try{for(var r;;){if(Zf(),Xn.length===0&&(ce==null||ce.flush(),Xn.length===0))return $o=null,r;Js()}}finally{yo=e}}function Js(){var t=mi;Pa=!0;var e=at?new Set:null;try{var r=0;for(na(!0);Xn.length>0;){var i=br.ensure();if(r++>1e3){if(at){var o=new Map;for(const s of i.current.keys())for(const[c,f]of s.updated??[]){var a=o.get(c);a||(a={error:f.error,count:0},o.set(c,a)),a.count+=f.count}for(const s of o.values())s.error&&console.error(s.error)}Jf()}if(i.process(Xn),Qr.clear(),at)for(const s of i.current.keys())e.add(s)}}finally{if(Pa=!1,na(t),$o=null,at)for(const s of e)s.updated=null}}function Jf(){try{Nf()}catch(t){at&&si(t,"stack",{value:""}),Vi(t,$o)}}let cr=null;function $s(t){var e=t.length;if(e!==0){for(var r=0;r<e;){var i=t[r++];if((i.f&(Yr|Pn))===0&&ko(i)&&(cr=new Set,Co(i),i.deps===null&&i.first===null&&i.nodes===null&&(i.teardown===null&&i.ac===null?hl(i):i.fn=null),(cr==null?void 0:cr.size)>0)){Qr.clear();for(const o of cr){if((o.f&(Yr|Pn))!==0)continue;const a=[o];let s=o.parent;for(;s!==null;)cr.has(s)&&(cr.delete(s),a.push(s)),s=s.parent;for(let c=a.length-1;c>=0;c--){const f=a[c];(f.f&(Yr|Pn))===0&&Co(f)}}cr.clear()}}cr=null}}function tl(t,e,r,i){if(!r.has(t)&&(r.add(t),t.reactions!==null))for(const o of t.reactions){const a=o.f;(a&ln)!==0?tl(o,e,r,i):(a&(Zo|Rr))!==0&&(a&Cn)===0&&el(o,e,i)&&(_n(o,Cn),hi(o))}}function el(t,e,r){const i=r.get(t);if(i!==void 0)return i;if(t.deps!==null)for(const o of t.deps){if(e.includes(o))return!0;if((o.f&ln)!==0&&el(o,e,r))return r.set(o,!0),!0}return r.set(t,!1),!1}function hi(t){for(var e=$o=t;e.parent!==null;){e=e.parent;var r=e.f;if(Pa&&e===xe&&(r&Rr)!==0&&(r&Bs)===0)return;if((r&(qr|Ir))!==0){if((r&mn)===0)return;e.f^=mn}}Xn.push(e)}function $f(t){let e=0,r=gi(0),i;return at&&v(r,"createSubscriber version"),()=>{bo()&&(n(r),ea(()=>(e===0&&(i=ia(()=>t(()=>xo(r)))),e+=1,()=>{Gi(()=>{e-=1,e===0&&(i==null||i(),i=void 0,xo(r))})})))}}var tu=li|ci|qo;function eu(t,e,r){new nu(t,e,r)}class nu{constructor(e,r,i){le(this,on);Wr(this,"parent");le(this,ir,!1);le(this,or);le(this,Ts,null);le(this,Tr);le(this,Hi);le(this,Nr);le(this,ar,null);le(this,In,null);le(this,Ar,null);le(this,jr,null);le(this,oi,null);le(this,Wi,0);le(this,ai,0);le(this,Ri,!1);le(this,Xr,null);le(this,wa,$f(()=>(Ot(this,Xr,gi(O(this,Wi))),at&&v(O(this,Xr),"$effect.pending()"),()=>{Ot(this,Xr,null)})));Ot(this,or,e),Ot(this,Tr,r),Ot(this,Hi,i),this.parent=xe.b,Ot(this,ir,!!O(this,Tr).pending),Ot(this,Nr,So(()=>{xe.b=this;{var o=Ke(this,on,Rs).call(this);try{Ot(this,ar,Un(()=>i(o)))}catch(a){this.error(a)}O(this,ai)>0?Ke(this,on,Na).call(this):Ot(this,ir,!1)}return()=>{var a;(a=O(this,oi))==null||a.remove()}},tu))}is_pending(){return O(this,ir)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!O(this,Tr).pending}update_pending_count(e){Ke(this,on,Is).call(this,e),Ot(this,Wi,O(this,Wi)+e),O(this,Xr)&&ji(O(this,Xr),O(this,Wi))}get_effect_pending(){return O(this,wa).call(this),n(O(this,Xr))}error(e){var r=O(this,Tr).onerror;let i=O(this,Tr).failed;if(O(this,Ri)||!r&&!i)throw e;O(this,ar)&&(bn(O(this,ar)),Ot(this,ar,null)),O(this,In)&&(bn(O(this,In)),Ot(this,In,null)),O(this,Ar)&&(bn(O(this,Ar)),Ot(this,Ar,null));var o=!1,a=!1;const s=()=>{if(o){Gf();return}o=!0,a&&Lf(),br.ensure(),Ot(this,Wi,0),O(this,Ar)!==null&&pi(O(this,Ar),()=>{Ot(this,Ar,null)}),Ot(this,ir,this.has_pending_snippet()),Ot(this,ar,Ke(this,on,Ta).call(this,()=>(Ot(this,Ri,!1),Un(()=>O(this,Hi).call(this,O(this,or)))))),O(this,ai)>0?Ke(this,on,Na).call(this):Ot(this,ir,!1)};var c=te;try{Tn(null),a=!0,r==null||r(e,s),a=!1}catch(f){Vi(f,O(this,Nr)&&O(this,Nr).parent)}finally{Tn(c)}i&&Gi(()=>{Ot(this,Ar,Ke(this,on,Ta).call(this,()=>{br.ensure(),Ot(this,Ri,!0);try{return Un(()=>{i(O(this,or),()=>e,()=>s)})}catch(f){return Vi(f,O(this,Nr).parent),null}finally{Ot(this,Ri,!1)}}))})}}ir=new WeakMap,or=new WeakMap,Ts=new WeakMap,Tr=new WeakMap,Hi=new WeakMap,Nr=new WeakMap,ar=new WeakMap,In=new WeakMap,Ar=new WeakMap,jr=new WeakMap,oi=new WeakMap,Wi=new WeakMap,ai=new WeakMap,Ri=new WeakMap,Xr=new WeakMap,wa=new WeakMap,on=new WeakSet,jp=function(){try{Ot(this,ar,Un(()=>O(this,Hi).call(this,O(this,or))))}catch(e){this.error(e)}Ot(this,ir,!1)},Xp=function(){const e=O(this,Tr).pending;e&&(Ot(this,In,Un(()=>e(O(this,or)))),br.enqueue(()=>{var r=Ke(this,on,Rs).call(this);Ot(this,ar,Ke(this,on,Ta).call(this,()=>(br.ensure(),Un(()=>O(this,Hi).call(this,r))))),O(this,ai)>0?Ke(this,on,Na).call(this):(pi(O(this,In),()=>{Ot(this,In,null)}),Ot(this,ir,!1))}))},Rs=function(){var e=O(this,or);return O(this,ir)&&(Ot(this,oi,Jr()),O(this,or).before(O(this,oi)),e=O(this,oi)),e},Ta=function(e){var r=xe,i=te,o=tn;ur(O(this,Nr)),Tn(O(this,Nr)),Di(O(this,Nr).ctx);try{return e()}catch(a){return Ks(a),null}finally{ur(r),Tn(i),Di(o)}},Na=function(){const e=O(this,Tr).pending;O(this,ar)!==null&&(Ot(this,jr,document.createDocumentFragment()),O(this,jr).append(O(this,oi)),pl(O(this,ar),O(this,jr))),O(this,In)===null&&Ot(this,In,Un(()=>e(O(this,or))))},Is=function(e){var r;if(!this.has_pending_snippet()){this.parent&&Ke(r=this.parent,on,Is).call(r,e);return}Ot(this,ai,O(this,ai)+e),O(this,ai)===0&&(Ot(this,ir,!1),O(this,In)&&pi(O(this,In),()=>{Ot(this,In,null)}),O(this,jr)&&(O(this,or).before(O(this,jr)),Ot(this,jr,null)))};function ru(t,e,r,i){const o=za;if(r.length===0&&t.length===0){i(e.map(o));return}var a=ce,s=xe,c=iu();function f(){Promise.all(r.map(l=>su(l))).then(l=>{c();try{i([...e.map(o),...l])}catch(g){(s.f&Yr)===0&&Vi(g,s)}a==null||a.deactivate(),ta()}).catch(l=>{Vi(l,s)})}t.length>0?Promise.all(t).then(()=>{c();try{return f()}finally{a==null||a.deactivate(),ta()}}):f()}function iu(){var t=xe,e=te,r=tn,i=ce;if(at)var o=Fr;return function(s=!0){ur(t),Tn(e),Di(r),s&&(i==null||i.activate()),at&&Ko(o)}}async function ou(t){var e=await t;return()=>e}function ta(){ur(null),Tn(null),Di(null),at&&Ko(null)}const au=new Set;function za(t){var e=ln|Cn,r=te!==null&&(te.f&ln)!==0?te:null;return xe!==null&&(xe.f|=ci),{ctx:tn,deps:null,effects:null,equals:Os,f:e,fn:t,reactions:null,rv:0,v:pn,wv:0,parent:r??xe,ac:null}}function su(t,e){let r=xe;r===null&&wf();var i=r.b,o=void 0,a=gi(pn),s=!te,c=new Map;return Mu(()=>{var u;var f=Ds();o=f.promise;try{Promise.resolve(t()).then(f.resolve,f.reject).then(()=>{l===ce&&l.committed&&l.deactivate(),ta()})}catch(h){f.reject(h),ta()}var l=ce;if(s){var g=!i.is_pending();i.update_pending_count(1),l.increment(g),(u=c.get(l))==null||u.reject(zi),c.delete(l),c.set(l,f)}const d=(h,p=void 0)=>{if(l.activate(),p)p!==zi&&(a.f|=Kr,ji(a,p));else{(a.f&Kr)!==0&&(a.f^=Kr),ji(a,h);for(const[_,y]of c){if(c.delete(_),_===l)break;y.reject(zi)}}s&&(i.update_pending_count(-1),l.decrement(g))};f.promise.then(d,h=>d(null,h||"unknown"))}),Xa(()=>{for(const f of c.values())f.reject(zi)}),at&&(a.f|=Zo),new Promise(f=>{function l(g){function d(){g===o?f(a):l(o)}g.then(d,d)}l(o)})}function m(t){const e=za(t);return _l(e),e}function lu(t){const e=za(t);return e.equals=Xs,e}function Da(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)bn(e[r])}}let Ba=[];function cu(t){for(var e=t.parent;e!==null;){if((e.f&ln)===0)return(e.f&Yr)===0?e:null;e=e.parent}return null}function Ga(t){var e,r=xe;if(ur(cu(t)),at){let i=Oi;rl(new Set);try{Ba.includes(t)&&Sf(),Ba.push(t),t.f&=~Zr,Da(t),e=qa(t)}finally{ur(r),rl(i),Ba.pop()}}else try{t.f&=~Zr,Da(t),e=qa(t)}finally{ur(r)}return e}function nl(t){var e=Ga(t);if(t.equals(e)||(ce!=null&&ce.is_fork||(t.v=e),t.wv=wl()),!Ui)if(Qe!==null)(bo()||ce!=null&&ce.is_fork)&&Qe.set(t,e);else{var r=(t.f&lr)===0?xr:mn;_n(t,r)}}let Oi=new Set;const Qr=new Map;function rl(t){Oi=t}let Va=!1;function fu(){Va=!0}function gi(t,e){var r={f:0,v:t,reactions:null,equals:Os,rv:0,wv:0};return r}function xt(t,e){const r=gi(t);return _l(r),r}function uu(t,e=!1,r=!0){const i=gi(t);return e||(i.equals=Xs),i}function tt(t,e,r=!1){te!==null&&(!Sr||(te.f&Yo)!==0)&&Ys()&&(te.f&(ln|Rr|Zo|Yo))!==0&&!(Mn!=null&&Mn.includes(t))&&If();let i=r?fr(e):e;return at&&qs(i,t.label),ji(t,i)}function ji(t,e){var o;if(!t.equals(e)){var r=t.v;Ui?Qr.set(t,e):Qr.set(t,r),t.v=e;var i=br.ensure();if(i.capture(t,r),at){if(xe!==null){t.updated??(t.updated=new Map);const a=(((o=t.updated.get(""))==null?void 0:o.count)??0)+1;if(t.updated.set("",{error:null,count:a}),a>5){const s=qf("updated at");if(s!==null){let c=t.updated.get(s.stack);c||(c={error:s,count:0},t.updated.set(s.stack,c)),c.count++}}}xe!==null&&(t.set_during_effect=!0)}(t.f&ln)!==0&&((t.f&Cn)!==0&&Ga(t),_n(t,(t.f&lr)!==0?mn:xr)),t.wv=wl(),ol(t,Cn),xe!==null&&(xe.f&mn)!==0&&(xe.f&(Ir|qr))===0&&(qn===null?ku([t]):qn.push(t)),!i.is_fork&&Oi.size>0&&!Va&&il()}return e}function il(){Va=!1;var t=mi;na(!0);const e=Array.from(Oi);try{for(const r of e)(r.f&mn)!==0&&_n(r,xr),ko(r)&&Co(r)}finally{na(t)}Oi.clear()}function xo(t){tt(t,t.v+1)}function ol(t,e){var r=t.reactions;if(r!==null)for(var i=r.length,o=0;o<i;o++){var a=r[o],s=a.f;if(at&&(s&Yo)!==0){Oi.add(a);continue}var c=(s&Cn)===0;if(c&&_n(a,e),(s&ln)!==0){var f=a;Qe==null||Qe.delete(f),(s&Zr)===0&&(s&lr&&(a.f|=Zr),ol(f,xr))}else c&&((s&Rr)!==0&&cr!==null&&cr.add(a),hi(a))}}const du=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function fr(t){if(typeof t!="object"||t===null||wr in t)return t;const e=Uo(t);if(e!==Ps&&e!==hf)return t;var r=new Map,i=vo(t),o=xt(0),a=_i,s=g=>{if(_i===a)return g();var d=te,u=_i;Tn(null),xl(a);var h=g();return Tn(d),xl(u),h};i&&(r.set("length",xt(t.length)),at&&(t=vu(t)));var c="";let f=!1;function l(g){if(!f){f=!0,c=g,v(o,`${c} version`);for(const[d,u]of r)v(u,vi(c,d));f=!1}}return new Proxy(t,{defineProperty(g,d,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Wf();var h=r.get(d);return h===void 0?h=s(()=>{var p=xt(u.value);return r.set(d,p),at&&typeof d=="string"&&v(p,vi(c,d)),p}):tt(h,u.value,!0),!0},deleteProperty(g,d){var u=r.get(d);if(u===void 0){if(d in g){const h=s(()=>xt(pn));r.set(d,h),xo(o),at&&v(h,vi(c,d))}}else tt(u,pn),xo(o);return!0},get(g,d,u){var y;if(d===wr)return t;if(at&&d===Gs)return l;var h=r.get(d),p=d in g;if(h===void 0&&(!p||(y=Pi(g,d))!=null&&y.writable)&&(h=s(()=>{var x=fr(p?g[d]:pn),T=xt(x);return at&&v(T,vi(c,d)),T}),r.set(d,h)),h!==void 0){var _=n(h);return _===pn?void 0:_}return Reflect.get(g,d,u)},getOwnPropertyDescriptor(g,d){var u=Reflect.getOwnPropertyDescriptor(g,d);if(u&&"value"in u){var h=r.get(d);h&&(u.value=n(h))}else if(u===void 0){var p=r.get(d),_=p==null?void 0:p.v;if(p!==void 0&&_!==pn)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return u},has(g,d){var _;if(d===wr)return!0;var u=r.get(d),h=u!==void 0&&u.v!==pn||Reflect.has(g,d);if(u!==void 0||xe!==null&&(!h||(_=Pi(g,d))!=null&&_.writable)){u===void 0&&(u=s(()=>{var y=h?fr(g[d]):pn,x=xt(y);return at&&v(x,vi(c,d)),x}),r.set(d,u));var p=n(u);if(p===pn)return!1}return h},set(g,d,u,h){var H;var p=r.get(d),_=d in g;if(i&&d==="length")for(var y=u;y<p.v;y+=1){var x=r.get(y+"");x!==void 0?tt(x,pn):y in g&&(x=s(()=>xt(pn)),r.set(y+"",x),at&&v(x,vi(c,y)))}if(p===void 0)(!_||(H=Pi(g,d))!=null&&H.writable)&&(p=s(()=>xt(void 0)),at&&v(p,vi(c,d)),tt(p,fr(u)),r.set(d,p));else{_=p.v!==pn;var T=s(()=>fr(u));tt(p,T)}var I=Reflect.getOwnPropertyDescriptor(g,d);if(I!=null&&I.set&&I.set.call(h,u),!_){if(i&&typeof d=="string"){var F=r.get("length"),k=Number(d);Number.isInteger(k)&&k>=F.v&&tt(F,k+1)}xo(o)}return!0},ownKeys(g){n(o);var d=Reflect.ownKeys(g).filter(p=>{var _=r.get(p);return _===void 0||_.v!==pn});for(var[u,h]of r)h.v!==pn&&!(u in g)&&d.push(u);return d},setPrototypeOf(){Rf()}})}function vi(t,e){return typeof e=="symbol"?`${t}[Symbol(${e.description??""})]`:du.test(e)?`${t}.${e}`:/^\d+$/.test(e)?`${t}[${e}]`:`${t}['${e}']`}function Pr(t){try{if(t!==null&&typeof t=="object"&&wr in t)return t[wr]}catch{}return t}function hu(t,e){return Object.is(Pr(t),Pr(e))}const gu=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function vu(t){return new Proxy(t,{get(e,r,i){var o=Reflect.get(e,r,i);return gu.has(r)?function(...a){fu();var s=o.apply(this,a);return il(),s}:o}})}function pu(){const t=Array.prototype,e=Array.__svelte_cleanup;e&&e();const{indexOf:r,lastIndexOf:i,includes:o}=t;t.indexOf=function(a,s){const c=r.call(this,a,s);if(c===-1){for(let f=s??0;f<this.length;f+=1)if(Pr(this[f])===a){mo("array.indexOf(...)");break}}return c},t.lastIndexOf=function(a,s){const c=i.call(this,a,s??this.length-1);if(c===-1){for(let f=0;f<=(s??this.length-1);f+=1)if(Pr(this[f])===a){mo("array.lastIndexOf(...)");break}}return c},t.includes=function(a,s){const c=o.call(this,a,s);if(!c){for(let f=0;f<this.length;f+=1)if(Pr(this[f])===a){mo("array.includes(...)");break}}return c},Array.__svelte_cleanup=()=>{t.indexOf=r,t.lastIndexOf=i,t.includes=o}}function w(t,e,r=!0){try{t===e!=(Pr(t)===Pr(e))&&mo(r?"===":"!==")}catch{}return t===e===r}function de(t,e,r=!0){return t==e!=(Pr(t)==Pr(e))&&mo(r?"==":"!="),t==e===r}var Xi,Oa,al,sl;function mu(){if(Xi===void 0){Xi=window,Oa=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;al=Pi(e,"firstChild").get,sl=Pi(e,"nextSibling").get,zs(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),zs(r)&&(r.__t=void 0),at&&(t.__svelte_meta=null,pu())}}function Jr(t=""){return document.createTextNode(t)}function zr(t){return al.call(t)}function wo(t){return sl.call(t)}function U(t,e){return zr(t)}function ut(t,e=!1){{var r=zr(t);return r instanceof Comment&&r.data===""?wo(r):r}}function K(t,e=1,r=!1){let i=t;for(;e--;)i=wo(i);return i}function _u(t){t.textContent=""}function ll(){return!1}function ja(t){var e=te,r=xe;Tn(null),ur(null);try{return t()}finally{Tn(e),ur(r)}}function yu(t){xe===null&&(te===null&&Tf(t),Cf()),Ui&&kf(t)}function xu(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function Mr(t,e,r){var i=xe;if(at)for(;i!==null&&(i.f&Yo)!==0;)i=i.parent;i!==null&&(i.f&Pn)!==0&&(t|=Pn);var o={ctx:tn,deps:null,nodes:null,f:t|Cn|lr,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,wv:0,ac:null};if(at&&(o.component_function=Bi),r)try{Co(o),o.f|=Ia}catch(c){throw bn(o),c}else e!==null&&hi(o);var a=o;if(r&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&ci)===0&&(a=a.first,(t&Rr)!==0&&(t&li)!==0&&a!==null&&(a.f|=li)),a!==null&&(a.parent=i,i!==null&&xu(a,i),te!==null&&(te.f&ln)!==0&&(t&qr)===0)){var s=te;(s.effects??(s.effects=[])).push(a)}return o}function bo(){return te!==null&&!Sr}function Xa(t){const e=Mr(Ra,null,!1);return _n(e,mn),e.teardown=t,e}function Mo(t){yu("$effect"),at&&si(t,"name",{value:"$effect"});var e=xe.f,r=!te&&(e&Ir)!==0&&(e&Ia)===0;if(r){var i=tn;(i.e??(i.e=[])).push(t)}else return cl(t)}function cl(t){return Mr(Wa|pf,t,!1)}function wu(t){br.ensure();const e=Mr(qr|ci,t,!0);return()=>{bn(e)}}function bu(t){br.ensure();const e=Mr(qr|ci,t,!0);return(r={})=>new Promise(i=>{r.outro?pi(e,()=>{bn(e),i(void 0)}):(bn(e),i(void 0))})}function fl(t){return Mr(Wa,t,!1)}function Mu(t){return Mr(Zo|ci,t,!0)}function ea(t,e=0){return Mr(Ra|e,t,!0)}function Z(t,e=[],r=[],i=[]){ru(i,e,r,o=>{Mr(Ra,()=>t(...o.map(n)),!0)})}function So(t,e=0){var r=Mr(Rr|e,t,!0);return at&&(r.dev_stack=Fr),r}function Un(t){return Mr(Ir|ci,t,!0)}function ul(t){var e=t.teardown;if(e!==null){const r=Ui,i=te;ml(!0),Tn(null);try{e.call(null)}finally{ml(r),Tn(i)}}}function dl(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){const o=r.ac;o!==null&&ja(()=>{o.abort(zi)});var i=r.next;(r.f&qr)!==0?r.parent=null:bn(r,e),r=i}}function Su(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&Ir)===0&&bn(e),e=r}}function bn(t,e=!0){var r=!1;(e||(t.f&Bs)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(Eu(t.nodes.start,t.nodes.end),r=!0),dl(t,e&&!r),ra(t,0),_n(t,Yr);var i=t.nodes&&t.nodes.t;if(i!==null)for(const a of i)a.stop();ul(t);var o=t.parent;o!==null&&o.first!==null&&hl(t),at&&(t.component_function=null),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function Eu(t,e){for(;t!==null;){var r=t===e?null:wo(t);t.remove(),t=r}}function hl(t){var e=t.parent,r=t.prev,i=t.next;r!==null&&(r.next=i),i!==null&&(i.prev=r),e!==null&&(e.first===t&&(e.first=i),e.last===t&&(e.last=r))}function pi(t,e,r=!0){var i=[];gl(t,i,!0);var o=()=>{r&&bn(t),e&&e()},a=i.length;if(a>0){var s=()=>--a||o();for(var c of i)c.out(s)}else o()}function gl(t,e,r){if((t.f&Pn)===0){t.f^=Pn;var i=t.nodes&&t.nodes.t;if(i!==null)for(const c of i)(c.is_global||r)&&e.push(c);for(var o=t.first;o!==null;){var a=o.next,s=(o.f&li)!==0||(o.f&Ir)!==0&&(t.f&Rr)!==0;gl(o,e,s?r:!1),o=a}}}function Ua(t){vl(t,!0)}function vl(t,e){if((t.f&Pn)!==0){t.f^=Pn,(t.f&mn)===0&&(_n(t,Cn),hi(t));for(var r=t.first;r!==null;){var i=r.next,o=(r.f&li)!==0||(r.f&Ir)!==0;vl(r,o?e:!1),r=i}var a=t.nodes&&t.nodes.t;if(a!==null)for(const s of a)(s.is_global||e)&&s.in()}}function pl(t,e){if(t.nodes)for(var r=t.nodes.start,i=t.nodes.end;r!==null;){var o=r===i?null:wo(r);e.append(r),r=o}}let mi=!1;function na(t){mi=t}let Ui=!1;function ml(t){Ui=t}let te=null,Sr=!1;function Tn(t){te=t}let xe=null;function ur(t){xe=t}let Mn=null;function _l(t){te!==null&&(Mn===null?Mn=[t]:Mn.push(t))}let Sn=null,zn=0,qn=null;function ku(t){qn=t}let yl=1,Eo=0,_i=Eo;function xl(t){_i=t}function wl(){return++yl}function ko(t){var e=t.f;if((e&Cn)!==0)return!0;if(e&ln&&(t.f&=~Zr),(e&xr)!==0){var r=t.deps;if(r!==null)for(var i=r.length,o=0;o<i;o++){var a=r[o];if(ko(a)&&nl(a),a.wv>t.wv)return!0}(e&lr)!==0&&Qe===null&&_n(t,mn)}return!1}function bl(t,e,r=!0){var i=t.reactions;if(i!==null&&!(Mn!=null&&Mn.includes(t)))for(var o=0;o<i.length;o++){var a=i[o];(a.f&ln)!==0?bl(a,e,!1):e===a&&(r?_n(a,Cn):(a.f&mn)!==0&&_n(a,xr),hi(a))}}function qa(t){var p;var e=Sn,r=zn,i=qn,o=te,a=Mn,s=tn,c=Sr,f=_i,l=t.f;Sn=null,zn=0,qn=null,te=(l&(Ir|qr))===0?t:null,Mn=null,Di(t.ctx),Sr=!1,_i=++Eo,t.ac!==null&&(ja(()=>{t.ac.abort(zi)}),t.ac=null);try{t.f|=La;var g=t.fn,d=g(),u=t.deps;if(Sn!==null){var h;if(ra(t,zn),u!==null&&zn>0)for(u.length=zn+Sn.length,h=0;h<Sn.length;h++)u[zn+h]=Sn[h];else t.deps=u=Sn;if(bo()&&(t.f&lr)!==0)for(h=zn;h<u.length;h++)((p=u[h]).reactions??(p.reactions=[])).push(t)}else u!==null&&zn<u.length&&(ra(t,zn),u.length=zn);if(Ys()&&qn!==null&&!Sr&&u!==null&&(t.f&(ln|xr|Cn))===0)for(h=0;h<qn.length;h++)bl(qn[h],t);return o!==null&&o!==t&&(Eo++,qn!==null&&(i===null?i=qn:i.push(...qn))),(t.f&Kr)!==0&&(t.f^=Kr),d}catch(_){return Ks(_)}finally{t.f^=La,Sn=e,zn=r,qn=i,te=o,Mn=a,Di(s),Sr=c,_i=f}}function Cu(t,e){let r=e.reactions;if(r!==null){var i=df.call(r,t);if(i!==-1){var o=r.length-1;o===0?r=e.reactions=null:(r[i]=r[o],r.pop())}}r===null&&(e.f&ln)!==0&&(Sn===null||!Sn.includes(e))&&(_n(e,xr),(e.f&lr)!==0&&(e.f^=lr,e.f&=~Zr),Da(e),ra(e,0))}function ra(t,e){var r=t.deps;if(r!==null)for(var i=e;i<r.length;i++)Cu(t,r[i])}function Co(t){var e=t.f;if((e&Yr)===0){_n(t,mn);var r=xe,i=mi;if(xe=t,mi=!0,at){var o=Bi;Qo(t.component_function);var a=Fr;Ko(t.dev_stack??Fr)}try{(e&(Rr|vf))!==0?Su(t):dl(t),ul(t);var s=qa(t);t.teardown=typeof s=="function"?s:null,t.wv=yl;var c;at&&Vf&&(t.f&Cn)!==0&&t.deps}finally{mi=i,xe=r,at&&(Qo(o),Ko(a))}}}async function Tu(){await Promise.resolve(),Qf()}function n(t){var e=t.f,r=(e&ln)!==0;if(te!==null&&!Sr){var i=xe!==null&&(xe.f&Yr)!==0;if(!i&&!(Mn!=null&&Mn.includes(t))){var o=te.deps;if((te.f&La)!==0)t.rv<Eo&&(t.rv=Eo,Sn===null&&o!==null&&o[zn]===t?zn++:Sn===null?Sn=[t]:Sn.includes(t)||Sn.push(t));else{(te.deps??(te.deps=[])).push(t);var a=t.reactions;a===null?t.reactions=[te]:a.includes(te)||a.push(te)}}}if(at&&au.delete(t),Ui){if(Qr.has(t))return Qr.get(t);if(r){var s=t,c=s.v;return((s.f&mn)===0&&s.reactions!==null||Sl(s))&&(c=Ga(s)),Qr.set(s,c),c}}else r&&(!(Qe!=null&&Qe.has(t))||ce!=null&&ce.is_fork&&!bo())&&(s=t,ko(s)&&nl(s),mi&&bo()&&(s.f&lr)===0&&Ml(s));if(Qe!=null&&Qe.has(t))return Qe.get(t);if((t.f&Kr)!==0)throw t.v;return t.v}function Ml(t){if(t.deps!==null){t.f^=lr;for(const e of t.deps)(e.reactions??(e.reactions=[])).push(t),(e.f&ln)!==0&&(e.f&lr)===0&&Ml(e)}}function Sl(t){if(t.v===pn)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Qr.has(e)||(e.f&ln)!==0&&Sl(e))return!0;return!1}function ia(t){var e=Sr;try{return Sr=!0,t()}finally{Sr=e}}const Nu=-7169;function _n(t,e){t.f=t.f&Nu|e}function Au(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(wr in t)Ya(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&wr in r&&Ya(r)}}}function Ya(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let i in t)try{Ya(t[i],e)}catch{}const r=Uo(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const i=Fs(r);for(let o in i){const a=i[o].get;if(a)try{a.call(t)}catch{}}}}}const El=new Set,Za=new Set;function Hu(t,e,r,i={}){function o(a){if(i.capture||To.call(e,a),!a.cancelBubble)return ja(()=>r==null?void 0:r.call(this,a))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Gi(()=>{e.addEventListener(t,o,i)}):e.addEventListener(t,o,i),o}function Dn(t,e,r,i,o){var a={capture:i,passive:o},s=Hu(t,e,r,a);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Xa(()=>{e.removeEventListener(t,s,a)})}function $r(t){for(var e=0;e<t.length;e++)El.add(t[e]);for(var r of Za)r(t)}let kl=null;function To(t){var y;var e=this,r=e.ownerDocument,i=t.type,o=((y=t.composedPath)==null?void 0:y.call(t))||[],a=o[0]||t.target;kl=t;var s=0,c=kl===t&&t.__root;if(c){var f=o.indexOf(c);if(f!==-1&&(e===document||e===window)){t.__root=e;return}var l=o.indexOf(e);if(l===-1)return;f<=l&&(s=f)}if(a=o[s]||t.target,a!==e){si(t,"currentTarget",{configurable:!0,get(){return a||r}});var g=te,d=xe;Tn(null),ur(null);try{for(var u,h=[];a!==null;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var _=a["__"+i];_!=null&&(!a.disabled||t.target===a)&&_.call(a,t)}catch(x){u?h.push(x):u=x}if(t.cancelBubble||p===e||p===null)break;a=p}if(u){for(let x of h)queueMicrotask(()=>{throw x});throw u}}finally{t.__root=e,delete t.currentTarget,Tn(g),ur(d)}}}function dr(t,e,r,i,o,a=!1,s=!1){var l,g;let c,f;try{c=t()}catch(d){f=d}if(typeof c!="function"&&(a||c!=null||f)){const d=i==null?void 0:i[P],u=o?` at ${d}:${o[0]}:${o[1]}`:` in ${d}`,h=((l=r[0])==null?void 0:l.eventPhase)<Event.BUBBLING_PHASE?"capture":"",_=`\`${((g=r[0])==null?void 0:g.type)+h}\` handler${u}`;if(Pf(_,s?"remove the trailing `()`":"add a leading `() =>`"),f)throw f}c==null||c.apply(e,r)}function Cl(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function No(t,e){var r=xe;r.nodes===null&&(r.nodes={start:t,end:e,a:null,t:null})}function ot(t,e){var r=(e&1)!==0,i=(e&2)!==0,o,a=!t.startsWith("<!>");return()=>{o===void 0&&(o=Cl(a?t:"<!>"+t),r||(o=zr(o)));var s=i||Oa?document.importNode(o,!0):o.cloneNode(!0);if(r){var c=zr(s),f=s.lastChild;No(c,f)}else No(s,s);return s}}function Wu(t,e,r="svg"){var i=!t.startsWith("<!>"),o=(e&1)!==0,a=`<${r}>${i?t:"<!>"+t}</${r}>`,s;return()=>{if(!s){var c=Cl(a),f=zr(c);if(o)for(s=document.createDocumentFragment();zr(f);)s.appendChild(zr(f));else s=zr(f)}var l=s.cloneNode(!0);if(o){var g=zr(l),d=l.lastChild;No(g,d)}else No(l,l);return l}}function Ht(t,e){return Wu(t,e,"svg")}function St(){var t=document.createDocumentFragment(),e=document.createComment(""),r=Jr();return t.append(e,r),No(e,r),t}function R(t,e){t!==null&&t.before(e)}const Ru=["touchstart","touchmove"];function Iu(t){return Ru.includes(t)}function Vt(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function Lu(t,e){return Fu(t,e)}const qi=new Map;function Fu(t,{target:e,anchor:r,props:i={},events:o,context:a,intro:s=!0}){mu();var c=new Set,f=d=>{for(var u=0;u<d.length;u++){var h=d[u];if(!c.has(h)){c.add(h);var p=Iu(h);e.addEventListener(h,To,{passive:p});var _=qi.get(h);_===void 0?(document.addEventListener(h,To,{passive:p}),qi.set(h,1)):qi.set(h,_+1)}}};f(Xo(El)),Za.add(f);var l=void 0,g=bu(()=>{var d=r??e.appendChild(Jr());return eu(d,{pending:()=>{}},u=>{if(a){_e({});var h=tn;h.c=a}o&&(i.$$events=o),l=t(u,i)||{},a&&ye()}),()=>{var p;for(var u of c){e.removeEventListener(u,To);var h=qi.get(u);--h===0?(document.removeEventListener(u,To),qi.delete(u)):qi.set(u,h)}Za.delete(f),d!==r&&((p=d.parentNode)==null||p.removeChild(d))}});return Ka.set(l,g),l}let Ka=new WeakMap;function Pu(t,e){const r=Ka.get(t);return r?(Ka.delete(t),r(e)):(at&&(wr in t?Bf():zf()),Promise.resolve())}function zu(t){return t.toString=()=>(xf(),""),t}class Qa{constructor(e,r=!0){Wr(this,"anchor");le(this,mr,new Map);le(this,Hr,new Map);le(this,On,new Map);le(this,Ii,new Set);le(this,Vo,!0);le(this,Oo,()=>{var e=ce;if(O(this,mr).has(e)){var r=O(this,mr).get(e),i=O(this,Hr).get(r);if(i)Ua(i),O(this,Ii).delete(r);else{var o=O(this,On).get(r);o&&(O(this,Hr).set(r,o.effect),O(this,On).delete(r),o.fragment.lastChild.remove(),this.anchor.before(o.fragment),i=o.effect)}for(const[a,s]of O(this,mr)){if(O(this,mr).delete(a),a===e)break;const c=O(this,On).get(s);c&&(bn(c.effect),O(this,On).delete(s))}for(const[a,s]of O(this,Hr)){if(a===r||O(this,Ii).has(a))continue;const c=()=>{if(Array.from(O(this,mr).values()).includes(a)){var l=document.createDocumentFragment();pl(s,l),l.append(Jr()),O(this,On).set(a,{effect:s,fragment:l})}else bn(s);O(this,Ii).delete(a),O(this,Hr).delete(a)};O(this,Vo)||!i?(O(this,Ii).add(a),pi(s,c,!1)):c()}}});le(this,ba,e=>{O(this,mr).delete(e);const r=Array.from(O(this,mr).values());for(const[i,o]of O(this,On))r.includes(i)||(bn(o.effect),O(this,On).delete(i))});this.anchor=e,Ot(this,Vo,r)}ensure(e,r){var i=ce,o=ll();if(r&&!O(this,Hr).has(e)&&!O(this,On).has(e))if(o){var a=document.createDocumentFragment(),s=Jr();a.append(s),O(this,On).set(e,{effect:Un(()=>r(s)),fragment:a})}else O(this,Hr).set(e,Un(()=>r(this.anchor)));if(O(this,mr).set(i,e),o){for(const[c,f]of O(this,Hr))c===e?i.skipped_effects.delete(f):i.skipped_effects.add(f);for(const[c,f]of O(this,On))c===e?i.skipped_effects.delete(f.effect):i.skipped_effects.add(f.effect);i.oncommit(O(this,Oo)),i.ondiscard(O(this,ba))}else O(this,Oo).call(this)}}mr=new WeakMap,Hr=new WeakMap,On=new WeakMap,Ii=new WeakMap,Vo=new WeakMap,Oo=new WeakMap,ba=new WeakMap;function Du(t,e,...r){var i=new Qa(t);So(()=>{const o=e()??null;at&&o==null&&Af(),i.ensure(o,o&&(a=>o(a,...r)))},li)}function Tl(t,e){const r=(i,...o)=>{var a=Bi;Qo(t);try{return e(i,...o)}finally{Qo(a)}};return zu(r),r}if(at){let t=function(e){if(!(e in globalThis)){let r;Object.defineProperty(globalThis,e,{configurable:!0,get:()=>{if(r!==void 0)return r;Hf(e)},set:i=>{r=i}})}};t("$state"),t("$effect"),t("$derived"),t("$inspect"),t("$props"),t("$bindable")}function V(t,e,r){return(...i)=>{const o=t(...i);var a=o.nodeType===yf?o.firstChild:o;return Nl(a,e,r),o}}function Bu(t,e,r){t.__svelte_meta={parent:Fr,loc:{file:e,line:r[0],column:r[1]}},r[2]&&Nl(t.firstChild,e,r[2])}function Nl(t,e,r){for(var i=0;t&&i<r.length;)t.nodeType===_f&&Bu(t,e,r[i++]),t=t.nextSibling}function Se(t){t&&Mf(t[P]??"a component",t.name)}function Ee(){const t=tn==null?void 0:tn.function;function e(r){bf(r,t[P])}return{$destroy:()=>e("$destroy()"),$on:()=>e("$on(...)"),$set:()=>e("$set(...)")}}function Al(t,...e){(typeof t!="object"||!(t instanceof Node))&&Vs();for(let r of e)typeof r!="function"&&Vs()}function j(t,e,r=!1){var i=new Qa(t),o=r?li:0;function a(s,c){i.ensure(s,c)}So(()=>{var s=!1;e((c,f=!0)=>{s=!0,a(f,c)}),s||a(!1,null)},o)}function Gu(t,e,r){var i=new Qa(t);So(()=>{var o=e();i.ensure(o,r)})}function Yn(t,e){return e}function Vu(t,e,r){for(var i=[],o=e.length,a,s=e.length,c=0;c<o;c++){let d=e[c];pi(d,()=>{if(a){if(a.pending.delete(d),a.done.add(d),a.pending.size===0){var u=t.outrogroups;Ja(Xo(a.done)),u.delete(a),u.size===0&&(t.outrogroups=null)}}else s-=1},!1)}if(s===0){var f=i.length===0&&r!==null;if(f){var l=r,g=l.parentNode;_u(g),g.append(l),t.items.clear()}Ja(e,!f)}else a={pending:new Set(e),done:new Set},(t.outrogroups??(t.outrogroups=new Set)).add(a)}function Ja(t,e=!0){for(var r=0;r<t.length;r++)bn(t[r],e)}var Hl;function Ne(t,e,r,i,o,a=null){var s=t,c=new Map,f=(e&4)!==0;if(f){var l=t;s=l.appendChild(Jr())}var g=null,d=lu(()=>{var x=r();return vo(x)?x:x==null?[]:Xo(x)}),u,h=!0;function p(){y.fallback=g,Ou(y,u,s,e,i),g!==null&&(u.length===0?(g.f&Lr)===0?Ua(g):(g.f^=Lr,Ao(g,null,s)):pi(g,()=>{g=null}))}var _=So(()=>{u=n(d);for(var x=u.length,T=new Set,I=ce,F=ll(),k=0;k<x;k+=1){var H=u[k],b=i(H,k),C=h?null:c.get(b);C?(C.v&&ji(C.v,H),C.i&&ji(C.i,k),F&&I.skipped_effects.delete(C.e)):(C=ju(c,h?s:Hl??(Hl=Jr()),H,b,k,o,e,r),h||(C.e.f|=Lr),c.set(b,C)),T.add(b)}if(x===0&&a&&!g&&(h?g=Un(()=>a(s)):(g=Un(()=>a(Hl??(Hl=Jr()))),g.f|=Lr)),!h)if(F){for(const[z,E]of c)T.has(z)||I.skipped_effects.add(E.e);I.oncommit(p),I.ondiscard(()=>{})}else p();n(d)}),y={effect:_,items:c,outrogroups:null,fallback:g};h=!1}function Ou(t,e,r,i,o){var E,N,M,D,B,rt,nt,et,wt;var a=(i&8)!==0,s=e.length,c=t.items,f=t.effect.first,l,g=null,d,u=[],h=[],p,_,y,x;if(a)for(x=0;x<s;x+=1)p=e[x],_=o(p,x),y=c.get(_).e,(y.f&Lr)===0&&((N=(E=y.nodes)==null?void 0:E.a)==null||N.measure(),(d??(d=new Set)).add(y));for(x=0;x<s;x+=1){if(p=e[x],_=o(p,x),y=c.get(_).e,t.outrogroups!==null)for(const J of t.outrogroups)J.pending.delete(y),J.done.delete(y);if((y.f&Lr)!==0)if(y.f^=Lr,y===f)Ao(y,null,r);else{var T=g?g.next:f;y===t.effect.last&&(t.effect.last=y.prev),y.prev&&(y.prev.next=y.next),y.next&&(y.next.prev=y.prev),ti(t,g,y),ti(t,y,T),Ao(y,T,r),g=y,u=[],h=[],f=g.next;continue}if((y.f&Pn)!==0&&(Ua(y),a&&((D=(M=y.nodes)==null?void 0:M.a)==null||D.unfix(),(d??(d=new Set)).delete(y))),y!==f){if(l!==void 0&&l.has(y)){if(u.length<h.length){var I=h[0],F;g=I.prev;var k=u[0],H=u[u.length-1];for(F=0;F<u.length;F+=1)Ao(u[F],I,r);for(F=0;F<h.length;F+=1)l.delete(h[F]);ti(t,k.prev,H.next),ti(t,g,k),ti(t,H,I),f=I,g=H,x-=1,u=[],h=[]}else l.delete(y),Ao(y,f,r),ti(t,y.prev,y.next),ti(t,y,g===null?t.effect.first:g.next),ti(t,g,y),g=y;continue}for(u=[],h=[];f!==null&&f!==y;)(l??(l=new Set)).add(f),h.push(f),f=f.next;if(f===null)continue}(y.f&Lr)===0&&u.push(y),g=y,f=y.next}if(t.outrogroups!==null){for(const J of t.outrogroups)J.pending.size===0&&(Ja(Xo(J.done)),(B=t.outrogroups)==null||B.delete(J));t.outrogroups.size===0&&(t.outrogroups=null)}if(f!==null||l!==void 0){var b=[];if(l!==void 0)for(y of l)(y.f&Pn)===0&&b.push(y);for(;f!==null;)(f.f&Pn)===0&&f!==t.fallback&&b.push(f),f=f.next;var C=b.length;if(C>0){var z=(i&4)!==0&&s===0?r:null;if(a){for(x=0;x<C;x+=1)(nt=(rt=b[x].nodes)==null?void 0:rt.a)==null||nt.measure();for(x=0;x<C;x+=1)(wt=(et=b[x].nodes)==null?void 0:et.a)==null||wt.fix()}Vu(t,b,z)}}a&&Gi(()=>{var J,kt;if(d!==void 0)for(y of d)(kt=(J=y.nodes)==null?void 0:J.a)==null||kt.apply()})}function ju(t,e,r,i,o,a,s,c){var f=(s&1)!==0?(s&16)===0?uu(r,!1,!1):gi(r):null,l=(s&2)!==0?gi(o):null;return at&&f&&(f.trace=()=>{c()[(l==null?void 0:l.v)??o]}),{v:f,i:l,e:Un(()=>(a(e,f??r,l??o,c),()=>{t.delete(i)}))}}function Ao(t,e,r){if(t.nodes)for(var i=t.nodes.start,o=t.nodes.end,a=e&&(e.f&Lr)===0?e.nodes.start:r;i!==null;){var s=wo(i);if(a.before(i),i===o)return;i=s}}function ti(t,e,r){e===null?t.effect.first=r:e.next=r,r===null?t.effect.last=e:r.prev=e}function oa(t,e,r){fl(()=>{var i=ia(()=>e(t,r==null?void 0:r())||{});if(r&&(i!=null&&i.update)){var o=!1,a={};ea(()=>{var s=r();Au(s),o&&js(a,s)&&(a=s,i.update(s))}),o=!0}if(i!=null&&i.destroy)return()=>i.destroy()})}const Wl=[...` 	
\r\f \v\uFEFF`];function Xu(t,e,r){var i=t==null?"":""+t;if(e&&(i=i?i+" "+e:e),r){for(var o in r)if(r[o])i=i?i+" "+o:o;else if(i.length)for(var a=o.length,s=0;(s=i.indexOf(o,s))>=0;){var c=s+a;(s===0||Wl.includes(i[s-1]))&&(c===i.length||Wl.includes(i[c]))?i=(s===0?"":i.substring(0,s))+i.substring(c+1):s=c}}return i===""?null:i}function Rl(t,e=!1){var r=e?" !important;":";",i="";for(var o in t){var a=t[o];a!=null&&a!==""&&(i+=" "+o+": "+a+r)}return i}function $a(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function Uu(t,e){if(e){var r="",i,o;if(Array.isArray(e)?(i=e[0],o=e[1]):i=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var a=!1,s=0,c=!1,f=[];i&&f.push(...Object.keys(i).map($a)),o&&f.push(...Object.keys(o).map($a));var l=0,g=-1;const _=t.length;for(var d=0;d<_;d++){var u=t[d];if(c?u==="/"&&t[d-1]==="*"&&(c=!1):a?a===u&&(a=!1):u==="/"&&t[d+1]==="*"?c=!0:u==='"'||u==="'"?a=u:u==="("?s++:u===")"&&s--,!c&&a===!1&&s===0){if(u===":"&&g===-1)g=d;else if(u===";"||d===_-1){if(g!==-1){var h=$a(t.substring(l,g).trim());if(!f.includes(h)){u!==";"&&d++;var p=t.substring(l,d).trim();r+=" "+p+";"}}l=d+1,g=-1}}}}return i&&(r+=Rl(i)),o&&(r+=Rl(o,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function cn(t,e,r,i,o,a){var s=t.__className;if(s!==r||s===void 0){var c=Xu(r,i,a);c==null?t.removeAttribute("class"):t.className=c,t.__className=r}else if(a&&o!==a)for(var f in a){var l=!!a[f];(o==null||l!==!!o[f])&&t.classList.toggle(f,l)}return a}function ts(t,e={},r,i){for(var o in r){var a=r[o];e[o]!==a&&(r[o]==null?t.style.removeProperty(o):t.style.setProperty(o,a,i))}}function ke(t,e,r,i){var o=t.__style;if(o!==e){var a=Uu(e,i);a==null?t.removeAttribute("style"):t.style.cssText=a,t.__style=e}else i&&(Array.isArray(i)?(ts(t,r==null?void 0:r[0],i[0]),ts(t,r==null?void 0:r[1],i[1],"important")):ts(t,r,i));return i}function es(t,e,r=!1){if(t.multiple){if(e==null)return;if(!vo(e))return Df();for(var i of t.options)i.selected=e.includes(Ll(i));return}for(i of t.options){var o=Ll(i);if(hu(o,e)){i.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function Il(t){var e=new MutationObserver(()=>{es(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Xa(()=>{e.disconnect()})}function Ll(t){return"__value"in t?t.__value:t.value}const qu=Symbol("is custom element"),Yu=Symbol("is html");function Fl(t,e){var r=ns(t);r.value===(r.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function Zu(t,e){var r=ns(t);r.checked!==(r.checked=e??void 0)&&(t.checked=e)}function A(t,e,r,i){var o=ns(t);o[e]!==(o[e]=r)&&(e==="loading"&&(t[mf]=r),r==null?t.removeAttribute(e):typeof r!="string"&&Ku(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function ns(t){return t.__attributes??(t.__attributes={[qu]:t.nodeName.includes("-"),[Yu]:t.namespaceURI===uf})}var Pl=new Map;function Ku(t){var e=t.getAttribute("is")||t.nodeName,r=Pl.get(e);if(r)return r;Pl.set(e,r=[]);for(var i,o=t,a=Element.prototype;a!==o;){i=Fs(o);for(var s in i)i[s].set&&r.push(s);o=Uo(o)}return r}function zl(t,e){return t===e||(t==null?void 0:t[wr])===e}function ei(t={},e,r,i){return fl(()=>{var o,a;return ea(()=>{o=a,a=[],ia(()=>{t!==r(...a)&&(e(t,...a),o&&zl(r(...o),t)&&e(null,...o))})}),()=>{Gi(()=>{a&&zl(r(...a),t)&&e(null,...a)})}}),t}function Bn(t,e,r,i){var o=i,a=!0,s=()=>(a&&(a=!1,o=i),o),c;c=t[e],c===void 0&&i!==void 0&&(c=s());var f;return f=()=>{var l=t[e];return l===void 0?s():(a=!0,l)},f}function yn(t,e){ea(()=>{const r=new Map,i=t(),o=vo(i)?i:i==null?[]:Array.from(i),a=o.length;for(let s=0;s<a;s++){const c=e(o[s],s);if(r.has(c)){const f=String(r.get(c)),l=String(s);let g=String(c);g.startsWith("[object ")&&(g=null),Ef(f,l,g)}r.set(c,s)}})}function Dl(t,...e){return ia(()=>{try{let r=!1;const i=[];for(const o of e)o&&typeof o=="object"&&wr in o?(i.push(Uf(o,!0)),r=!0):i.push(o);r&&(Ff(t),console.log("%c[snapshot]","color: grey",...i))}catch{}}),e}const Qu="5";typeof window<"u"&&((tf=window.__svelte??(window.__svelte={})).v??(tf.v=new Set)).add(Qu);function Bl(t){var i,o;const e=((i=t==null?void 0:t.shapes)==null?void 0:i.lineWidth)??1.5,r=((o=t==null?void 0:t.colors)==null?void 0:o.intervalLine)??"#475569";return{width:Math.max(4,Math.round(e*3)),height:Math.max(6,Math.round(e*4)),color:r,opacity:1}}function aa(t,e,r,i){const{width:o,height:a}=i,s=a/2;return t==="left"?`M ${e} ${r} L ${e+o} ${r-s} L ${e+o} ${r+s} Z`:`M ${e} ${r} L ${e-o} ${r-s} L ${e-o} ${r+s} Z`}const Gl=[1,5,2,2.5,4,3],Er=[.001,.002,.005,.01,.02,.05,.1,.15,.2,.25,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.75,2,2.5,3,4,5,6,7,8,10,12,15,20,25,30,40,50,75,100,150,200,300,500,750,1e3];function sa(t,e){return e?Ju(t):$u(t)}function Ju(t){if(t[0]<=0||t[1]<=0)return[.1,10];if(t[0]>=t[1])return t;let e=Er[0];for(const i of Er)if(i<=t[0])e=i;else break;t[0]<Er[0]&&(e=Math.pow(10,Math.floor(Math.log10(t[0]))));let r=Er[Er.length-1];for(let i=Er.length-1;i>=0&&Er[i]>=t[1];i--)r=Er[i];return t[1]>Er[Er.length-1]&&(r=Math.pow(10,Math.ceil(Math.log10(t[1])))),[e,r]}function $u(t){const e=t[1]-t[0];if(e===0)return t;if(e<0)return[t[1],t[0]];const r=Math.pow(10,Math.floor(Math.log10(e)));let i=r,o=1/0;for(const c of Gl)for(const f of[.1,1,10]){const l=c*r*f;if(l<=0)continue;const g=Math.floor(t[0]/l)*l,h=(Math.ceil(t[1]/l)*l-g)/e-1;h>=0&&h<o&&(o=h,i=l)}const a=Math.floor(t[0]/i)*i,s=Math.ceil(t[1]/i)*i;return[Math.round(a*1e10)/1e10,Math.round(s*1e10)/1e10]}function Zn(t,e,r,i,o=!1){if(t&&r in t){const a=t[r];if(typeof a=="number"&&Number.isFinite(a)&&(!o||a>0))return a}return r===i&&e!=null&&Number.isFinite(e)&&(!o||e>0)?e:null}const yi=12;function Vl(t){const{rows:e,config:r,scale:i,nullValue:o,forestWidth:a,pointSize:s,effects:c=[],pointCol:f,lowerCol:l,upperCol:g}=t,d=td(e,r,i,o,c,f,l,g),u=ed(d,r,i,a,s),h=Ol(d,r,i,o);return{axisLimits:d,plotRegion:u,ticks:h}}function td(t,e,r,i,o=[],a,s,c){const f=e.rangeMin!=null,l=e.rangeMax!=null;if(f&&l)return[e.rangeMin,e.rangeMax];const g=[],d=r==="log",u=a||"point";for(const J of t){const kt=Zn(J.metadata,void 0,u,"point",d);kt!=null&&g.push(kt);for(const vt of o){const st=Zn(J.metadata,void 0,vt.pointCol,"point",d);st!=null&&g.push(st)}}if(g.length===0)return r==="log"?[.1,10]:[-1,1];let h=Math.min(...g),p=Math.max(...g);(e.includeNull??!0)&&(h=Math.min(h,i),p=Math.max(p,i));const y=h,x=p;let T;if(d){const J=Math.max(h,.001),kt=Math.max(p,.001);T=Math.log(kt)-Math.log(J)}else T=p-h;if(T===0||!Number.isFinite(T)){const J=g[0];if(d)return sa([J/2,J*2],!0);{const kt=Math.max(1,Math.abs(J)*.1);return sa([J-kt,J+kt],!1)}}const[I,F]=sa([h,p],d),k=e.ciClipFactor??2;let H=I,b=F;const C=[],z=[],E=s||"lower",N=c||"upper";for(const J of t){const kt=Zn(J.metadata,void 0,E,"lower",d);kt!=null&&C.push(kt);const vt=Zn(J.metadata,void 0,N,"upper",d);vt!=null&&z.push(vt);for(const st of o){const lt=Zn(J.metadata,void 0,st.lowerCol,"lower",d);lt!=null&&C.push(lt);const ct=Zn(J.metadata,void 0,st.upperCol,"upper",d);ct!=null&&z.push(ct)}}let M,D;if(d)M=H/k,D=b*k;else{const J=b-H;M=H-J*k,D=b+J*k}let B=!1,rt=!1;for(const J of C)J>=M?H=Math.min(H,J):B=!0;for(const J of z)J<=D?b=Math.max(b,J):rt=!0;if(B&&(H=Math.min(H,M)),rt&&(b=Math.max(b,D)),e.symmetric===!0&&!f&&!l)if(r==="log"){const J=Math.log(i),kt=Math.max(Math.abs(Math.log(Math.max(y,.001))-J),Math.abs(Math.log(x)-J));H=Math.exp(J-kt),b=Math.exp(J+kt)}else{const J=Math.max(Math.abs(y-i),Math.abs(x-i));H=i-J,b=i+J}let et=f?e.rangeMin:H,wt=l?e.rangeMax:b;return sa([et,wt],r==="log")}function ed(t,e,r,i,o){if(!(e.markerMargin??!0)||i<=0)return t;const s=i-2*yi;if(s<=0)return t;if(r==="log"){const l=Math.log(Math.max(t[0],.001)),g=Math.log(Math.max(t[1],.001)),d=g-l,u=o/2*(d/s),h=Math.min(u,.5);return[Math.exp(l-h),Math.exp(g+h)]}const c=t[1]-t[0],f=o/2*(c/s);return[t[0]-f,t[1]+f]}function Ol(t,e,r,i){const[o,a]=t,s=i>=o&&i<=a,c=(e.nullTick??!0)&&s;if(e.tickValues&&e.tickValues.length>0){let g=e.tickValues.filter(d=>d>=o&&d<=a);return c&&!g.includes(i)&&(g=[...g,i].sort((d,u)=>d-u)),g}const f=e.tickCount??5;let l=r==="log"?rd(t,f):nd(t,f);return c&&!l.includes(i)&&(l=[...l,i].sort((g,d)=>g-d)),l}function nd(t,e){const[r,i]=t,o=i-r;if(o===0)return[r];const a=o/Math.max(e-1,1),s=Math.pow(10,Math.floor(Math.log10(a)));let c=s,f=1/0;for(const d of Gl){const u=d*s,h=Math.floor(o/u)+1,p=Math.abs(h-e);p<f&&(f=p,c=u);const _=d*s/10;if(_>0){const y=Math.floor(o/_)+1,x=Math.abs(y-e);x<f&&(f=x,c=_)}}const l=Math.ceil(r/c)*c,g=[];for(let d=l;d<=i+c*.001;d+=c){const u=Math.round(d*1e10)/1e10;u>=r&&u<=i&&g.push(u)}return g.length<2&&(g.includes(r)||g.unshift(r),g.includes(i)||g.push(i)),g}function rd(t,e){const[r,i]=t,a=[.01,.02,.05,.1,.15,.2,.25,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.75,2,2.5,3,4,5,6,7,8,10,12,15,20,25,30,40,50,75,100,150,200,500,1e3].filter(f=>f>=r&&f<=i);if(a.length<=e)return a;const s=[1,.1,10,100,.5,2,5,.2,.25,1.5,3,4,20,50],c=[];for(const f of s)a.includes(f)&&c.length<e&&c.push(f);if(c.length<e){const f=a.filter(g=>!c.includes(g)),l=Math.max(1,Math.floor(f.length/(e-c.length)));for(let g=0;g<f.length&&c.length<e;g+=l)c.push(f[g])}return c.sort((f,l)=>f-l)}const id=.05,od=.12,ad=.16,sd=.22,Kn={RENDERING_BUFFER:4,DEFAULT_AXIS_GAP:12},kr={FONT_SCALE:.8,PADDING:4,GAP:6},Qn={DEFAULT_COLUMN_WIDTH:100,AXIS_HEIGHT:32,AXIS_LABEL_HEIGHT:32,BOTTOM_MARGIN:16,MIN_FOREST_WIDTH:200,DEFAULT_WIDTH:800,COLUMN_GAP:16},Jn={TITLE_HEIGHT:28,SUBTITLE_HEIGHT:20,CAPTION_HEIGHT:16,FOOTNOTE_HEIGHT:14,DEFAULT_FONT_SIZE:14,REM_BASE:16,TEXT_BASELINE_ADJUSTMENT:1/3},Ae={INDENT_PER_LEVEL:12,TEXT_PADDING:10,DEFAULT_TICK_COUNT:5,AXIS_LABEL_PADDING:30},jl={GROUP_HEADER_HEIGHT_MULTIPLIER:1.3,OVERALL_ROW_HEIGHT_MULTIPLIER:1.5},$n={MIN:60,MAX:600,LABEL_MAX:400,VISUAL_MIN:{sparkline:92,bar:100,stars:84,range:84,badge:74,forest:200,viz_bar:150,viz_boxplot:150,viz_violin:150}},ni={CHEVRON_WIDTH:12,GAP:6,SAFETY_MARGIN:8},Xl={SPACING:6},Ul={EDGE_THRESHOLD:35,MIN_TICK_SPACING:50},Ho={success:"#16a34a",warning:"#d97706",error:"#dc2626",info:"#2563eb"};function ql(t,e){return e<=1?0:-((e-1)*Xl.SPACING)/2+t*Xl.SPACING}Ge[P]="src/components/forest/RowInterval.svelte";var ld=V(Ht('<polygon stroke-width="1" class="point-estimate svelte-1wct561"></polygon>'),Ge[P],[[251,10]]),cd=V(Ht("<path></path>"),Ge[P],[[276,12]]),fd=V(Ht("<line></line>"),Ge[P],[[282,12]]),ud=V(Ht("<path></path>"),Ge[P],[[293,12]]),dd=V(Ht("<line></line>"),Ge[P],[[299,12]]),hd=V(Ht('<circle class="point-estimate svelte-1wct561"></circle>'),Ge[P],[[314,12]]),gd=V(Ht('<polygon class="point-estimate svelte-1wct561"></polygon>'),Ge[P],[[329,12]]),vd=V(Ht('<polygon class="point-estimate svelte-1wct561"></polygon>'),Ge[P],[[341,12]]),pd=V(Ht('<rect class="point-estimate svelte-1wct561"></rect>'),Ge[P],[[349,12]]),md=V(Ht("<line></line><!><!><!>",1),Ge[P],[[266,10]]),_d=V(Ht('<g class="interval-row svelte-1wct561" role="button" tabindex="0"></g>'),Ge[P],[[218,2]]);function Ge(t,e){Se(new.target),_e(e,!0,Ge);let r=Bn(e,"weightCol",3,null),i=Bn(e,"isLog",3,!1),o=Bn(e,"forestColumnOptions",3,null);const a=v(m(()=>Bl(e.theme)),"arrowConfig"),s=v(m(()=>{if(!o())return[];const b=w(o().scale,"log")||i();if(o().point&&o().lower&&o().upper){const C=e.row.metadata[o().point],z=e.row.metadata[o().lower],E=e.row.metadata[o().upper],N=!b||de(C,null,!1)&&C>0?C:null,M=!b||de(z,null,!1)&&z>0?z:null,D=!b||de(E,null,!1)&&E>0?E:null;return[{id:"inline",pointCol:o().point,lowerCol:o().lower,upperCol:o().upper,label:null,color:null,shape:null,opacity:null,point:N,lower:M,upper:D}]}return o().effects&&o().effects.length>0?o().effects.map(C=>({...C,point:Zn(e.row.metadata,null,C.pointCol,"point",b),lower:Zn(e.row.metadata,null,C.lowerCol,"lower",b),upper:Zn(e.row.metadata,null,C.upperCol,"upper",b)})):[]}),"effectsToRender"),c=v(m(()=>n(s).some(b=>de(b.point,null,!1)&&!Number.isNaN(b.point)&&de(b.lower,null,!1)&&!Number.isNaN(b.lower)&&de(b.upper,null,!1)&&!Number.isNaN(b.upper))),"hasAnyValidValues"),f=v(m(()=>{var b;return w((b=e.row.style)==null?void 0:b.type,"summary")}),"isSummaryRow");function l(b){return e.clipBounds?b<e.clipBounds[0]:e.xScale(b)<0}function g(b){return e.clipBounds?b>e.clipBounds[1]:e.xScale(b)>e.layout.forestWidth}function d(b){if(!e.clipBounds)return Math.max(0,Math.min(e.layout.forestWidth,e.xScale(b)));const C=Math.max(e.clipBounds[0],Math.min(e.clipBounds[1],b));return e.xScale(C)}const u=v(m(()=>e.clipBounds?e.xScale(e.clipBounds[0]):yi),"leftArrowX"),h=v(m(()=>e.clipBounds?e.xScale(e.clipBounds[1]):e.layout.forestWidth-yi),"rightArrowX"),p=v(m(()=>{var b;return((b=e.theme)==null?void 0:b.shapes.summaryHeight)??10}),"diamondHeight"),_=v(m(()=>n(p)/2),"halfDiamondHeight"),y=v(m(()=>{var b;return((b=e.theme)==null?void 0:b.shapes.pointSize)??6}),"basePointSize");function x(b){var z;if(b&&de((z=e.row.markerStyle)==null?void 0:z.size,null,!1))return n(y)*e.row.markerStyle.size;const C=r()?e.row.metadata[r()]:void 0;if(C){const E=.5+Math.sqrt(C/100)*1.5;return Math.min(Math.max(n(y)*E,3),n(y)*2.5)}return n(y)}function T(b,C){var et,wt,J,kt;const z=w(C,0),E=e.row.markerStyle,N=(et=e.theme)==null?void 0:et.shapes.effectColors,M=(wt=e.theme)==null?void 0:wt.shapes.markerShapes,D=["square","circle","diamond","triangle"];let B;z&&(E!=null&&E.color)?B=E.color:b.color?B=b.color:N&&N.length>0?B=N[C%N.length]:B=((J=e.theme)==null?void 0:J.colors.interval)??((kt=e.theme)==null?void 0:kt.colors.primary)??"#2563eb";let rt;z&&(E!=null&&E.shape)?rt=E.shape:b.shape?rt=b.shape:M&&M.length>0?rt=M[C%M.length]:rt=D[C%D.length];let nt;return z&&de(E==null?void 0:E.opacity,null,!1)?nt=E.opacity:de(b.opacity,null,!1)?nt=b.opacity:nt=1,{color:B,shape:rt,opacity:nt}}var I={...Ee()},F=St(),k=ut(F);{var H=b=>{var C=_d();C.__click=function(...z){dr(()=>e.onRowClick,this,z,Ge,[222,13])},C.__keydown=z=>{var E;return w(z.key,"Enter")&&((E=e.onRowClick)==null?void 0:E.call(e))},W(()=>Ne(C,21,()=>n(s),Yn,(z,E,N)=>{const M=v(m(()=>de(n(E).point,null,!1)&&!Number.isNaN(n(E).point)&&de(n(E).lower,null,!1)&&!Number.isNaN(n(E).lower)&&de(n(E).upper,null,!1)&&!Number.isNaN(n(E).upper)),"hasValidEffect");n(M);var D=St(),B=ut(D);{var rt=nt=>{const et=v(m(()=>e.yPosition+ql(N,n(s).length)),"effectY");n(et);const wt=v(m(()=>e.xScale(n(E).lower)),"x1");n(wt);const J=v(m(()=>e.xScale(n(E).upper)),"x2");n(J);const kt=v(m(()=>e.xScale(n(E).point)),"cx");n(kt);const vt=v(m(()=>T(n(E),N)),"style");n(vt);const st=v(m(()=>x(w(N,0))),"pointSize");n(st);const lt=v(m(()=>{var Ct;return((Ct=e.theme)==null?void 0:Ct.colors.intervalLine)??"#475569"}),"lineColor");n(lt);var ct=St(),qt=ut(ct);{var Yt=Ct=>{const re=v(m(()=>[`${n(wt)},${n(et)}`,`${n(kt)},${n(et)-n(_)}`,`${n(J)},${n(et)}`,`${n(kt)},${n(et)+n(_)}`].join(" ")),"summaryDiamondPoints");n(re);var pt=ld();Z(()=>{var zt;A(pt,"points",n(re)),A(pt,"fill",n(vt).color),A(pt,"fill-opacity",n(vt).opacity),A(pt,"stroke",((zt=e.theme)==null?void 0:zt.colors.summaryBorder)??"#1d4ed8")}),R(Ct,pt)},dt=Ct=>{const re=v(m(()=>l(n(E).lower)),"clippedL");n(re);const pt=v(m(()=>g(n(E).upper)),"clippedR");n(pt);const zt=v(m(()=>d(n(E).lower)),"clampedX1");n(zt);const Ve=v(m(()=>d(n(E).upper)),"clampedX2");n(Ve);const _t=v(m(()=>n(a).height/2),"whiskerHalfHeight");n(_t);const Nt=v(m(()=>d(n(E).point)),"clampedCx");n(Nt);var he=md(),Je=ut(he),Xe=K(Je);{var Ln=jt=>{var Gt=cd();Z(Pe=>{A(Gt,"d",Pe),A(Gt,"fill",n(a).color),A(Gt,"fill-opacity",n(a).opacity)},[()=>aa("left",n(u),n(et),n(a))]),R(jt,Gt)},ee=jt=>{var Gt=fd();Z(()=>{var Pe;A(Gt,"x1",n(zt)),A(Gt,"x2",n(zt)),A(Gt,"y1",n(et)-n(_t)),A(Gt,"y2",n(et)+n(_t)),A(Gt,"stroke",n(lt)),A(Gt,"stroke-width",((Pe=e.theme)==null?void 0:Pe.shapes.lineWidth)??1.5)}),R(jt,Gt)};W(()=>j(Xe,jt=>{n(re)?jt(Ln):jt(ee,!1)}),"if",Ge,275,10)}var Ce=K(Xe);{var Ue=jt=>{var Gt=ud();Z(Pe=>{A(Gt,"d",Pe),A(Gt,"fill",n(a).color),A(Gt,"fill-opacity",n(a).opacity)},[()=>aa("right",n(h),n(et),n(a))]),R(jt,Gt)},Oe=jt=>{var Gt=dd();Z(()=>{var Pe;A(Gt,"x1",n(Ve)),A(Gt,"x2",n(Ve)),A(Gt,"y1",n(et)-n(_t)),A(Gt,"y2",n(et)+n(_t)),A(Gt,"stroke",n(lt)),A(Gt,"stroke-width",((Pe=e.theme)==null?void 0:Pe.shapes.lineWidth)??1.5)}),R(jt,Gt)};W(()=>j(Ce,jt=>{n(pt)?jt(Ue):jt(Oe,!1)}),"if",Ge,292,10)}var qe=K(Ce);{var En=jt=>{var Gt=hd();Z(()=>{A(Gt,"cx",n(Nt)),A(Gt,"cy",n(et)),A(Gt,"r",n(st)),A(Gt,"fill",n(vt).color),A(Gt,"fill-opacity",n(vt).opacity)}),R(jt,Gt)},an=jt=>{var Gt=St(),Pe=ut(Gt);{var sr=xn=>{const $e=v(m(()=>[`${n(Nt)},${n(et)-n(st)}`,`${n(Nt)+n(st)},${n(et)}`,`${n(Nt)},${n(et)+n(st)}`,`${n(Nt)-n(st)},${n(et)}`].join(" ")),"diamondPts");n($e);var kn=gd();Z(()=>{A(kn,"points",n($e)),A(kn,"fill",n(vt).color),A(kn,"fill-opacity",n(vt).opacity)}),R(xn,kn)},_r=xn=>{var $e=St(),kn=ut($e);{var Ur=Ye=>{const dn=v(m(()=>[`${n(Nt)},${n(et)-n(st)}`,`${n(Nt)+n(st)},${n(et)+n(st)}`,`${n(Nt)-n(st)},${n(et)+n(st)}`].join(" ")),"trianglePts");n(dn);var Fn=vd();Z(()=>{A(Fn,"points",n(dn)),A(Fn,"fill",n(vt).color),A(Fn,"fill-opacity",n(vt).opacity)}),R(Ye,Fn)},wn=Ye=>{var dn=pd();Z(()=>{A(dn,"x",n(Nt)-n(st)),A(dn,"y",n(et)-n(st)),A(dn,"width",n(st)*2),A(dn,"height",n(st)*2),A(dn,"fill",n(vt).color),A(dn,"fill-opacity",n(vt).opacity)}),R(Ye,dn)};W(()=>j(kn,Ye=>{w(n(vt).shape,"triangle")?Ye(Ur):Ye(wn,!1)},!0),"if",Ge,335,10)}R(xn,$e)};W(()=>j(Pe,xn=>{w(n(vt).shape,"diamond")?xn(sr):xn(_r,!1)},!0),"if",Ge,322,10)}R(jt,Gt)};W(()=>j(qe,jt=>{w(n(vt).shape,"circle")?jt(En):jt(an,!1)}),"if",Ge,313,10)}Z(()=>{var jt;A(Je,"x1",n(zt)),A(Je,"x2",n(Ve)),A(Je,"y1",n(et)),A(Je,"y2",n(et)),A(Je,"stroke",n(lt)),A(Je,"stroke-width",((jt=e.theme)==null?void 0:jt.shapes.lineWidth)??1.5)}),R(Ct,he)};W(()=>j(qt,Ct=>{n(f)?Ct(Yt):Ct(dt,!1)}),"if",Ge,240,8)}R(nt,ct)};W(()=>j(B,nt=>{n(M)&&nt(rt)}),"if",Ge,231,6)}R(z,D)}),"each",Ge,227,4),Dn("mouseenter",C,z=>{var E;return(E=e.onRowHover)==null?void 0:E.call(e,!0,z)}),Dn("mouseleave",C,z=>{var E;return(E=e.onRowHover)==null?void 0:E.call(e,!1,z)}),R(b,C)};W(()=>j(k,b=>{n(c)&&b(H)}),"if",Ge,217,0)}return R(t,F),ye(I)}$r(["click","keydown"]),Nn[P]="src/components/forest/EffectAxis.svelte";function yd(t){return Math.abs(t)<.01?"0":Math.abs(t)>=100?t.toFixed(0):Math.abs(t)>=10?t.toFixed(1):t.toFixed(2)}var xd=V(Ht('<line stroke="var(--wf-border, #e2e8f0)" stroke-width="1" opacity="0.5"></line>'),Nn[P],[[171,6]]),wd=V(Ht('<g><line stroke="var(--wf-border, #e2e8f0)" stroke-width="1"></line><text fill="var(--wf-secondary, #64748b)" font-size="var(--wf-font-size-sm, 0.75rem)" class="svelte-hf6bj6"> </text></g>'),Nn[P],[[187,4,[[188,6],[194,6]]]]),bd=V(Ht('<text text-anchor="middle" fill="var(--wf-secondary, #64748b)" font-size="var(--wf-font-size-sm, 0.75rem)" font-weight="500" class="svelte-hf6bj6"> </text>'),Nn[P],[[208,4]]),Md=V(Ht('<g class="effect-axis svelte-hf6bj6"><line stroke="var(--wf-border, #e2e8f0)" stroke-width="1"></line><!><!><!></g>'),Nn[P],[[157,0,[[159,2]]]]);function Nn(t,e){Se(new.target),_e(e,!0,Nn);let r=Bn(e,"position",3,"bottom"),i=Bn(e,"plotHeight",3,0);const o=v(m(()=>{var b;return(b=e.theme)==null?void 0:b.axis}),"axisConfig"),a=v(m(()=>{var b;return e.gridlines??((b=n(o))==null?void 0:b.gridlines)??!1}),"showGridlines"),s=v(m(()=>{var b;return((b=n(o))==null?void 0:b.gridlineStyle)??"dotted"}),"gridlineStyle"),c=35,f=v(m(()=>{var b;return((b=n(o))==null?void 0:b.nullTick)??!0}),"shouldIncludeNullTick"),l=v(m(()=>{var qt,Yt;const[b,C]=e.xScale.domain(),z=e.layout.nullValue,E=z>=b&&z<=C;if((qt=n(o))!=null&&qt.tickValues&&n(o).tickValues.length>0){let dt=n(o).tickValues.filter(Ct=>Ct>=b&&Ct<=C);return n(f)&&E&&!dt.includes(z)&&(dt=[...dt,z].sort((Ct,re)=>Ct-re)),dt}const N=50,M=Math.max(2,Math.floor(e.layout.forestWidth/N)),B=((Yt=n(o))==null?void 0:Yt.tickCount)??null??Math.min(7,M),rt=e.baseTicks&&e.baseTicks.length>0?e.baseTicks.filter(dt=>dt>=b&&dt<=C):e.xScale.ticks(B);if(w(rt.length,0))return n(f)&&E?[z]:[];const nt=e.xScale(z),et=rt.filter(dt=>dt<z).reverse(),wt=rt.filter(dt=>dt>z),J=rt.some(dt=>w(dt,z)),kt=[];let vt=nt;for(const dt of et){const Ct=e.xScale(dt);vt-Ct>=N&&(kt.unshift(dt),vt=Ct)}const st=[];let lt=nt;for(const dt of wt){const Ct=e.xScale(dt);Ct-lt>=N&&(st.push(dt),lt=Ct)}const ct=[...kt];if((J||n(f)&&E)&&ct.push(z),ct.push(...st),ct.length<2){const dt=new Set(ct);dt.has(b)||ct.unshift(b),ct.length<2&&!dt.has(C)&&ct.push(C)}return ct}),"ticks"),g=v(m(()=>w(r(),"bottom")?0:e.layout.headerHeight-8),"axisY"),d=v(m(()=>w(r(),"bottom")),"isBottom"),u=v(m(()=>w(n(s),"dashed")?"4,4":w(n(s),"dotted")?"2,2":"none"),"gridlineDashArray");function h(b){return b<c?"start":b>e.layout.forestWidth-c?"end":"middle"}function p(b){return b<c?2:b>e.layout.forestWidth-c?-2:0}var _={...Ee()},y=Md(),x=U(y),T=K(x);{var I=b=>{var C=St(),z=ut(C);yn(()=>n(l),E=>E),W(()=>Ne(z,16,()=>n(l),E=>E,(E,N)=>{var M=xd();Z((D,B)=>{A(M,"x1",D),A(M,"x2",B),A(M,"y1",(n(d),n(g))),A(M,"y2",n(d)?-i():i()),A(M,"stroke-dasharray",n(u))},[()=>e.xScale(N),()=>e.xScale(N)]),R(E,M)}),"each",Nn,170,4),R(b,C)};W(()=>j(T,b=>{n(a)&&i()>0&&b(I)}),"if",Nn,169,2)}var F=K(T);yn(()=>n(l),b=>b),W(()=>Ne(F,16,()=>n(l),b=>b,(b,C)=>{const z=v(m(()=>e.xScale(C)),"tickX");n(z);var E=wd(),N=U(E),M=K(N),D=U(M,!0);Z((B,rt,nt)=>{A(E,"transform",`translate(${n(z)??""}, 0)`),A(N,"y1",n(d)?n(g):n(g)-4),A(N,"y2",n(d)?n(g)+4:n(g)),A(M,"x",B),A(M,"y",n(d)?n(g)+16:n(g)-8),A(M,"text-anchor",rt),Vt(D,nt)},[()=>p(n(z)),()=>h(n(z)),()=>yd(C)]),R(b,E)}),"each",Nn,185,2);var k=K(F);{var H=b=>{var C=bd(),z=U(C);Z(()=>{A(C,"x",e.layout.forestWidth/2),A(C,"y",n(d)?n(g)+28:n(g)-24),Vt(z,e.axisLabel)}),R(b,C)};W(()=>j(k,b=>{e.axisLabel&&b(H)}),"if",Nn,207,2)}return Z((b,C)=>{A(x,"x1",b),A(x,"x2",C),A(x,"y1",n(g)),A(x,"y2",n(g))},[()=>e.xScale.range()[0],()=>e.xScale.range()[1]]),R(t,y),ye(_)}ri[P]="src/components/forest/SummaryDiamond.svelte";var Sd=V(Ht('<path fill="var(--wf-summary-fill, #2563eb)"></path>'),ri[P],[[58,4]]),Ed=V(Ht('<path fill="var(--wf-summary-fill, #2563eb)"></path>'),ri[P],[[66,4]]),kd=V(Ht('<g class="summary-diamond svelte-1g0hzau"><polygon fill="var(--wf-summary-fill, #2563eb)" stroke="var(--wf-summary-border, #1d4ed8)" stroke-width="1" class="svelte-1g0hzau"></polygon><!><!></g>'),ri[P],[[47,0,[[49,2]]]]);function ri(t,e){Se(new.target),_e(e,!0,ri);const r=v(m(()=>{var p;return((p=e.theme)==null?void 0:p.shapes.summaryHeight)??10}),"diamondHeight"),i=v(m(()=>n(r)/2),"halfHeight"),o=v(m(()=>{const p=e.xScale(e.lower),_=e.xScale(e.point),y=e.xScale(e.upper),x=0,T=e.layout.forestWidth,I=Math.max(x,p),F=Math.min(T,y);return[[I,e.yPosition].join(","),[_,e.yPosition-n(i)].join(","),[F,e.yPosition].join(","),[_,e.yPosition+n(i)].join(",")].join(" ")}),"points"),a=v(m(()=>e.xScale(e.lower)<0),"clippedLeft"),s=v(m(()=>e.xScale(e.upper)>e.layout.forestWidth),"clippedRight");var c={...Ee()},f=kd(),l=U(f),g=K(l);{var d=p=>{var _=Sd();Z(()=>A(_,"d",`M 4 ${e.yPosition??""} L 10 ${e.yPosition-4} L 10 ${e.yPosition+4} Z`)),R(p,_)};W(()=>j(g,p=>{n(a)&&p(d)}),"if",ri,57,2)}var u=K(g);{var h=p=>{var _=Ed();Z(()=>A(_,"d",`M ${e.layout.forestWidth-4} ${e.yPosition??""} L ${e.layout.forestWidth-10} ${e.yPosition-4} L ${e.layout.forestWidth-10} ${e.yPosition+4} Z`)),R(p,_)};W(()=>j(u,p=>{n(s)&&p(h)}),"if",ri,65,2)}return Z(()=>A(l,"points",n(o))),R(t,f),ye(c)}tr[P]="src/components/forest/PlotHeader.svelte";var Cd=V(ot('<h2 class="plot-title svelte-xpghc"> </h2>'),tr[P],[[17,8]]),Td=V(ot('<p class="plot-subtitle svelte-xpghc"> </p>'),tr[P],[[20,8]]),Nd=V(ot('<div class="controls-area svelte-xpghc"><!></div>'),tr[P],[[24,6]]),Ad=V(ot('<div class="header-area svelte-xpghc"><div class="title-area svelte-xpghc"><!> <!></div> <!></div>'),tr[P],[[14,2,[[15,4]]]]);function tr(t,e){Se(new.target),_e(e,!0,tr);var r={...Ee()},i=St(),o=ut(i);{var a=s=>{var c=Ad(),f=U(c),l=U(f);{var g=_=>{var y=Cd(),x=U(y);Z(()=>Vt(x,e.title)),R(_,y)};W(()=>j(l,_=>{e.title&&_(g)}),"if",tr,16,6)}var d=K(l,2);{var u=_=>{var y=Td(),x=U(y);Z(()=>Vt(x,e.subtitle)),R(_,y)};W(()=>j(d,_=>{e.subtitle&&_(u)}),"if",tr,19,6)}var h=K(f,2);{var p=_=>{var y=Nd(),x=U(y);W(()=>Du(x,()=>e.controls),"render",tr,25,8),R(_,y)};W(()=>j(h,_=>{e.controls&&_(p)}),"if",tr,23,4)}R(s,c)};W(()=>j(o,s=>{(e.title||e.subtitle)&&s(a)}),"if",tr,13,0)}return R(t,i),ye(r)}Dr[P]="src/components/forest/PlotFooter.svelte";var Hd=V(ot('<p class="plot-caption svelte-7xjsde"> </p>'),Dr[P],[[13,6]]),Wd=V(ot('<p class="plot-footnote svelte-7xjsde"> </p>'),Dr[P],[[16,6]]),Rd=V(ot('<div class="plot-footer svelte-7xjsde"><!> <!></div>'),Dr[P],[[11,2]]);function Dr(t,e){Se(new.target),_e(e,!0,Dr);var r={...Ee()},i=St(),o=ut(i);{var a=s=>{var c=Rd(),f=U(c);{var l=u=>{var h=Hd(),p=U(h);Z(()=>Vt(p,e.caption)),R(u,h)};W(()=>j(f,u=>{e.caption&&u(l)}),"if",Dr,12,4)}var g=K(f,2);{var d=u=>{var h=Wd(),p=U(h);Z(()=>Vt(p,e.footnote)),R(u,h)};W(()=>j(g,u=>{e.footnote&&u(d)}),"if",Dr,15,4)}R(s,c)};W(()=>j(o,s=>{(e.caption||e.footnote)&&s(a)}),"if",Dr,10,0)}return R(t,i),ye(r)}Yi[P]="src/components/forest/GroupHeader.svelte";var Id=V(ot('<span class="group-count svelte-16smacw"> </span>'),Yi[P],[[64,4]]),Ld=V(ot('<div><span><svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path d="M2 4L6 8L10 4" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg></span> <span class="group-label svelte-16smacw"> </span> <!></div>'),Yi[P],[[49,0,[[57,2,[[58,4,[[59,6]]]]],[62,2]]]]);function Yi(t,e){Se(new.target),_e(e,!0,Yi);let r=Bn(e,"level",3,1);function i(_,y){const x=y==null?void 0:y.groupHeaders;return x?w(_,1)?{fontSize:x.level1FontSize,fontWeight:x.level1FontWeight,italic:x.level1Italic,borderBottom:x.level1BorderBottom}:w(_,2)?{fontSize:x.level2FontSize,fontWeight:x.level2FontWeight,italic:x.level2Italic,borderBottom:x.level2BorderBottom}:{fontSize:x.level3FontSize,fontWeight:x.level3FontWeight,italic:x.level3Italic,borderBottom:x.level3BorderBottom}:{fontSize:void 0,fontWeight:void 0,italic:!1,borderBottom:!1}}const o=v(m(()=>i(r(),e.theme)),"levelStyles");var a={...Ee()},s=Ld();let c,f;var l=U(s);let g;var d=K(l,2),u=U(d),h=K(d,2);{var p=_=>{var y=Id(),x=U(y);Z(()=>Vt(x,`(${e.rowCount??""})`)),R(_,y)};W(()=>j(h,_=>{w(e.rowCount,void 0,!1)&&_(p)}),"if",Yi,63,2)}return Z(()=>{c=cn(s,1,"group-header svelte-16smacw",null,c,{"has-border":n(o).borderBottom,italic:n(o).italic}),A(s,"aria-expanded",!e.group.collapsed),f=ke(s,"",f,{"font-size":n(o).fontSize,"font-weight":n(o).fontWeight}),g=cn(l,1,"group-chevron svelte-16smacw",null,g,{collapsed:e.group.collapsed}),Vt(u,e.group.label)}),R(t,s),ye(a)}xi[P]="src/components/ui/Tooltip.svelte";var Fd=V(ot('<div class="tooltip-row svelte-c43bsi"><span class="tooltip-label svelte-c43bsi"> </span> <span class="tooltip-value svelte-c43bsi"> </span></div>'),xi[P],[[77,8,[[78,10],[79,10]]]]),Pd=V(ot('<div class="tabviz-tooltip svelte-c43bsi"><div class="tooltip-header svelte-c43bsi"> </div> <div class="tooltip-body svelte-c43bsi"><div class="tooltip-row tooltip-estimate svelte-c43bsi"><span class="tooltip-label svelte-c43bsi">Estimate</span> <span class="tooltip-value svelte-c43bsi"> </span></div> <!></div></div>'),xi[P],[[67,2,[[68,4],[69,4,[[70,6,[[71,8],[72,8]]]]]]]]);function xi(t,e){Se(new.target),_e(e,!0,xi);let r=Bn(e,"fields",3,null),i=v(xt(void 0),"tooltipEl");function o(u){return w(u,null)||w(u,void 0)?"—":w(typeof u,"number")?Number.isInteger(u)?u.toString():u.toFixed(3):String(u)}const a=v(m(()=>!e.row||!r()||w(r().length,0)?[]:Object.entries(e.row.metadata).filter(([h])=>r().includes(h))),"displayFields"),s=v(m(()=>{if(!e.position)return"";const u=220,h=100,p=10;let _=e.position.x+p,y=e.position.y-p;const x=w(typeof window,"undefined",!1)?window.innerWidth:1e3;return w(typeof window,"undefined",!1)&&window.innerHeight,_+u>x-p&&(_=e.position.x-u-p),y-h<p?(y=e.position.y+p,`left: ${_}px; top: ${y}px; transform: none;`):`left: ${_}px; top: ${y}px;`}),"positionStyle"),c=v(m(()=>e.row&&e.position&&r()&&r().length>0),"shouldShow");var f={...Ee()},l=St(),g=ut(l);{var d=u=>{var h=Pd(),p=U(h),_=U(p),y=K(p,2),x=U(y),T=K(U(x),2),I=U(T),F=K(x,2);yn(()=>n(a),([k,H])=>k),W(()=>Ne(F,17,()=>n(a),([k,H])=>k,(k,H)=>{var b=m(()=>Ha(n(H),2));let C=()=>n(b)[0];C();let z=()=>n(b)[1];z();var E=Fd(),N=U(E),M=U(N,!0);var D=K(N,2),B=U(D,!0);Z(rt=>{Vt(M,C()),Vt(B,rt)},[()=>o(z())]),R(k,E)}),"each",xi,76,6),ei(h,k=>tt(i,k),()=>n(i)),Z((k,H,b)=>{ke(h,n(s)),Vt(_,e.row.label),Vt(I,`${k??""} (${H??""}, ${b??""})`)},[()=>o(e.row.point),()=>o(e.row.lower),()=>o(e.row.upper)]),R(u,h)};W(()=>j(g,u=>{n(c)&&u(d)}),"if",xi,66,0)}return R(t,l),ye(f)}wi[P]="src/components/table/CellBar.svelte";var zd=V(ot('<span class="bar-label svelte-1l4k3z2"> </span>'),wi[P],[[39,6]]),Dd=V(ot('<div class="cell-bar svelte-1l4k3z2"><div class="bar-track svelte-1l4k3z2"><div class="bar-fill svelte-1l4k3z2"></div></div> <!></div>'),wi[P],[[30,2,[[31,4,[[32,6]]]]]]);function wi(t,e){Se(new.target),_e(e,!0,wi);let r=Bn(e,"maxValue",3,100);const i=v(m(()=>{var u;return((u=e.options)==null?void 0:u.maxValue)??r()}),"effectiveMax"),o=v(m(()=>{var u;return((u=e.options)==null?void 0:u.showLabel)??!0}),"showLabel"),a=v(m(()=>{var u;return((u=e.options)==null?void 0:u.color)??"var(--wf-primary, #2563eb)"}),"barColor"),s=v(m(()=>()=>w(e.value,void 0)||w(e.value,null)||n(i)<=0?0:Math.min(100,Math.max(0,e.value/n(i)*100))),"percentage"),c=v(m(()=>()=>w(e.value,void 0)||w(e.value,null)?"":e.value>=100?e.value.toFixed(0):e.value>=10?e.value.toFixed(1):e.value.toFixed(2)),"formattedValue");var f={...Ee()},l=St(),g=ut(l);{var d=u=>{var h=Dd(),p=U(h),_=U(p);let y;var x=K(p,2);{var T=I=>{var F=zd(),k=U(F);Z(H=>Vt(k,H),[()=>n(c)()]),R(I,F)};W(()=>j(x,I=>{n(o)&&I(T)}),"if",wi,38,4)}Z(I=>y=ke(_,"",y,I),[()=>({width:`${n(s)()??""}%`,"background-color":n(a)})]),R(u,h)};W(()=>j(g,u=>{w(e.value,void 0,!1)&&w(e.value,null,!1)&&u(d)}),"if",wi,29,0)}return R(t,l),ye(f)}Zi[P]="src/components/table/CellPvalue.svelte";var Bd=V(ot('<span class="pvalue-stars svelte-1hymfkc"> </span>'),Zi[P],[[99,4]]),Gd=V(ot('<span><span class="pvalue-number svelte-1hymfkc"> </span> <!></span>'),Zi[P],[[86,0,[[97,2]]]]);function Zi(t,e){Se(new.target),_e(e,!0,Zi);const r=v(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.bold)??!1}),"isBold"),i=v(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.italic)??!1}),"isItalic"),o=v(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.color)??null}),"textColor"),a=v(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.bg)??null}),"bgColor"),s=v(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.emphasis)??!1}),"isEmphasis"),c=v(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.muted)??!1}),"isMuted"),f=v(m(()=>{var M;return((M=e.cellStyle)==null?void 0:M.accent)??!1}),"isAccent"),l={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻","+":"⁺"};function g(M){return M.split("").map(D=>l[D]??D).join("")}const d=v(m(()=>{var M;return((M=e.options)==null?void 0:M.stars)??!1}),"showStars"),u=v(m(()=>{var M;return((M=e.options)==null?void 0:M.thresholds)??[.05,.01,.001]}),"thresholds"),h=v(m(()=>{var M;return((M=e.options)==null?void 0:M.format)??"auto"}),"format"),p=v(m(()=>{var M;return((M=e.options)==null?void 0:M.digits)??2}),"digits"),_=v(m(()=>{var M;return((M=e.options)==null?void 0:M.expThreshold)??.001}),"expThreshold"),y=v(m(()=>{var M;return((M=e.options)==null?void 0:M.abbrevThreshold)??null}),"abbrevThreshold"),x=v(m(()=>{if(!n(d)||w(e.value,void 0)||w(e.value,null))return"";const[M,D,B]=n(u);return e.value<B?"***":e.value<D?"**":e.value<M?"*":""}),"stars"),T=v(m(()=>{if(w(e.value,void 0)||w(e.value,null))return"";if(w(n(y),null,!1)&&e.value<n(y))return`<${n(y)}`;if(w(n(h),"scientific")||w(n(h),"auto")&&e.value<n(_)){const M=Math.floor(Math.log10(e.value));return`${(e.value/Math.pow(10,M)).toPrecision(n(p))}×10${g(M.toString())}`}return e.value>=.1?e.value.toFixed(n(p)):e.value>=.01?e.value.toFixed(n(p)+1):e.value.toFixed(n(p)+2)}),"formattedValue"),I=v(m(()=>n(x).length>0),"isSignificant");var F={...Ee()},k=Gd();let H,b;var C=U(k),z=U(C),E=K(C,2);{var N=M=>{var D=Bd(),B=U(D);Z(()=>Vt(B,n(x))),R(M,D)};W(()=>j(E,M=>{n(x)&&M(N)}),"if",Zi,98,2)}return Z(()=>{H=cn(k,1,"cell-pvalue svelte-1hymfkc",null,H,{significant:n(I),"cell-bold":n(r),"cell-italic":n(i),"cell-emphasis":n(s),"cell-muted":n(c),"cell-accent":n(f)}),b=ke(k,"",b,{color:n(o),"background-color":n(a)}),Vt(z,n(T))}),R(t,k),ye(F)}function la(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Vd(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Yl(t){let e,r,i;t.length!==2?(e=la,r=(c,f)=>la(t(c),f),i=(c,f)=>t(c)-f):(e=t===la||t===Vd?t:Od,r=t,i=t);function o(c,f,l=0,g=c.length){if(l<g){if(e(f,f)!==0)return g;do{const d=l+g>>>1;r(c[d],f)<0?l=d+1:g=d}while(l<g)}return l}function a(c,f,l=0,g=c.length){if(l<g){if(e(f,f)!==0)return g;do{const d=l+g>>>1;r(c[d],f)<=0?l=d+1:g=d}while(l<g)}return l}function s(c,f,l=0,g=c.length){const d=o(c,f,l,g-1);return d>l&&i(c[d-1],f)>-i(c[d],f)?d-1:d}return{left:o,center:s,right:a}}function Od(){return 0}function jd(t){return t===null?NaN:+t}const Xd=Yl(la).right;Yl(jd).center;const Ud=Math.sqrt(50),qd=Math.sqrt(10),Yd=Math.sqrt(2);function ca(t,e,r){const i=(e-t)/Math.max(0,r),o=Math.floor(Math.log10(i)),a=i/Math.pow(10,o),s=a>=Ud?10:a>=qd?5:a>=Yd?2:1;let c,f,l;return o<0?(l=Math.pow(10,-o)/s,c=Math.round(t*l),f=Math.round(e*l),c/l<t&&++c,f/l>e&&--f,l=-l):(l=Math.pow(10,o)*s,c=Math.round(t/l),f=Math.round(e/l),c*l<t&&++c,f*l>e&&--f),f<c&&.5<=r&&r<2?ca(t,e,r*2):[c,f,l]}function rs(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const i=e<t,[o,a,s]=i?ca(e,t,r):ca(t,e,r);if(!(a>=o))return[];const c=a-o+1,f=new Array(c);if(i)if(s<0)for(let l=0;l<c;++l)f[l]=(a-l)/-s;else for(let l=0;l<c;++l)f[l]=(a-l)*s;else if(s<0)for(let l=0;l<c;++l)f[l]=(o+l)/-s;else for(let l=0;l<c;++l)f[l]=(o+l)*s;return f}function is(t,e,r){return e=+e,t=+t,r=+r,ca(t,e,r)[2]}function Zd(t,e,r){e=+e,t=+t,r=+r;const i=e<t,o=i?is(e,t,r):is(t,e,r);return(i?-1:1)*(o<0?1/-o:o)}function Zl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function os(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Kl(t,e){var r=Object.create(t.prototype);for(var i in e)r[i]=e[i];return r}function Wo(){}var Ro=.7,fa=1/Ro,Ki="\\s*([+-]?\\d+)\\s*",Io="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Cr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kd=/^#([0-9a-f]{3,8})$/,Qd=new RegExp(`^rgb\\(${Ki},${Ki},${Ki}\\)$`),Jd=new RegExp(`^rgb\\(${Cr},${Cr},${Cr}\\)$`),$d=new RegExp(`^rgba\\(${Ki},${Ki},${Ki},${Io}\\)$`),th=new RegExp(`^rgba\\(${Cr},${Cr},${Cr},${Io}\\)$`),eh=new RegExp(`^hsl\\(${Io},${Cr},${Cr}\\)$`),nh=new RegExp(`^hsla\\(${Io},${Cr},${Cr},${Io}\\)$`),Ql={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};os(Wo,Lo,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Jl,formatHex:Jl,formatHex8:rh,formatHsl:ih,formatRgb:$l,toString:$l});function Jl(){return this.rgb().formatHex()}function rh(){return this.rgb().formatHex8()}function ih(){return ic(this).formatHsl()}function $l(){return this.rgb().formatRgb()}function Lo(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Kd.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?tc(e):r===3?new An(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?ua(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?ua(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Qd.exec(t))?new An(e[1],e[2],e[3],1):(e=Jd.exec(t))?new An(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=$d.exec(t))?ua(e[1],e[2],e[3],e[4]):(e=th.exec(t))?ua(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=eh.exec(t))?rc(e[1],e[2]/100,e[3]/100,1):(e=nh.exec(t))?rc(e[1],e[2]/100,e[3]/100,e[4]):Ql.hasOwnProperty(t)?tc(Ql[t]):t==="transparent"?new An(NaN,NaN,NaN,0):null}function tc(t){return new An(t>>16&255,t>>8&255,t&255,1)}function ua(t,e,r,i){return i<=0&&(t=e=r=NaN),new An(t,e,r,i)}function oh(t){return t instanceof Wo||(t=Lo(t)),t?(t=t.rgb(),new An(t.r,t.g,t.b,t.opacity)):new An}function as(t,e,r,i){return arguments.length===1?oh(t):new An(t,e,r,i??1)}function An(t,e,r,i){this.r=+t,this.g=+e,this.b=+r,this.opacity=+i}os(An,as,Kl(Wo,{brighter(t){return t=t==null?fa:Math.pow(fa,t),new An(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ro:Math.pow(Ro,t),new An(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new An(bi(this.r),bi(this.g),bi(this.b),da(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ec,formatHex:ec,formatHex8:ah,formatRgb:nc,toString:nc}));function ec(){return`#${Mi(this.r)}${Mi(this.g)}${Mi(this.b)}`}function ah(){return`#${Mi(this.r)}${Mi(this.g)}${Mi(this.b)}${Mi((isNaN(this.opacity)?1:this.opacity)*255)}`}function nc(){const t=da(this.opacity);return`${t===1?"rgb(":"rgba("}${bi(this.r)}, ${bi(this.g)}, ${bi(this.b)}${t===1?")":`, ${t})`}`}function da(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function bi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Mi(t){return t=bi(t),(t<16?"0":"")+t.toString(16)}function rc(t,e,r,i){return i<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new hr(t,e,r,i)}function ic(t){if(t instanceof hr)return new hr(t.h,t.s,t.l,t.opacity);if(t instanceof Wo||(t=Lo(t)),!t)return new hr;if(t instanceof hr)return t;t=t.rgb();var e=t.r/255,r=t.g/255,i=t.b/255,o=Math.min(e,r,i),a=Math.max(e,r,i),s=NaN,c=a-o,f=(a+o)/2;return c?(e===a?s=(r-i)/c+(r<i)*6:r===a?s=(i-e)/c+2:s=(e-r)/c+4,c/=f<.5?a+o:2-a-o,s*=60):c=f>0&&f<1?0:s,new hr(s,c,f,t.opacity)}function sh(t,e,r,i){return arguments.length===1?ic(t):new hr(t,e,r,i??1)}function hr(t,e,r,i){this.h=+t,this.s=+e,this.l=+r,this.opacity=+i}os(hr,sh,Kl(Wo,{brighter(t){return t=t==null?fa:Math.pow(fa,t),new hr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ro:Math.pow(Ro,t),new hr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,o=2*r-i;return new An(ss(t>=240?t-240:t+120,o,i),ss(t,o,i),ss(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new hr(oc(this.h),ha(this.s),ha(this.l),da(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=da(this.opacity);return`${t===1?"hsl(":"hsla("}${oc(this.h)}, ${ha(this.s)*100}%, ${ha(this.l)*100}%${t===1?")":`, ${t})`}`}}));function oc(t){return t=(t||0)%360,t<0?t+360:t}function ha(t){return Math.max(0,Math.min(1,t||0))}function ss(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const ls=t=>()=>t;function lh(t,e){return function(r){return t+r*e}}function ch(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(i){return Math.pow(t+i*e,r)}}function fh(t){return(t=+t)==1?ac:function(e,r){return r-e?ch(e,r,t):ls(isNaN(e)?r:e)}}function ac(t,e){var r=e-t;return r?lh(t,r):ls(isNaN(t)?e:t)}const sc=(function t(e){var r=fh(e);function i(o,a){var s=r((o=as(o)).r,(a=as(a)).r),c=r(o.g,a.g),f=r(o.b,a.b),l=ac(o.opacity,a.opacity);return function(g){return o.r=s(g),o.g=c(g),o.b=f(g),o.opacity=l(g),o+""}}return i.gamma=t,i})(1);function uh(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,i=e.slice(),o;return function(a){for(o=0;o<r;++o)i[o]=t[o]*(1-a)+e[o]*a;return i}}function dh(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function hh(t,e){var r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r),s;for(s=0;s<i;++s)o[s]=us(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(c){for(s=0;s<i;++s)a[s]=o[s](c);return a}}function gh(t,e){var r=new Date;return t=+t,e=+e,function(i){return r.setTime(t*(1-i)+e*i),r}}function ga(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function vh(t,e){var r={},i={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?r[o]=us(t[o],e[o]):i[o]=e[o];return function(a){for(o in r)i[o]=r[o](a);return i}}var cs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fs=new RegExp(cs.source,"g");function ph(t){return function(){return t}}function mh(t){return function(e){return t(e)+""}}function _h(t,e){var r=cs.lastIndex=fs.lastIndex=0,i,o,a,s=-1,c=[],f=[];for(t=t+"",e=e+"";(i=cs.exec(t))&&(o=fs.exec(e));)(a=o.index)>r&&(a=e.slice(r,a),c[s]?c[s]+=a:c[++s]=a),(i=i[0])===(o=o[0])?c[s]?c[s]+=o:c[++s]=o:(c[++s]=null,f.push({i:s,x:ga(i,o)})),r=fs.lastIndex;return r<e.length&&(a=e.slice(r),c[s]?c[s]+=a:c[++s]=a),c.length<2?f[0]?mh(f[0].x):ph(e):(e=f.length,function(l){for(var g=0,d;g<e;++g)c[(d=f[g]).i]=d.x(l);return c.join("")})}function us(t,e){var r=typeof e,i;return e==null||r==="boolean"?ls(e):(r==="number"?ga:r==="string"?(i=Lo(e))?(e=i,sc):_h:e instanceof Lo?sc:e instanceof Date?gh:dh(e)?uh:Array.isArray(e)?hh:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?vh:ga)(t,e)}function yh(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function xh(t){return function(){return t}}function wh(t){return+t}var lc=[0,1];function Qi(t){return t}function ds(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:xh(isNaN(e)?NaN:.5)}function bh(t,e){var r;return t>e&&(r=t,t=e,e=r),function(i){return Math.max(t,Math.min(e,i))}}function Mh(t,e,r){var i=t[0],o=t[1],a=e[0],s=e[1];return o<i?(i=ds(o,i),a=r(s,a)):(i=ds(i,o),a=r(a,s)),function(c){return a(i(c))}}function Sh(t,e,r){var i=Math.min(t.length,e.length)-1,o=new Array(i),a=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)o[s]=ds(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(c){var f=Xd(t,c,1,i)-1;return a[f](o[f](c))}}function cc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function fc(){var t=lc,e=lc,r=us,i,o,a,s=Qi,c,f,l;function g(){var u=Math.min(t.length,e.length);return s!==Qi&&(s=bh(t[0],t[u-1])),c=u>2?Sh:Mh,f=l=null,d}function d(u){return u==null||isNaN(u=+u)?a:(f||(f=c(t.map(i),e,r)))(i(s(u)))}return d.invert=function(u){return s(o((l||(l=c(e,t.map(i),ga)))(u)))},d.domain=function(u){return arguments.length?(t=Array.from(u,wh),g()):t.slice()},d.range=function(u){return arguments.length?(e=Array.from(u),g()):e.slice()},d.rangeRound=function(u){return e=Array.from(u),r=yh,g()},d.clamp=function(u){return arguments.length?(s=u?!0:Qi,g()):s!==Qi},d.interpolate=function(u){return arguments.length?(r=u,g()):r},d.unknown=function(u){return arguments.length?(a=u,d):a},function(u,h){return i=u,o=h,g()}}function Eh(){return fc()(Qi,Qi)}function kh(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function va(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,i=t.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+t.slice(r+1)]}function Ji(t){return t=va(Math.abs(t)),t?t[1]:NaN}function Ch(t,e){return function(r,i){for(var o=r.length,a=[],s=0,c=t[0],f=0;o>0&&c>0&&(f+c+1>i&&(c=Math.max(1,i-f)),a.push(r.substring(o-=c,o+c)),!((f+=c+1)>i));)c=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Th(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Nh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fo(t){if(!(e=Nh.exec(t)))throw new Error("invalid format: "+t);var e;return new hs({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Fo.prototype=hs.prototype;function hs(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}hs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ah(t){t:for(var e=t.length,r=1,i=-1,o;r<e;++r)switch(t[r]){case".":i=o=r;break;case"0":i===0&&(i=r),o=r;break;default:if(!+t[r])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(o+1):t}var uc;function Hh(t,e){var r=va(t,e);if(!r)return t+"";var i=r[0],o=r[1],a=o-(uc=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+va(t,Math.max(0,e+a-1))[0]}function dc(t,e){var r=va(t,e);if(!r)return t+"";var i=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const hc={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:kh,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>dc(t*100,e),r:dc,s:Hh,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function gc(t){return t}var vc=Array.prototype.map,pc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Wh(t){var e=t.grouping===void 0||t.thousands===void 0?gc:Ch(vc.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?gc:Th(vc.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function l(d){d=Fo(d);var u=d.fill,h=d.align,p=d.sign,_=d.symbol,y=d.zero,x=d.width,T=d.comma,I=d.precision,F=d.trim,k=d.type;k==="n"?(T=!0,k="g"):hc[k]||(I===void 0&&(I=12),F=!0,k="g"),(y||u==="0"&&h==="=")&&(y=!0,u="0",h="=");var H=_==="$"?r:_==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",b=_==="$"?i:/[%p]/.test(k)?s:"",C=hc[k],z=/[defgprs%]/.test(k);I=I===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function E(N){var M=H,D=b,B,rt,nt;if(k==="c")D=C(N)+D,N="";else{N=+N;var et=N<0||1/N<0;if(N=isNaN(N)?f:C(Math.abs(N),I),F&&(N=Ah(N)),et&&+N==0&&p!=="+"&&(et=!1),M=(et?p==="("?p:c:p==="-"||p==="("?"":p)+M,D=(k==="s"?pc[8+uc/3]:"")+D+(et&&p==="("?")":""),z){for(B=-1,rt=N.length;++B<rt;)if(nt=N.charCodeAt(B),48>nt||nt>57){D=(nt===46?o+N.slice(B+1):N.slice(B))+D,N=N.slice(0,B);break}}}T&&!y&&(N=e(N,1/0));var wt=M.length+N.length+D.length,J=wt<x?new Array(x-wt+1).join(u):"";switch(T&&y&&(N=e(J+N,J.length?x-D.length:1/0),J=""),h){case"<":N=M+N+D+J;break;case"=":N=M+J+N+D;break;case"^":N=J.slice(0,wt=J.length>>1)+M+N+D+J.slice(wt);break;default:N=J+M+N+D;break}return a(N)}return E.toString=function(){return d+""},E}function g(d,u){var h=l((d=Fo(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(Ji(u)/3)))*3,_=Math.pow(10,-p),y=pc[8+p/3];return function(x){return h(_*x)+y}}return{format:l,formatPrefix:g}}var pa,gs,mc;Rh({thousands:",",grouping:[3],currency:["$",""]});function Rh(t){return pa=Wh(t),gs=pa.format,mc=pa.formatPrefix,pa}function Ih(t){return Math.max(0,-Ji(Math.abs(t)))}function Lh(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ji(e)/3)))*3-Ji(Math.abs(t)))}function Fh(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ji(e)-Ji(t))+1}function Ph(t,e,r,i){var o=Zd(t,e,r),a;switch(i=Fo(i??",f"),i.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(a=Lh(o,s))&&(i.precision=a),mc(i,s)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=Fh(o,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=Ih(o))&&(i.precision=a-(i.type==="%")*2);break}}return gs(i)}function zh(t){var e=t.domain;return t.ticks=function(r){var i=e();return rs(i[0],i[i.length-1],r??10)},t.tickFormat=function(r,i){var o=e();return Ph(o[0],o[o.length-1],r??10,i)},t.nice=function(r){r==null&&(r=10);var i=e(),o=0,a=i.length-1,s=i[o],c=i[a],f,l,g=10;for(c<s&&(l=s,s=c,c=l,l=o,o=a,a=l);g-- >0;){if(l=is(s,c,r),l===f)return i[o]=s,i[a]=c,e(i);if(l>0)s=Math.floor(s/l)*l,c=Math.ceil(c/l)*l;else if(l<0)s=Math.ceil(s*l)/l,c=Math.floor(c*l)/l;else break;f=l}return t},t}function er(){var t=Eh();return t.copy=function(){return cc(t,er())},Zl.apply(t,arguments),zh(t)}function Dh(t,e){t=t.slice();var r=0,i=t.length-1,o=t[r],a=t[i],s;return a<o&&(s=r,r=i,i=s,s=o,o=a,a=s),t[r]=e.floor(o),t[i]=e.ceil(a),t}function _c(t){return Math.log(t)}function yc(t){return Math.exp(t)}function Bh(t){return-Math.log(-t)}function Gh(t){return-Math.exp(-t)}function Vh(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Oh(t){return t===10?Vh:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jh(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function xc(t){return(e,r)=>-t(-e,r)}function Xh(t){const e=t(_c,yc),r=e.domain;let i=10,o,a;function s(){return o=jh(i),a=Oh(i),r()[0]<0?(o=xc(o),a=xc(a),t(Bh,Gh)):t(_c,yc),e}return e.base=function(c){return arguments.length?(i=+c,s()):i},e.domain=function(c){return arguments.length?(r(c),s()):r()},e.ticks=c=>{const f=r();let l=f[0],g=f[f.length-1];const d=g<l;d&&([l,g]=[g,l]);let u=o(l),h=o(g),p,_;const y=c==null?10:+c;let x=[];if(!(i%1)&&h-u<y){if(u=Math.floor(u),h=Math.ceil(h),l>0){for(;u<=h;++u)for(p=1;p<i;++p)if(_=u<0?p/a(-u):p*a(u),!(_<l)){if(_>g)break;x.push(_)}}else for(;u<=h;++u)for(p=i-1;p>=1;--p)if(_=u>0?p/a(-u):p*a(u),!(_<l)){if(_>g)break;x.push(_)}x.length*2<y&&(x=rs(l,g,y))}else x=rs(u,h,Math.min(h-u,y)).map(a);return d?x.reverse():x},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=i===10?"s":","),typeof f!="function"&&(!(i%1)&&(f=Fo(f)).precision==null&&(f.trim=!0),f=gs(f)),c===1/0)return f;const l=Math.max(1,i*c/e.ticks().length);return g=>{let d=g/a(Math.round(o(g)));return d*i<i-.5&&(d*=i),d<=l?f(g):""}},e.nice=()=>r(Dh(r(),{floor:c=>a(Math.floor(o(c))),ceil:c=>a(Math.ceil(o(c)))})),e}function Br(){const t=Xh(fc()).domain([1,10]);return t.copy=()=>cc(t,Br()).base(t.base()),Zl.apply(t,arguments),t}function rn(t){return function(){return t}}const wc=1e-12,vs=Math.PI,ps=2*vs,Si=1e-6,Uh=ps-Si;function bc(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function qh(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return bc;const r=10**e;return function(i){this._+=i[0];for(let o=1,a=i.length;o<a;++o)this._+=Math.round(arguments[o]*r)/r+i[o]}}class Yh{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?bc:qh(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,i,o){this._append`Q${+e},${+r},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(e,r,i,o,a,s){this._append`C${+e},${+r},${+i},${+o},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,i,o,a){if(e=+e,r=+r,i=+i,o=+o,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,c=this._y1,f=i-e,l=o-r,g=s-e,d=c-r,u=g*g+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(u>Si)if(!(Math.abs(d*f-l*g)>Si)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let h=i-s,p=o-c,_=f*f+l*l,y=h*h+p*p,x=Math.sqrt(_),T=Math.sqrt(u),I=a*Math.tan((vs-Math.acos((_+u-y)/(2*x*T)))/2),F=I/T,k=I/x;Math.abs(F-1)>Si&&this._append`L${e+F*g},${r+F*d}`,this._append`A${a},${a},0,0,${+(d*h>g*p)},${this._x1=e+k*f},${this._y1=r+k*l}`}}arc(e,r,i,o,a,s){if(e=+e,r=+r,i=+i,s=!!s,i<0)throw new Error(`negative radius: ${i}`);let c=i*Math.cos(o),f=i*Math.sin(o),l=e+c,g=r+f,d=1^s,u=s?o-a:a-o;this._x1===null?this._append`M${l},${g}`:(Math.abs(this._x1-l)>Si||Math.abs(this._y1-g)>Si)&&this._append`L${l},${g}`,i&&(u<0&&(u=u%ps+ps),u>Uh?this._append`A${i},${i},0,1,${d},${e-c},${r-f}A${i},${i},0,1,${d},${this._x1=l},${this._y1=g}`:u>Si&&this._append`A${i},${i},0,${+(u>=vs)},${d},${this._x1=e+i*Math.cos(a)},${this._y1=r+i*Math.sin(a)}`)}rect(e,r,i,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}}function Mc(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const i=Math.floor(r);if(!(i>=0))throw new RangeError(`invalid digits: ${r}`);e=i}return t},()=>new Yh(e)}function Sc(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ec(t){this._context=t}Ec.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function kc(t){return new Ec(t)}function Cc(t){return t[0]}function Tc(t){return t[1]}function Nc(t,e){var r=rn(!0),i=null,o=kc,a=null,s=Mc(c);t=typeof t=="function"?t:t===void 0?Cc:rn(t),e=typeof e=="function"?e:e===void 0?Tc:rn(e);function c(f){var l,g=(f=Sc(f)).length,d,u=!1,h;for(i==null&&(a=o(h=s())),l=0;l<=g;++l)!(l<g&&r(d=f[l],l,f))===u&&((u=!u)?a.lineStart():a.lineEnd()),u&&a.point(+t(d,l,f),+e(d,l,f));if(h)return a=null,h+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:rn(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:rn(+f),c):e},c.defined=function(f){return arguments.length?(r=typeof f=="function"?f:rn(!!f),c):r},c.curve=function(f){return arguments.length?(o=f,i!=null&&(a=o(i)),c):o},c.context=function(f){return arguments.length?(f==null?i=a=null:a=o(i=f),c):i},c}function Zh(t,e,r){var i=null,o=rn(!0),a=null,s=kc,c=null,f=Mc(l);t=typeof t=="function"?t:t===void 0?Cc:rn(+t),e=typeof e=="function"?e:rn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Tc:rn(+r);function l(d){var u,h,p,_=(d=Sc(d)).length,y,x=!1,T,I=new Array(_),F=new Array(_);for(a==null&&(c=s(T=f())),u=0;u<=_;++u){if(!(u<_&&o(y=d[u],u,d))===x)if(x=!x)h=u,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),p=u-1;p>=h;--p)c.point(I[p],F[p]);c.lineEnd(),c.areaEnd()}x&&(I[u]=+t(y,u,d),F[u]=+e(y,u,d),c.point(i?+i(y,u,d):I[u],r?+r(y,u,d):F[u]))}if(T)return c=null,T+""||null}function g(){return Nc().defined(o).curve(s).context(a)}return l.x=function(d){return arguments.length?(t=typeof d=="function"?d:rn(+d),i=null,l):t},l.x0=function(d){return arguments.length?(t=typeof d=="function"?d:rn(+d),l):t},l.x1=function(d){return arguments.length?(i=d==null?null:typeof d=="function"?d:rn(+d),l):i},l.y=function(d){return arguments.length?(e=typeof d=="function"?d:rn(+d),r=null,l):e},l.y0=function(d){return arguments.length?(e=typeof d=="function"?d:rn(+d),l):e},l.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:rn(+d),l):r},l.lineX0=l.lineY0=function(){return g().x(t).y(e)},l.lineY1=function(){return g().x(t).y(r)},l.lineX1=function(){return g().x(i).y(e)},l.defined=function(d){return arguments.length?(o=typeof d=="function"?d:rn(!!d),l):o},l.curve=function(d){return arguments.length?(s=d,a!=null&&(c=s(a)),l):s},l.context=function(d){return arguments.length?(d==null?a=c=null:c=s(a=d),l):a},l}function Ac(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function ms(t,e){this._context=t,this._k=(1-e)/6}ms.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ac(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Ac(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},(function t(e){function r(i){return new ms(i,e)}return r.tension=function(i){return t(+i)},r})(0);function Kh(t,e,r){var i=t._x1,o=t._y1,a=t._x2,s=t._y2;if(t._l01_a>wc){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,f=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/f,o=(o*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/f}if(t._l23_a>wc){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,g=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*l+t._x1*t._l23_2a-e*t._l12_2a)/g,s=(s*l+t._y1*t._l23_2a-r*t._l12_2a)/g}t._context.bezierCurveTo(i,o,a,s,t._x2,t._y2)}function Hc(t,e){this._context=t,this._alpha=e}Hc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Kh(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Wc=(function t(e){function r(i){return e?new Hc(i,e):new ms(i,0)}return r.alpha=function(i){return t(+i)},r})(.5);Hn[P]="src/components/table/CellSparkline.svelte";var Qh=V(Ht('<rect opacity="0.8"></rect>'),Hn[P],[[72,8]]),Jh=V(Ht('<path opacity="0.3"></path><path fill="none" stroke-width="1.5"></path>',1),Hn[P],[[82,6],[83,6]]),$h=V(Ht('<circle r="2"></circle>'),Hn[P],[[89,8]]),tg=V(Ht('<path fill="none" stroke-width="1.5"></path><!>',1),Hn[P],[[85,6]]),eg=V(Ht('<text text-anchor="middle" dominant-baseline="middle" fill="var(--wf-muted, #94a3b8)" font-size="8">--</text>'),Hn[P],[[93,4]]),ng=V(Ht('<svg class="cell-sparkline svelte-hfafss"><!></svg>'),Hn[P],[[68,0]]);function Hn(t,e){Se(new.target),_e(e,!0,Hn);const r=v(m(()=>{var y;return((y=e.options)==null?void 0:y.type)??"line"}),"chartType"),i=v(m(()=>{var y;return((y=e.options)==null?void 0:y.height)??20}),"chartHeight"),o=v(m(()=>{var y;return((y=e.options)==null?void 0:y.color)??"var(--wf-primary, #2563eb)"}),"chartColor"),a=60,s=v(m(()=>!e.data||!Array.isArray(e.data)||w(e.data.length,0)?[]:Array.isArray(e.data[0])?e.data[0]:e.data),"normalizedData"),c=v(m(()=>{if(w(n(s).length,0))return[];const y=Math.min(...n(s)),x=Math.max(...n(s)),T=(x-y)*.1||1,I=er().domain([0,n(s).length-1]).range([2,a-2]),F=er().domain([y-T,x+T]).range([n(i)-2,2]);return n(s).map((k,H)=>[I(H),F(k)])}),"points"),f=v(m(()=>w(n(c).length,0)?"":Nc().x(x=>x[0]).y(x=>x[1]).curve(Wc.alpha(.5))(n(c))??""),"linePath"),l=v(m(()=>w(n(c).length,0)?"":Zh().x(x=>x[0]).y0(n(i)-2).y1(x=>x[1]).curve(Wc.alpha(.5))(n(c))??""),"areaPath"),g=v(m(()=>n(c).length>0?(a-8)/n(c).length-1:0),"barWidth");var d={...Ee()},u=ng();A(u,"width",a);var h=U(u);{var p=y=>{var x=St(),T=ut(x);{var I=k=>{var H=St(),b=ut(H);W(()=>Ne(b,17,()=>n(c),Yn,(C,z)=>{var E=m(()=>Ha(n(z),2));let N=()=>n(E)[0];N();let M=()=>n(E)[1];M();var D=Qh();Z(()=>{A(D,"x",N()-n(g)/2),A(D,"y",M()),A(D,"width",n(g)),A(D,"height",n(i)-2-M()),A(D,"fill",n(o))}),R(C,D)}),"each",Hn,71,6),R(k,H)},F=k=>{var H=St(),b=ut(H);{var C=E=>{var N=Jh(),M=ut(N),D=K(M);Z(()=>{A(M,"d",n(l)),A(M,"fill",n(o)),A(D,"d",n(f)),A(D,"stroke",n(o))}),R(E,N)},z=E=>{var N=tg(),M=ut(N),D=K(M);{var B=rt=>{const nt=v(m(()=>n(c)[n(c).length-1]),"lastPoint");n(nt);var et=$h();Z(()=>{A(et,"cx",n(nt)[0]),A(et,"cy",n(nt)[1]),A(et,"fill",n(o))}),R(rt,et)};W(()=>j(D,rt=>{n(c).length>0&&rt(B)}),"if",Hn,87,6)}Z(()=>{A(M,"d",n(f)),A(M,"stroke",n(o))}),R(E,N)};W(()=>j(b,E=>{w(n(r),"area")?E(C):E(z,!1)},!0),"if",Hn,81,4)}R(k,H)};W(()=>j(T,k=>{w(n(r),"bar")?k(I):k(F,!1)}),"if",Hn,70,4)}R(y,x)},_=y=>{var x=eg();A(x,"x",a/2),Z(()=>A(x,"y",n(i)/2)),R(y,x)};W(()=>j(h,y=>{n(c).length>0?y(p):y(_,!1)}),"if",Hn,69,2)}return Z(()=>{A(u,"height",n(i)),A(u,"viewBox",`0 0 60 ${n(i)??""}`)}),R(t,u),ye(d)}gr[P]="src/components/table/CellContent.svelte";var rg=V(ot('<span class="cell-icon svelte-mxyczy"> </span>'),gr[P],[[34,15]]),ig=V(ot('<span class="cell-badge svelte-mxyczy"> </span>'),gr[P],[[36,16]]),og=V(ot('<span><!> <span class="cell-value"> </span> <!></span>'),gr[P],[[23,0,[[35,2]]]]);function gr(t,e){Se(new.target),_e(e,!0,gr);const r=v(m(()=>{var k;return!!((k=e.cellStyle)!=null&&k.badge)}),"hasBadge"),i=v(m(()=>{var k;return!!((k=e.cellStyle)!=null&&k.icon)}),"hasIcon"),o=v(m(()=>{var k;return((k=e.cellStyle)==null?void 0:k.bold)??!1}),"isBold"),a=v(m(()=>{var k;return((k=e.cellStyle)==null?void 0:k.italic)??!1}),"isItalic"),s=v(m(()=>{var k;return((k=e.cellStyle)==null?void 0:k.color)??null}),"textColor"),c=v(m(()=>{var k;return((k=e.cellStyle)==null?void 0:k.bg)??null}),"bgColor"),f=v(m(()=>{var k;return((k=e.cellStyle)==null?void 0:k.emphasis)??!1}),"isEmphasis"),l=v(m(()=>{var k;return((k=e.cellStyle)==null?void 0:k.muted)??!1}),"isMuted"),g=v(m(()=>{var k;return((k=e.cellStyle)==null?void 0:k.accent)??!1}),"isAccent");var d={...Ee()},u=og();let h,p;var _=U(u);{var y=k=>{var H=rg(),b=U(H);Z(()=>{var C;return Vt(b,(C=e.cellStyle)==null?void 0:C.icon)}),R(k,H)};W(()=>j(_,k=>{n(i)&&k(y)}),"if",gr,34,2)}var x=K(_,2),T=U(x),I=K(x,2);{var F=k=>{var H=ig(),b=U(H);Z(()=>{var C;return Vt(b,(C=e.cellStyle)==null?void 0:C.badge)}),R(k,H)};W(()=>j(I,k=>{n(r)&&k(F)}),"if",gr,36,2)}return Z(k=>{h=cn(u,1,"cell-content svelte-mxyczy",null,h,{"cell-bold":n(o),"cell-italic":n(a),"cell-emphasis":n(f),"cell-muted":n(l),"cell-accent":n(g)}),A(u,"title",k),p=ke(u,"",p,{color:n(s),"background-color":n(c)}),Vt(T,e.value??"")},[()=>String(e.value??"")]),R(t,u),ye(d)}Po[P]="src/components/table/CellIcon.svelte";var ag=V(ot("<span> </span>"),Po[P],[[32,2]]);function Po(t,e){Se(new.target),_e(e,!0,Po);const r=v(m(()=>{var d;return((d=e.options)==null?void 0:d.mapping)??{}}),"mapping"),i=v(m(()=>{var d;return((d=e.options)==null?void 0:d.size)??"base"}),"size"),o=v(m(()=>{var d;return(d=e.options)==null?void 0:d.color}),"color"),a=v(m(()=>{if(w(e.value,void 0)||w(e.value,null))return"";const d=String(e.value);return n(r)&&d in n(r)?n(r)[d]:d}),"displayValue"),s=v(m(()=>w(n(i),"sm")?"icon-sm":w(n(i),"lg")?"icon-lg":"icon-base"),"sizeClass");var c={...Ee()},f=St(),l=ut(f);{var g=d=>{var u=ag();let h;var p=U(u);Z(_=>{cn(u,1,`cell-icon ${n(s)??""}`,"svelte-weao3c"),A(u,"title",_),h=ke(u,"",h,{color:n(o)}),Vt(p,n(a))},[()=>String(e.value??"")]),R(d,u)};W(()=>j(l,d=>{n(a)&&d(g)}),"if",Po,31,0)}return R(t,f),ye(c)}zo[P]="src/components/table/CellBadge.svelte";var sg=V(ot("<span> </span>"),zo[P],[[56,2]]);function zo(t,e){Se(new.target),_e(e,!0,zo);const r=v(m(()=>{var u;return((u=e.options)==null?void 0:u.variants)??{}}),"variants"),i=v(m(()=>{var u;return((u=e.options)==null?void 0:u.colors)??{}}),"colors"),o=v(m(()=>{var u;return((u=e.options)==null?void 0:u.size)??"base"}),"size"),a=v(m(()=>w(e.value,void 0)||w(e.value,null)?"":String(e.value)),"displayValue"),s=v(m(()=>{const u=String(e.value??"");if(n(i)&&u in n(i))return n(i)[u];if(n(r)&&u in n(r))switch(n(r)[u]){case"success":return"var(--wf-badge-success, #16a34a)";case"warning":return"var(--wf-badge-warning, #f59e0b)";case"error":return"var(--wf-badge-error, #dc2626)";case"info":return"var(--wf-badge-info, #2563eb)";case"muted":return"var(--wf-badge-muted, var(--wf-muted, #64748b))";default:return"var(--wf-primary, #2563eb)"}return"var(--wf-primary, #2563eb)"}),"badgeColor"),c=v(m(()=>w(n(o),"sm")?"badge-sm":"badge-base"),"sizeClass");var f={...Ee()},l=St(),g=ut(l);{var d=u=>{var h=sg();let p;var _=U(h);Z(()=>{cn(h,1,`cell-badge ${n(c)??""}`,"svelte-16nh7k4"),p=ke(h,"",p,{"background-color":`color-mix(in srgb, ${n(s)??""} 15%, var(--wf-bg, #fff))`,color:n(s)}),Vt(_,n(a))}),R(u,h)};W(()=>j(g,u=>{n(a)&&u(d)}),"if",zo,55,0)}return R(t,l),ye(f)}Ei[P]="src/components/table/CellStars.svelte";var lg=V(ot("<span> </span>"),Ei[P],[[44,6]]),cg=V(ot('<span class="cell-stars svelte-8zr88i"></span>'),Ei[P],[[42,2]]);function Ei(t,e){Se(new.target),_e(e,!0,Ei);const r=v(m(()=>{var p;return((p=e.options)==null?void 0:p.maxStars)??5}),"maxStars"),i=v(m(()=>{var p;return((p=e.options)==null?void 0:p.color)??"#f59e0b"}),"filledColor"),o=v(m(()=>{var p;return((p=e.options)==null?void 0:p.emptyColor)??"#d1d5db"}),"emptyColor"),a=v(m(()=>{var p;return((p=e.options)==null?void 0:p.halfStars)??!1}),"halfStars"),s="★",c="☆",f="⯪",l=v(m(()=>{if(w(e.value,void 0)||w(e.value,null))return"";const p=Math.max(0,Math.min(n(r),e.value)),_=[];for(let y=1;y<=n(r);y++)y<=p?_.push({char:s,filled:"full"}):n(a)&&y-.5<=p?_.push({char:f,filled:"half"}):_.push({char:c,filled:"empty"});return _}),"starDisplay");var g={...Ee()},d=St(),u=ut(d);{var h=p=>{var _=cg();W(()=>Ne(_,21,()=>n(l),Yn,(y,x)=>{var T=lg();let I,F;var k=U(T,!0);Z(()=>{I=cn(T,1,"star svelte-8zr88i",null,I,{filled:w(n(x).filled,"full"),half:w(n(x).filled,"half")}),F=ke(T,"",F,{color:w(n(x).filled,"empty")?n(o):n(i)}),Vt(k,n(x).char)}),R(y,T)}),"each",Ei,43,4),Z(()=>A(_,"title",`${e.value??""} / ${n(r)??""}`)),R(p,_)};W(()=>j(u,p=>{w(e.value,void 0,!1)&&w(e.value,null,!1)&&p(h)}),"if",Ei,41,0)}return R(t,d),ye(g)}ki[P]="src/components/table/CellImg.svelte";var fg=V(ot('<img alt="" loading="lazy"/>'),ki[P],[[28,2]]),ug=V(ot('<span class="cell-img-fallback svelte-1rifgp8" title="Image not available"> </span>'),ki[P],[[38,2]]);function ki(t,e){Se(new.target),_e(e,!0,ki);const r=v(m(()=>{var p;return(p=e.options)==null?void 0:p.height}),"imgHeight"),i=v(m(()=>{var p;return(p=e.options)==null?void 0:p.maxWidth}),"maxWidth"),o=v(m(()=>{var p;return((p=e.options)==null?void 0:p.fallback)??"📷"}),"fallback"),a=v(m(()=>{var p;return((p=e.options)==null?void 0:p.shape)??"square"}),"shape");let s=v(xt(!1),"hasError");const c=v(m(()=>w(n(a),"circle")?"shape-circle":w(n(a),"rounded")?"shape-rounded":""),"shapeClass");function f(){tt(s,!0)}var l={...Ee()},g=St(),d=ut(g);{var u=p=>{var _=fg();let y;Z(()=>{cn(_,1,`cell-img ${n(c)??""}`,"svelte-1rifgp8"),A(_,"src",e.value),y=ke(_,"",y,{height:n(r)?`${n(r)}px`:"calc(var(--wf-row-height, 28px) - 4px)","max-width":n(i)?`${n(i)}px`:"100%"})}),Dn("error",_,f),R(p,_)},h=p=>{var _=St(),y=ut(_);{var x=T=>{var I=ug(),F=U(I);Z(()=>Vt(F,n(o))),R(T,I)};W(()=>j(y,T=>{n(o)&&T(x)},!0),"if",ki,37,0)}R(p,_)};W(()=>j(d,p=>{e.value&&!n(s)?p(u):p(h,!1)}),"if",ki,27,0)}return R(t,g),ye(l)}Gr[P]="src/components/table/CellReference.svelte";var dg=V(ot('<span class="reference-icon svelte-186gxpi">↗</span>'),Gr[P],[[44,8]]),hg=V(ot('<a class="cell-reference svelte-186gxpi" target="_blank" rel="noopener noreferrer"><span class="reference-text svelte-186gxpi"> </span> <!></a>'),Gr[P],[[35,4,[[42,6]]]]),gg=V(ot('<span class="cell-reference svelte-186gxpi"> </span>'),Gr[P],[[48,4]]);function Gr(t,e){Se(new.target),_e(e,!0,Gr);const r=v(m(()=>{var h;return((h=e.options)==null?void 0:h.maxChars)??30}),"maxChars"),i=v(m(()=>{var h;return((h=e.options)==null?void 0:h.showIcon)??!0}),"showIcon"),o=v(m(()=>{var h;return(h=e.options)==null?void 0:h.hrefField}),"hrefField"),a=v(m(()=>{if(!n(o))return null;const h=e.metadata[n(o)];return w(typeof h,"string")?h:null}),"href"),s=v(m(()=>{if(w(e.value,void 0)||w(e.value,null))return"";const h=String(e.value);return h.length<=n(r)?h:h.substring(0,n(r))+"..."}),"displayValue"),c=v(m(()=>e.value?String(e.value):""),"fullValue"),f=v(m(()=>n(c).length>n(r)),"isTruncated");var l={...Ee()},g=St(),d=ut(g);{var u=h=>{var p=St(),_=ut(p);{var y=T=>{var I=hg(),F=U(I),k=U(F),H=K(F,2);{var b=C=>{var z=dg();R(C,z)};W(()=>j(H,C=>{n(i)&&C(b)}),"if",Gr,43,6)}Z(()=>{A(I,"href",n(a)),A(I,"title",n(f)?n(c):void 0),Vt(k,n(s))}),R(T,I)},x=T=>{var I=gg(),F=U(I);Z(()=>{A(I,"title",n(f)?n(c):void 0),Vt(F,n(s))}),R(T,I)};W(()=>j(_,T=>{n(a)?T(y):T(x,!1)}),"if",Gr,34,2)}R(h,p)};W(()=>j(d,h=>{e.value&&h(u)}),"if",Gr,33,0)}return R(t,g),ye(l)}Do[P]="src/components/table/CellRange.svelte";var vg=V(ot('<span class="cell-range svelte-jzelx2"> </span>'),Do[P],[[51,2]]);function Do(t,e){Se(new.target),_e(e,!0,Do);const r=v(m(()=>{var _;return((_=e.options)==null?void 0:_.separator)??" – "}),"separator"),i=v(m(()=>{var _;return(_=e.options)==null?void 0:_.decimals}),"decimals"),o=v(m(()=>{var _;return((_=e.options)==null?void 0:_.minField)??""}),"minField"),a=v(m(()=>{var _;return((_=e.options)==null?void 0:_.maxField)??""}),"maxField"),s=v(m(()=>{if(!n(o))return null;const _=e.metadata[n(o)];return w(typeof _,"number")?_:null}),"minValue"),c=v(m(()=>{if(!n(a))return null;const _=e.metadata[n(a)];return w(typeof _,"number")?_:null}),"maxValue");function f(_){return w(_,null)?"":w(n(i),null)||w(n(i),void 0)?Number.isInteger(_)?String(_):_.toFixed(1):_.toFixed(n(i))}const l=v(m(()=>w(n(s),null)&&w(n(c),null)?"":w(n(s),null)?f(n(c)):w(n(c),null)?f(n(s)):`${f(n(s))}${n(r)}${f(n(c))}`),"displayValue"),g=v(m(()=>w(n(s),null,!1)||w(n(c),null,!1)),"hasRange");var d={...Ee()},u=St(),h=ut(u);{var p=_=>{var y=vg(),x=U(y);Z((T,I)=>{A(y,"title",`${T??""} to ${I??""}`),Vt(x,n(l))},[()=>f(n(s)),()=>f(n(c))]),R(_,y)};W(()=>j(h,_=>{n(g)&&_(p)}),"if",Do,50,0)}return R(t,u),ye(d)}const pg=["default","minimal","dark","jama","lancet","modern","presentation","cochrane","nature"],Wt={name:"default",colors:{background:"#ffffff",foreground:"#333333",primary:"#0891b2",secondary:"#64748b",accent:"#8b5cf6",muted:"#94a3b8",border:"#e2e8f0",rowBg:"#ffffff",altBg:"#f8fafc",interval:"#0891b2",intervalPositive:"#0891b2",intervalNegative:"#dc2626",intervalNeutral:"#64748b",intervalLine:"#475569",summaryFill:"#0891b2",summaryBorder:"#0e7490"},typography:{fontFamily:"system-ui, -apple-system, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5,headerFontScale:1.05},spacing:{rowHeight:28,headerHeight:36,sectionGap:16,padding:12,containerPadding:0,cellPaddingX:10,cellPaddingY:4,axisGap:12,groupPadding:8},shapes:{pointSize:6,summaryHeight:10,lineWidth:1.5,borderRadius:2},axis:{rangeMin:null,rangeMax:null,tickCount:null,tickValues:null,gridlines:!1,gridlineStyle:"dotted",ciClipFactor:2,includeNull:!0,symmetric:null,nullTick:!0,markerMargin:!0},layout:{plotPosition:"right",tableWidth:"auto",plotWidth:"auto",rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:8,banding:!0},groupHeaders:{level1FontSize:"1rem",level1FontWeight:700,level1Italic:!1,level1Background:null,level1BorderBottom:!1,level2FontSize:"0.9375rem",level2FontWeight:500,level2Italic:!0,level2Background:null,level2BorderBottom:!1,level3FontSize:"0.875rem",level3FontWeight:400,level3Italic:!1,level3Background:null,level3BorderBottom:!1,indentPerLevel:16}},mg={...Wt,name:"minimal",colors:{...Wt.colors,background:"#ffffff",foreground:"#000000",primary:"#000000",secondary:"#333333",accent:"#000000",muted:"#666666",border:"#000000",rowBg:"#ffffff",altBg:"#fafafa",interval:"#000000",intervalPositive:"#000000",intervalNegative:"#000000",intervalNeutral:"#666666",intervalLine:"#000000",summaryFill:"#000000",summaryBorder:"#000000"},typography:{...Wt.typography,fontFamily:"Georgia, 'Times New Roman', serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.4},spacing:{...Wt.spacing,rowHeight:24,headerHeight:30,sectionGap:12,padding:10},shapes:{...Wt.shapes,pointSize:5,summaryHeight:8,lineWidth:1,borderRadius:0},layout:{...Wt.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:0}},_g={...Wt,name:"dark",colors:{...Wt.colors,background:"#1e1e2e",foreground:"#cdd6f4",primary:"#89b4fa",secondary:"#a6adc8",accent:"#f5c2e7",muted:"#6c7086",border:"#313244",rowBg:"#1e1e2e",altBg:"#232334",interval:"#89b4fa",intervalPositive:"#a6e3a1",intervalNegative:"#f38ba8",intervalNeutral:"#6c7086",intervalLine:"#9399b2",summaryFill:"#89b4fa",summaryBorder:"#74c7ec"},typography:{...Wt.typography,fontFamily:"system-ui, -apple-system, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5},spacing:{...Wt.spacing,rowHeight:30,headerHeight:38,sectionGap:18,padding:14},shapes:{...Wt.shapes,pointSize:6,summaryHeight:10,lineWidth:1.5,borderRadius:4},layout:{...Wt.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:8}},yg={...Wt,name:"jama",colors:{...Wt.colors,background:"#ffffff",foreground:"#000000",primary:"#000000",secondary:"#333333",accent:"#000000",muted:"#555555",border:"#000000",rowBg:"#ffffff",altBg:"#f9fafb",interval:"#000000",intervalPositive:"#000000",intervalNegative:"#000000",intervalNeutral:"#555555",intervalLine:"#000000",summaryFill:"#000000",summaryBorder:"#000000"},typography:{...Wt.typography,fontFamily:"Arial, Helvetica, sans-serif",fontSizeSm:"8pt",fontSizeBase:"9pt",fontSizeLg:"10pt",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.2},spacing:{...Wt.spacing,rowHeight:18,headerHeight:24,sectionGap:8,padding:6,cellPaddingX:8,cellPaddingY:2},shapes:{...Wt.shapes,pointSize:4,summaryHeight:7,lineWidth:1.25,borderRadius:0},layout:{...Wt.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:0}},xg={...Wt,name:"lancet",colors:{...Wt.colors,background:"#fdfcfb",foreground:"#1e3a5f",primary:"#00407a",secondary:"#3d5a80",accent:"#b8860b",muted:"#6b7c93",border:"#d4dce6",rowBg:"#fdfcfb",altBg:"#f8f7f6",interval:"#00407a",intervalPositive:"#00407a",intervalNegative:"#9d2933",intervalNeutral:"#3d5a80",intervalLine:"#1e3a5f",summaryFill:"#00407a",summaryBorder:"#002d54"},typography:{...Wt.typography,fontFamily:"Georgia, 'Times New Roman', serif",fontSizeSm:"0.75rem",fontSizeBase:"0.875rem",fontSizeLg:"1rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.5},spacing:{...Wt.spacing,rowHeight:26,headerHeight:34,sectionGap:16,padding:12,cellPaddingX:12,cellPaddingY:5},shapes:{...Wt.shapes,pointSize:5,summaryHeight:9,lineWidth:1.25,borderRadius:0},layout:{...Wt.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:0}},wg={...Wt,name:"modern",colors:{...Wt.colors,background:"#fafafa",foreground:"#18181b",primary:"#3b82f6",secondary:"#52525b",accent:"#8b5cf6",muted:"#a1a1aa",border:"#d4d4d8",rowBg:"#fafafa",altBg:"#f4f4f5",interval:"#3b82f6",intervalPositive:"#22c55e",intervalNegative:"#ef4444",intervalNeutral:"#71717a",intervalLine:"#27272a",summaryFill:"#3b82f6",summaryBorder:"#2563eb"},typography:{...Wt.typography,fontFamily:"Inter, system-ui, -apple-system, sans-serif",fontSizeSm:"0.8125rem",fontSizeBase:"0.9375rem",fontSizeLg:"1.0625rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:600,lineHeight:1.5},spacing:{...Wt.spacing,rowHeight:36,headerHeight:44,sectionGap:24,padding:16,cellPaddingX:12,cellPaddingY:6},shapes:{...Wt.shapes,pointSize:8,summaryHeight:12,lineWidth:1.75,borderRadius:8},layout:{...Wt.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:12}},bg={...Wt,name:"presentation",colors:{...Wt.colors,background:"#ffffff",foreground:"#0f172a",primary:"#0369a1",secondary:"#334155",accent:"#ea580c",muted:"#64748b",border:"#94a3b8",rowBg:"#ffffff",altBg:"#f8fafc",interval:"#0369a1",intervalPositive:"#047857",intervalNegative:"#be123c",intervalNeutral:"#334155",intervalLine:"#0f172a",summaryFill:"#0369a1",summaryBorder:"#0c4a6e"},typography:{...Wt.typography,fontFamily:"'Source Sans Pro', 'Segoe UI', Roboto, sans-serif",fontSizeSm:"1rem",fontSizeBase:"1.125rem",fontSizeLg:"1.25rem",fontWeightNormal:400,fontWeightMedium:600,fontWeightBold:700,lineHeight:1.4},spacing:{...Wt.spacing,rowHeight:44,headerHeight:52,sectionGap:28,padding:20,cellPaddingX:14,cellPaddingY:6},shapes:{...Wt.shapes,pointSize:12,summaryHeight:16,lineWidth:2.5,borderRadius:4},layout:{...Wt.layout,rowBorder:!0,containerBorder:!1,containerBorderRadius:6}},Mg={...Wt,name:"cochrane",colors:{...Wt.colors,background:"#ffffff",foreground:"#2c2c2c",primary:"#0099cc",secondary:"#555555",accent:"#006699",muted:"#888888",border:"#b3b3b3",rowBg:"#ffffff",altBg:"#f5f5f5",interval:"#0099cc",intervalPositive:"#0099cc",intervalNegative:"#cc3333",intervalNeutral:"#555555",intervalLine:"#2c2c2c",summaryFill:"#0099cc",summaryBorder:"#006699"},typography:{...Wt.typography,fontFamily:"Arial, Helvetica, sans-serif",fontSizeSm:"0.6875rem",fontSizeBase:"0.75rem",fontSizeLg:"0.8125rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.25},spacing:{...Wt.spacing,rowHeight:20,headerHeight:26,sectionGap:8,padding:6,cellPaddingX:6,cellPaddingY:2},shapes:{...Wt.shapes,pointSize:4,summaryHeight:7,lineWidth:1,borderRadius:0},layout:{...Wt.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:0}},Sg={...Wt,name:"nature",colors:{...Wt.colors,background:"#ffffff",foreground:"#1a1a1a",primary:"#1976d2",secondary:"#424242",accent:"#c62828",muted:"#616161",border:"#bdbdbd",rowBg:"#ffffff",altBg:"#fafafa",interval:"#1976d2",intervalPositive:"#1976d2",intervalNegative:"#c62828",intervalNeutral:"#616161",intervalLine:"#1a1a1a",summaryFill:"#1976d2",summaryBorder:"#0d47a1"},typography:{...Wt.typography,fontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",fontSizeSm:"0.75rem",fontSizeBase:"0.8125rem",fontSizeLg:"0.9375rem",fontWeightNormal:400,fontWeightMedium:500,fontWeightBold:700,lineHeight:1.35},spacing:{...Wt.spacing,rowHeight:24,headerHeight:32,sectionGap:12,padding:10,cellPaddingX:10,cellPaddingY:4},shapes:{...Wt.shapes,pointSize:5,summaryHeight:8,lineWidth:1.25,borderRadius:1},layout:{...Wt.layout,rowBorder:!0,rowBorderStyle:"solid",containerBorder:!1,containerBorderRadius:2},axis:{...Wt.axis,gridlines:!1,nullTick:!0}},Eg={default:Wt,minimal:mg,dark:_g,jama:yg,lancet:xg,modern:wg,presentation:bg,cochrane:Mg,nature:Sg},Rc={default:"Default",minimal:"Minimal",dark:"Dark",jama:"JAMA",lancet:"Lancet",modern:"Modern",presentation:"Presentation",cochrane:"Cochrane",nature:"Nature"};function kg(t,e,r={}){const{gap:i=4,viewportPadding:o=8,preferredPosition:a="below",align:s="end"}=r,c=window.innerHeight,f=window.innerWidth,l=c-t.bottom-i-o,g=t.top-i-o;let d,u;a==="below"?l>=e.height?d="below":g>=e.height?d="above":(d=l>=g?"below":"above",u=Math.max(d==="below"?l:g,100)):g>=e.height?d="above":l>=e.height?d="below":(d=g>=l?"above":"below",u=Math.max(d==="above"?g:l,100));const h={};return d==="below"?h.top=t.bottom+i:h.bottom=c-t.top+i,s==="end"?t.right-e.width<o?h.left=Math.max(t.left,o):h.right=f-t.right:t.left+e.width>f-o?h.right=Math.max(f-t.right,o):h.left=t.left,u&&(h.maxHeight=u),h}function Vr(t,e){function r(){if(!e.triggerEl)return;const o=e.triggerEl.getBoundingClientRect(),a=t.getBoundingClientRect(),s=kg(o,{width:a.width,height:a.height},{gap:e.gap??4,align:e.align??"end"});t.style.position="fixed",t.style.top="",t.style.bottom="",t.style.left="",t.style.right="",s.top!==void 0&&(t.style.top=`${s.top}px`),s.bottom!==void 0&&(t.style.bottom=`${s.bottom}px`),s.left!==void 0&&(t.style.left=`${s.left}px`),s.right!==void 0&&(t.style.right=`${s.right}px`),s.maxHeight?(t.style.maxHeight=`${s.maxHeight}px`,t.style.overflowY="auto"):(t.style.maxHeight="",t.style.overflowY="")}function i(o){e=o,requestAnimationFrame(r)}return i(e),{update:i,destroy(){}}}vr[P]="src/components/ui/ThemeSwitcher.svelte";var Cg=V(Ht('<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-35mgh1"><polyline points="20 6 9 17 4 12"></polyline></svg>'),vr[P],[[93,12,[[94,14]]]]),Tg=V(ot('<span class="spacer svelte-35mgh1"></span>'),vr[P],[[97,12]]),Ng=V(ot("<button><!> <span> </span></button>"),vr[P],[[87,8,[[99,10]]]]),Ag=V(ot('<div class="theme-dropdown svelte-35mgh1"></div>'),vr[P],[[85,4]]),Hg=V(ot('<div class="theme-switcher-wrapper svelte-35mgh1"><button class="theme-btn svelte-35mgh1" aria-label="Switch theme"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path></svg></button> <!></div>'),vr[P],[[70,0,[[71,2,[[78,4,[[79,6],[80,6]]]]]]]]);function vr(t,e){Se(new.target),_e(e,!0,vr);let r=v(xt(!1),"dropdownOpen"),i=v(xt(null),"triggerEl");const o=v(m(()=>{var p,_;return((_=(p=e.store.spec)==null?void 0:p.theme)==null?void 0:_.name)??"default"}),"currentTheme"),a=v(m(()=>w(e.availableThemes,void 0)||w(e.availableThemes,null)?pg.map(p=>[p,Rc[p]]):Object.entries(e.availableThemes).map(([p,_])=>{const y=_.name?Rc[_.name]??_.name:p;return[p,y]})),"themeEntries");function s(){tt(r,!1)}function c(p){if(e.onThemeChange)e.onThemeChange(p);else if(e.availableThemes&&p in e.availableThemes){const _=e.availableThemes[p];e.store.spec&&e.store.setSpec({...e.store.spec,theme:_})}else e.store.setTheme(p);s()}function f(p){p.target.closest(".theme-switcher-wrapper")||s()}var l={...Ee()},g=Hg();Dn("click",Xi,f);var d=U(g);d.__click=()=>tt(r,!n(r)),ei(d,p=>tt(i,p),()=>n(i));var u=K(d,2);{var h=p=>{var _=Ag();W(()=>Ne(_,21,()=>n(a),Yn,(y,x)=>{var T=m(()=>Ha(n(x),2));let I=()=>n(T)[0];I();let F=()=>n(T)[1];F();var k=Ng();let H;k.__click=()=>c(I());var b=U(k);{var C=M=>{var D=Cg();R(M,D)},z=M=>{var D=Tg();R(M,D)};W(()=>j(b,M=>{w(n(o),I())?M(C):M(z,!1)}),"if",vr,92,10)}var E=K(b,2),N=U(E,!0);Z(()=>{H=cn(k,1,"dropdown-item svelte-35mgh1",null,H,{active:w(n(o),I())}),Vt(N,F())}),R(y,k)}),"each",vr,86,6),oa(_,(y,x)=>Vr==null?void 0:Vr(y,x),()=>({triggerEl:n(i)})),R(p,_)};W(()=>j(u,p=>{n(r)&&p(h)}),"if",vr,84,2)}return Z(()=>A(d,"aria-expanded",n(r))),R(t,g),ye(l)}$r(["click"]),Ci[P]="src/components/ui/ViewToggle.svelte";var Wg=V(Ht('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="10" y2="6"></line><line x1="3" y1="12" x2="10" y2="12"></line><line x1="3" y1="18" x2="10" y2="18"></line><line x1="14" y1="12" x2="21" y2="12"></line><circle cx="17" cy="12" r="2" fill="currentColor"></circle></svg>'),Ci[P],[[21,4,[[23,6],[24,6],[25,6],[27,6],[28,6]]]]),Rg=V(Ht('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>'),Ci[P],[[32,4,[[33,6],[34,6],[35,6]]]]),Ig=V(ot('<button class="view-toggle-btn svelte-1u54q0q"><!></button>'),Ci[P],[[13,0]]);function Ci(t,e){Se(new.target),_e(e,!0,Ci);const r=v(m(()=>{var f,l;return((l=(f=e.store.spec)==null?void 0:f.data)==null?void 0:l.includeForest)??!0}),"includeForest");var i={...Ee()},o=Ig();o.__click=()=>e.store.toggleForestView();var a=U(o);{var s=f=>{var l=Wg();R(f,l)},c=f=>{var l=Rg();R(f,l)};W(()=>j(a,f=>{n(r)?f(s):f(c,!1)}),"if",Ci,19,2)}return Z(()=>{A(o,"aria-label",n(r)?"Show table only":"Show forest plot"),A(o,"title",n(r)?"Show table only":"Show forest plot")}),R(t,o),ye(i)}$r(["click"]);function ma(t,e){const r=t.split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,e),r.join(".")}function _s(t){const e=Math.abs(t),r=t<0?"-":"";if(e>=1e12)throw new Error(`Cannot abbreviate value >= 1 trillion: ${t}`);if(e>=1e9){const i=e/1e9;return r+ys(i)+"B"}if(e>=1e6){const i=e/1e6;return r+ys(i)+"M"}if(e>=1e3){const i=e/1e3;return r+ys(i)+"K"}return r+Math.round(e).toString()}function ys(t){const e=Math.round(t*10)/10;return e===Math.floor(e)?e.toFixed(0):e.toFixed(1)}const Lg={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻","+":"⁺"};function Fg(t){return t.split("").map(e=>Lg[e]??e).join("")}function Bo(t,e){var c,f,l,g,d;if(t==null||Number.isNaN(t))return(e==null?void 0:e.naText)??"";if(e!=null&&e.percent){const{decimals:u,digits:h,multiply:p=!0,symbol:_=!0}=e.percent,y=p?t*100:t,x=h!=null?y.toPrecision(h):y.toFixed(u??1);return _?`${x}%`:x}if(((c=e==null?void 0:e.numeric)==null?void 0:c.abbreviate)&&Math.abs(t)>=1e3)return _s(t);const i=(f=e==null?void 0:e.numeric)==null?void 0:f.digits;if(i!=null){const u=t.toPrecision(i),h=(l=e==null?void 0:e.numeric)==null?void 0:l.thousandsSep;return h&&typeof h=="string"?ma(u,h):u}const o=(g=e==null?void 0:e.numeric)==null?void 0:g.decimals,a=(d=e==null?void 0:e.numeric)==null?void 0:d.thousandsSep;let s;return o!==void 0?s=t.toFixed(o):Number.isInteger(t)||Math.abs(t-Math.round(t))<1e-4?s=Math.round(t).toString():s=t.toFixed(2),a&&typeof a=="string"&&(s=ma(s,a)),s}function xs(t,e){const{eventsField:r,nField:i,separator:o="/",showPct:a=!1,thousandsSep:s,abbreviate:c}=e.events,f=t.metadata[r],l=t.metadata[i];if(f==null||l===void 0||l===null)return e.naText??"";const g=Number(f),d=Number(l);let u,h;c&&(g>=1e3||d>=1e3)?(u=g>=1e3?_s(g):String(g),h=d>=1e3?_s(d):String(d)):(u=String(g),h=String(d),s&&typeof s=="string"&&(u=ma(u,s),h=ma(h,s)));let p=`${u}${o}${h}`;if(a&&d>0){const _=(g/d*100).toFixed(1);p+=` (${_}%)`}return p}function ws(t,e,r,i){var c,f,l;if(t==null||Number.isNaN(t))return"";const o=((c=i==null?void 0:i.interval)==null?void 0:c.decimals)??2,a=((f=i==null?void 0:i.interval)==null?void 0:f.sep)??" ",s=(l=i==null?void 0:i.interval)==null?void 0:l.impreciseThreshold;return e==null||r===void 0||r===null||Number.isNaN(e)||Number.isNaN(r)?t.toFixed(o):s!=null&&e>0&&r/e>s?"—":`${t.toFixed(o)}${a}(${e.toFixed(o)}, ${r.toFixed(o)})`}function Ic(t,e){if(t==null||Number.isNaN(t))return(e==null?void 0:e.naText)??"";const r=e==null?void 0:e.pvalue,i=(r==null?void 0:r.digits)??2,o=(r==null?void 0:r.expThreshold)??.001,a=(r==null?void 0:r.abbrevThreshold)??null,s=(r==null?void 0:r.format)??"auto",c=(r==null?void 0:r.stars)??!1,f=(r==null?void 0:r.thresholds)??[.05,.01,.001];let l="";if(c&&(t<f[2]?l="***":t<f[1]?l="**":t<f[0]&&(l="*")),a!==null&&t<a)return`<${a}${l}`;if(s==="scientific"||s==="auto"&&t<o){const d=Math.floor(Math.log10(t));return`${(t/Math.pow(10,d)).toPrecision(i)}×10${Fg(d.toString())}${l}`}let g;return t>=.1?g=t.toFixed(i):t>=.01?g=t.toFixed(i+1):g=t.toFixed(i+2),`${g}${l}`}function Lc(t,e){var a,s,c,f;const{type:r,field:i,options:o}=e;switch(r){case"interval":{const l=(a=o==null?void 0:o.interval)!=null&&a.point?t.metadata[o.interval.point]:t.point,g=(s=o==null?void 0:o.interval)!=null&&s.lower?t.metadata[o.interval.lower]:t.lower,d=(c=o==null?void 0:o.interval)!=null&&c.upper?t.metadata[o.interval.upper]:t.upper;return ws(l,g,d,o)}case"custom":return o!=null&&o.events?xs(t,o):String(t.metadata[i]??"");case"pvalue":return Ic(t.metadata[i],o);case"numeric":return Bo(t.metadata[i],o);case"percent":return Bo(t.metadata[i],o);case"sparkline":case"icon":case"stars":case"img":case"range":return"";case"badge":{const l=t.metadata[i];return l==null?"":`  ${String(l)}  `}case"bar":{if(((f=o==null?void 0:o.bar)==null?void 0:f.showLabel)===!1)return"";const l=t.metadata[i];return l==null?"":l>=100?l.toFixed(0):l>=10?l.toFixed(1):l.toFixed(2)}case"text":default:return String(t.metadata[i]??"")}}function Gn(t,e){const r="⁰¹²³⁴⁵⁶⁷⁸⁹⁺⁻";let i=0;for(const o of t)r.includes(o)?i+=e*.3:"il1.,;:|!()[]{}' ".includes(o)?i+=e*.35:"×−".includes(o)?i+=e*.5:"mwMW@%".includes(o)?i+=e*.85:o>="0"&&o<="9"?i+=e*.6:i+=e*.55;return i}function Pg(t,e){var l,g;const r=new Map,i=nr(t.theme.typography.fontSizeBase),o=t.theme.typography.headerFontScale??1.05,a=i*o,s=t.data.rows,c=(t.theme.spacing.cellPaddingX??10)*2,f=(t.theme.spacing.groupPadding??8)*2;for(const d of e){if(d.width!=="auto"&&d.width!==null&&d.width!==void 0)continue;let u=0;d.header&&(u=Math.max(u,Gn(d.header,a)));for(const _ of s){if(((l=_.style)==null?void 0:l.type)==="header"||((g=_.style)==null?void 0:g.type)==="spacer")continue;const y=Lc(_,d);y&&(u=Math.max(u,Gn(y,i)))}const h=$n.VISUAL_MIN[d.type]??$n.MIN,p=Math.ceil(u+c+Kn.RENDERING_BUFFER);r.set(d.id,Math.min($n.MAX,Math.max(h,p)))}return zg(t.columns,r,a,f,Kn.RENDERING_BUFFER),r}function zg(t,e,r,i,o){function a(f){return f.isGroup?f.columns.flatMap(a):[f]}function s(f){const l=e.get(f.id);return l!==void 0?l:typeof f.width=="number"?f.width:$n.MIN}function c(f){if(f.isGroup){for(const l of f.columns)c(l);if(f.header){const l=Gn(f.header,r)+i+o,g=a(f),d=g.reduce((u,h)=>u+s(h),0);if(l>d&&g.length>0){const u=Math.ceil((l-d)/g.length);for(const h of g)e.set(h.id,s(h)+u)}}}}for(const f of t)c(f)}function Fc(t,e,r){let i=r.filter(a=>a.groupId===t).length;const o=e.filter(a=>a.parentId===t);for(const a of o)i+=Fc(a.id,e,r);return i}function Pc(t){var f,l;const e=nr(t.theme.typography.fontSizeBase),r=(t.theme.spacing.cellPaddingX??10)*2;let i=0;const o=new Map,a=Array.isArray(t.data.groups)?t.data.groups:[];for(const g of a)o.set(g.id,g.depth);const s=g=>g?(o.get(g)??0)+1:0;t.data.labelHeader&&(i=Math.max(i,Gn(t.data.labelHeader,e)));for(const g of t.data.rows)if(g.label){const d=s(g.groupId),u=((f=g.style)==null?void 0:f.indent)??0,p=(d+u)*Ae.INDENT_PER_LEVEL;let _=Gn(g.label,e)+p;if((l=g.style)!=null&&l.badge){const y=String(g.style.badge),x=e*kr.FONT_SCALE,I=Gn(y,x)+kr.PADDING*2;_+=kr.GAP+I}i=Math.max(i,_)}for(const g of a)if(g.label){const d=g.depth*Ae.INDENT_PER_LEVEL,u=Gn(g.label,e),p=`(${Fc(g.id,a,t.data.rows)})`,_=e*.75,y=Gn(p,_),x=d+ni.CHEVRON_WIDTH+ni.GAP+u+ni.GAP+y+ni.SAFETY_MARGIN;i=Math.max(i,x)}const c=Math.ceil(i+r+Kn.RENDERING_BUFFER);return Math.min($n.LABEL_MAX,Math.max($n.MIN,c))}function bs(t,e){const r=e.get(t.id);return r!==void 0?r:typeof t.width=="number"?t.width:Qn.DEFAULT_COLUMN_WIDTH}function Dg(t,e,r=0){var qt,Yt,dt,Ct,re;const i=t.theme,o=i.spacing.rowHeight,a=i.spacing.padding,s=Array.isArray(t.columns)?t.columns:[],c=Dc(s,"left"),f=Dc(s,"right"),g=ks(c)||ks(f)?i.spacing.headerHeight*jl.GROUP_HEADER_HEIGHT_MULTIPLIER:i.spacing.headerHeight,d=!!((qt=t.labels)!=null&&qt.title),u=!!((Yt=t.labels)!=null&&Yt.subtitle),h=!!((dt=t.labels)!=null&&dt.caption),p=!!((Ct=t.labels)!=null&&Ct.footnote),_=d?Jn.TITLE_HEIGHT:0,y=u?Jn.SUBTITLE_HEIGHT:0,x=_+y+(d||u?a:0),T=h?Jn.CAPTION_HEIGHT:0,I=p?Jn.FOOTNOTE_HEIGHT:0,F=T+I+(h||p?a:0),k=zc(t),H=!!t.data.overall;let b=0;for(const pt of k){const zt=pt.type==="data"&&((re=pt.row.style)==null?void 0:re.type)==="spacer";b+=zt?o/2:o}H&&(b+=o*jl.OVERALL_ROW_HEIGHT_MULTIPLIER);const C=Es(s,"left"),z=Es(s,"right"),E=Ss(s).filter(pt=>pt.position===void 0),N=[...C,...z,...E];let M,D;if(e.columnWidths){M=new Map;for(const[pt,zt]of Object.entries(e.columnWidths))pt!=="__label__"&&M.set(pt,zt);D=e.columnWidths.__label__??Pc(t)}else M=Pg(t,N),D=Pc(t);const B=D+C.reduce((pt,zt)=>pt+bs(zt,M),0),rt=z.reduce((pt,zt)=>pt+bs(zt,M),0),nt=E.filter(pt=>pt.type!=="forest").reduce((pt,zt)=>pt+bs(zt,M),0),et=e.width??Qn.DEFAULT_WIDTH,J=N.some(pt=>pt.type==="forest")||t.data.includeForest,kt=B+rt+nt;let vt;if(!J)vt=0;else if(typeof e.forestWidth=="number")vt=e.forestWidth;else if(typeof t.layout.plotWidth=="number")vt=t.layout.plotWidth;else{const pt=et-kt-Qn.COLUMN_GAP*2-a*2;vt=Math.max(pt,Qn.MIN_FOREST_WIDTH)}const st=a*2+kt+vt+Qn.COLUMN_GAP*2,lt=Math.max(e.width??et,st),ct=x+a+g+b+Qn.AXIS_HEIGHT+Qn.AXIS_LABEL_HEIGHT+F+Qn.BOTTOM_MARGIN;return{totalWidth:lt,totalHeight:e.height??ct,tableWidth:B+rt,forestWidth:vt,headerHeight:g,rowHeight:o,plotHeight:b,axisHeight:Qn.AXIS_HEIGHT,nullValue:r,summaryYPosition:b-o,showOverallSummary:H,headerTextHeight:x,footerTextHeight:F,titleY:a+Jn.TITLE_HEIGHT-8,subtitleY:a+_+Jn.SUBTITLE_HEIGHT-4,mainY:x+a,footerY:x+a+g+b+Qn.AXIS_HEIGHT+Qn.AXIS_LABEL_HEIGHT+a,autoWidths:M,labelWidth:D}}function zc(t){var d;const e=t.data.rows,r=Array.isArray(t.data.groups)?t.data.groups:[];if(r.length===0)return e.map(u=>({type:"data",row:u,depth:0}));const i=new Map;for(const u of r)i.set(u.id,u);const o=new Map;for(const u of e){const h=u.groupId??null;o.has(h)||o.set(h,[]),o.get(h).push(u)}const a=new Set;for(const u of o.keys()){if(!u)continue;let h=u;for(;h;)a.add(h),h=(d=i.get(h))==null?void 0:d.parentId}function s(u){return r.filter(h=>(h.parentId??null)===u&&a.has(h.id))}function c(u){if(!u)return 0;const h=i.get(u);return h?h.depth+1:0}function f(u){var p;let h=((p=o.get(u))==null?void 0:p.length)??0;for(const _ of s(u))h+=f(_.id);return h}const l=[];function g(u){if(u){const p=i.get(u);if(!p)return;const _=f(u);l.push({type:"group_header",groupId:p.id,label:p.label,depth:p.depth,rowCount:_})}for(const p of s(u))g(p.id);const h=o.get(u)??[];for(const p of h)l.push({type:"data",row:p,depth:c(p.groupId)})}return g(null),l}function Ms(t){const e=[];for(const r of t)r.isGroup?e.push(...Ms(r.columns)):e.push(r);return e}function Ss(t){const e=[];for(const r of t)r.isGroup?e.push(...Ms(r.columns)):e.push(r);return e}function Es(t,e){if(e===void 0)return Ss(t);const r=[];for(const i of t)i.position===e&&(i.isGroup?r.push(...Ms(i.columns)):r.push(i));return r}function Dc(t,e){return t.filter(r=>r.position===e)}function ks(t){return t.some(e=>e.isGroup)}function nr(t){return t.endsWith("rem")?parseFloat(t)*Jn.REM_BASE:t.endsWith("px")?parseFloat(t):Jn.DEFAULT_FONT_SIZE}function _a(t,e,r){return r==="right"?{textX:t+e-Ae.TEXT_PADDING,anchor:"end"}:r==="center"?{textX:t+e/2,anchor:"middle"}:{textX:t+Ae.TEXT_PADDING,anchor:"start"}}function fn(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function Bc(t,e,r,i=0){const o=e-i*2;if(Gn(t,r)<=o)return t;const s="…",c=r*.55;let f=0,l=t.length;for(;f<l;){const g=Math.ceil((f+l)/2),d=t.slice(0,g);Gn(d,r)+c<=o?f=g:l=g-1}return f===0?s:t.slice(0,f)+s}function Bg(t){return Math.abs(t)<.01?"0":Math.abs(t)>=100?t.toFixed(0):Math.abs(t)>=10?t.toFixed(1):t.toFixed(2)}function Gc(t,e){const[r,i]=t,[o,a]=e,s=(a-o)/(i-r),c=f=>o+(f-r)*s;return c.domain=()=>t,c.range=()=>e,c.ticks=f=>{const l=(i-r)/(f-1),g=[];for(let d=0;d<f;d++)g.push(r+l*d);return g},c}function Vc(t,e){const[r,i]=t.map(g=>Math.max(g,.001)),[o,a]=e,s=Math.log10(r),c=Math.log10(i),f=(a-o)/(c-s),l=g=>{const d=Math.log10(Math.max(g,.001));return o+(d-s)*f};return l.domain=()=>[r,i],l.range=()=>e,l.ticks=g=>{const d=[],u=Math.floor(Math.log10(r)),h=Math.ceil(Math.log10(i));for(let p=u;p<=h;p++){const _=Math.pow(10,p);for(const y of[1,2,5]){const x=_*y;x>=r&&x<=i&&d.push(x)}}return d.length>0?d:[r,i]},l}function Gg(t,e,r,i){const o=r.scale==="log",a=Ae.AXIS_LABEL_PADDING,s=a,c=Math.max(e-a,s+50);if(i!=null&&i.xDomain){const u=i.xDomain,h=i.clipBounds??u,p=Ol(h,t.theme.axis,r.scale,r.nullValue);return o?{scale:Vc([Math.max(u[0],.01),Math.max(u[1],.02)],[s,c]),clipBounds:h,ticks:p}:{scale:Gc(u,[s,c]),clipBounds:h,ticks:p}}const f=Vl({rows:t.data.rows,config:t.theme.axis,scale:r.scale,nullValue:r.nullValue,forestWidth:e,pointSize:t.theme.shapes.pointSize,effects:r.effects,pointCol:r.pointCol,lowerCol:r.lowerCol,upperCol:r.upperCol}),{plotRegion:l,axisLimits:g,ticks:d}=f;return o?{scale:Vc([Math.max(l[0],.01),Math.max(l[1],.02)],[s,c]),clipBounds:g,ticks:d}:{scale:Gc(l,[s,c]),clipBounds:g,ticks:d}}function Vg(t,e,r){var a,s;const i=[],o=r.spacing.padding;if((a=t.labels)!=null&&a.title){const c=nr(r.typography.fontSizeLg);i.push(`<text x="${o}" y="${e.titleY}"
      font-family="${r.typography.fontFamily}"
      font-size="${c}px"
      font-weight="${r.typography.fontWeightBold}"
      fill="${r.colors.foreground}">${fn(t.labels.title)}</text>`)}if((s=t.labels)!=null&&s.subtitle){const c=nr(r.typography.fontSizeBase);i.push(`<text x="${o}" y="${e.subtitleY}"
      font-family="${r.typography.fontFamily}"
      font-size="${c}px"
      fill="${r.colors.secondary}">${fn(t.labels.subtitle)}</text>`)}return i.join(`
`)}function Og(t,e,r){var s,c;const i=[],o=r.spacing.padding;let a=e.footerY;if((s=t.labels)!=null&&s.caption){const f=nr(r.typography.fontSizeSm);i.push(`<text x="${o}" y="${a}"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      fill="${r.colors.secondary}">${fn(t.labels.caption)}</text>`),a+=Jn.CAPTION_HEIGHT}if((c=t.labels)!=null&&c.footnote){const f=nr(r.typography.fontSizeSm);i.push(`<text x="${o}" y="${a}"
      font-family="${r.typography.fontFamily}"
      font-size="${f}px"
      font-style="italic"
      fill="${r.colors.muted}">${fn(t.labels.footnote)}</text>`)}return i.join(`
`)}function jg(t,e,r,i,o,a,s){const c=[],f=e+1,l=s.groupHeaders;let g,d,u,h,p;if(f===1?(g=nr((l==null?void 0:l.level1FontSize)??s.typography.fontSizeBase),d=(l==null?void 0:l.level1FontWeight)??s.typography.fontWeightBold,u=(l==null?void 0:l.level1Italic)??!1,h=(l==null?void 0:l.level1Background)??null,p=(l==null?void 0:l.level1BorderBottom)??!1):f===2?(g=nr((l==null?void 0:l.level2FontSize)??s.typography.fontSizeBase),d=(l==null?void 0:l.level2FontWeight)??s.typography.fontWeightMedium,u=(l==null?void 0:l.level2Italic)??!0,h=(l==null?void 0:l.level2Background)??null,p=(l==null?void 0:l.level2BorderBottom)??!1):(g=nr((l==null?void 0:l.level3FontSize)??s.typography.fontSizeBase),d=(l==null?void 0:l.level3FontWeight)??s.typography.fontWeightNormal,u=(l==null?void 0:l.level3Italic)??!1,h=(l==null?void 0:l.level3Background)??null,p=(l==null?void 0:l.level3BorderBottom)??!1),!h){const T=s.colors.primary,I=f===1?.15:f===2?.1:.06,F=T.replace("#",""),k=parseInt(F.substring(0,2),16),H=parseInt(F.substring(2,4),16),b=parseInt(F.substring(4,6),16);h=`rgba(${k}, ${H}, ${b}, ${I})`}const _=i+o/2+g*Jn.TEXT_BASELINE_ADJUSTMENT,y=e*((l==null?void 0:l.indentPerLevel)??Ae.INDENT_PER_LEVEL);c.push(`<rect x="${r}" y="${i}"
    width="${a}" height="${o}"
    fill="${h}"/>`),p&&c.push(`<line x1="${r}" x2="${r+a}" y1="${i+o}" y2="${i+o}"
      stroke="${s.colors.border}" stroke-width="1" opacity="0.5"/>`);const x=u?' font-style="italic"':"";return c.push(`<text x="${r+Ae.TEXT_PADDING+y}" y="${_}"
    font-family="${s.typography.fontFamily}"
    font-size="${g}px"
    font-weight="${d}"${x}
    fill="${s.colors.foreground}">${fn(t)}</text>`),c.join(`
`)}function Xg(t,e){const r=new Map;for(const i of e)if(i.type==="bar"){let o=0;for(const a of t){const s=a.metadata[i.field];typeof s=="number"&&s>o&&(o=s)}r.set(i.field,o>0?o:1)}return r}function Ug(t,e){var i,o,a,s,c,f,l,g,d,u,h,p,_,y,x,T,I,F,k;if(e.type==="interval"){const H=(o=(i=e.options)==null?void 0:i.interval)!=null&&o.point?t.metadata[e.options.interval.point]:t.point,b=(s=(a=e.options)==null?void 0:a.interval)!=null&&s.lower?t.metadata[e.options.interval.lower]:t.lower,C=(f=(c=e.options)==null?void 0:c.interval)!=null&&f.upper?t.metadata[e.options.interval.upper]:t.upper;return ws(H,b,C,e.options)}if(e.type==="numeric"){const H=t.metadata[e.field];return typeof H=="number"?Bo(H,e.options):((l=e.options)==null?void 0:l.naText)??""}if(e.type==="custom"&&((g=e.options)!=null&&g.events))return xs(t,e.options);if(e.type==="pvalue"){const H=t.metadata[e.field];return typeof H!="number"?((d=e.options)==null?void 0:d.naText)??"":Ic(H,e.options)}if(e.type==="icon"){const H=t.metadata[e.field];if(H==null)return"";const b=String(H),C=(h=(u=e.options)==null?void 0:u.icon)==null?void 0:h.mapping;return C&&b in C?C[b]:b}if(e.type==="badge"){const H=t.metadata[e.field];return H!=null?String(H):""}if(e.type==="stars"){const H=t.metadata[e.field];if(typeof H!="number")return"";const b=((_=(p=e.options)==null?void 0:p.stars)==null?void 0:_.maxStars)??5,C=Math.max(0,Math.min(b,H)),z=Math.floor(C),E=b-z;return"★".repeat(z)+"☆".repeat(E)}if(e.type==="img")return((x=(y=e.options)==null?void 0:y.img)==null?void 0:x.fallback)??"[IMG]";if(e.type==="reference"){const H=t.metadata[e.field];if(H==null)return"";const b=String(H),C=((I=(T=e.options)==null?void 0:T.reference)==null?void 0:I.maxChars)??30;return b.length<=C?b:b.substring(0,C)+"..."}if(e.type==="range"){const H=(F=e.options)==null?void 0:F.range;if(!H)return"";const b=t.metadata[H.minField],C=t.metadata[H.maxField],z=H.separator??" – ",E=H.decimals,N=M=>typeof M!="number"?"":E==null?Number.isInteger(M)?String(M):M.toFixed(1):M.toFixed(E);return b===null&&C===null?"":b===null?N(C):C===null?N(b):`${N(b)}${z}${N(C)}`}const r=t.metadata[e.field];return r!=null?String(r):((k=e.options)==null?void 0:k.naText)??""}function qg(t,e,r,i,o){const a=t.filter(g=>Number.isFinite(g));if(a.length===0)return"";if(a.length===1){const g=e+i/2,d=r+o/2;return`M${g.toFixed(1)},${d.toFixed(1)}`}const s=Math.min(...a),f=Math.max(...a)-s||1;return`M${a.map((g,d)=>{const u=e+d/(a.length-1)*i,h=r+o-(g-s)/f*o;return`${u.toFixed(1)},${h.toFixed(1)}`}).join("L")}`}function Yg(t,e,r,i,o,a=[],s,c=0,f=1/0,l,g=!1){var b;let d;if(a.length===0){const C=!g||t.point!=null&&t.point>0?t.point:null,z=!g||t.lower!=null&&t.lower>0?t.lower:null,E=!g||t.upper!=null&&t.upper>0?t.upper:null;d=[{point:C,lower:z,upper:E,color:null,shape:null,opacity:null}]}else d=a.map(C=>({point:Zn(t.metadata,t.point,C.pointCol,"point",g),lower:Zn(t.metadata,t.lower,C.lowerCol,"lower",g),upper:Zn(t.metadata,t.upper,C.upperCol,"upper",g),color:C.color??null,shape:C.shape??null,opacity:C.opacity??null}));const u=d.filter(C=>C.point!=null&&!Number.isNaN(C.point)&&C.lower!=null&&!Number.isNaN(C.lower)&&C.upper!=null&&!Number.isNaN(C.upper));if(u.length===0)return"";const h=i.shapes.pointSize,p=i.shapes.lineWidth,_=i.colors.intervalLine,y=((b=t.style)==null?void 0:b.type)==="summary",T=i.shapes.summaryHeight/2;function I(C){var E;if(C&&((E=t.markerStyle)==null?void 0:E.size)!=null)return h*t.markerStyle.size;const z=s?t.metadata[s]:void 0;if(z){const N=.5+Math.sqrt(z/100)*1.5;return Math.min(Math.max(h*N,3),h*2.5)}return h}function F(C,z){const E=z===0,N=t.markerStyle,M=i.shapes.effectColors,D=i.shapes.markerShapes,B=["square","circle","diamond","triangle"];let rt;E&&(N!=null&&N.color)?rt=N.color:C.color?rt=C.color:M&&M.length>0?rt=M[z%M.length]:rt=i.colors.interval??i.colors.primary??"#2563eb";let nt;E&&(N!=null&&N.shape)?nt=N.shape:C.shape?nt=C.shape:D&&D.length>0?nt=D[z%D.length]:nt=B[z%B.length];let et;return E&&(N==null?void 0:N.opacity)!=null?et=N.opacity:C.opacity!=null?et=C.opacity:et=1,{color:rt,shape:nt,opacity:et}}function k(C,z,E,N){const{color:M,shape:D,opacity:B}=N,rt=B<1?` fill-opacity="${B}"`:"";switch(D){case"circle":return`<circle cx="${C}" cy="${z}" r="${E}" fill="${M}"${rt}/>`;case"diamond":return`<polygon points="${[`${C},${z-E}`,`${C+E},${z}`,`${C},${z+E}`,`${C-E},${z}`].join(" ")}" fill="${M}"${rt}/>`;case"triangle":return`<polygon points="${[`${C},${z-E}`,`${C+E},${z+E}`,`${C-E},${z+E}`].join(" ")}" fill="${M}"${rt}/>`;default:return`<rect x="${C-E}" y="${z-E}" width="${E*2}" height="${E*2}" fill="${M}"${rt}/>`}}const H=[];return u.forEach((C,z)=>{const E=e+ql(z,u.length),N=r(C.lower),M=r(C.upper),D=r(C.point),B=F(C,z),rt=I(z===0),nt=_;if(y){const et=B.opacity<1?` fill-opacity="${B.opacity}"`:"",wt=[`${N},${E}`,`${D},${E-T}`,`${M},${E}`,`${D},${E+T}`].join(" ");H.push(`
        <g class="interval effect-${z} summary">
          <polygon points="${wt}"
            fill="${B.color}"${et} stroke="${i.colors.summaryBorder}" stroke-width="1"/>
        </g>`)}else{const et=Ae.AXIS_LABEL_PADDING,wt=c+et,J=c+f-et,kt=l?C.lower<l[0]:N<wt,vt=l?C.upper>l[1]:M>J;let st,lt;if(l){const re=Math.max(l[0],Math.min(l[1],C.lower)),pt=Math.max(l[0],Math.min(l[1],C.upper));st=r(re),lt=r(pt)}else st=Math.max(wt,Math.min(J,N)),lt=Math.max(wt,Math.min(J,M));const ct=Bl(i),qt=ct.height/2;let Yt="";kt?Yt=`<path d="${aa("left",wt,E,ct)}" fill="${ct.color}"/>`:Yt=`<line x1="${st}" x2="${st}" y1="${E-qt}" y2="${E+qt}" stroke="${nt}" stroke-width="${p}"/>`;let dt="";vt?dt=`<path d="${aa("right",J,E,ct)}" fill="${ct.color}"/>`:dt=`<line x1="${lt}" x2="${lt}" y1="${E-qt}" y2="${E+qt}" stroke="${nt}" stroke-width="${p}"/>`;const Ct=l?r(Math.max(l[0],Math.min(l[1],C.point))):Math.max(wt,Math.min(J,D));H.push(`
        <g class="interval effect-${z}">
          <line x1="${st}" x2="${lt}" y1="${E}" y2="${E}"
            stroke="${nt}" stroke-width="${p}"/>
          ${Yt}
          ${dt}
          ${k(Ct,E,rt,B)}
        </g>`)}}),H.join("")}function Zg(t,e,r,i,o,a,s,c){const l=c.shapes.summaryHeight/2,[g,d]=o.domain().map(k=>o(k)),u=Math.min(g,d),h=Math.max(g,d),p=o(e),_=o(t),y=o(r),x=a+Math.max(u,Math.min(h,p)),T=a+Math.max(u,Math.min(h,_)),I=a+Math.max(u,Math.min(h,y));return`<polygon points="${[`${x},${i}`,`${T},${i-l}`,`${I},${i}`,`${T},${i+l}`].join(" ")}"
    fill="${c.colors.summaryFill}"
    stroke="${c.colors.summaryBorder}"
    stroke-width="1"/>`}function Kg(t,e,r,i,o,a,s=1,c){const f=[],l=typeof r.axis.tickCount=="number"?r.axis.tickCount:Ae.DEFAULT_TICK_COUNT,g=$g(t,l,r,s,a,c),d=nr(r.typography.fontSizeSm),u=Ul.EDGE_THRESHOLD,h=_=>_<u?"start":_>a-u?"end":"middle",p=_=>_<u?2:_>a-u?-2:0;f.push(`<line x1="${o}" x2="${o+a}"
    y1="0" y2="0" stroke="${r.colors.border}" stroke-width="1"/>`);for(const _ of g){const y=t(_),x=o+y,T=h(y),I=p(y);f.push(`<line x1="${x}" x2="${x}" y1="0" y2="4"
      stroke="${r.colors.border}" stroke-width="1"/>`),f.push(`<text x="${x+I}" y="16" text-anchor="${T}"
      font-family="${r.typography.fontFamily}"
      font-size="${d}px"
      fill="${r.colors.secondary}">${Bg(_)}</text>`)}return i&&f.push(`<text x="${o+a/2}" y="28"
      text-anchor="middle"
      font-family="${r.typography.fontFamily}"
      font-size="${d}px"
      font-weight="500"
      fill="${r.colors.secondary}">${fn(i)}</text>`),`<g transform="translate(0, ${e.mainY+e.headerHeight+e.plotHeight})">${f.join(`
`)}</g>`}function Qg(t,e,r,i,o,a,s,c,f,l){const g=[],d=nr(a.typography.fontSizeBase),u=a.typography.headerFontScale??1.05,h=d*u,p=a.typography.fontWeightMedium,_=a.typography.fontWeightBold,y=ks(t),x=(T,I)=>T+I/2+h*Jn.TEXT_BASELINE_ADJUSTMENT;if(y){const T=o/2,I=o/2;let F=r;g.push(`<text x="${F+Ae.TEXT_PADDING}" y="${x(i,o)}"
      font-family="${a.typography.fontFamily}"
      font-size="${h}px"
      font-weight="${p}"
      fill="${a.colors.foreground}">${fn(s)}</text>`),F+=c;const k=[];for(const H of t)if(H.isGroup){const b=H.columns.reduce((z,E)=>E.isGroup?z+E.columns.reduce((N,M)=>N+l(M),0):z+l(E),0),C=F+b/2;g.push(`<text x="${C}" y="${x(i,T)}"
          font-family="${a.typography.fontFamily}"
          font-size="${h}px"
          font-weight="${_}"
          text-anchor="middle"
          fill="${a.colors.foreground}">${fn(H.header)}</text>`),k.push({x1:F,x2:F+b}),F+=b}else{const b=l(H),C=H.headerAlign??H.align,{textX:z,anchor:E}=_a(F,b,C),N=Bc(H.header,b,h,Ae.TEXT_PADDING);g.push(`<text x="${z}" y="${x(i,o)}"
          font-family="${a.typography.fontFamily}"
          font-size="${h}px"
          font-weight="${p}"
          text-anchor="${E}"
          fill="${a.colors.foreground}">${fn(N)}</text>`),F+=b}for(const H of k)g.push(`<line x1="${H.x1}" x2="${H.x2}"
        y1="${i+T}" y2="${i+T}"
        stroke="${a.colors.border}" stroke-width="1" opacity="0.5"/>`);F=r+c;for(const H of t)if(H.isGroup){for(const b of H.columns)if(!b.isGroup){const C=l(b),z=b.headerAlign??b.align,{textX:E,anchor:N}=_a(F,C,z);g.push(`<text x="${E}" y="${x(i+T,I)}"
              font-family="${a.typography.fontFamily}"
              font-size="${h}px"
              font-weight="${p}"
              text-anchor="${N}"
              fill="${a.colors.foreground}">${fn(b.header)}</text>`),F+=C}}else F+=l(H)}else{let T=r;g.push(`<text x="${T+Ae.TEXT_PADDING}" y="${x(i,o)}"
      font-family="${a.typography.fontFamily}"
      font-size="${h}px"
      font-weight="${p}"
      fill="${a.colors.foreground}">${fn(s)}</text>`),T+=c;for(const I of e){const F=l(I),k=I.headerAlign??I.align,{textX:H,anchor:b}=_a(T,F,k),C=Bc(I.header,F,h,Ae.TEXT_PADDING);g.push(`<text x="${H}" y="${x(i,o)}"
        font-family="${a.typography.fontFamily}"
        font-size="${h}px"
        font-weight="${p}"
        text-anchor="${b}"
        fill="${a.colors.foreground}">${fn(C)}</text>`),T+=F}}return g.join(`
`)}function Jg(t,e,r,i,o,a,s,c,f,l,g,d){var I,F,k,H,b,C,z,E,N,M,D,B,rt,nt,et,wt,J,kt,vt,st,lt,ct,qt,Yt,dt,Ct,re,pt,zt;const u=[],h=nr(a.typography.fontSizeBase),p=i+o/2+h*Jn.TEXT_BASELINE_ADJUSTMENT,_=c*Ae.INDENT_PER_LEVEL+(((I=t.style)==null?void 0:I.indent)??0)*Ae.INDENT_PER_LEVEL,y=(F=t.style)!=null&&F.bold||(k=t.style)!=null&&k.emphasis?a.typography.fontWeightBold:a.typography.fontWeightNormal,x=(H=t.style)!=null&&H.italic?"italic":"normal";let T=a.colors.foreground;if((b=t.style)!=null&&b.color?T=t.style.color:(C=t.style)!=null&&C.muted?T=a.colors.muted:(z=t.style)!=null&&z.accent&&(T=a.colors.accent),u.push(`<text x="${r+Ae.TEXT_PADDING+_}" y="${p}"
    font-family="${a.typography.fontFamily}"
    font-size="${h}px"
    font-weight="${y}"
    font-style="${x}"
    fill="${T}">${fn(t.label)}</text>`),(E=t.style)!=null&&E.badge){const Ve=String(t.style.badge),_t=h*kr.FONT_SCALE,Nt=_t+kr.PADDING*2,he=Gn(t.label,h),Je=r+Ae.TEXT_PADDING+_+he+kr.GAP,Ln=Gn(Ve,_t)+kr.PADDING*2,ee=i+(o-Nt)/2;u.push(`<rect x="${Je}" y="${ee}" width="${Ln}" height="${Nt}"
      rx="3" fill="${a.colors.primary}" opacity="0.15"/>`),u.push(`<text x="${Je+Ln/2}" y="${ee+Nt/2+_t*.35}"
      text-anchor="middle"
      font-family="${a.typography.fontFamily}"
      font-size="${_t}px"
      font-weight="500"
      fill="${a.colors.primary}">${fn(Ve)}</text>`)}for(let Ve=0;Ve<e.length;Ve++){const _t=e[Ve],Nt=d[Ve],he=g(_t);if(_t.type==="forest")continue;const Je=Ug(t,_t),{textX:Xe,anchor:Ln}=_a(Nt,he,_t.align);if(_t.type==="bar"&&typeof t.metadata[_t.field]=="number"){const ee=t.metadata[_t.field],Ce=f.get(_t.field),Ue=((M=(N=_t.options)==null?void 0:N.bar)==null?void 0:M.maxValue)??Ce??100,Oe=((B=(D=_t.options)==null?void 0:D.bar)==null?void 0:B.color)??a.colors.primary,qe=a.shapes.pointSize*2,an=he-Ae.TEXT_PADDING*2-50,jt=Math.min(ee/Ue*an,an);u.push(`<rect x="${Nt+Ae.TEXT_PADDING}" y="${i+o/2-qe/2}"
        width="${Math.max(0,jt)}" height="${qe}"
        fill="${Oe}" opacity="0.7" rx="2"/>`),u.push(`<text x="${Nt+he-Ae.TEXT_PADDING}" y="${p}"
        font-family="${a.typography.fontFamily}"
        font-size="${h}px"
        text-anchor="end"
        fill="${a.colors.foreground}">${Bo(ee)}</text>`)}else if(_t.type==="sparkline"&&Array.isArray(t.metadata[_t.field])){let ee=t.metadata[_t.field];Array.isArray(ee[0])&&(ee=ee[0]);const Ce=((nt=(rt=_t.options)==null?void 0:rt.sparkline)==null?void 0:nt.height)??16,Ue=((wt=(et=_t.options)==null?void 0:et.sparkline)==null?void 0:wt.color)??a.colors.primary,Oe=Ae.TEXT_PADDING*2,qe=qg(ee,Nt+Ae.TEXT_PADDING,i+o/2-Ce/2,he-Oe,Ce);u.push(`<path d="${qe}" fill="none" stroke="${Ue}" stroke-width="1.5"/>`)}else if(_t.type==="badge"){const ee=t.metadata[_t.field];if(ee!=null){const Ce=String(ee),Ue=h*.85,Oe=Ue+8,qe=(kt=(J=_t.options)==null?void 0:J.badge)==null?void 0:kt.variants,En=(st=(vt=_t.options)==null?void 0:vt.badge)==null?void 0:st.colors;let an=a.colors.primary,jt=a.colors.primary;if(En&&Ce in En)an=En[Ce],jt=En[Ce];else if(qe&&Ce in qe){const xn=qe[Ce];an={default:a.colors.primary,...Ho,muted:a.colors.muted}[xn]??a.colors.primary,jt=an}const Pe=Gn(Ce,Ue)+12,sr=_t.align==="right"?Nt+he-Ae.TEXT_PADDING-Pe:_t.align==="center"?Nt+(he-Pe)/2:Nt+Ae.TEXT_PADDING,_r=i+(o-Oe)/2;u.push(`<rect x="${sr}" y="${_r}" width="${Pe}" height="${Oe}"
          rx="${Oe/2}" fill="${an}" opacity="0.15"/>`),u.push(`<text x="${sr+Pe/2}" y="${_r+Oe/2+Ue*.35}"
          text-anchor="middle"
          font-family="${a.typography.fontFamily}"
          font-size="${Ue}px"
          font-weight="500"
          fill="${jt}">${fn(Ce)}</text>`)}}else if(_t.type==="stars"){const ee=t.metadata[_t.field];if(typeof ee=="number"){const Ce=((ct=(lt=_t.options)==null?void 0:lt.stars)==null?void 0:ct.maxStars)??5,Ue=((Yt=(qt=_t.options)==null?void 0:qt.stars)==null?void 0:Yt.color)??"#f59e0b",Oe=((Ct=(dt=_t.options)==null?void 0:dt.stars)==null?void 0:Ct.emptyColor)??"#d1d5db",qe=Math.max(0,Math.min(Ce,ee)),En=Math.floor(qe),an=((pt=(re=_t.options)==null?void 0:re.stars)==null?void 0:pt.halfStars)&&qe-En>=.5,jt=12,Gt=2,Pe=Ce*jt+(Ce-1)*Gt;let sr=_t.align==="right"?Nt+he-Ae.TEXT_PADDING-Pe:_t.align==="center"?Nt+(he-Pe)/2:Nt+Ae.TEXT_PADDING;const _r=i+(o-jt)/2,xn=($e,kn,Ur)=>{const wn=Ur/2,Ye=wn*.4;let dn="";for(let Fn=0;Fn<5;Fn++){const ro=(Fn*72-90)*Math.PI/180,S=(Fn*72+36-90)*Math.PI/180,L=$e+wn*Math.cos(ro),X=kn+wn*Math.sin(ro),Y=$e+Ye*Math.cos(S),yt=kn+Ye*Math.sin(S);dn+=(Fn===0?`M${L},${X}`:`L${L},${X}`)+`L${Y},${yt}`}return dn+"Z"};for(let $e=0;$e<Ce;$e++){const kn=sr+jt/2,Ur=_r+jt/2,Ye=$e<En||$e===En&&an?Ue:Oe;u.push(`<path d="${xn(kn,Ur,jt)}" fill="${Ye}"/>`),sr+=jt+Gt}}}else{const ee=(zt=t.cellStyles)==null?void 0:zt[_t.field];let Ce=a.typography.fontWeightNormal,Ue="normal",Oe=a.colors.foreground;ee&&((ee.bold||ee.emphasis)&&(Ce=a.typography.fontWeightBold),ee.italic&&(Ue="italic"),ee.color?Oe=ee.color:ee.muted?Oe=a.colors.muted:ee.accent&&(Oe=a.colors.accent)),u.push(`<text x="${Xe}" y="${p}"
        font-family="${a.typography.fontFamily}"
        font-size="${h}px"
        font-weight="${Ce}"
        font-style="${Ue}"
        text-anchor="${Ln}"
        fill="${Oe}">${fn(Je)}</text>`)}}return u.join(`
`)}function $g(t,e,r,i,o,a){if(Array.isArray(r.axis.tickValues)&&r.axis.tickValues.length>0){const[b,C]=t.domain();let z=r.axis.tickValues.filter(M=>M>=b&&M<=C);const E=r.axis.nullTick!==!1,N=i>=b&&i<=C;return E&&N&&!z.includes(i)&&(z=[...z,i].sort((M,D)=>M-D)),z}const[s,c]=t.domain(),f=r.axis.nullTick!==!1,l=i>=s&&i<=c,g=Ul.MIN_TICK_SPACING,d=Math.max(2,Math.floor(o/g)),u=Math.min(e,Math.min(7,d)),h=a&&a.length>0?a.filter(b=>b>=s&&b<=c):t.ticks(u);if(h.length===0)return f&&l?[i]:[];const p=t(i),_=h.filter(b=>b<i).reverse(),y=h.filter(b=>b>i),x=h.some(b=>b===i),T=[];let I=p;for(const b of _){const C=t(b);I-C>=g&&(T.unshift(b),I=C)}const F=[];let k=p;for(const b of y){const C=t(b);C-k>=g&&(F.push(b),k=C)}const H=[...T];if((x||f&&l)&&H.push(i),H.push(...F),H.length<2){const b=new Set(H);b.has(s)||H.unshift(s),H.length<2&&!b.has(c)&&H.push(c)}return H}function Cs(t,e,r,i,o,a,s=1,c=.6){let l=`<line x1="${t}" x2="${t}" y1="${e}" y2="${r}"
    stroke="${o}" stroke-width="${s}" stroke-opacity="${c}" stroke-dasharray="${i==="dashed"?"6,4":i==="dotted"?"2,2":"none"}"/>`;return a&&(l+=`<text x="${t}" y="${e-4}" text-anchor="middle"
      font-size="10px" fill="${o}">${fn(a)}</text>`),l}class Ti extends Error{constructor(e){super(`SVG Generator: ${e}`),this.name="SVGGeneratorError"}}function tv(t){if(!t||typeof t!="object")throw new Ti("Invalid spec: expected an object");const e=t;if(!e.data||typeof e.data!="object")throw new Ti("Invalid spec: missing or invalid 'data' property");const r=e.data;if(!Array.isArray(r.rows))throw new Ti("Invalid spec: 'data.rows' must be an array");if(!e.theme||typeof e.theme!="object")throw new Ti("Invalid spec: missing or invalid 'theme' property");const i=e.theme;if(!i.colors||typeof i.colors!="object")throw new Ti("Invalid spec: missing or invalid 'theme.colors'");if(!i.typography||typeof i.typography!="object")throw new Ti("Invalid spec: missing or invalid 'theme.typography'");if(!i.spacing||typeof i.spacing!="object")throw new Ti("Invalid spec: missing or invalid 'theme.spacing'")}function ev(t){var a;const r=Es(t.columns,void 0).find(s=>s.type==="forest");if(!r||!((a=r.options)!=null&&a.forest))return{scale:"linear",nullValue:0,effects:[],axisLabel:"Effect",pointCol:null,lowerCol:null,upperCol:null};const i=r.options.forest,o=i.scale??"linear";return{scale:o,nullValue:i.nullValue??(o==="log"?1:0),effects:i.effects??[],axisLabel:i.axisLabel??"Effect",pointCol:i.point??null,lowerCol:i.lower??null,upperCol:i.upper??null}}function Oc(t,e={}){var C,z;tv(t);const r=t.theme,i=r.spacing.padding,o=Array.isArray(t.columns)?t.columns:[],a=Ss(o),s=[];for(let E=0;E<a.length;E++)a[E].type==="forest"&&s.push(E);s.length>0;const c=ev(t),f=Dg(t,e,c.nullValue),l=f.autoWidths,g=E=>{var M,D;if(E.type==="forest")return typeof E.width=="number"?E.width:((D=(M=E.options)==null?void 0:M.forest)==null?void 0:D.width)??f.forestWidth;const N=l.get(E.id);return N!==void 0?N:typeof E.width=="number"?E.width:Qn.DEFAULT_COLUMN_WIDTH},d=[];let u=i+f.labelWidth;for(const E of a)d.push(u),u+=g(E);const h=[];h.push(`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg"
  width="${f.totalWidth}" height="${f.totalHeight}"
  viewBox="0 0 ${f.totalWidth} ${f.totalHeight}">`);const p=e.backgroundColor??r.colors.background;h.push(`<rect width="100%" height="100%" fill="${p}"/>`),h.push(Vg(t,f,r)),h.push(`<line x1="${i}" x2="${f.totalWidth-i}"
    y1="${f.mainY}" y2="${f.mainY}"
    stroke="${r.colors.border}" stroke-width="2"/>`);const _=f.mainY;h.push(Qg(o,a,i,_,f.headerHeight,r,t.data.labelHeader??"Study",f.labelWidth,l,g)),h.push(`<line x1="${i}" x2="${f.totalWidth-i}"
    y1="${_+f.headerHeight}" y2="${_+f.headerHeight}"
    stroke="${r.colors.border}" stroke-width="2"/>`);const y=zc(t),x=[],T=[];let I=0;for(const E of y){const M=E.type==="data"&&((C=E.row.style)==null?void 0:C.type)==="spacer"?f.rowHeight/2:f.rowHeight;x.push(I),T.push(M),I+=M}const F=f.mainY+f.headerHeight;r.layout.banding&&y.forEach((E,N)=>{var M,D;if(E.type==="data"){const B=E.row,rt=((M=B.style)==null?void 0:M.type)==="spacer",nt=(D=B.style)==null?void 0:D.bg;if(!rt&&!nt){const et=F+x[N],wt=T[N],kt=N%2===1?r.colors.altBg:r.colors.rowBg;kt!==r.colors.background&&h.push(`<rect x="${i}" y="${et}"
              width="${f.totalWidth-i*2}" height="${wt}"
              fill="${kt}"/>`)}}});for(const E of s){const N=a[E],M=d[E],D=g(N),B=(z=N.options)==null?void 0:z.forest,rt=(B==null?void 0:B.scale)??"linear",nt=(B==null?void 0:B.nullValue)??(rt==="log"?1:0),et=(B==null?void 0:B.axisLabel)??"Effect",wt=rt==="log";let J=(B==null?void 0:B.effects)??[];const kt=(B==null?void 0:B.point)??null,vt=(B==null?void 0:B.lower)??null,st=(B==null?void 0:B.upper)??null;J.length===0&&(kt||vt||st)&&(J=[{pointCol:kt,lowerCol:vt,upperCol:st}]);const lt={scale:rt,nullValue:nt,effects:J,pointCol:(B==null?void 0:B.point)??null,lowerCol:(B==null?void 0:B.lower)??null,upperCol:(B==null?void 0:B.upper)??null},{scale:ct,clipBounds:qt,ticks:Yt}=Gg(t,D,lt,e),dt=M+ct(nt);h.push(Cs(dt,F,F+f.plotHeight,"dashed",r.colors.muted));const Ct=(B==null?void 0:B.annotations)??[];for(const pt of Ct)if(pt.type==="reference_line"){const zt=M+ct(pt.x);h.push(Cs(zt,F,F+f.plotHeight,pt.style,pt.color??r.colors.accent,pt.label,pt.width??1,pt.opacity??.6))}const re=Array.isArray(t.annotations)?t.annotations:[];for(const pt of re)if(pt.type==="reference_line"){const zt=M+ct(pt.x);h.push(Cs(zt,F,F+f.plotHeight,pt.style,pt.color??r.colors.accent,pt.label,pt.width??1,pt.opacity??.6))}if(y.forEach((pt,zt)=>{if(pt.type==="data"){const Ve=F+x[zt]+T[zt]/2;h.push(Yg(pt.row,Ve,_t=>M+ct(_t),r,nt,J,t.data.weightCol,M,D,qt,wt))}}),t.data.overall&&f.showOverallSummary&&typeof t.data.overall.point=="number"&&!Number.isNaN(t.data.overall.point)&&typeof t.data.overall.lower=="number"&&!Number.isNaN(t.data.overall.lower)&&typeof t.data.overall.upper=="number"&&!Number.isNaN(t.data.overall.upper)){const pt=F+f.summaryYPosition;h.push(Zg(t.data.overall.point,t.data.overall.lower,t.data.overall.upper,pt,ct,M,D,r))}h.push(Kg(ct,f,r,et,M,D,nt,Yt))}const k=f.mainY+f.headerHeight,H=t.data.rows,b=Xg(H,a);return y.forEach((E,N)=>{var B,rt;const M=k+x[N],D=T[N];if(E.type==="group_header")h.push(jg(E.label,E.depth,i,M,D,f.totalWidth-i*2,r));else{const nt=E.row,et=E.depth;h.push(Jg(nt,a,i,M,D,r,f.labelWidth,et,b,l,g,d))}if(E.type==="data"){const nt=E.row,et=((B=nt.style)==null?void 0:B.type)==="summary",wt=((rt=nt.style)==null?void 0:rt.type)==="spacer";et&&h.push(`<line x1="${i}" x2="${f.totalWidth-i}"
          y1="${M}" y2="${M}"
          stroke="${r.colors.border}" stroke-width="2"/>`),wt||h.push(`<line x1="${i}" x2="${f.totalWidth-i}"
          y1="${M+D}" y2="${M+D}"
          stroke="${r.colors.border}" stroke-width="1"/>`)}else h.push(`<line x1="${i}" x2="${f.totalWidth-i}"
        y1="${M+D}" y2="${M+D}"
        stroke="${r.colors.border}" stroke-width="1"/>`)}),h.push(Og(t,f,r)),h.push("</svg>"),h.join(`
`)}async function nv(t,e=2){return new Promise((r,i)=>{const o=new Image,a=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),s=URL.createObjectURL(a);o.onload=()=>{const c=document.createElement("canvas"),f=c.getContext("2d");if(!f){URL.revokeObjectURL(s),i(new Error("Failed to get canvas context"));return}c.width=o.width*e,c.height=o.height*e,f.scale(e,e),f.drawImage(o,0,0),c.toBlob(l=>{URL.revokeObjectURL(s),l?r(l):i(new Error("Failed to create PNG blob"))},"image/png",1)},o.onerror=()=>{URL.revokeObjectURL(s),i(new Error("Failed to load SVG image"))},o.src=s})}function rv(t,e){return Oc(t,e)}async function iv(t,e,r=2){const i=Oc(t,e);return nv(i,r)}function jc(t,e){const r=URL.createObjectURL(t),i=document.createElement("a");i.href=r,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}function Xc(t){return`forest_plot_${new Date().toISOString().slice(0,19).replace(/[:-]/g,"")}.${t}`}Or[P]="src/components/ui/DownloadButton.svelte";var ov=V(Ht('<svg width="16" height="16" viewBox="0 0 24 24" class="spin svelte-15gslqv"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="31.4" stroke-dashoffset="10"></circle></svg>'),Or[P],[[76,6,[[77,8]]]]),av=V(Ht('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>'),Or[P],[[80,6,[[81,8],[82,8],[83,8]]]]),sv=V(ot('<div class="download-dropdown svelte-15gslqv"><button class="dropdown-item svelte-15gslqv"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-15gslqv"><rect x="3" y="3" width="18" height="18" rx="2"></rect><text x="12" y="15" text-anchor="middle" font-size="8" fill="currentColor" stroke="none">SVG</text></svg> <span>Download SVG</span></button> <button class="dropdown-item svelte-15gslqv"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-15gslqv"><rect x="3" y="3" width="18" height="18" rx="2"></rect><circle cx="8.5" cy="8.5" r="1.5" fill="currentColor"></circle><path d="M21 15l-5-5L5 21"></path></svg> <span>Download PNG</span></button></div>'),Or[P],[[89,4,[[90,6,[[91,8,[[92,10],[93,10]]],[95,8]]],[97,6,[[98,8,[[99,10],[100,10],[101,10]]],[103,8]]]]]]),lv=V(ot('<div class="download-button-wrapper svelte-15gslqv"><button class="download-btn svelte-15gslqv" aria-label="Download plot"><!></button> <!></div>'),Or[P],[[66,0,[[67,2]]]]);function Or(t,e){Se(new.target),_e(e,!0,Or);let r=v(xt(!1),"dropdownOpen"),i=v(xt(!1),"isExporting"),o=v(xt(null),"triggerEl");function a(){tt(r,!1)}async function s(){if(e.store.spec)try{tt(i,!0);const x=e.store.getExportDimensions(),T=rv(e.store.spec,x),I=new Blob([T],{type:"image/svg+xml;charset=utf-8"});jc(I,Xc("svg"))}catch(x){console.error(...Dl("error","Failed to export SVG:",x))}finally{tt(i,!1),a()}}async function c(){if(e.store.spec)try{tt(i,!0);const x=e.store.getExportDimensions(),T=(await ou(iv(e.store.spec,x,2)))();jc(T,Xc("png"))}catch(x){console.error(...Dl("error","Failed to export PNG:",x))}finally{tt(i,!1),a()}}function f(x){x.target.closest(".download-button-wrapper")||a()}var l={...Ee()},g=lv();Dn("click",Xi,f);var d=U(g);d.__click=()=>tt(r,!n(r));var u=U(d);{var h=x=>{var T=ov();R(x,T)},p=x=>{var T=av();R(x,T)};W(()=>j(u,x=>{n(i)?x(h):x(p,!1)}),"if",Or,75,4)}ei(d,x=>tt(o,x),()=>n(o));var _=K(d,2);{var y=x=>{var T=sv(),I=U(T);I.__click=s;var F=K(I,2);F.__click=c,oa(T,(k,H)=>Vr==null?void 0:Vr(k,H),()=>({triggerEl:n(o)})),Z(()=>{I.disabled=n(i),F.disabled=n(i)}),R(x,T)};W(()=>j(_,x=>{n(r)&&x(y)}),"if",Or,88,2)}return Z(()=>{A(d,"aria-expanded",n(r)),d.disabled=n(i)}),R(t,g),ye(l)}$r(["click"]),ya[P]="src/components/ui/ResetButton.svelte";var cv=V(ot('<button class="reset-btn svelte-uej7wa" title="Reset view" aria-label="Reset view to default settings"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button>'),ya[P],[[15,0,[[21,2,[[22,4],[23,4]]]]]]);function ya(t,e){Se(new.target),_e(e,!0,ya);function r(){e.store.resetState()}var i={...Ee()},o=cv();return o.__click=r,R(t,o),ye(i)}$r(["click"]),Wn[P]="src/components/ui/ZoomControls.svelte";var fv=V(ot('<div class="clamped-note svelte-19w48ay"> </div>'),Wn[P],[[140,8]]),uv=V(ot('<button class="action-btn svelte-19w48ay" title="Reset to 100% (Cmd 0)"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-19w48ay"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg> Reset to 100%</button>'),Wn[P],[[147,8,[[152,10,[[153,12],[154,12]]]]]]),dv=V(ot("<option> </option>"),Wn[P],[[198,14]]),hv=V(ot("<option> </option>"),Wn[P],[[212,14]]),gv=V(ot('<div class="zoom-dropdown svelte-19w48ay"><div class="zoom-row svelte-19w48ay"><button class="zoom-btn svelte-19w48ay" title="Zoom out (Cmd -)" aria-label="Zoom out"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="5" y1="12" x2="19" y2="12"></line></svg></button> <input type="range" class="zoom-slider svelte-19w48ay" min="50" max="200" step="5" title="Zoom level" aria-label="Zoom level"/> <button class="zoom-btn svelte-19w48ay" title="Zoom in (Cmd +)" aria-label="Zoom in"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg></button> <span class="zoom-value svelte-19w48ay"> </span></div> <!> <!> <div class="divider svelte-19w48ay"></div> <button class="action-btn svelte-19w48ay" title="Fit to container width (Cmd 1)"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-19w48ay"><path d="M21 12H3M21 12l-4-4m4 4l-4 4M3 12l4-4m-4 4l4 4"></path></svg> Fit to width</button> <label class="checkbox-row svelte-19w48ay"><input type="checkbox" class="svelte-19w48ay"/> <span>Auto-fit</span> <span class="checkbox-hint svelte-19w48ay">Shrink if too large</span></label> <div class="divider svelte-19w48ay"></div> <div class="section-label svelte-19w48ay">Max Size</div> <div class="select-row svelte-19w48ay"><label class="svelte-19w48ay"><span class="select-label svelte-19w48ay">Width</span> <select class="svelte-19w48ay"></select></label></div> <div class="select-row svelte-19w48ay"><label class="svelte-19w48ay"><span class="select-label svelte-19w48ay">Height</span> <select class="svelte-19w48ay"></select></label></div></div>'),Wn[P],[[97,4,[[99,6,[[100,8,[[106,10,[[107,12]]]]],[111,8],[123,8,[[129,10,[[130,12],[131,12]]]]],[135,8]]],[160,6],[163,6,[[168,8,[[169,10]]]]],[175,6,[[176,8],[181,8],[182,8]]],[185,6],[188,6],[190,6,[[191,8,[[192,10],[193,10]]]]],[204,6,[[205,8,[[206,10],[207,10]]]]]]]]),vv=V(ot('<div class="zoom-controls-wrapper svelte-19w48ay"><button class="zoom-trigger-btn svelte-19w48ay" aria-label="Zoom and display options"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path><path d="M11 8v6"></path><path d="M8 11h6"></path></svg> <span class="zoom-text svelte-19w48ay"> </span></button> <!></div>'),Wn[P],[[76,0,[[78,2,[[87,4,[[88,6],[89,6],[90,6],[91,6]]],[93,4]]]]]]);function Wn(t,e){Se(new.target),_e(e,!0,Wn);let r=v(xt(!1),"dropdownOpen"),i=v(xt(null),"triggerEl");const o=v(m(()=>e.store.zoom),"zoom"),a=v(m(()=>e.store.autoFit),"autoFit"),s=v(m(()=>e.store.actualScale),"actualScale"),c=v(m(()=>e.store.isClamped),"isClamped"),f=v(m(()=>e.store.maxWidth),"maxWidth"),l=v(m(()=>e.store.maxHeight),"maxHeight"),g=v(m(()=>Math.round(n(s)*100)),"displayPercent"),d=v(m(()=>Math.round(n(o)*100)),"zoomPercent"),u=[{value:null,label:"None"},{value:600,label:"600px"},{value:800,label:"800px"},{value:1e3,label:"1000px"},{value:1200,label:"1200px"}],h=[{value:null,label:"None"},{value:400,label:"400px"},{value:600,label:"600px"},{value:800,label:"800px"}];function p(){tt(r,!1)}function _(E){const N=E.target;e.store.setZoom(parseFloat(N.value)/100)}function y(E){const N=E.target,M=w(N.value,"null")?null:parseInt(N.value);e.store.setMaxWidth(M)}function x(E){const N=E.target,M=w(N.value,"null")?null:parseInt(N.value);e.store.setMaxHeight(M)}function T(E){E.target.closest(".zoom-controls-wrapper")||p()}var I={...Ee()},F=vv();Dn("click",Xi,T);var k=U(F);k.__click=()=>tt(r,!n(r));var H=K(U(k),2),b=U(H);ei(k,E=>tt(i,E),()=>n(i));var C=K(k,2);{var z=E=>{var N=gv(),M=U(N),D=U(M);D.__click=()=>e.store.zoomOut();var B=K(D,2);B.__change=_;var rt=K(B,2);rt.__click=()=>e.store.zoomIn();var nt=K(rt,2),et=U(nt),wt=K(M,2);{var J=_t=>{var Nt=fv(),he=U(Nt);Z(()=>Vt(he,`Showing ${n(g)??""}% (auto-fit)`)),R(_t,Nt)};W(()=>j(wt,_t=>{n(c)&&_t(J)}),"if",Wn,139,6)}var kt=K(wt,2);{var vt=_t=>{var Nt=uv();Nt.__click=()=>e.store.resetZoom(),R(_t,Nt)};W(()=>j(kt,_t=>{w(n(o),1,!1)&&_t(vt)}),"if",Wn,146,6)}var st=K(kt,4);st.__click=()=>e.store.fitToWidth();var lt=K(st,2),ct=U(lt);ct.__change=_t=>e.store.setAutoFit(_t.target.checked);var qt=K(lt,6),Yt=U(qt),dt=K(U(Yt),2);dt.__change=y,W(()=>Ne(dt,21,()=>u,Yn,(_t,Nt)=>{var he=dv(),Je=U(he,!0);var Xe={};Z(()=>{Vt(Je,n(Nt).label),Xe!==(Xe=w(n(Nt).value,null)?"null":n(Nt).value)&&(he.value=(he.__value=w(n(Nt).value,null)?"null":n(Nt).value)??"")}),R(_t,he)}),"each",Wn,197,12);var Ct;Il(dt);var re=K(qt,2),pt=U(re),zt=K(U(pt),2);zt.__change=x,W(()=>Ne(zt,21,()=>h,Yn,(_t,Nt)=>{var he=hv(),Je=U(he,!0);var Xe={};Z(()=>{Vt(Je,n(Nt).label),Xe!==(Xe=w(n(Nt).value,null)?"null":n(Nt).value)&&(he.value=(he.__value=w(n(Nt).value,null)?"null":n(Nt).value)??"")}),R(_t,he)}),"each",Wn,211,12);var Ve;Il(zt),oa(N,(_t,Nt)=>Vr==null?void 0:Vr(_t,Nt),()=>({triggerEl:n(i)})),Z(()=>{Fl(B,n(d)),Vt(et,`${n(d)??""}%`),Zu(ct,n(a)),Ct!==(Ct=w(n(f),null)?"null":n(f))&&(dt.value=(dt.__value=w(n(f),null)?"null":n(f))??"",es(dt,w(n(f),null)?"null":n(f))),Ve!==(Ve=w(n(l),null)?"null":n(l))&&(zt.value=(zt.__value=w(n(l),null)?"null":n(l))??"",es(zt,w(n(l),null)?"null":n(l)))}),R(E,N)};W(()=>j(C,E=>{n(r)&&E(z)}),"if",Wn,96,2)}return Z(()=>{A(k,"aria-expanded",n(r)),A(k,"title",`Zoom: ${n(g)??""}%`),Vt(b,`${n(g)??""}%`)}),R(t,F),ye(I)}$r(["click","change"]),Rn[P]="src/components/ui/ControlToolbar.svelte";var pv=V(ot('<div class="control-toolbar svelte-rjvd17"><!> <!> <!> <!> <!></div>'),Rn[P],[[37,0]]);function Rn(t,e){Se(new.target),_e(e,!0,Rn);let r=Bn(e,"enableExport",3,!0),i=Bn(e,"enableThemes",3,void 0),o=Bn(e,"enableViewToggle",3,!0),a=Bn(e,"enableZoomControls",3,!0),s=Bn(e,"enableReset",3,!0);const c=v(m(()=>a()&&e.store.showZoomControls),"showZoomControls"),f=v(m(()=>w(i(),null,!1)),"showThemeSwitcher");var l={...Ee()},g=pv(),d=U(g);{var u=k=>{W(()=>Wn(k,{get store(){return e.store}}),"component",Rn,39,4,{componentTag:"ZoomControls"})};W(()=>j(d,k=>{n(c)&&k(u)}),"if",Rn,38,2)}var h=K(d,2);{var p=k=>{W(()=>vr(k,{get store(){return e.store},get availableThemes(){return i()},get onThemeChange(){return e.onThemeChange}}),"component",Rn,42,4,{componentTag:"ThemeSwitcher"})};W(()=>j(h,k=>{n(f)&&k(p)}),"if",Rn,41,2)}var _=K(h,2);{var y=k=>{W(()=>Ci(k,{get store(){return e.store}}),"component",Rn,45,4,{componentTag:"ViewToggle"})};W(()=>j(_,k=>{o()&&k(y)}),"if",Rn,44,2)}var x=K(_,2);{var T=k=>{W(()=>ya(k,{get store(){return e.store}}),"component",Rn,48,4,{componentTag:"ResetButton"})};W(()=>j(x,k=>{s()&&k(T)}),"if",Rn,47,2)}var I=K(x,2);{var F=k=>{W(()=>Or(k,{get store(){return e.store}}),"component",Rn,51,4,{componentTag:"DownloadButton"})};W(()=>j(I,k=>{r()&&k(F)}),"if",Rn,50,2)}return R(t,g),ye(l)}ii[P]="src/components/viz/VizBar.svelte";var mv=V(Ht('<rect rx="2" class="bar-segment svelte-1pgs700"></rect>'),ii[P],[[107,8]]),_v=V(Ht('<g class="viz-bar-row svelte-1pgs700"></g>'),ii[P],[[96,2]]);function ii(t,e){Se(new.target),_e(e,!0,ii);const r=v(m(()=>{var y,x,T,I;if(e.sharedScale)return e.sharedScale;const u=w(e.options.scale,"log"),h=((x=(y=e.theme)==null?void 0:y.spacing)==null?void 0:x.padding)??12;let p=((T=e.options.axisRange)==null?void 0:T[0])??0,_=((I=e.options.axisRange)==null?void 0:I[1])??100;if(!e.options.axisRange){const F=[];for(const k of e.options.effects){const H=e.row.metadata[k.value];de(H,null,!1)&&!Number.isNaN(H)&&F.push(H)}F.length>0&&(p=Math.min(0,...F),_=Math.max(...F)*1.1)}return u?Br().domain([Math.max(.01,p),_]).range([h,e.width-h]):er().domain([p,_]).range([h,e.width-h])}),"xScale"),i=v(m(()=>{const u=e.options.effects.length,h=e.rowHeight*.7,p=u>1?2:0,_=(h-p*(u-1))/u;return{barHeight:Math.max(4,_),barGap:p,totalHeight:h}}),"barConfig"),o=v(m(()=>{var u,h;return((h=(u=e.theme)==null?void 0:u.shapes)==null?void 0:h.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function a(u,h){return u.color??n(o)[h%n(o).length]}function s(u){return u.opacity??.85}const c=v(m(()=>e.options.effects.some(u=>{const h=e.row.metadata[u.value];return de(h,null,!1)&&!Number.isNaN(h)})),"hasValidData");var f={...Ee()},l=St(),g=ut(l);{var d=u=>{var h=_v();W(()=>Ne(h,21,()=>e.options.effects,Yn,(p,_,y)=>{const x=v(m(()=>e.row.metadata[n(_).value]),"value");n(x);var T=St(),I=ut(T);{var F=k=>{const H=v(m(()=>e.yPosition-n(i).totalHeight/2+y*(n(i).barHeight+n(i).barGap)),"barY");n(H);const b=v(m(()=>n(r)(Math.min(0,n(x)))),"barX");n(b);const C=v(m(()=>Math.abs(n(r)(n(x))-n(r)(0))),"barWidth");n(C);const z=v(m(()=>a(n(_),y)),"color");n(z);const E=v(m(()=>s(n(_))),"opacity");n(E);var N=mv();Z(M=>{A(N,"x",n(b)),A(N,"y",n(H)),A(N,"width",M),A(N,"height",n(i).barHeight),A(N,"fill",n(z)),A(N,"fill-opacity",n(E))},[()=>Math.max(1,n(C))]),R(k,N)};W(()=>j(I,k=>{de(n(x),null,!1)&&!Number.isNaN(n(x))&&k(F)}),"if",ii,100,6)}R(p,T)}),"each",ii,98,4),R(u,h)};W(()=>j(g,u=>{n(c)&&u(d)}),"if",ii,95,0)}return R(t,l),ye(f)}function Uc(t){if(!t||t.length===0)return{min:NaN,q1:NaN,median:NaN,q3:NaN,max:NaN};const e=t.filter(o=>o!=null&&!Number.isNaN(o)).sort((o,a)=>o-a);if(e.length===0)return{min:NaN,q1:NaN,median:NaN,q3:NaN,max:NaN};const r=e.length,i=o=>{if(r===1)return e[0];const a=(r-1)*o,s=Math.floor(a),c=Math.ceil(a);return s===c?e[s]:e[s]+(a-s)*(e[c]-e[s])};return{min:e[0],q1:i(.25),median:i(.5),q3:i(.75),max:e[r-1]}}function yv(t,e,r){if(!t||t.length===0||Number.isNaN(e)||Number.isNaN(r))return[];const i=r-e,o=e-1.5*i,a=r+1.5*i;return t.filter(s=>s!=null&&!Number.isNaN(s)&&(s<o||s>a))}function qc(t){const e=Uc(t),r=yv(t,e.q1,e.q3);return{...e,outliers:r}}function xv(t){if(!t||t.length<2)return 1;const e=t.filter(h=>h!=null&&!Number.isNaN(h)).sort((h,p)=>h-p);if(e.length<2)return 1;const r=e.length,i=e.reduce((h,p)=>h+p,0)/r,o=e.reduce((h,p)=>h+(p-i)**2,0)/(r-1),a=Math.sqrt(o),s=Math.floor((r-1)*.25),c=Math.floor((r-1)*.75),f=e[s],g=e[c]-f,u=.9*Math.min(a,g/1.34)*Math.pow(r,-.2);return Math.max(u,.001)}function wv(t){return Math.exp(-.5*t*t)/Math.sqrt(2*Math.PI)}function bv(t,e,r=128){if(!t||t.length===0)return{x:[],y:[]};const i=t.filter(h=>h!=null&&!Number.isNaN(h));if(i.length===0)return{x:[],y:[]};const o=e??xv(i),a=Math.min(...i),s=Math.max(...i),c=3*o,f=a-c,g=(s+c-f)/(r-1),d=[],u=[];for(let h=0;h<r;h++){const p=f+h*g;d.push(p);let _=0;for(const y of i)_+=wv((p-y)/o);_/=i.length*o,u.push(_)}return{x:d,y:u}}function Mv(t,e){if(t.y.length===0)return t;const r=Math.max(...t.y);if(r===0)return t;const i=t.y.map(o=>o/r*e);return{x:t.x,y:i}}pr[P]="src/components/viz/VizBoxplot.svelte";var Sv=V(Ht('<circle r="2.5" fill="none" stroke-width="1.5" class="outlier svelte-5apth9"></circle>'),pr[P],[[210,12]]),Ev=V(Ht('<line stroke-width="1"></line><line stroke-width="1"></line><line stroke-width="1"></line><line stroke-width="1"></line><rect stroke-width="1" class="box-rect svelte-5apth9"></rect><line stroke-width="2"></line><!>',1),pr[P],[[147,10],[156,10],[166,10],[175,10],[185,8],[198,8]]),kv=V(Ht('<g class="viz-boxplot-row svelte-5apth9"></g>'),pr[P],[[135,2]]);function pr(t,e){Se(new.target),_e(e,!0,pr);const r=v(m(()=>e.options.effects.map(h=>{if(h.data){const p=e.row.metadata[h.data];return!p||!Array.isArray(p)||w(p.length,0)?null:qc(p)}if(h.min&&h.q1&&h.median&&h.q3&&h.max){const p=e.row.metadata[h.min],_=e.row.metadata[h.q1],y=e.row.metadata[h.median],x=e.row.metadata[h.q3],T=e.row.metadata[h.max];if([p,_,y,x,T].some(F=>de(F,null)||Number.isNaN(F)))return null;let I=[];if(h.outliers){const F=e.row.metadata[h.outliers];F&&Array.isArray(F)&&(I=F)}return{min:p,q1:_,median:y,q3:x,max:T,outliers:I}}return null})),"effectStats"),i=v(m(()=>n(r).some(h=>w(h,null,!1))),"hasValidData"),o=v(m(()=>{var x,T,I,F;if(e.sharedScale)return e.sharedScale;const h=w(e.options.scale,"log"),p=((T=(x=e.theme)==null?void 0:x.spacing)==null?void 0:T.padding)??12;let _=(I=e.options.axisRange)==null?void 0:I[0],y=(F=e.options.axisRange)==null?void 0:F[1];if(de(_,null)||de(y,null)){const k=[];for(const H of n(r))H&&(k.push(H.min,H.max),w(e.options.showOutliers,!1,!1)&&k.push(...H.outliers));if(k.length>0){const H=Math.min(...k),b=Math.max(...k),C=b-H;_=_??H-C*.05,y=y??b+C*.05}else _=_??0,y=y??100}return h?Br().domain([Math.max(.01,_),y]).range([p,e.width-p]):er().domain([_,y]).range([p,e.width-p])}),"xScale"),a=v(m(()=>{const h=e.options.effects.length,p=e.rowHeight*.7,_=(p-(h-1)*2)/h;return{boxHeight:Math.max(8,_),boxGap:h>1?2:0,totalHeight:p}}),"boxConfig"),s=v(m(()=>{var h,p;return((p=(h=e.theme)==null?void 0:h.shapes)==null?void 0:p.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function c(h,p){return h.color??n(s)[p%n(s).length]}function f(h){return h.fillOpacity??.7}var l={...Ee()},g=St(),d=ut(g);{var u=h=>{var p=kv();W(()=>Ne(p,21,()=>e.options.effects,Yn,(_,y,x)=>{const T=v(m(()=>n(r)[x]),"stats");n(T);var I=St(),F=ut(I);{var k=H=>{const b=v(m(()=>e.yPosition-n(a).totalHeight/2+x*(n(a).boxHeight+n(a).boxGap)),"boxY");n(b);const C=v(m(()=>n(b)+n(a).boxHeight/2),"boxCenterY");n(C);const z=v(m(()=>c(n(y),x)),"color");n(z);const E=v(m(()=>f(n(y))),"opacity");n(E);const N=v(m(()=>{var vt;return((vt=e.theme)==null?void 0:vt.colors.foreground)??"#1a1a1a"}),"lineColor");n(N);var M=Ev(),D=ut(M),B=K(D),rt=K(B),nt=K(rt),et=K(nt),wt=K(et),J=K(wt);{var kt=vt=>{var st=St(),lt=ut(st);W(()=>Ne(lt,17,()=>n(T).outliers,Yn,(ct,qt)=>{var Yt=Sv();Z(dt=>{A(Yt,"cx",dt),A(Yt,"cy",n(C)),A(Yt,"stroke",n(z))},[()=>n(o)(n(qt))]),R(ct,Yt)}),"each",pr,209,10),R(vt,st)};W(()=>j(J,vt=>{w(e.options.showOutliers,!1,!1)&&n(T).outliers.length>0&&vt(kt)}),"if",pr,208,8)}Z((vt,st,lt,ct,qt,Yt,dt,Ct,re,pt,zt,Ve)=>{A(D,"x1",vt),A(D,"x2",st),A(D,"y1",n(C)),A(D,"y2",n(C)),A(D,"stroke",n(N)),A(B,"x1",lt),A(B,"x2",ct),A(B,"y1",n(C)-n(a).boxHeight/4),A(B,"y2",n(C)+n(a).boxHeight/4),A(B,"stroke",n(N)),A(rt,"x1",qt),A(rt,"x2",Yt),A(rt,"y1",n(C)),A(rt,"y2",n(C)),A(rt,"stroke",n(N)),A(nt,"x1",dt),A(nt,"x2",Ct),A(nt,"y1",n(C)-n(a).boxHeight/4),A(nt,"y2",n(C)+n(a).boxHeight/4),A(nt,"stroke",n(N)),A(et,"x",re),A(et,"y",n(b)),A(et,"width",pt),A(et,"height",n(a).boxHeight),A(et,"fill",n(z)),A(et,"fill-opacity",n(E)),A(et,"stroke",n(N)),A(wt,"x1",zt),A(wt,"x2",Ve),A(wt,"y1",n(b)),A(wt,"y2",n(b)+n(a).boxHeight),A(wt,"stroke",n(N))},[()=>n(o)(n(T).min),()=>n(o)(n(T).q1),()=>n(o)(n(T).min),()=>n(o)(n(T).min),()=>n(o)(n(T).q3),()=>n(o)(n(T).max),()=>n(o)(n(T).max),()=>n(o)(n(T).max),()=>n(o)(n(T).q1),()=>Math.max(2,n(o)(n(T).q3)-n(o)(n(T).q1)),()=>n(o)(n(T).median),()=>n(o)(n(T).median)]),R(H,M)};W(()=>j(F,H=>{n(T)&&H(k)}),"if",pr,138,6)}R(_,I)}),"each",pr,136,4),R(h,p)};W(()=>j(d,h=>{n(i)&&h(u)}),"if",pr,134,0)}return R(t,g),ye(l)}rr[P]="src/components/viz/VizViolin.svelte";var Cv=V(Ht('<line stroke-width="2"></line>'),rr[P],[[165,10]]),Tv=V(Ht('<line stroke-width="1" stroke-dasharray="2,2"></line><line stroke-width="1" stroke-dasharray="2,2"></line>',1),rr[P],[[179,10],[188,10]]),Nv=V(Ht('<path stroke-width="0.5" class="violin-path svelte-1ywbnva"></path><!><!>',1),rr[P],[[153,8]]),Av=V(Ht('<g class="viz-violin-row svelte-1ywbnva"></g>'),rr[P],[[140,2]]);function rr(t,e){Se(new.target),_e(e,!0,rr);const r=v(m(()=>e.options.effects.map(_=>{const y=e.row.metadata[_.data];return!y||!Array.isArray(y)||y.length<2?null:bv(y,e.options.bandwidth)})),"effectKDEs"),i=v(m(()=>e.options.effects.map(_=>{const y=e.row.metadata[_.data];return!y||!Array.isArray(y)||y.length<2?null:Uc(y)})),"effectQuartiles"),o=v(m(()=>n(r).some(_=>w(_,null,!1))),"hasValidData"),a=v(m(()=>{var I,F,k,H;if(e.sharedScale)return e.sharedScale;const _=w(e.options.scale,"log"),y=((F=(I=e.theme)==null?void 0:I.spacing)==null?void 0:F.padding)??12;let x=(k=e.options.axisRange)==null?void 0:k[0],T=(H=e.options.axisRange)==null?void 0:H[1];if(de(x,null)||de(T,null)){const b=[];for(const C of n(r))C&&C.x.length>0&&b.push(...C.x);b.length>0?(x=x??Math.min(...b),T=T??Math.max(...b)):(x=x??0,T=T??100)}return _?Br().domain([Math.max(.01,x),T]).range([y,e.width-y]):er().domain([x,T]).range([y,e.width-y])}),"xScale"),s=v(m(()=>{const _=e.options.effects.length,y=e.rowHeight*.8,x=(y-(_-1)*2)/_;return{maxWidth:x/2,violinHeight:Math.max(10,x),gap:_>1?2:0,totalHeight:y}}),"violinConfig"),c=v(m(()=>{var _,y;return((y=(_=e.theme)==null?void 0:_.shapes)==null?void 0:y.effectColors)??["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"]}),"defaultColors");function f(_,y){return _.color??n(c)[y%n(c).length]}function l(_){return _.fillOpacity??.5}function g(_,y,x){if(_.x.length<2)return"";const T=Mv(_,x),I=[];for(let F=0;F<T.x.length;F++){const k=n(a)(T.x[F]),H=y-T.y[F];I.push(w(F,0)?`M ${k} ${H}`:`L ${k} ${H}`)}for(let F=T.x.length-1;F>=0;F--){const k=n(a)(T.x[F]),H=y+T.y[F];I.push(`L ${k} ${H}`)}return I.push("Z"),I.join(" ")}var d={...Ee()},u=St(),h=ut(u);{var p=_=>{var y=Av();W(()=>Ne(y,21,()=>e.options.effects,Yn,(x,T,I)=>{const F=v(m(()=>n(r)[I]),"kde");n(F);const k=v(m(()=>n(i)[I]),"quartiles");n(k);var H=St(),b=ut(H);{var C=z=>{const E=v(m(()=>e.yPosition-n(s).totalHeight/2+n(s).violinHeight/2+I*(n(s).violinHeight+n(s).gap)),"violinCenterY");n(E);const N=v(m(()=>f(n(T),I)),"color");n(N);const M=v(m(()=>l(n(T))),"opacity");n(M);const D=v(m(()=>g(n(F),n(E),n(s).maxWidth)),"path");n(D);const B=v(m(()=>{var vt;return((vt=e.theme)==null?void 0:vt.colors.foreground)??"#1a1a1a"}),"lineColor");n(B);var rt=Nv(),nt=ut(rt),et=K(nt);{var wt=vt=>{const st=v(m(()=>n(a)(n(k).median)),"medianX");n(st);var lt=Cv();Z(()=>{A(lt,"x1",n(st)),A(lt,"x2",n(st)),A(lt,"y1",n(E)-n(s).maxWidth*.6),A(lt,"y2",n(E)+n(s).maxWidth*.6),A(lt,"stroke",n(B))}),R(vt,lt)};W(()=>j(et,vt=>{w(e.options.showMedian,!1,!1)&&n(k)&&vt(wt)}),"if",rr,163,8)}var J=K(et);{var kt=vt=>{const st=v(m(()=>n(a)(n(k).q1)),"q1X");n(st);const lt=v(m(()=>n(a)(n(k).q3)),"q3X");n(lt);var ct=Tv(),qt=ut(ct),Yt=K(qt);Z(()=>{A(qt,"x1",n(st)),A(qt,"x2",n(st)),A(qt,"y1",n(E)-n(s).maxWidth*.4),A(qt,"y2",n(E)+n(s).maxWidth*.4),A(qt,"stroke",n(B)),A(Yt,"x1",n(lt)),A(Yt,"x2",n(lt)),A(Yt,"y1",n(E)-n(s).maxWidth*.4),A(Yt,"y2",n(E)+n(s).maxWidth*.4),A(Yt,"stroke",n(B))}),R(vt,ct)};W(()=>j(J,vt=>{e.options.showQuartiles&&n(k)&&vt(kt)}),"if",rr,176,8)}Z(()=>{A(nt,"d",n(D)),A(nt,"fill",n(N)),A(nt,"fill-opacity",n(M)),A(nt,"stroke",n(B))}),R(z,rt)};W(()=>j(b,z=>{n(F)&&n(F).x.length>=2&&z(C)}),"if",rr,144,6)}R(x,H)}),"each",rr,141,4),R(_,y)};W(()=>j(h,_=>{n(o)&&_(p)}),"if",rr,139,0)}return R(t,u),ye(d)}G[P]="src/lib/ForestPlot.svelte";function Hv(t,e){var i,o;if((o=(i=e.options)==null?void 0:i.bar)!=null&&o.maxValue)return e.options.bar.maxValue;let r=0;for(const a of t){const s=a.metadata[e.field];w(typeof s,"number")&&s>r&&(r=s)}return r||100}function Wv(t,e,r){const i=[],o=w(t==null?void 0:t.type,"header")||w(t==null?void 0:t.type,"summary")||w(t==null?void 0:t.type,"spacer");return w(t==null?void 0:t.type,"header")&&i.push("row-header"),w(t==null?void 0:t.type,"summary")&&i.push("row-summary"),t!=null&&t.bold&&i.push("row-bold"),t!=null&&t.italic&&i.push("row-italic"),t!=null&&t.emphasis&&i.push("row-emphasis"),t!=null&&t.muted&&i.push("row-muted"),t!=null&&t.accent&&i.push("row-accent"),!o&&r&&w(e,void 0,!1)&&w(e%2,1)&&i.push("row-odd"),i.join(" ")}function Rv(t,e){const r=[];return t!=null&&t.color&&r.push(`color: ${t.color}`),t!=null&&t.bg&&r.push(`background-color: ${t.bg}`),t!=null&&t.indent&&r.push(`--row-indent: ${t.indent}`),!(t!=null&&t.indent)&&e&&e>0&&r.push(`--row-indent: ${e}`),r.join("; ")}function Iv(t,e){var r;if((r=t.cellStyles)!=null&&r[e.field])return t.cellStyles[e.field];if(e.styleMapping){const i={},o=t.metadata;if(e.styleMapping.bold&&o[e.styleMapping.bold]&&(i.bold=!!o[e.styleMapping.bold]),e.styleMapping.italic&&o[e.styleMapping.italic]&&(i.italic=!!o[e.styleMapping.italic]),e.styleMapping.color&&o[e.styleMapping.color]&&(i.color=String(o[e.styleMapping.color])),e.styleMapping.bg&&o[e.styleMapping.bg]&&(i.bg=String(o[e.styleMapping.bg])),e.styleMapping.badge&&o[e.styleMapping.badge]&&(i.badge=String(o[e.styleMapping.badge])),e.styleMapping.icon&&o[e.styleMapping.icon]&&(i.icon=String(o[e.styleMapping.icon])),Object.keys(i).length>0)return i}}var Lv=V(ot('<div class="resize-handle svelte-14l8yxx"></div>'),G[P],[[941,12]]),Fv=V(ot('<div class="grid-cell header-cell column-group-header svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span></div>'),G[P],[[952,12,[[957,14]]]]),Pv=V(ot('<span class="header-text svelte-14l8yxx"> </span>'),G[P],[[978,16]]),zv=V(ot('<div class="resize-handle svelte-14l8yxx"></div>'),G[P],[[982,16]]),Dv=V(ot('<div class="grid-cell header-cell plot-header svelte-14l8yxx"><!> <!></div>'),G[P],[[971,12]]),Bv=V(ot('<div class="resize-handle svelte-14l8yxx"></div>'),G[P],[[1e3,16]]),Gv=V(ot('<div class="grid-cell header-cell svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span> <!></div>'),G[P],[[991,12,[[997,14]]]]),Vv=V(ot('<span class="row-icon svelte-14l8yxx"> </span>'),G[P],[[1047,35]]),Ov=V(ot('<span class="row-badge svelte-14l8yxx"> </span>'),G[P],[[1049,36]]),jv=V(ot("<!> <!>",1),G[P],[]),Xv=V(ot("<div></div>"),G[P],[[1057,14]]),Uv=V(ot("<div><!></div>"),G[P],[[1072,14]]),qv=V(ot("<div><!></div> <!>",1),G[P],[[1022,10]]),Yv=V(ot('<div class="grid-cell axis-cell svelte-14l8yxx"></div>'),G[P],[[1100,14]]),Zv=V(ot('<div class="grid-cell axis-spacer svelte-14l8yxx"></div>'),G[P],[[1102,14]]),Kv=V(ot('<!> <div class="grid-cell axis-spacer svelte-14l8yxx"></div>',1),G[P],[[1106,10]]),Qv=V(Ht('<text text-anchor="middle" font-size="var(--wf-font-size-sm)" font-weight="500" class="svelte-14l8yxx"> </text>'),G[P],[[1157,18]]),Jv=V(Ht('<line class="svelte-14l8yxx"></line><!>',1),G[P],[[1145,16]]),$v=V(Ht('<g class="svelte-14l8yxx"><!></g>'),G[P],[[1218,14]]),tp=V(Ht('<svg class="plot-overlay svelte-14l8yxx"><line stroke="var(--wf-muted)" stroke-width="1" stroke-dasharray="4,4" class="svelte-14l8yxx"></line><!><!><!><!></svg>'),G[P],[[1120,10,[[1129,12]]]]),ep=V(Ht('<g class="svelte-14l8yxx"><!></g>'),G[P],[[1261,16]]),np=V(Ht('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),G[P],[[1234,12]]),rp=V(Ht('<g class="svelte-14l8yxx"><!></g>'),G[P],[[1314,16]]),ip=V(Ht('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),G[P],[[1287,12]]),op=V(Ht('<g class="svelte-14l8yxx"><!></g>'),G[P],[[1367,16]]),ap=V(Ht('<svg class="plot-overlay svelte-14l8yxx"><!><!></svg>'),G[P],[[1340,12]]),sp=V(ot('<!> <div class="tabviz-scalable svelte-14l8yxx"><!>  <div><div class="grid-cell header-cell label-header svelte-14l8yxx"><span class="header-text svelte-14l8yxx"> </span> <!></div> <!> <!> <!> <!> <!> <!> <!></div> <!></div> <!>',1),G[P],[[855,4,[[930,6,[[933,8,[[938,10]]]]]]]]),lp=V(ot('<div class="tabviz-empty svelte-14l8yxx">No data</div>'),G[P],[[1392,4]]),cp=V(ot("<div><!></div>"),G[P],[[840,0]]);function G(t,e){Se(new.target),_e(e,!0,G);const r=v(m(()=>e.store.spec),"spec"),i=v(m(()=>e.store.visibleRows),"visibleRows"),o=v(m(()=>e.store.displayRows),"displayRows"),a=v(m(()=>e.store.layout),"layout"),s=v(m(()=>e.store.xScale),"xScale"),c=v(m(()=>e.store.axisComputation),"axisComputation"),f=v(m(()=>n(c).axisLimits),"clipBounds"),l=v(m(()=>{var S;return(S=n(r))==null?void 0:S.theme}),"theme"),g=v(m(()=>{var S,L;return((L=(S=n(l))==null?void 0:S.layout)==null?void 0:L.banding)??!1}),"bandingEnabled"),d=v(m(()=>e.store.allColumns),"allColumns"),u=v(m(()=>e.store.allColumnDefs),"allColumnDefs"),h=v(m(()=>e.store.forestColumns),"forestColumns");v(m(()=>n(h).length>0),"hasForestColumns");const p=v(m(()=>e.store.vizColumns),"vizColumns"),_=v(m(()=>n(p).length>0),"hasVizColumns"),y=v(m(()=>{var S;return((S=n(r))==null?void 0:S.data.labelHeader)||"Study"}),"labelHeader"),x=v(m(()=>{var S,L,X,Y;return!!((L=(S=n(r))==null?void 0:S.labels)!=null&&L.title)||!!((Y=(X=n(r))==null?void 0:X.labels)!=null&&Y.subtitle)}),"hasPlotHeader");v(m(()=>n(u).some(S=>S.isGroup)),"hasColumnGroups");const T=v(m(()=>e.store.tooltipRow),"tooltipRow"),I=v(m(()=>e.store.tooltipPosition),"tooltipPosition"),F=v(m(()=>e.store.selectedRowIds),"selectedRowIds"),k=v(m(()=>e.store.hoveredRowId),"hoveredRowId"),H=v(m(()=>e.store.zoom),"zoom"),b=v(m(()=>e.store.autoFit),"autoFit"),C=v(m(()=>e.store.actualScale),"actualScale"),z=v(m(()=>e.store.maxWidth),"maxWidth"),E=v(m(()=>e.store.maxHeight),"maxHeight");v(m(()=>e.store.showZoomControls),"showZoomControls");const N=v(m(()=>({...e.store.columnWidths})),"columnWidthsSnapshot");let M=v(xt(void 0),"containerRef"),D=v(xt(void 0),"scalableRef"),B=v(xt(0),"containerContentWidth"),rt=v(xt(0),"scalableNaturalWidth"),nt=v(xt(0),"scalableNaturalHeight");v(m(()=>e.store.naturalContentWidth),"naturalContentWidth");const et=v(m(()=>n(rt)*n(C)),"scaledWidth"),wt=v(m(()=>n(nt)*n(C)),"scaledHeight"),J=v(m(()=>{if(!n(b)||n(B)<=0||n(et)<=0)return 0;const S=(n(B)-n(et))/2;return Math.max(0,S)}),"centeringMargin");Mo(()=>{if(!n(M)||!n(D))return;n(M).id&&e.store.setContainerElementId(n(M).id);const S=new ResizeObserver(L=>{for(const X of L)w(X.target,n(M))?(tt(B,X.contentRect.width,!0),e.store.setContainerDimensions(X.contentRect.width,X.contentRect.height)):w(X.target,n(D))&&(tt(rt,X.contentRect.width,!0),tt(nt,X.contentRect.height,!0),e.store.setScalableNaturalDimensions(X.contentRect.width,X.contentRect.height))});return S.observe(n(M)),S.observe(n(D)),()=>{S.disconnect()}});const kt=v(m(()=>{var S,L;return w((L=(S=n(r))==null?void 0:S.interaction)==null?void 0:L.enableExport,!1,!1)}),"enableExport"),vt=v(m(()=>{var S,L;return(L=(S=n(r))==null?void 0:S.interaction)==null?void 0:L.enableThemes}),"enableThemes");function st(S){var L;if(!(!S.metaKey&&!S.ctrlKey)&&!w((L=S.target)==null?void 0:L.tagName,"INPUT"))switch(S.key){case"=":case"+":S.preventDefault(),e.store.zoomIn();break;case"-":S.preventDefault(),e.store.zoomOut();break;case"0":S.preventDefault(),e.store.resetZoom();break;case"1":S.preventDefault(),e.store.fitToWidth();break}}const lt=v(m(()=>{var Y;const S=[],L=[];let X=0;for(const yt of n(o)){const Tt=w(yt.type,"data")&&w((Y=yt.row.style)==null?void 0:Y.type,"spacer")?n(a).rowHeight/2:n(a).rowHeight;S.push(X),L.push(Tt),X+=Tt}return{positions:S,heights:L,totalHeight:X}}),"rowLayout"),ct=v(m(()=>n(lt).totalHeight),"rowsAreaHeight");function qt(S){const L=S.filter(Tt=>w(Tt.type,"reference_line")&&Tt.label).map(Tt=>({id:Tt.id,x:n(s)(Tt.x),label:Tt.label})).sort((Tt,Xt)=>Tt.x-Xt.x),X={},Y=120,yt=-18;for(let Tt=0;Tt<L.length;Tt++){const Xt=L[Tt];if(X[Xt.id]=0,Tt>0){const bt=L[Tt-1];Xt.x-bt.x<Y&&(X[Xt.id]=w(X[bt.id],0)?yt:0)}}return X}function Yt(S){return n(F).has(S)}function dt(S,L){return w(S.type,"group_header")?`group_${S.group.id}`:S.row.id}function Ct(S){return S.isGroup?S.columns.reduce((L,X)=>L+Ct(X),0):1}function re(S){let L=0;for(const X of S)if(X.isGroup){const Y=1+re(X.columns);L=Math.max(L,Y)}return L}function pt(S,L){var ie,Jt;const X=L==null?void 0:L.groupHeaders,Y=((ie=L==null?void 0:L.colors)==null?void 0:ie.primary)??"#0891b2",yt=((Jt=L==null?void 0:L.colors)==null?void 0:Jt.background)??"#ffffff";if(w(S,1)&&(X!=null&&X.level1Background))return X.level1Background;if(w(S,2)&&(X!=null&&X.level2Background))return X.level2Background;if(S>=3&&(X!=null&&X.level3Background))return X.level3Background;const Xt=[.15,.1,.06][Math.min(S-1,2)],bt=ae=>{const At=ae.replace("#","");return{r:parseInt(At.substring(0,2),16),g:parseInt(At.substring(2,4),16),b:parseInt(At.substring(4,6),16)}},Et=bt(Y),Dt=bt(yt),Pt=(ae,At)=>Math.round(ae*Xt+At*(1-Xt)),ze=Pt(Et.r,Dt.r),Bt=Pt(Et.g,Dt.g),we=Pt(Et.b,Dt.b);return`rgb(${ze}, ${Bt}, ${we})`}const zt=v(m(()=>Math.max(1,1+re(n(u)))),"headerDepth"),Ve=v(m(()=>{const S=[];let L=2;function X(Y,yt){const Tt=Ct(Y),Xt=L;if(Y.isGroup){S.push({col:Y,gridColumnStart:Xt,colspan:Tt,rowStart:yt+1,rowSpan:1,isGroupHeader:!0,isForest:!1});for(const bt of Y.columns)X(bt,yt+1)}else{const bt=!Y.isGroup&&Nt.includes(Y.type);S.push({col:Y,gridColumnStart:Xt,colspan:1,rowStart:yt+1,rowSpan:n(zt)-yt,isGroupHeader:!1,isForest:bt}),L++}}for(const Y of n(u))X(Y,0);return S}),"headerCells");function _t(S){const L=n(N)[S.id];return w(typeof L,"number")?`${L}px`:w(typeof S.width,"number")?`${S.width}px`:"max-content"}const Nt=["forest","viz_bar","viz_boxplot","viz_violin"],he=v(m(()=>{var X,Y,yt,Tt,Xt,bt,Et,Dt;const S=[],L=n(N).__label__;S.push(L?`${L}px`:"max-content");for(const Pt of n(d))if(Nt.includes(Pt.type)){const ze=n(N)[Pt.id];let Bt;w(typeof ze,"number")?Bt=ze:w(typeof Pt.width,"number")?Bt=Pt.width:w(Pt.type,"forest")?Bt=((Y=(X=Pt.options)==null?void 0:X.forest)==null?void 0:Y.width)??n(a).forestWidth:w(Pt.type,"viz_bar")?Bt=((Tt=(yt=Pt.options)==null?void 0:yt.vizBar)==null?void 0:Tt.width)??n(a).forestWidth:w(Pt.type,"viz_boxplot")?Bt=((bt=(Xt=Pt.options)==null?void 0:Xt.vizBoxplot)==null?void 0:bt.width)??n(a).forestWidth:w(Pt.type,"viz_violin")?Bt=((Dt=(Et=Pt.options)==null?void 0:Et.vizViolin)==null?void 0:Dt.width)??n(a).forestWidth:Bt=n(a).forestWidth,S.push(`${Bt}px`)}else S.push(_t(Pt));return S.join(" ")}),"gridTemplateColumns");v(m(()=>1+n(d).length),"totalColumns");const Je=v(m(()=>{const S=[];for(let L=0;L<n(d).length;L++)Nt.includes(n(d)[L].type)&&S.push({gridCol:2+L,column:n(d)[L]});return S}),"vizColumnGridIndices");n(Je);let Xe=v(xt(fr(new Map)),"forestColumnRefs"),Ln=v(xt(fr(new Map)),"forestColumnPositions"),ee=v(xt(void 0),"labelHeaderRef"),Ce=v(xt(0),"measuredHeaderHeight");Mo(()=>{n(N),n(a).forestWidth,n(zt),Tu().then(()=>{const S=new Map;for(const[L,X]of n(Xe))X&&S.set(L,X.offsetLeft);tt(Ln,S,!0),n(ee)&&tt(Ce,n(ee).offsetHeight,!0)})});function Ue(S,L){return n(Xe).set(L,S),tt(Xe,new Map(n(Xe)),!0),{destroy(){n(Xe).delete(L),tt(Xe,new Map(n(Xe)),!0)}}}const Oe=v(m(()=>n(Ce)>0?n(Ce):n(a).headerHeight),"actualHeaderHeight"),qe=v(m(()=>{var X,Y,yt,Tt,Xt,bt,Et,Dt,Pt;const S=new Map,L=yi;for(const ze of n(p)){const Bt=ze.column,we=L;if(w(Bt.type,"viz_bar")){const ie=(X=Bt.options)==null?void 0:X.vizBar;if(!ie)continue;const Jt=n(N)[Bt.id],ae=w(typeof Jt,"number")?Jt:w(typeof Bt.width,"number")?Bt.width:ie.width??n(a).forestWidth;let At=(Y=ie.axisRange)==null?void 0:Y[0],ht=(yt=ie.axisRange)==null?void 0:yt[1];if(de(At,null)||de(ht,null)){const ge=[];for(const De of n(o))if(w(De.type,"data"))for(const Be of ie.effects){const fe=De.row.metadata[Be.value];de(fe,null,!1)&&!Number.isNaN(fe)&&ge.push(fe)}ge.length>0?(At=At??Math.min(0,...ge),ht=ht??Math.max(...ge)*1.1):(At=At??0,ht=ht??100)}const $t=w(ie.scale,"log")?Br().domain([Math.max(.01,At),ht]).range([we,ae-we]):er().domain([At,ht]).range([we,ae-we]);S.set(Bt.id,$t)}else if(w(Bt.type,"viz_boxplot")){const ie=(Tt=Bt.options)==null?void 0:Tt.vizBoxplot;if(!ie)continue;const Jt=n(N)[Bt.id],ae=w(typeof Jt,"number")?Jt:w(typeof Bt.width,"number")?Bt.width:ie.width??n(a).forestWidth;let At=(Xt=ie.axisRange)==null?void 0:Xt[0],ht=(bt=ie.axisRange)==null?void 0:bt[1];if(de(At,null)||de(ht,null)){const ge=[];for(const De of n(o))if(w(De.type,"data")){for(const Be of ie.effects)if(Be.data){const fe=De.row.metadata[Be.data];if(fe&&Array.isArray(fe)){const Ut=qc(fe);ge.push(Ut.min,Ut.max),w(ie.showOutliers,!1,!1)&&ge.push(...Ut.outliers)}}else if(Be.min&&Be.max){const fe=De.row.metadata[Be.min],Ut=De.row.metadata[Be.max];de(fe,null,!1)&&!Number.isNaN(fe)&&ge.push(fe),de(Ut,null,!1)&&!Number.isNaN(Ut)&&ge.push(Ut)}}if(ge.length>0){const De=Math.min(...ge),Be=Math.max(...ge),fe=Be-De;At=At??De-fe*.05,ht=ht??Be+fe*.05}else At=At??0,ht=ht??100}const $t=w(ie.scale,"log")?Br().domain([Math.max(.01,At),ht]).range([we,ae-we]):er().domain([At,ht]).range([we,ae-we]);S.set(Bt.id,$t)}else if(w(Bt.type,"viz_violin")){const ie=(Et=Bt.options)==null?void 0:Et.vizViolin;if(!ie)continue;const Jt=n(N)[Bt.id],ae=w(typeof Jt,"number")?Jt:w(typeof Bt.width,"number")?Bt.width:ie.width??n(a).forestWidth;let At=(Dt=ie.axisRange)==null?void 0:Dt[0],ht=(Pt=ie.axisRange)==null?void 0:Pt[1];if(de(At,null)||de(ht,null)){const ge=[];for(const De of n(o))if(w(De.type,"data"))for(const Be of ie.effects){const fe=De.row.metadata[Be.data];fe&&Array.isArray(fe)&&ge.push(...fe.filter(Ut=>de(Ut,null,!1)&&!Number.isNaN(Ut)))}if(ge.length>0){At=At??Math.min(...ge),ht=ht??Math.max(...ge);const De=ht-At;At=At-De*.1,ht=ht+De*.1}else At=At??0,ht=ht??100}const $t=w(ie.scale,"log")?Br().domain([Math.max(.01,At),ht]).range([we,ae-we]):er().domain([At,ht]).range([we,ae-we]);S.set(Bt.id,$t)}}return S}),"vizColumnScales"),En=v(m(()=>{var X;const S=new Map,L=yi;for(const Y of n(h)){const yt=Y.column,Tt=(X=yt.options)==null?void 0:X.forest,Xt=n(N)[yt.id],bt=w(typeof Xt,"number")?Xt:w(typeof yt.width,"number")?yt.width:(Tt==null?void 0:Tt.width)??n(a).forestWidth,Et=w(Tt==null?void 0:Tt.scale,"log"),Dt=n(c).axisLimits,Pt=L,ze=Math.max(bt-L,Pt+50);if(Et){const Bt=[Math.max(Dt[0],.01),Math.max(Dt[1],.02)];S.set(yt.id,Br().domain(Bt).range([Pt,ze]))}else S.set(yt.id,er().domain(Dt).range([Pt,ze]))}return S}),"forestColumnScales");v(xt(!1),"resizingPlot");let an=v(xt(null),"resizingColumn"),jt=0,Gt=0;function Pe(S,L,X){var Y;(Y=n(r))!=null&&Y.interaction.enableResize&&(S.preventDefault(),S.stopPropagation(),tt(an,L,!0),jt=S.clientX,Gt=X,document.addEventListener("pointermove",sr),document.addEventListener("pointerup",_r))}function sr(S){if(!n(an))return;const L=S.clientX-jt,X=Math.max(40,Gt+L);e.store.setColumnWidth(n(an),X)}function _r(){tt(an,null),document.removeEventListener("pointermove",sr),document.removeEventListener("pointerup",_r)}function xn(S,L){e.store.setHovered(S),e.store.setTooltip(S,{x:L.clientX,y:L.clientY})}function $e(){e.store.setHovered(null),e.store.setTooltip(null,null)}const kn=v(m(()=>n(l)?`
      --wf-max-width: ${n(z)?`${n(z)}px`:"none"};
      --wf-max-height: ${n(E)?`${n(E)}px`:"none"};
      --wf-bg: ${n(l).colors.background};
      --wf-fg: ${n(l).colors.foreground};
      --wf-primary: ${n(l).colors.primary};
      --wf-secondary: ${n(l).colors.secondary};
      --wf-muted: ${n(l).colors.muted};
      --wf-border: ${n(l).colors.border};
      --wf-row-bg: ${n(l).colors.rowBg};
      --wf-alt-bg: ${n(l).colors.altBg};
      --wf-interval-line: ${n(l).colors.intervalLine};
      --wf-interval-positive: ${n(l).colors.intervalPositive};
      --wf-interval-negative: ${n(l).colors.intervalNegative};
      --wf-summary-fill: ${n(l).colors.summaryFill};
      --wf-summary-border: ${n(l).colors.summaryBorder};
      --wf-accent: ${n(l).colors.accent};
      --wf-badge-success: ${Ho.success};
      --wf-badge-warning: ${Ho.warning};
      --wf-badge-error: ${Ho.error};
      --wf-badge-info: ${Ho.info};
      --wf-badge-muted: ${n(l).colors.muted};
      --wf-font-family: ${n(l).typography.fontFamily};
      --wf-font-size-sm: ${n(l).typography.fontSizeSm};
      --wf-font-size-base: ${n(l).typography.fontSizeBase};
      --wf-font-size-lg: ${n(l).typography.fontSizeLg};
      --wf-font-weight-normal: ${n(l).typography.fontWeightNormal};
      --wf-font-weight-medium: ${n(l).typography.fontWeightMedium};
      --wf-font-weight-bold: ${n(l).typography.fontWeightBold};
      --wf-line-height: ${n(l).typography.lineHeight};
      --wf-header-font-scale: ${n(l).typography.headerFontScale??1.05};
      --wf-row-height: ${n(l).spacing.rowHeight}px;
      --wf-header-height: ${n(l).spacing.headerHeight}px;
      --wf-header-row-height: ${n(l).spacing.headerHeight/n(zt)}px;
      --wf-header-depth: ${n(zt)};
      --wf-padding: ${n(l).spacing.padding}px;
      --wf-container-padding: ${n(l).spacing.containerPadding}px;
      --wf-cell-padding-x: ${n(l).spacing.cellPaddingX}px;
      --wf-cell-padding-y: ${n(l).spacing.cellPaddingY}px;
      --wf-axis-gap: ${n(l).spacing.axisGap??Kn.DEFAULT_AXIS_GAP}px;
      --wf-axis-height: ${n(a).axisHeight}px;
      --wf-group-padding: ${n(l).spacing.groupPadding??8}px;
      --wf-column-gap: ${n(l).spacing.columnGap??8}px;
      --wf-plot-width: ${n(a).forestWidth}px;
      --wf-point-size: ${n(l).shapes.pointSize}px;
      --wf-line-width: ${n(l).shapes.lineWidth}px;
      --wf-border-radius: ${n(l).shapes.borderRadius}px;
      --wf-container-border: ${n(l).layout.containerBorder?"1px solid var(--wf-border)":"none"};
      --wf-container-border-radius: ${n(l).layout.containerBorderRadius}px;
      --wf-group-header-opacity: ${id};
      --wf-row-hover-opacity: ${od};
      --wf-row-selected-opacity: ${ad};
      --wf-row-selected-hover-opacity: ${sd};
      --wf-actual-scale: ${n(C)};
      --wf-zoom: ${n(H)};
    `.trim():""),"cssVars");var Ur={...Ee()},wn=cp();Dn("keydown",Xi,st);let Ye;var dn=U(wn);{var Fn=S=>{var L=sp(),X=ut(L);W(()=>Rn(X,{get store(){return e.store},get enableExport(){return n(kt)},get enableThemes(){return n(vt)},get onThemeChange(){return e.onThemeChange}}),"component",G,852,4,{componentTag:"ControlToolbar"});var Y=K(X,2);let yt;{const fe=Tl(G,function(ft,Q=po,q=po){Al(...arguments);const Rt=v(m(()=>Iv(Q(),q())),"cellStyle");n(Rt);var it=St(),Re=ut(it);{var se=ve=>{{let Ie=m(()=>Hv(n(i),q())),be=m(()=>{var mt;return(mt=q().options)==null?void 0:mt.bar});W(()=>wi(ve,{get value(){return Q().metadata[q().field]},get maxValue(){return n(Ie)},get options(){return n(be)}}),"component",G,865,10,{componentTag:"CellBar"})}},ne=ve=>{var Ie=St(),be=ut(Ie);{var mt=Ft=>{{let oe=m(()=>{var He;return(He=q().options)==null?void 0:He.pvalue});W(()=>Zi(Ft,{get value(){return Q().metadata[q().field]},get options(){return n(oe)},get cellStyle(){return n(Rt)}}),"component",G,871,10,{componentTag:"CellPvalue"})}},Mt=Ft=>{var oe=St(),He=ut(oe);{var gn=It=>{{let ue=m(()=>{var gt;return(gt=q().options)==null?void 0:gt.sparkline});W(()=>Hn(It,{get data(){return Q().metadata[q().field]},get options(){return n(ue)}}),"component",G,877,10,{componentTag:"CellSparkline"})}},Zt=It=>{var ue=St(),gt=ut(ue);{var $=Qt=>{{let Me=m(()=>{var We;return(We=q().options)==null?void 0:We.icon});W(()=>Po(Qt,{get value(){return Q().metadata[q().field]},get options(){return n(Me)}}),"component",G,882,10,{componentTag:"CellIcon"})}},Lt=Qt=>{var Me=St(),We=ut(Me);{var pe=Ze=>{{let vn=m(()=>{var sn;return(sn=q().options)==null?void 0:sn.badge});W(()=>zo(Ze,{get value(){return Q().metadata[q().field]},get options(){return n(vn)}}),"component",G,887,10,{componentTag:"CellBadge"})}},Kt=Ze=>{var vn=St(),sn=ut(vn);{var en=Le=>{{let io=m(()=>{var oo;return(oo=q().options)==null?void 0:oo.stars});W(()=>Ei(Le,{get value(){return Q().metadata[q().field]},get options(){return n(io)}}),"component",G,892,10,{componentTag:"CellStars"})}},me=Le=>{var io=St(),oo=ut(io);{var Li=jn=>{{let so=m(()=>{var lo;return(lo=q().options)==null?void 0:lo.img});W(()=>ki(jn,{get value(){return Q().metadata[q().field]},get options(){return n(so)}}),"component",G,897,10,{componentTag:"CellImg"})}},ao=jn=>{var so=St(),lo=ut(so);{var Ap=co=>{{let Ma=m(()=>{var Sa;return(Sa=q().options)==null?void 0:Sa.reference});W(()=>Gr(co,{get value(){return Q().metadata[q().field]},get metadata(){return Q().metadata},get options(){return n(Ma)}}),"component",G,902,10,{componentTag:"CellReference"})}},Hp=co=>{var Ma=St(),Sa=ut(Ma);{var Wp=fo=>{{let Ea=m(()=>{var ka;return(ka=q().options)==null?void 0:ka.range});W(()=>Do(fo,{get value(){return Q().metadata[q().field]},get metadata(){return Q().metadata},get options(){return n(Ea)}}),"component",G,908,10,{componentTag:"CellRange"})}},Rp=fo=>{var Ea=St(),ka=ut(Ea);{var Ip=uo=>{{let Ca=m(()=>Bo(Q().metadata[q().field],q().options));W(()=>gr(uo,{get value(){return n(Ca)},get cellStyle(){return n(Rt)}}),"component",G,914,10,{componentTag:"CellContent"})}},Lp=uo=>{var Ca=St(),Fp=ut(Ca);{var Pp=ho=>{{let Fi=m(()=>xs(Q(),q().options));W(()=>gr(ho,{get value(){return n(Fi)},get cellStyle(){return n(Rt)}}),"component",G,916,10,{componentTag:"CellContent"})}},zp=ho=>{var Fi=St(),Dp=ut(Fi);{var Bp=go=>{{let Ns=m(()=>{var ef,nf,rf,of,af,sf;return ws((nf=(ef=q().options)==null?void 0:ef.interval)!=null&&nf.point?Q().metadata[q().options.interval.point]:void 0,(of=(rf=q().options)==null?void 0:rf.interval)!=null&&of.lower?Q().metadata[q().options.interval.lower]:void 0,(sf=(af=q().options)==null?void 0:af.interval)!=null&&sf.upper?Q().metadata[q().options.interval.upper]:void 0,q().options)});W(()=>gr(go,{get value(){return n(Ns)},get cellStyle(){return n(Rt)}}),"component",G,918,10,{componentTag:"CellContent"})}},Gp=go=>{{let Ns=m(()=>Q().metadata[q().field]??"");W(()=>gr(go,{get value(){return n(Ns)},get cellStyle(){return n(Rt)}}),"component",G,925,10,{componentTag:"CellContent"})}};W(()=>j(Dp,go=>{w(q().type,"interval")?go(Bp):go(Gp,!1)},!0),"if",G,917,8)}R(ho,Fi)};W(()=>j(Fp,ho=>{var Fi;w(q().type,"custom")&&((Fi=q().options)!=null&&Fi.events)?ho(Pp):ho(zp,!1)},!0),"if",G,915,8)}R(uo,Ca)};W(()=>j(ka,uo=>{w(q().type,"numeric")?uo(Ip):uo(Lp,!1)},!0),"if",G,913,8)}R(fo,Ea)};W(()=>j(Sa,fo=>{w(q().type,"range")?fo(Wp):fo(Rp,!1)},!0),"if",G,907,8)}R(co,Ma)};W(()=>j(lo,co=>{w(q().type,"reference")?co(Ap):co(Hp,!1)},!0),"if",G,901,8)}R(jn,so)};W(()=>j(oo,jn=>{w(q().type,"img")?jn(Li):jn(ao,!1)},!0),"if",G,896,8)}R(Le,io)};W(()=>j(sn,Le=>{w(q().type,"stars")?Le(en):Le(me,!1)},!0),"if",G,891,8)}R(Ze,vn)};W(()=>j(We,Ze=>{w(q().type,"badge")?Ze(pe):Ze(Kt,!1)},!0),"if",G,886,8)}R(Qt,Me)};W(()=>j(gt,Qt=>{w(q().type,"icon")?Qt($):Qt(Lt,!1)},!0),"if",G,881,8)}R(It,ue)};W(()=>j(He,It=>{w(q().type,"sparkline")?It(gn):It(Zt,!1)},!0),"if",G,876,8)}R(Ft,oe)};W(()=>j(be,Ft=>{w(q().type,"pvalue")?Ft(mt):Ft(Mt,!1)},!0),"if",G,870,8)}R(ve,Ie)};W(()=>j(Re,ve=>{w(q().type,"bar")?ve(se):ve(ne,!1)}),"if",G,864,8)}R(ft,it)});var Tt=U(Y);{var Xt=ft=>{{let Q=m(()=>{var Rt;return(Rt=n(r).labels)==null?void 0:Rt.title}),q=m(()=>{var Rt;return(Rt=n(r).labels)==null?void 0:Rt.subtitle});W(()=>tr(ft,{get title(){return n(Q)},get subtitle(){return n(q)}}),"component",G,858,8,{componentTag:"PlotHeader"})}};W(()=>j(Tt,ft=>{n(x)&&ft(Xt)}),"if",G,857,6)}var bt=K(Tt,2);let Ut,hn;var Et=U(bt);let yr;var Dt=U(Et),Pt=U(Dt),ze=K(Dt,2);{var Bt=ft=>{var Q=Lv();Q.__pointerdown=q=>Pe(q,"__label__",n(N).__label__??150),R(ft,Q)};W(()=>j(ze,ft=>{var Q;(Q=n(r))!=null&&Q.interaction.enableResize&&ft(Bt)}),"if",G,939,10)}ei(Et,ft=>tt(ee,ft),()=>n(ee));var we=K(Et,2);yn(()=>n(Ve),ft=>ft.col.id),W(()=>Ne(we,17,()=>n(Ve),ft=>ft.col.id,(ft,Q)=>{var q=St(),Rt=ut(q);{var it=se=>{var ne=Fv();let ve;var Ie=U(ne),be=U(Ie,!0);Z(()=>{ve=ke(ne,"",ve,{"grid-column":`${n(Q).gridColumnStart??""} / span ${n(Q).colspan??""}`,"grid-row":`${n(Q).rowStart??""} / span ${n(Q).rowSpan??""}`}),Vt(be,n(Q).col.header)}),R(se,ne)},Re=se=>{var ne=St(),ve=ut(ne);{var Ie=mt=>{const Mt=v(m(()=>n(Q).col),"column");n(Mt);const Ft=v(m(()=>{var gt,$,Lt,Qt,Me,We,pe,Kt;return w(n(Mt).type,"forest")?(($=(gt=n(Mt).options)==null?void 0:gt.forest)==null?void 0:$.width)??n(a).forestWidth:w(n(Mt).type,"viz_bar")?((Qt=(Lt=n(Mt).options)==null?void 0:Lt.vizBar)==null?void 0:Qt.width)??n(a).forestWidth:w(n(Mt).type,"viz_boxplot")?((We=(Me=n(Mt).options)==null?void 0:Me.vizBoxplot)==null?void 0:We.width)??n(a).forestWidth:w(n(Mt).type,"viz_violin")?((Kt=(pe=n(Mt).options)==null?void 0:pe.vizViolin)==null?void 0:Kt.width)??n(a).forestWidth:n(a).forestWidth}),"vizDefaultWidth");n(Ft);var oe=Dv();let He;var gn=U(oe);{var Zt=gt=>{var $=Pv(),Lt=U($,!0);Z(()=>Vt(Lt,n(Mt).header)),R(gt,$)};W(()=>j(gn,gt=>{n(Mt).header&&gt(Zt)}),"if",G,977,14)}var It=K(gn,2);{var ue=gt=>{var $=zv();$.__pointerdown=Lt=>Pe(Lt,n(Mt).id,n(N)[n(Mt).id]??n(Ft)),R(gt,$)};W(()=>j(It,gt=>{var $;($=n(r))!=null&&$.interaction.enableResize&&gt(ue)}),"if",G,980,14)}oa(oe,(gt,$)=>Ue==null?void 0:Ue(gt,$),()=>n(Mt).id),Z(()=>He=ke(oe,"",He,{"grid-column":n(Q).gridColumnStart,"grid-row":`${n(Q).rowStart??""} / span ${n(Q).rowSpan??""}`})),R(mt,oe)},be=mt=>{const Mt=v(m(()=>n(Q).col),"column");n(Mt);var Ft=Gv();let oe;var He=U(Ft),gn=U(He,!0);var Zt=K(He,2);{var It=ue=>{var gt=Bv();gt.__pointerdown=$=>Pe($,n(Mt).id,n(N)[n(Mt).id]??(w(typeof n(Mt).width,"number")?n(Mt).width:80)),R(ue,gt)};W(()=>j(Zt,ue=>{var gt;(gt=n(r))!=null&&gt.interaction.enableResize&&ue(It)}),"if",G,998,14)}Z(()=>{oe=ke(Ft,"",oe,{"grid-column":n(Q).gridColumnStart,"grid-row":`${n(Q).rowStart??""} / span ${n(Q).rowSpan??""}`,"text-align":n(Mt).headerAlign??n(Mt).align}),Vt(gn,n(Mt).header)}),R(mt,Ft)};W(()=>j(ve,mt=>{n(Q).isForest?mt(Ie):mt(be,!1)},!0),"if",G,959,10)}R(se,ne)};W(()=>j(Rt,se=>{n(Q).isGroupHeader?se(it):se(Re,!1)}),"if",G,950,10)}R(ft,q)}),"each",G,949,8);var ie=K(we,2);yn(()=>n(o),(ft,Q)=>dt(ft)),W(()=>Ne(ie,19,()=>n(o),(ft,Q)=>dt(ft,Q),(ft,Q,q)=>{const Rt=v(m(()=>w(n(Q).type,"group_header")),"isGroupHeader");n(Rt);const it=v(m(()=>n(Rt)?null:n(Q).row),"row");n(it);const Re=v(m(()=>n(Q).depth),"rowDepth");n(Re);const se=v(m(()=>n(it)?Yt(n(it).id):!1),"selected");n(se);const ne=v(m(()=>n(it)?Wv(n(it).style,n(q),n(g)):""),"rowClasses");n(ne);const ve=v(m(()=>n(it)?Rv(n(it).style,n(Re)):""),"rowStyles");n(ve);const Ie=v(m(()=>{var gt,$;return w(($=(gt=n(it))==null?void 0:gt.style)==null?void 0:$.type,"spacer")}),"isSpacerRow");n(Ie);const be=v(m(()=>n(zt)+1+n(q)),"gridRow");n(be);const mt=v(m(()=>n(Rt)?pt(n(Re)+1,n(l)):void 0),"groupBg");n(mt);var Mt=qv(),Ft=ut(Mt);let oe,He;Ft.__click=function(...gt){dr(()=>n(Rt)?()=>e.store.toggleGroup(n(Q).group.id):n(it)?()=>e.store.selectRow(n(it).id):void 0,this,gt,G,[1034,21])},Ft.__keydown=function(...gt){dr(()=>n(Rt)?$=>(w($.key,"Enter")||w($.key," "))&&e.store.toggleGroup(n(Q).group.id):void 0,this,gt,G,[1035,23])};var gn=U(Ft);{var Zt=gt=>{{let $=m(()=>n(Q).depth+1);W(()=>Yi(gt,{get group(){return n(Q).group},get rowCount(){return n(Q).rowCount},get level(){return n($)},get theme(){return n(l)}}),"component",G,1040,14,{componentTag:"GroupHeader"})}},It=gt=>{var $=St(),Lt=ut($);{var Qt=Me=>{var We=jv(),pe=ut(We);{var Kt=en=>{var me=Vv(),Le=U(me,!0);Z(()=>Vt(Le,n(it).style.icon)),R(en,me)};W(()=>j(pe,en=>{var me;(me=n(it).style)!=null&&me.icon&&en(Kt)}),"if",G,1047,14)}var Ze=K(pe),vn=K(Ze);{var sn=en=>{var me=Ov(),Le=U(me,!0);Z(()=>Vt(Le,n(it).style.badge)),R(en,me)};W(()=>j(vn,en=>{var me;(me=n(it).style)!=null&&me.badge&&en(sn)}),"if",G,1049,14)}Z(()=>Vt(Ze,` ${n(it).label??""} `)),R(Me,We)};W(()=>j(Lt,Me=>{n(it)&&Me(Qt)},!0),"if",G,1046,12)}R(gt,$)};W(()=>j(gn,gt=>{n(Rt)?gt(Zt):gt(It,!1)}),"if",G,1039,12)}var ue=K(Ft,2);yn(()=>n(d),gt=>gt.id),W(()=>Ne(ue,17,()=>n(d),gt=>gt.id,(gt,$)=>{var Lt=St(),Qt=ut(Lt);{var Me=pe=>{var Kt=Xv();let Ze,vn;Kt.__click=function(...sn){dr(()=>n(it)?()=>e.store.selectRow(n(it).id):void 0,this,sn,G,[1068,25])},Z(()=>{Ze=cn(Kt,1,`grid-cell data-cell plot-cell ${n(ne)??""}`,"svelte-14l8yxx",Ze,{"group-row":n(Rt),selected:n(se),hovered:n(it)&&w(n(k),n(it).id),"spacer-row":n(Ie)}),vn=ke(Kt,n(ve)||void 0,vn,{"grid-row":n(be),"background-color":n(mt)})}),Dn("mouseenter",Kt,function(...sn){dr(()=>n(it)?en=>xn(n(it).id,en):void 0,this,sn,G,[1066,30])}),Dn("mouseleave",Kt,function(...sn){dr(()=>n(it)?()=>$e():void 0,this,sn,G,[1067,30])}),R(pe,Kt)},We=pe=>{var Kt=Uv();let Ze,vn;Kt.__click=function(...me){dr(()=>n(it)?()=>e.store.selectRow(n(it).id):void 0,this,me,G,[1085,25])};var sn=U(Kt);{var en=me=>{W(()=>fe(me,()=>n(it),()=>n($)),"render",G,1088,18)};W(()=>j(sn,me=>{n(it)&&me(en)}),"if",G,1087,16)}Z(()=>{Ze=cn(Kt,1,`grid-cell data-cell ${n(ne)??""}`,"svelte-14l8yxx",Ze,{"group-row":n(Rt),selected:n(se),hovered:n(it)&&w(n(k),n(it).id),"spacer-row":n(Ie),"wrap-enabled":n($).wrap}),vn=ke(Kt,n(ve)||void 0,vn,{"grid-row":n(be),"background-color":n(mt),"text-align":n($).align})}),Dn("mouseenter",Kt,function(...me){dr(()=>n(it)?Le=>xn(n(it).id,Le):void 0,this,me,G,[1083,30])}),Dn("mouseleave",Kt,function(...me){dr(()=>n(it)?()=>$e():void 0,this,me,G,[1084,30])}),R(pe,Kt)};W(()=>j(Qt,pe=>{Nt.includes(n($).type)?pe(Me):pe(We,!1)}),"if",G,1055,12)}R(gt,Lt)}),"each",G,1054,10),Z(()=>{var gt,$,Lt,Qt;oe=cn(Ft,1,`grid-cell data-cell label-cell ${n(ne)??""}`,"svelte-14l8yxx",oe,{"group-row":n(Rt),selected:n(se),hovered:n(it)&&w(n(k),n(it).id),"spacer-row":n(Ie)}),He=ke(Ft,n(ve)||void 0,He,{"grid-row":n(be),"background-color":n(mt),"padding-left":n(Rt)?`${n(Re)*12}px`:(($=(gt=n(it))==null?void 0:gt.style)==null?void 0:$.indent)??n(Re)?`${(((Qt=(Lt=n(it))==null?void 0:Lt.style)==null?void 0:Qt.indent)??n(Re))*12}px`:void 0}),A(Ft,"role",n(Rt)?"button":void 0),A(Ft,"tabindex",n(Rt)?0:void 0)}),Dn("mouseenter",Ft,function(...gt){dr(()=>n(it)?$=>xn(n(it).id,$):void 0,this,gt,G,[1036,26])}),Dn("mouseleave",Ft,function(...gt){dr(()=>n(it)?()=>$e():void 0,this,gt,G,[1037,26])}),R(ft,Mt)}),"each",G,1010,8);var Jt=K(ie,2);{var ae=ft=>{const Q=v(m(()=>n(zt)+1+n(o).length),"axisRowNum");n(Q);var q=Kv(),Rt=ut(q);yn(()=>n(d),se=>se.id),W(()=>Ne(Rt,19,()=>n(d),se=>se.id,(se,ne,ve)=>{var Ie=St(),be=ut(Ie);{var mt=Ft=>{var oe=Yv();let He;Z(()=>He=ke(oe,"",He,{"grid-column":2+n(ve),"grid-row":n(Q)})),R(Ft,oe)},Mt=Ft=>{var oe=Zv();let He;Z(()=>He=ke(oe,"",He,{"grid-column":2+n(ve),"grid-row":n(Q)})),R(Ft,oe)};W(()=>j(be,Ft=>{Nt.includes(n(ne).type)?Ft(mt):Ft(Mt,!1)}),"if",G,1099,12)}R(se,Ie)}),"each",G,1098,10);var it=K(Rt,2);let Re;Z(()=>Re=ke(it,"",Re,{"grid-column":"1","grid-row":n(Q)})),R(ft,q)};W(()=>j(Jt,ft=>{n(_)&&ft(ae)}),"if",G,1096,8)}var At=K(Jt,2);yn(()=>n(h),ft=>ft.column.id),W(()=>Ne(At,17,()=>n(h),ft=>ft.column.id,(ft,Q)=>{const q=v(m(()=>{var $;return($=n(Q).column.options)==null?void 0:$.forest}),"forestOpts");n(q);const Rt=v(m(()=>n(N)[n(Q).column.id]),"dynamicForestWidth");n(Rt);const it=v(m(()=>{var $;return w(typeof n(Rt),"number")?n(Rt):w(typeof n(Q).column.width,"number")?n(Q).column.width:(($=n(q))==null?void 0:$.width)??n(a).forestWidth}),"forestWidth");n(it);const Re=v(m(()=>n(Ln).get(n(Q).column.id)??0),"forestLeft");n(Re);const se=v(m(()=>{var $;return(($=n(l))==null?void 0:$.spacing.axisGap)??Kn.DEFAULT_AXIS_GAP}),"axisGap");n(se);const ne=v(m(()=>{var $;return(($=n(q))==null?void 0:$.nullValue)??n(a).nullValue}),"nullValue");n(ne);const ve=v(m(()=>{var $;return(($=n(q))==null?void 0:$.axisLabel)??"Effect"}),"axisLabel");n(ve);const Ie=v(m(()=>{var $;return w(($=n(q))==null?void 0:$.scale,"log")}),"isLog");n(Ie);const be=v(m(()=>n(En).get(n(Q).column.id)??n(s)),"colScale");n(be);var mt=tp();let Mt;var Ft=U(mt);A(Ft,"y1",0);var oe=K(Ft);{var He=$=>{const Lt=v(m(()=>{var pe;return[...n(r).annotations??[],...((pe=n(q))==null?void 0:pe.annotations)??[]]}),"allAnnotations");n(Lt);const Qt=v(m(()=>qt(n(Lt))),"annotationLabelOffsets");n(Qt);var Me=St(),We=ut(Me);yn(()=>n(Lt),pe=>pe.id),W(()=>Ne(We,17,()=>n(Lt),pe=>pe.id,(pe,Kt)=>{var Ze=St(),vn=ut(Ze);{var sn=en=>{var me=Jv(),Le=ut(me);A(Le,"y1",0);var io=K(Le);{var oo=Li=>{const ao=v(m(()=>n(Qt)[n(Kt).id]??0),"yOffset");n(ao);var jn=Qv(),so=U(jn,!0);Z(lo=>{A(jn,"x",lo),A(jn,"y",-4+n(ao)),A(jn,"fill",n(Kt).color??"var(--wf-secondary)"),Vt(so,n(Kt).label)},[()=>n(be)(n(Kt).x)]),R(Li,jn)};W(()=>j(io,Li=>{n(Kt).label&&Li(oo)}),"if",G,1155,16)}Z((Li,ao)=>{A(Le,"x1",Li),A(Le,"x2",ao),A(Le,"y2",n(ct)),A(Le,"stroke",n(Kt).color??"var(--wf-accent)"),A(Le,"stroke-width",n(Kt).width??1.5),A(Le,"stroke-opacity",n(Kt).opacity??.6),A(Le,"stroke-dasharray",w(n(Kt).style,"dashed")?"6,4":w(n(Kt).style,"dotted")?"2,2":"none")},[()=>n(be)(n(Kt).x),()=>n(be)(n(Kt).x)]),R(en,me)};W(()=>j(vn,en=>{w(n(Kt).type,"reference_line")&&en(sn)}),"if",G,1144,14)}R(pe,Ze)}),"each",G,1143,14),R($,Me)};W(()=>j(oe,$=>{$(He)}),"if",G,1140,12)}var gn=K(oe);yn(()=>n(o),($,Lt)=>dt($,Lt)),W(()=>Ne(gn,19,()=>n(o),($,Lt)=>dt($,Lt),($,Lt,Qt)=>{var Me=St(),We=ut(Me);{var pe=Kt=>{const Ze=v(m(()=>n(lt).positions[n(Qt)]??n(Qt)*n(a).rowHeight),"rowY");n(Ze);const vn=v(m(()=>n(lt).heights[n(Qt)]??n(a).rowHeight),"rowH");n(vn);{let sn=m(()=>n(Ze)+n(vn)/2),en=m(()=>({...n(a),forestWidth:n(it)}));W(()=>Ge(Kt,{get row(){return n(Lt).row},get yPosition(){return n(sn)},get xScale(){return n(be)},get layout(){return n(en)},get theme(){return n(l)},get clipBounds(){return n(f)},get isLog(){return n(Ie)},get weightCol(){return n(r).data.weightCol},get forestColumnOptions(){return n(q)},onRowClick:()=>e.store.selectRow(n(Lt).row.id),onRowHover:(me,Le)=>{e.store.setHovered(me?n(Lt).row.id:null),me&&Le?e.store.setTooltip(n(Lt).row.id,{x:Le.clientX,y:Le.clientY}):e.store.setTooltip(null,null)}}),"component",G,1177,16,{componentTag:"RowInterval"})}};W(()=>j(We,Kt=>{w(n(Lt).type,"data")&&Kt(pe)}),"if",G,1174,14)}R($,Me)}),"each",G,1173,12);var Zt=K(gn);{var It=$=>{{let Lt=m(()=>n(ct)+n(a).rowHeight/2),Qt=m(()=>({...n(a),forestWidth:n(it)}));W(()=>ri($,{get point(){return n(r).data.overall.point},get lower(){return n(r).data.overall.lower},get upper(){return n(r).data.overall.upper},get yPosition(){return n(Lt)},get xScale(){return n(be)},get layout(){return n(Qt)},get theme(){return n(l)}}),"component",G,1205,14,{componentTag:"SummaryDiamond"})}};W(()=>j(Zt,$=>{n(r).data.overall&&n(a).showOverallSummary&&w(typeof n(r).data.overall.point,"number")&&!Number.isNaN(n(r).data.overall.point)&&w(typeof n(r).data.overall.lower,"number")&&!Number.isNaN(n(r).data.overall.lower)&&w(typeof n(r).data.overall.upper,"number")&&!Number.isNaN(n(r).data.overall.upper)&&$(It)}),"if",G,1201,12)}var ue=K(Zt);{var gt=$=>{var Lt=$v(),Qt=U(Lt);{let Me=m(()=>({...n(a),forestWidth:n(it)}));W(()=>Nn(Qt,{get xScale(){return n(be)},get layout(){return n(Me)},get theme(){return n(l)},get axisLabel(){return n(ve)},position:"bottom",get plotHeight(){return n(a).plotHeight},get baseTicks(){return n(c).ticks}}),"component",G,1219,16,{componentTag:"EffectAxis"})}Z(()=>A(Lt,"transform",`translate(0, ${n(ct)+n(se)})`)),R($,Lt)};W(()=>j(ue,$=>{var Lt;w((Lt=n(q))==null?void 0:Lt.showAxis,!1,!1)&&$(gt)}),"if",G,1217,12)}Z(($,Lt)=>{A(mt,"width",n(it)),A(mt,"height",n(ct)+n(a).axisHeight),A(mt,"viewBox",`0 0 ${n(it)??""} ${n(ct)+n(a).axisHeight}`),Mt=ke(mt,"",Mt,{top:`${n(Oe)??""}px`,left:`${n(Re)??""}px`}),A(Ft,"x1",$),A(Ft,"x2",Lt),A(Ft,"y2",n(ct))},[()=>n(be)(n(ne)),()=>n(be)(n(ne))]),R(ft,mt)}),"each",G,1110,8);var ht=K(At,2);yn(()=>n(p).filter(ft=>w(ft.column.type,"viz_bar")),ft=>ft.column.id),W(()=>Ne(ht,17,()=>n(p).filter(ft=>w(ft.column.type,"viz_bar")),ft=>ft.column.id,(ft,Q)=>{const q=v(m(()=>{var mt;return(mt=n(Q).column.options)==null?void 0:mt.vizBar}),"vizOpts");n(q);const Rt=v(m(()=>n(N)[n(Q).column.id]),"dynamicVizWidth");n(Rt);const it=v(m(()=>{var mt;return w(typeof n(Rt),"number")?n(Rt):n(Q).column.width??((mt=n(q))==null?void 0:mt.width)??n(a).forestWidth}),"vizWidth");n(it);const Re=v(m(()=>n(Ln).get(n(Q).column.id)??0),"vizLeft");n(Re);const se=v(m(()=>{var mt;return((mt=n(l))==null?void 0:mt.spacing.axisGap)??Kn.DEFAULT_AXIS_GAP}),"axisGap");n(se);const ne=v(m(()=>n(qe).get(n(Q).column.id)),"sharedScale");n(ne);var ve=St(),Ie=ut(ve);{var be=mt=>{var Mt=np();let Ft;var oe=U(Mt);yn(()=>n(o),(Zt,It)=>dt(Zt,It)),W(()=>Ne(oe,19,()=>n(o),(Zt,It)=>dt(Zt,It),(Zt,It,ue)=>{var gt=St(),$=ut(gt);{var Lt=Qt=>{const Me=v(m(()=>n(lt).positions[n(ue)]??n(ue)*n(a).rowHeight),"rowY");n(Me);const We=v(m(()=>n(lt).heights[n(ue)]??n(a).rowHeight),"rowH");n(We);{let pe=m(()=>n(Me)+n(We)/2);W(()=>ii(Qt,{get row(){return n(It).row},get yPosition(){return n(pe)},get rowHeight(){return n(We)},get width(){return n(it)},get options(){return n(q)},get theme(){return n(l)},get sharedScale(){return n(ne)}}),"component",G,1247,18,{componentTag:"VizBar"})}};W(()=>j($,Qt=>{w(n(It).type,"data")&&Qt(Lt)}),"if",G,1244,16)}R(Zt,gt)}),"each",G,1243,14);var He=K(oe);{var gn=Zt=>{var It=ep(),ue=U(It);{let gt=m(()=>({...n(a),forestWidth:n(it),nullValue:0})),$=m(()=>n(q).axisLabel??"Value");W(()=>Nn(ue,{get xScale(){return n(ne)},get layout(){return n(gt)},get theme(){return n(l)},get axisLabel(){return n($)},position:"bottom",get plotHeight(){return n(ct)},get baseTicks(){return n(q).axisTicks},get gridlines(){return n(q).axisGridlines}}),"component",G,1262,18,{componentTag:"EffectAxis"})}Z(()=>A(It,"transform",`translate(0, ${n(ct)+n(se)})`)),R(Zt,It)};W(()=>j(He,Zt=>{w(n(q).showAxis,!1,!1)&&n(ne)&&Zt(gn)}),"if",G,1260,14)}Z(()=>{A(Mt,"width",n(it)),A(Mt,"height",n(ct)+n(a).axisHeight),A(Mt,"viewBox",`0 0 ${n(it)??""} ${n(ct)+n(a).axisHeight}`),Ft=ke(Mt,"",Ft,{top:`${n(Oe)??""}px`,left:`${n(Re)??""}px`})}),R(mt,Mt)};W(()=>j(Ie,mt=>{n(q)&&mt(be)}),"if",G,1233,10)}R(ft,ve)}),"each",G,1226,8);var $t=K(ht,2);yn(()=>n(p).filter(ft=>w(ft.column.type,"viz_boxplot")),ft=>ft.column.id),W(()=>Ne($t,17,()=>n(p).filter(ft=>w(ft.column.type,"viz_boxplot")),ft=>ft.column.id,(ft,Q)=>{const q=v(m(()=>{var mt;return(mt=n(Q).column.options)==null?void 0:mt.vizBoxplot}),"vizOpts");n(q);const Rt=v(m(()=>n(N)[n(Q).column.id]),"dynamicVizWidth");n(Rt);const it=v(m(()=>{var mt;return w(typeof n(Rt),"number")?n(Rt):n(Q).column.width??((mt=n(q))==null?void 0:mt.width)??n(a).forestWidth}),"vizWidth");n(it);const Re=v(m(()=>n(Ln).get(n(Q).column.id)??0),"vizLeft");n(Re);const se=v(m(()=>{var mt;return((mt=n(l))==null?void 0:mt.spacing.axisGap)??Kn.DEFAULT_AXIS_GAP}),"axisGap");n(se);const ne=v(m(()=>n(qe).get(n(Q).column.id)),"sharedScale");n(ne);var ve=St(),Ie=ut(ve);{var be=mt=>{var Mt=ip();let Ft;var oe=U(Mt);yn(()=>n(o),(Zt,It)=>dt(Zt,It)),W(()=>Ne(oe,19,()=>n(o),(Zt,It)=>dt(Zt,It),(Zt,It,ue)=>{var gt=St(),$=ut(gt);{var Lt=Qt=>{const Me=v(m(()=>n(lt).positions[n(ue)]??n(ue)*n(a).rowHeight),"rowY");n(Me);const We=v(m(()=>n(lt).heights[n(ue)]??n(a).rowHeight),"rowH");n(We);{let pe=m(()=>n(Me)+n(We)/2);W(()=>pr(Qt,{get row(){return n(It).row},get yPosition(){return n(pe)},get rowHeight(){return n(We)},get width(){return n(it)},get options(){return n(q)},get theme(){return n(l)},get sharedScale(){return n(ne)}}),"component",G,1300,18,{componentTag:"VizBoxplot"})}};W(()=>j($,Qt=>{w(n(It).type,"data")&&Qt(Lt)}),"if",G,1297,16)}R(Zt,gt)}),"each",G,1296,14);var He=K(oe);{var gn=Zt=>{var It=rp(),ue=U(It);{let gt=m(()=>({...n(a),forestWidth:n(it),nullValue:0})),$=m(()=>n(q).axisLabel??"Value");W(()=>Nn(ue,{get xScale(){return n(ne)},get layout(){return n(gt)},get theme(){return n(l)},get axisLabel(){return n($)},position:"bottom",get plotHeight(){return n(ct)},get baseTicks(){return n(q).axisTicks},get gridlines(){return n(q).axisGridlines}}),"component",G,1315,18,{componentTag:"EffectAxis"})}Z(()=>A(It,"transform",`translate(0, ${n(ct)+n(se)})`)),R(Zt,It)};W(()=>j(He,Zt=>{w(n(q).showAxis,!1,!1)&&n(ne)&&Zt(gn)}),"if",G,1313,14)}Z(()=>{A(Mt,"width",n(it)),A(Mt,"height",n(ct)+n(a).axisHeight),A(Mt,"viewBox",`0 0 ${n(it)??""} ${n(ct)+n(a).axisHeight}`),Ft=ke(Mt,"",Ft,{top:`${n(Oe)??""}px`,left:`${n(Re)??""}px`})}),R(mt,Mt)};W(()=>j(Ie,mt=>{n(q)&&mt(be)}),"if",G,1286,10)}R(ft,ve)}),"each",G,1279,8);var ge=K($t,2);yn(()=>n(p).filter(ft=>w(ft.column.type,"viz_violin")),ft=>ft.column.id),W(()=>Ne(ge,17,()=>n(p).filter(ft=>w(ft.column.type,"viz_violin")),ft=>ft.column.id,(ft,Q)=>{const q=v(m(()=>{var mt;return(mt=n(Q).column.options)==null?void 0:mt.vizViolin}),"vizOpts");n(q);const Rt=v(m(()=>n(N)[n(Q).column.id]),"dynamicVizWidth");n(Rt);const it=v(m(()=>{var mt;return w(typeof n(Rt),"number")?n(Rt):n(Q).column.width??((mt=n(q))==null?void 0:mt.width)??n(a).forestWidth}),"vizWidth");n(it);const Re=v(m(()=>n(Ln).get(n(Q).column.id)??0),"vizLeft");n(Re);const se=v(m(()=>{var mt;return((mt=n(l))==null?void 0:mt.spacing.axisGap)??Kn.DEFAULT_AXIS_GAP}),"axisGap");n(se);const ne=v(m(()=>n(qe).get(n(Q).column.id)),"sharedScale");n(ne);var ve=St(),Ie=ut(ve);{var be=mt=>{var Mt=ap();let Ft;var oe=U(Mt);yn(()=>n(o),(Zt,It)=>dt(Zt,It)),W(()=>Ne(oe,19,()=>n(o),(Zt,It)=>dt(Zt,It),(Zt,It,ue)=>{var gt=St(),$=ut(gt);{var Lt=Qt=>{const Me=v(m(()=>n(lt).positions[n(ue)]??n(ue)*n(a).rowHeight),"rowY");n(Me);const We=v(m(()=>n(lt).heights[n(ue)]??n(a).rowHeight),"rowH");n(We);{let pe=m(()=>n(Me)+n(We)/2);W(()=>rr(Qt,{get row(){return n(It).row},get yPosition(){return n(pe)},get rowHeight(){return n(We)},get width(){return n(it)},get options(){return n(q)},get theme(){return n(l)},get sharedScale(){return n(ne)}}),"component",G,1353,18,{componentTag:"VizViolin"})}};W(()=>j($,Qt=>{w(n(It).type,"data")&&Qt(Lt)}),"if",G,1350,16)}R(Zt,gt)}),"each",G,1349,14);var He=K(oe);{var gn=Zt=>{var It=op(),ue=U(It);{let gt=m(()=>({...n(a),forestWidth:n(it),nullValue:0})),$=m(()=>n(q).axisLabel??"Value");W(()=>Nn(ue,{get xScale(){return n(ne)},get layout(){return n(gt)},get theme(){return n(l)},get axisLabel(){return n($)},position:"bottom",get plotHeight(){return n(ct)},get baseTicks(){return n(q).axisTicks},get gridlines(){return n(q).axisGridlines}}),"component",G,1368,18,{componentTag:"EffectAxis"})}Z(()=>A(It,"transform",`translate(0, ${n(ct)+n(se)})`)),R(Zt,It)};W(()=>j(He,Zt=>{w(n(q).showAxis,!1,!1)&&n(ne)&&Zt(gn)}),"if",G,1366,14)}Z(()=>{A(Mt,"width",n(it)),A(Mt,"height",n(ct)+n(a).axisHeight),A(Mt,"viewBox",`0 0 ${n(it)??""} ${n(ct)+n(a).axisHeight}`),Ft=ke(Mt,"",Ft,{top:`${n(Oe)??""}px`,left:`${n(Re)??""}px`})}),R(mt,Mt)};W(()=>j(Ie,mt=>{n(q)&&mt(be)}),"if",G,1339,10)}R(ft,ve)}),"each",G,1332,8);var De=K(bt,2);{let ft=m(()=>{var q;return(q=n(r).labels)==null?void 0:q.caption}),Q=m(()=>{var q;return(q=n(r).labels)==null?void 0:q.footnote});W(()=>Dr(De,{get caption(){return n(ft)},get footnote(){return n(Q)}}),"component",G,1386,6,{componentTag:"PlotFooter"})}ei(Y,ft=>tt(D,ft),()=>n(D)),Z(()=>{Ut=cn(bt,1,"tabviz-main svelte-14l8yxx",null,Ut,{"has-header":n(x)}),hn=ke(bt,"",hn,{"grid-template-columns":n(he)}),yr=ke(Et,"",yr,{"grid-row":`1 / span ${n(zt)??""}`}),Vt(Pt,n(y))})}var Be=K(Y,2);{let fe=m(()=>{var Ut,hn;return(hn=(Ut=n(r))==null?void 0:Ut.interaction)==null?void 0:hn.tooltipFields});W(()=>xi(Be,{get row(){return n(T)},get position(){return n(I)},get fields(){return n(fe)},get theme(){return n(l)}}),"component",G,1390,4,{componentTag:"Tooltip"})}Z(()=>yt=ke(Y,"",yt,{"margin-left":`${n(J)??""}px`})),R(S,L)},ro=S=>{var L=lp();R(S,L)};W(()=>j(dn,S=>{n(r)?S(Fn):S(ro,!1)}),"if",G,850,2)}return ei(wn,S=>tt(M,S),()=>n(M)),Z(S=>{Ye=cn(wn,1,"tabviz-container svelte-14l8yxx",null,Ye,{"auto-fit":n(b),"has-max-width":w(n(z),null,!1),"has-max-height":w(n(E),null,!1),zoomed:w(n(H),1,!1)}),A(wn,"data-zoom",`${S??""}%`),ke(wn,`${n(kn)??""}; ${n(b)&&n(wt)>0?`height: ${n(wt)}px`:""}`)},[()=>Math.round(n(C)*100)]),R(t,wn),ye(Ur)}$r(["pointerdown","click","keydown"]),Fe[P]="src/components/split/SplitSidebar.svelte";var fp=V(ot('<span class="tree-line svelte-1c2ts73"></span>'),Fe[P],[[101,8]]),up=V(Ht('<svg width="12" height="12" viewBox="0 0 12 12" fill="none"><rect x="1" y="1" width="10" height="10" rx="2" stroke="currentColor" stroke-width="1.2"></rect><line x1="3" y1="6" x2="9" y2="6" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"></line></svg>'),Fe[P],[[119,14,[[120,16],[121,16]]]]),dp=V(Ht('<svg width="12" height="12" viewBox="0 0 12 12" fill="none"><rect x="1" y="1" width="10" height="10" rx="2" stroke="currentColor" stroke-width="1.2"></rect><line x1="6" y1="3" x2="6" y2="9" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"></line><line x1="3" y1="6" x2="9" y2="6" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"></line></svg>'),Fe[P],[[124,14,[[125,16],[126,16],[127,16]]]]),hp=V(ot("<span><!></span>"),Fe[P],[[117,10]]),gp=V(ot('<div class="section-header nested svelte-1c2ts73"> </div>'),Fe[P],[[139,10]]),vp=V(ot('<div class="children-wrapper svelte-1c2ts73"><!> <ul class="tree-list nested svelte-1c2ts73"></ul></div>'),Fe[P],[[137,6,[[141,8]]]]),pp=V(ot('<li><div class="tree-row svelte-1c2ts73"><!> <button><!> <span class="label svelte-1c2ts73"> </span></button></div> <!></li>'),Fe[P],[[98,2,[[99,4,[[103,6,[[132,8]]]]]]]]),mp=V(ot('<div class="sidebar-collapsed svelte-1c2ts73"><button class="toggle-btn svelte-1c2ts73" title="Expand navigation"><svg width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M7 4L12 9L7 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div>'),Fe[P],[[41,2,[[42,4,[[47,6,[[48,8]]]]]]]]),_p=V(ot('<div class="section-header svelte-1c2ts73"> </div>'),Fe[P],[[80,8]]),yp=V(ot('<aside class="split-sidebar svelte-1c2ts73" role="navigation" aria-label="Subgroup navigation"><div class="sidebar-header svelte-1c2ts73"><span class="sidebar-title svelte-1c2ts73">Subgroups</span> <button class="toggle-btn svelte-1c2ts73" title="Collapse navigation"><svg width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M11 4L6 9L11 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div> <div class="sidebar-search svelte-1c2ts73"><input type="text" placeholder="Search..." class="search-input svelte-1c2ts73"/></div> <nav class="sidebar-nav svelte-1c2ts73"><!> <ul class="tree-list svelte-1c2ts73"></ul></nav></aside>'),Fe[P],[[53,2,[[54,4,[[55,6],[56,6,[[61,8,[[62,10]]]]]]],[67,4,[[68,6]]],[78,4,[[83,6]]]]]]);function Fe(t,e){Se(new.target),_e(e,!0,Fe);const r=Tl(Fe,function(x,T=po,I=po,F=po){Al(...arguments);const k=v(m(()=>T().children&&T().children.length>0),"hasChildren");n(k);const H=v(m(()=>n(a).has(T().key)),"isExpanded");n(H);const b=v(m(()=>w(n(o),T().key)),"isActive");n(b);const C=v(m(()=>!n(k)),"isLeaf");n(C);var z=pp();let E;var N=U(z),M=U(N);{var D=st=>{var lt=fp();R(st,lt)};W(()=>j(M,st=>{I()>0&&st(D)}),"if",Fe,100,6)}var B=K(M,2);let rt;B.__click=()=>{n(C)?e.store.selectSpec(T().key):e.store.toggleExpanded(T().key)},B.__keydown=g;var nt=U(B);{var et=st=>{var lt=hp();let ct;var qt=U(lt);{var Yt=Ct=>{var re=up();R(Ct,re)},dt=Ct=>{var re=dp();R(Ct,re)};W(()=>j(qt,Ct=>{n(H)?Ct(Yt):Ct(dt,!1)}),"if",Fe,118,12)}Z(()=>ct=cn(lt,1,"tree-toggle svelte-1c2ts73",null,ct,{expanded:n(H)})),R(st,lt)};W(()=>j(nt,st=>{n(k)&&st(et)}),"if",Fe,116,8)}var wt=K(nt,2),J=U(wt,!0);var kt=K(N,2);{var vt=st=>{var lt=vp(),ct=U(lt);{var qt=dt=>{var Ct=gp(),re=U(Ct,!0);Z(pt=>{ke(Ct,`--depth: ${I()??""}`),Vt(re,pt)},[()=>d(n(c)[I()+1])]),R(dt,Ct)};W(()=>j(ct,dt=>{n(c).length>I()+1&&dt(qt)}),"if",Fe,138,8)}var Yt=K(ct,2);W(()=>Ne(Yt,21,()=>T().children,Yn,(dt,Ct,re)=>{W(()=>r(dt,()=>n(Ct),()=>I()+1,()=>w(re,T().children.length-1)),"render",Fe,143,12)}),"each",Fe,142,10),R(st,lt)};W(()=>j(kt,st=>{n(k)&&n(H)&&st(vt)}),"if",Fe,136,4)}Z(()=>{E=cn(z,1,"tree-item svelte-1c2ts73",null,E,{"is-last":F()}),ke(N,`--depth: ${I()??""}`),rt=cn(B,1,"node-btn svelte-1c2ts73",null,rt,{active:n(b),parent:n(k)}),Vt(J,T().label)}),R(x,z)}),i=v(m(()=>e.store.navTree),"navTree"),o=v(m(()=>e.store.activeKey),"activeKey"),a=v(m(()=>e.store.expandedNodes),"expandedNodes"),s=v(m(()=>e.store.searchQuery),"searchQuery"),c=v(m(()=>e.store.splitVars),"splitVars"),f=v(m(()=>e.store.sidebarCollapsed),"collapsed");function l(x){const T=x.target;e.store.setSearch(T.value)}function g(x){w(x.key,"ArrowDown")?(x.preventDefault(),e.store.selectNext()):w(x.key,"ArrowUp")&&(x.preventDefault(),e.store.selectPrevious())}function d(x){return x.replace(/_/g," ").replace(/\b\w/g,T=>T.toUpperCase())}var u={...Ee()},h=St(),p=ut(h);{var _=x=>{var T=mp(),I=U(T);I.__click=()=>e.store.toggleSidebar(),R(x,T)},y=x=>{var T=yp(),I=U(T),F=K(U(I),2);F.__click=()=>e.store.toggleSidebar();var k=K(I,2),H=U(k);H.__input=l,H.__keydown=g;var b=K(k,2),C=U(b);{var z=N=>{var M=_p(),D=U(M);Z(B=>Vt(D,B),[()=>d(n(c)[0])]),R(N,M)};W(()=>j(C,N=>{n(c).length>0&&N(z)}),"if",Fe,79,6)}var E=K(C,2);W(()=>Ne(E,21,()=>n(i),Yn,(N,M,D)=>{W(()=>r(N,()=>n(M),()=>0,()=>w(D,n(i).length-1)),"render",Fe,85,10)}),"each",Fe,84,8),Z(()=>Fl(H,n(s))),R(x,T)};W(()=>j(p,x=>{n(f)?x(_):x(y,!1)}),"if",Fe,40,0)}return R(t,h),ye(u)}$r(["click","keydown","input"]),Vn[P]="src/lib/SplitForestPlot.svelte";var xp=V(ot('<div class="split-forest-empty svelte-1y0d7q9">Select a plot from the sidebar</div>'),Vn[P],[[57,8]]),wp=V(ot('<!> <div class="split-forest-main svelte-1y0d7q9"><!></div>',1),Vn[P],[[51,4]]),bp=V(ot('<div class="split-forest-loading svelte-1y0d7q9">Loading...</div>'),Vn[P],[[63,4]]),Mp=V(ot('<div class="split-forest-container svelte-1y0d7q9"><!></div>'),Vn[P],[[45,0]]);function Vn(t,e){Se(new.target),_e(e,!0,Vn);const r=v(m(()=>e.store.activeStore),"activeStore"),i=v(m(()=>e.store.activeKey),"activeKey"),o=v(m(()=>e.store.payload),"payload"),a=v(m(()=>e.store.sidebarWidth),"sidebarWidth");function s(p){e.store.setTheme(p)}let c=v(xt(void 0),"containerRef");Mo(()=>{if(!n(c))return;const p=new ResizeObserver(_=>{for(const y of _){const{width:x,height:T}=y.contentRect;e.store.setDimensions(x,T)}});return p.observe(n(c)),()=>{p.disconnect()}});var f={...Ee()},l=Mp();let g;var d=U(l);{var u=p=>{var _=wp(),y=ut(_);W(()=>Fe(y,{get store(){return e.store}}),"component",Vn,48,4,{componentTag:"SplitSidebar"});var x=K(y,2),T=U(x);{var I=k=>{var H=St(),b=ut(H);W(()=>Gu(b,()=>n(i),C=>{W(()=>G(C,{get store(){return n(r)},onThemeChange:s}),"component",Vn,54,10,{componentTag:"ForestPlot"})}),"key",Vn,53,8),R(k,H)},F=k=>{var H=xp();R(k,H)};W(()=>j(T,k=>{n(r).spec?k(I):k(F,!1)}),"if",Vn,52,6)}R(p,_)},h=p=>{var _=bp();R(p,_)};W(()=>j(d,p=>{n(o)?p(u):p(h,!1)}),"if",Vn,46,2)}return ei(l,p=>tt(c,p),()=>n(c)),Z(()=>g=ke(l,"",g,{"--sidebar-width":`${n(a)??""}px`})),R(t,l),ye(f)}function Sp(){let t=v(xt(null),"spec"),e=v(xt(800),"initialWidth"),r=v(xt(400),"initialHeight"),i=v(xt(fr(new Set)),"selectedRowIds"),o=v(xt(fr(new Set)),"collapsedGroups"),a=v(xt(null),"sortConfig"),s=v(xt(null),"filterConfig"),c=v(xt(null),"hoveredRowId"),f=v(xt(null),"tooltipRowId"),l=v(xt(null),"tooltipPosition"),g=v(xt(fr({})),"columnWidths"),d=v(xt(null),"plotWidthOverride"),u=v(xt(1),"zoom"),h=v(xt(!0),"autoFit"),p=v(xt(null),"maxWidth"),_=v(xt(null),"maxHeight"),y=v(xt(!0),"showZoomControls"),x=v(xt(0),"containerWidth"),T=v(xt(0),"containerHeight"),I=v(xt(0),"scalableNaturalWidth"),F=v(xt(0),"scalableNaturalHeight"),k=v(xt(null),"containerElementId");const H=v(m(()=>n(x)>0?n(x):n(e)),"effectiveWidth"),b=v(m(()=>n(T)>0?n(T):n(r)),"effectiveHeight"),C=v(m(()=>{if(!n(t))return[];let S=[...n(t).data.rows];return n(s)&&(S=Ep(S,n(s))),n(a)&&(S=kp(S,n(a))),S}),"visibleRows"),z=v(m(()=>{var ze,Bt;if(!n(t))return{axisLimits:[0,1],plotRegion:[0,1],ticks:[0,.5,1]};const S=(ze=n(B)[0])==null?void 0:ze.column,X=n(B).length>0?n(d)??Math.max(n(H)*.25,200):0,Y=(Bt=S==null?void 0:S.options)==null?void 0:Bt.forest,yt=(Y==null?void 0:Y.scale)??"linear",Tt=(Y==null?void 0:Y.nullValue)??(w(yt,"log")?1:0),Xt=(Y==null?void 0:Y.effects)??[],bt=(Y==null?void 0:Y.point)??null,Et=(Y==null?void 0:Y.lower)??null,Dt=(Y==null?void 0:Y.upper)??null,Pt={...n(t).theme.axis};return Y!=null&&Y.axisRange&&Array.isArray(Y.axisRange)&&w(Y.axisRange.length,2)&&(Pt.rangeMin=Y.axisRange[0],Pt.rangeMax=Y.axisRange[1]),Y!=null&&Y.axisTicks&&Array.isArray(Y.axisTicks)&&(Pt.tickValues=Y.axisTicks),Vl({rows:n(t).data.rows,config:Pt,scale:yt,nullValue:Tt,forestWidth:X,pointSize:n(t).theme.shapes.pointSize,effects:Xt,pointCol:bt,lowerCol:Et,upperCol:Dt})}),"axisComputation"),E=v(m(()=>{var Et,Dt;if(!n(t))return er().domain([0,1]).range([0,100]);const S=(Et=n(B)[0])==null?void 0:Et.column,L=(Dt=S==null?void 0:S.options)==null?void 0:Dt.forest,X=w((L==null?void 0:L.scale)??"linear","log"),{plotRegion:Y}=n(z),Tt=n(B).length>0?n(d)??Math.max(n(H)*.25,200):0,Xt=yi,bt=Math.max(Tt-yi,Xt+50);if(X){const Pt=[Math.max(Y[0],.01),Math.max(Y[1],.02)];return Br().domain(Pt).range([Xt,bt])}return er().domain(Y).range([Xt,bt])}),"xScale");function N(S){const L=[];for(const X of S)X.isGroup?L.push(...N(X.columns)):L.push(X);return L}const M=v(m(()=>n(t)?N(n(t).columns):[]),"allColumns"),D=v(m(()=>n(t)?n(t).columns:[]),"allColumnDefs"),B=v(m(()=>{if(!n(t))return[];const S=[],L=n(M);for(let X=0;X<L.length;X++)w(L[X].type,"forest")&&S.push({index:X,column:L[X]});return S}),"forestColumns"),rt=v(m(()=>n(B).length>0),"hasExplicitForestColumns"),nt=v(m(()=>{if(!n(t))return[];const S=[],L=n(M),X=["forest","viz_bar","viz_boxplot","viz_violin"];for(let Y=0;Y<L.length;Y++)X.includes(L[Y].type)&&S.push({index:Y,column:L[Y]});return S}),"vizColumns"),et=v(m(()=>n(nt).length>0),"hasVizColumns"),wt=v(m(()=>{const S=new Map;if(!n(t))return S;for(const L of n(t).data.groups)S.set(L.id,L);return S}),"groupMap"),J=v(m(()=>{const S=new Map;if(!n(t))return S;for(const L of n(t).data.groups)S.set(L.id,L.depth);return S}),"groupDepthMap");function kt(S){return S?(n(J).get(S)??0)+1:0}function vt(S){if(!S)return!1;let L=S;for(;L;){const X=n(wt).get(L);if(!X)break;if(X.parentId&&n(o).has(X.parentId))return!0;L=X.parentId}return!1}const st=v(m(()=>{var Xt;if(!n(t))return[];const S=[],L=new Map;for(const bt of n(C)){const Et=bt.groupId??null;L.has(Et)||L.set(Et,[]),L.get(Et).push(bt)}const X=new Set;for(const bt of L.keys()){if(!bt)continue;let Et=bt;for(;Et;)X.add(Et),Et=(Xt=n(wt).get(Et))==null?void 0:Xt.parentId}function Y(bt){return n(t).data.groups.filter(Et=>w(Et.parentId??null,bt)&&X.has(Et.id))}function yt(bt){var Dt;let Et=((Dt=L.get(bt))==null?void 0:Dt.length)??0;for(const Pt of Y(bt))Et+=yt(Pt.id);return Et}function Tt(bt){if(bt){const Dt=n(wt).get(bt);if(!Dt||vt(bt))return;const Pt=n(o).has(Dt.id),ze=yt(bt);if(S.push({type:"group_header",group:{...Dt,collapsed:Pt},rowCount:ze,depth:Dt.depth}),Pt)return}for(const Dt of Y(bt))Tt(Dt.id);const Et=L.get(bt)??[];for(const Dt of Et)S.push({type:"data",row:Dt,depth:kt(Dt.groupId)})}return Tt(null),S}),"displayRows"),lt=v(m(()=>{var ae,At,ht;if(!n(t))return{totalWidth:n(H),totalHeight:n(b),tableWidth:300,forestWidth:400,headerHeight:36,rowHeight:28,plotHeight:300,axisHeight:32,nullValue:0,summaryYPosition:0,showOverallSummary:!1,rowPositions:[],rowHeights:[]};const S=n(t).theme.spacing.rowHeight,L=n(t).theme.spacing.headerHeight,Y=32+(n(t).theme.spacing.axisGap??Kn.DEFAULT_AXIS_GAP),Tt=n(B).length>0?n(d)??Math.max(n(H)*.25,200):0,Xt=n(H)-Tt,bt=!!n(t).data.overall,Et=[];for(const $t of n(st))w($t.type,"data")&&w((ae=$t.row.style)==null?void 0:ae.type,"spacer")?Et.push(S/2):Et.push(S);const Dt=[];let Pt=0;for(const $t of Et)Dt.push(Pt),Pt+=$t;const ze=Pt+(bt?S*1.5:0),Bt=(At=n(B)[0])==null?void 0:At.column,we=(ht=Bt==null?void 0:Bt.options)==null?void 0:ht.forest,ie=(we==null?void 0:we.scale)??"linear",Jt=(we==null?void 0:we.nullValue)??(w(ie,"log")?1:0);return{totalWidth:n(H),totalHeight:Math.max(n(b),ze+L+Y+n(t).theme.spacing.padding*2),tableWidth:Xt,forestWidth:Tt,headerHeight:L,rowHeight:S,plotHeight:ze,axisHeight:Y,nullValue:Jt,summaryYPosition:ze-S,showOverallSummary:bt,rowPositions:Dt,rowHeights:Et}}),"layout"),ct=v(m(()=>{if(!n(t))return 800;const S=100,L=150,X=250;let Y=0;for(const bt of n(M)){if(w(bt.type,"forest"))continue;const Et=n(g)[bt.id]??(w(typeof bt.width,"number")?bt.width:null)??S;Y+=Et}Y+=L;const Tt=n(B).length>0?n(d)??X:0,Xt=n(t).theme.spacing.padding*2;return Y+Tt+Xt}),"naturalContentWidth"),qt=v(m(()=>{if(n(x)<=0||n(I)<=0)return 1;const S=n(I)*n(u);return S>n(x)?n(x)/S:1}),"fitScale"),Yt=v(m(()=>n(h)?Math.max(.5,n(u)*n(qt)):Math.max(.5,Math.min(2,n(u)))),"actualScale"),dt=v(m(()=>n(h)&&n(qt)<1),"isClamped");function Ct(S){tt(t,{...S},!0),tt(o,new Set(S.data.groups.filter(L=>L.collapsed).map(L=>L.id)),!0),re()}function re(){if(!n(t)||w(typeof document,"undefined"))return;const S=n(t).theme.typography.fontFamily;let L=n(t).theme.typography.fontSizeBase;if(w(typeof L,"string")&&(L.endsWith("rem")||L.endsWith("em"))){const X=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;L=`${parseFloat(L)*X}px`}pt(L,S),document.fonts&&document.fonts.ready&&document.fonts.ready.then(()=>{pt(L,S,!0)})}function pt(S,L,X=!1){var ae,At;if(!n(t))return;const yt=document.createElement("canvas").getContext("2d");if(!yt)return;const Tt=n(t).theme.typography.headerFontScale??1.05;let Xt=S;if(w(typeof S,"string")){const ht=S.match(/^([\d.]+)(px|rem|em)$/);ht&&(Xt=`${parseFloat(ht[1])*Tt}${ht[2]}`)}const Et=`${n(t).theme.typography.fontWeightBold??600} ${Xt} ${L}`,Dt=`${S} ${L}`,Pt=(n(t).theme.spacing.cellPaddingX??10)*2,ze=(n(t).theme.spacing.groupPadding??8)*2;function Bt(ht){return ht.isGroup?ht.columns.flatMap(Bt):[ht]}function we(ht){return w(n(g)[ht.id],void 0,!1)?n(g)[ht.id]:w(typeof ht.width,"number")?ht.width:$n.MIN}function ie(ht){var Be,fe;if(w(typeof ht.width,"number")||de(ht.width,null,!1)&&w(ht.width,"auto",!1))return;let $t=0;ht.header&&(yt.font=Et,$t=Math.max($t,yt.measureText(ht.header).width)),yt.font=Dt;for(const Ut of n(t).data.rows){if(w((Be=Ut.style)==null?void 0:Be.type,"header")||w((fe=Ut.style)==null?void 0:fe.type,"spacer"))continue;const hn=Lc(Ut,ht);hn&&($t=Math.max($t,yt.measureText(hn).width))}const ge=$n.VISUAL_MIN[ht.type]??$n.MIN,De=Math.min($n.MAX,Math.max(ge,Math.ceil($t+Pt+Kn.RENDERING_BUFFER)));n(g)[ht.id]=De}function Jt(ht){if(ht.isGroup){for(const $t of ht.columns)Jt($t);if(ht.header){yt.font=Et;const $t=yt.measureText(ht.header).width+ze+Kn.RENDERING_BUFFER,ge=Bt(ht),De=ge.reduce((Be,fe)=>Be+we(fe),0);if($t>De&&ge.length>0){const Be=Math.ceil(($t-De)/ge.length);for(const fe of ge)n(g)[fe.id]=we(fe)+Be}}return}ie(ht)}for(const ht of n(t).columns)Jt(ht);if(n(t).data.labelCol){let ht=function(Ut){let hn=0;for(const yr of n(t).data.rows)w(yr.groupId,Ut)&&hn++;for(const yr of n(t).data.groups)w(yr.parentId,Ut)&&(hn+=ht(yr.id));return hn},$t=0;const ge=new Map;for(const Ut of n(t).data.groups)ge.set(Ut.id,Ut.depth);const De=Ut=>Ut?(ge.get(Ut)??0)+1:0;n(t).data.labelHeader&&(yt.font=Et,$t=Math.max($t,yt.measureText(n(t).data.labelHeader).width)),yt.font=Dt;const Be=parseFloat(S);for(const Ut of n(t).data.rows)if(Ut.label){const hn=De(Ut.groupId),yr=((ae=Ut.style)==null?void 0:ae.indent)??0,Q=(hn+yr)*Ae.INDENT_PER_LEVEL;let q=yt.measureText(Ut.label).width+Q;if((At=Ut.style)!=null&&At.badge){const Rt=String(Ut.style.badge),it=Be*kr.FONT_SCALE;yt.font=`${it}px ${L}`;const se=yt.measureText(Rt).width+kr.PADDING*2;q+=kr.GAP+se,yt.font=Dt}$t=Math.max($t,q)}yt.font=Et;for(const Ut of n(t).data.groups)if(Ut.label){const hn=Ut.depth*Ae.INDENT_PER_LEVEL,yr=yt.measureText(Ut.label).width,Q=`(${ht(Ut.id)})`,q=Be*.75;yt.font=`${q}px ${L}`;const Rt=yt.measureText(Q).width;yt.font=Et;const it=hn+ni.CHEVRON_WIDTH+ni.GAP+yr+ni.GAP+Rt+ni.SAFETY_MARGIN;$t=Math.max($t,it)}const fe=Math.min($n.LABEL_MAX,Math.max($n.MIN,Math.ceil($t+Pt+Kn.RENDERING_BUFFER)));n(g).__label__=fe}}function zt(S,L){tt(e,S,!0),tt(r,L,!0)}function Ve(S){const L=new Set(n(i));L.has(S)?L.delete(S):L.add(S),tt(i,L,!0)}function _t(S,L){const X=new Set(n(o));L??!X.has(S)?X.add(S):X.delete(S),tt(o,X,!0)}function Nt(S,L){tt(a,w(L,"none")?null:{column:S,direction:L},!0)}function he(S){tt(s,S,!0)}function Je(S){tt(c,S,!0)}function Xe(S,L){tt(f,S,!0),tt(l,L,!0)}function Ln(S,L){n(g)[S]=Math.max(40,L)}function ee(S){return n(g)[S]}function Ce(S){tt(d,w(S,null)?null:Math.max(100,S),!0)}function Ue(){return n(d)}function Oe(S){const L=Eg[S];!n(t)||!L||tt(t,{...n(t),theme:L},!0)}function qe(S){tt(u,Math.max(.5,Math.min(2,S)),!0),Ye()}function En(){tt(u,1),Ye()}function an(){qe(n(u)*1.1)}function jt(){qe(n(u)/1.1)}function Gt(S){tt(h,S,!0),Ye()}function Pe(){!n(x)||!n(I)||(tt(u,Math.min(2,Math.max(.5,n(x)/n(I))),!0),Ye())}function sr(S){tt(p,S,!0),Ye()}function _r(S){tt(_,S,!0),Ye()}function xn(S){tt(y,S,!0)}function $e(S,L){tt(x,S,!0),tt(T,L,!0)}function kn(S,L){tt(I,S,!0),tt(F,L,!0)}function Ur(S){tt(k,S,!0),S&&dn()}function wn(){return n(k)?`tabviz_zoom_${n(k)}`:null}function Ye(){const S=wn();if(S)try{const L={zoom:n(u),autoFit:n(h),maxWidth:n(p),maxHeight:n(_),version:2};localStorage.setItem(S,JSON.stringify(L))}catch{}}function dn(){const S=wn();if(S)try{const L=localStorage.getItem(S);if(L){const X=JSON.parse(L);w(X.version,2)&&(tt(u,X.zoom??1,!0),tt(h,X.autoFit??!0,!0),tt(p,X.maxWidth??null,!0),tt(_,X.maxHeight??null,!0))}}catch{}}function Fn(){tt(i,new Set,!0),tt(o,new Set,!0),tt(a,null),tt(s,null),tt(g,{},!0),tt(d,null),tt(u,1),tt(h,!0),tt(p,null),tt(_,null),tt(c,null),tt(f,null),tt(l,null)}const ro=v(m(()=>!n(f)||!n(t)?null:n(t).data.rows.find(S=>w(S.id,n(f)))??null),"tooltipRow");return{get spec(){return n(t)},get width(){return n(H)},get height(){return n(b)},get visibleRows(){return n(C)},get xScale(){return n(E)},get axisComputation(){return n(z)},get layout(){return n(lt)},get selectedRowIds(){return n(i)},get collapsedGroups(){return n(o)},get hoveredRowId(){return n(c)},get allColumns(){return n(M)},get allColumnDefs(){return n(D)},get forestColumns(){return n(B)},get hasExplicitForestColumns(){return n(rt)},get vizColumns(){return n(nt)},get hasVizColumns(){return n(et)},get displayRows(){return n(st)},get tooltipRow(){return n(ro)},get tooltipPosition(){return n(l)},get columnWidths(){return n(g)},get zoom(){return n(u)},get autoFit(){return n(h)},get actualScale(){return n(Yt)},get isClamped(){return n(dt)},get maxWidth(){return n(p)},get maxHeight(){return n(_)},get showZoomControls(){return n(y)},get naturalContentWidth(){return n(ct)},getRowDepth:kt,getColumnWidth:ee,getPlotWidth:Ue,getExportDimensions(){var ze,Bt,we,ie;const S=n(E).domain(),L=[],X={},Y={},yt=n(g).__label__??150;Y.__label__=yt;let Tt=yt;for(const Jt of n(M)){L.push(Jt.id),X[Jt.id]=Tt;let ae;w(Jt.type,"forest")?ae=n(g)[Jt.id]??(w(typeof Jt.width,"number")?Jt.width:null)??((Bt=(ze=Jt.options)==null?void 0:ze.forest)==null?void 0:Bt.width)??n(lt).forestWidth:ae=n(g)[Jt.id]??(w(typeof Jt.width,"number")?Jt.width:100),Y[Jt.id]=ae,Tt+=ae}const Xt=[];for(const Jt of n(B)){const ae=Jt.column,At=(we=ae.options)==null?void 0:we.forest,ht=Y[ae.id]??n(lt).forestWidth,$t=(At==null?void 0:At.scale)??"linear",ge=(At==null?void 0:At.nullValue)??(w($t,"log")?1:0);Xt.push({columnId:ae.id,xPosition:X[ae.id],width:ht,xDomain:S,clipBounds:n(z).axisLimits,ticks:n(z).ticks,scale:$t,nullValue:ge,axisLabel:(At==null?void 0:At.axisLabel)??"Effect"})}const bt=[],Et=[];let Dt=0;for(const Jt of n(st)){const ae=w(Jt.type,"data")&&w((ie=Jt.row.style)==null?void 0:ie.type,"spacer")?n(lt).rowHeight/2:n(lt).rowHeight;Et.push(Dt),bt.push(ae),Dt+=ae}const Pt=n(D).some(Jt=>Jt.isGroup)?2:1;return{columnOrder:L,columnWidths:Y,columnPositions:X,forestColumns:Xt,rowHeights:bt,rowPositions:Et,totalRowsHeight:Dt,headerHeight:n(lt).headerHeight,headerDepth:Pt,width:n(ct)*n(u),height:(n(F)||400)*n(u),naturalWidth:Tt,naturalHeight:Dt+n(lt).headerHeight+n(lt).axisHeight,forestWidth:n(lt).forestWidth*n(u),xDomain:S,clipBounds:n(z).axisLimits,scale:n(u)}},setSpec:Ct,setDimensions:zt,selectRow:Ve,toggleGroup:_t,sortBy:Nt,setFilter:he,setHovered:Je,setTooltip:Xe,setColumnWidth:Ln,setPlotWidth:Ce,setTheme:Oe,setZoom:qe,resetZoom:En,zoomIn:an,zoomOut:jt,setAutoFit:Gt,fitToWidth:Pe,setMaxWidth:sr,setMaxHeight:_r,setShowZoomControls:xn,setContainerDimensions:$e,setScalableNaturalDimensions:kn,setContainerElementId:Ur,resetState:Fn}}function Ep(t,e){return t.filter(r=>{const i=r.metadata[e.field]??r[e.field];switch(e.operator){case"eq":return w(i,e.value);case"neq":return w(i,e.value,!1);case"gt":return w(typeof i,"number")&&i>e.value;case"lt":return w(typeof i,"number")&&i<e.value;case"contains":return w(typeof i,"string")&&i.toLowerCase().includes(e.value.toLowerCase());default:return!0}})}function kp(t,e){const r=[...t],{column:i,direction:o}=e;return r.sort((a,s)=>{const c=a.metadata[i]??a[i],f=s.metadata[i]??s[i];let l=0;return w(typeof c,"number")&&w(typeof f,"number")?l=c-f:w(typeof c,"string")&&w(typeof f,"string")&&(l=c.localeCompare(f)),w(o,"desc")?-l:l}),r}function Yc(){let t=v(xt(null),"payload"),e=v(xt(null),"activeKey"),r=v(xt(""),"searchQuery"),i=v(xt(fr(new Set)),"expandedNodes"),o=v(xt(!1),"sidebarCollapsed"),a=v(xt(null),"userTheme"),s=v(xt(800),"containerWidth"),c=v(xt(600),"containerHeight");const f=216,l=44,g=Sp(),d=v(m(()=>n(t)?n(r).trim()?Zc(n(t).navTree,n(r).toLowerCase()):n(t).navTree:[]),"filteredNavTree"),u=v(m(()=>!n(e)||!n(t)?null:n(t).specs[n(e)]??null),"activeSpec"),h=v(m(()=>n(t)?Cp(n(t).navTree):[]),"allLeafKeys"),p=v(m(()=>n(e)?n(h).indexOf(n(e)):-1),"currentIndex"),_=v(m(()=>{var M;return((M=n(t))==null?void 0:M.splitVars)??[]}),"splitVars"),y=v(m(()=>n(o)?l:f),"effectiveSidebarWidth");function x(M){tt(t,M,!0);const D=Kc(M.navTree);D&&T(D)}function T(M){if(!n(t))return;tt(e,M,!0);const D=n(t).specs[M];D&&(g.setSpec(D),n(a)&&g.setTheme(n(a)),g.setDimensions(n(s)-n(y),n(c))),b(M)}function I(M,D){tt(s,M,!0),tt(c,D,!0),g.setDimensions(M-n(y),D)}function F(){tt(o,!n(o)),g.setDimensions(n(s)-n(y),n(c))}function k(M){tt(r,M,!0)}function H(M){const D=new Set(n(i));D.has(M)?D.delete(M):D.add(M),tt(i,D,!0)}function b(M){const D=M.split("__"),B=new Set;let rt="";for(let nt=0;nt<D.length-1;nt++)rt=rt?`${rt}__${D[nt]}`:D[nt],B.add(rt);tt(i,B,!0)}function C(){n(p)>=0&&n(p)<n(h).length-1&&T(n(h)[n(p)+1])}function z(){n(p)>0&&T(n(h)[n(p)-1])}function E(M){tt(a,M,!0),g.setTheme(M)}function N(){if(tt(a,null),n(e)&&n(t)){const M=n(t).specs[n(e)];M&&(g.setSpec(M),g.setDimensions(n(s)-n(y),n(c)))}}return{get payload(){return n(t)},get activeKey(){return n(e)},get activeSpec(){return n(u)},get activeStore(){return g},get navTree(){return n(d)},get searchQuery(){return n(r)},get expandedNodes(){return n(i)},get splitVars(){return n(_)},get sidebarWidth(){return n(y)},get sidebarCollapsed(){return n(o)},get userTheme(){return n(a)},setPayload:x,selectSpec:T,setDimensions:I,setSearch:k,toggleExpanded:H,toggleSidebar:F,selectNext:C,selectPrevious:z,setTheme:E,resetTheme:N}}function Zc(t,e){const r=[];for(const i of t){const o=i.label.toLowerCase().includes(e);if(i.children&&i.children.length>0){const a=Zc(i.children,e);(a.length>0||o)&&r.push({...i,children:a.length>0?a:i.children})}else o&&r.push(i)}return r}function Kc(t){for(const e of t){if(!e.children||w(e.children.length,0))return e.key;const r=Kc(e.children);if(r)return r}return null}function Cp(t){const e=[];function r(i){for(const o of i)!o.children||w(o.children.length,0)?e.push(o.key):r(o.children)}return r(t),e}const Qc=new Map,Tp={name:"tabviz_split",type:"output",factory:(t,e,r)=>{let i=null;const o=Yc();return t.id&&Qc.set(t.id,o),{renderValue:a=>{o.setPayload(a),o.setDimensions(e,r),t.style.height="100%",t.style.minHeight="400px",i&&Pu(i),i=Lu(Vn,{target:t,props:{store:o}}),window.Shiny&&t.id&&Np(t.id,o)},resize:(a,s)=>{o.setDimensions(a,s)}}}};function Np(t,e){wu(()=>{Mo(()=>{var i;const r=e.activeKey;(i=window.Shiny)==null||i.setInputValue(`${t}_active_plot`,r,{priority:"event"})}),Mo(()=>{var i;const r=e.activeStore.selectedRowIds;(i=window.Shiny)==null||i.setInputValue(`${t}_selected`,Array.from(r),{priority:"event"})})})}return w(typeof window,"undefined",!1)&&window.HTMLWidgets&&window.HTMLWidgets.widget(Tp),w(typeof window,"undefined",!1)&&window.Shiny&&window.Shiny.addCustomMessageHandler("tabviz-split-proxy",t=>{const e=Qc.get(t.id);e&&w(t.method,"selectPlot")&&w(typeof t.args.key,"string")&&e.selectSpec(t.args.key)}),Te.SplitForestPlot=Vn,Te.createSplitForestStore=Yc,Object.defineProperty(Te,Symbol.toStringTag,{value:"Module"}),Te})({});
